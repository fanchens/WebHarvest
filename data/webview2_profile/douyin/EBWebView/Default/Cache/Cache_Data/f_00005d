"use strict";(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["53885"],{334906:function(e,l,t){t.d(l,{x:function(){return h}}),t("927234");var n=t("567754"),r=t("302461"),i=t("596161"),o=t("441447"),a=t("983253"),d=t("379788"),s=t("509090"),u=t("520739"),c=t("878389"),v=t("872136"),m=t("56722");let f=(0,c._)((0,u._)({},m.D),{continuingRemindShow:{eventName:"continuing_remind_show",params:{scene:"video",enter_from_on_cellphone:"",previous_page_on_cellphone:"",is_landscape_status_on_cellphone:0,enter_method_on_cellphone:"",item_duration:0,aweme_type:"",item_id:"",from_device_id:"",from_user_id:"",from_app_name:""}}});var p=new v.h(f),g=t("257858");let h=function(e,l){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,r.o)(()=>{if(!e)return;let r=null,u=o.listen(o.EVENT.discoverInsertVideo,e=>{let{aweme_id:t,play_progress:n,from_device_id:o,record_type:a,url_source:u,enter_from_on_cellphone:c,previous_page_on_cellphone:v,is_landscape_status_on_cellphone:m,enter_method_on_cellphone:f,item_duration:h,from_user_id:_,from_app_id:y}=e;(0,d.m_)({awemeId:t,originType:g.F.DiscoverPage}).then(e=>{var d,g,w,I,C,S,x,P,E;if(0===e.statusCode&&e.detail){let S=e.detail;if(null==S?void 0:null===(d=S.chargeInfo)||void 0===d?void 0:d.is_charge_content){p.sendLog("continued_broadcast_receive_sync_message",{scene:"video",stage:"fetch_aweme_fail",stage_detail:"recommend",item_id:t,status_code:null==e?void 0:e.statusCode,log_pb:null==e?void 0:e.logPb,filter_reason:null==e?void 0:null===(w=e.filterDetail)||void 0===w?void 0:w.filterReason,filter_detail:null==e?void 0:null===(I=e.filterDetail)||void 0===I?void 0:I.detailMsg,is_charge_video:!!(null==S?void 0:null===(C=S.chargeInfo)||void 0===C?void 0:C.is_charge_content),from_app_id:y});return}S.continationInfo={playProgress:n,continationVideoAlreadyConsume:!1,fromDeviceId:o,recordType:a,urlSource:u,enterFromOnCellphone:c,previousPageOnCellphone:v,isLandscapeStatusOnCellphone:m,enterMethodOnCellphone:f,itemDuration:h,fromUserId:_},r=setTimeout(()=>{var e;null==l||null===(e=l.current)||void 0===e||e.call(l,S),s.F.info("正在播放手机端的视频")},300),p.sendLog("continuingRemindShow",{scene:"video",enter_from_on_cellphone:c,previous_page_on_cellphone:v,is_landscape_status_on_cellphone:m,enter_method_on_cellphone:f,item_duration:null==S?void 0:null===(g=S.video)||void 0===g?void 0:g.duration,aweme_type:null==S?void 0:S.awemeType,item_id:null==S?void 0:S.awemeId,from_device_id:o,from_user_id:_,from_app_name:i.AppID2AppName[(null!=y?y:"").toString()]});return}"app_continued"===u&&p.sendLog("continued_broadcast_receive_sync_message",{scene:"video",stage:"fetch_aweme_fail",stage_detail:"insert",item_id:t,status_code:null==e?void 0:e.statusCode,log_pb:null==e?void 0:e.logPb,filter_reason:null==e?void 0:null===(S=e.filterDetail)||void 0===S?void 0:S.filterReason,filter_detail:null==e?void 0:null===(x=e.filterDetail)||void 0===x?void 0:x.detailMsg,is_charge_video:!!(null==e?void 0:null===(E=e.detail)||void 0===E?void 0:null===(P=E.chargeInfo)||void 0===P?void 0:P.is_charge_content),from_app_id:y})})});if(t){let{url:e,query:l}=n.parseUrl(location.href),t=l.item_id;if("insert_discover"===l.feed_operation&&"string"==typeof t){var c;o.emit(o.EVENT.discoverInsertVideo,{aweme_id:t,play_progress:Number(null!==(c=(0,a.Rs)("play_progress"))&&void 0!==c?c:0),from_device_id:(0,a.Rs)("from_device_id"),record_type:(0,a.Rs)("record_type"),url_source:(0,a.Rs)("url_source"),enter_from_on_cellphone:(0,a.Rs)("enter_from_on_cellphone"),previous_page_on_cellphone:(0,a.Rs)("previous_page_on_cellphone"),is_landscape_status_on_cellphone:Number((0,a.Rs)("is_landscape_status_on_cellphone")),enter_method_on_cellphone:(0,a.Rs)("enter_method_on_cellphone"),item_duration:Number((0,a.Rs)("item_duration")),from_user_id:(0,a.Rs)("from_user_id"),from_app_id:Number((0,a.Rs)("from_app_id"))});let r=["item_id","feed_operation","play_progress","from_device_id","record_type","url_source","enter_from_on_cellphone","previous_page_on_cellphone","is_landscape_status_on_cellphone","item_duration","from_user_id"];(0,a.U$)(r),r.map(e=>delete l[e]),window.history.replaceState(null,"",n.stringifyUrl({url:e,query:l}))}}return()=>{null==u||u(),r&&clearTimeout(r)}},[e])}},251794:function(e,l,t){t.d(l,{b:function(){return g}}),t(874386);var n=t(88648),r=t(302653),i=t.n(r),o=t(873034),a=t(639111),d=t(615097),s=t(30601),u=t(132607),c=t(376978),v=t(47047),m=t(49279),f=t(334906),p=t(262589);let g=e=>{let{currentNumber:l,setCurrentNumber:t,awemeInfoList:r,setAwemeInfoList:g,modalAwemeInfo:h,abtestData:_,preloadReady:y,preloadAwemeList:w,tagId:I,isActiveTab:C,isCourseTab:S}=e,{awemeFeed:x}=(0,m.j)(),P=(0,n.useRef)(!1),E=(0,n.useRef)(""),b=(0,n.useRef)(!1),[T,k]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=null==_?void 0:_.mainHoverPreload;(e.action===u.MainHoverPreloadAction.click||e.action===u.MainHoverPreloadAction.hover)&&1===l&&e.cache===u.MainHoverPreloadCache.on&&p.Z.clearCache(null==h?void 0:h.awemeId)},[l]);let L=(0,o.d)(e=>{var n,i;x.dispatch("modalAwemeInfo",null),E.current=null==e?void 0:e.awemeId;let o=null==r?void 0:r[l],a=(null==o?void 0:o.awemeId)===(null==e?void 0:e.awemeId);g([e]),t(0),a&&"object"==typeof window&&(null===(n=window.player)||void 0===n?void 0:n.seek)&&"number"==typeof(null==e?void 0:null===(i=e.continationInfo)||void 0===i?void 0:i.playProgress)&&window.player.seek(e.continationInfo.playProgress)});(0,f.x)(!0,L);let A=(0,n.useRef)(0),M=(0,n.useRef)({isCourseFeed:S,offset:0,emptyFetchCount:0,ids:{[null==h?void 0:h.awemeId]:1}}),j=(0,n.useCallback)(async()=>{var e,l,t;if(C){let{statusCode:e,awemeList:t=[]}=await (0,a.bJ)({awemeId:E.current,count:(null==_?void 0:null===(l=_.jingxuanModalOpt)||void 0===l?void 0:l.count)||8,filterGids:r.map(e=>null==e?void 0:e.awemeId).join(",")||""});return{statusCode:e,awemeList:t}}if(M.current.isCourseFeed){let{statusCode:e,awemeList:l=[],hasMore:n,offset:r}=await (0,d.F)({tabId:"screen_course_page",offset:M.current.offset,size:6,tagIdList:"[0,0,0]",idList:Object.keys(M.current.ids).join(",")});0===e&&(M.current.offset=r,null==l||null===(t=l.map)||void 0===t||t.call(l,e=>{(null==e?void 0:e.awemeId)&&(M.current.ids[e.awemeId]=1)}));let i=0===e&&0===l.length&&n;if(M.current.emptyFetchCount=i?M.current.emptyFetchCount+1:0,M.current.isCourseFeed=n&&M.current.emptyFetchCount<3,M.current.emptyFetchCount<3)return{statusCode:e,awemeList:l}}let n=E.current;A.current+=1;let i=(null==_?void 0:null===(e=_.jingxuanModalOpt)||void 0===e?void 0:e.count)||8;c.H.jXSlide(_)&&1===A.current&&(i=2);let{statusCode:o,awemeList:u=[]}=await (0,s.fetchHomeModuleFeed)({useV2:1,moduleId:3003101,referType:10,count:i,seoFlag:0,targetGid:n,refreshIndex:A.current,tagId:I});return{statusCode:o,awemeList:u}},[r,C,I,_]);(0,n.useEffect)(()=>{g([h]),t(0),E.current=null==h?void 0:h.awemeId;let e=e=>{var l,t;let n=(0,v.Q5)()&&(e.metaKey&&"w"===e.key||e.metaKey&&"q"===e.key);if((null===(l=document.activeElement)||void 0===l?void 0:l.tagName)!=="INPUT"&&!n&&(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.contentEditable)!=="true")null==e||e.preventDefault()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),(0,n.useEffect)(()=>{var e;(null==_?void 0:null===(e=_.jingxuanModalOpt)||void 0===e?void 0:e.logicOptimize)?(w.length&&y&&g(e=>i()([...e,...w],"awemeId")),y&&k(!0)):w.length&&g(e=>i()([...e,...w],"awemeId"))},[w,T,_,g]),(0,n.useEffect)(()=>{r.length>0&&-1===l&&t(0)},[r]),(0,n.useEffect)(()=>{var e;let t=(null==_?void 0:null===(e=_.jingxuanModalOpt)||void 0===e?void 0:e.logicOptimize)?T:null==b?void 0:b.current;r.length-l<=2&&!P.current&&t&&(async()=>{P.current=!0;for(let e=0;e<3;e++){let{statusCode:e,awemeList:l=[]}=await j();if(0!==l.length){P.current=!1,0===e&&g(e=>i()([...e,...l],"awemeId"));break}}})()},[l,r,j,_]),(0,n.useEffect)(()=>{b.current=y},[y]),(0,n.useEffect)(()=>{h&&(g([h]),t(0),E.current=null==h?void 0:h.awemeId)},[h])}},262589:function(e,l,t){var n=t(134761);let r=new class e{setCache(e,l){let t=Date.now()+this._cacheTime;this._cache[e]={value:l,expireTime:t,loading:!1}}setCacheLaoading(e){let l=Date.now()+this._cacheTime;this._cache[e]={value:[],expireTime:l,loading:!0}}getCache(e){let l=this._cache[e];return l?l.expireTime<Date.now()?(this.clearCache(e),null):l:null}clearCache(e){delete this._cache[e]}clearAllCache(){this._cache={}}setCacheTime(e){this._cacheTime=6e4*e}constructor(e){(0,n._)(this,"_cacheTime",void 0),(0,n._)(this,"_cache",{}),this._cacheTime=e.cacheTime,this._cache={}}}({cacheTime:18e5});l.Z=r},613364:function(e,l,t){t.d(l,{K:function(){return c}});var n=t(520739),r=t(878389);t(675373);var i=t(563097),o=t(88648),a=t(338426),d=t(782580);let s=(0,a.ZP)(()=>Promise.all([t.e("92686"),t.e("8512"),t.e("70500"),t.e("64363"),t.e("29146"),t.e("61653")]).then(t.bind(t,847289)),{ssr:!1}),u=(0,a.ZP)(()=>Promise.all([t.e("25851"),t.e("48755"),t.e("99763")]).then(t.bind(t,546372)),{ssr:!1}),c=(0,o.forwardRef)((e,l)=>(0,d.useInLiveSearchRefactorAB)()?(0,i.jsx)(s,(0,r._)((0,n._)({},e),{ref:l})):(0,i.jsx)(u,(0,r._)((0,n._)({},e),{ref:l})))},207898:function(e,l,t){t.d(l,{G9:function(){return T},UU:function(){return b}}),t(874386);var n=t(563097),r=t(88648),i=t(713097),o=t.n(i),a=t(130162),d=t(909543),s=t(734123),u=t.n(s),c=t(784492),v=t(399242),m=t(725887),f=t(328155),p=t(265656),g=t(441447),h=t(308253),_=t(431053),y=t(95291),w=t(9352),I=t(56894),C=t(798644),S=t(575480),x=t(921359),P=t(420234);let E=[m.gI.PlayerCardInfo,m.gI.isVideoPlayed,m.gI.IsInModalVideo],b=()=>{let e=(0,r.useRef)(!1),{pathname:l}=(0,d.a)(),t=(0,r.useRef)(l),n=(0,r.useRef)(!1);return(0,f.Nr)(l)?n.current=!0:(n.current?(n.current=!1,e.current=t.current===l):e.current=!1,t.current=l),e},T=e=>{let{children:l,parentRouteClassName:t,checkIsActive:i}=e,{pathname:s}=(0,d.a)(),T=!0;i&&(T=i(s));let k=T&&(0,f.Nr)(s),L=(0,f.Nr)(s)||!T,A=(0,r.useRef)(),M=b(),j=(0,r.useRef)(s),N=(0,r.useRef)(s),F=(0,r.useMemo)(()=>(0,p.oS)(null==j?void 0:j.current)?v.lT.Recommend:(0,p.i8)(null==j?void 0:j.current)?v.lT.Follow:(0,p.z1)(null==j?void 0:j.current)?v.lT.Friend:(0,p.e2)(null==j?void 0:j.current)?v.lT.Modal:(0,p.h$)(null==j?void 0:j.current)?v.lT.User:(0,p.Q5)(null==j?void 0:j.current)?v.lT.AiSearch:void 0,[]);return L&&(N.current=s),(0,r.useLayoutEffect)(()=>{L&&g.emit(g.EVENT.videoPause,{isInChildRoute:!0})},[L]),(0,r.useEffect)(()=>()=>{if(k){let e=g.getPageScope(j.current);g.emit(g.EVENT.exitChildRoute,null,e),"child_route"!==e&&g.emit(g.EVENT.exitChildRoute,null,"child_route")}else g.emit(g.EVENT.enterChildRoute)},[k]),(0,r.useEffect)(()=>{if(L){let e=!1,l=l=>{e=!0};return window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l),e&&setTimeout(()=>{window.dispatchEvent(new Event("resize"))},20)}}},[L]),(0,r.useLayoutEffect)(()=>{if(L){let e=E.map(e=>m.Le.getConfig(e));return m.Le.setConfig(m.gI.SlideStartTime,{slideStartTime:0}),()=>{E.forEach((l,t)=>{m.Le.setConfig(l,e[t])}),m.Le.setConfig(m.gI.SlideStartTime,{slideStartTime:0})}}},[L]),(0,r.useLayoutEffect)(()=>{!M.current&&(0,P.S)()&&(0,h._)()},[]),(0,c.Z)(()=>{let e=window.location.pathname;if(!L)return(!M.current||m.Le.getConfig(m.gI.NeedExitFullScreenAndModal))&&(m.Le.setConfig(m.gI.NeedExitFullScreenAndModal,!1),(0,h._)()),()=>{!(0,f.dH)(location.pathname)&&!(0,f.yk)(location.pathname)&&(0,h._)()};{var l,t,n,r,i;let o=null===(l=m.Le.getConfig(m.gI.IsInModalVideo))||void 0===l?void 0:l.isInModal,a=F&&!o?null===(t=C.s.getLastRegisterPlayerIdByScene)||void 0===t?void 0:t.call(C.s,F):(0,y.OB)();a&&(0,y.wS)(a,!1);let d=null===u()||void 0===u()?void 0:null===(r=u().instManager)||void 0===r?void 0:null===(n=r.find)||void 0===n?void 0:n.call(r,e=>(null==e?void 0:e.playerId)===a);if((0,f.dH)(e)){null==d||null===(i=d.pause)||void 0===i||i.call(d);let e=C.s.getPlayerInfoMap();m.Le.setConfig(m.gI.TempPlayerMap,e),C.s.clearPlayerInfoMap()}return()=>{var l,t,n,r;let i=!1,d=null!==(t=m.Le.getConfig(m.gI.TempPlayerMap))&&void 0!==t?t:null;if(d){if(M.current)null===(r=C.s.setPlayerInfoMap)||void 0===r||r.call(C.s,d);else{let l=new Map;d.forEach((e,t)=>{if(e.scene===v.lT.Modal){var n;null===(n=C.s.unRegister)||void 0===n||n.call(C.s,{id:t})}else l.set(t,e)}),(0,f.dH)(e),null===(n=C.s.setPlayerInfoMap)||void 0===n||n.call(C.s,l)}m.Le.setConfig(m.gI.TempPlayerMap,null)}(0,f.dH)(e)&&!M.current&&o&&(i=!0);let s=F&&(!o||i)?null===(l=C.s.getLastRegisterPlayerIdByScene)||void 0===l?void 0:l.call(C.s,F):(0,y.OB)(),u=i&&s?s:a||s;u&&(0,y.wS)(u,!0);let c=setTimeout(()=>{let e=(0,y.OB)(),l=C.s.getPlayersByScene(F).find(l=>l.playerId===e),t=C.s.getAllPlayer().find(e=>(null==e?void 0:e.playerId)===u);if(t&&!(l&&e!==u)){var n;!(0,f.Nr)(N.current)&&t.once("play",()=>{(0,_.yr)({fromCache:1})}),null==t||null===(n=t.play)||void 0===n||n.call(t)}},500);m.Le.setConfig(m.gI.BackToCacheDelayPlayTimer,c)}}},[L]),(0,r.useEffect)(()=>{if(L)return;let e=A.current,l=e=>g.emit(g.EVENT.routePageScroll,e);return null==e||e.addEventListener("scroll",l),()=>{null==e||e.removeEventListener("scroll",l)}},[L]),(0,r.useEffect)(()=>{k&&g.emit(g.EVENT.childRouteRender)},[k]),(0,r.useEffect)(()=>{!m.Le.getConfig(m.gI.SvgDirectRender)&&m.Le.setConfig(m.gI.SvgDirectRender,!0)},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x.O,{active:!L,className:o()({[I.tt]:!L,[w.default.withoutscrollbar]:F===v.lT.User},t,I.ei,w.default.routeContainer),ref:A,children:l}),k&&(0,n.jsx)(S.w,{isActive:k,children:(0,n.jsx)("div",{className:o()(I.WV,I.ei,w.default.routeContainer,w.default.childRoute,{[w.default.enterChildRoute]:!T}),children:(0,n.jsx)(a.Outlet,{})})})]})}},250103:function(e,l,t){t.d(l,{C:function(){return m}});var n=t("520739"),r=t("878389"),i=t("563097"),o=t("77854"),a=t.n(o);t("88648");var d=t("207898"),s=t("302461"),u=t("441447"),c=t("56894");let v=()=>{(0,s.o)(()=>{let e=Array.from(document.querySelectorAll(`.${c.ei}`)).find(e=>e.getBoundingClientRect().height>0)||window;return u.emit(u.EVENT.globalScrollEl,e),u.listen(u.EVENT.sideBarShow,()=>{u.emit(u.EVENT.globalScrollEl,e)})},[])};function m(e,l,t){return function(o){v();let s=(0,i.jsx)(e,(0,n._)({},o));return(0,i.jsx)(d.G9,(0,r._)((0,n._)({checkIsActive:l,parentRouteClassName:t},a()),{children:s}))}}},172061:function(e,l,t){t.d(l,{P:function(){return h}});var n=t("563097"),r=t("88648"),i=t("713097"),o=t.n(i),a=t("828782"),d=t("66627"),s=t("385236"),u=t("115627"),c=t("979571"),v=t("520739"),m=t("878389");let f=(0,r.forwardRef)((e,l)=>(0,n.jsx)("svg",(0,m._)((0,v._)({width:18,height:18,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:(0,n.jsx)("path",{d:"M17.448 17.448a1.886 1.886 0 0 1-2.668 0L9 11.668l-5.78 5.78A1.886 1.886 0 1 1 .552 14.78L6.332 9 .552 3.22A1.886 1.886 0 1 1 3.22.552L9 6.332l5.78-5.78a1.886 1.886 0 1 1 2.668 2.668L11.668 9l5.78 5.78a1.886 1.886 0 0 1 0 2.668z",fill:"#fff"})}))),p=(0,r.forwardRef)((e,l)=>(0,n.jsx)("svg",(0,m._)((0,v._)({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:(0,n.jsx)("path",{d:"M16 4l-8 8.14L16 20",stroke:"#fff",strokeOpacity:".7",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",shapeRendering:"crispEdges"})})));var g=t("529840");let h=e=>{let{onClick:l,isClientMiniWin:t,isBackSvg:r=!1}=e,i=(0,a.DT)()&&(0,d.y)((0,a.FJ)().awemePcClient,">=","5.4.0"),v=!(r||i);return(0,n.jsxs)("div",{className:o()(g.default.container,"isDark",{[g.default.hide]:t},i&&g.default.clientHomeStyleWrap),onClick:l,children:[(0,n.jsx)("div",{className:g.default.circle}),i&&(0,n.jsx)(c.z,{className:o()(g.default.back),svg:(0,n.jsx)(s.Z,{style:{fontSize:"24px"}})}),r&&!i&&(0,n.jsx)(u.Z,{src:p,className:g.default.back,viewBox:"0 0 24 24"}),v&&(0,n.jsx)(u.Z,{src:f,className:g.default.close,viewBox:"0 0 18 18"})]})}},27091:function(e,l,t){t.r(l),t.d(l,{default:function(){return tK}});var n=t("520739"),r=t("878389"),i=t("368200");t("874386"),t("250440");var o=t("563097"),a=t("88648"),d=t("309931"),s=t("713097"),u=t.n(s),c=t("905003"),v=t("78776"),m=t("458343"),f=t("613480"),p=t("637632"),g=t("725887"),h=t("441447"),_=t("852664"),y=t("223526"),w=t("376978"),I=t("561756"),C=t("705171");let S=e=>{let{originAwemeInfo:l}=e,[t,n]=(0,a.useState)(""),[r,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(l);return{slideVideoTab:t,setSlideVideoTab:n,modalAwemeInfo:o,setModalAwemeInfo:d,globalIsSideBarShow:r,setIsSideBarShowFunc:i}};var x=t("877639"),P=t.n(x),E=t("302461"),b=t("262648"),T=t("737271"),k=t("679028"),L=t("953342"),A=t("487330");let M=e=>{let{abtestData:l,closeModal:t,container:n,isClientMiniWin:r=!1,modalEnterFrom:i}=e,{pipWindow:o}=(0,A.Iq)(e=>{let{pipWindow:l}=e;return{pipWindow:l}}),d=(0,a.useRef)(null),s=(0,a.useRef)([]),u=(0,a.useRef)(null),c=(0,a.useRef)(null),v=(0,a.useRef)(0);v.current=(0,_.vU)()?120:0;let m=(0,a.useCallback)((e,l)=>{let t=0,n=e.slice(Math.max(e.length-l,1));for(let e=0;e<n.length;e++)t+=n[e];return Math.ceil(t/l)},[]),f=(0,a.useCallback)(e=>{var l;null==e||null===(l=e.preventDefault)||void 0===l||l.call(e),null==e||e.stopPropagation(),d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{s.current=[]},400);let t=new Date().getTime(),n=e.wheelDelta||-e.deltaY||-e.detail,r=Math.max(-1,Math.min(1,n)),o=void 0!==e.wheelDeltaX||void 0!==e.deltaX,a=Math.abs(e.wheelDeltaX)<Math.abs(e.wheelDelta)||Math.abs(e.deltaX)<Math.abs(e.deltaY)||!o;s.current=[...s.current,v.current+Math.abs(n)];let f=t-u.current;u.current=t,f>400&&1===s.current.length&&(s.current=[,,].fill(s.current[0]),c.current=!1);let p=m(s.current,20),_=p>m(s.current,40);_&&!c.current&&a&&((0,g.Vv)(L.PagingType.scroll),r<0?(h.emit("changeNext",{from:"scroll",triggerFrom:i}),h.emit(h.EVENT.reportPlayNext,{clickFrom:"scroll"})):(h.emit("changePrev",{from:"scroll",triggerFrom:i}),h.emit(h.EVENT.reportPlayPrev,{clickFrom:"scroll"})),c.current=!0),!_&&c.current&&a&&(c.current=!1)},[]);return(0,a.useEffect)(()=>(null==n||n.addEventListener("wheel",f),()=>{null==n||n.removeEventListener("wheel",f)}),[n]),(0,a.useEffect)(()=>{if(o)return null==o||o.addEventListener("wheel",f),()=>{null==o||o.removeEventListener("wheel",f)}},[o,f]),(0,E.o)(()=>{let e=P()(e=>{var l,t,n,i;if(e.nativeEvent||(null==e?void 0:null===(l=e.target)||void 0===l?void 0:l.contentEditable)==="true")return;let o=e;(null===(t=e.data)||void 0===t?void 0:t.type)==="KEY_DOWN"&&(null===(n=e.data)||void 0===n?void 0:n.data)&&(o=null===(i=e.data)||void 0===i?void 0:i.data);let a=r?[b.bf.ArrowUp.keyCode]:[b.bf.ArrowUp.keyCode,b.bf.W.keyCode],d=r?[b.bf.ArrowDown.keyCode]:[b.bf.ArrowDown.keyCode,b.bf.S.keyCode],s=g.Le.getConfig(g.gI.DisableNextPre);!a.includes(o.keyCode)||o.shiftKey||s&&o.keyCode===b.bf.ArrowUp.keyCode?d.includes(o.keyCode)&&!o.shiftKey&&(!s||o.keyCode!==b.bf.ArrowDown.keyCode)&&((0,g.Vv)(L.PagingType.hotkey),h.emit("changeNext",{from:"keyboard"}),h.emit(h.EVENT.reportPlayNext,{clickFrom:"keyboard"})):((0,g.Vv)(L.PagingType.hotkey),h.emit("changePrev",{from:"keyboard"}),h.emit(h.EVENT.reportPlayPrev,{clickFrom:"keyboard"}))},500,{leading:!0,trailing:!1});return document.addEventListener("keydown",e),window.addEventListener("message",e),()=>{document.removeEventListener("keydown",e),window.removeEventListener("message",e)}},[l,r]),(0,a.useEffect)(()=>{let e=e=>{if(e.shiftKey||e.metaKey||e.ctrlKey||(0,T.r)())return;let l=g.Le.getConfig(g.gI.DisableExit);"Escape"===e.code&&!r&&!l&&t({click_method:"esc"}),e.preventDefault()};return k.k.bind("Escape",e),()=>{k.k.remove("Escape",e)}},[t,r]),null},j=e=>{let{currentNumber:l}=e,t=(0,a.useRef)(l),n=(0,a.useRef)(!0);return -1===t.current&&-1!==l&&(t.current=l),t.current!==l&&(n.current=!1),n.current};var N=t("235863");let F=e=>window.location.href.includes(e)||window.location.href.includes("user/self"),R=e=>{let{awemeInfoListRef:l,userInfo:t,currentNumber:n}=e,[r,i]=(0,a.useState)(N.Kw.NotShow);return(0,a.useEffect)(()=>{var e,r,o,a;let d=!1,s=l.current,u=async()=>{var e,l;let r=await (0,N.AH)({userId:null==t?void 0:null===(e=t.info)||void 0===e?void 0:e.uid,itemId:null===(l=s[n])||void 0===l?void 0:l.awemeId});!d&&!r.statusCode&&i(r.status)};return F(null==t?void 0:null===(e=t.info)||void 0===e?void 0:e.secUid)&&s[n]&&(null===(o=s[n])||void 0===o?void 0:null===(r=o.authorInfo)||void 0===r?void 0:r.uid)===(null==t?void 0:null===(a=t.info)||void 0===a?void 0:a.uid)&&u(),()=>{d=!0}},[n,t]),{asrState:r}};var D=t("509090"),V=t("289228"),W=t("713111");t("284961"),t("826893");var H=t("832052"),O=t("613364"),U=t("882421");let B=a.forwardRef((e,l)=>{var t,i;let{item:d,isActive:s,customProps:u,playNextFunc:v,playPrevFunc:m,swiper:f,onLivePlay:p,onLivePause:g,isShowGuide:_,useNewUserSoundGuide:y,modalEnterFrom:w}=e,{userContext:I,abtestData:C}=u,{userInfo:S}=I||{},{isLogin:x}=S||{};(0,a.useEffect)(()=>{if(s&&f)try{let e=(0,h.emitterListen)(f,"changeNext",v),l=(0,h.emitterListen)(f,"changePrev",m);return()=>{try{null==e||e(),null==l||l()}catch(e){}}}catch(e){}},[s,v,m,f]);let P=(0,a.useCallback)(()=>{p(d)},[d]),E=(0,a.useCallback)(()=>{g(d)},[d]),b=(0,a.useMemo)(()=>{var e,l,t,n;if(null==d?void 0:d.flvSrc)return d.flvSrc;let r=null==d?void 0:null===(e=d.cellRoom)||void 0===e?void 0:e.rawdata,i=null==r?void 0:null===(n=r.stream_url)||void 0===n?void 0:null===(t=n.flv_pull_url)||void 0===t?void 0:t[null==r?void 0:null===(l=r.stream_url)||void 0===l?void 0:l.default_resolution];return(null==i?void 0:i.includes("https"))?i:null==i?void 0:i.replace("http","https")},[d]);return(0,o.jsx)(O.K,(0,r._)((0,n._)({ref:l},d),{disableNewPlayer:w===c.a.WaterFall,modalEnterFrom:w,isShow:s,isActive:s,customProps:u,source:{url:d.authorInfo.url,userName:`@ ${d.authorInfo.remarkName||d.authorInfo.nickname}`},gameName:"",scale:3/4,showUserCountInTag:!0,disableLiveCoverBorder:!0,isLogReady:x,userInfo:S,isEnd:2!==d.status,abTestData:C,logParams:(0,n._)({},null!==(i=null==d?void 0:d.logParams)&&void 0!==i?i:{},(null==d?void 0:d.searchLogParams)?{search_params:null==d?void 0:d.searchLogParams}:{},null==u?void 0:null===(t=u.logParams)||void 0===t?void 0:t.live_log_params),onPlay:P,onPause:E,onDestroy:E,enableLiveInfo:!0,isModal:!0,isShowGuide:_,useNewUserSoundGuide:y,flvSrc:b}))}),G=e=>{let{item:l,videoRef:t}=e;return l.awemeType===H.e.LiveCard?(0,o.jsx)(B,(0,r._)((0,n._)({},e),{ref:t})):(0,o.jsx)(U.Z,(0,r._)((0,n._)({},e),{isMultiInstanceScene:!0,ref:t}))};t("675373");var K=t("338426"),z=t("87908"),Z=t("542246"),Y=t("172061"),$=t("251537"),q=t("774765"),J=t("133221");let Q=(e,l,t,n,r,i)=>{let[o,d]=(0,a.useState)(!0),[s,u]=(0,a.useState)(!1),{handleHiddenLog:c}=(0,J.s)(),[v,m]=(0,a.useState)((0,T.r)()),f=(0,a.useRef)(null),p=(0,a.useRef)(!1),{run:g}=(0,q.Z)(()=>{d(!0)},500,[],{trailing:!1,leading:!0}),{run:h}=(0,q.Z)(async()=>{d(p.current||!1)},3e3),_=()=>{p.current=!0},y=()=>{p.current=!1},[w,I]=(0,a.useState)(null);return(0,E.o)(()=>{if(r&&t){var l,n;let t=null==i?void 0:null===(n=i.current)||void 0===n?void 0:null===(l=n.getPlayerRoot)||void 0===l?void 0:l.call(n);!t&&(null==e?void 0:e.awemeType)!==H.e.LiveCard&&(t=document.querySelector(`#${r} [data-e2e="feed-active-video"] .basePlayerContainer`)),I(null!=t?t:null)}else I(null)},[e,l,r,t,i]),(0,E.o)(()=>{var e,l;if(!!w&&!!t)return w.addEventListener("mousemove",g),w.addEventListener("mousemove",h),null===(e=f.current)||void 0===e||e.addEventListener("mouseenter",_),null===(l=f.current)||void 0===l||l.addEventListener("mouseleave",y),()=>{var e,l;w.removeEventListener("mouseenter",_),w.removeEventListener("mouseleave",y),null===(e=f.current)||void 0===e||e.removeEventListener("mousemove",g),null===(l=f.current)||void 0===l||l.removeEventListener("mousemove",h)}},[w,t,e]),(0,E.o)(()=>{if(!w||!t)return;let e=()=>{m((0,T.r)())};return document.addEventListener("fullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("msfullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("msfullscreenchange",e)}},[t,w]),(0,a.useEffect)(()=>{d(!0),p.current=!1,t&&w&&h()},[t,e,n,v,w]),(0,a.useEffect)(()=>{u(o)},[o]),{isShowExtra:!w||s,extraRef:f,searchBarProps:{onHistoryClick:e=>{let{text:l}=e.currentTarget.dataset;return c(l)},onSearchClick:e=>c(e),onInputKeyDown:(e,l)=>{if("Enter"===(0,b.CS)(e))return c(l)}}}};var X=t("49279"),ee=t("609006");let el=(0,K.ZP)(()=>Promise.resolve().then(t.bind(t,180593)),{resolveComponent:e=>{let{SearchBar:l}=e;return l},ssr:!1}),et=(0,K.ZP)(()=>Promise.resolve().then(t.bind(t,366068)),{resolveComponent:e=>{let{AiSearchBar:l}=e;return l},ssr:!1}),en=(0,K.ZP)(()=>Promise.resolve().then(t.bind(t,366068)),{resolveComponent:e=>{let{AiSearchBarWithAiMiddlePage:l}=e;return l},ssr:!1}),er=(0,K.ZP)(()=>Promise.resolve().then(t.bind(t,366068)),{resolveComponent:e=>{let{AiSearchBarWithAiInput:l}=e;return l},ssr:!1}),ei=e=>{var l,t,r,i,d;let{isInnerFeed:s,modalInnerFeedCard:c,isClientMiniWin:v,refPlayer:m,onBack:f,onBackWithInnerMode:p,abtestData:_,awemeInfoList:y,currentNumber:I,modalEnterFrom:C,isSelf:S,userInfo:x,logParams:P,searchParams:E,slideVideoTab:T,currentAwemeInfo:k,autoOpenPip:L,containerId:M,fullScreenTarget:j}=e,N=(null==k?void 0:k.awemeType)===H.e.LiveCard,{handleHiddenLog:F}=(0,J.s)(),{supportAiTop1:R}=(0,A.Iq)(e=>{let{supportAiTop1:l}=e;return{supportAiTop1:l}}),D=(0,ee.V1)(),{awemeFeed:V}=(0,X.j)(),{isWebMiniWin:W}=(0,A.Iq)(e=>{let{isWebMiniWin:l}=e;return{isWebMiniWin:l}}),{isShowExtra:O,extraRef:U}=Q(k,null==m?void 0:null===(l=m.current)||void 0===l?void 0:l.getPlayer(),!W&&!v,s,M,m),B=(0,a.useMemo)(()=>"waterFall"===C,[C]),[G,K]=(0,a.useState)(!1);(0,a.useEffect)(()=>{var e;K(!!(null!==(e=g.Le.getConfig(g.gI.ImmersiveSwitchStatus))&&void 0!==e&&e))},[I]),(0,a.useEffect)(()=>{let e=h.listen(h.EVENT.ImmersiveSwitch,e=>{let{isOn:l}=e;l!==G&&K(!!l)});return()=>e()},[G]);let q=V.useValue("cardType",e=>[z.L.Author,z.L.Related,z.L.Mix,z.L.AwemeRelated,z.L.Series].includes(e)),ei=(0,a.useMemo)(()=>L?s||!!c||q:s||!!c,[L,s,c,q]),eo=(0,a.useMemo)(()=>{var e;return"general_search"===C?(0,n._)({},P,(null==y?void 0:null===(e=y[I])||void 0===e?void 0:e.logParams)||{}):void 0},[P,C,y,I]),ea="general_search"===C?(0,n._)({},P,(null==y?void 0:null===(t=y[I])||void 0===t?void 0:t.logParams)||{}):void 0,ed=(0,a.useCallback)(e=>{let{text:l}=e.currentTarget.dataset;return F(l)},[F]),es=(0,a.useCallback)((e,l)=>{if("Enter"===(0,b.CS)(e))return F(l)},[F]),eu=(0,a.useMemo)(()=>({awemeInfo:y[I],scene:"modal",modalEnterFrom:C}),[y,I,C]),ec=(0,a.useMemo)(()=>w.H.baseOpt(_),[_]);return v||W?null:(0,o.jsxs)("div",{ref:U,className:u()({[Z.default.extraTL]:B,[Z.default.extraShow]:B&&O}),children:[ei?(0,o.jsx)($.N,{positionFixed:!0,exitTextProps:{getCurrentTab:()=>{var e,l;return(null==m?void 0:null===(l=m.current)||void 0===l?void 0:null===(e=l.getCurTab)||void 0===e?void 0:e.call(l))||T},modalEnterFrom:C,isSelf:S,uidEquals:(null==y?void 0:null===(i=y[I])||void 0===i?void 0:null===(r=i.authorInfo)||void 0===r?void 0:r.uid)===(null==x?void 0:null===(d=x.info)||void 0===d?void 0:d.uid),awemeInfo:null==y?void 0:y[I]},onHandleReturn:p}):(0,o.jsx)(Y.P,{onClick:f,isClientMiniWin:v}),N||c&&!y[I]?null:(0,o.jsx)("div",{className:u()(Z.default.searchCt,"isDark",{[Z.default.hidden]:G}),children:(()=>{if((null==_?void 0:_.aiSearchAiInput)&&(null==_?void 0:_.aiSearchInputMiddleNew)&&R&&!D)return(0,o.jsx)(et,{customProps:{isModalVideo:!0,isSmoothInnerFeed:s,searchParams:E,logParams:ec?eo:ea},userInfo:x,abTestData:_,onSearchClick:ec?F:e=>F(e),onHistoryClick:ec?ed:e=>{let{text:l}=e.currentTarget.dataset;return F(l)},onInputKeyDown:ec?es:(e,l)=>{if("Enter"===(0,b.CS)(e))return F(l)},playerProps:ec?eu:{awemeInfo:y[I],scene:"modal",modalEnterFrom:C},fullScreenTarget:j});if(!(null==_?void 0:_.aiSearchAiInput)&&(null==_?void 0:_.aiSearchInputMiddleNew)&&R&&!D)return(0,o.jsx)(en,{customProps:{isModalVideo:!0,isSmoothInnerFeed:s,searchParams:E,logParams:ec?eo:ea},userInfo:x,abTestData:_,onSearchClick:ec?F:e=>F(e),onHistoryClick:ec?ed:e=>{let{text:l}=e.currentTarget.dataset;return F(l)},onInputKeyDown:ec?es:(e,l)=>{if("Enter"===(0,b.CS)(e))return F(l)},playerProps:ec?eu:{awemeInfo:y[I],scene:"modal",modalEnterFrom:C}});if((null==_?void 0:_.aiSearchAiInput)&&!(null==_?void 0:_.aiSearchInputMiddleNew)&&R&&!D)return(0,o.jsx)(er,{customProps:{isModalVideo:!0,isSmoothInnerFeed:s,searchParams:E,logParams:ec?eo:ea},userInfo:x,abTestData:_,onSearchClick:ec?F:e=>F(e),onHistoryClick:ec?ed:e=>{let{text:l}=e.currentTarget.dataset;return F(l)},onInputKeyDown:ec?es:(e,l)=>{if("Enter"===(0,b.CS)(e))return F(l)},playerProps:ec?eu:{awemeInfo:y[I],scene:"modal",modalEnterFrom:C},fullScreenTarget:j});else return(0,o.jsx)(el,{customProps:{isModalVideo:!0,isSmoothInnerFeed:s,searchParams:E,logParams:ec?eo:ea},userInfo:x,abTestData:_,onSearchClick:ec?F:e=>F(e),onHistoryClick:ec?ed:e=>{let{text:l}=e.currentTarget.dataset;return F(l)},onInputKeyDown:ec?es:(e,l)=>{if("Enter"===(0,b.CS)(e))return F(l)},playerProps:ec?eu:{awemeInfo:y[I],scene:"modal",modalEnterFrom:C}})})()})]})};t("429532");var eo=t("734123"),ea=t("982755"),ed=t("53659"),es=t("194236"),eu=t("399242"),ec=t("987475"),ev=t("580264"),em=t("338478"),ef=t("226683"),ep=t("320028"),eg=t("828782"),eh=t("504995"),e_=t("543159"),ey=t("749952"),ew=t("134585"),eI=t("489862"),eC=t("767449");let eS=e=>{let{player:l,awemeInfo:t,isActive:i,abtestData:o,modalEnterFrom:d}=e,s=c.a.WaterFall===d;(0,a.useEffect)(()=>{let e;if(!l||!i||!s)return;let a=!!(null==o?void 0:o.themeColorOptimize),d=()=>{(l.cumulateTime?l.cumulateTime:0)>15e3&&((0,es.VY)({info:{[ew.BW.CompletePlayTime]:!0},awemeId:null==t?void 0:t.awemeId,abData:0}),clearInterval(e))},u=()=>{if(a){let e=g.Le.getConfig(g.gI.JxOuterProgress)||{},l=(null==e?void 0:e[null==t?void 0:t.awemeId])||{},i=(null==l?void 0:l.startTime)||0,o=(null==l?void 0:l.duration)||0;g.Le.setConfig(g.gI.JxOuterProgress,(0,r._)((0,n._)({},e),{[null==t?void 0:t.awemeId]:{duration:o,startTime:i,progress:100,isWatchedEnd:!0}}))}if((null==t?void 0:t.awemeType)!==68)(0,es.VY)({info:{[ew.BW.Finish]:!0},awemeId:null==t?void 0:t.awemeId,abData:0})},c=()=>{var e,i;let o=null!==(e=null==l?void 0:l.currentTime)&&void 0!==e?e:0,a=null!==(i=null==l?void 0:l.duration)&&void 0!==i?i:0,d=g.Le.getConfig(g.gI.JxOuterProgress)||{},s=(null==d?void 0:d[null==t?void 0:t.awemeId])||{},u=!!(null==s?void 0:s.isWatchedEnd),c=a>0?Math.round(o/a*100):0;g.Le.setConfig(g.gI.JxOuterProgress,(0,r._)((0,n._)({},d),{[null==t?void 0:t.awemeId]:{isWatchedEnd:u,startTime:o,progress:u?100:c,duration:a}}))};return l.once(eC.Ku,u),a&&l.on(eC.MH,c),()=>{d(),l.off(eC.Ku,u),e&&clearInterval(e),a&&l.off(eC.MH,c)}},[l,t,i,o])},ex=e=>{let{awemeInfo:l,isActive:t,modalEnterFrom:n}=e;(0,a.useEffect)(()=>{var e;let{discoverPageCurrentVideoId:r,discoverPageVideoVV:i=0}=g.Le.getConfig(g.gI.LandingPageGuideInfo)||{};t&&(e=[c.a.Hot,c.a.WaterFall],e.includes(n))&&r!==l.awemeId&&g.Le.setConfig(g.gI.LandingPageGuideInfo,{discoverPageVideoVV:i+1,discoverPageCurrentVideoId:l.awemeId},!0)},[t,l.awemeId])};var eP=t("998415"),eE=t("62234"),eb=t("873034"),eT=t("607412"),ek=t("876877"),eL=t("623582"),eA=t("742740"),eM=t("335101");let ej=e=>{let{awemeInfo:l,isActive:t,logParams:r={}}=e||{},i=(0,eb.d)(r),o=(0,eM.n)();(0,a.useEffect)(()=>{if(t&&o&&l){let e=()=>{let e=`${ek.w3.modal.modal_first_video_play}_start`,t=`${ek.w3.modal.modal_first_video_play}_end`,r=(0,eT.bE)(e);if((null==r?void 0:r.length)>0){(0,eT.B1)({tag:t});let r=(0,eT.L8)(ek.w3.modal.modal_first_video_play,e,t);r>0&&eL.logInstance.sendLog("webPerfTiming",(0,n._)({enter_from:(0,eA.yW)(),aweme_id:null==l?void 0:l.awemeId,[ek.w3.modal.modal_first_video_play]:r},(null==i?void 0:i.current)||{})),(0,eT.tl)(e),(0,eT.tl)(t),(0,eT.tl)(ek.w3.modal.modal_first_video_play)}};if(o.isPlaying||o.currentTime>0){e();return}return o.on(eo.Events.AUTOPLAY_STARTED,e),o.on(eo.Events.AUTOPLAY_PREVENTED,e),()=>{o.off(eo.Events.AUTOPLAY_STARTED,e),o.off(eo.Events.AUTOPLAY_PREVENTED,e)}}},[l,o,t])},eN=e=>{let{awemeInfo:l,isActive:t,logParams:n={}}=e;return ej({awemeInfo:l,isActive:t,logParams:n}),null};var eF=t("804074"),eR=t("926116"),eD=t("91178"),eV=t("644071"),eW=t("957777"),eH=t("495437"),eO=t("30593"),eU=t("567754"),eB=t("815389"),eG=t("95291"),eK=t("798644");let ez=e=>{let l=(0,eM.n)(),{awemeInfo:t,modalEnterFrom:n,isActive:r}=e;return(0,a.useEffect)(()=>{eK.s.getAllPlayer().filter(e=>eK.s.getPlayerScene(e.playerId)!==eu.lT.Modal).forEach(e=>{var l;null===(l=e.pause)||void 0===l||l.call(e),e.config.autoplay=!1,e.autoplay=!1})},[]),(0,a.useEffect)(()=>{var e,t;if((null==l?void 0:l.setConfig)&&(null===(t=l.plugins)||void 0===t?void 0:null===(e=t.keyboard)||void 0===e?void 0:e.keyCodeMap)){let e=l.plugins.keyboard.keyCodeMap;"rightD"in e&&delete e.rightD,"leftA"in e&&delete e.leftA,l.setConfig({keyboard:{keyCodeMap:e}})}},[l]),(0,a.useEffect)(()=>{l&&r&&(0,eG.wS)(l.playerId,!0)},[l,r]),(0,a.useEffect)(()=>{var e,l,t;return sessionStorage.setItem("ModalRefresh","1"),null===(t=document)||void 0===t||null===(l=t.activeElement)||void 0===l||null===(e=l.blur)||void 0===e||e.call(l),()=>{let{url:e,query:l}=eU.parseUrl(location.href);delete l.modal_id,window.history.replaceState(null,"",eU.stringifyUrl({url:e,query:l}))}},[]),(0,a.useEffect)(()=>{if(t&&!(0,eg.DT)()&&"recommendUpdateWindow"!==n&&n!==c.a.FollowAuthorModal&&r){let{url:n,query:r}=eU.parseUrl(location.href);if(!r.modal_id){var e,l;(0,eB.t_)(ec.SessionStorageKeys.BackURl,null===(l=window)||void 0===l?void 0:null===(e=l.location)||void 0===e?void 0:e.pathname)}r.modal_id=null==t?void 0:t.awemeId,window.history.replaceState(null,"",eU.stringifyUrl({url:n,query:r}))}},[t,r,n]),(0,a.useEffect)(()=>{if(""===document.body.style.overflow)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[]),null};var eZ=t("675221"),eY=t("770268"),e$=t("907170"),eq=t("443073");let eJ=e=>{let{isActive:l,startTime:t,awemeInfo:n,isLogin:r=!1,isClientMiniWin:i=!1}=e,o=(0,eM.n)(),d=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{if(o&&l&&t>=3&&(0,eh.D)(n)&&r&&!i&&!d.current){let e=()=>{var e,l;null===(l=o.showPrompt)||void 0===l||l.call(o,{text:`上次播放至：${(0,e$.$y)(1e3*t)}`},{mode:"arrow",autoHide:!0,interval:3e3,preventScreenOverflow:!0,style:{left:`${1e3*t/(null==n?void 0:null===(e=n.video)||void 0===e?void 0:e.duration)*100}%`,bottom:"10px",padding:"8px 12px",borderRadius:"12px",backgroundColor:"#33343F",color:"#ffffff",fontSize:"12px",transition:"none",zIndex:"20"}}),d.current=!0};return o.once("play",e),()=>{o.off("play",e)}}if(o&&l&&t>=3&&r&&i){var e;null===(e=o.hidePrompt)||void 0===e||e.call(o)}},[o,l,t,n,r,i]),null},eQ=e=>{let l=(0,eq.N)();return(0,o.jsx)(V.k,{componentName:"WaterLaterContinueTip",Slardar:l,children:(0,o.jsx)(eJ,(0,n._)({},e))})};var eX=t("213794"),e0=t("508471"),e1=t("916103"),e3=t("270547"),e2=t("625617"),e8=t("135638"),e4=t("751403"),e7=t("954196"),e6=t("462471"),e5=t("765208"),e9=t("578925"),le=t("183762"),ll=t("259702"),lt=t("872068"),ln=t("567341"),lr=t("275740"),li=t("827053"),lo=t("820510"),la=t("36727"),ld=t("309063"),ls=t("38790"),lu=t("433012"),lc=t("443291"),lv=t("502449"),lm=t("929767"),lf=t("420863"),lp=t("513709"),lg=t("302759"),lh=t("914592"),l_=t("640829"),ly=t("529961"),lw=t("742758"),lI=t("140786"),lC=t("57196"),lS=t("734415"),lx=t("480272"),lP=t("52678"),lE=t("378056"),lb=t("455344"),lT=t("910443"),lk=t("544994"),lL=t("260224"),lA=t("466428"),lM=t("585543"),lj=t("739444"),lN=t("444493"),lF=t("713533"),lR=t("113925"),lD=t("736054"),lV=t("99459"),lW=t("135058"),lH=t("85517"),lO=t("67120"),lU=t("522728"),lB=t("645227"),lG=t("783983"),lK=t("200600"),lz=t("731851"),lZ=t("708334"),lY=t("63260"),l$=t("351087"),lq=t("177592"),lJ=t("492368"),lQ=t("357083"),lX=t("866402");t("340509"),t("368529");var l0=t("903220"),l1=t("148091"),l3=t("23171"),l2=t("680319"),l8=t("79139"),l4=t("801517"),l7=t("119715"),l6=t("757118"),l5=t("73528"),l9=t("568201");let te=e=>{let{config:l,isInitPlayer:t}=e,n=(0,eM.n)();return(0,a.useEffect)(()=>{if(t&&n){let e=setTimeout(()=>{var e,t;!(null===(e=n.plugins)||void 0===e?void 0:e.srplugin)&&(null===(t=l.plugins)||void 0===t?void 0:t.includes(l5.o))&&(n.config.srplugin=l.srplugin,n.registerPlugin(l5.o),setTimeout(()=>{n.emit(l9.B.RegisterMissingSrPlugin)}))});return()=>{clearTimeout(e)}}},[n,t]),null},tl=e=>{let l=(0,eq.N)();return(0,o.jsx)(V.k,{componentName:"RegisterMissingPlugin",Slardar:l,children:(0,o.jsx)(te,(0,n._)({},e))})};var tt=t("205825"),tn=t("930193"),tr=t("457309"),ti=t("816242"),to=t("427477"),ta=t("954270"),td=t("912377"),ts=t("316914"),tu=t("536844"),tc=t("314331");let tv=(0,a.memo)((0,a.forwardRef)((e,l)=>{var t,i,d,s,m,h,y,I,C,S,x,P,E,b,T,k,L,M,j,N,F,R;let{isActive:D,isNext:V,isPrev:W,isFirst:O,isLast:U,awemeInfo:B,nextAwemeInfo:G,prevAwemeInfo:K,playNextFunc:z,abtestData:Z,deleteCurrentSwiper:Y,toggleComment:$,onAvatarClick:q,fullScreenTarget:J,logParams:Q,videoToast:X,followHandler:ee,playPrevFunc:el,userInfo:et,dispatch:en,isAuthorCardShow:er,isShowRelatedCard:ei,moreBoxShowList:eC,videoHashtagClassName:eb,videoTags:eT,children:ek,disableAutoPlay:eL,shortCutFiltered:eA,positionBoxClassName:eM,customProps:ej,actionFollow:eU,actionUnFollow:eB,modalEnterFrom:eG,showPlaySwitch:eK=!0,isShowPageFullScreen:e$=!1,isShowCssFullScreenGuide:eq,isInnerFeed:eJ,onCooperationAuthorClick:l5,isShowCooperation:l9,sideBarShow:te,slardarInstance:tv,defaultIsPageFullScreen:tm,avatarTipText:tf,onRelatedClick:tp,onDislike:tg,activityCardDirectOpen:th,onActivityCardClick:t_=()=>{},onShopAnchorClick:ty=()=>{},onShopAnchorMouseEnter:tw=()=>{},onShopAnchorMouseLeave:tI=()=>{},onDouPlusClick:tC,onSodaClick:tS,isShowGuide:tx,notCanMixListen:tP,openSpecificTab:tE,index:tb,isFullScreen:tT,useNewUserSoundGuide:tk,isMultiInstanceScene:tL,isUpperFeed:tA,isRevisitStart:tM,startTime:tj,chapterProps:tN,setContainerPlayer:tF,reuseConfig:tR,recommendTagProps:tD,canShowListenVideo:tV,listenFeedNextAwemeInfo:tW,listenFeedPrevAwemeInfo:tH,hideModalWhenPip:tO,setHideModalByPip:tU,modalClose:tB,aiNoteProps:tG,isShowAdCard:tK,isShowShopSideCard:tz,appendPlayerConfig:tZ,LiveSliderCard:tY,disableShortCut:t$,isAdShortCut:tq,isShowAiCard:tJ,sideCardContext:tQ}=e,tX=(0,a.useRef)(null),{isMainland:t0,isWebMiniWin:t1,pipWindow:t3,isListenVideoMiniWin:t2,fullScreenQuestionVars:{isShowingQuestion:t8}={isShowingQuestion:!1}}=(0,A.Iq)(e=>{let{isMainland:l,isWebMiniWin:t,pipWindow:n,isListenVideoMiniWin:r,fullScreenQuestionVars:i}=e;return{isMainland:l,isWebMiniWin:t,pipWindow:n,isListenVideoMiniWin:r,fullScreenQuestionVars:i}}),{hasChapterBar:t4}=(0,lN.W)(Z,B,null===(t=tX.current)||void 0===t?void 0:t.player),{isClientMiniWin:t7}=(0,a.useContext)(f.C),t6=(0,eg.DT)(),[t5,t9]=(0,a.useState)(null);(null===(i=tX.current)||void 0===i?void 0:i.player)&&(tX.current.player.modalEnterFrom=eG,tX.current.player.disableAutoPlay=eL,tX.current.player.isShowPageFullScreen=e$);let ne=(0,a.useMemo)(()=>t1||t7||t2,[t1,t7,t2]);(0,a.useEffect)(()=>{if(!tV&&t2){let e=td.e.getPipWindow({scene:v.d.ListenVideo});e&&e.close()}},[t2]);let{enablePip:nl}=(0,lO.$)({abtestData:Z,enterFrom:eG,awemeInfo:B});ex({isActive:D,awemeInfo:B,modalEnterFrom:eG});let{noPaidVideo:nt}=(0,lU.B)({awemeInfo:B});(0,lB.u)({awemeInfo:B,player:null===(d=tX.current)||void 0===d?void 0:d.player});let nn=(0,eh.D)(B),{isDanmuIcon:nr,hideList:ni,isChapterIcon:no,chapterMaxWidth:na,isAiNoteIcon:nd}=(0,lG.Cy)({isActive:D,abtestData:Z,player:null===(s=tX.current)||void 0===s?void 0:s.player,hasChapter:t4,hasAiNote:null==tG?void 0:tG.useable,showInnerAutoplay:eJ&&!nt,showAutoPlay:!eL&&!nt,showSubtitles:!!(null==B?void 0:B.claInfo),showFakeScreen:(null==B?void 0:B.awemeType)!==H.e.Note,showPlayBackRatio:(null==B?void 0:B.awemeType)!==H.e.Note,showWatchLater:nn,isMiniWin:ne});(0,lK.j)({player:null==tX?void 0:null===(m=tX.current)||void 0===m?void 0:m.player,isActive:D,abValue:Z}),(0,lz._)({awemeInfo:B,prevAwemeInfo:K,isInnerFeedModel:eJ&&D}),(0,lZ.V)({awemeInfo:B}),(0,l8.g)({player:null==tX?void 0:null===(h=tX.current)||void 0===h?void 0:h.player,awemeInfo:B}),(0,l4.G)({player:null==tX?void 0:null===(y=tX.current)||void 0===y?void 0:y.player,awemeInfo:B,scene:"pc_web_mix_aweme",abtestData:Z}),(0,a.useImperativeHandle)(l,()=>{var e;return{getPlayer:()=>tX.current.getPlayer(),player:null===(e=tX.current)||void 0===e?void 0:e.player,getPlayerRoot:()=>{var e,l;return null===(e=(l=tX.current).getPlayerRoot)||void 0===e?void 0:e.call(l)}}}),(0,lY.D)({awemeInfo:B,isActive:D});let ns=(0,a.useMemo)(()=>{let e={isModal:!0},l=(0,lF.YO)({abtestData:Z,awemeInfo:B,isInnerFeed:eJ,modalEnterFrom:eG,isModalVideo:!0});Object.assign(e,(0,lj.k)({awemeInfo:B,abtestData:Z,enableSr:l}),(0,l0.QF)({awemeInfo:B,abtestData:Z,enableSr:l})),(0,lR.Zf)({config:e,awemeInfo:B,abtestData:Z}),(0,lD.LX)({config:e,awemeInfo:B,abtestData:Z,isMultiInstanceScene:tL}),(0,lF.nq)({config:e,abtestData:Z,enableSr:l}),e.startTime=(0,eD.v)(B.awemeId),e.pip&&!1===[c.a.Im,c.a.Search,c.a.GeneralSearch].includes(eG)&&(e.pip.showIcon=nl),[c.a.GeneralSearch,c.a.Search].includes(eG)&&!eJ&&(e.progressDot=(0,e_.x)(null==B?void 0:B.videoAbstract));try{(null==e?void 0:e.mp4encryptplayer)&&(null==tZ?void 0:tZ.mp4encryptplayer)&&Object.assign(e.mp4encryptplayer,tZ.mp4encryptplayer),(null==e?void 0:e.DASHPlugin)&&(null==tZ?void 0:tZ.DASHPlugin)&&Object.assign(e.DASHPlugin,tZ.DASHPlugin)}catch(e){}return e},[B,Z,eG,eJ,nl,eG,tZ]),nu=(0,a.useMemo)(()=>(0,ea.Jt)(B),[B]),nc=(0,a.useMemo)(()=>(0,ea.gc)(B),[B]),nv=(0,a.useMemo)(()=>{var e;return[...(null==eC?void 0:eC.notInterestingIcon)?[]:[null===(e=ed.getShortcut().dislike)||void 0===e?void 0:e.badgeText],...eA||[]]},[null==eC?void 0:eC.notInterestingIcon,eA]),nm=(0,a.useCallback)(()=>{c.a.WaterFall===eG&&(0,es.VY)({info:{[ew.BW.Finish]:!0},awemeId:null==B?void 0:B.awemeId,abData:0})},[Z,eG]);(0,l$.O)({player:null===(I=tX.current)||void 0===I?void 0:I.player,isActive:D,awemeInfo:B,abtestData:Z,isWebMiniWin:t1}),(0,lq.w)({player:null===(C=tX.current)||void 0===C?void 0:C.player,isActive:D,awemeInfo:B,abtestData:Z,isInnerFeed:eJ}),(0,lJ.U)({config:ns,isActive:D,awemeInfo:B,player:null===(S=tX.current)||void 0===S?void 0:S.player}),(0,lQ.Q)({player:null===(x=tX.current)||void 0===x?void 0:x.player,isActive:D,awemeInfo:B,abtestData:Z,isSliderVideo:!0,isKeyWorkCancalLike:!0,shortcutExclude:[],isClientMiniWin:t7,pipWindow:t3,isLogin:null==et?void 0:et.isLogin}),eS({player:null===(P=tX.current)||void 0===P?void 0:P.player,isActive:D,awemeInfo:B,abtestData:Z,modalEnterFrom:eG});let nf=(0,a.useRef)(!1),{idlCallBackFlag:np}=(0,lX.o)({isActive:V,once:!0}),ng=(0,a.useMemo)(()=>{if(w.H.delayJXCreateNextVideo(Z))return!!nf.current||D||W||V&&np&&1!==tb;return D||W||V},[D,W,V,np]);nf.current=ng;let nh=(0,p.x)(),{anchorList:n_,hasJingxuanActivity:ny}=(0,tn.e)({abtestData:Z,awemeInfo:B}),nw=!ny&&(0,ti.$)({abTestData:Z,awemeInfo:B});(0,ts.M)({awemeInfo:B,player:null==tX?void 0:null===(E=tX.current)||void 0===E?void 0:E.player,noPaidVideo:nt,isInnerFeed:eJ});let{listenVideoDisablePrev:nI,listenVideoDisableNext:nC}=(0,l7.T)({isAuthorCardShow:er,isFirst:O,isLast:U,isShowRelatedCard:ei,canUseListenFeed:eG===c.a.WaterFall,prevAwemeInfo:K,nextAwemeInfo:G,listenFeedNextAwemeInfo:tW,listenFeedPrevAwemeInfo:tH,isInnerFeed:eJ,isActive:D}),{scene:nS,reuseId:nx}=null!=tR?tR:{},nP=!(tt.YY.checkIsReuseWithId(nS,nx)&&nx===(null==B?void 0:B.awemeId))&&!O&&eG===c.a.WaterFall,nE=(null==Z?void 0:Z.reuseVideoDiscover)&&nP?eE.Y:eP.f,nb=(0,a.useMemo)(()=>{var e;return(null===(e=window.__QUICK_PLAYER)||void 0===e?void 0:e.playerId)&&window.__QUICK_PLAYER.playerId===(null==t5?void 0:t5.playerId)},[t5]),nT=eG===c.a.WaterFall?null===(b=g.Le.getConfig(g.gI.JxOuterProgress))||void 0===b?void 0:b[null==B?void 0:B.awemeId]:{},nk=eG===c.a.WaterFall&&!!((null==nT?void 0:nT.isWatchedEnd)||(null==nT?void 0:nT.progress)),nL=(0,a.useMemo)(()=>(0,r._)((0,n._)({},Q),{is_theme_progress_bar:nk?"1":"0"}),[Q,nk]);return(0,a.useEffect)(()=>{var e,l,t;let n=null===(e=tX.current)||void 0===e?void 0:e.player;if(n&&(nb||tt.YY.checkIsReusePlayer(null==tR?void 0:tR.scene,null==tR?void 0:tR.reuseId,n))){let e=null==n?void 0:null===(t=n.root)||void 0===t?void 0:null===(l=t.closest)||void 0===l?void 0:l.call(t,".basePlayerContainer");e&&eo.Util.addClass(e,"reusePlayer")}},[nb,tR,tX.current]),(0,tc.O)({abtestData:Z,player:null==tX?void 0:null===(T=tX.current)||void 0===T?void 0:T.player,scene:eu.lT.Modal,awemeInfo:B,isActive:D,refPlayer:tX}),(0,o.jsxs)(nE,{xgplayerConfig:ns,isInitPlayer:ng,style:(0,n._)({height:"100%",width:"100%"},t2?{display:"none"}:{}),className:u()(eI.default.container,"chapterPlayerStyle","modalPlayer","lowPopup",[c.a.GeneralSearch,c.a.Search].includes(eG)?"searchModal":""),ref:tX,scene:eu.lT.Modal,onReady:e=>{t9(e)},slardarInstance:tv,reuseConfig:tR,setContainerPlayer:tF,abtestData:Z,children:[(0,o.jsx)(l1.V,{awemeInfo:B,isActive:D,timeout:(0,_.b_)()?4e3:2e3,isFirst:!0}),(0,o.jsx)(eN,{awemeInfo:B,isActive:D,logParams:nL}),(0,o.jsx)(eW.p,{scene:eu.lT.Modal,isActive:D}),(0,o.jsx)(eD.t,{awemeInfo:B,player:null===(k=tX.current)||void 0===k?void 0:k.player,isActive:D}),(0,o.jsxs)(eH.n,{isActive:D,controlHeight:eu.fp.MidHigh,position:"right",awemeInfo:B,className:(0,r._)((0,n._)({},eM),{right:u()(null==eM?void 0:eM.right,{fullscreenModal:tT})}),abtestData:Z,children:[eK&&!t7&&(0,o.jsx)(eO.I,{playNextFunc:z,playPrevFunc:el,disablePrev:O&&!(er||ei)||(er||ei)&&!K,disableNext:U&&!(er||ei)||(er||ei)&&!G,className:u()(eI.default.playSwitchContainer,"filter-bg","activity"!==eG||tA?"":eI.default.playSwitchContainerHidden)}),!t7&&(w.H.newInteractionOpt(Z)?(0,o.jsx)(eV.InteractionNew,{canShowListenVideo:tV,playPrevFunc:el,playNextFunc:z,listenVideoDisableNext:nC,listenVideoDisablePrev:nI,hideModalWhenPip:tO,setHideModalByPip:tU,modalClose:tB,actionFollow:eU,actionUnFollow:eB,onDouPlusClick:tC,awemeInfo:B,toggleComment:$,loginUserInfo:et,loginDispatch:en,deleteCurrentSwiper:Y,fullScreenTarget:J,onAvatarClick:q,abtestData:Z,videoToast:X,isActive:D,followHandler:ee,reportExtraParams:nL,moreBoxShowList:eC,onRelatedClick:tp,canShowAvatarFollowBtn:!nc,canShowAvatarTip:!nc,showMusicDetail:!(0,ea.gc)(B),avatarTipText:tf,onDislike:tg,isShowAiCard:tJ,recommendTriggered:null==tD?void 0:tD.recommended,showRecommendToFriend:!!tD,isSearchPlayer:"general_search"===eG,from:[c.a.GeneralSearch,c.a.Search].includes(eG)?"search":void 0}):(0,o.jsx)(eV.Interaction,{canShowListenVideo:tV,playPrevFunc:el,playNextFunc:z,listenVideoDisableNext:nC,listenVideoDisablePrev:nI,hideModalWhenPip:tO,setHideModalByPip:tU,modalClose:tB,actionFollow:eU,actionUnFollow:eB,onDouPlusClick:tC,awemeInfo:B,toggleComment:$,loginUserInfo:et,loginDispatch:en,deleteCurrentSwiper:Y,fullScreenTarget:J,onAvatarClick:q,abtestData:Z,videoToast:X,isActive:D,followHandler:ee,reportExtraParams:nL,moreBoxShowList:eC,onRelatedClick:tp,canShowAvatarFollowBtn:!nc,canShowAvatarTip:!nc,showMusicDetail:!(0,ea.gc)(B),avatarTipText:tf,onDislike:tg,isShowAiCard:tJ,recommendTriggered:null==tD?void 0:tD.recommended,showRecommendToFriend:!!tD,isSearchPlayer:"general_search"===eG,from:[c.a.GeneralSearch,c.a.Search].includes(eG)?"search":void 0}))]}),(0,o.jsx)(ez,{awemeInfo:B,isActive:D,modalEnterFrom:eG}),!(0,ey.B)(B)&&(0,o.jsx)(eZ._,{awemeInfo:B,isActive:D,controlHeight:eu.fp.MidHigh,showImg:!(0,_.G6)(),abtestData:Z}),(null==B?void 0:null===(L=B.video)||void 0===L?void 0:L.duration)>18e4&&(0,o.jsx)(eY.S,{awemeInfo:B,isActive:D,isLogin:null==et?void 0:et.isLogin,startTime:tM?tj:0,isClientMiniWin:t7}),eG===c.a.UserWatchLater&&(0,o.jsx)(eQ,{awemeInfo:B,isActive:D,isLogin:null==et?void 0:et.isLogin,startTime:tj,isClientMiniWin:t7}),nl&&(0,o.jsx)(eF._,{isActive:D,awemeInfo:B,abtestData:Z,hideModalWhenPip:tO,setHideModalByPip:tU,modalClose:tB,isReusePlayer:(null==Z?void 0:Z.reuseVideoDiscover)&&nP,logParams:nL}),(0,o.jsx)(eX.V,{awemeInfo:B,isActive:D}),(null==B?void 0:null===(M=B.chargeInfo)||void 0===M?void 0:M.is_charge_content)&&(0,o.jsx)(e0.V,{awemeInfo:B,isActive:D,isMiniWin:ne,isShowReplay:!ne}),eL?(0,o.jsx)(e1.r,{}):(0,o.jsxs)(o.Fragment,{children:[eJ||nt?null:(0,o.jsx)(e3.kL,{isActive:D,awemeInfo:B,playNextFunc:z,customLocalStorage:[c.a.Search,c.a.GeneralSearch].includes(eG)?ec.LocalStorageKeys.SearchHorizontalAutoPlay:void 0,ablePlayNext:!(U&&!(er||ei)||(er||ei)&&!G),shortcutDisabled:!1,abtestData:Z,defaultVal:1}),eJ&&!nt?(0,o.jsx)(e2.Ot,{isActive:D,awemeInfo:B,playPrevFunc:el,playNextFunc:z,ablePlayPrev:!((er||ei)&&!K),ablePlayNext:!((er||ei)&&!G),hide:ni.some(e=>e[0]===lG.p7.InnerAutoPlayer),abtestData:Z}):null]}),!nt&&(0,o.jsx)(e8.SD,{isActive:D,awemeInfo:B,abtestData:Z,isInnerFeed:eJ,hide:ni.some(e=>e[0]===lG.p7.Clear),scene:eu.lT.Modal}),(0,o.jsx)(e4.SE,{isActive:D,awemeInfo:B,abtestData:Z}),(0,o.jsx)(tl,{isInitPlayer:ng,config:ns}),(0,o.jsx)(e7.k,{isActive:D,onVolumeShortCutChange:()=>{var e;(0,lV.t)(null===(e=tX.current)||void 0===e?void 0:e.player)}}),(0,o.jsx)(e6.g,{isActive:D,abtestData:Z,awemeInfo:B,scene:"modal"}),(0,o.jsx)(e5.b,{isActive:D}),!(0,lW.GP)(B)&&(w.H.baseOpt(Z)?(0,o.jsx)(e9.Z,{awemeInfo:B,userInfo:et,isActive:D,logParams:nL,isFirst:O,isNext:V,isPrev:W}):(0,o.jsx)(e9.Z,{awemeInfo:B,userInfo:et,isActive:D,logParams:nL,isFirst:O,isNext:V,isPrev:W})),(0,o.jsx)(le.L,{awemeInfo:B,isActive:D,abtestData:Z}),(0,o.jsx)(ll.E,{isActive:D,awemeInfo:B,abtestData:Z,userInfo:et,deleteCurrentSwiper:Y,config:ns,isNext:V,currentIndex:tb,reuseConfig:tR,startTime:tM?tj:0}),(0,o.jsx)(lt.h,{isActive:D}),(0,o.jsx)(ln.P,{isActive:D,awemeInfo:B,abtestData:Z,userInfo:et,enablePip:nl}),ne?null:(0,o.jsx)(lr.t,{isInnerFeed:eJ,isModalVideo:!0,modalEnterFrom:eG,isActive:D,userInfo:et,dispatch:en,abtestData:Z,awemeInfo:B,player:null==tX?void 0:null===(j=tX.current)||void 0===j?void 0:j.player,isClientMiniWin:t7}),tk?(0,o.jsx)(l2._q,{isActive:D,awemeInfo:B,isShowGuide:tx,abtestData:Z}):(0,o.jsx)(li.x,{isActive:D,awemeInfo:B,abtestData:Z,isShowGuide:tx,scene:"recommend"}),nn&&eG!==c.a.UserWatchLater&&(0,o.jsx)(lo.vq,{isActive:D,awemeInfo:B,isLogin:null==et?void 0:et.isLogin,loginDispatch:en,toast:X,logParams:nL,abtest:Z}),nu&&(0,o.jsx)(la.FeedbackAd,{awemeInfo:B,toast:X,deleteCurrentSwiper:Y,abtestData:Z}),(0,o.jsx)(ld.o,{isActive:D,awemeInfo:B}),(null==B?void 0:B.awemeType)===H.e.Note?(0,o.jsx)(ls.PictureMode,{isActive:D,awemeInfo:B,logParams:nL,playNextFunc:z,abTestData:Z,ablePlayNext:!(U&&!(er||ei)||(er||ei)&&!G),playPrevFunc:el,ablePlayPrev:!(O&&!(er||ei)||(er||ei)&&!K),isClientMiniWin:t7,isShowSideBar:te,onPlayFinish:nm}):null,(0,o.jsx)(lu.q,{isActive:D,abtestData:Z,awemeInfo:B,isInnerFeed:eJ}),nu&&(0,o.jsx)(lc.K,{awemeInfo:B,isActive:D}),(0,o.jsx)(lv.PlayBackSetting,{disable:nu,isActive:D,awemeInfo:B,logParams:nL,loginBlock:!(null==et?void 0:et.isLogin)&&!t1,loginDispatch:en,speedType:(0,_.G6)()?ev.$.Safari:ev.$.Normal}),ek,!t7||nh?(0,o.jsx)(lm.I,{isActive:D,fullScreenTarget:J,loginDispatch:en,abtestData:Z,isLogin:!!(null==et?void 0:et.isLogin)}):null,!ne&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(lf.Danmaku,{isActive:D,awemeInfo:B,userInfo:et,loginDispatch:en,danmakuInfo:null==ej?void 0:ej.danmakuInfo,abtestData:Z,isDanmuIcon:nr}),(0,o.jsx)(lp.e,{isActive:D,awemeInfo:B,abtestData:Z,aiNoteProps:tG,isAiNoteIcon:nd}),t4?(0,o.jsx)(lg.WC,{isActive:D,awemeInfo:B,userInfo:et,loginDispatch:en,abtestData:Z,isChapterIcon:no,chapterProps:tN,logParams:nL,chapterMaxWidth:na}):null,t6&&(0,o.jsx)(l3.zm,{isActive:D,awemeInfo:B,isInnerFeed:eJ,abtestData:Z}),e$&&(0,o.jsx)(lh.Vw,{awemeInfo:B,isShowGuide:eq,logParams:nL,isActive:D,defaultIsPageFullScreen:tm,modalEnterFrom:eG,abtestData:Z}),(0,o.jsxs)(l_.r,{isActive:D,controlHeight:eu.fp.MidHigh,position:"bottom",awemeInfo:B,abtestData:Z,children:[nw&&!(null==tD?void 0:tD.recommendTagType)&&(0,o.jsx)(ti.n,{scene:"player",awemeInfo:B}),!(0,ta.$m)(B)&&(null==tD?void 0:tD.recommendTagType)&&!(null==tD?void 0:tD.isShowVideoInfoSideCard)&&(0,o.jsx)(to.B,(0,n._)({userInfo:et,awemeInfo:B,player:t5||(null==tX?void 0:null===(N=tX.current)||void 0===N?void 0:N.player),abTestData:Z},tD)),n_.length>0&&(0,o.jsx)(tr.E,{awemeInfo:B,anchorList:n_,openActivityCard:t_,abtestData:Z,activityCardDirectOpen:th}),t0&&(0,em.n)(B)&&!(0,ef.o4)(B)&&eG!==c.a.RecommendUpdateWindow&&(0,o.jsx)(ly.n,{awemeInfo:B,onClick:ty,isActive:D,onMouseEnter:tw,onMouseLeave:tI}),(0,ep.A)(B)&&(0,o.jsx)(lw.X,{isActive:D,awemeInfo:B,isHide:tK}),(0,ef.o4)(B)&&(0,ea.Gu)(B)&&(0,o.jsx)(lI.b,{isHide:tz,isActive:D,awemeInfo:B}),(0,ef.o4)(B)&&!(0,ea.Gu)(B)&&(0,o.jsx)(lH.A,{isActive:D,awemeInfo:B}),w.H.newInteractionOpt(Z)?(0,o.jsx)(lC.VideoInfoNew,{isInnerFeed:eJ,isActive:D,awemeInfo:B,userInfo:et,scene:eu.lT.Modal,isTopicLinkSearchResult:!0,videoHashtagClassName:eb,modalEnterFrom:eG,videoTags:eG===c.a.RecommendUpdateWindow?[]:eT,abTestData:Z,isShowCreateTime:!0,onCooperationAuthorClick:l5,isShowCooperation:l9,showSideBar:te,loginUserInfo:et,loginDispatch:en,fullScreenTarget:J,reportExtraParams:nL,openSpecificTab:tE,onSodaClick:tS,canMixListen:!tP&&eG!==c.a.RecommendUpdateWindow&&!eJ,chapterProps:tN,sideCardContext:tQ,showExpandButtonInner:(null==Z?void 0:Z.aiNoteV2)===2}):(0,o.jsx)(lC.VideoInfo,{isInnerFeed:eJ,isActive:D,awemeInfo:B,userInfo:et,scene:eu.lT.Modal,isTopicLinkSearchResult:!0,videoHashtagClassName:eb,modalEnterFrom:eG,videoTags:eG===c.a.RecommendUpdateWindow?[]:eT,abTestData:Z,isShowCreateTime:!0,onCooperationAuthorClick:l5,isShowCooperation:l9,showSideBar:te,loginUserInfo:et,loginDispatch:en,fullScreenTarget:J,reportExtraParams:nL,openSpecificTab:tE,onSodaClick:tS,canMixListen:!tP&&eG!==c.a.RecommendUpdateWindow&&!eJ,chapterProps:tN,sideCardContext:tQ,showExpandButtonInner:(null==Z?void 0:Z.aiNoteV2)===2}),eG===c.a.WaterFall?(0,o.jsx)(lS.H,{isActive:D,isAdAweme:nu,awemeInfo:B,abtestData:Z,toast:X,playNextFunc:z}):null,!!B.videoAbstract&&eG===c.a.GeneralSearch&&!eJ&&(0,o.jsx)(lx.y,{awemeInfo:B,isActive:D,showVideoInfo:!0,player:null===(F=tX.current)||void 0===F?void 0:F.player,logParams:nL,isModal:!0,openSpecificTab:tE})]}),(0,o.jsx)(lP.h,{awemeInfo:B,isActive:D,userInfo:et,abtestData:Z}),(0,o.jsx)(lE.MenuList,{isActive:D,awemeInfo:B,abtestData:Z,isSliderVideo:!0,isKeyWorkCancalLike:!0,shortcutExclude:(0,ea.Gu)(B)&&nu&&tq?[]:["showAdDetail"],shortCutFiltered:nv,showEnterDetail:!(nu&&(0,ea.Gu)(B)),showAdMenu:nu&&(0,ea.Gu)(B),disableShortCut:t$||t8,disableAllNativeShortCut:t$||t8,modalEnterFrom:eG,userInfo:et,showRecommendToFriend:!!tD}),(0,o.jsx)(lb.B,{awemeInfo:B,abtestData:Z,isActive:D}),(0,o.jsx)(lT.I,{abtestData:Z,isActive:D,awemeInfo:B,logParams:nL,isChapterScene:!0}),(null==ni?void 0:ni.length)>0&&(0,o.jsx)(lk.SettingList,{isActive:D,awemeInfo:B,hideList:ni,player:null==tX?void 0:null===(R=tX.current)||void 0===R?void 0:R.player,dispatch:en,abtestData:Z,userInfo:et}),(0,o.jsx)(l6.P,{abtestData:Z,isActive:D,controlHeight:eu.fp.MidHigh})]}),t1&&(0,o.jsx)(eR.U,{awemeInfo:B}),t7&&(0,o.jsxs)(o.Fragment,{children:[D&&(0,o.jsx)(lL.MiniWinMask,{isActive:D,awemeInfo:B,abtestData:Z,playPrevFunc:el,playNextFunc:z,disablePrev:O&&!(er||ei)||(er||ei)&&!K,disableNext:U&&!(er||ei)||(er||ei)&&!G,ablePlayNext:!(U&&!(er||ei)||(er||ei)&&!G),loginUserInfo:et,loginDispatch:en,fullScreenTarget:J,reportExtraParams:nL,recordPreferVideoSwitch:!0}),D&&!nh&&(0,o.jsx)(lA.N,{awemeInfo:B})]}),"general_search"===eG&&(0,o.jsx)(lM.l,{awemeInfo:B,from:"modal_player",isActive:D,isUpperFeed:tA}),eG===c.a.Activity&&(0,o.jsx)(tu.I,{awemeInfo:B,from:"modal_player",isActive:D,isUpperFeed:tA})]})}));var tm=t("476261");let tf=()=>{let e=(0,a.useRef)({});return{recordLatestAwemeId:(0,a.useCallback)((l,t)=>{l&&t&&!e.current[t]&&(e.current[t]=!0,g.Le.setConfig(g.gI.FeedLatestViewedAweme,{awemeId:t}))},[])}};var tp=t("153296"),tg=t("212623"),th=t("118687"),t_=t("465769"),ty=t("872136");let tw=new ty.h({closePlayer:{eventName:"close_player",params:{enter_from:"",tab_name:"",click_method:""}},clickPreviousVideo:{eventName:"click_previous_video",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",click_from:"click_button",play_material:"video"}},clickNextVideo:{eventName:"click_next_video",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",click_from:"click_button",play_material:"video"}},modalNextVideoUnready:{eventName:"modal_next_video_unready",params:{error:"",enter_from:"",group_id:"",log_pb:""}},modalNextVideoView:{eventName:"modal_next_video_view",params:{index:0,success:!0,error:"",enter_from:"",group_id:"",log_pb:""}},clickSmallWindowEntrance:{eventName:"click_small_window_entrance",params:{enter_from:"",click_method:"",is_manual:"0",group_id:"",player_display_mode:""}}}),tI=e=>{let{awemeInfo:l,refPlayer:t,hideModalByPipInitial:r=!1,setHideModalByPipInitial:i,modalEnterFrom:o,logParams:d}=e,s=(0,A.Iq)(e=>{let{pipWindow:l}=e;return{pipWindow:l}}),[u,m]=(0,a.useState)(r),f=function(){let{scene:e="auto",awemeId:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scene:"auto"};if(o===c.a.WaterFall&&(tw.sendLog("clickSmallWindowEntrance",(0,n._)({enter_from:(0,t_.vM)(),click_method:e,is_manual:"auto"===e?"0":"1",player_display_mode:(0,t_.Ok)(),group_id:l},d)),"auto"===e)){var r,i,a;let e=null==t?void 0:null===(r=t.current)||void 0===r?void 0:r.getPlayer(),{pipWindow:l}=s;null==e||null===(a=e.plugins)||void 0===a||null===(i=a.pip)||void 0===i||i.requestPIP(l)}};return(0,a.useEffect)(()=>{r&&u&&(f({scene:"click_preview_icon",awemeId:null==l?void 0:l.awemeId}),null==i||i(!1))},[r,i]),(0,a.useEffect)(()=>()=>{s.pipWindow&&u&&s.pipWindow.close();let e=td.e.getPipWindow({scene:v.d.ListenVideo});e&&u&&e.close()},[]),{hideModalByPip:u,setHideModalByPip:m}};var tC=t("948375");let tS=e=>{let{logParams:l,awemeInfoList:t,currentNumber:i,modalInnerFeedCard:o,awemeInfoListRef:d,onLivePause:s,modalEnterFrom:u,close:c,isInnerFeed:v}=e,{awemeFeed:m}=(0,X.j)(),f=(0,a.useMemo)(()=>null==t?void 0:t[i],[t,i]),p=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];v&&!o?(m.dispatch({modalAwemeInfo:null,nextAwemeInfo:null,prevAwemeInfo:null}),tw.sendLog("closePlayer",(0,r._)((0,n._)({},l,e,(null==f?void 0:f.logParams)||{}),{enter_from:m.getValue("feedType")})),t&&c(i)):(c(i),tw.sendLog("closePlayer",(0,n._)({},l,e,(null==f?void 0:f.logParams)||{})))},[c,f,i,l,v]),g=(0,tC.Z)(()=>{m.dispatch("cardType",null),tw.sendLog("closePlayer",(0,r._)((0,n._)({},l,(null==f?void 0:f.logParams)||{}),{enter_from:m.getValue("feedType"),click_method:"button"})),m.dispatch("modalAwemeInfo",null),o&&(null==c||c())}),_=(0,tC.Z)(e=>{var l,t,n;if(null==e||null===(l=e.preventDefault)||void 0===l||l.call(e),null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e),null==s||s(null===(n=d.current)||void 0===n?void 0:n[i]),(null==e?void 0:e.triggerFrom)!=="ai_search"&&(null==e?void 0:e.triggerFrom)!=="ai_extension"&&(null==e?void 0:e.triggerFrom)!=="activity"||u===(null==e?void 0:e.triggerFrom))p({click_method:"button"},!0)});return(0,a.useEffect)(()=>{let e=h.listen(h.EVENT.triggerModalPlayerClose,_),l=h.listen(h.EVENT.triggerModalPlayerCloseForCachePages,_);return()=>{e(),l()}},[_]),{closeModal:p,onBack:_,onBackWithInnerMode:g}},tx=e=>{let{disableSwitch:l,modalEnterFrom:t,recommendGuideVisible:r,handleCloseGuide:i,setCurrentNumber:o,awemeInfoListRef:d,abtestData:s,logParams:u,modalSlideOptimize:c,swiper:v,setIsFirstEnterVideo:m,closeWhenUp:f}=e,p=(0,a.useRef)(()=>{}),h=(0,a.useRef)(()=>{tw.sendLog("modalNextVideoUnready",(0,n._)({error:"正在加载下一个视频"},u)),D.F.info("正在加载下一个视频")}),_=(0,a.useCallback)(e=>{if(l)return;let{from:a="click_button",triggerFrom:f}=e||{};if("ai_search"!==f&&"ai_extension"!==f&&"activity"!==f||t===f)r&&i({scroll:"mouse",keyboard:"keyboard",click_button:"next_video_button"}[a]),"auto"===a&&(0,g.Vv)(L.PagingType.auto),o(e=>{let l=!0,t=e;if(e<d.current.length-1)l=!0,t=e+1;else if("aiNote"===f)l=!1,D.F.info("已经是最后一个视频了"),t=e;else{var r,i;l=!1,(null==s?void 0:s.discoverOptimize)?!!document.querySelector("#toastContainer")||null===(r=h.current)||void 0===r||r.call(h):null===(i=h.current)||void 0===i||i.call(h),t=e}return tw.sendLog("modalNextVideoView",(0,n._)({error:l?"":"正在加载下一个视频",index:e+1,success:l},u)),c&&(null==v||v.slideTo(t)),t}),m(!1)},[l,r,v,c]),y=(0,a.useCallback)(e=>{if(l)return;let{from:n="click_button",triggerFrom:a}=e||{};if("ai_search"!==a&&"ai_extension"!==a&&"activity"!==a||t===a)r&&f&&i({scroll:"mouse",keyboard:"keyboard",click_button:"last_video_button"}[n]),o(e=>{var l;if(e>0)return c&&(null==v||v.slideTo(e-1)),e-1;return null===(l=p.current)||void 0===l||l.call(p),c&&(null==v||v.slideTo(e)),e}),m(!1)},[l,r,f,v,c]);return{refPrevVideoCallBack:p,refNextVideoCallBack:h,playNextFunc:_,playPrevFunc:y}};t("897860"),t("110006");let tP="modal-video-0",tE=()=>{let e=parseInt(tP.match(/\d+$/)[0]);e++,tP=tP.replace(/\d+$/,e)},tb=()=>{let e=parseInt(tP.match(/\d+$/)[0]);e--,tP=tP.replace(/\d+$/,e)},tT=()=>({refDepth:(0,a.useRef)(tP)});var tk=t("265656"),tL=t("636111");let tA=e=>{let{abtestData:l,swiper:t,currentNumber:n,awemeInfoList:r}=e,i=(0,a.useMemo)(()=>{if((0,tk.En)()){var e;return null===(e=(0,tL.P)(l))||void 0===e?void 0:e.preloadCount}let t={};return((null==l?void 0:l.preloadCountApplySideServer)==="both"||isInClient()&&(null==l?void 0:l.preloadCountApplySideServer)==="client"||!isInClient()&&(null==l?void 0:l.preloadCountApplySideServer)==="web")&&(t=null==l?void 0:l.preloadCountServer),Object.assign({},null==l?void 0:l.preloadCount,t)},[l,t]);(0,a.useLayoutEffect)(()=>{(()=>{if(null==i?void 0:i.open){let e=(null==i?void 0:i.count)||3,l=r.slice(n+1).filter(e=>(null==e?void 0:e.awemeType)===H.e.Normal&&!(0,lW.Ni)(e)).slice(0,e);g.Le.setConfig(g.gI.PreloadList,l)}else{let e=r.slice(n+1,n+4).filter(e=>!(0,lW.Ni)(e));g.Le.setConfig(g.gI.PreloadList,e)}})()},[l,n,r])};var tM=t("259624"),tj=t("948431");let tN=e=>{let{refPlayer:l,swiper:t,setAwemeInfoList:n,awemeInfoList:r,scrollRef:i,isInnerFeed:o}=e,d=(0,a.useRef)(""),[s,u]=(0,a.useState)(!1);return(0,tM.g)({swiper:t,setAwemeInfoList:n,awemeInfoList:r,refMixPlayer:l,scrollRef:i,isInnerFeed:o}),(0,tj.Z)({refMixPlayer:l,changeMinWinCb:e=>{e&&(d.current=document.body.style.minWidth),document.body.style.minWidth=e?"auto":d.current,document.body.style.overflow=e?"hidden":"",u(e)}}),{isClientMiniWin:s}},tF=e=>{let{swiper:l,modalSlideOptimize:t,currentNumber:n,setCurrentNumber:r}=e;(0,a.useEffect)(()=>{l&&(t||l.slideTo(n))},[l,n,t]),(0,a.useEffect)(()=>{if(l){let e=null==l?void 0:l.activeIndex,t=t=>{r(null==l?void 0:l.activeIndex),(null==t?void 0:t.from)==="drag"&&h.emit((null==l?void 0:l.activeIndex)-e>0?h.EVENT.reportPlayNext:h.EVENT.reportPlayPrev,{clickFrom:"drag"}),e=null==l?void 0:l.activeIndex};return l.on("slideChange",t),()=>{l.off("slideChange",t)}}},[l])};t("954372"),t("882732"),t("544943");var tR=t("504229");let tD=["search_multi_modal","waterFall","hot",/^channel/,/^music/,"favorite_collection","like","post","record","watch_later"],tV=e=>{var l,t,n,r,i,o,a,d,s,u;let{scene:c,awemeInfoList:v,currentNumber:m,originAwemeInfo:f,modalAwemeInfo:p,isSelf:h}=e,_=null!==(l=v[m])&&void 0!==l?l:f,y=null==_?void 0:_.awemeId,w=g.Le.getConfig(g.gI.ModalStartTime)||{};if(w[y]){let e=w[y];return delete w[y],g.Le.setConfig(g.gI.ModalStartTime,w),{time:e,isRevisitStart:!1}}if(!(tD.findIndex(e=>{var l;return e===c||(null==e?void 0:null===(l=e.test)||void 0===l?void 0:l.call(e,c))})>=0))return{time:void 0,isRevisitStart:!1};let I="watch_later"===c,C=g.Le.getConfig(g.gI.PreviewPlayInfoRecord);if((0,tR.sF)()){let e=new URL(location.href).searchParams;e&&e.get("modal_id")&&(C={awemeId:e.get("modal_id"),recordPlayTime:Number(e.get("start_time"))/1e3})}let S=(null==C?void 0:C.awemeId)===(null==_?void 0:_.awemeId)?null==C?void 0:C.recordPlayTime:void 0,x=(null==_?void 0:_.awemeId)===(null==f?void 0:f.awemeId);if(I&&x&&!S){let{store:e}=null!==(o=g.Le.getConfig(g.gI.WatchLater))&&void 0!==o?o:{},l=(null==e?void 0:null===(t=e[null==_?void 0:_.awemeId])||void 0===t?void 0:t.loop)>0||(null==_?void 0:null===(n=_.playProgress)||void 0===n?void 0:n.watch_times)>0,s=null!==(d=null!==(a=null==e?void 0:null===(r=e[null==_?void 0:_.awemeId])||void 0===r?void 0:r.progress)&&void 0!==a?a:null==_?void 0:null===(i=_.playProgress)||void 0===i?void 0:i.play_progress)&&void 0!==d?d:0;return l||!s?{time:0,isRevisitStart:!1}:{time:Math.floor(s/1e3),isRevisitStart:!1}}if(["favorite_collection","like","record"].includes(c)&&x&&h){if((null==p?void 0:null===(s=p.playProgress)||void 0===s?void 0:s.play_progress)<=0)return{time:0,isRevisitStart:!1};let e=Math.max(Math.floor((null==p?void 0:null===(u=p.playProgress)||void 0===u?void 0:u.play_progress)/1e3)-2,1);return{time:S>=e?S:e,isRevisitStart:!0}}return{time:S,isRevisitStart:!1}};var tW=t("149250"),tH=t("847191"),tO=t("132607");let tU=e=>{let{modalEnterFrom:l,abtestData:t}=e,i=l===c.a.WaterFall||l===c.a.ShareModal&&"discover"===(0,eA.yW)(),o=i&&(t.jxAskAiDefaultOpen===tO.JxAskAiDefaultOpen.V1||t.jxAskAiDefaultOpen===tO.JxAskAiDefaultOpen.V2),d=i&&t.jxAskAiDefaultOpen===tO.JxAskAiDefaultOpen.V1,[s,u]=(0,a.useState)(!1),[v,m]=(0,a.useState)(!1),[f,p]=(0,a.useState)(!1),g=(0,a.useRef)(!1),h=(0,a.useCallback)(e=>{g.current=e},[]),_=(0,a.useCallback)(e=>{u(e),(0,tH.qQ)(ec.LocalStorageKeys.AiCardIsPined,e?"1":"0")},[]);return(0,a.useEffect)(()=>{if(o){let e="1"===(0,tH.$o)(ec.LocalStorageKeys.AiCardIsPined);u(e),m(e)}},[o]),(0,a.useEffect)(()=>{d&&(window.innerWidth>=1200&&p(!0),window.addEventListener("resize",()=>{window.innerWidth<1200&&p(!1)}))},[d]),(0,a.useMemo)(()=>(0,r._)((0,n._)({},o?{globalIsShowAiCard:v,setGlobalIsShowAiCard:m,aiCardIsPined:s,togglePinAiCard:_}:{}),{useJxSlideInheritAndPin:o,useJxDefaultOpen:d,aiCardIsDefaultOpen:f,hasDefaultShowAiCardRef:g,setHasDefaultShowAiCard:h}),[v,m,s,_,o,d,f,h])},{useRecommendGuide:tB}=tm.Z,tG=e=>{var l,t,i,d,s,v;let{appendPlayerConfig:m,preloadReady:x,preloadAwemeList:P=[],userContext:E,abtestData:b,close:T,anyHooks:k,moreBoxShowList:L={notInterestingIcon:!0,unfollow:!0,report:!0,shortcutList:!1,dataAnalysis:!1,deleteSelfPost:!1},logParams:N,defaultCommentShow:F=!1,className:H,insertCommentId:O,disableSwitch:U=!1,disableAutoPlay:B=!1,originAwemeInfo:K,modalId:z,uid:Z,useOldModal:Y,danmakuInfo:$,defaultShowSideBar:q,shortCutFilteredList:J,modalEnterFrom:Q="",collectFolderId:ee,collectionFolderInfo:el,isDefaultShowRelatedCard:et,modalInnerFeedCard:en,defaultOpenedCardType:er,defaultOpenedCardExtraProps:eo,defaultForceOpenTab:ea,activityCardDirectOpen:ed,bingeInfo:es,container:eu,isSelf:ec,scene:ev,notCanMixListen:em,searchParams:ef,mouseScrollContainer:ep,searchFrom:eg,wrapperClassName:eh,reuseConfig:e_,hideModalWhenPip:ey=!1,hideModalByPipInitial:ew=!1,setHideModalByPipInitial:eI,autoOpenPip:eC=!1,scrollRef:eS}=e,{userInfo:ex}=E,{refDepth:eP}=tT(),eE=(0,a.useRef)(null),eb=(0,a.useRef)(null),eT=(0,a.useRef)(),[ek,eL]=(0,a.useState)(-1),[eA,eM]=(0,a.useState)(!0),[ej,eN]=(0,a.useState)([]),[eF,eR]=(0,a.useState)(null),eD=(0,a.useRef)([]);eD.current=ej;let{awemeFeed:eV}=(0,X.j)(),eW=eV.useValue("modalAwemeInfo",Boolean),eH=eV.useValue("innerFeedAwemeInfo"),eO=Q.includes("search"),{isWebMiniWin:eU,isListenVideoMiniWin:eB}=(0,A.Iq)(e=>{let{isWebMiniWin:l,isListenVideoMiniWin:t}=e;return{isWebMiniWin:l,isListenVideoMiniWin:t}}),[eK,ez]=(0,a.useState)(),[eZ,eY]=(0,a.useState)(!1),e$=(0,p.x)(),[eq,eJ]=(0,a.useState)(K),eQ=(null==b?void 0:b.discoverSlideOptimize)&&(null==N?void 0:N.enter_from)==="discover"||(null==b?void 0:b.searchSlideOptimize)&&eO,eX=tU({modalEnterFrom:Q,abtestData:b});(0,a.useEffect)(()=>(g.Le.setConfig(g.gI.IsInModalVideo,{isInModal:!0,modalEnterFrom:Q}),Q===c.a.WaterFall&&(window.isInJingxuanModal=!0),g.Le.setConfig(g.gI.VideoPlayMethod,"auto"),h.emit(h.EVENT.videoPause,"ModalVideoContent_enter"),h.emit(h.EVENT.musicPause),h.emit(h.EVENT.searchMusicPause),h.emit(h.EVENT.livePause),g.Le.setConfig(g.gI.isVideoPlayed,null),h.emit(h.EVENT.enterModalVideo,eP.current),tE(),()=>{var e;((null===(e=g.Le.getConfig(g.gI.IsInModalVideo))||void 0===e?void 0:e.modalEnterFrom)||"")===Q&&(g.Le.setConfig(g.gI.IsInModalVideo,{isInModal:!1}),Q===c.a.WaterFall&&(window.isInJingxuanModal=!1)),h.emit(h.EVENT.exitModalVideo,eP.current),tb()}),[]),(0,a.useEffect)(()=>{(0,g.Vv)(void 0)},[z]);let e0="general_search"===Q,{recommendGuideChild:e1,useNewUserSoundGuide:e3,recommendGuideVisible:e2,handleCloseGuide:e8}=tB({isCanShow:Q!==c.a.Im,enterFrom:"modal_video",modalEnterFrom:Q,awemeInfoList:ej,className:C.default.guideCard,disableLottie:(0,_.b_)()||(0,_.Sb)(),isFullscreen:!0,closeWhenUp:e0,isCloseInGuide:!0,swiper:eF}),{playNextFunc:e4,playPrevFunc:e7,refNextVideoCallBack:e6,refPrevVideoCallBack:e5}=tx({disableSwitch:U,modalEnterFrom:Q,recommendGuideVisible:e2,handleCloseGuide:e8,setCurrentNumber:eL,awemeInfoListRef:eD,abtestData:b,logParams:N,modalSlideOptimize:eQ,swiper:eF,setIsFirstEnterVideo:eM,closeWhenUp:e0}),e9=(0,a.useCallback)(()=>{var e,l,t,n;ej.length-1===ek&&(eL(ek-1),eQ&&(null==eF||eF.slideTo(ek-1))),eN(e=>{var l;let t=[...e];return t.splice(ek,1),null===(l=eT.current)||void 0===l||l.call(eT,{currentNumber:ek,awemeList:t}),t}),null===(l=eE.current)||void 0===l||null===(e=l.setIsAuthorCardShow)||void 0===e||e.call(l,!1),null===(n=eE.current)||void 0===n||null===(t=n.setIsShowRelatedCard)||void 0===t||t.call(n,!1)},[ek,ej,eF,eQ]);tA({abtestData:b,swiper:eF,currentNumber:ek,awemeInfoList:ej});let{slideVideoTab:le,setSlideVideoTab:ll,modalAwemeInfo:lt,setModalAwemeInfo:ln,globalIsSideBarShow:lr,setIsSideBarShowFunc:li}=S({originAwemeInfo:null!=K?K:ej[0]}),{defaultTab:lo="",isTabFeed:la,onLivePause:ld=()=>null,onLivePlay:ls=()=>null}=(null==k?void 0:k((0,r._)((0,n._)({},e),{delVideoCallBackRef:eT,currentNumber:ek,awemeInfoList:ej,refPrevVideoCallBack:e5,refNextVideoCallBack:e6,curTab:le,awemeInfo:lt,setCurrentNumber:eL,setAwemeInfoList:eN,setModalAwemeInfo:ln,swiper:eF,preloadReady:x,preloadAwemeList:P,currentAwemeInfo:eq})))||{},{hideModalByPip:lu,setHideModalByPip:lc}=tI({awemeInfo:lt,refPlayer:eE,hideModalByPipInitial:ew,setHideModalByPipInitial:eI,modalEnterFrom:Q,logParams:N}),{isClientMiniWin:lv}=tN({swiper:eF,setAwemeInfoList:eN,awemeInfoList:ej,refPlayer:eE,scrollRef:eS,isInnerFeed:eW}),{closeModal:lm,onBack:lf,onBackWithInnerMode:lp}=tS({logParams:N,awemeInfoList:ej,currentNumber:ek,modalInnerFeedCard:en,awemeInfoListRef:eD,onLivePause:ld,modalEnterFrom:Q,close:T,isInnerFeed:eW});M({abtestData:b,container:ep||eu,closeModal:lm,isClientMiniWin:lv,modalEnterFrom:Q}),(0,a.useEffect)(()=>{let e=location.pathname,l=(0,eG.OB)();return l&&(0,eG.wS)(l,!1),()=>{l&&e===location.pathname&&(0,eG.wS)(l,!0),y.p.postTask({priority:"background",task:()=>h.emit(h.EVENT.syncInteraction)})}},[]);let{asrState:lg}=R({awemeInfoListRef:eD,userInfo:ex,currentNumber:ek});tF({swiper:eF,modalSlideOptimize:eQ,currentNumber:ek,setCurrentNumber:eL});let lh=j({currentNumber:ek}),{recordLatestAwemeId:l_}=tf(),{isRevisitStart:ly,time:lw}=(0,a.useMemo)(()=>tV({scene:ev,awemeInfoList:ej,currentNumber:ek,originAwemeInfo:K,modalAwemeInfo:lt,isSelf:ec}),[ev,ej,ek,K,lt,ec]),lI=(0,a.useMemo)(()=>{var e,l,t,i,o;return{insertCommentId:eA?O:void 0,userContext:E,abtestData:b,logParams:(0,r._)((0,n._)({},N),{is_modal_first_enter:lh?"1":"0",is_auto_show_ask_ai:(null==eX?void 0:eX.aiCardIsPined)||(null==eX?void 0:eX.aiCardIsDefaultOpen)?"1":"0"}),showTopicAndMusicCard:!1,showMixCard:!1,showMixCardEntry:!1,showHotCard:!!((null===(e=ej[ek])||void 0===e?void 0:e.hotList)&&(null===(t=ej[ek])||void 0===t?void 0:null===(l=t.hotList)||void 0===l?void 0:l.rank)!==51&&(null===(o=ej[ek])||void 0===o?void 0:null===(i=o.hotList)||void 0===i?void 0:i.type)!==2),tab:"modal",useOldModal:Y,danmakuInfo:$}},[eA,O,E,b,N,ek,Y,$,eX,lh]),lC=(0,a.useMemo)(()=>{var e;return(0,r._)((0,n._)({},L),{shortcutList:!0,notInterestingIcon:!!la||L.notInterestingIcon,dataAnalysis:(null==L?void 0:L.dataAnalysis)&&(null==K?void 0:K.authorUserId)===(null===(e=ej[ek])||void 0===e?void 0:e.authorUserId),deleteSelfPost:null==L?void 0:L.deleteSelfPost,asrState:lg})},[L,la,K,ej,ek,lg]),lS=(0,a.useMemo)(()=>e=>D.F.info(e,void 0,1e3),[]),lx=(0,o.jsx)(G,{appendPlayerConfig:m,activityCardDirectOpen:ed,close:lf,className:"isDark isDeepDark",fullScreenTarget:eu,deleteCurrentSwiper:e9,moreBoxShowList:w.H.baseOpt(b)?lC:(0,r._)((0,n._)({},L),{shortcutList:!0,notInterestingIcon:!!la||L.notInterestingIcon,dataAnalysis:(null==L?void 0:L.dataAnalysis)&&(null==K?void 0:K.authorUserId)===(null===(l=ej[ek])||void 0===l?void 0:l.authorUserId),deleteSelfPost:null==L?void 0:L.deleteSelfPost,asrState:lg}),modalEnterFrom:Q,modalInnerFeedCard:en,defaultOpenedCardType:er,defaultOpenedCardExtraProps:eo,swiper:h.commonEvent,videoToast:w.H.baseOpt(b)?lS:e=>D.F.info(e,void 0,1e3),item:ej[ek],playNextFunc:e4,playPrevFunc:e7,defaultCommentShow:F,InnerPlayer:tv,disableAutoPlay:B,relatedDefaultTab:lo,originAwemeInfo:null!=K?K:ej[0],modalId:z,defaultShowSideBar:q,setModalAwemeInfo:ln,customProps:w.H.baseOpt(b)?lI:{insertCommentId:eA?O:void 0,userContext:E,abtestData:b,logParams:(0,r._)((0,n._)({},N),{is_modal_first_enter:lh?"1":"0",is_auto_show_ask_ai:(null==eX?void 0:eX.aiCardIsPined)||(null==eX?void 0:eX.aiCardIsDefaultOpen)?"1":"0"}),showTopicAndMusicCard:!1,showMixCard:!1,showMixCardEntry:!1,showHotCard:!!((null===(t=ej[ek])||void 0===t?void 0:t.hotList)&&(null===(d=ej[ek])||void 0===d?void 0:null===(i=d.hotList)||void 0===i?void 0:i.rank)!==51&&(null===(v=ej[ek])||void 0===v?void 0:null===(s=v.hotList)||void 0===s?void 0:s.type)!==2),tab:"modal",useOldModal:Y,danmakuInfo:$},ref:eE,shortCutFilteredList:J,collectFolderId:ee,collectionFolderInfo:el,isDefaultShowRelatedCard:et,defaultForceOpenTab:ea,bingeInfo:es,isClientMiniWin:lv,notCanMixListen:em,startTime:lw,onLivePause:ld,onLivePlay:ls,searchFrom:eg,isShowGuide:e2,useNewUserSoundGuide:e3,isRevisitStart:ly,onAwemeInfoChange:eQ?null:eJ,reuseConfig:e_,scrollRef:eS,hideModalWhenPip:ey,setHideModalByPip:lc,modalClose:T}),lP=ev?`dy-modal-video-container-${ev}`:void 0;return(0,o.jsxs)(f.C.Provider,{value:(0,n._)({userId:Z,slideVideoTab:le,setSlideVideoTab:ll,setModalAwemeInfo:ln,awemeInfoList:ej,globalIsSideBarShow:lr,setIsSideBarShowFunc:li,isCssFullScreen:!0,isSelf:ec,collectionFolderInfo:el,isClientMiniWin:lv,globalIsCommentTrayPushGuideShow:eK,setIsCommentTrayPushGuideShowFunc:ez,globalCommentTrayPushGuideType:eZ,setCommentTrayPushGuideTypeFunc:eY},eX),children:[(0,o.jsxs)("div",{className:u()(eh,{[C.default.pipHide]:lu}),children:[(0,o.jsx)(ei,{containerId:lP,close:T,autoOpenPip:eC,isInnerFeed:eW,modalInnerFeedCard:en,isClientMiniWin:lv,refPlayer:eE,onBack:lf,onBackWithInnerMode:lp,abtestData:b,awemeInfoList:ej,currentNumber:ek,modalEnterFrom:Q,isSelf:ec,userInfo:ex,logParams:N,searchParams:ef,slideVideoTab:le,currentAwemeInfo:eW?eH:null==ej?void 0:ej[ek],fullScreenTarget:eu}),!lv&&e1,(0,o.jsx)("div",{id:"upperFeedContainer",className:u()(C.default.moreIndex,{[C.default.isClientMiniWin]:lv,searchUpperFeedContainer:eO})}),(0,o.jsx)(V.k,{componentName:"ModalVideoContent",children:(0,o.jsxs)("div",{id:lP,className:u()(C.default.modalVideo,H,"modal-video-container",{[C.default.isLoading]:!ej[ek],[C.default.modalSlider]:"search"===Q,[C.default.isWebMiniWin]:eU||eB,isMiniWindow:lv,isMiniWindowOptimize:lv&&e$}),"data-e2e":"modal-video-container",children:[ej[ek]?(0,o.jsx)(tg.ZP,{onSwiper:eR,abTestData:b,cardBetween:0,nextSwiperHeaderHeight:0,upperSpace:0,data:ej,scene:th.R5.Modal,defaultCssFullScreen:!0,initIndex:ek,useWheelListener:!1,collectionFolderInfo:el,globalAiCardValue:eX,children:(0,o.jsx)(tp.o,{"data-e2e":"feed-item",className:u()(C.default.swiperItem),slot:th.t6.INSIDE,children:e=>{let{slideData:l,activeIndex:t,currentIndex:n}=e;if(!(1>=Math.abs(t-n)))return null;{let e=t===n;return l_(e,null==l?void 0:l.awemeId),(0,a.cloneElement)(lx,{isActive:e,isFirst:0===n,isNext:t+1===n,isPrev:t-1===n,isLast:n===ej.length-1,index:n,isClientMiniWin:lv,item:l,videoRef:e?eE:eb})}}})}):(0,o.jsx)(W.gb,{}),(0,o.jsx)("div",{id:"modal_fullscreen_capture_feedback",children:(0,o.jsx)("div",{id:"modal_fullscreen_capture"})})]})})]}),(0,o.jsx)(I.IsLivingPlugin,{activeIndex:ek,dataList:ej,setDataList:eN,scene:"jingxuan_feed"})]})};var tK=(0,a.memo)(e=>{var l;let{root:t,onSetAttribute:s,metaCtxId:u,isSelfMetaProvider:c=!1,modalEnterFrom:f}=e,{pipWindow:p,isListenVideoMiniWin:g,changeIsListenVideoMiniWin:h}=(0,A.Iq)(e=>{let{pipWindow:l,isListenVideoMiniWin:t,changeIsListenVideoMiniWin:n}=e;return{pipWindow:l,isListenVideoMiniWin:t,changeIsListenVideoMiniWin:n}}),_=(0,a.useRef)(document.createElement("div"));(0,a.useEffect)(()=>{let e=t||document.getElementById("douyin-right-container")||document.body;return null==s||s(_),e.appendChild(_.current),()=>{var e,l;(null===(e=_.current)||void 0===e?void 0:e.parentNode)&&(null===(l=_.current)||void 0===l||l.remove()),_.current=null}},[]),(0,a.useEffect)(()=>{if(g){h(!1);let e=td.e.getPipWindow({scene:v.d.ListenVideo});e?e.close():tW.T.exit()}},[]),(0,m.w)(()=>{let e=_.current;if(e)return e.classList.add(C.default.routeHide),()=>{e.classList.remove(C.default.routeHide)}},[]);let y=(0,X.j)(),{awemeFeed:w}=y,I=(0,i._)(y,["awemeFeed"]);return c?d.createPortal((0,o.jsx)(tG,(0,r._)((0,n._)({},e),{close:l=>{var t,n,r;let i=td.e.getPipWindow({scene:v.d.ListenVideo});i&&i.close(),null==p||null===(t=p.close)||void 0===t||t.call(p),_.current.parentNode&&(null===(r=_.current)||void 0===r||r.remove()),null==e||null===(n=e.close)||void 0===n||n.call(e,l)},container:t||_.current,mouseScrollContainer:_.current})),_.current):d.createPortal((0,o.jsx)(X.b,{context:(0,r._)((0,n._)({},I),{metaCtxId:null!==(l=null!=u?u:f)&&void 0!==l?l:"modal"}),children:(0,o.jsx)(tG,(0,r._)((0,n._)({},e),{close:l=>{var t,n,r;null==p||null===(t=p.close)||void 0===t||t.call(p),_.current.parentNode&&(null===(r=_.current)||void 0===r||r.remove()),null==e||null===(n=e.close)||void 0===n||n.call(e,l)},container:t||_.current,mouseScrollContainer:_.current}))}),_.current)})},575480:function(e,l,t){t.d(l,{w:function(){return c}});var n=t(563097),r=t(88648),i=t(909543),o=t(404171),a=t(512685),d=t(986488),s=t(328155);let u=()=>{let e=(0,r.useRef)({isRecoveryFromChild:!1}),{pathname:l}=(0,i.a)(),t=(0,r.useRef)(l),n=(0,r.useRef)(!1);return(0,s.Nr)(l)?n.current=!0:(n.current?(n.current=!1,e.current.isRecoveryFromChild=t.current==t.current):e.current.isRecoveryFromChild=!1,t.current=l),e},c=e=>{let{isActive:l,children:t,inherit:i=!0}=e,s=(0,r.useRef)();(0,o.U)();let c=u();!s.current&&(s.current=new a.T(l));let v=(0,r.useMemo)(()=>({isActive:l,routeModel:s.current,ref:c}),[l]);return(0,r.useEffect)(()=>{s.current&&s.current.setActive(l)},[l]),(0,n.jsx)(d.I.Provider,{value:v,children:t})}},921359:function(e,l,t){t.d(l,{O:function(){return o}});var n=t(563097),r=t(88648),i=t(575480);let o=r.forwardRef((e,l)=>{let{active:t,children:o,className:a}=e,d=(0,r.useMemo)(()=>t?{}:{display:"none"},[t]);return(0,n.jsx)(i.w,{isActive:t,children:(0,n.jsx)("div",{className:a,ref:l,style:d,children:o})})})},536844:function(e,l,t){t.d(l,{I:function(){return s}});var n=t(88648),r=t(850634),i=t(832052),o=t(725887),a=t(441447),d=t(335101);let s=e=>{let{awemeInfo:l,from:t,isActive:s,hackFullScreenDom:u=!1,videoAreaClickActive:c=!1,logParams:v,enableInteractionPlugin:m=!0,searchListType:f,isUpperFeed:p=!1,syncInMulti:g=!1}=e,h=(0,d.n)(),_=o.Le.getConfig(o.gI.ActivityModalCurrentActiveProgress);return(0,n.useEffect)(()=>{if(h&&s&&l){o.Le.getConfig(o.gI.ActivityModalEnterFullScreenAfterCreate)&&"modal_player"===t&&(o.Le.setConfig(o.gI.ActivityModalEnterFullScreenAfterCreate,!1),h.getFullscreen());let{awemeId:e}=l,n=()=>{_[0]=e,_[1]=h.currentTime};return h.on("timeupdate",n),()=>{h.off("timeupdate",n),"activity_player"===t&&_[0]===(null==l?void 0:l.awemeId)&&(_[0]="",_[1]=0)}}},[h,l,s]),(0,n.useEffect)(()=>{if(h&&l&&(null==l?void 0:l.awemeType)!==i.e.Note&&(null==l?void 0:l.awemeId)===_[0]){let e=_[1];h.once(r.FP.CANPLAY,()=>{h.seek(e)})}},[h]),(0,n.useEffect)(()=>{if(h&&"activity_player"===t&&s)return a.listen(a.EVENT.activitySyncVideoPlay,()=>{(null==l?void 0:l.awemeType)!==i.e.Note&&((null==l?void 0:l.awemeId)===_[0]&&h.seek(_[1]),o.Le.setConfig(o.gI.IsSearchOuterAsync,!0)),h.play()})},[h,s,l]),null}},916103:function(e,l,t){t.d(l,{r:function(){return i}});var n=t(88648),r=t(335101);let i=e=>{let l=(0,r.n)();return(0,n.useEffect)(()=>{if(l){let e=()=>{l.replay(),l.replayed=!0};return l.on("ended",e),()=>{l.off("ended",e)}}},[l]),null}},585543:function(e,l,t){t.d(l,{l:function(){return h}});var n=t(88648),r=t(850634),i=t(645260),o=t.n(i),a=t(613063),d=t.n(a),s=t(832052),u=t(282385),c=t(437983),v=t(725887),m=t(441447),f=t(693691),p=t(613480),g=t(335101);let h=e=>{let{awemeInfo:l,from:t,isActive:i,hackFullScreenDom:a=!1,videoAreaClickActive:h=!1,logParams:_,enableInteractionPlugin:y=!0,searchListType:w,isUpperFeed:I=!1,syncInMulti:C=!1,livePlayer:S,liveDocId:x}=e,P=(0,g.n)(),E=S||P,{openGeneralSearchModalSlide:b}=(0,n.useContext)(f.j)||{},{docId:T}=(0,n.useContext)(p.C)||{},k=S&&x?x:T,L=v.Le.getConfig(v.gI.SearchModalCurrentActiveProgress);return(0,n.useEffect)(()=>{if(E&&i&&l){v.Le.getConfig(v.gI.SearchModalEnterFullScreenAfterCreate)&&"modal_player"===t&&(v.Le.setConfig(v.gI.SearchModalEnterFullScreenAfterCreate,!1),E.getFullscreen());let{awemeId:e}=l,n=()=>{L[0]=e,L[1]=E.currentTime};return E.on("timeupdate",n),()=>{E.off("timeupdate",n),"search_player"===t&&L[0]===(null==l?void 0:l.awemeId)&&(L[0]="",L[1]=0)}}},[E,l,i]),(0,n.useEffect)(()=>{if(E&&l&&(null==l?void 0:l.awemeType)!==s.e.Note&&(null==l?void 0:l.awemeId)===L[0]){let e=L[1];E.once(r.FP.CANPLAY,()=>{E.seek(e)})}},[E]),(0,n.useEffect)(()=>{if(E&&"search_player"===t&&i)return m.listen(m.EVENT.generalSearchVideoPlay,()=>{(null==l?void 0:l.awemeType)!==s.e.Note&&((null==l?void 0:l.awemeId)===L[0]&&E.seek(L[1]),v.Le.setConfig(v.gI.IsSearchOuterAsync,!0)),E.play()})},[E,i,l]),(0,n.useEffect)(()=>{let e=o()(E,"plugins.fullscreen.root"),l=()=>{var e;null==E||null===(e=E.openGeneralSearchModalSlide)||void 0===e||e.call(E,{from:"fullscreen"})};return E&&i&&"search_player"===t&&a&&(C||w!==u.qs)&&!I&&(d()(E,"plugins.fullscreen.config.disable",!0),null==e||e.addEventListener("click",l)),()=>{d()(E,"plugins.fullscreen.config.disable",!1),null==e||e.removeEventListener("click",l)}},[E,i,a,w,l,I,C]),(0,n.useEffect)(()=>{if(E&&i&&"search_player"===t&&!y&&h){let e=e=>{if(e.target===E.root||e.target===E.video||e.target===E.innerContainer||e.target===E.video.__canvas){var l;null==E||null===(l=E.openGeneralSearchModalSlide)||void 0===l||l.call(E,{from:"pause"}),E.emit(r.FP.USER_ACTION,{action:"click_video_area"});return}};E.config.closeVideoClick=!0;let l=E.root;return l.addEventListener("click",e,!1),()=>{l.removeEventListener("click",e,!1),d()(E,"config.closeVideoClick",!1)}}},[E,i,a,h]),(0,n.useEffect)(()=>{if(E&&"search_player"===t&&i&&!I)return E.openGeneralSearchModalSlide=e=>{let{from:t}=e||{};if("fullscreen"===t&&v.Le.setConfig(v.gI.SearchModalEnterFullScreenAfterCreate,!0),"pause"===t&&!h)return!1;let n=b({docId:k,awemeId:null==l?void 0:l.awemeId,from:t});return n&&(0,c.h)("feed_enter",_),n},()=>{E.openGeneralSearchModalSlide=()=>!1}},[E,l,i,k,b,h,S,I]),(0,n.useEffect)(()=>{if(E&&"search_player"===t){let e=!1,l=m.listen(m.EVENT.pageFullScreen,l=>{let{fullScreen:t}=l;e=t});return()=>{l(),e&&m.emit(m.EVENT.pageFullScreen,{fullScreen:!1,playerId:null==E?void 0:E.playerId,clickMethod:"player_destroy"})}}},[E]),null}},607703:function(e,l,t){t.d(l,{JY:function(){return n},_D:function(){return i},mh:function(){return o},z0:function(){return r}});var n={All:"all",Course:"course",Game:"game",Acg:"acg",Music:"music",Food:"food",Knowledge:"knowledge",Sports:"sports",Theater:"theater",Film:"film",Vlog:"vlog",Child:"child",Car:"car",Agriculture:"agriculture",Animal:"animal",Travel:"travel",Beauty:"beauty"};let r={0:"all",1e5:"course",300205:"game",300206:"acg",300209:"music",300204:"food",300213:"knowledge",300207:"sports",300214:"theater",300215:"film",300216:"vlog",300217:"child",300218:"car",300219:"agriculture",300220:"animal",300221:"travel",300222:"beauty"},i={course:"100000",game:"300205",acg:"300206",music:"300209",food:"300204",knowledge:"300213",sports:"300207",theater:"300214",film:"300215",vlog:"300216",child:"300217",car:"300218",agriculture:"300219",animal:"300220",travel:"300221",beauty:"300222"};i.game,i.acg,i.music,i.food,i.knowledge,i.sports,i.theater,i.film,i.vlog,i.child,i.agriculture,i.animal,i.travel,i.beauty;let o=[{label:"全部",key:"0"},{label:"公开课",key:"100000"},{label:"游戏",key:"300205"},{label:"二次元",key:"300206"},{label:"音乐",key:"300209"},{label:"美食",key:"300204"},{label:"知识",key:"300213"},{label:"体育",key:"300207"},{label:"小剧场",key:"300214"},{label:"影视",key:"300215"},{label:"生活vlog",key:"300216"},{label:"亲子",key:"300217"},{label:"汽车",key:"300218"},{label:"三农",key:"300219"},{label:"动物",key:"300220"},{label:"旅行",key:"300221"},{label:"美妆穿搭",key:"300222"}].map(e=>null==e?void 0:e.key)}}]);