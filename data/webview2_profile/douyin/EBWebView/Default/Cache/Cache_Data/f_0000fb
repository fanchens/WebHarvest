"use strict";(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["49512"],{12912:function(e,t,n){n.r(t),n.d(t,{Helmet:function(){return i}});let i=n(429719).Head},448113:function(e,t,n){n.r(t);var i=n(520739),r=n(563097);n(88648);var l=n(605078),o=n(243434);t.default=function(e){return(0,l.useServerProps)(),(0,r.jsx)(o.default,(0,i._)({},e))}},243321:function(e,t,n){n.d(t,{k:function(){return u}});var i=n(563097),r=n(88648),l=n(222406),o=n(914104),a=n(742401);let s=function(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"component",l=arguments.length>5?arguments[5]:void 0;null==i||i(e,t),"module"===r&&(null==l||l("report",{ev_type:"blank_screen",payload:{timestamp:Date.now(),score:0,error:{type:"js_error",message:e.message}}})),null==l||l("sendEvent",{name:"live_component_error_boundary",categories:{componentName:n,message:e.message,stack:e.stack,componentStack:t,isNewProject:!0},type:"event"})},u=e=>{let{onError:t,beforeCapture:n,fallback:u,children:d,type:c="component",componentName:_,_slardarInstance:v}=e,f=(0,r.useMemo)(()=>{if(!a.s)return v||(0,o.OK)()},[v]),I=r.useCallback((e,n)=>{s(e,n,_,t,c,f)},[c,t,_,f]);return(0,i.jsx)(l.SV,{onError:I,beforeCapture:n,fallback:u,Slardar:f,children:d})}},513081:function(e,t,n){n.d(t,{M2:function(){return o},_q:function(){return s},dE:function(){return a}}),n(250440);var i=n(39738),r=n(829021),l=n(782580);let o=(e,t)=>{if([void 0,null,""].includes(e))return;let n=Number(e);if(t){let e=t.find(e=>n===e.id);if(e)return e.value}switch(n){case i.V_.LINKMICUILAYOUT_VIDEOCHAT_DYNAMICLAYOUT1V6:return r.yP.VIDEO_DYNAMIC_FLOAT;case i.V_.LINKMICUILAYOUT_VIDEOCHAT_ENLARGEGUEST1V6:case i.V_.LINKMICUILAYOUT_VIDEOCHATFLOATWINDOWLAYOUT:return r.yP.VIDEO_1V6;case i.V_.LINKMICUILAYOUT_VIDEOEQUAL_3X3:return r.yP.VIDEO_GRID;case i.V_.LINKMICUILAYOUT_VIDEOEQUALDYNAMICLAYOUT:return r.yP.VIDEO_DYNAMIC;case i.V_.LINKMICUILAYOUT_CROSSROOMLINKMIC_6V6:return r.yP.VIDEO_6V6;case i.V_.LINKMICUILAYOUT_AUDIOCHAT_1V8:return r.yP.AUDIO_1V8;case i.V_.LINKMICUILAYOUT_AUDIOCHAT_3X3:return r.yP.AUDIO_GRID;case i.V_.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V3:return r.yP.VIDEO_1_V_3;case i.V_.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V6:return r.yP.VIDEO_1_V_6;case i.V_.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V8:return r.yP.VIDEO_1_V_8;case i.V_.LINKMICUILAYOUT_VIDEOEQUAL_TOP1V8:return r.yP.VIDEO_T1_V_B8;case i.V_.LINKMICUILAYOUT_AUDIOCHAT_1V8_STAGE:return r.yP.AUDIO_1V8_STAGE;case i.V_.LINKMICUILAYOUT_VIDEOEQUAL_DYNAMICLAYOUT1V8FIX:return r.yP.VIDEO_1V8;case i.V_.LINKMICUILAYOUT_VIDEO_2V4V4:return r.yP.VIDEO_2V4V4;case i.V_.LINKMICUILAYOUT_LIVE_PARTNER_DYNAMIC:return r.yP.MATE_CUSTOM;case i.V_.LINKMICUILAYOUT_AUDIOCHAT_TOP2V4V4:return r.yP.AUDIO_DOUBLE_C;case i.V_.LINKMICUILAYOUT_AUDIOCHAT_1V8_ENLARGE_STAGE:if((0,l.getInLiveAudioLayoutOptAB)())return r.yP.AUDIO_1V8_STAGE;return r.yP.AUDIO_1V8;default:return}},a=e=>"new_audience"===e,s=(e,t)=>{if([e,t].some(e=>!e))return{top:0,left:0,right:0,bottom:0};let n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),r=i.top-n.top,l=i.left-n.left,o=l+t.clientWidth,a=r+t.clientHeight;return{top:r,left:l,right:o,bottom:a}}},246647:function(e,t,n){n.d(t,{l:function(){return i}});var i={TRIPLE_SCREEN_PLUGIN:"triple_screen_plugin",ROTATE_PLUGIN:"rotate_plugin",GLOBAL_APP:"global_app",GIFT_BAR:"gift_bar",GIFT_BAR_MINI:"gift_bar_mini",HEADER:"header",NAVIGATION:"navigation",SIDEBAR:"siderbar",CATEGORY_TAB:"category_tab",TAB:"tab",TITLE_PLUGIN:"title_plugin",FOLLOW_PLUGIN:"follow_plugin",COMMENT_PLUGIN:"comment_plugin",GIFT_SWITCH_PLUGIN:"gift_switch_plugin",GIFT_BAR_PLUGIN:"gift_bar_plugin",EFFECT_SWITCH_PLUGIN:"effect_switch_plugin",GIFT_TRAY_PLUGIN:"gift_tray_plugin",GIFT_EFFECT_PLUGIN:"gift_effect_plugin",FANS_CLUB_PLUGIN:"fans_club_plugin",EXHIBITION_VIEW_PLUGIN:"exhibition_view_plugin",VIP_VIEW_PLUGIN:"vip_view_plugin",EFFECT_PLUGIN:"effect_plugin",HOUR_RANK_LIST_VIEW_PLUGIN:"hour_rank_list_view_plugin",TOOL_BAR_PLUGIN:"tool_bar_plugin",QUALITY_SWITCH_PLUGIN:"quality_switch_plugin",DANMAKU_PLUGIN:"danmaku_plugin",AUDIO_ROOM_PLUGIN:"audio_room_plugin",VIDEO_ROOM_PLUGIN:"video_room_plugin",RTC_LAYER_PLUGIN:"rtc_layer_plugin",PK_VIEW_PLUGIN:"pk_view_plugin",PIP_PLUGIN:"pip_plugin",INPICTURE_PLUGIN:"inpicture_plugin",ADMIN_PRIVILEGE_PLUGIN:"admin_privilege_plugin",LIVING_PLAYER:"living_plyaer",IFRAME_PLAYER:"iframe_player",GIFT_ITEM:"gift_item",GIFT_PANEL:"gift_panel",LIVE_CATEGORY:"live_category",LIVE_CARD:"live_card",RANK_LIST:"rank_list",ORDER_SING_LIST:"order_sing_list",ORDER_SING_RULE:"order_sing_rule",PROMOTION_POP:"promotion_pop",PROMOTION_LIST_WRAPPER:"promotion_list_wrapper",FANS_CLUB_POPUP:"fans_club_popup",USER_POPUP:"user_popup",CHAT_ROOM_PANEL:"chat_room_panel",AUDIENCE_PANEL:"audience_panel",FIXED_CHAT:"fixed_chat",LIVE_CAROUSEL:"live_carousel",LIVE_COVER:"live_cover",LIVE_FULLPLAYER_QULIATY:"live_fullplayer_quality",Live_Like:"live_like",Live_Flutter_Like:"live_flutter_like",DANMAKU_SETTINGS:"danmaku_settings",VIP_LIVE_BOUNDARY:"vip_live_boundary",FOLD_CHAT_ROOM_COMMENT_PLUGIN:"fold_chat_room_comment_plugin",LIVING_PIP_WINDOW:"living-pip-window",SHORT_CUT:"short_cut",SERVICE_CENTER_PLUGIN:"service_center_plugin",QUALITY_SWITCH:"quality_switch",LivePreviewEnterRoom:"LivePreviewEnterRoom",LiveUserProfile:"live_user_profile",LOTTERY_COMPONENT:"lottery_componet",LOTTERY_COMPONENT_PLUGIN:"lottery_componet_plugin",LINK_MIC_DYNAMIC_CONFIG:"link_mic_dynamic_config",LIVE_RESERVE_CARD:"live_reserve_card",StreamCompute:"StreamCompute",RoomLogic:"RoomLogic",EnterAndLeave:"EnterAndLeave",ForceLoginRecorder:"ForceLoginRecorder",ChatRoom:"ChatRoom",Tracking:"Tracking",RoomInit:"RoomInit",RoomMessageConsume:"RoomMessageConsume",StatusHandler:"StatusHandler",RoomEvent:"RoomEvent",RightPanelContainer:"RightPanelContainer",RoomInfoBar:"RoomInfoBar",LandPageContainer:"LandPageContainer",LiveShare:"LiveShare",OperatingBar:"OperatingBar",TheaterPlugin:"TheaterPlugin",KeyBindPlugin:"KeyBindPlugin",VolumeMemoryPlugin:"VolumeMemoryPlugin",RefreshPlugin:"RefreshPlugin",HintContainerPlugin:"HintContainerPlugin",CancelMutePlugin:"CancelMutePlugin",GlobalControlPlugin:"GlobalControlPlugin",PlayerLoggerPlugin:"PlayerLoggerPlugin",PlayerTeaLogPlugin:"PlayerTeaLogPlugin",PlayerEndCover:"PlayerEndCover",VolumeWheelPlugin:"VolumeWheelPlugin",AdaptedBySEIPlugin:"AdaptedBySEIPlugin",PKSEIPlugin:"PKSEIPlugin",NewPlayerErrorCover:"NewPlayerErrorCover",PaidLivePlugin:"PaidLivePlugin",LeadingLoginPlugin:"LeadingLoginPlugin",LinkMicLayoutPlugin:"LinkMicLayoutPlugin",LinkMicPlayModeLimitPlugin:"LinkMicPlayModeLimitPlugin",UpdateFunctionTypePlugin:"UpdateFunctionTypePlugin",TopEffectPlugin:"TopEffectPlugin",OrderSingPlugin:"OrderSingPlugin",GroupFightPlugin:"GroupFightPlugin",GuestBattlePlugin:"GuestBattlePlugin",LiveReserveCard:"LiveReserveCard",PlayerControl:"PlayerControl",UgcAvatar:"UgcAvatar",PlayerEventConsume:"PlayerEventConsume",GroupLive:"GroupLive",ChangeDynamicBg:"ChangeDynamicBg",LinkMicApplyPlugin:"LinkMicApplyPlugin",ORDER_SING_SELECT_GUEST:"order_sing_select_guest",PausePop:"PausePop",DetailContextMenuPlugin:"DetailContextMenuPlugin",DoubleScreenPlugin:"DoubleScreenPlugin",ProgrammeWrapper:"ProgrammeWrapper",LiveTDK:"LiveTDK",AutoRunModal:"AutoRunModal",AudioCheatTips:"AudioCheatTips",GetDressList:"GetDressList",GROUP_LIVE_PLUGIN:"group_live_plugin",LiveFromAppTips:"LiveFromAppTips",COMMENT_EDITOR:"comment_editor",WaterMark:"WaterMark",LIVE_CARD_IN_MIX_PLAYER:"live_card_in_mix_player",VrPlugin:"VrPlugin",Gift_MENU_PLUGIN:"GiftMenu",LIVE_CHANNEL_BANNER_ROOMS:"LIVE_CHANNEL_BANNER_ROOMS",LIVE_CHANNEL_BANNER:"LIVE_CHANNEL_BANNER"}},659933:function(e,t,n){n.d(t,{C:function(){return o},D:function(){return a}}),n(874386),n(675373);var i=n(914104),r=n(393738),l=n(419631);let o=n.n(l)()(async()=>{try{return r.CpO.instance}catch(t){var e;null===(e=(0,i.OK)())||void 0===e||e.sendEvent({name:"import_static_idl_error",categories:{error:t}})}}),a=async function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let i=await o();return null==i?void 0:i.decode(...t)}},877033:function(e,t,n){n.d(t,{v0C:function(){return g}});var i=n(134761),r=n(520739),l=n(878389);n(413806),n(826893),n(284961),n(927234),n(874386);var o=n(167951),a=n(742401),s=n(136832),u=n(914104),d=n(661898),c=n(785632),_=n(455239),v=n(214068),f=n(659933),I=n(782580);n(393738);class g extends d.TQ{setImRequestPath(e){this.polling.props.im_path=e}setWebsocketKey(e){this.polling.props.websocket_key=e}setInsertKey(e,t){this.insertData={insert_task_id:e,live_reason:t}}getimReponseHeader(){return this.headers.fetchHeader}getCursor(){var e;return null===this||void 0===this?void 0:null===(e=this.cursor)||void 0===e?void 0:e._first_cursor}getPolling(){return this.polling}getDecoder(){return null===this||void 0===this?void 0:this.decoder}getimPushResponseHeader(){return this.headers.pushHeader}getimHeader(){return this.headers}subscribe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.C7.ASYNC;if(n===v.C7.ASYNC){let n=e.split(",").map(e=>this.on(e.replace(c.nl,""),t));return()=>{n.forEach(e=>e())}}let i=e=>t([e]);this.cachedHandler.set(t,i);let r=e.split(",").map(e=>this.syncOn(e.replace(c.nl,""),i));return()=>{this.cachedHandler.delete(t),r.forEach(e=>e())}}unsubscribe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.C7.ASYNC;if(n===v.C7.ASYNC){e.split(",").forEach(e=>this.off(e.replace(c.nl,""),t));return}let i=this.cachedHandler.get(t);this.cachedHandler.delete(t),e.split(",").forEach(e=>this.syncOff(e.replace(c.nl,""),i))}start(e){var t,n,i,l,o,s,d,_;arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{this.systemEmitter.on("header",(e,t)=>{if("http"===e&&!this.headers.fetchHeader){this.headers.fetchHeader=t;return}if("socket"===e){this.headers.pushHeader=t;return}});let u="15";if(!a.s){let e=(null===(s=window)||void 0===s?void 0:null===(o=s.__STORE__)||void 0===o?void 0:null===(l=o.roomStore)||void 0===l?void 0:null===(i=l.roomInfo)||void 0===i?void 0:null===(n=i.room)||void 0===n?void 0:null===(t=n.room_auth)||void 0===t?void 0:t.FirstFeedHistChat)||0;2===e&&(u="0")}"string"==typeof e?super.start({room_id:e,identity:c.nN.Audience,need_persist_msg_count:u,insert_task_id:this.insertData.insert_task_id,live_reason:this.insertData.live_reason}):super.start((0,r._)({identity:c.nN.Audience,need_persist_msg_count:u,insert_task_id:this.insertData.insert_task_id,live_reason:this.insertData.live_reason},e))}catch(e){try{(0,u.OK)().report({ev_type:"custom",payload:{name:"im-sdk-error",categories:{message:null==e?void 0:e.message,stack:null==e?void 0:null===(_=e.stack)||void 0===_?void 0:null===(d=_.toString)||void 0===d?void 0:d.call(_)},level:"warn",type:"log"}})}catch(e){}}}queuePush(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(e=>this.mock(e.method,e))}constructor(){var e;super(f.C,{host:(0,s.iE)().API_DOMAIN,aid:"6383",live_id:1,app_name:"douyin_web",did_rule:3,endpoint:"live_pc",support_wrds:1,user_unique_id:null===(e=(0,o.Es)())||void 0===e?void 0:e.user_unique_id,im_path:"/webcast/im/fetch/",websocket_key:[]},[],{emitter:new _.Q,get backdropWhenHidden(){if("undefined"==typeof window||(0,I.getInLiveMsgFetchOpt)())return[];return["ChatMessage","GiftMessage","LikeMessage"]},wrdsV1:["WebcastPaidLiveTypeModifyMessage"]}),(0,i._)(this,"headers",{}),(0,i._)(this,"insertData",{insert_task_id:"",live_reason:""}),(0,i._)(this,"cachedHandler",new Map);let t=(0,l._)((0,r._)({},this.wrds),{subscribe:(e,t)=>{let n=e.split(",").map(n=>this.wrds.on("RoomDataSyncMessage",e,t,"v1"));return()=>{n.forEach(e=>e())}},unsubscribe:(e,t)=>{e.split(",").forEach(e=>{this.wrds.off("RoomDataSyncMessage",e,t)})}});this.wrds=t,!a.s&&(window.__use_isaac_sdk=!0),this.systemEmitter.on("downgrade",e=>{var t,n,i,r,l,o;this.downgrade(e),(0,u.OK)().report({ev_type:"custom",payload:{name:"im-sdk-downgrade",metrics:{downgrade:1},categories:{type:scope,userId:null===(i=window.INITIAL_STATE)||void 0===i?void 0:null===(n=i.userStore)||void 0===n?void 0:null===(t=n.userInfo)||void 0===t?void 0:t.id_str,roomId:null===(o=window.INITIAL_STATE)||void 0===o?void 0:null===(l=o.roomStore)||void 0===l?void 0:null===(r=l.roomInfo)||void 0===r?void 0:r.roomId},type:"event"}})}),this.systemEmitter.on("error",(e,t)=>{var n,i,r,l,o,a;(0,u.OK)().report({ev_type:"custom",payload:{name:"im-sdk-error",metrics:{[e]:1},categories:{type:e,userId:null===(r=window.INITIAL_STATE)||void 0===r?void 0:null===(i=r.userStore)||void 0===i?void 0:null===(n=i.userInfo)||void 0===n?void 0:n.id_str,roomId:null===(a=window.INITIAL_STATE)||void 0===a?void 0:null===(o=a.roomStore)||void 0===o?void 0:null===(l=o.roomInfo)||void 0===l?void 0:l.roomId},content:`${t}`,level:"warn",type:"log"}})})}}},713503:function(e,t,n){n.d(t,{f:function(){return i}}),n(284961),n(826893);let i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/^http:\/\//i,"https://")}},310528:function(e,t,n){n.d(t,{$:function(){return d}}),n(874386);var i=n(563097),r=n(88648),l=n(12912),o=n(852664),a=n(434144),s=n(565024),u=n(987475);function d(e){let{children:t,mobileUrl:n,nonce:d,applicableDevice:c="pc,mobile"}=e,[_,v]=r.useState(!1);r.useEffect(()=>{(0,o.GP)()&&v(!0)},[]);let f=r.useMemo(()=>(0,a.Dr)(s.Q.getItem({sKey:u.CookieKeys.Theme})),[]);return(0,i.jsxs)(l.Helmet,{children:[(0,i.jsx)("meta",{charSet:"utf-8"}),t,(0,i.jsx)("meta",{httpEquiv:"Cache-Control",content:"no-transform"}),(0,i.jsx)("meta",{httpEquiv:"Cache-Control",content:"no-siteapp"}),(0,i.jsx)("meta",{httpEquiv:"x-dns-prefetch-control",content:"on"}),(0,i.jsx)("meta",{name:"applicable-device",content:n?"pc":c}),n&&(0,i.jsx)("meta",{name:"mobile-agent",content:`format=[html5]; url=${n}`}),n&&(0,i.jsx)("link",{rel:"alternate",media:"only screen and (max-width: 640px)",href:n}),(0,i.jsx)("meta",{name:"baidu-site-verification",content:"code-2WPwEy0bEv"}),(0,i.jsx)("meta",{name:"google",content:"notranslate"}),(0,i.jsx)("meta",{name:"theme-color",content:`${"light"===f?"#ffffff":"#161823"}`}),(0,i.jsx)("script",{nonce:d,children:`
        (function(win, export_obj) {
          win['TeaAnalyticsObject'] = export_obj;
          if (!win[export_obj]) {
              function _collect() {
                  _collect.q.push(arguments);
              }
              _collect.q = _collect.q || [];
              win[export_obj] = _collect;
          }
          win[export_obj].l = +new Date();
      })(window, 'collectEvent');
      `}),!_&&(0,i.jsx)("link",{rel:"manifest",href:"https://p-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/pwa/manifest.json"}),(0,i.jsx)("link",{href:"//fonts.bytedance.com/dfd/api/v1/css?family=DFPKingGothicGB-Medium:500&display=swap",rel:"stylesheet",media:"print",id:"media1"}),(0,i.jsx)("link",{href:"//fonts.bytedance.com/dfd/api/v1/css?family=DFPKingGothicGB-Regular:500&display=swap",rel:"stylesheet",media:"print",id:"media2"}),(0,i.jsx)("script",{nonce:d,children:`
          document.getElementById("media1").addEventListener("load", function () {
            this.media = "all";
            this.onload = null;
          });
          document.getElementById("media2").addEventListener("load", function () {
            this.media = "all";
            this.onload = null;
          });
        `})]})}},259624:function(e,t,n){n.d(t,{g:function(){return m}});var i=n(520739);n(874386),n(250440);var r=n(88648),l=n(832052),o=n(302461),a=n(399242),s=n(725887),u=n(979385),d=n(441447),c=n(737271),_=n(798644),v=n(948431),f=n(487330);let I=[l.e.LiveCard,l.e.WordCupCard,l.e.Article],g=[l.e.LiveCard,l.e.WordCupCard,l.e.Note,l.e.Article],m=e=>{let{swiper:t,setAwemeInfoList:n,awemeInfoList:m,awemeInfo:p,refMixPlayer:h,liveCardDisable:L=!0,scrollRef:E,isInnerFeed:P,enterFrom:T}=e,N=(0,r.useRef)(null),A=(0,v.Z)({refMixPlayer:h,from:"sideList"}),{isWebMiniWin:C,isListenVideoMiniWin:y}=(0,f.Iq)(e=>{let{isWebMiniWin:t,isListenVideoMiniWin:n}=e;return{isWebMiniWin:t,isListenVideoMiniWin:n}}),[O,U]=(0,r.useState)(!1),w=(0,r.useRef)({}),R=(0,r.useRef)([]),V=(0,r.useRef)(0);R.current=m,N.current=null==E?void 0:E.current;let M=(0,r.useMemo)(()=>C||A||y,[C,A,y]);return(0,o.o)(()=>{var e,i;let r=void 0!==P&&P||(null===(e=s.Le.getConfig(s.gI.IsInLookMiniModal))||void 0===e?void 0:e.isInMiniModal),l=null==h?void 0:null===(i=h.current)||void 0===i?void 0:i.getPlayer();if(!(l&&!l.isUserActive&&T&&["follow","friend"].includes(T)&&(C||y))){if(M&&(!r||!O)&&t&&m){for(let e=0;e<m.length;e++){let t=m[e];C?g.includes(t.awemeType)&&(w.current[e]=t):y&&!(0,u.P)(t)?w.current[e]=t:I.includes(t.awemeType)&&(w.current[e]=t)}let e=0;for(let n=0;n<Object.keys(w.current).length;n++)Number(Object.keys(w.current)[n])<t.activeIndex&&e++,m.splice(Number(Object.keys(w.current)[n])-n,1);return n([...m]),t.slideTo(t.activeIndex-e,0),()=>{var e;let i=0,r=[...R.current];for(let e=0;e<Object.keys(w.current).length;e++)Number(Object.keys(w.current)[e])<=t.activeIndex+i&&i++,r.splice(Number(Object.keys(w.current)[e]),0,w.current[Object.keys(w.current)[e]]);w.current={},n(r),(null===(e=N.current)||void 0===e?void 0:e.setScrollData)&&N.current.setScrollData({dataList:r}),setTimeout(()=>t.slideTo(t.activeIndex+i,0),0)}}}},[M,O,t,P]),(0,o.o)(()=>{let e=d.listen(d.EVENT.exitModalVideo,()=>{var e,t,n,i;if((null===(e=N.current)||void 0===e?void 0:e.setScrollData)&&(null===(n=R.current)||void 0===n?void 0:null===(t=n.filter(e=>"releated"===e.dataType))||void 0===t?void 0:t.length)>0){let e=null===(i=R.current)||void 0===i?void 0:i.filter(e=>"releated"!==e.dataType);N.current.setScrollData({dataList:e})}});return()=>{e()}},[]),(0,o.o)(()=>{let e=d.listen(d.EVENT.changeMinWindows,e=>{var n,i;let{event:r,clickMethod:o,source:u}=e,v=null==h?void 0:null===(n=h.current)||void 0===n?void 0:n.getPlayer(),f=(null==m?void 0:null===(i=m[null==t?void 0:t.activeIndex])||void 0===i?void 0:i.awemeType)===l.e.LiveCard&&L&&"small_window_widget"!==u,I=_.s.getPlayersByScene(a.lT.Modal).length>0&&v&&_.s.getPlayerScene(null==v?void 0:v.playerId)!==a.lT.Modal;if(!f&&!I)"check"===r&&setTimeout(()=>{if(!s.Le.getConfig(s.gI.IsMiniWin))((null==m?void 0:m.length)>0||p)&&((0,c.r)()&&(null==v||v.exitFullscreen()),d.emit(d.EVENT.changeMinWindows,{event:"open",isMiniWin:!0,clickMethod:o,source:u}))},50)});return()=>e()},[m,p,h,t,L]),(0,o.o)(()=>{var e,t;let r=null==h?void 0:null===(e=h.current)||void 0===e?void 0:e.getPlayer();if(r&&!r.isUserActive&&T&&["follow","friend"].includes(T)&&(C||y))return;let l=void 0!==P&&P||(null===(t=s.Le.getConfig(s.gI.IsInLookMiniModal))||void 0===t?void 0:t.isInMiniModal);if(M&&(!l||!O)&&m&&m.length!==V.current){let e=Object.keys(w.current).length,t={};for(let n=0;n<m.length;n++){let i=m[n];C?g.includes(i.awemeType)&&(t[e+n]=i):y&&!(0,u.P)(i)?t[e+n]=i:I.includes(i.awemeType)&&(t[e+n]=i)}for(let n=0;n<Object.keys(t).length;n++)m.splice(Number(Object.keys(t)[n])-n-e,1);w.current=(0,i._)({},w.current,t),n([...m]),V.current=m.length}},[m,M,O,P]),(0,o.o)(()=>{let e=d.listen(d.EVENT.changeVideoSideBar,e=>{let{isShowRelatedCard:t,isAuthorCardShow:n}=e;U(!!(t||n))});return()=>e()},[]),{refLiveStore:w}}},948431:function(e,t,n){n.d(t,{Z:function(){return c}}),n(874386);var i=n(88648),r=n(302461),l=n(399242),o=n(725887),a=n(441447),s=n(265656),u=n(533155),d=n(798644);let c=e=>{let{changeMinWinCb:t,refMixPlayer:n,from:c}=e||{},[_,v]=(0,i.useState)(!1),f=(0,i.useRef)(void 0);return(0,r.o)(()=>{v(o.Le.getConfig(o.gI.IsMiniWin));let e=a.listen(a.EVENT.changeMinWindows,e=>{var i;let{isMiniWin:r,source:o,event:a}=e,s=r,u=null==n?void 0:null===(i=n.current)||void 0===i?void 0:i.getPlayer();d.s.getPlayersByScene(l.lT.Modal).length>0&&u&&d.s.getPlayerScene(null==u?void 0:u.playerId)!==l.lT.Modal&&(s=!1),f.current=o,v(s),null==t||t(s)});return()=>e()},[]),(0,i.useEffect)(()=>{_&&!(0,s.En)()&&"sideList"===c&&u.Z.sendLog("smallWindowShow",{source:f.current})},[_]),_}},708334:function(e,t,n){n.d(t,{V:function(){return a}}),n(250440);var i=n(88648),r=n(953208),l=n(623527),o=n(742740);let a=e=>{let{awemeInfo:t}=e;(0,i.useEffect)(()=>{var e,n,i,a,s,u,d,c,_;(null==t?void 0:null===(e=t.anchorInfo)||void 0===e?void 0:e.type)===r.as.AnchorShop&&!(null==t?void 0:null===(a=t.anchorInfo)||void 0===a?void 0:null===(i=a.extra)||void 0===i?void 0:null===(n=i[0])||void 0===n?void 0:n.product_detail_schema)&&[1,4].includes(Number(null==t?void 0:null===(d=t.anchorInfo)||void 0===d?void 0:null===(u=d.extra)||void 0===u?void 0:null===(s=u[0])||void 0===s?void 0:s.platform))&&l.oe.event.error({name:l.Mo.ShopAnchorDataError,report:{logId:t.logPb,erroData:null==t?void 0:null===(_=t.anchorInfo)||void 0===_?void 0:null===(c=_.extra)||void 0===c?void 0:c[0],enterFromMerge:(0,o.yW)()}})},[t])}},727085:function(e,t,n){n(874386);var i=n(563097),r=n(88648),l=n(801103),o=n(276541),a=n(647571),s=n(474379),u=n(713097),d=n.n(u),c=n(899152);n(459903),a.Z.use([s.Z]);t.Z=e=>{let{slideItems:t,className:n,width:a,height:s=20,isStartPlay:u=!1}=e,[_,v]=(0,r.useState)(),f=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(_&&u&&(null==t?void 0:t.length)>1){if(!f.current){var e;null==_||null===(e=_.slideNext)||void 0===e||e.call(_),f.current=setInterval(()=>{var e;null==_||null===(e=_.slideNext)||void 0===e||e.call(_)},3e3)}}else f.current&&clearInterval(f.current),f.current=null},[u,t,_]),(0,r.useEffect)(()=>()=>{f.current&&clearInterval(f.current),f.current=null},[]),(0,i.jsx)("div",{className:d()(c.default.adSwiper,n),children:(0,i.jsx)(l.t,{allowTouchMove:!1,direction:"vertical",slidesPerView:1,spaceBetween:0,loop:!0,onInit:v,width:a,height:s,autoplay:!1,children:t.map((e,t)=>(0,i.jsx)(o.o,{children:(0,i.jsx)("div",{className:c.default.slideContent,children:e})},t))})})}},375216:function(e,t,n){var i=n(563097);n(88648);var r=n(713097),l=n.n(r),o=n(894306);t.Z=e=>{let{className:t,children:n,style:r,onClick:a}=e;return(0,i.jsx)("span",{style:r,className:l()(o.default.adTag,t),onClick:a,children:n})}},531611:function(e,t,n){var i=n(563097);n(88648);var r=n(713097),l=n.n(r),o=n(590682),a=n(256855),s=n(727085),u=n(801636),d=n(212271);t.Z=e=>{let{className:t,title:n,imageUrl:r,isBackupImgUrl:c=!1,slideItems:_,buttonText:v,buttonBgColor:f=o.DEFAULT_BUTTON_COLOR,onClick:I,isStartPlay:g}=e;return(0,i.jsxs)("div",{className:l()(a.default.doubleLineAdCard,t),onClick:e=>I(e,{refer:d.tU.Blank}),children:[(0,i.jsxs)("div",{className:a.default.adInfo,children:[(0,i.jsx)("div",{onClick:e=>I(e,{refer:d.tU.Photo,click_type:c?d.Kw.AdBackupProduct:d.Kw.AdProduct}),children:(0,i.jsx)(u.Q,{src:r,iconHeight:40,iconWidth:40,className:a.default.adIcon})}),(0,i.jsxs)("div",{className:a.default.detail,children:[(0,i.jsx)("div",{className:a.default.title,onClick:e=>I(e,{refer:d.tU.Name}),children:n}),(0,i.jsx)(s.Z,{isStartPlay:g,className:a.default.swiperContainer,width:108,slideItems:_})]})]}),(0,i.jsx)("div",{className:a.default.adButton,onClick:e=>I(e,{refer:d.tU.Button}),style:{background:f},children:v})]})}},187348:function(e,t,n){var i=n(563097);n(88648);var r=n(713097),l=n.n(r),o=n(697021),a=n(830500),s=n(727085),u=n(801636),d=n(212271),c=n(979571);t.Z=e=>{let{className:t,imageUrl:n,isBackupImgUrl:r=!1,slideItems:_,buttonText:v,onClick:f,isStartPlay:I}=e;return(0,i.jsxs)("div",{className:l()(a.default.singleLineAdCard,t),onClick:e=>f(e,{refer:d.tU.Blank}),children:[(0,i.jsxs)("div",{className:a.default.adInfo,children:[(0,i.jsx)("div",{onClick:e=>f(e,{refer:d.tU.Photo,click_type:r?d.Kw.AdBackupProduct:d.Kw.AdProduct}),children:(0,i.jsx)(u.Q,{src:n,iconHeight:28,iconWidth:28,className:a.default.adIcon})}),(0,i.jsx)("div",{onClick:e=>f(e,{refer:d.tU.Name}),children:(0,i.jsx)(s.Z,{isStartPlay:I,className:a.default.swiperContainer,width:136,slideItems:_})})]}),(0,i.jsxs)("div",{className:a.default.btnBox,onClick:e=>f(e,{refer:d.tU.Button}),children:[(0,i.jsx)("span",{className:a.default.text,children:v}),(0,i.jsx)(c.z,{svg:(0,i.jsx)(o.Z,{}),className:a.default.icon})]})]})}},496831:function(e,t,n){var i=n(563097);n(88648);var r=n(713097),l=n.n(r),o=n(590682),a=n(153612),s=n(727085),u=n(801636),d=n(375216),c=n(212271);t.Z=e=>{var t;let{className:n,title:r,imageUrl:_,isBackupImgUrl:v=!1,slideItems:f,buttonText:I,buttonBgColor:g=o.DEFAULT_BUTTON_COLOR,tags:m=[],onClick:p,isStartPlay:h}=e;return(0,i.jsxs)("div",{className:l()(a.default.strongStyleAdCard,n),onClick:e=>p(e,{refer:c.tU.Blank}),children:[(0,i.jsxs)("div",{className:a.default.adInfo,children:[(0,i.jsx)("div",{onClick:e=>p(e,{refer:c.tU.Photo,click_type:v?c.Kw.AdBackupProduct:c.Kw.AdProduct}),children:(0,i.jsx)(u.Q,{src:_,iconHeight:72,iconWidth:72,className:a.default.adIcon})}),(0,i.jsxs)("div",{className:a.default.detail,children:[(0,i.jsx)("div",{className:a.default.title,onClick:e=>p(e,{refer:c.tU.Name}),children:r}),(null==m?void 0:m.length)>0&&(0,i.jsx)("div",{className:a.default.tagLine,children:null==m?void 0:null===(t=m.slice(0,2))||void 0===t?void 0:t.map((e,t)=>(0,i.jsx)(d.Z,{className:a.default.tag,onClick:t=>p(t,{refer:c.tU.Pull,product_tags:e}),children:e},t))}),(0,i.jsx)(s.Z,{isStartPlay:h,className:a.default.swiperContainer,width:156,slideItems:f})]})]}),(0,i.jsx)("div",{className:a.default.adButton,style:{background:g},onClick:e=>p(e,{refer:c.tU.Button}),children:I})]})}},800166:function(e,t,n){n.d(t,{VD:function(){return i},Wc:function(){return a},_u:function(){return s},k1:function(){return r},lg:function(){return l},vv:function(){return o}});let i=["不容错过的优品","值得买的好物","优选心仪好物","精选超值好货"],r=["人气热卖","优选好物"],l=["优选好物"],o=5,a=7,s=8},148091:function(e,t,n){n.d(t,{V:function(){return c}});var i=n(88648),r=n(734123),l=n(419631),o=n.n(l),a=n(832052),s=n(441447),u=n(335101);let d=!1,c=e=>{let{awemeInfo:t,isFirst:n,isActive:l,timeout:c=2e3}=e,_=(0,u.n)();return(0,i.useEffect)(()=>{if(!l)return;let e=o()(e=>{let{isDown:i=!1}=e||{};d=!0,s.emit(s.EVENT.firstFrameReady,{firstFrameReadyPlayer:_,vid:null==t?void 0:t.awemeId,playerId:null==_?void 0:_.playerId,isFirst:n,isDown:!!i,isActive:l})});if((null==t?void 0:t.awemeType)!==a.e.Normal){setTimeout(()=>{e({isDown:!0})},0);return}if((null==t?void 0:t.awemeType)===a.e.Normal&&_){if(!1===n&&!d||_.isPlaying||_.currentTime>0){setTimeout(()=>{e({isDown:!0})},0);return}_.on(r.Events.AUTOPLAY_STARTED,e),_.on(r.Events.AUTOPLAY_PREVENTED,e);let t=setTimeout(()=>{e({isDown:!0})},c);return()=>{_.off(r.Events.AUTOPLAY_STARTED,e),_.off(r.Events.AUTOPLAY_PREVENTED,e),clearTimeout(t)}}},[_,t,n,l,c]),null}},529961:function(e,t,n){n.d(t,{n:function(){return T}});var i=n("520739"),r=n("878389"),l=n("563097"),o=n("88648"),a=n("713097"),s=n.n(a),u=n("734123"),d=n("645003"),c=n("623582"),_=n("338478"),v=n("7305"),f=n("618209");n("874386");var I=n("568201"),g=n("335101"),m=n("165674"),p={SingleLine:0,0:"SingleLine",TowLine:1,1:"TowLine"},h=n("443073"),L=n("115627"),E=n("289228");let P=e=>{var t,n,a;let{awemeInfo:h,onClick:E,isActive:P,className:T,onMouseEnter:N,onMouseLeave:A}=e,{displayState:C}=function(e){let{awemeInfo:t,isActive:n}=e,i=(0,g.n)(),r=(0,o.useRef)(!0),l=(0,o.useRef)(!1),[a,s]=(0,o.useState)(0),d=(0,o.useCallback)(()=>{if(!l.current){var e,t;null==i||null===(e=i.on)||void 0===e||e.call(i,I.B.TimeUpdate,v),null==i||null===(t=i.on)||void 0===t||t.call(i,u.Events.SEEKING,f)}l.current=!0},[i]),c=(0,o.useCallback)(()=>{if(l.current){var e,t;null==i||null===(e=i.off)||void 0===e||e.call(i,I.B.TimeUpdate,v),null==i||null===(t=i.off)||void 0===t||t.call(i,u.Events.SEEKING,f)}l.current=!1},[i]),_=(0,o.useCallback)(()=>{r.current=!0},[]),v=(0,o.useCallback)(e=>{let{currentTime:t}=e||{};t>=16&&(r.current=!1,s(1),c())},[i,t,c]),f=(0,o.useCallback)(e=>{let{currentTime:t}=e;t>=16&&(s(1),c()),r.current=!1},[c]),p=(0,o.useCallback)(()=>{s(1),_(),d()},[d,_]);return(0,m.u)(i,I.B.Ended,p),(0,o.useEffect)(()=>{_()},[n,_]),(0,o.useEffect)(()=>{s(0),_()},[t.awemeId,_]),(0,o.useEffect)(()=>{if(!!n){if(i&&r.current)return d(),()=>{c()}}},[i,t,n,d,c]),(0,o.useEffect)(()=>{(null==i?void 0:i.currentTime)&&v({currentTime:i.currentTime})},[i]),{displayState:a}}({isActive:P,awemeInfo:h}),y=(null==h?void 0:null===(n=h.anchorInfo)||void 0===n?void 0:null===(t=n.extra)||void 0===t?void 0:t[0])||{},O=(0,g.n)(),U=(0,d.x)(()=>{c.logInstance.sendLog("productEntranceShow",(0,r._)((0,i._)({},(0,_.R)(h)),{ecom_entrance_form:"video_cart_tag",if_qianchuan_ad:0}))}),w=(null==y?void 0:y.tags)||[],R=C===p.TowLine&&w.length>0;return(0,l.jsx)("div",{className:s()("xgplayer-shop-anchor",f.default.container,f.default.shopAnchor,{[f.default.more]:R},T),onClick:()=>{null==E||E(),null==O||O.emit(u.Events.USER_ACTION,{action:"shop_anchor_click"}),c.logInstance.sendLog("productEntranceClick",(0,r._)((0,i._)({},(0,_.R)(h)),{ecom_entrance_form:"video_cart_tag",if_qianchuan_ad:0}))},onMouseEnter:()=>{null==N||N()},onMouseLeave:()=>{null==A||A()},ref:U,children:(0,l.jsxs)("div",{className:f.default.subContainer,children:[(0,l.jsx)(L.Z,{src:v.Z,className:f.default.icon,width:20,height:20,viewBox:"0 0 20 20"}),(0,l.jsxs)("div",{className:f.default.desc,children:[(0,l.jsxs)("div",{className:f.default.firstLine,children:[null==h?void 0:null===(a=h.anchorInfo)||void 0===a?void 0:a.titleTag,(null==y?void 0:y.elastic_title)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:f.default.delimiter,children:" | "})," ",null==y?void 0:y.elastic_title]})]}),R&&(0,l.jsx)("div",{className:f.default.secondLine,children:w.map((e,t)=>(0,l.jsxs)("span",{className:f.default.towLineItem,children:[e," ",t<w.length-1&&(0,l.jsxs)(l.Fragment,{children:[" ",(0,l.jsx)("span",{className:f.default.delimiter,children:" | "})]})]},e))})]})]})})},T=e=>{let t=(0,h.N)();return(0,l.jsx)(E.k,{componentName:"ShopAnchor",Slardar:t,children:(0,l.jsx)(P,(0,i._)({},e))})}},7305:function(e,t,n){var i=n(520739),r=n(878389),l=n(563097),o=n(88648);let a=(0,o.forwardRef)((e,t)=>(0,l.jsxs)("svg",(0,r._)((0,i._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,l.jsx)("rect",{width:20,height:20,rx:2,fill:"#FF851D"}),(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.158 5.41a1 1 0 0 1-.985-.828L5.97 3.414A.5.5 0 0 0 5.476 3H3a.5.5 0 0 0-.5.5v1A.5.5 0 0 0 3 5h.934a.5.5 0 0 1 .5.475l.359 7.076a1 1 0 0 0 .998.949H14.5a.5.5 0 0 0 .5-.5v-.5a.5.5 0 0 0-.5-.5H7a.5.5 0 0 1-.5-.5V11a.5.5 0 0 1 .5-.5h8.111a.5.5 0 0 0 .485-.377l1.04-4.09a.5.5 0 0 0-.484-.624H7.158zM6.25 17a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5zm7.25-1.25a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0z",fill:"#fff"})]})));t.Z=a}}]);