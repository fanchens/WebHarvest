/*! For license information please see client-entry~7.01f4beba.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).xss={})}(this,function(e){"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function n(e,t,n){if(n||2==arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}var i=/[^a-zA-Z0-9\\_:.-]/gim,o=/</g,r=/>/g,l=/&#([a-zA-Z0-9]*);?/gim,a=/&quot;/g,u=/&colon;?/gim,s=/&newline;?/gim,d=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,c=/u\s*r\s*l\s*\(.*/gi,f=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,v=/"/g,m=function(e){return e.replace(o,"&lt;").replace(r,"&gt;")},g={indexOf:function(e,t){var n,i;for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return -1},forEach:function(e,t,n){var i,o;for(i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e)},some:function(e,t,n){var i,o;for(i=0,o=e.length;i<o;i++)if(t.call(n,e[i],i,e))return!0;return!1},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},includes:function(e,t){if("string"==typeof e)return -1!==e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},uniq:function(e){for(var t={},n=[],i=0;i<e.length;i++)t[e[i]]||(n.push(e[i]),t[e[i]]=!0);return n},from:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},keys:function(e){var t=[];for(var n in e)t.push(n);return t}};function _(e){return null==e}function h(e){var t;return'"'===(t=e)[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1]?e.substr(1,e.length-2):e}function p(e){var t,n,i,o,r,l,a,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="",d=0;for(e=function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?t+=String.fromCharCode(i>>6|192)+String.fromCharCode(63&i|128):t+=String.fromCharCode(i>>12|224)+String.fromCharCode(i>>6&63|128)+String.fromCharCode(63&i|128)}return t}(e);d<e.length;)o=(t=e.charCodeAt(d++))>>2,r=(3&t)<<4|(n=e.charCodeAt(d++))>>4,l=(15&n)<<2|(i=e.charCodeAt(d++))>>6,a=63&i,isNaN(n)?l=a=64:isNaN(i)&&(a=64),s=s+u.charAt(o)+u.charAt(r)+u.charAt(l)+u.charAt(a);return s}function w(e){var t,n,i,o,r,l,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",s=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");s<e.length;)t=a.indexOf(e.charAt(s++))<<2|(o=a.indexOf(e.charAt(s++)))>>4,n=(15&o)<<4|(r=a.indexOf(e.charAt(s++)))>>2,i=(3&r)<<6|(l=a.indexOf(e.charAt(s++))),u+=String.fromCharCode(t),64!==r&&(u+=String.fromCharCode(n)),64!==l&&(u+=String.fromCharCode(i));return function(e){for(var t="",n=0,i=0,o=0,r=0;n<e.length;)(i=e.charCodeAt(n))<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(t+=String.fromCharCode((31&i)<<6|63&(r=e.charCodeAt(n+1))),n+=2):(r=e.charCodeAt(n+1),t+=String.fromCharCode((15&i)<<12|(63&r)<<6|63&(o=e.charCodeAt(n+2))),n+=3);return t}(u)}function y(e,t,n){var i="",o=0,r=!1,l=!1,a=0,u=e.length,s="",d="";e:for(a=0;a<u;a++){var c=e.charAt(a);if(!1===r){if("<"===c){r=a;continue}}else if(!1===l){if("<"===c){i+=n(e.slice(o,a)),r=a,o=a;continue}if(">"===c||a===u-1){i+=n(e.slice(o,r)),s=function(e){var t,n=g.spaceIndex(e);return t=-1===n?e.slice(1,-1):e.slice(1,n+1),"/"===(t=g.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}(d=e.slice(r,a+1)),i+=t(r,i.length,s,d,"</"===d.slice(0,2)),o=a+1,r=!1;continue}if('"'===c||"'"===c)for(var f=1,v=e.charAt(a-f);""===v.trim()||"="===v;){if("="===v){l=c;continue e}v=e.charAt(a-++f)}}else if(c===l){l=!1;continue}}return o<u&&(i+=n(e.substr(o))),i}function b(e,t){var n=0,o=0,r=[],l=!1,a=e.length;function u(e,n){if(!((e=(e=g.trim(e)).replace(i,"").toLowerCase()).length<1)){var o=t(e,n||"");o&&r.push(o)}}for(var s=0;s<a;s++){var d=e.charAt(s),c=void 0;if(!1!==l||"="!==d){if(!1===l||s!==o){if(/\s|\n|\t/.test(d)){if(e=e.replace(/\s|\n|\t/g," "),!1===l){if(-1===(c=function(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}return -1}(e,s))){u(g.trim(e.slice(n,s))),l=!1,n=s+1;continue}s=c-1;continue}if(-1===(c=function(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}return -1}(e,s-1))){u(l,h(g.trim(e.slice(n,s)))),l=!1,n=s+1;continue}}}else{if(-1===(c=e.indexOf(d,s+1)))break;u(l,g.trim(e.slice(o+1,c))),l=!1,n=(s=c)+1}}else l=e.slice(n,s),n=s+1,o='"'===e.charAt(n)||"'"===e.charAt(n)?n:function(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"'"===n||'"'===n?t:-1}return -1}(e,s+1)}return n<e.length&&(!1===l?u(e.slice(n)):u(l,h(g.trim(e.slice(n))))),g.trim(r.join(" "))}function C(e,t,n){if(n=function(e){return e=function(e){for(var t="",n=0,i=e.length;n<i;n++)t+=32>e.charCodeAt(n)?" ":e.charAt(n);return g.trim(t)}(e=(e=(e=e.replace(a,'"')).replace(l,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))})).replace(u,":").replace(s," "))}(n),"href"===t||"src"===t){if("#"===(n=g.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(d.lastIndex=0,d.test(n))return""}else if("style"===t&&(f.lastIndex=0,f.test(n)||(c.lastIndex=0,c.test(n)&&(d.lastIndex=0,d.test(n)))))return"";return n=function(e){return e=m(e=e.replace(v,"&quot;"))}(n)}var S=function(e){return"string"==typeof e?e.replace(/'/g,'"').replace('=""',"").replace(/\s+/g,"").toLowerCase():""},I=function(){function e(e){var t=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{});t.stripIgnoreTag&&(t.onIgnoreTag,t.onIgnoreTag=function(){return""}),t.whiteList={},t.onTag=function(){},t.onTagAttr=function(){},t.onIgnoreTag=function(){},t.onIgnoreTagAttr=function(){},t.safeAttrValue=C,t.escapeHtml=m,this.options=Object.assign(t,e)}return e.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t,n,i,o,r,l,a=this.options,u=a.whiteList,s=a.onTag,d=a.onIgnoreTag,c=a.onTagAttr,f=a.onIgnoreTagAttr,v=a.safeAttrValue,m=a.escapeHtml;a.stripBlankChar&&(e=(t=(t=e.split("")).filter(function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)})).join("")),a.allowCommentTag||(e=function(e){for(var t="",n=0;n<e.length;){var i=e.indexOf("\x3c!--",n);if(-1===i){t+=e.slice(n);break}t+=e.slice(n,i);var o=e.indexOf("--\x3e",i);if(-1===o)break;n=o+3}return t}(e));var _=!1;a.stripIgnoreTagBody&&(n=a.stripIgnoreTagBody,"function"!=typeof(i=d)&&(i=function(){}),o=!Array.isArray(n),r=[],l=!1,d=(_={onIgnoreTag:function(e,t,a){var u;if(u=e,o||-1!==g.indexOf(n,u)){if(a.isClosing){var s="[/removed]",d=a.position+s.length;return r.push([!1!==l?l:a.position,d]),l=!1,s}return l||(l=a.position),"[removed]"}return i(e,t,a)},remove:function(e){var t="",n=0;return g.forEach(r,function(i){t+=e.slice(n,i[0]),n=i[1]}),t+=e.slice(n)}}).onIgnoreTag);var h=y(e,function(e,t,n,i,o){var r={sourcePosition:e,position:t,isClosing:o,isWhite:Object.prototype.hasOwnProperty.call(u,n)},l=s(n,i,r);if(null!=l)return l;if(r.isWhite){if(r.isClosing)return"</".concat(n,">");var a=function(e){var t=g.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=g.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=g.trim(e.slice(0,-1))),{html:e,closing:n}}(i),_=u[n],h=b(a.html,function(e,t){var i=-1!==g.indexOf(_,e),o=c(n,e,t,i);return null==o?i?(t=v(n,e,t,null))?"".concat(e,'="').concat(t,'"'):e:null==(o=f(n,e,t,i))?void 0:o:o});return i="<".concat(n),h&&(i+=" ".concat(h)),a.closing&&(i+=" /"),i+=">"}return null==(l=d(n,i,r))?m(i):l},m);return _&&(h=_.remove(h)),h},e}(),k=Function("\nvar _checkXSS = function (it) {\n  return it && it.Math == Math && it;\n};\nreturn _checkXSS(typeof globalThis === 'object' && globalThis) ||\n_checkXSS(typeof window === 'object' && window) ||\n_checkXSS(typeof self === 'object' && self) ||\n_checkXSS(typeof global === 'object' && global) ||\nFunction('return this')();\n")(),x=new(function(){function e(){var e=this;this.batchData=[],this.uniqKeys=new Set,this.timeout=2e3,this.lock=!1,this.getSlardarBid=function(){var t,n,i="douyin_web";if(!g.includes(i,"bid"))return i;if(e.config&&e.config.bid)return e.config.bid;if(k&&k._xssBid)return k._xssBid;if(k&&k.slardar&&"function"==typeof k.slardar.config){var o=(k.slardar.config()||{}).bid;if(o)return o}if(k&&k.Slardar&&"function"==typeof k.Slardar.config){var r=(k.Slardar.config()||{}).bid;if(r)return r}return(null===(n=null===(t=null==k?void 0:k.Slardar)||void 0===t?void 0:t._baseParams)||void 0===n?void 0:n.bid)||"argus"},this.getConfigRegion=function(){var t;return g.includes("cn","region")?e.config&&e.config.region?e.config.region:((null===(t=null==k?void 0:k.gfdatav1)||void 0===t?void 0:t.region)||"cn").toLowerCase():"cn"},this.gerReportUrl=function(){var t={cn:w("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boe:w("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),ttp:w("aHR0cHM6Ly9tb24udXMudGlrdG9rdi5jb20vbW9uaXRvcl9icm93c2VyL2NvbGxlY3QvYmF0Y2gvc2VjdXJpdHkvP2JpZD0="),va:w("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),maliva:w("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),sg:w("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boei18n:w("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9")}[e.getConfigRegion()];if(t)return t+e.getSlardarBid()}}return e.prototype.setConfig=function(e){this.config=e},e.prototype.upload=function(){var e=this,t=this.gerReportUrl();!this.lock&&t&&0!==this.batchData.length&&(this.lock=!0,setTimeout(function(){var n=e.batchData.slice(0,100);e.batchData=e.batchData.slice(100),k.fetch(t,{method:"post",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).catch(function(e){}),e.lock=!1,e.upload()},this.timeout))},e.prototype.generateKey=function(e){return e.collectKey?[e.collectMode,e.collectKey].join("___"):""},e.prototype.push=function(e){this.batchData.push(e),this.upload()},e.prototype.report=function(e){var t=this.generateKey(e);if(k.fetch&&e.collectKey){var n="object"==typeof window?window.location.href:"SSR";e.documentUrl=n;var i={age:Math.floor(Date.now()),type:"xss",url:n,body:e,"user-agent":""};"enforce"===e.disposition&&"SSR"!==n||(i.url=t),"SSR"===n&&(i.url="SSR___".concat(i.url),i.body.ssr=!0),this.push(i)}},e}()),L=function(e){for(var t=0,n=function(n){Array.isArray(e[n])?0===e[n].length?delete e[n]:(e[n]=g.from(g.uniq(e[n])),t+=e[n].length):0===g.keys(e[n]).length?delete e[n]:g.keys(e[n]).forEach(function(i){e[n][i]=g.from(g.uniq(e[n][i])),t+=e[n][i].length})},i=0,o=g.keys(e);i<o.length;i++)n(o[i]);return{count:t,ret:e}};function T(e,t){return x.setConfig(t),new I(t).process(e)}function D(e){var t,n=(t=/\s|\n|\t/.exec(e))?t.index:-1;if(-1===n)return{html:"",closing:"/"===e[e.length-2]};var i="/"===(e=e.slice(n+1,-1).trim())[e.length-1];return i&&(e=e.slice(0,-1).trim()),{html:e,closing:i}}var N=function(e){return -1===(e=(e=(e=(e=e.replace(/&colon;/gi,":")).replace(/&tab;/gi,"")).replace(/&newline;/gi,"")).replace(/(\t|\n|\r)/g,"")).indexOf("&#")?e.trim().toLowerCase():e.trim().replace(/&#(?:(x)([0-9a-f]+)|([0-9]+));?/gi,function(e,t,n,i){return String.fromCharCode(t?parseInt(n,16):parseInt(i))}).replace(/(\t|\n|\r)/g,"").toLowerCase()};function P(e,t){if(void 0===e&&(e=""),"string"!=typeof e)return!0;if(e=N(e),g.includes(e,"base64")&&!function(e){if(""===e||""===e.trim())return!0;try{return!g.includes(e,"data:text/html;base64")}catch(e){return!0}}(e))return t&&t("data:text/html;base64"),!1;var n=["expression(","behavior:","view-source:"];if(g.some(n,function(t){return -1!==e.indexOf(t)}))return g.forEach(n,function(n){-1!==e.indexOf(n)&&t&&t(n)}),!1;var i=["data:application","data:javascript","data:text/html","data:texthtml"];if(g.some(i,function(t){return -1!==e.indexOf(t)}))return g.forEach(i,function(n){-1!==e.indexOf(n)&&t&&t(n)}),!1;if(e.indexOf("javascript:")>0)return t&&t("javascript:"),!1;if(/^javascript:/i.test(e)){var o=e.slice(11).replace(/\s/g,"").trim();return!!g.some(["void","void(0)","void0","false","undefined",";"],function(e){return e===o})||(t&&t("javascript:"),!1)}return!0}var E=function(e,t){var n,i,o="<%= isSaveValidUrl =>";if("string"!=typeof e||(i=Number("<%= urlLimit =>"),void 0!==n&&(i=n),"NaN"!==e.toString()&&-1!==i&&e.length>=i)||P(e,t))return e;try{if(!0===(o=JSON.parse(o))||"true"===o){var r=new URL(e);return r.origin+r.pathname}}catch(e){}return"#"};function A(e,t,i){if(void 0===e&&(e=""),void 0===t&&(t=[]),"string"!=typeof e)return!0;if(!P(e=N(e)))return!1;var o,r={url:(o=e.match(/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/)||[])[0],scheme:o[1],slash:o[2],host:o[3],port:o[4],path:o[5],query:o[6],hash:o[7]},l=r.scheme,a=r.host;return i?!!i(e):!(!l||!a)&&(!g.includes(["http","https","file"],l)||("object"==typeof window&&window&&(t=n(n([],t,!0),[location.host],!1)),g.some(t,function(e){return!!(e instanceof RegExp&&e.test(a))||e===a})))}var R={a:["target","title","spellcheck","rel"],canvas:[],abbr:["title"],address:[],area:["shape","coords","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:["dir"],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["alt","title","width","height","decoding"],ins:["datetime"],li:[],mark:[],nav:[],ol:["start"],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],delete:[],form:[],strong:[],mask:["maskunits","x","y","width","height","fill"],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],wbr:[],video:["autoplay","controls","loop","preload","height","width"],svg:["viewBox","version","xmlns","fill","width","height","stroke","stroke-width","style"],path:["d","fill","opacity","stroke","p-id","fill-rule","clip-rule","stroke-width","stroke-linecap","stroke-linejoin","fill-opacity","mask"],rect:["x","y","width","height","fill","stroke","rx"],g:[]},M={collect:null,initCollect:function(){this.collect={whiteList:{},filterProtocol:[]}},removeCollect:function(){var e=L(this.collect),t=e.count,n=e.ret;return this.collect=null,{collectKey:0===t?null:JSON.stringify(n),collectMode:"white"}},onIgnoreTagAttr:function(e,t,i){return e&&g.indexOf(["href","src"],t)>-1?M.domainWhiteList&&Array.isArray(M.domainWhiteList)&&M.domainWhiteList.length>0&&!A(i,n([],M.domainWhiteList,!0))?"":"".concat(t,'="').concat(E(i,function(e){var t;null===(t=M.collect)||void 0===t||t.filterProtocol.push(e)}),'"'):e&&(g.indexOf(["style","class","id"],t)>-1||t.indexOf("data-")>-1)?"".concat(t,'="').concat(i,'"'):(M.collect.whiteList[e]=M.collect.whiteList[e]||[],void M.collect.whiteList[e].push(t))},onIgnoreTag:function(e,t){if("style"===e)return t;y(t,function(e,t,n,i){b(D(i).html.replace("/",""),function(e){M.collect.whiteList[n]=M.collect.whiteList[n]||[],M.collect.whiteList[n].push(e)})},m)},whiteList:R,mergeWhiteList:function(e){for(var t,n={},i=0,o=g.keys(R);i<o.length;i++)n[t=o[i]]=g.from(R[t]);for(var r=0,l=g.keys(e);r<l.length;r++)n[t=l[r]]=t in R?R[t].concat(e[t]):g.from(e[t]);return n},setWhiteList:function(e){for(var t=0,n=g.keys(e);t<n.length;t++){var i=n[t];this.whiteList[i]=i in R?R[i].concat(e[i]):g.from(e[i])}}};try{var O={},F="merge";g.includes(F,"override")&&(M.whiteList=O.whiteList),g.includes(F,"merge")&&M.setWhiteList(O.whiteList)}catch(e){}var U=function(e,t){for(var n={},i=0,o=g.keys(e);i<o.length;i++){var r=o[i];Array.isArray(e[r])?n[r]=g.from(e[r]):n[r]=U({},e[r])}for(var l=0,a=g.keys(t);l<a.length;l++)(r=a[l])in e?Array.isArray(e[r])?n[r]=e[r].concat(t[r]):n[r]=U(e[r],t[r]):Array.isArray(t[r])?n[r]=g.from(t[r]):n[r]=U({},t[r]);return n},j={blackList:{a:["folder"],meta:["content"],iframe:["srcdoc"],input:["pattern"],vmlframe:["xmlns"]},blackTags:["script","xml","embed","isindex","object","base","set","handler","animate","payload","import"],blackAttrs:["charset","ns","namespace","formaction","xlink:href","xmlns:xlink","handler","repeat","repeat-start","repeat-end"],blackAttrRegExps:[/^on/],filterList:{param:["value"],video:["poster"],form:["action"]},filterAttrs:["href","src","background","style","dynsrc","lowsrc","content"]};try{var B={};B.blackAttrRegExps&&(B.blackAttrRegExps=B.blackAttrRegExps.map(function(e){return new RegExp(e.toString().slice(1,e.toString().length-1))}));var W="merge";g.includes(W,"override")&&(j=B),g.includes(W,"merge")&&(j=U(j,B))}catch(e){}var H={mode:"black",whiteList:{},blackConfig:j,collect:null,initCollect:function(){H.collect={blackList:{},blackTags:[],blackAttrs:[],blackAttrRegExps:[],filterAttrs:[],filterList:{},filterProtocol:[]}},removeCollect:function(){var e=L(H.collect),t=e.count,n=e.ret;return H.collect=null,{collectKey:0===t?null:JSON.stringify(n),collectMode:"black"}},onIgnoreTag:function(e,t){var n;if(!g.includes(j.blackTags,e))return y(t,function(e,t,n,i,o){if(-1!==n.indexOf("/"))return m(i);if(o)return"</".concat(n,">");var r=D(i),l=b(r.html,function(e,t){var i,o=0;if(j.blackList[n]&&g.includes(j.blackList[n],e)&&(H.collect.blackList[n]=H.collect.blackList[n]||[],H.collect.blackList[n].push(e),o++),j.blackAttrRegExps.length&&j.blackAttrRegExps.some(function(t){return t.test(e)})&&g.forEach(j.blackAttrRegExps,function(t){t.test(e)&&(H.collect.blackAttrRegExps.push("".concat(t.toString(),"->").concat(e)),o++)}),j.blackAttrs.length&&g.includes(j.blackAttrs,e)&&(j.blackAttrs.push(e),o++),!o){if(j.filterList&&j.filterList[n]&&g.includes(j.filterList[n],e)){var r=E(t,function(e){var t;null===(t=H.collect)||void 0===t||t.filterProtocol.push(e)});return r!==t&&(H.collect.filterList[n]=H.collect.filterList[n]||[],H.collect.filterList[n].push(e)),t?"".concat(e,"='").concat(r,"'"):e}return j.filterAttrs&&g.includes(j.filterAttrs,e)?((r=E(t,function(e){var t;null===(t=H.collect)||void 0===t||t.filterProtocol.push(e)}))!==t&&(null===(i=H.collect)||void 0===i||i.filterAttrs.push(e)),t?"".concat(e,"='").concat(r,"'"):e):t?"".concat(e,"='").concat(t,"'"):e}});return i="<".concat(n),l&&(i+=" ".concat(l)),r.closing&&(i+=" /"),i+=">"},m);null===(n=H.collect)||void 0===n||n.blackTags.push(e)}},V=function(e){var t=e.reportOnly,n=void 0===t||t,i=e.block;return n&&"all"===n?"report":("string"==typeof n&&("true"===n&&(n=!0),"false"===n&&(n=!1)),i?"enforce":n?"report":"enforce")},G=function(e){return function(n,i,o){if(!n||"string"!=typeof n)return n;var r=i;e===T&&(r=M).initCollect();var l=e(n,r);if(S(l)===S(n))return n;if(!o)return l;var a=o.logType,u=V(o),s=r.removeCollect();return x.report(t(t({type:a,disposition:u},s),{sourceText:p(n),filterText:p(l)})),"enforce"===u?l:n}},K=G(function(e,t){return void 0===t&&(t={}),t&&t.whiteList||(t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}),new I(t).process(e)}),Z=G(T),q=function(e,t,n){var i=[],o=E(e,function(e){i.push(e)});if(o===e)return e;i=g.from(g.uniq(i));var r=t||n||{};if(!r)return o;var l=r.logType,a=V(n);return x.report({type:l,disposition:a,collectKey:i.join("___"),collectData:JSON.stringify(i),collectMode:"black",sourceText:p(e),filterText:p(o)}),"enforce"===a?o:e},z=k._xssProject||{},Y=k.xssNamespace||{},J="3.0.26",X={FilterXSS:I,version:J,webpackPluginVersion:"<%= webpackPluginVersion =>",reportOnly:"<%= reportOnly =>",filterXSS:K,_filterXSS:Z,filterUrl:q,Config:M,BlackConfig:H,project:z,setProjectName:function(e){z[e]=this,k._xssProjectName=e}};Y.douyin_web=X,k.xssNamespace=Y,k.Math&&!k.Math.xssNamespace&&(k.Math.xssNamespace=Y),z[J]=X,k.globalThis=k,k.getFilterXss=function(){return void 0!==this._xssProjectName?this._xssProject[this._xssProjectName]:X},k.xss=X,k.isSafeUrl=A,k.isSafeDomain=A,k.isSafeProtocol=P,k._xssProject=z,k._xssProjectName&&(z[k._xssProjectName]=X);var Q=X.setProjectName.bind(X);e.BlackConfig=H,e.Config=M,e.FilterXSS=I,e._filterXSS=Z,e.filterUrl=q,e.filterXSS=K,e.isSafeDomain=A,e.isSafeProtocol=P,e.isSafeUrl=A,e.project=z,e.setProjectName=Q,e.setXssNamespace=function(e){var t=e.appId,n=e.bid,i=e.region;Y[t]=X;M.bid=n,M.region=i,M.enabled=!0},e.xssNamespace=Y,Object.defineProperty(e,"__esModule",{value:!0})});"use strict";(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["73212"],{957059:function(e,t,n){n.r(t),t.default={videoDetailSkeleton:"R3PgpCRv",awemeSearchEngine:"jSfNjGdM",leftContainer:"EkC2KoPh",videoWrapper:"ffMz5EAb",video:"Cd73enJu",videoDesc:"IcrkQt7P",desc:"Ui9fInxt",operate:"OBXa5RK2",rightContainer:"OBCMwGUH",headerInfo:"rz4asql7",avatar:"BQN7QFRy",userInfo:"vF5bOVeC",nickname:"_m2xrl8W",extra:"J_3bZJ8G",videoList:"xDNhtUJF",title:"wAonVEdd",listItem:"fvsQihXl",cover:"XRQWFSxT",rect:"ZHmzFnjN",rect4:"pG4B3JzO"}},798806:function(e,t,n){n.r(t),t.default={publishIcon:"eq_e1QwD",hoverPolyfill:"UnZSWO_j",hoverBold:"GpAEqnBo",publishCt:"RQLRXQyY",iconColor:"lTLLL4sr",buttonColorHidden:"Tz69lKWZ",publishBtn:"NGF0yqv3",buttonBounding:"srAwEKqt",publishHoverIn:"f3u9trGQ",leftIconColor:"touTcV9X",rightIconColor:"SzjtQkt7",publishBtnAlink:"KO69Z8JM"}},217050:function(e,t,n){n.r(t),t.default={trackerWrap:"Ws7p_EKi",fill:"bA6cgNSx",tracker:"TaQBCh_e",thumb:"q9PMijxs",sliderContainer:"mTu23tA6",dots:"LJTvI30H",slider:"EiyKSbQH",label:"ffG5XaR1"}},380042:function(e,t,n){n.r(t),t.default={button:"mY29ttWu",qrCode:"bZsbX01i",disabled:"u1EG1oLI"}},322543:function(e,t,n){n.r(t),t.default={container:"vvFtmL5B",invalidMask:"oVZBm3EQ",minus:"jJ1sxMPt",input:"MiVksWUx",plus:"Ud538GJy",enable:"KK48wGgi"}},874015:function(e,t,n){n.r(t),t.default={container:"zNu9NxgO",shop:"Apebhv9F",logo:"SaFf6oeQ",name:"LYJWtndj",brand:"mI3mtQJN",recommender:"oNY1z46V",divider:"mubUbGog",text:"feZyHP8N"}},834432:function(e,t,n){n.r(t),t.default={insuranceModal:"a_1242Cc",container:"OxHQFgcK",detail:"tcWRCB4K",name:"OwP9FDRT",empty:"CO0ziA1w"}},259761:function(e,t,n){n.r(t),t.default={item:"EJYAXe_V",normal:"_2i6Hb72s",selected:"x7PXiJDC",disabled:"fjmAN951"}},663197:function(e,t,n){n.r(t),t.default={loveBar:"aOOxay1w",icon:"RSZsvDMH",desc:"YQNyVCOq"}},634382:function(e,t,n){n.r(t),t.default={container:"_ovLIwN2",shop:"tRA6Qbc8",text:"q4NuUipv",shopIcon:"WCgaDbk9",product:"F6EpXpcI",productImg:"y_0AbTKl",textMessage:"NZlwyigT"}},785119:function(e,t,n){n.r(t),t.default={container:"wIryUNl6",qrcode:"a1XnAsJu",expireMask:"bqR9JusM",expireCode:"lg905V5f",line1:"Ec8Yet68",paySuccess:"Af8SIsA7",payIcon:"IJ1oZ3fc",tip:"W_ITW2V6",text:"RILc3TJc",icons:"f2T_OlXf"}},15174:function(e,t,n){n.r(t),t.default={container:"hcV00Wuc",wrapper:"L2SKYjvT",shop:"YieFrnea",productBasic:"YJp4wRCA",headFigureBlock:"zFvwrllG",headFigure:"lQbVMQfA",messageBlock:"YQifsmU4",divider:"_F3wXn_8",tabs:"Bhc7VvMn",tabTitle:"RJTKK4Jz",productDetail:"yxIl1MSu",comment:"lDIrVPyy",selected:"q2S0cFka",tabContent:"Nc67ky9Z",productParam:"A_R1W7N8",param:"UICCEFmv"}},89785:function(e,t,n){n.r(t),t.default={userCount:"S1IWFhJK",count:"IYj4DyCC"}},482074:function(e,t,n){n.r(t),t.default={promotionPop:"TXFEtUve",top:"GqweYhV2",autoZIndex:"aJW9gz98",productCover:"nl6Jy9Fl",closeIcon:"DQ34XPcN",activityTag:"Bn6UKqBa",smallPopCard:"PJ9qGJD1",bottom:"PBF4h4ks",title:"TDHNuBBn",listItemTitle:"_PYKT518",mainTitle:"ykj7z_tH",singleLine:"NMWS0ufJ",sellPoint:"nPGTXHP3",checkPrice:"mcXEmQ44",bottomLine:"R4BtrmnO",buy:"fghGoamw",lottie:"CgFN2XrH",hotAtmosphere:"M6XevaL_",enter:"i65IaAJg",enterActive:"nAK9zXDM",enterDone:"LyQBxNgM",exit:"NyhCuKDK",exitActive:"S4bchyVF",exitDone:"Rf28loYH"}},368023:function(e,t,n){n.r(t),t.default={eggPosition:"WbLabTn5",eggContainer:"roJPtgDr",eggBule:"rjCizUR3",eggRed:"CpvMrCG9",eggBgPostion:"hWf2vGAT",eggBlueBg:"PD2kvE2g",eggRedBg:"nBBbUlgO",show:"nTnF6tZd",showUp:"IoyE42qw",hide:"b74s50Cn",showDown:"heVfqGKu",lighting:"K1C7SW_I",crossRoomEgg:"llNNl6NM"}},982132:function(e,t,n){n.r(t),t.default={labelContainer:"z9V1c0pd",container:"Psa3Uxsu",showAnimation:"L8763uDr","label-transform-1":"cMBtjuhx","label-transform-2":"zIBdZojN",labelIcon:"Qipll8yd",singingIcon:"KIAaCoP_",singing:"kEGxkyqj",singingIconVideo:"yFHFDnt6",hidden:"DfR9HLxI",countContainer:"i9GXi2Db",count:"BTeiXsBo",plusOne:"zsuawKiv",anchorContainer:"iWKrFbmI",honorTitleContainer:"SyCLrN6s",goldenAndOne:"DIgJfL6X",labelContainerV1:"QU5kPjHE",labelContainerBg:"cuBxXvMf","background-transform-1":"GffobDVM","background-transform-2":"nrssfqd7",backGrey:"C5X5sxHE","background-opacity-1":"dG2nudb_","background-opacity-2":"qw6J725v","slide-out":"ZnL4wnFi","slide-in":"kHG_xmIE"}},45488:function(e,t,n){n.r(t),t.default={frame:"Q7p2dH57",tag:"Tis2eafe",text:"mbRDpjw1"}},109207:function(e,t,n){n.r(t),t.default={giftNumberWithoutIcon:"Mpg3EDdo",giftContainer:"uylnzwwM",giftIcon:"sXVuXNJ4",giftText:"aItNXK2H",ani:"nGCqx6LX",scale:"KS81Bqp9",hidenIcon:"uGId3SK1"}},385612:function(e,t,n){n.r(t),t.default={commonContainer:"rrI2xuNX",container:"A9gdMhnb",giftImg:"CRRquzAL",content:"kQ8Kns6w"}},602038:function(e,t,n){n.r(t),t.default={container:"yhYwR94e",mask:"yvirYJEQ"}},893838:function(e,t,n){n.r(t),t.default={container:"G1VH6KeQ",slideUp:"yFSeYTic",fullscreen:"zqWVJl11",cover:"NF8Zwhcn",close:"qUSQCGGj",tag:"AsCYvasF",title:"jEmB5iDa",desc:"LI5yvRfF",nickName:"jxEDbPQ9",other:"k08pgff_",subDesc:"xeNMeOEe",buy:"HPU6YUpc","slide-out":"V9HZOw9x",slideOutDown:"_3FO22bY"}},465732:function(e,t,n){n.r(t),t.default={giftMenuOverlay:"t9AuoMd_",giftMenu:"OUKj8OsY",slideInLeft:"lcMeBcqI",giftList:"m_GxTXVz",giftListItem:"diGgFlHB",giftIcon:"nrXgmaen",giftInfo:"q8a9gTFt",giftName:"_AaIMFSA",giftPrice:"Hd0s9Aum",sendGiftButton:"PVgCIG6n",giftGrid:"xS4gs4_N",giftItem:"wQI8ZRwB"}},682:function(e,t,n){n.r(t),t.default={mask:"bNJCnP5h",modalContainer:"j0qqWq0U",close:"COeO6ziU",title:"_bSbDPx2",content:"ZnWEABUY"}},431783:function(e,t,n){n.r(t),t.default={backgroundContainer:"Gw7Sc5Lw"}},419188:function(e,t,n){n.r(t),t.default={pkWrapper:"fkQrgpYl",pkContainer:"yYjXfcRn",left:"SJbcxpL8",right:"jxqRwUZp",desc:"WjSvBPVi"}},665368:function(e,t,n){n.r(t),t.default={giftNumberWithoutIcon:"BMNHNDMQ",giftContainer:"r8ic4vs_",giftIcon:"PnM0VYJ6",giftText:"uyEo6yLr",ani:"lUyuJT7Z",scale:"JF07A_kN",hidenIcon:"SXMEsgGz"}},795854:function(e,t,n){n.r(t),t.default={container:"GUEkHMig",coverContainer:"ujtKztGI",coverBorder:"kUtCdGsG",coverCarnival:"KLbNv8KQ",coverBorderAnimation:"Rz9vPZ3p","cover-border-scale-animation":"tXz_P1mI",coverFirstBorder:"el9j0vlj",coverFirstBorderAnimation:"lyxHDbnu","cover-first-border-scale-animation":"vblw4Ktk",cover:"oF3FLmHE","cover-animation":"yafblJsx",liveTag:"DFTQYccO",liveTagText:"CR4DBS5i",liveTagFirst:"typR0Hl0",carnivalTag:"TJBxKt5y",userName:"_Tshu1Y4","cover-border-hide-animation":"cTDfpL37"}},59802:function(e,t,n){n.r(t),t.default={liveUserCount:"wHSs9O92",liveTag:"LpwXC81i",countDown:"KRkws5y1",userCount:"I_nQLapZ",title:"Rr_oPi8v",redPackIcon:"jYpJK4sN"}},5633:function(e,t,n){n.r(t),t.default={cameraItem:"qfmfbAEp",leftContent:"MrEjztRc",tagWrapper:"CSkj5t1k",tag:"ZLm0U4b_",paidLive:"xafWzFMa",unLocked:"xUyJ_Lw8",cover:"I9DXsOhx",playingCover:"rCqGfZ0i",debounceIcon:"RHsM_Z3X",rightContent:"YPVoT06f",title:"HfirKmWh"}},718135:function(e,t,n){n.r(t),t.default={smegmae_contianer_mask:"gYWHpNL1",smegmae_contianer:"j056l6OJ",smegmae_contianer_title:"BDGOJNeq",smegmae_contianer_desc:"PqUeIMWG",smegmae_contianer_button:"SXo8ucEd"}},991148:function(e,t,n){n.r(t),t.default={pluginContainer:"Tf_UyFyE"}},153563:function(e,t,n){n.r(t),t.default={switchContainer:"MH2xzx5c",icon:"v58BPthF",disabled:"Y_zxXFr4"}},449389:function(e,t,n){n.r(t),t.default={propContainer:"K825jU0P",left:"IaEoJ1el",right:"hLZYjY7g",blue:"zmMS038F",cnt:"W5ze2Y1i",red:"xNI5ntM3",divider:"wlikVFnw",freezeNum:"ByQ9VskU"}},820687:function(e,t,n){n.r(t),t.default={hide:"hlHz2_Dz",container:"n2JIcSKQ",inFull:"PeA9GMER",bgColor:"Vm9XuPtq",lottie:"xgI0BrZr",text:"U6GvwVGD"}},279734:function(e,t,n){n.r(t),t.default={container:"JfaSFC2I",checkboxIcon:"GsDOvkKN",top:"VhhlYDcM",checkboxAll:"MAT2eGvF",listContainer:"Lglyn_lN",checkboxItem:"cwZAVfsX",checkboxText:"CcSfxrPj",avatar:"H6_8dm6k",nickname:"owBplfj7",gift:"_LMumak5",giftNum:"CpNxjxS9"}},297743:function(e,t,n){n.r(t),t.default={wrap:"Pq686mst",hintText:"zMi66ioI",miniPanel:"kV9lxwiz",avatarPeopleIcon:"PdWkknln",avatar:"rUoYZkK7",content:"FB6JGi7M",peopleDesc:"wqyzb_I_",highlight:"YJf0c7d8",arrow:"sMnX4dJC",arrowBottom:"CqA8sCKe"}},509498:function(e,t,n){n.r(t),t.default={comboHintButton:"GlOv0XTh",backgroundSvg:"_E7LlpeV",comboContainer:"DUYvjtoF",playAnimation:"dZ7iMmSN",darkWave:"jVKsEQSk",lightWave:"isUSJ785",comboBody:"bcA6oHB_",comboAnimation:"vG7raSDR",rotating:"zJyaXZtv",rotate360:"V80x2iR0",isCombo:"wysWYBhL",comboDetail:"QRTKQYg5",gift:"cdBjbFx4",img:"HECUMAng",giftIcon:"MxF3UWLI",layout:"_L14xqCF",comboText:"eA8OJ5_L",textAnimation:"gaYnuAXp",scaleIn:"gP0DMCyy",comboFont:"K7ALVad5",numberAnimation:"b3dfQWpe",pulse:"LNIvoBYA",comboHintButtonShortKey:"Go0hMb2N",darkWaveShortKey:"IGfT9IjV",lightWaveShortKey:"wmAmHz4i",keyClassName:"ki8jlB5G"}},367325:function(e,t,n){n.r(t),t.default={wrap:"tmMOj5Du",header:"On_Qnh45",arrow:"AfFoPupw",close:"RMVJC83J",title:"HrkmN2Gz",list:"uNVTcwIn",item:"OWaTA2vs",icon:"uvZEXONa",content:"a85sRyAe",name:"_cu5vxRr",info:"jWXZwHIc",progress:"Z8elV2Qx",complete:"JLw_1Q3o",btn:"KrlmSCXH",btnText:"WxKYG8Qw",btnCount:"tjldpu4Y",btnPrice:"pj7EdnY8",disabled:"ML4x4hSx",scale:"Ki4j_rpL"}},388004:function(e,t,n){n.r(t),t.default={wrap:"YtrPD0UY",header:"c9DvytLg",arrow:"Ve20pDo3",close:"H1Etuuef",title:"bPTyV0_T",list:"KEnpH0Jt",item:"rfktcgf3",icon:"ApG9Xjn9",content:"sNJyebJ_",name:"kQBeHf5J",info:"cr87x9e9",progress:"iJUc4CdK",complete:"xqOxXYAU",btn:"RGAyvgHf",btnText:"gKD1nWRj",btnCount:"uEZ5jOGb",btnPrice:"oXici81d",disabled:"XlKOMRvp",scale:"fQcVJA2g"}},741210:function(e,t,n){n.r(t),t.default={container:"M2c5bKf3",actionButton:"Pche2fKb",actionText:"AaWHJQE7",buttonAnim:"F0cRlSpb",buttonAnimId:"lI3qHzTp"}},136974:function(e,t,n){n.r(t),t.default={container:"B0OBaJ38",text:"ZJdSYGov",name:"RybWuCap"}},271341:function(e,t,n){n.r(t),t.default={container:"OvakRECq",value:"XxLPjpxh",coinImg:"nHdVfzfh",coinText:"GDXqRmLS",text:"HFtHmq8U",avatarContainer:"P_bLg1HJ",avatarImg:"fC5nOMUb",avatar1:"EptCeiXD",avatar2:"MIOaj0PP",avatar3:"vMs9Qmpv",scaleShortTouchOut:"uEWDb3kD"}},823050:function(e,t,n){n.r(t),t.default={redPacketBigCard:"agD9YQdr",wrapperContainer:"tZbGs05Q",scaleShortTouch:"FFUoMszq",container:"bmNPa36C",shake:"hYpIl5CH",shakeId:"cmeVGSyN",redPacketImg:"KFZEo5C1",emptyImg:"cmmxbyCP",avatarImg:"YueSR3nA",show:"_WkRSk0J",countDown:"y9NMFKQq",counter:"UzUYWSJO",counterText:"Syl63ANW",hide:"Sf61Q7DT",hideId:"_3Tgt178"}},732992:function(e,t,n){n.r(t),t.default={divider:"yA6I9uy2",description:"uaNsnbUk",link:"aduxTden",titleBar:"Da_4PGhc",title:"cDwseNsO",svg:"DDDQ3HfM",infringement:"E26myFhX",submit:"Gd09NUBi",douyinCode:"qLFXuUtp",uploadContainer:"hlOpt9SG",uploadTips:"hDHkTRo_"}},392188:function(e,t,n){n.r(t),t.default={messageContainer:"fnbF0C_g",title:"DVDLn7qJ",icon:"H6EgoZ9U"}},61061:function(e,t,n){n.r(t),t.default={container:"g4fweWLe",radio:"A9Seu0Hm",checked:"cLt0Th76",disabled:"WRt7CXy6",label:"iuRihvp4"}},770214:function(e,t,n){n.r(t),t.default={container:"lputiApV",text:"IoQ3FzpJ"}},781061:function(e,t,n){n.r(t),t.default={aiMentionTag:"bIm02XgO",aiArrowSvg:"S22F05Jz",aiIcon:"gwX2FYYu",rotate:"jCtF0Mow",rotate360:"cymM4bY7",lottieIcon:"dDdG33xm",knowledge:"wWWZ_yxk",tagBg:"Ux2D_y6z"}},436227:function(e,t,n){n.r(t),t.default={aiScreenshot:"Rw08kCr9",aiIcon:"Z3GTk0EX",rotate:"bJYcufOG",rotate360:"sRSwxxt6",lottieIcon:"pdLa2pyR",text:"WCScD6Uh",tagBg:"s_Jq002p"}},672761:function(e,t,n){n.r(t),t.default={withPanelShow:"bNVoU31i",withPanelMiniImage:"hMf4CaXZ",inputWithPanelMiniImage:"xWQOxl63",inputWithPanelUnShow:"UlKQekTL",inputWithPanelShow:"MqFvcGY4",textTransparent:"JE2QYStv",searchButton:"x6yHgZY9",searchIconShow:"NcYJv3d_",searchButtonShow:"B8il5MIp",disableTransition:"A0AcoBUu",isUnShowUserInputText:"Q7sOFpTU",isUnShowGuessText:"qpi6L9x9"}},60745:function(e,t,n){n.r(t),t.default={largeContainerWithLargeSearchBar:"awgKyidl",suggestion:"pjv9legP",largeContainerWithSmallSearchBar:"M03G4GvA",suggestionContainer:"LyfiOm0J"}},584484:function(e,t,n){n.r(t),t.default={container:"GJL7jPHQ",imageWrapper:"cnMvDSHy",image:"R8qi8Qn1"}},633313:function(e,t,n){n.r(t),t.default={icon:"PXxlVfLu",shakeAnimation:"HlGxNfo0"}},524786:function(e,t,n){n.r(t),t.default={wrapper:"RYFhabj2",childRouteFullScreen:"K5lzL1ML",dark:"RdovYedG",noText:"krt5EUrC",searchSpaWebBack:"EAoOLXdS",searchSpaWebBack1:"RqWVHD0u",text:"v5HdSSS7",noDrag:"QHNzhkvK"}},973725:function(e,t,n){n.r(t),t.default={container:"PCo2d_hy",innerContainer:"D67xHXlV",avatar:"Wg86OVTb",isSearch:"amB43jqo",atIcon:"j7gKWubQ",middle:"ibBxi00H",reload:"UVSl88c9"}},905771:function(e,t,n){n.r(t),t.default={mask:"OYVqOYnK",modalContainer:"bMM91xuE",close:"zWt9V62O",title:"jRYPkWg6",content:"tWvPbnWp",footer:"QOLtqCZt",button:"vp59MIz2"}},523659:function(e,t,n){n.r(t),t.default={container:"m6gzwj_4",withDivider:"nGQhPvkb",downloadHint:"dZZJWTJL",downloadHintText:"PFjeNNnp",downloadButton:"Y4GVaH3L",downloadIcon:"pgS4z0Iw",highlight:"TER6mFm3",divider:"zPHfI8XS",hide:"yCdVEIGh"}},179414:function(e,t,n){n.r(t),t.default={opContainer:"WtF1tyTJ",container:"tcDH4p98",iconSvg:"UccHgV05",iconHoverSvg:"ngpKIm0e",icon:"Y_NIe5h4",text:"UytUN5zQ",content:"Xns_kz64",menu:"ZYkFfxUR",show:"Usz5QYQP",item:"bW7TscHo",xiguaOpContainer:"Dj3qgYOb",topBar:"mUOr1MFL",bottomBar:"vyPzWI4P",showText:"m2j0smEj",iframeContainer:"KNXXV4Ne",hidebar:"zNOubi5i"}},626494:function(e,t,n){n.r(t),t.default={livingInfo:"jblDK1D4",left:"wGCKvtb3",avatar:"czGeF8qL",liveAvatar:"bga_P0TF",titleWrapper:"kD5zFZJM",nameWrapper:"v5sdHPim",title:"JJfzeXCU",label:"cLiYhHsl",subTitle:"HkcyJcmh",right:"GVMn4xVx",closeIcon:"g4qQyBog"}},614224:function(e,t,n){n.r(t),t.default={container:"l6sE33fx",mask:"swlFcfAI"}},489830:function(e,t,n){n.r(t),t.default={returnButton:"ZtY9We7E",homeSvg:"LW8wZx8a",isVsTransmode:"vYvqLbzI",transparent:"lX6Dag0U",clientHomeStyleWrap:"kbaUeLFe",newWindowSvg:"PQ_entGO",tip:"GIPxgiqt",tipClassName:"_BNbATV5",tipText:"Dsvd1IyT",iconClassName:"geU7Lq2W",guideContainer:"E3oIuUx6",arrow:"z5dRvcBO",viewInfo:"pSM1Pn8S",settingInfo:"wv_z3V9U",infoTitle:"OE2Gipzv",setButton:"WfCPFe2p",guideTooltip:"DwdLAbVf",noMacClient:"gDJjIlgR",shortcutKey:"Roj8gSOu",popupPageMainWinReturnContainer:"xRmOl8Kd",text:"m0CofUnB"}},259320:function(e,t,n){n.r(t),t.default={container:"nv5xPG8R",tabNameContainer:"bajqwYRS",tabName:"Pibb7VX9",active:"g238vL_b",movingCube:"iqrKjnfo",opacityAnimate:"L41QRb8r"}},168028:function(e,t,n){n.r(t),t.default={iconWrapper:"iGalZ1L7",icon:"uRxcMJNo"}},308699:function(e,t,n){n.r(t),t.default={isLight:"VXpuJorc",dark:"gqVpiQNV",isDark:"iqxVfMwD",pauseDialog:"q08GrW6X",main:"IjvhrgLV",title:"Hr_mUoJc",subtitle:"dK5KYgmb",num:"dkaTYZ9W",footer:"Hoo39GDZ",btn:"crGthr5B",white:"OgzXofFk",gray:"cvucE6VI",text:"Dscka4Qi",pausePopupContent:"kOIX9231",hint:"DE33hc2r"}},589832:function(e,t,n){n.r(t),t.default={recommandLogin:"HDhMLx9a",recommandWrapper:"C68nxvT_",recommandLoginTitle:"EgQXhPwc",recommandLoginDesc:"oya2IBgA",recommandLoginText:"iPtO913B",recommandLoginView:"beA0QPV4"}},201986:function(e,t,n){n.r(t),t.default={modal:"xWH82sp0",header:"oysewHcV",close:"EJg0E9y3",divider:"Ov7RXdV8",content:"Uh9C8R1M",reportType:"wShnpZ8W",star:"v5PPPo7r",reportTypeGroup:"XaAWLdfO",radioLabel:"EeURk6fR",radioText:"tucX_7bc",reportReason:"y7JTSjei",detailReason:"QOpWDKHf",confirmBtn:"DYBYbXQE",textareaWap:"kIjUSfmw",textarea:"MlOazm3G",numLabel:"kv3SL4Dh",warn:"y0KMWSKg"}},460466:function(e,t,n){n.r(t),t.default={container:"rtWYegYy",absolute:"sQthUihy",opContainer:"onIHqYmT",xiguaContainer:"JGVTqsfz",xiguaOpContainer:"l4qgoUiR",lookv2:"lB3Rnz04",zhuantiReport:"s3cTz1Bn"}},516021:function(e,t,n){n.r(t),t.default={loginClarityNewAdjust:"sSdM0g8U",text:"tVYlOM7p",button:"MOXTIjLb",close:"gXC_m458",down:"wgZoA7ae",textClarityNewColor:"CQP88v2J",textClarityNew:"edlAJnmv"}},803538:function(e,t,n){n.r(t),t.default={time:"IpGubHSq",bigSize:"i2sw1LG0",left:"RNFmJQNj",right:"rCg5y61I",progressWrapper:"DcjEteW8",progress:"D_6f8rOz",currentProgress:"X17tTKj8",progressHoverDot:"B8PNBXOL",show:"WcXdyOoM"}},995820:function(e,t,n){n.r(t),t.default={container:"iI96AlHc",conatienr:"gjBfByeX",title:"lwibSSHz",box:"IDMF07KE",smallBtnGrayContainer:"QD2zwzKF",refresh:"pNiaojHg",timeoutMask:"fNtJrlwF",timeoutBox:"SUSBvNPz",mainTitle:"lxDmELKv",maskBox:"PQP8f_lD",mask:"sh72eeH9"}},761733:function(e,t,n){n.r(t),t.default={isLight:"Hy7ezqKH",dark:"rUXrk_kU",isDark:"ILLtkP9r",container:"qFuEA6Gb",hidden:"XhCA8dvL",content:"Wl5uThGE",down:"dUylFD2g"}},857078:function(e,t,n){n.r(t),t.default={container:"H2VneA4v",iconContainer:"kCnaeKc7",panel:"sfR11fCg",playRatioSettingTitle:"NTpDKMcE",search:"jLkVN9ad"}},830500:function(e,t,n){n.r(t),t.default={singleLineAdCard:"ZViIX7jh",easeIn:"XY7s1F9U",adInfo:"kZWEzTfA",adIcon:"VxGxgBRR",swiperContainer:"FiWTXQNl",btnBox:"XmBKF3AI",text:"Xf8CsBNu",icon:"mAGJaPDL"}},153612:function(e,t,n){n.r(t),t.default={strongStyleAdCard:"K4eK3dVL",easeIn:"ptBSHqEf",adInfo:"ZdoBj7u2",adIcon:"gcw66RYr",detail:"SsN7r8ox",title:"n_dvRJp1",tagLine:"gyGQCVc_",tag:"iKY6ryvv",swiperContainer:"KA2Eoboq",adButton:"JqpUDeNl"}},426862:function(e,t,n){n.r(t),t.default={danmakuBar:"Wm3NkQ1L",settingRootDom:"uBpC9q7h",danmakuIconBar:"xE4nM4Mc",divider:"FD2VsznI",dividerClose:"fAY8bwrW",inputBox:"GRavk8rU"}},893339:function(e,t,n){n.r(t),t.default={container:"KTdQdT0k",slideFadeInRight:"p5QKSGn4",question:"acV8zuwT",icons:"yvImN01n",answerContainer:"i2LIZswI",answer:"rpwgzTUU"}},365233:function(e,t,n){n.r(t),t.default={bg:"QFSFw6yg",videoCoverMask:"tdozoVA1",container:"xCdijc8O",question:"ywgcbODK",options:"HxLg6k4V",option:"oeejeyvo",iconContainer:"TAfR9BIS",optionText:"YlGsGnQJ",bottomHint:"FSPlTi8j",hintText:"CMUjFq5P",arrowIcon:"sAxGSIrx"}},670400:function(e,t,n){n.r(t),t.default={outerContainer:"Eu4qR75T",noMarginBottom:"ohg0ej2V",mixContainer:"siBUjBgr",coverContainer:"TtIHgWBj",cover:"dFDf0rbD",duration:"ipFncZ7f",textContainer:"bK6OWbpw",title:"lAZQij6n",relatedTitle:"tRvUK0Uf",subtitle:"OHpDNGl_",twemojiText:"AYTeQjnE",defaultImg:"Me3Pb7ip"}},696245:function(e,t,n){n.r(t),t.default={searchAlbumIcon:"MAC2XCTw",searchPictureWordIconContainer:"R9JSXX8O",icon:"O3raEmEn"}},948314:function(e,t,n){n.r(t),t.default={sevenDayMask:"io3KXJD7",tipWrapper:"IgQu8dfT",tip:"VOKlpKDf",button:"cW99SrYZ"}},929640:function(e,t,n){n.r(t),t.default={wallpaper:"DzD7rpL4",button:"x9ZiQUx0",text:"iHch12Kn",downloadTips:"VWnxbt97",show:"qeMjN9xx",rotateBox:"Of3Dl95L",rotate:"djnquGzd",redColor:"q5wB8umR",disabled:"mMCGeTL0",fadeIn:"S_Z5aRAB",fadeOut:"wnT25Puw",isHide:"ZRwruSvI"}},934897:function(e,t,n){n.r(t),t.default={previewExtText:"Fi2MoLw2",previewExtTextDesc:"tJSRK7DO",previewExtTextDescTwoLine:"QQNZUtKL"}},2196:function(e,t,n){n.r(t),t.default={bar:"hkMHCKXv",barDetail:"MmTiydjo",hasUrl:"J1dVV6eT",content:"lM_nBosV",icon:"srKetAvz",iconImage:"hvhPSe76",rightIcon:"atrJ5XfO"}},978994:function(e,t,n){n.r(t),t.default={container:"peZaZVQR",closeButton:"MlhNabru",splashAdComponent:"jhjasPRf",enterTransition:"PkarWx90","avt-opacity":"pPHBiOYx",tagLine:"nk6oet_g",mask:"FPqG9yyt",videoInfo:"alPwILlw",rightPositionBox:"IayywOw0"}},99210:function(e,t,n){n.r(t),t.default={Danmaku:"lmkwEZbL",DanmakuItem:"LqgspWpZ",DanmakuItem_content:"VgBhfbuW",DanmakuItem_divider:"Mo1nz_wo",DanmakuItem_control:"S_Njsgm4",DanmakuItem_hover:"GEga1suq"}},819757:function(e,t,n){n.r(t)},114911:function(e,t,n){n.r(t)},832241:function(e,t,n){n.r(t)},361133:function(e,t,n){n.r(t)},544952:function(e,t,n){n.r(t)},942594:function(e,t,n){n.r(t)},213809:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(88648);function o(e){let{userCtx:t,envService:n=""}=e,{dispatch:o}=t;(0,i.useLayoutEffect)(()=>{window.updateUserInfo=()=>{o({type:"updateUserInfo"})}},[o])}},730852:function(e,t,n){var i=n(94578),o=n(441447);let r=new i.z({max:2,noDisposeOnSet:!0,dispose:(e,t)=>{o.emit(o.EVENT.PageCacheDisposed,{key:t,value:e})}});t.Z=r},219802:function(e,t,n){n.d(t,{ZP:function(){return s},fn:function(){return u}});var i=n(520739);n(874386);var o=n(563097),r=n(549519),l=n(88648),a=n(441447);function u(e,t){for(let n of Object.keys(t||{}))if(e in t[n])return{event:n,delay:t[n][e]};return{}}function s(e){let{fallback:t=(0,o.jsx)(l.Fragment,{}),Component:n=l.Fragment,waiting:u=1e4,disable:s=!1,delay:d,onTrigger:c=()=>{},triggerEvent:f}=e,v=setTimeout(()=>{a.emit(f)},u);return function(e){let[u,m]=(0,l.useState)(s),{pageFirstFrameLoadedTriggered:g,pageFirstFrameLoadStartTriggered:_,isForceRender:h}=e;return(0,l.useEffect)(()=>{h&&(m(!0),c()),(g&&f===a.EVENT.pageFirstFrameLoaded||_&&f===a.EVENT.pageFirstFrameLoadStart)&&(!u&&(d?setTimeout(()=>{m(!0),c()},d):(m(!0),c())),v&&clearTimeout(v))},[g,_,f,h]),(0,o.jsx)(r.NoSSR,{fallback:t,children:u?(0,o.jsx)(l.Suspense,{fallback:t,children:(0,o.jsx)(n,(0,i._)({},e))}):t})}}},880740:function(e,t,n){n.d(t,{X:function(){return N}}),n(874386),n(179133),n(826893),n(250440),n(675373),n(110006),n(242079),n(851912),n(927234),n(544943);var i=n(88648),o=n(948375),r=n(567754),l=n(729532),a=n(128487),u=n(302461),s=n(407544),d=n(878478),c=n(132607),f=n(737470),v=n(187558),m=n(163515),g=n(582296),_=n(701706),h=n(720732),p=n(876877),w=n(441447),y=n(983253),b=n(328155),C=n(465769),S=n(167951),I=n(250972),k=n(497516),x=n(578379),L=n(328555);let{disableAutoLoginPromptReg:T,LynxPageList:D}=a;function N(e){let{userCtx:t,abTestData:n,isSpider:a=!1,splashAdStatus:N,pathName:P="",isMainland:E=!0,setUnloginNeedShowLoginModal:A}=e,R=(0,L.s)(e=>e.setState),M=e=>{(null==n?void 0:n.enableZustand)?R({unloginNeedShowLoginModal:e}):null==A||A(e)},{dispatch:O,userInfo:F}=t,U=null==F?void 0:F.isLogin,[j,B]=(0,i.useState)(h.T.Unknown),W=(0,i.useRef)(!1),H=(0,i.useRef)(!1),{isPreRender:V}=(0,k.M)({abTestData:n}),G=(0,i.useRef)();(0,u.o)(()=>{G.current&&(G.current(),G.current=void 0)},[]);let{attemptOpen:K,executeClose:Z}=(0,s.B)({popName:"登录冷启动弹窗",onOpen:()=>{},onClose:()=>{w.emit(w.EVENT.coldStartLoginClose)}}),q=(0,o.Z)(()=>{!W.current&&(0,m.C)(U,n,K,Z,E),d.exposureColdStart();let e=async()=>{var e;l.z.markOnce(p.w3.custom.show_account_start);let t=await d.getColdStart(["video_detail"],n,E),o=Number(null===(e=(0,r.parse)(location.search))||void 0===e?void 0:e.open_login_ab)||0,a=1===o||2===o,u=1===o?"登录后抖音更懂你":"登录后免费畅享高清视频",s=["app_continued","pc_continued"].includes((0,y.Rs)("url_source"));async function c(){if(a){var e,n;(0,g.default)({success:async()=>{var e,t;O({type:"updateUserInfo"}),null===(t=window)||void 0===t||null===(e=t.location)||void 0===e||e.reload()},next:`https://${null===(n=window)||void 0===n?void 0:null===(e=n.location)||void 0===e?void 0:e.host}`,headerText:u,enterMethod:"click_push",teaEvtParams:{enter_from:"push"}}),B(h.T.Off),null==M||M(!0);return}(null==t?void 0:t.shouldShow)?(null==t?void 0:t.type)!==d.LoginPanelType.FULL_LOGIN||W.current?((0,i.startTransition)(()=>{B(h.T.On)}),null==M||M(!1)):(K({afterCallback:()=>{var e,t;(0,g.default)({success:async()=>{var e,t;if(O({type:"updateUserInfo"}),!s)null===(t=window)||void 0===t||null===(e=t.location)||void 0===e||e.reload()},next:`https://${null===(t=window)||void 0===t?void 0:null===(e=t.location)||void 0===e?void 0:e.host}`,isGuide:!0,enterMethod:"cold_start_full",onClose:()=>{Z()}}),(0,i.startTransition)(()=>{B(h.T.Off)})}}),null==M||M(!0)):((0,i.startTransition)(()=>{B(h.T.Off)}),null==M||M(!1))}(0,b.Nr)(location.pathname)?G.current=c:c()};!1!==U||W.current?void 0!==U&&(0,i.startTransition)(()=>{B(h.T.Off)}):e()}),z=(0,o.Z)(()=>{var e,t;let o=null===(t=window)||void 0===t?void 0:null===(e=t.location)||void 0===e?void 0:e.pathname;if(D.includes(o)){(0,i.startTransition)(()=>{B(h.T.Off)});return}!(null==o?void 0:o.match(new RegExp(T)))||(null==o?void 0:o.match(/^\/shipin\/*?/))&&![c.SeoShipinLoginModal.A1,c.SeoShipinLoginModal.A2].includes(null==n?void 0:n.seoShipinLoginModal)?q():o&&(0,i.startTransition)(()=>{B(h.T.Off)})});return(0,i.useEffect)(()=>{var e;if(a||V)return;let t=d.getColdStartMax();x.Z.sendLog("enterColdStart",{enter_from:(0,C.vM)()||"",params_for_special:"uc_login",notify_times:d.getColdStartCount(),notify_limit:t>=100?-1:t}),x.Z.sendLog("ucWebIdNotify",{webid:(null===(e=(0,S.Es)())||void 0===e?void 0:e.user_unique_id)||"unknown"});let n=w.listen(w.EVENT.changeMinWindows,e=>{let{isMiniWin:t}=e;W.current=t}),i=w.listen(w.EVENT.shipinColdStartLogin,()=>{q()});return()=>{if(!a)n(),i()}},[V]),(0,i.useEffect)(()=>{if(a||V)return;N===f.QB.Fullscreen&&(B(h.T.Off),H.current=!0);let e=new URLSearchParams(window.location.search);void 0!==U&&N!==f.QB.Unknown&&!H.current&&"1"!==e.get("open_mini_window")&&!(0,I.V)()&&z()},[V,U,N]),(0,i.useEffect)(()=>{U&&(E&&(0,_.oo)(F),(0,v.tokenBeatInit)({onDrop:()=>{O({type:"updateUserInfo"})}}))},[U]),{headerLoginPopupStatus:j}}},575785:function(e,t,n){n.d(t,{O:function(){return r}});var i=n(88648),o=n(725887);function r(e){let{ttwidCreateTime:t,envService:n}=e;(0,i.useLayoutEffect)(()=>{o.Le.setConfig(o.gI.FirstInstallTime,{time:t||0}),o.Le.setConfig(o.gI.Env,{envService:n})},[t,n])}},29385:function(e,t,n){n.d(t,{v:function(){return f}}),n(675373);var i=n(88648),o=n(437983),r=n(712086),l=n(132607),a=n(964667),u=n(167951),s=n(500899);let d=async function(e){var t,n,i;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=(null===(t=(0,u.Es)())||void 0===t?void 0:t.user_unique_id)||"",a=await (0,s.fetchGwid)(l,e,r),d=(0,u.Es)();d.globalwid=a.globalwid,d.globaluid=null!==(n=a.globaluid)&&void 0!==n?n:d.globaluid,d.globaluType=null!==(i=a.globaluType)&&void 0!==i?i:d.globaluType,(0,u.hj)(d),(0,o.Rq)()},c=async e=>(await r.h.getVar({name:"fingerprint_enable",defaultValue:l.fingerprintOnline.NoFingerPrint}),e)?((0,o.Rq)(),setInterval(()=>{d(2,1)},6e5)):null;function f(e){let{globalwid:t,globaluid:n,libracdid:o,odin:r}=e;r&&(r.globalwid=t,r.globaluid=n,r.libracdid=o,(0,u.hj)(r)),(0,i.useLayoutEffect)(()=>{let e=null;return(async()=>{e=await c(t)})(),()=>{clearInterval(e)}},[t,n,r]),(0,a.Z)()}},438268:function(e,t,n){n.d(t,{w:function(){return c}});var i=n(520739),o=n(88648),r=n(437983),l=n(828782),a=n(424780),u=n(455499),s=n(725887),d=n(401156);function c(e){let{clientVersion:t,ttwidCreateTime:n,userCtx:c,tceCluster:f,pathname:v,isIPv6:m,isMainland:g}=e,{userInfo:_}=c,h=null==_?void 0:_.info,p=null==h?void 0:h.uid,w=null==_?void 0:_.isLogin;(0,o.useLayoutEffect)(()=>{var e,o,c,_,h,y;window.tce_cluster=f,(0,r.$n)((0,i._)({pathname:v,is_mainland:g?1:0,is_client:(0,l.DT)(),client_version:t,first_install_time:n||0,douyin_pc_seo_page_id:(0,a.P)(v),in_piture_enable:(0,u.Kv)(),url:"undefined"!=typeof location&&(null===(e=location)||void 0===e?void 0:e.href)||"none",document_pip_supported:(0,u.ZV)(),arch:null!==(y=null===(c=window)||void 0===c?void 0:null===(o=c.TTE_ENV)||void 0===o?void 0:o.arch)&&void 0!==y?y:"",tce_cluster:f,is_mobile:(0,l.tq)()?1:0,is_ipad:(0,l._1)()?1:0,is_apad:(0,l.iO)()?1:0,is_ad_block:(null===(_=s.Le.getConfig(s.gI.AdBlock))||void 0===_?void 0:_.needFilterAd)?1:0,x_tt_env:null===(h=s.Le.getConfig(s.gI.Env))||void 0===h?void 0:h.envService,is_client_offline:(0,d.PB)()?1:0,is_ipv6:m?1:0},(0,d.XD)())),(0,r.D$)(p,w)},[t,n,p,w,f,m,g])}},302733:function(e,t,n){n.d(t,{p:function(){return a}});var i=n(88648),o=n(847191),r=n(379788),l=n(987475);let a=e=>{let{isLogin:t}=e;(0,i.useEffect)(()=>{let e=(0,o.$o)(l.LocalStorageKeys.CurrentVideoProgress);e&&t&&((0,r.J$)({item_id:null==e?void 0:e.itemId,item_duration:e.preItemDuration,item_progress:e.preItemProgress}),(0,o.bv)(l.LocalStorageKeys.CurrentVideoProgress))},[t])}},811235:function(e,t,n){n.d(t,{Q:function(){return _}});var i=n(520739);n(675373),n(338172),n(874386),n(413806),n(826893);var o=n(88648),r=n(302653),l=n.n(r),a=n(712086),u=n(111026),s=n(892766),d=n(725887),c=n(441447),f=n(130556),v=n(975480);async function m(){try{var e,t,i,o;let{default:r}=await Promise.resolve().then(n.bind(n,855066)),{VodLoggerPlugin:l}=await Promise.resolve().then(n.bind(n,18263)),u=await a.h.getAllVars({timeOutDuration:5e3}),s=null===(o=Object.keys(u))||void 0===o?void 0:null===(i=o.map)||void 0===i?void 0:null===(t=i.call(o,e=>{var t;return null==u?void 0:null===(t=u[e])||void 0===t?void 0:t.vid}))||void 0===t?void 0:null===(e=t.filter(e=>e.startsWith("10")))||void 0===e?void 0:e.join(","),d=Array.from(new Set(s.split(","))).join(",");r.setABSdkVersion(d),l.ABSdkVersion(d)}catch(e){}}async function g(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=await (0,u.l$)(l()([...u.Kl,...u.Y6,...v.f],e=>e.key)),r=(await (0,a.d)()).filter(e=>!e.startsWith("90"));d.Le.setConfig(d.gI.AbtestVids,r.join(",")),!t&&(0,o.startTransition)(()=>{e(e=>{let t=(0,i._)({},e,n);return t&&(t.__isLoaded=!0),d.Le.setConfig(d.gI.AbtestData,t),c.emit(c.EVENT.abTestDataChange,t),t})})}function _(e){let{abTestData:t,isSpider:n}=e,[i,r]=(0,o.useState)(()=>(d.Le.setConfig(d.gI.AbtestData,t),t));return(0,o.useEffect)(()=>{g(r,n)},[]),(0,s.O)(!0,()=>{(0,f.l)(()=>{m()})}),window.abTestData=i,{abtest:i}}},634362:function(e,t,n){n.d(t,{K:function(){return a},r:function(){return l}});var i=n(88648),o=n(324794),r=n(66047);let l=(0,i.createContext)({}),a=function(e){let t=(0,r._)(),n=(0,i.useContext)(l),a=(0,o.h)(e);return(null==t?void 0:t.enableZustand)?a:n}},492652:function(e,t,n){n.r(t),n.d(t,{Context:function(){return o},effect:function(){return l},initialData:function(){return a},reducer:function(){return r},useUserContext:function(){return u}});var i=n(109539);let{Context:o,reducer:r,effect:l,initialData:a}=i,u=()=>(0,i.useUserInfoContext)()||{}},852470:function(e,t,n){var i=n(563097);n(88648);var o=n(811796),r=n(634165),l=n(413882);t.Z=()=>{let e=(0,o.d)();return(null==e?void 0:e.fpr)?(0,i.jsx)(r.Z,{}):(0,i.jsx)(l.default,{})}},555001:function(e,t,n){n.d(t,{EA:function(){return v},X_:function(){return s},j:function(){return c},q4:function(){return f},qT:function(){return d}});var i=n(520739),o=n(88648),r=n(996355),l=n(742740),a=n(983253),u=n(276932);let s=(()=>{let e={};return(t,n)=>{let i=e[t];if(!i&&n){if(i=new r.v({eventName:"livesdk_module_perf_timing",onDestry:()=>{delete e[t]},pointIdGenerator:e=>null==e?void 0:e.type,extra:{from:"ssr"}}),Object.keys(e).length>30){var o;null===(o=Object.values(e)[0])||void 0===o||o.destroy()}e[t]=i}return i}})(),d=e=>{let{roomId:t,startTime:n,extra:i={}}=e,o=s(t,!0).start(n);return o.addExtraParams(i),o},c=e=>{var t;let{roomId:n,type:o,duration:r}=e;null===(t=s(n))||void 0===t||t.collect((0,i._)({type:o,duration:r},(0,u.zS)()))},f=e=>{let{roomId:t,type:n}=e;return(0,o.useEffect)(()=>{c({roomId:t,type:n})},[t]),null},v=e=>{let{roomId:t}=e;return(0,o.useEffect)(()=>{if(!t)return;let e=s(t,!0);return window.ENTER_ROOM_BY_PRELOAD_LIVING&&e.start(window.ENTER_ROOM_BY_PRELOAD_LIVING),e.addExtraParams({room_id:t,url:window.location.href,enter_from:(0,l.yW)(),enter_method:(0,a.Rs)("enter_method")}),()=>{null==e||e.destroy()}},[t]),null}},119513:function(e,t,n){n.d(t,{E:function(){return i}});var i={INNOCENT:0,0:"INNOCENT",FOLLOWING:1,1:"FOLLOWING",BOTH:2,2:"BOTH",FOLLOWED:3,3:"FOLLOWED"}},566783:function(e,t,n){n.d(t,{B:function(){return l},s:function(){return a}});var i=n(19670),o=n(444653);let r=null,l=e=>{(0,i.qu)("recordLiveABTestData",e),r=e},a=()=>{var e;return r||(null===(e=(0,o.z)())||void 0===e?void 0:e.abTestData)||{}}},392241:function(e,t,n){n.d(t,{X:function(){return d}}),n(250440),n(284961),n(826893),n(268917);var i=n(454793),o=n(828782),r=n(725887),l=n(201758),a=n(555001),u=n(276932),s=n(400582);let d=e=>{let{href:t,webRid:n,reuseId:d,abtestData:c,roomId:f,from:v,_reusePlayer:m=0,usePreCreate:g=!1,roomData:_}=e;(0,a.qT)({roomId:f,startTime:performance.now(),extra:{from:v,reuse_player:!!m}}),u.Fd.startEnterRoom();let h=t;if(n)try{window.liveDetailDataAPI=(0,l.Y)({webRid:n})}catch(e){}0===m?(window.ENTER_ROOM_BY_CHILD_ROUTE=performance.now(),g&&s.Z.saveUsePreCreatePlayer()):(window.ENTER_ROOM_BY_REUSE_PLAYER=performance.now(),h=h.includes("?")?`${h}&r_player=${m}&r_id=${d}`:`${h}?r_player=${m}&r_id=${d}`),setTimeout(()=>{if((0,o.DT)()){let e=location.href.replace(location.origin,"");r.Le.setConfig(r.gI.searchSpaMainPath,e)}i.history.push(h)},0)}},17352:function(e,t,n){n.d(t,{W:function(){return l}}),n(882732),n(544943),n(874386),n(250440);var i=n(19670),o=n(493288);let r=n.n(o)()(e=>{try{let{pathname:t}=new URL(e);return t.includes("/follow/live")||t.includes("/follow")}catch(e){return!1}});function l(e){var t,n;if(!e||"undefined"==typeof window)return!1;let{enable:o,onlyFollow:l}=e;return(0,i.qu)("checkInNewProjectPreviewABWithPathCheck",e),!!o&&(!!(!l||r(null===(n=window)||void 0===n?void 0:null===(t=n.location)||void 0===t?void 0:t.href))||!1)}},214068:function(e,t,n){n.d(t,{C7:function(){return o},of:function(){return i}});let i={TOOLBAR:"WebcastToolBarControlMessage",LIVE_SHOPPING:"WebcastLiveShoppingMessage"};var o={ASYNC:0,0:"ASYNC",SYNC:1,1:"SYNC"}},914104:function(e,t,n){n.d(t,{OK:function(){return h},ZB:function(){return v},oG:function(){return _}}),n(882732),n(544943),n(874386),n(413806),n(826893),n(954372),n(675373),n(779788),n(250440);var i=n(712086),o=n(167951),r=n(138575),l=n(639300),a=n(645260),u=n.n(a),s=n(121279),d=n(157703),c=n(721615);let f=(0,l.createBrowserClient)();function v(e){try{let{pathname:t,hostname:n}=new URL(e),i="DEFAULT";for(let e of(t=t.split("/").filter(e=>""!==e).join("/").toLowerCase(),["category","hot_live","iframe","live/iframe","error","comment","follow/live","root/live"]))t.indexOf(e)>-1&&(i=(null!=e?e:"").toUpperCase());if("DEFAULT"!==i)return i;return/live/i.test(n)?i=""===t?"HOME":"LIVING":"follow"===t?i="FOLLOW":""===t?i="RECOMMEND":"user/self"===t?i="SELF":/^search\//.test(t)?i="SEARCH":/\/live\//.test(t)&&"www.douyin.com"===n&&(i="DOUYIN_LIVE"),i}catch(e){return"UNKNOWN_ERROR"}}let m=(()=>{let e=[];try{var t;let n=JSON.parse(null!==(t=localStorage.getItem("__tea_sdk_ab_version_6383"))&&void 0!==t?t:"{}");e=Object.values(n.data).map(e=>e.vid)}catch(e){}let n=!1,o=()=>n||!s.jX.init?Promise.resolve():(0,i.d)().then(t=>{if(!!t)e=t,n=!0});return{getAllVids:async()=>(await o(),e),reportAllVids:async()=>{let e=await m.getAllVids(),t=`[tea_vids] ${e.join(",")}`;Slardar.sendLog({content:t,level:"info",extra:{name:"tea_vids"}})}}})(),g=()=>{var e,t;let n=null===(t=document.documentElement)||void 0===t?void 0:null===(e=t.dataset)||void 0===e?void 0:e.cluster;return"default"===n||"unknown"===n?"production":n};function _(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var e,t,n;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",l={bid:"webcast_douyin_pc",integrations:[(0,c.heatmap)({trackRootScroll:!1})],env:g(),release:"1.0.8.4370",plugins:{performance:{fmp:{renderType:"SSR"}},blankScreen:{rootSelector:"#root",screenshot:!1},ajax:{collectBodyOnError:!0,ignoreUrls:[/.*mcs\.snssdk\.com.*/]},fetch:{collectBodyOnError:!0,ignoreUrls:[/.*mcs\.snssdk\.com.*/]},pageview:{routeMode:"history",extractPid:v}}},a=u()(null===(t=window)||void 0===t?void 0:null===(e=t.slardar)||void 0===e?void 0:e.call(t,"config"),"sessionId",void 0);a&&(l.sessionId=a),f.init(l),f("start"),window.LIVE_SLARDAR_PID=null===(n=f.config())||void 0===n?void 0:n.pid,m.reportAllVids().catch(()=>{}),f.on("beforeSend",e=>{var t,n,l,a,u,s,c,f,v,m;e.common.user_id=null!==(c=null===(t=(0,o.Es)())||void 0===t?void 0:t.user_unique_id)&&void 0!==c?c:e.common.user_id,window.LIVE_SLARDAR_PID=e.common.pid,e.common.context=e.common.context||{},e.common.context._is_new_version=JSON.stringify(null===(n=window)||void 0===n?void 0:n.isNewVersionFirstOpen);try{if("js_error"===e.ev_type&&"live.douyin.com"!==window.location.host)return!1}catch(e){}let g=(()=>{try{var e,t,n,o,r,l,a,u,s,d,c;let f=null!==(c=null===(e=window)||void 0===e?void 0:e.__STORE__)&&void 0!==c?c:{};null==f||null===(n=f.userStore)||void 0===n||null===(t=n.userInfo)||void 0===t||t.id_str;let v=i||(null===(u=window)||void 0===u?void 0:null===(a=u.__EDEN_SSR_PREFETCHED_DATA__)||void 0===a?void 0:null===(l=a.app)||void 0===l?void 0:null===(r=l.user)||void 0===r?void 0:null===(o=r.info)||void 0===o?void 0:o.uid);return(null===(d=f.userStore)||void 0===d?void 0:null===(s=d.userInfo)||void 0===s?void 0:s.id_str)||v}catch(e){return""}})();e.common.context._user_id=g,e.common.context.logId=null!==(v=null!==(f=null===(l=window)||void 0===l?void 0:l.log_id)&&void 0!==f?f:null===(s=window)||void 0===s?void 0:null===(u=s.__EDEN_SSR_PREFETCHED_DATA__)||void 0===u?void 0:null===(a=u.app)||void 0===a?void 0:a.logId)&&void 0!==v?v:"-",e.common.context._live_modal_active_index=null!==(m=String(window.__LIVE_MODAL_ACTIVE_INDEX__))&&void 0!==m?m:"",Object.entries((0,r.n)()).forEach(t=>{let[n,i]=t;e.common.context[n]=i});try{if("performance"===e.ev_type){let{name:t}=e.payload;["ttfb","fp","lcp","mpfid","fid"].includes(t)&&d.sA.sendEventByTeaCommon(`livesdk_performance_${t}`,Math.floor(e.payload.value||0))}}catch(e){}return e}),window.LiveSlardar=f}(e)}let h=()=>window.LiveSlardar||window.Slardar||window.slardar},19670:function(e,t,n){n.d(t,{WH:function(){return d},nj:function(){return u},qu:function(){return s}});var i=n(520739);n(209955);var o=n(914104),r=n(674379),l=n(419631),a=n.n(l);let u=a()(()=>!!(0,r.yW)("liveabcde")),s=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&arguments[2];try{u()}catch(e){}},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{s(e,t,n),(0,o.OK)().sendEvent({name:e,categories:(0,i._)({stack:function(e){try{if("boolean"==typeof e&&e)return Error().stack;return}catch(e){return}}(n)},t)})}catch(e){}}},244524:function(e,t,n){n.d(t,{Yw:function(){return u}});var i=n(520739),o=n(878389);n(874386),n(567754);var r=n(922894),l=n(390272),a=n(386184);let u=async e=>{let t,n,u,s,{webRid:d,isPreEnterRoom:c}=e,f={},v={},m=[],g=await (0,r.nx)({webRid:d,isPreEnterRoom:c}),_=null==g?void 0:g.data,h=g.headers["x-tt-logid"];if(200===g.status){var p,w;n=`${_.status_code}`,s=null!==(w=null==_?void 0:null===(p=_.data)||void 0===p?void 0:p.prompts)&&void 0!==w?w:"";let{enter_status:e}=_.data;if("0"!==n&&!e&&(t={title:l.U[n]||l.d.SERVER_ERROR},u=!1),"0"===n&&e&&0!==Object.keys(e).length){let{enter_code:n,enter_app_name:i}=e,{qrcode_url:o}=_.data;(4003071===n||4003074===n||4019006===n)&&(u=!0),i&&o&&(4003093===n||4003086===n)?u=!0:i&&(4003093===n||4003086===n)&&(t={title:"Pico视频"===i?`当前直播内容仅限${i}设备观看`:`当前直播内容仅限${i}App观看`},u=!1)}let{data:r}=_,{data:c=[],enter_room_id:g,user:y,extra:b,enter_mode:C,qrcode_url:S,partition_road_map:I,similar_rooms:k=[],web_stream_url:x=null,login_lead:L={},auth_cert_info:T}=r||{};m=null==k?void 0:k.map(e=>(0,o._)((0,i._)({},e),{room:(0,a.C_)(e.room),request_id:h})),v=L,f={room:c[0],roomId:g,web_rid:d,anchor:y,roomExtra:b,enter_mode:C,qrcode_url:S,partition_road_map:I,web_stream_url:x,auth_cert_info:T}}else t={title:l.d.SERVER_ERROR};return{logId:h,roomInfo:f,error:t,errorPageMessage:u,status_code:n,errorPrompts:s,loginLead:v,relevantRooms:m,isUseVVC:!1}}},725692:function(e,t,n){n.r(t);var i=n(520739);n(675373);var o=n(563097),r=n(88648),l=n(282088);let a=()=>Promise.all([n.e("92432"),n.e("23145"),n.e("21248"),n.e("11073"),n.e("66135"),n.e("70728"),n.e("59487"),n.e("50384")]).then(n.bind(n,449361)),u=(0,r.forwardRef)(function(e,t){return(0,o.jsx)(l.o,(0,i._)({innerRef:t,id:"island_4a5da",load:a},e))});t.default=u},670127:function(e,t,n){n.d(t,{BZ:function(){return X},ds:function(){return Y}});var i=n(520739),o=n(878389),r=n(368200);n(675373),n(874386),n(284961),n(826893),n(927234),n(250440);var l=n(563097),a=n(88648),u=n(309931),s=n(713097),d=n.n(s),c=n(169625),f=n(273312),v=n(867961),m=n(111906),g=n(953342),_=n(645260),h=n.n(_),p=n(23902),w=n.n(p),y=n(907831),b=n.n(y),C=n(428775),S=n.n(C),I=n(150079),k=n(578580),x=n(727795),L=n(618618),T=n(1792),D=n(338426),N=n(567754),P=n(47047),E=n(328155),A=n(441447),R=n(579828),M=n(167951),O=n(873791),F=n(98317),U=n(434090),j=n(354312);let B=(0,D.ZP)(()=>Promise.all([n.e("66135"),n.e("25244"),n.e("1709"),n.e("46362"),n.e("67239"),n.e("923"),n.e("58195"),n.e("3556"),n.e("264"),n.e("31689"),n.e("29977"),n.e("59765"),n.e("25851"),n.e("48755"),n.e("10435"),n.e("19070")]).then(n.bind(n,2744)),{ssr:!1,resolveComponent:e=>{let{LiveSliderCard:t}=e;return t}});var W={RECOMMEND:2,2:"RECOMMEND",FOLLOW:254,254:"FOLLOW",SEARCH:394,394:"SEARCH"};let H=new Map([["recommend","RECOMMEND"],["follow","FOLLOW"],["friend","FRIEND"],["search","SEARCH"]]),V=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"string"!=typeof e?e:e.replace(/^http:\/\//i,"https://")},G=0,K=a.createContext({uid:""}),Z=new O.N,q="__small_window_close",z=(e,t)=>{let n=t;for(;n&&e;)if((n=n.parentNode)===e)return!0;return!1},Y=()=>{let[e,t]=(0,a.useState)(G++);return{Provider:(0,a.useCallback)(t=>(0,l.jsx)(K.Provider,{value:{uid:q+e},children:t.children}),[e]),closeSmallWindow:()=>{Z.emit(q+e)}}};function J(){try{return location.pathname}catch(e){return""}}let X=a.forwardRef((e,t)=>{var n;let{className:s="",style:_={},wrapStyle:p={},showWindow:y=!0,awemeInfo:C,forceSmall:D=!1,position:O="left",from:G="recommend",deleteCurrentSwiper:q,enter_from_merge:Y="follow",isLogin:X,fixLeft:Q=0,fixTop:$=0,disableSelfEvent:ee=!1,onShowChange:et,logParams:en={},scene:ei="web_feed",useAuto:eo=!1,player:er,abTestData:el,zIndex:ea=1e3,fixed:eu=!0}=e;(0,r._)(e,["className","style","wrapStyle","showWindow","awemeInfo","forceSmall","position","from","deleteCurrentSwiper","enter_from_merge","isLogin","fixLeft","fixTop","disableSelfEvent","onShowChange","logParams","scene","useAuto","player","abTestData","zIndex","fixed"]);let es=(0,f.j)(),ed=w()(el)?es:el,[ec,ef]=(0,a.useState)(!1),ev=(0,a.useRef)(null),em=(0,a.useRef)(null),eg=(0,a.useRef)(null),e_=(0,a.useRef)(null),[eh,ep]=a.useState(0),[ew,ey]=(0,a.useState)(!1),[eb,eC]=(0,a.useState)({}),[eS,eI]=(0,a.useState)(!1),{isMobile:ek,isiPad:ex}=(0,v.X)(),{uid:eL}=(0,a.useContext)(K),[eT,eD]=(0,a.useState)({width:90,height:160}),[eN,eP]=(0,a.useState)({width:168,height:298}),[eE,eA]=(0,a.useState)(!1),[eR,eM]=(0,a.useState)(!1),[eO,eF]=(0,a.useState)(!1),[eU,ej]=a.useState(!1),[eB,eW]=a.useState(!1),[eH,eV]=a.useState(!1),eG=(0,a.useMemo)(()=>{var e;return e=16,Math.random().toString(36).substr(2,16)},[]),[eK,eZ]=a.useState(!1),[eq,ez]=a.useState(!1),eY=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(!eR||!e){clearTimeout(ev.current),clearTimeout(em.current);ev.current=setTimeout(()=>{if(!(((0,P.O)()||ek||ex)&&(0,E.Nr)(J())))ef(!0),eI(!0),eM(!1)},1e3)}},eJ=()=>{clearTimeout(em.current),clearTimeout(ev.current),em.current=setTimeout(()=>{ef(!1)},300)};(0,a.useImperativeHandle)(t,()=>({mouseEnterHandler:eY,mouseLeaveHandler:eJ}));let eX=(0,a.useMemo)(()=>{var e,t,n,i,o,r,l,a,u,s,d,c,f,v,m,g;if(!eb)return{};let _=null==eb?void 0:null===(e=eb.authorInfo)||void 0===e?void 0:e.roomData,h=null==eb?void 0:null===(t=eb.authorInfo)||void 0===t?void 0:t.uid,p=(null==eb?void 0:null===(n=eb.authorInfo)||void 0===n?void 0:n.roomIdStr)||(null==eb?void 0:null===(o=eb.authorInfo)||void 0===o?void 0:null===(i=o.roomId)||void 0===i?void 0:i.toString()),w=null==eb?void 0:null===(r=eb.authorInfo)||void 0===r?void 0:r.nickname,y=null==eb?void 0:eb.desc,b=null==_?void 0:null===(l=_.owner)||void 0===l?void 0:l.web_rid,C=null==eb?void 0:null===(a=eb.authorInfo)||void 0===a?void 0:a.secUid,S=(null==_?void 0:null===(u=_.stream_url)||void 0===u?void 0:u.flv_pull_url)||{},I=(null==S?void 0:S.SD1)||(null==S?void 0:S.SD2)||(null==S?void 0:S.HD1)||(null==S?void 0:S.FULL_HD1),k=null==_?void 0:null===(d=_.stream_url)||void 0===d?void 0:null===(s=d.extra)||void 0===s?void 0:s.width,x=null==_?void 0:null===(f=_.stream_url)||void 0===f?void 0:null===(c=f.extra)||void 0===c?void 0:c.height,L=null==_?void 0:null===(v=_.stream_url)||void 0===v?void 0:v.hls_pull_url,T=null==eb?void 0:null===(g=eb.authorInfo)||void 0===g?void 0:null===(m=g.roomData)||void 0===m?void 0:m.user_count,D=L&&(null==L?void 0:L.includes("https"))?L:null==L?void 0:L.replace("http","https"),N=(()=>{try{var e,t,n,i,o;let r=JSON.parse(null!==(o=null==_?void 0:null===(n=_.stream_url)||void 0===n?void 0:null===(t=n.live_core_sdk_data)||void 0===t?void 0:null===(e=t.pull_data)||void 0===e?void 0:e.stream_data)&&void 0!==o?o:"{}");return null==r?void 0:null===(i=r.common)||void 0===i?void 0:i.session_id}catch(e){return""}})(),P=W[H.get(G)];return k>x&&(eD({width:160,height:90}),eP({width:298,height:168}),ey(!0)),{anchorId:h,roomId:p,url:I,liveWidth:k,liveHeight:x,hlsSrc:D,sessionId:N,sceneId:P,userName:w,title:y,webRid:b,secUid:C,userCount:T}},[eb]),eQ=(e,t)=>{if(e<0)return 24;let n=document.documentElement.clientHeight;return e+t>n?n-t-24:e},e$=(e,t)=>{if(e<0){let{offsetWidth:n,offsetHeight:i}=t;return i+t.top<Math.abs(e)?-(i+t.top-10):e}},e0=(0,a.useMemo)(()=>{if(!eg.current||!eN||!eu&&!eH)return{top:0,left:0,display:"none"};let{width:e,height:t}=eN,{offsetWidth:n,offsetHeight:i}=eg.current,o=eg.current.getBoundingClientRect(),{top:r,left:l}=o;if("left"===O){let a=r-t/2+i/2+$;return eu?{left:l-e-10+Q,top:eQ(a,eN.height)}:{left:-e-10-Q,top:e$(-(t/2-i/2),{top:o.top,offsetWidth:n,offsetHeight:i})}}if("right"===O){let e=r-t/2+i/2+$;return eu?{left:l+n+10+Q,top:eQ(e,eN.height)}:{left:n+10+Q,top:e$(-(t/2-i/2),{top:o.top,offsetWidth:n,offsetHeight:i})}}},[eN,eg.current,O,Q,$,ec,eR,eu,eH]),e1=a.useMemo(()=>{if(eX.webRid){var e;return(0,m.Lj)(null!==(e=eX.webRid)&&void 0!==e?e:"-1")()}return null},[eX.webRid]),e2=(0,a.useMemo)(()=>{var e,t,n,i;return{enter_method:en.small_window_enter_method?en.small_window_enter_method:eS?"web_video_live_hover_mouse":"web_video_live_hover_automatic",enter_from_merge:en.enter_from_merge||"web_homepage_follow",is_aweme_tied:X?1:0,request_id:function(){try{var e;return(null==eb?void 0:eb.logPb)?null===(e=JSON.parse(null==eb?void 0:eb.logPb))||void 0===e?void 0:e.impr_id:(null==en?void 0:en.request_id)||""}catch(e){return""}}(),stream_type:null!==(i=g.LIVE_STREAM_TYPE[null==eb?void 0:null===(n=eb.authorInfo)||void 0===n?void 0:null===(t=n.roomData)||void 0===t?void 0:null===(e=t.stream_url)||void 0===e?void 0:e.stream_orientation])&&void 0!==i?i:"other",live_position:null==en?void 0:en.live_position}},[eb,X,eS,en]),e4=null==C?void 0:null===(n=C.authorInfo)||void 0===n?void 0:n.uid,e8=W[H.get(G)],e5=async(e,t)=>S().get("https://live.douyin.com/webcast/distribution/check_user_live_status/",{withCredentials:!0,params:{user_ids:e,aid:6383,distribution_scenes:t,channel:"channel_pc_web",device_platform:"webapp"}}),e3=a.useCallback(async()=>{ez(!0);let e=await e5(e4,e8);setTimeout(()=>{ez(!1)},10);let{status_code:t,data:n=[]}=e.data;if(0===t)return n.some(e=>{let t=h()(e,"user_live",[])[0];return[1,2,5,7].includes(h()(t,"live_status"))})?(ep(2),2):(ep(0),A.emit(A.EVENT.LiveHeadLiveEnd,{anchorId:e4}),0);{var i,o,r,l,a;let n="/webcast/distribution/check_user_live_status/",u=I.k8[n];(0,k.bH)(`[${u.scene}接口][${n}]`,u.level,{content:{statusCode:t,logId:(null==e?void 0:null===(i=e.headers)||void 0===i?void 0:i["x-tt-logid"])||"",message:(null==e?void 0:null===(r=e.data)||void 0===r?void 0:null===(o=r.data)||void 0===o?void 0:o.message)||"",prompts:(null==e?void 0:null===(a=e.data)||void 0===a?void 0:null===(l=a.data)||void 0===l?void 0:l.prompts)||"",url:e.config.url}})}return ep(1),1},[e4,e8]),e7=async()=>{var e,t,n,r,l,a,u,s,d,c,f,v,m;if(!(null==C?void 0:null===(e=C.authorInfo)||void 0===e?void 0:e.roomId))return;let g=(0,R.a)();eZ(!0);let _=await (0,x.aL)({room_id:(null==C?void 0:null===(t=C.authorInfo)||void 0===t?void 0:t.roomIdStr)||(null==C?void 0:null===(r=C.authorInfo)||void 0===r?void 0:null===(n=r.roomId)||void 0===n?void 0:n.toString()),scene:ei,channel:"channel_pc_web",region:"cn",device_id:null===(l=(0,M.Es)())||void 0===l?void 0:l.user_unique_id,device_type:null==g?void 0:g.device_type,os_version:null==g?void 0:g.os,version_code:null==g?void 0:g.version_code,webcast_sdk_version:2450}).catch(()=>{eZ(!1)}),h=b()(C);if(200===Number(null==_?void 0:_.status)&&(null==_?void 0:null===(a=_.data)||void 0===a?void 0:a.data)){let e=null==_?void 0:null===(u=_.data)||void 0===u?void 0:u.data,t=h.authorInfo.roomData,n=(0,o._)((0,i._)({},t||{}),{owner:e.owner||t.owner,stream_url:e.stream_url||t.stream_url,linker_map:e.linker_map||t.linker_map,live_room_mode:e.live_room_mode||t.live_room_mode,paid_live_data:e.paid_live_data||t.paid_live_data,additional_stream_url:(null==e?void 0:null===(d=e.others)||void 0===d?void 0:null===(s=d.web_data)||void 0===s?void 0:s.additional_stream_url)||"",game_data:null==e?void 0:e.game_data});h.authorInfo.roomData=n,eC(h),ej((null==e?void 0:null===(f=e.others)||void 0===f?void 0:null===(c=f.web_enter_benefit_point_data)||void 0===c?void 0:c.has_ongoing_lucky_money)||!1),eW((null==e?void 0:null===(m=e.others)||void 0===m?void 0:null===(v=m.web_enter_benefit_point_data)||void 0===v?void 0:v.has_ongoing_lottery)||!1)}else eC(b()(C));eZ(!1)},e6=(0,a.useMemo)(()=>{var e;let t=null==eb?void 0:null===(e=eb.authorInfo)||void 0===e?void 0:e.roomData,n=null==t?void 0:t.linker_map,i=null==t?void 0:t.live_room_mode;if(!t)return!1;if(w()(n))return!0;let o=Array.isArray(n)?null==n?void 0:n.length:Object.keys(n||{}).length;return(void 0===n||(null==n?void 0:n[4])&&o<=1)&&G&&2===eh&&i!==L.ke.AUDIO},[eb,G,eh,ec,eX]),e9=(0,a.useMemo)(()=>2===eh,[eh]),te=(0,a.useMemo)(()=>{var e,t,n,i,o,r;let l=null==eb?void 0:null===(i=eb.authorInfo)||void 0===i?void 0:null===(n=i.roomData)||void 0===n?void 0:null===(t=n.paid_live_data)||void 0===t?void 0:null===(e=t.privilege_info_map)||void 0===e?void 0:e[101],a=(null==l?void 0:null===(o=l.paid_live_info)||void 0===o?void 0:o.paid_live_type)===101;return null==l||null===(r=l.paid_live_info)||void 0===r||r.view_right,a},[eb]),tt=(0,a.useMemo)(()=>{var e,t,n;let i=null==eb?void 0:null===(n=eb.authorInfo)||void 0===n?void 0:null===(t=n.roomData)||void 0===t?void 0:null===(e=t.paid_live_data)||void 0===e?void 0:e.paid_type;return null!=i&&0!==Number(i)},[eb]),tn=e=>{e.stopPropagation(),window.open(`https://live.douyin.com/${null==eX?void 0:eX.webRid}?${N.stringify(ti)}`)},ti=(0,a.useMemo)(()=>(0,i._)({enter_method:"web_video_head",enter_from_merge:null==e2?void 0:e2.enter_from_merge,request_id:null==e2?void 0:e2.request_id,open_vip_panel:te?1:""},e2),[e2]),{isFeedH265:to}=(0,j.Z)({abtestData:ed,tab:"livehead"}),tr=(0,a.useMemo)(()=>{try{var e,t,n;let i=null==eb?void 0:null===(e=eb.authorInfo)||void 0===e?void 0:e.roomData,o=to?null==i?void 0:i.additional_stream_url:null==i?void 0:i.stream_url,r=null==o?void 0:null===(n=o.live_core_sdk_data)||void 0===n?void 0:null===(t=n.pull_data)||void 0===t?void 0:t.stream_data,l=(0,T.q7)({streamData:r});if(l)return V(l);return""}catch(e){return""}},[eN,to,eb,ed]),tl=(0,a.useMemo)(()=>{if(!e9)return(0,l.jsx)("div",{className:d()(c.default.endLive,{h:ew}),children:"直播已结束"});if(te)return(0,l.jsx)("div",{className:d()(c.default.endLive,{h:ew}),onClick:tn,children:"会员直播中"});if(tt)return(0,l.jsx)("div",{className:d()(c.default.endLive,{h:ew}),onClick:tn,children:"付费直播中"});if(!e6)return(0,l.jsx)("div",{className:d()(c.default.endLive,{h:ew}),onClick:tn,children:"直播连麦中"});if(e1){var e;return(0,l.jsx)(m.qd.Provider,{value:e1,children:(0,l.jsx)(B,{mouseEnterHandler:eY,mouseLeaveHandler:eJ,disableReuse:!0,logParams:e2,flvSrc:V(eX.url),hlsSrc:eX.hlsSrc,sessionId:eX.sessionId,anchorId:eX.anchorId,roomId:eX.roomId,sceneId:eX.sceneId,userName:eX.userName,title:eX.title,userCount:eX.userCount,cover:"",webRid:eX.webRid,secUid:eX.secUid,gameName:"",abtestData:ed,deleteCurrentSwiper:q,isSmallWindow:!0,isHoverSmallWindow:!0,tab:G,isActive:!0,clickSmallWindow:()=>{A.emit(A.EVENT.videoPause,"LiveSmallWindow_clickSmallWindow")},style:{borderRadius:8},changeStatus:()=>{},onLoaded:()=>{},showShadow:!1,roomInfo:null==eb?void 0:null===(e=eb.authorInfo)||void 0===e?void 0:e.roomData,resolutionUrl:tr,currentIndex:null==e2?void 0:e2.live_position})})}return(0,l.jsx)("div",{className:d()(c.default.endLive,{h:ew}),onClick:tn,children:"直播中"})},[e9,tt,e6,e1,e2,eX,ed,q,G]),ta=(0,a.useRef)(!1),tu=(0,a.useCallback)(e=>{if(!eH&&eV(!0),!eo){eM(!1);return}eo&&(null==e?void 0:e.currentTime)>=5&&!eS&&y&&!ta.current&&!eE&&eF(!0),eo&&(null==e?void 0:e.currentTime)>=5&&!eS&&e9&&e6&&!tt&&y&&!ta.current&&!eE&&(eM(!0),eA(!0),ta.current=!0,setTimeout(()=>{eM(!1)},1e4))},[eo,e6,e9,tt,y,eS,eE,eH,eV]);a.useMemo(()=>eB?{text:"福袋发放中",icon:F}:eU?{text:"红包发放中",icon:U}:null,[ed,eU,eB]),(0,a.useEffect)(()=>{if(!y){eC({});return}(ec||eO)&&(e3(),e7())},[C,y,ec,e3,eS,eO]),(0,a.useEffect)(()=>{et&&et({show:ec,hover:eS})},[ec,eS]),(0,a.useEffect)(()=>(null==er||er.on("timeupdate",tu),()=>{null==er||er.off("timeupdate",tu)}),[er,tu]),(0,a.useEffect)(()=>{let e=()=>{ef(!1),eM(!1),eA(!0)};return Z.on(eL,e),()=>{Z.off(eL,e)}},[eL]),(0,a.useEffect)(()=>{!eo&&eM(!1)},[eo]),(0,a.useEffect)(()=>{ec&&Z.emit("closeOtherSmallWindow",eG);let e=e=>{e!==eG&&ef(!1)};return Z.on("closeOtherSmallWindow",e),()=>{Z.off("closeOtherSmallWindow",e)}},[ec,eG]),(0,a.useEffect)(()=>{(0,E.Nr)(J())&&ef(!1)},[J()]);let ts=(0,a.useMemo)(()=>!!((null==eX?void 0:eX.url)&&y&&(ec||eR)&&!eK&&!eq),[eX,y,ec,eR,eK,eq]);return(0,a.useEffect)(()=>{let e=e=>{e.preventDefault(),e.stopPropagation()};if(e_.current){var t;return null==e_||null===(t=e_.current)||void 0===t||t.addEventListener("wheel",e),()=>{var t;null==e_||null===(t=e_.current)||void 0===t||t.removeEventListener("wheel",e)}}},[e_.current,ts]),(0,l.jsxs)("div",{className:d()(c.default.wrap,s),onMouseEnter:e=>{if(!(ee||!z(e.currentTarget,e.target)||eR&&z(e_.current,e.target))&&!eR)eY(!1)},onMouseLeave:()=>{if(!ee)eJ()},style:(0,i._)({position:"relative"},p),ref:eg,children:[e.children,ts&&(0,u.createPortal)((0,l.jsxs)("div",{className:c.default.videoWrap,onMouseEnter:e=>{eY()},onMouseLeave:eJ,style:(0,o._)((0,i._)({position:eu?"fixed":"absolute",height:null==eN?void 0:eN.height,width:null==eN?void 0:eN.width},e0,_),{zIndex:ea}),ref:e_,children:[tl,eR&&(0,l.jsx)("div",{className:c.default.closeIcon,onClick:()=>{eM(!1)}})]}),eu?document.body:eg.current)]})})},268171:function(e,t,n){n.r(t);var i=n(520739);n(675373);var o=n(563097),r=n(88648),l=n(282088);let a=()=>n.e("35081").then(n.bind(n,176040)),u=(0,r.forwardRef)(function(e,t){return(0,o.jsx)(l.o,(0,i._)({innerRef:t,id:"island_060f5",load:a},e))});t.default=u},714905:function(e,t,n){n.r(t);var i=n(520739);n(675373);var o=n(563097),r=n(88648),l=n(282088);let a=()=>Promise.all([n.e("66135"),n.e("75466")]).then(n.bind(n,267245)),u=(0,r.forwardRef)(function(e,t){return(0,o.jsx)(l.o,(0,i._)({innerRef:t,id:"island_3532e",load:a},e))});t.default=u},220113:function(e,t,n){n.r(t);var i=n(520739);n(675373);var o=n(563097),r=n(88648),l=n(282088);let a=()=>Promise.all([n.e("92432"),n.e("66135"),n.e("76022")]).then(n.bind(n,709676)),u=(0,r.forwardRef)(function(e,t){return(0,o.jsx)(l.o,(0,i._)({innerRef:t,id:"island_d96bc",load:a},e))});t.default=u},189515:function(e,t,n){n.r(t);var i=n(520739);n(675373);var o=n(563097),r=n(88648),l=n(282088);let a=()=>Promise.all([n.e("74792"),n.e("66135"),n.e("18952")]).then(n.bind(n,944075)),u=(0,r.forwardRef)(function(e,t){return(0,o.jsx)(l.o,(0,i._)({innerRef:t,id:"island_a6d2d",load:a},e))});t.default=u},201308:function(e,t,n){n.d(t,{g:function(){return o}});var i=n(578580);let o=e=>{try{i.kg.event("context_init_error",{contextName:e})}catch(e){}}},760640:function(e,t,n){n.d(t,{Ep:function(){return b},a3:function(){return k},dU:function(){return c},hd:function(){return w},ig:function(){return C},lH:function(){return S},qZ:function(){return I},xg:function(){return y}});var i=n(520739),o=n(878389);n(250440),n(602157),n(284961),n(826893),n(268917),n(429532),n(413806);var r=n(509090),l=n(645260),a=n.n(l),u=n(119513),s=n(433964);let d=[5536,3992,3657,3591,3656,3767,3763,3246,3568,458,875,679,860,685,3835,3834,3817,3431,3430],c=e=>d.includes(Number(e)),f=e=>1===e?"3431":e<=10&&e>1?"3430":"685",v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return[{activePng:n(231897),nextPng:n(785631),needLevel:1,isShowLevel:!0,isGift:!1,levelTitle:"专属勋章",levelTips:"点亮专属勋章"},{activePng:n(662747),nextPng:n(423113),needLevel:1,isShowLevel:!1,isGift:!0,levelTitle:"应援灯牌",levelTips:"为主播打call",giftId:f(Number(e))},{activePng:n(183210),nextPng:n(464588),needLevel:1,isShowLevel:!1,isGift:!0,levelTitle:"为你点亮",levelTips:"礼物购买资格",giftId:"860"},{activePng:n(220552),nextPng:n(876088),needLevel:5,isShowLevel:!0,isGift:!1,levelTitle:"粉丝团升级信息",levelTips:"房间内公告"},{activePng:n(335069),nextPng:n(137071),needLevel:7,isShowLevel:!0,isGift:!0,levelTitle:"一直陪伴你",levelTips:"礼物购买资格",giftId:"679"},{activePng:n(629351),nextPng:n(605989),needLevel:10,isShowLevel:!0,isGift:!1,levelTitle:"粉丝团进场特效",levelTips:"直播间<=10000人可用"},{activePng:n(185505),nextPng:n(345580),needLevel:11,isShowLevel:!0,isGift:!1,levelTitle:"粉丝团进场特效",levelTips:"本直播间可用"},{activePng:n(646775),nextPng:n(789175),needLevel:11,isShowLevel:!1,isGift:!1,levelTitle:"粉丝团勋章升级",levelTips:"勋章样式升级"},{activePng:n(581768),nextPng:n(242552),needLevel:12,isShowLevel:!0,isGift:!0,levelTitle:"动次打次",levelTips:"礼物购买资格",giftId:"875"},{activePng:n(215557),nextPng:n(644959),needLevel:16,isShowLevel:!0,isGift:!0,levelTitle:"宇宙之心",levelTips:"礼物购买资格",giftId:"458"},{activePng:n(965750),nextPng:n(845268),needLevel:20,isShowLevel:!0,isGift:!0,levelTitle:"宇宙之心（霞光橙）",levelTips:"20级专属，仪式感拉满",giftId:"458"}]},m=e=>{let t=s.Fw[e.status],n=a()(e,"badge.Icons[1].url_list[0]",""),i=a()(e,"badge.Icons[4].url_list[0]","");return{maxLevel:20,level:e.level,icon:i||n,intimacyGap:String(e.next_level_intimacy-e.intimacy),status:t,intimacy:String(e.intimacy),nextLevelIntimacy:e.next_level_intimacy}},g=(e,t)=>(e||[]).filter(e=>[s.a4.SUPPORT,s.a4.WATCH_LIVE,s.a4.DAILY_GIFT,s.a4.LIGHT_GIFT].includes(e.task_type)).map(e=>{var n,i,o,r,l,a;let u=e.available_intimacy||0,d=e.intimacy_bonus||0,c=e.compeleted_num||e.completed_num||0,f=e.total_num||1,v=c>=f,m=e.task_type,g=e.button,_=null===(n=e.description)||void 0===n?void 0:n.replace(/抖币/g,t||s.lM),h=null===(o=e.icon)||void 0===o?void 0:null===(i=o.url_list)||void 0===i?void 0:i[0],p=null===(r=e.title)||void 0===r?void 0:r.replace(/抖币/g,t||s.lM),w=null==g?void 0:g.button_type,y=m!==s.a4.WATCH_LIVE&&!v,b=y?null==g?void 0:g.content:`+${d}`,C=null===(a=e.tags)||void 0===a?void 0:null===(l=a[0])||void 0===l?void 0:l.content,S=null==g?void 0:g.gift_id,I=null==g?void 0:g.gift_coin_count;return{isStart:d>0,isCompeleted:v,taskType:m,desc:_,icon:h,title:p,button:b,buttonType:w,showButton:y,tag:C,giftId:S,giftPrice:I,giftCount:(null==g?void 0:g.remain_amount)||1,availableIntimacy:u}}),_=e=>{let t=[];try{return(v(e)||[]).map(e=>{t.push(Object.assign({},e))}),t}catch(e){return t}},h=e=>{var t,n,i,o,r,l,u,s,d,c,f;let v=e.user_info||{},m=e.user_fansclub_info,g=(null==m?void 0:null===(o=m.badge)||void 0===o?void 0:null===(i=o.Icons)||void 0===i?void 0:null===(n=i[1])||void 0===n?void 0:null===(t=n.url_list)||void 0===t?void 0:t[0])||"",_=a()(m,"badge.Icons[4].url_list[0]",""),h=v.nickname||"";return{userId:v.id_str,userAvatar:(null==v?void 0:null===(r=v.avatar_thumb)||void 0===r?void 0:r.url_list[0])||"",userNickname:h,badgeLevel:m.level||0,intimacy:m.intimacy_str||"0",clubName:m.club_name||"",badgeIcon:_||g,mysteryMan:a()(v,"mystery_man",1),userHonorLevelImg:null==v?void 0:null===(s=v.badge_image_list)||void 0===s?void 0:null===(u=s[0])||void 0===u?void 0:null===(l=u.url_list)||void 0===l?void 0:l[0],secUid:v.sec_uid,displayId:v.display_id,desensitizedNickname:v.desensitized_nickname,signature:v.signature,followInfo:{followStatus:null==v?void 0:null===(d=v.follow_info)||void 0===d?void 0:d.follow_status,followerCount:null==v?void 0:null===(c=v.follow_info)||void 0===c?void 0:c.follower_count,followingCount:null==v?void 0:null===(f=v.follow_info)||void 0===f?void 0:f.following_count}}},p=e=>{var t,n,i,o,r,l,a,u,s;let d=(null==e?void 0:e.auto_light_up_price)||1,c=(null==e?void 0:null===(t=e.club_info)||void 0===t?void 0:t.name)||"",f=null==e?void 0:e.user_fansclub_info,v=(null==f?void 0:f.level)||1,m=(null==f?void 0:f.auto_light_up_status)||!1,g=null==f?void 0:null===(r=f.badge)||void 0===r?void 0:null===(o=r.Icons)||void 0===o?void 0:null===(i=o[1])||void 0===i?void 0:null===(n=i.url_list)||void 0===n?void 0:n[0],_=(null==f?void 0:null===(s=f.badge)||void 0===s?void 0:null===(u=s.Icons)||void 0===u?void 0:null===(a=u[4])||void 0===a?void 0:null===(l=a.url_list)||void 0===l?void 0:l[0])||"";return{clubName:c,badgeIcon:_||g,badgeLevel:v,isOpenAutoLightUp:m,lightUpPrice:d}},w=(e,t)=>{var n,o,r,l,a,u,s,d,c,f,v,h;let w=m(e.user_fansclub_info||{}),{level:y,maxLevel:b,intimacyGap:C,icon:S,status:I,intimacy:k,nextLevelIntimacy:x}=w,L=null==e?void 0:null===(n=e.user_fansclub_info)||void 0===n?void 0:n.auto_light_up_status,T=g((null==e?void 0:null===(o=e.task_info)||void 0===o?void 0:o.items)||[],t),D=null==e?void 0:null===(r=e.anchor_info)||void 0===r?void 0:r.nickname,N=null==e?void 0:null===(u=e.anchor_info)||void 0===u?void 0:null===(a=u.avatar_thumb)||void 0===a?void 0:null===(l=a.url_list)||void 0===l?void 0:l[0],P=null==e?void 0:null===(s=e.club_info)||void 0===s?void 0:s.total_fans_count,E=y===b,A="保持点亮，让主播看到你";I&&(A=E?"当前已达到满级":`升级还需${C}亲密度`);let R=e.club_info&&e.club_info.name,M=E?`已累计 ${k} 亲密度`:`还需${C}亲密度升级 `,O=(E?1:Number(k)/Number(x))*187,F=_((null==e?void 0:null===(d=e.popularity_rank_hour)||void 0===d?void 0:d.last_week_rank)||0)||[],U=F.filter(e=>w.level<e.needLevel),j=F.filter(e=>w.level>=e.needLevel),B=p(e),W=null==e?void 0:null===(f=e.task_info)||void 0===f?void 0:null===(c=f.items)||void 0===c?void 0:c.find(e=>11===e.task_type),H=T.filter(e=>e.isStart).length===T.length?R:"做任务得亲密度";return!I&&(H=`${(null==W?void 0:null===(h=W.button)||void 0===h?void 0:h.gift_coin_count)||1}${t}点亮勋章`),{cardInfo:{header:{allFansCount:P},mid:{isActive:I,midText:A,clubName:R,icon:S,isShowAutoSwitch:L},task:{level:y},taskList:T},privilegeInfo:{isActive:I,header:{clubName:R,icon:S,subTitleDesc:M,level:y+1,currentProcess:O},list:{noGotList:U,gotList:j}},introduceInfo:{header:{anchorName:D,anchorAvatar:N}},fansListInfo:{anchorName:D,allFansCount:P},fansLightInfo:(0,i._)({anchorName:D,anchorAvatar:N,isActive:I,badgeInfo:{clubName:R,icon:S}},B),fansButtonInfo:{isActive:I,buttonNumber:y,buttonText:H,lightUpPrice:(null==W?void 0:null===(v=W.button)||void 0===v?void 0:v.gift_coin_count)||1}}},y=(e,t)=>{var n,r,l,a,u,s,d,c;let{level:f,maxLevel:v,intimacyGap:_,icon:h,status:w,intimacy:y,nextLevelIntimacy:b}=m((null==e?void 0:e.user_info)||{}),C=g((null==e?void 0:null===(n=e.user_task)||void 0===n?void 0:n.items)||[],t),S=null==e?void 0:null===(r=e.club_info)||void 0===r?void 0:r.anchor_name,I=null==e?void 0:null===(l=e.club_info)||void 0===l?void 0:l.anchor_avatar_url,k=null==e?void 0:null===(a=e.club_info)||void 0===a?void 0:a.total_fans_count,x=f===v,L="保持点亮，让主播看到你";w&&(L=x?"当前已达到满级":`升级还需${_}亲密度`);let T=e.club_info&&e.club_info.name,D=p(e),N=null==e?void 0:null===(s=e.user_task)||void 0===s?void 0:null===(u=s.items)||void 0===u?void 0:u.find(e=>11===e.task_type),P=C.filter(e=>e.isStart).length===C.length?T:"做任务得亲密度";return!w&&(P=`${(null==N?void 0:null===(c=N.button)||void 0===c?void 0:c.gift_coin_count)||1}${t}点亮勋章`),(0,o._)((0,i._)({cardInfo:{header:{allFansCount:k},mid:{isActive:w,midText:L,clubName:T,icon:h,isShowAutoSwitch:!1},task:{level:f},taskList:C},introduceInfo:{header:{anchorName:S,anchorAvatar:I}},fansListInfo:{anchorName:S,allFansCount:k}},D),{fansButtonInfo:{isActive:w,buttonNumber:f,buttonText:P,lightUpPrice:(null==N?void 0:null===(d=N.button)||void 0===d?void 0:d.gift_coin_count)||1}})},b=e=>((null==e?void 0:e.club_user_list)||[]).map(e=>h(e)),C=(e,t,n)=>{if(!e)return r.F.info("主播已关闭粉丝团开通"),!1;if(!t)return r.F.info("主播已关闭送礼等付费功能"),!1;if(!n)return r.F.info("购买门票后可使用该功能"),!1;return!0},S=e=>!!e||(r.F.info("购买门票后可使用该功能"),!1),I=e=>e===u.E.FOLLOWING||e===u.E.BOTH,k=(e,t)=>{try{let n=e.split("?"),i=((n[1]||"").split("&")||[]).map(e=>{let n=e.split("=");if("url"===n[0]){let e=decodeURIComponent(n[1]);-1===e.indexOf("?")&&(e+="?"),n[1]=encodeURIComponent(e+t)}return n.join("=")});return`${n[0]}?${i.join("&")}`}catch(t){return e}}},189398:function(e,t,n){n.d(t,{PW:function(){return h},Pw:function(){return _}});var i=n(520739),o=n(878389);n(675373),n(250440);var r=n(814903),l=n(645260),a=n.n(l);let u=["/webcast/room/like/","/webcast/room/chat/","/webcast/gift/send/","/webcast/user/relation/update/"];function s(){return n.e("5595").then(n.bind(n,351268))}async function d(e,t){return new Promise((n,i)=>{let o=function(){n()},l=function(e){i(e)};e.init({commonOptions:{aid:r.AF,did:t,iid:"0"},captchaOptions:{host:"//verify.snssdk.com/",showMode:"mask",autoClose:!0,hideCloseBtn:!1,successCb:o,errorCb:l}},o,l)})}async function c(e,t){let n=t.headers["bdturing-verify"]||t.data.data.shark_decision_conf;if(!n)return t;let r=a()(window,"__STORE__.userStore.odin.user_unique_id","0"),l=await s();return await d(l,r),await new Promise((i,o)=>{l.render({verify_data:n,captchaOptions:{host:"//verify.snssdk.com/",successCb:()=>{i()},errorCb:e=>{o(e)},closeCb:()=>{setTimeout(()=>{_(e,t)},1e3)}},secondVerifyWebOptions:{scene:"3",useSmsMode:6,callBack:()=>{i()}}})}),l.getFp().then(n=>{var r,l;let a=(0,o._)((0,i._)({},t.config),{params:(0,o._)((0,i._)({},null!==(l=null===(r=t.config)||void 0===r?void 0:r.params)&&void 0!==l?l:{}),{fp:n,verifyFp:n})});return e.request(a)})}let f=!1,v=async(e,t)=>{let i=(await n.e("62579").then(n.bind(n,478767))).default;return!function(e){if(!f)e.init({aid:6383,newSecondVerificationCall:{reportAppLog:e=>{let{eventName:t,params:n}=e;window.collectEvent(t,n)}}}),f=!0}(i),new Promise(async(n,o)=>{try{let o=JSON.parse(t.headers["x-tt-verify-passport-decision"]),r=await i.verify(o);if(!r.status,r.status){let i=await e.request(t.config);n(i)}}catch(e){}})},m=e=>{var t;return e.headers["bdturing-verify"]||(null===(t=e.data)||void 0===t?void 0:t.data)&&e.data.data.shark_decision_conf},g=e=>{var t,n;return(null==e?void 0:null===(t=e.config)||void 0===t?void 0:t.url)&&["/webcast/web/enter/","/webcast/room/web/enter/"].indexOf(null==e?void 0:null===(n=e.config)||void 0===n?void 0:n.url)>-1};async function _(e,t){if(!g(t)){var n;if(m(t))return await c(e,t);if(u.includes(null==t?void 0:null===(n=t.config)||void 0===n?void 0:n.url)&&(null==t?void 0:t.headers["x-tt-verify-passport-decision"]))return await v(e,t)}return t}let h=async(e,t)=>{let n=e["x-vc-bdturing-parameters"],i=a()(window,"__STORE__.userStore.odin.user_unique_id","0"),o=await s();o.config({executor:"script"}),await d(o,i),o.render({verify_data:n,captchaOptions:{host:"//verify.snssdk.com/",successCb:t,errorCb:e=>{},closeCb:()=>{setTimeout(()=>{h(e,t)},1e3)}}})}},165027:function(e,t,n){var i=n(563097),o=n(88648),r=n(713097),l=n.n(r),a=n(162095),u=n(477667),s=n(773184),d=n(82297),c=n(227296);t.Z=e=>{let{title:t,titleChildren:n,contentText:r,children:f,confirmText:v,cancelText:m,closeButton:g,cancelButton:_=!0,okBtnInRight:h,onConfirm:p,onCancel:w,onClose:y,className:b,show:C,setShow:S}=e,I=(0,o.useCallback)(()=>{if(!y||!1!==y())S(!1)},[y,S]),k=(0,o.useCallback)(()=>{if(!p||!1!==p())S(!1)},[p,S]),x=(0,o.useCallback)(()=>{if(!w||!1!==w())S(!1)},[w,S]);return(0,i.jsx)("div",{children:C&&(0,i.jsx)(d.T6,{className:s.Z.mask,onClick:I,children:(0,i.jsxs)("div",{className:l()(s.Z.modalContainer,b),children:[g&&(0,i.jsx)("div",{className:s.Z.close,onClick:I,children:(0,i.jsx)(c.Z,{width:36,height:36,src:u.Z,color:"#A9AAB7"})}),t&&(0,i.jsx)("div",{className:s.Z.title,children:t}),(0,i.jsxs)("div",{className:s.Z.content,children:[r&&(0,i.jsx)("p",{children:r}),f]}),(0,i.jsxs)("div",{className:s.Z.footer,children:[_&&(0,i.jsx)(a.Button,{theme:"solid",className:s.Z.button,type:"secondary",onClick:x,children:m||"取消"}),(0,i.jsx)(a.Button,{theme:"solid",className:s.Z.button,type:"primary",onClick:k,children:v||"确定"})]})]})})})}},662672:function(e,t,n){n.d(t,{OW:function(){return o},iE:function(){return r}});var i=n(872136),o={resume:"resume",suspend:"suspend"},r={volumeChange:"volume_change",play:"play",timeUpdate:"time_update",playing:"playing",liveActive:"live_active",noKeyParams:"no_key_params",noConnectSource:"no_connect_source"};t.ZP=new i.h({volumeBalanceEvent:{eventName:"volume_balance_event",params:{desc:"",enter_from:"",sample_rate:0,state:"",errMessage:"",group_id:"",player_id:""}},volumeBalanceAction:{eventName:"volume_balance_action",params:{player_id:"",action:"",enter_from:"",state:"",errMessage:"",group_id:"",timing:""}}})},63407:function(e,t,n){var i=n(642448),o=n(226947),r=n(828782),l=n(124871),a=n(63405);t.Z=()=>{let e=async(e,t)=>{if(!(0,r.DT)())return(0,i.Vp)(null,"success");try{return a.invoke("WINDOW_CLOSE"),(0,i.Vp)(null,"success")}catch(e){return(0,i.bG)(i.MU.FAIL)}};(0,o.z)(l.w.ClientWindowClose,e)}},576749:function(e,t,n){var i=n(642448),o=n(226947),r=n(124871);t.Z=()=>{let e=(e,t)=>{let{eventName:n,params:o}=t;try{return window.collectEvent(n,o),(0,i.Vp)("success")}catch(e){return(0,i.bG)(i.MU.FAIL)}};(0,o.z)(r.w.SendLog,e),(0,o.z)(r.w.SendLogV3,e),(0,o.z)(r.w.XreportAppLog,e)}},353745:function(e,t,n){n.d(t,{u:function(){return a}}),n(874386),n(250440);var i=n(88648),o=n(828782),r=n(441447),l=n(725887);let a=()=>{let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{if(!(0,o.DT)())return;let e=r.listen(r.EVENT.changeMinWindows,e=>{["open","close"].includes(e.event)&&(l.Le.setConfig(l.gI.IsMiniWin,e.isMiniWin),t(e.isMiniWin))});return()=>e()},[]),{isClientMiniWin:e}}},855631:function(e,t,n){n.d(t,{TF:function(){return f},X1:function(){return s},dN:function(){return c},mE:function(){return d}}),n(250440),n(429532),n(268917);var i=n(987475),o=n(282385),r=n(565024),l=n(492012),a=n(618770),u=n(435896);let s=e=>{let{data:t,searchParams:n,abTestData:o,isNotLoadMore:l,generalSearchListType:u,isFirstSearchInPageSession:s}=e;if(!t||t.listTypeDecision)return;let d=0,c="single",{multiColumnsInfo:f}=t;"general"===n.tab?l||"fetching"===u?d="multi"===(c=(0,a.t)({backendSignal:null==f?void 0:f.isMultiColumns,groupTag:null==f?void 0:f.groupTag,localSignal:r.Q.getItem({sKey:i.CookieKeys.SearchResultListType}),abTestData:o,isFirstSearchInPageSession:s}))?1:0:(c=u,d="multi"===u?1:0):["video","user"].includes(n.tab)&&(d=1),Object.assign(t,{logIsMultiList:d,listTypeDecision:c})},d=e=>{let{data:t,searchParams:n,osInfo:i}=e;if(!t)return;let{dataList:o=[]}=t;(null==i?void 0:i.isMas)&&"general"===n.tab&&(o=(o=o.map(e=>(l.Iv.Combine===e.type&&(e.subCardList=e.subCardList.filter(e=>!l.TX.includes(e.alaSrc))),e))).filter(e=>!l.yj.includes(e.type)&&(l.Iv.Combine!==e.type||e.subCardList.length>0))),Object.assign(t,{dataList:o})},c=e=>{let{data:t,searchParams:n}=e;if(!t||"general"!==n.tab&&"video"!==n.tab)return;let{dataList:i=[]}=t;t.uniqAwemeIdList=t.uniqAwemeIdList||[],i=i.filter(e=>(e.type!==l.Iv.Aweme||!e.awemeInfo)&&(e.type!==l.Iv.Mix||!e.awemeInfo)||!t.uniqAwemeIdList.includes(e.awemeInfo.awemeId)&&(t.uniqAwemeIdList.push(e.awemeInfo.awemeId),!0)),Object.assign(t,{dataList:i,uniqAwemeIdList:t.uniqAwemeIdList})},f=e=>{let{data:t,searchParams:n,generalSearchResultListRef:i,abTestData:r,isLowDevice:a}=e;if(!t||"general"!==n.tab)return;let{isStreamSearch:s,listTypeDecision:d}=t,{dataList:c=[]}=t,f=c.filter(e=>{if(l.wB.includes(e.alaSrc))return!a||(null==r?!!void 0:!!r.aiTop1CardLowDevice)||!1;return!l.tA.includes(e.uniqueName)}),v=c;if(s)c=f;else{var m;v=(0,u.F)(c,null==i?void 0:null===(m=i.current)||void 0===m?void 0:m[o.qs],r,a),d===o.qs&&(c=v),d===o.WD&&(c=f)}Object.assign(t,{dataList:c,singleCardList:f,multiCardList:v})}},560073:function(e,t,n){n.d(t,{o:function(){return i}}),n(527785),n(112587),n(17322),n(560401),n(779566),n(69896),n(416555),n(404948);let i={equal:function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},concat:function(e){let t=new Uint8Array(e.reduce((e,t)=>e+t.byteLength,0)),n=0;return e.forEach(e=>{t.set(e,n),n+=e.byteLength}),t}}},901046:function(e,t,n){n.d(t,{a:function(){return _}});var i=n(520739),o=n(878389),r=n(368200);n(874386),n(268917),n(413806),n(826893),n(250440),n(954372),n(338172);var l=n(563097),a=n(88648),u=n(567754),s=n(713097),d=n.n(s),c=n(327984),f=n(765595),v=n(684767),m=n(465769),g=n(561440);function _(e){var{href:t="",children:n,style:s,className:_,passParamKeys:h=[],spa:p,isNeedSeoOpt:w=!0,tabSSRHrefEnhance:y=!1,refEl:b}=e,C=(0,r._)(e,["href","children","style","className","passParamKeys","spa","isNeedSeoOpt","tabSSRHrefEnhance","refEl"]);let[S,I]=(0,a.useState)(""),k=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=(0,f.U)({passParamKeys:h});I((0,u.stringify)(e))},[]);let x=(0,a.useMemo)(()=>{let e,n;if(!t)return;let i=t.indexOf("#");-1!==i?(e=t.slice(0,i),n=t.slice(i+1)):(e=t,n="");let o=e.indexOf("?"),[r,l]=["",""];-1!==o?(r=e.slice(0,o),l=e.slice(o+1)):(r=e,l="");let a=[];return(S&&a.push(S),l&&a.push(l),a.length>0)?[r,a.join("&")].join("?")+(n&&`#${n}`):r+(n&&`#${n}`)},[S,t]),L=x,T="",D="";if(w&&!p&&L){[L,D]=L.split("#"),[L,T]=L.split("?");let e="";if(y&&(null==T?void 0:T.includes("recommend=1"))&&(e="recommend=1"),(null==T?void 0:T.includes("from_nav=1"))&&(e=`${e?`${e}&`:""}from_nav=1`),T&&/\/video\/\d+/i.test(t)){let t=T.split("&").find(e=>e.startsWith("source="));t&&(e=`${e?`${e}&`:""}${t}`)}e&&(L=`${L}?${e}`)}return p?(0,l.jsx)(c.Link,(0,o._)((0,i._)({to:x,className:d()(g.default.aLink,_),style:s},C),{suppressHydrationWarning:!0,children:n})):(0,l.jsx)("a",(0,o._)((0,i._)({suppressHydrationWarning:!0,href:L,className:d()(g.default.aLink,_),style:s,ref:e=>{k.current=e,b&&(b.current=e)}},C),{target:(0,v.f)()?"_self":C.target,onClick:e=>{try{var t;if("creator_center"===(0,m.vM)()){e.preventDefault();return}k.current.href=x,null==C||null===(t=C.onClick)||void 0===t||t.call(C,e),(0,v.f)()&&!(null==C?void 0:C.onClick)&&(e.preventDefault(),window.open(L,"_self"))}catch(e){}},children:n}))}},429403:function(e,t,n){var i=n(520739),o=n(878389);n(250440);var r=n(563097);n(88648);var l=n(944189),a=n(945388),u=n(167951),s=n(646037),d=n(401156),c=n(949650),f=n(742740),v=n(465769),m=n(449536),g=n(737271),_=n(265656),h=n(346946),p=n(950712),w=n(497374),y=n(13556),b=n(818538),C=n(798644),S=n(705120);let I=!1,k=async e=>{var t;let{config:n={},enterMethod:r,teaEvtParams:l={}}=e||{};return(0,i._)({defaultAreaCode:(0,w.lJ)()?"+1":"+86",loginPanelType:"flat",aid:6383,device_id:(null===(t=(0,u.Es)())||void 0===t?void 0:t.user_unique_id)||"unknown",next:(null==n?void 0:n.next)||"https://www.douyin.com",accountApiConfig:(0,o._)((0,i._)({},s.eP),{hcSwitch:!0,language:(0,w.GH)()?"en":"zh"}),title:(0,w.GH)()?"Log in to Douyin":(null==n?void 0:n.headerText)?n.headerText:["cold_start_full","cold_start","auto","navigation_bar","seo_guide_coldstart"].includes(r)?"登录后免费畅享高清视频":window.DOMAIN&&window.DOMAIN===a.LIVE_XIGUA_DOMAIN?"直播服务由抖音提供 需登录":"登录后抖音更懂你",loginType:["LOGIN_MOBILE_CODE","LOGIN_ACCOUNT_PWD"],loginOnly:{LOGIN_MOBILE_CODE:(0,d.XG)()},isFrontier:!0,frontierUrl:c.uZ?"":"wss://frontier100-normal.zijieapi.com",isKX:!1,success:e=>{if(null==n?void 0:n.success){var t;null==n||null===(t=n.success)||void 0===t||t.call(n,e)}else window.location.reload()},sendLog:(e,t)=>{var n,a,u,s,d;S.Z._sendLog(e,(0,i._)((0,o._)((0,i._)({},t),{page_type:(0,f.yW)()||"",enter_method:r,enter_from:(0,v.vM)()||"",url_path:null===(a=window)||void 0===a?void 0:null===(n=a.location)||void 0===n?void 0:n.pathname,is_guide:"0",video_detail_enter_from:(0,m.z)("web_link"),previous_page:(0,f.yW)("previous_page"),is_video_guide:"0",is_full_screen:(0,g.r)()?"1":"0",is_full_webscreen:C.s.getIsPageFullscreen()?"1":"0",scan_login_tips_type:"dyna_sidebar",url_source:null!==(d=null===(u=(0,_.pf)(null===(s=location)||void 0===s?void 0:s.href))||void 0===u?void 0:u.urlSource)&&void 0!==d?d:"",is_mainland:!(0,w.lJ)()}),l))},confirm:(0,w.GH)()?[{text:"user agreement",url:"https://www.douyin.com/agreements/?id=6773906068725565448"},{text:"privacy policy",url:"https://www.douyin.com/agreements/?id=6773901168964798477"}]:[{text:"用户协议",url:"https://www.douyin.com/agreements/?id=6773906068725565448"},{text:"隐私政策",url:"https://www.douyin.com/agreements/?id=6773901168964798477"}],isShowApple:!1,isShowGoogle:!1,districtList:(0,w.GH)()?y.D:void 0,textConfig:(0,w.GH)()?y.Z:{}},n)},x=async e=>{let{config:t,isPage:n=!1,ele:i,enterMethod:o,teaEvtParams:a}=e||{};if((0,w.iV)()||I)return;I=!0;let u=await k(e),d=document.createElement("div"),c=`login-full-panel-${(0,h.D)()}`;d.id=c;let f=document.body;if(i)f=i,i.appendChild(d);else{let e=document.getElementsByClassName("xgplayer-fullscreen-parent")[0]||(0,p.W)();(0,g.r)()&&e?(f=e,e.appendChild(d)):document.body.appendChild(d)}let v=l.createRoot(d),m=()=>{I=!1,(0,w.V7)().closeDialog(c)};(0,s.IX)(),(0,w.V7)().showDialog({id:c,onShow:()=>{v.render((0,r.jsx)(b.Z,{config:u,isPage:n,destroy:m,enterMethod:o,style:e.style}))},onClose:()=>{v.unmount(),f.contains(d)&&f.removeChild(d),d.remove()},rule:"immediately"})},L=async(e,t)=>{let n={config:(0,o._)((0,i._)({},e),{isH5:!0}),isPage:null==e?void 0:e.isPage,enterMethod:null==e?void 0:e.enterMethod,teaEvtParams:(0,o._)((0,i._)({},e.teaEvtParams),{is_auto:null==e?void 0:e.isAuto,gear_name:null==e?void 0:e.gearName,clarity:null==e?void 0:e.clarity,is_active:null==e?void 0:e.isActive}),ele:null==e?void 0:e.parentEle};return x((0,o._)((0,i._)({},n),{enterMethod:null==e?void 0:e.enterMethod,config:(0,i._)({},n.config||{},{}),ele:t,style:e.style})),!0};t.Z=L},803775:function(e,t,n){n(874386),n(413806),n(826893);var i=n(563097),o=n(88648),r=n(475255);let l=(0,r.kv)(),a=/(\[\S+?\])/g;t.Z=o.memo(e=>{let{text:t,imgClassname:n,renderTextWithTag:u}=e,[s,d]=(0,o.useState)(l);if((0,o.useEffect)(()=>{(async()=>{let{statusCode:e,data:t}=await (0,r.zk)();0===e&&(l=t,d(t))})()},[]),!t)return null;let c=t.split(a).map((e,t)=>{var o;if(!e)return null;if(!s[e])return(0,i.jsx)("span",{children:u?u(e):e},`emoji-text-${t}`);return(0,i.jsx)("img",{className:n,src:null===(o=s[e])||void 0===o?void 0:o.img,alt:e,style:{margin:"0 4px",verticalAlign:"text-bottom"}},`emoji-text-${t}`)});return(0,i.jsx)("span",{children:c})})},438094:function(e,t,n){var i=n(563097);n(88648);var o=n(713097),r=n.n(o),l=n(657241),a=n(208997);t.Z=e=>{let{keyboardNavIndex:t,guessList:n,guessListRef:o,onGuessListWordClick:u,onReady:s,customProps:d}=e;return 0===n.length?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:l.default.titleView,children:(0,i.jsx)("span",{className:r()(l.default.titleViewText),children:"猜你想问"})}),(0,i.jsx)("div",{ref:o,className:l.default.guessList,"data-e2e":"search-guess-container",children:n.map((e,n)=>(0,i.jsx)("div",{className:l.default.guessListItemWrapper,children:(0,i.jsxs)("div",{className:r()(l.default.guessListItem,l.default.guessListItemBg,{[l.default.keyboardSelected]:n===t}),"data-text":e.word,"data-index":n,onClick:u,children:[(0,i.jsx)(a.Z,{}),(0,i.jsx)("span",{className:r()(l.default.guessListItemText),children:e.word})]})},e.word))})]})}},144958:function(e,t,n){n.d(t,{z:function(){return a}});var i=n(520739);n(874386);var o=n(88648),r=n(898283),l=n(696497);let a=e=>{let{ref:t,isPanelShow:n,suggestionState:a}=e,[u,s]=(0,o.useState)([]),d=r.oD,[c,f]=(0,o.useState)({gid:"",list:[],logId:""}),v=(0,o.useCallback)(async(e,n)=>{var o;let r={count:d,query:null===(o=t.current.guessText)||void 0===o?void 0:o.word},a=[],u={};t.current.feedBarIds&&(a=a.concat(t.current.feedBarIds)),e&&(u.is_manual_change=e,a=a.concat(t.current.guessListDedup)),a.length>0&&(u.pre_query_ids=Array.from(new Set(a)).join(",")),r.penetrate_params=u,n&&(r.is_prefetch=2),t.current.lastVideoGroupId=t.current.curVideoGroupId;let s=await (0,l.hV)((0,i._)({from_group_id:t.current.curVideoGroupId},r));return t.current.guessListLogId=s.logId,t.current.guessListDedup=t.current.guessListDedup.concat(s.data.inboxWords.words.map(e=>e.id)),s.data.inboxWords.words},[d]),m=(0,o.useCallback)(async e=>{let n=await v(e,!0);Array.isArray(n)&&n.length>0&&f({list:n.slice(0,d),gid:t.current.lastVideoGroupId,logId:t.current.guessListLogId})},[v]),g=(0,o.useCallback)(async e=>{let n=await v(e);Array.isArray(n)&&n.length>0&&(s(n.slice(0,d)),t.current.guessList=n.slice(0,d))},[v]);return{guessList:u,predictGuessList:c,getGuessList:v,predictFetchGuessList:m,updateGuessList:g}}},366068:function(e,t,n){n.r(t),n.d(t,{AiSearchBar:function(){return x},AiSearchBarInner:function(){return k},AiSearchBarWithAiInput:function(){return I.E1},AiSearchBarWithAiMiddlePage:function(){return S.E1}});var i=n(520739),o=n(563097),r=n(88648),l=n(713097),a=n.n(l),u=n(759358),s=n(406852),d=n(931974),c=n(828782),f=n(441447),v=n(742740),m=n(809705),g=n(744072),_=n(378211),h=n(691389),p=n(996813),w=n(52929),y=n(168828),b=n(155735),C=n(289228),S=n(92351),I=n(364979);let k=e=>{var t;let{abTestData:n={},userInfo:i,onSearchClick:l,onInputKeyDown:d,customProps:C={},playerProps:S={},disableInnerPredict:I,onShowTextChange:k,onMouseEnter:x,onMouseLeave:L,onPanelAreaClick:T,onHistoryClick:D,fullScreenTarget:N}=e,P=null==n?void 0:n.searchOpenCurrentTab,{aiAndVisionParams:E,toggleForceUseAi:A}=(0,u.N)(),{searchParams:R}=(0,s.w)(),M=(0,m.j)(),{uri:O,history:F,sug:U,inputRef:j,showText:B,placeHolder:W,guessListRef:H,isGuessTextShow:V,guessText:G,guessList:K,searchBarRef:Z,suggestionState:q,isMiddlePageReady:z,keyboardNavIndex:Y,inputFocus:J,isSearchButtonActive:X,inputWidth:Q,inputToBottom:$,uploadRef:ee,isPanelShow:et,isImageUploading:en,previewImageList:ei,onPreviewImageChange:eo,onFocus:er,setFileDialogOpen:el,onBlur:ea,onInputChange:eu,onMouseDown:es,onSearchClick:ed,onInputKeyDown:ec,clearHistory:ef,onHistoryClick:ev,onSugClick:em,getSearchBarEnterFrom:eg,onDeleteHistoryItem:e_,preventDefault:eh,onCompositionStart:ep,onCompositionEnd:ew,onGuessListWordClick:ey,onMouseEnter:eb,onMouseLeave:eC,setMiddlePageReady:eS,customRequest:eI,onPreviewImageDelete:ek,showImageBoxDetect:ex,handleShowImageBoxDetect:eL,boxDetection:eT,handleBoxDetectionChange:eD}=(0,m.M)({userInfo:i,searchOpenCb:()=>{var e;((null==P?void 0:P.save_status)!==1||(0,c.DT)()||(null===(e=window)||void 0===e?void 0:e.location.pathname)!=="/")&&(f.emit(f.EVENT.videoPause,"AiSearchBar_searchOpenCb"),f.emit(f.EVENT.musicPause))},abTestData:n,customProps:C,playerProps:S});(0,r.useEffect)(()=>{null==k||k(B)},[B]);let eN=(0,r.useCallback)(e=>{let{value:t}=j.current;l&&l(t)&&ed(e)},[ed]),eP=(0,r.useCallback)(e=>{e.stopPropagation();let{value:t}=j.current;d&&d(e,t)&&ec(e)},[ec]);(0,r.useEffect)(()=>{let e=f.listen(f.EVENT.closeSearchSelect,()=>{j.current.blur()});return()=>{e()}},[]);let eE=null==C?void 0:C.forceLightStyle,eA=eE?"semi-always-light isLight":"",eR=(0,r.useCallback)(()=>{eb(),null==x||x()},[n]),eM=(0,r.useCallback)(()=>{eC(),null==L||L()},[n]),eO=(0,r.useRef)(!1),eF=(0,r.useCallback)(()=>{if(!I&&!eO.current)eO.current=!0,f.emit(f.EVENT.searchBarMouseEnter,{type:"searchBarMouseEnter"})},[n,I]),eU=(0,r.useCallback)(()=>{eO.current=!1},[n,I]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{ref:Z,className:a()(g.default.aiSearchBarContainer,{[g.default.searchBarContainerHeightLight]:et,[g.default.searchBarContainerFullPage]:C.isFullScreenShow,[g.default.searchBarContainerHeightLightFullPage]:C.isFullScreenShow&&et,[g.default.searchBarContainerModal]:C.isModalVideo,[g.default.searchBarContainerHeightLightModal]:C.isModalVideo&&et,"semi-always-dark":eE||(null==C?void 0:C.activityName)==="vsTransMode",isDark:eE||(null==C?void 0:C.activityName)==="vsTransMode",[g.default.searchBarContainerHeightLightGrayscale]:M&&et}),onMouseEnter:eR,onMouseLeave:eM,children:[(0,o.jsx)(w.Z,{className:g.default.previewImageContainer,uploadRef:ee,isPanelShow:et,guessText:G,previewImageList:ei,customProps:C,customRequest:eI,setFileDialogOpen:el,onPreviewImageChange:eo,onPreviewImageDelete:ek,handleShowImageBoxDetect:eL,boxDetection:eT,showImageBoxDetect:ex,logParams:{enter_from:eg(),page_name:(0,v.yW)(),search_position:C.isModalVideo||C.isFullScreenShow||C.isInnerUpper||C.isSmoothInnerFeed?"internal_flow_search_topbar":"search_topbar"},abTestData:n}),(0,o.jsxs)("div",{onMouseEnter:eF,onMouseLeave:eU,className:a()(g.default.aiSearchBar,g.default.aiBorderInput,{[g.default.borderInputSpec]:null==C?void 0:C.themeSwitch,[g.default.transparent]:(null==C?void 0:C.transparent)||(null==C?void 0:C.isActivity),[g.default.transparentBg]:(null==C?void 0:C.transparentBg)||C.isHeaderSearchBar,[g.default.searchLightActivity]:null==C?void 0:C.searchLightActivity,[g.default.searchBarWeakInputFocus]:J}),children:[(0,o.jsx)("div",{className:g.default.aiSearchBarInputForm,children:(0,o.jsx)(y.I,{uri:O,showText:B,isImageUploading:en,isGuessTextShow:V,isPanelShow:et,guessText:G,inputRef:j,inputFocus:J,placeHolder:W,customProps:C,onFocus:er,onBlur:ea,onInputChange:eu,onInputKeyDownCombine:eP,onCompositionStart:ep,onCompositionEnd:ew})}),"middle_page"===q&&(0,o.jsx)(h.Z,{isMiddlePageReady:z,className:g.default.middlePage,customProps:C,guessList:K,guessListRef:H,history:F,inputToBottom:$,keyboardNavIndex:Y,setMiddlePageReady:eS,onDeleteHistoryItem:e_,onHistoryClick:e=>{null==ev||ev(e),null==D||D(e),null==T||T("history")},clearHistory:ef,onGuessListWordClick:e=>{null==ey||ey(e),null==T||T("guessList")},abTestData:n}),"sug"===q&&(0,o.jsx)(_.Z,{sug:U,grayscale:M,className:eA,keyboardNavIndex:Y,abTestData:n,inputToBottom:$,preventDefault:eh,onSugClick:e=>{null==em||em(e),null==T||T("sug")},customProps:C})]}),(0,o.jsx)(p.Z,{customProps:C,fullScreenTarget:N,grayscale:M,className:g.default.searchBarExtraButtons,uploadRef:ee,searchButtonActive:X,inputWidth:Q,getSearchBarEnterFrom:eg,onSearchClick:eN,onSearchMouseDown:es,abTestData:n,isPanelShow:et})]}),!!(null==n?void 0:n.aiSearchBoxDetection)&&!!(null==ei?void 0:ei.length)&&ex&&O&&(0,o.jsx)(b.t,{onBoxDetectionChange:e=>{eD(e),eL(!1)},onClose:()=>{null==ek||ek(),null==eo||eo([]),eL(!1)},imageUrl:null==ei?void 0:null===(t=ei[0])||void 0===t?void 0:t.url,imageUri:O,logParams:{picture_info:O,enter_from:eg(),page_name:(0,v.yW)(),search_position:C.isModalVideo||C.isFullScreenShow||C.isInnerUpper||C.isSmoothInnerFeed?"internal_flow_search_topbar":"search_topbar"}})]})},x=e=>(0,o.jsx)(C.k,{componentName:d.y.SearchBar,children:(0,o.jsx)(k,(0,i._)({},e))});t.default=x},230477:function(e,t,n){n.d(t,{Aq:function(){return S}});var i=n(520739),o=n(878389),r=n(368200);n(338172),n(250440);var l=n(563097),a=n(88648),u=n(454793),s=n(909543),d=n(713097),c=n.n(d),f=n(885762),v=n(983253),m=n(828782),g=n(328155),_=n(725887),h=n(465769),p=n(524786),w=n(762086),y=n(977275),b=n(525518);let C=()=>{let e=(0,s.a)();return(null==e?void 0:e.pathname.startsWith("/follow"))?"返回关注":(null==e?void 0:e.pathname.startsWith("/friend"))?"返回朋友":(null==e?void 0:e.pathname.startsWith("/topic"))?"返回话题":"web_homepage_discover"===(0,v.Rs)("enter_from_merge")?"返回精选":"返回推荐"};t.ZP=e=>{var{text:t,onClick:n,neverHide:s,dark:d,abTestData:v}=e,_=(0,r._)(e,["text","onClick","neverHide","dark","abTestData"]);let h=C(),y=a.useMemo(()=>(0,m.DT)(),[]),S=(0,b.Q)(v),I=(0,f.$s)(e=>{let{fullscreen:t}=e;return{fullscreen:t}}),k=null==I?void 0:I.fullscreen;return(0,l.jsxs)("div",(0,o._)((0,i._)({className:c()(p.default.wrapper,{[p.default.noDrag]:!0,[p.default.childRouteFullScreen]:k||s,[p.default.noText]:""===t,[p.default.dark]:d}),onClick:()=>{y?S():document.referrer.includes("live.douyin.com")&&!(0,g.Nr)(location.pathname)?window.open("https://live.douyin.com/","_self"):window.history.length>1&&document.referrer&&document.referrer.includes("douyin.com")||(0,g.Nr)(location.pathname)?u.history.back():window.open("https://www.douyin.com/?recommend=1","_self"),null==n||n()}},_),{children:[(0,l.jsx)("span",{children:(0,l.jsx)(w.Z,{})}),""!==t&&(0,l.jsx)("span",{className:p.default.text,children:t||h})]}))};let S=e=>{let{withText:t}=e,n=(0,s.u)(),i=_.Le.getConfig(_.gI.searchSpaMainPath);return i?(0,l.jsxs)("div",{className:c()(p.default.searchSpaWebBack,{[p.default.searchSpaWebBack1]:t}),onClick:()=>{i&&(n(i),y.Z.sendLog("clickMainPage",{enter_from:(0,h.vM)()}))},children:[(0,l.jsx)(w.Z,{}),t&&(0,l.jsx)("div",{className:p.default.text,children:"返回"})]}):null}},289228:function(e,t,n){n.d(t,{h:function(){return f},k:function(){return c}});var i=n(520739);n(927234);var o=n(563097),r=n(88648),l=n(222406),a=n(623527),u=n(465769),s=n(742740),d=n(418897);let c=e=>{let{fallback:t,beforeCapture:n,onError:i,componentName:c,children:f,Slardar:v}=e,m=(0,r.useCallback)((e,t)=>{var n,o;a.oe.event.error({name:a.Mo.ComponentErrorBoundary,report:{message:e.message,stack:null!==(n=e.stack)&&void 0!==n?n:"",componentStack:t.toString(),componentName:c}}),null==i||i(e,t),d.Z.sendLog("componentErrorBoundary",{enter_from:(0,u.vM)(),enter_from_merge:(0,s.yW)(),message:e.message,stack:null!==(o=e.stack)&&void 0!==o?o:"",component_stack:t.toString(),component_name:c})},[]);return(0,o.jsx)(l.SV,{fallback:t,onError:m,beforeCapture:n,Slardar:v||a.oe.getSlardarInstance(),children:f})};function f(e,t){return n=>(0,o.jsx)(c,{componentName:t,Slardar:a.oe,children:(0,o.jsx)(e,(0,i._)({},n))})}},368279:function(e,t,n){n.d(t,{v:function(){return u}}),n(874386);var i=n(563097),o=n(88648),r=n(713097),l=n.n(r),a=n(769205);let u=e=>{var t,n,r,u,s,d,c,f,v,m,g,_,h,p,w,y,b,C,S,I,k,x,L,T,D,N,P,E,A,R;let{isActive:M,tabItem:O,fallbackText:F}=e,[U,j]=(0,o.useState)(!1),[B,W]=(0,o.useState)(M);return(0,i.jsxs)("div",{className:l()(a.default.imageEntry,{[a.default.first]:!B,[a.default.hover]:U&&!M,[a.default.normal]:!U&&B&&!M,[a.default.activeHover]:U&&M,[a.default.active]:!U&&B&&M}),onMouseEnter:()=>{j(!0),W(!0)},onMouseLeave:()=>{j(!1)},children:[(0,i.jsx)("img",{className:a.default.darkNormalFirstShowImg,src:null===(t=O.DarkNormal)||void 0===t?void 0:t.FirstShowImageUrl,alt:F}),(0,i.jsx)("img",{className:a.default.darkNormalImg,src:null===(n=O.DarkNormal)||void 0===n?void 0:n.NormalImageUrl,alt:F}),(0,i.jsx)("img",{className:a.default.darkNormalActiveImg,src:null===(r=O.DarkNormal)||void 0===r?void 0:r.ActiveImageUrl,alt:F}),(0,i.jsx)("img",{className:a.default.darkNormalHoverActiveImg,src:null===(u=O.DarkNormal)||void 0===u?void 0:u.HoverActiveImageUrl,alt:F}),(0,i.jsx)("img",{className:a.default.darkNormalHoverImg,src:null===(s=O.DarkNormal)||void 0===s?void 0:s.HoverImageUrl,alt:F}),(0,i.jsx)("img",{className:a.default.lightNormalFirstShowImg,src:(null===(d=O.LightNormal)||void 0===d?void 0:d.FirstShowImageUrl)||(null===(c=O.DarkNormal)||void 0===c?void 0:c.FirstShowImageUrl),alt:F}),(0,i.jsx)("img",{className:a.default.lightNormalImg,src:(null===(f=O.LightNormal)||void 0===f?void 0:f.NormalImageUrl)||(null===(v=O.DarkNormal)||void 0===v?void 0:v.NormalImageUrl),alt:F}),(0,i.jsx)("img",{className:a.default.lightNormalActiveImg,src:(null===(m=O.LightNormal)||void 0===m?void 0:m.ActiveImageUrl)||(null===(g=O.DarkNormal)||void 0===g?void 0:g.ActiveImageUrl),alt:F}),(0,i.jsx)("img",{className:a.default.lightNormalHoverActiveImg,src:(null===(_=O.LightNormal)||void 0===_?void 0:_.HoverActiveImageUrl)||(null===(h=O.DarkNormal)||void 0===h?void 0:h.HoverActiveImageUrl),alt:F}),(0,i.jsx)("img",{className:a.default.lightNormalHoverImg,src:(null===(p=O.LightNormal)||void 0===p?void 0:p.HoverImageUrl)||(null===(w=O.DarkNormal)||void 0===w?void 0:w.HoverImageUrl),alt:F}),(0,i.jsx)("img",{className:l()(a.default.darkMiniFirstShowImg,a.default.mini),src:null===(y=O.DarkMini)||void 0===y?void 0:y.FirstShowImageUrl,alt:F}),(0,i.jsx)("img",{className:l()(a.default.darkMiniImg,a.default.mini),src:null===(b=O.DarkMini)||void 0===b?void 0:b.NormalImageUrl,alt:F}),(0,i.jsx)("img",{className:l()(a.default.darkMiniActiveImg,a.default.mini),src:null===(C=O.DarkMini)||void 0===C?void 0:C.ActiveImageUrl,alt:F}),(0,i.jsx)("img",{className:l()(a.default.darkMiniHoverActiveImg,a.default.mini),src:null===(S=O.DarkMini)||void 0===S?void 0:S.HoverActiveImageUrl,alt:F}),(0,i.jsx)("img",{className:l()(a.default.darkMiniHoverImg,a.default.mini),src:null===(I=O.DarkMini)||void 0===I?void 0:I.HoverImageUrl,alt:F}),(0,i.jsx)("img",{className:l()(a.default.lightMiniFirstShowImg,a.default.mini),src:(null===(k=O.LightMini)||void 0===k?void 0:k.FirstShowImageUrl)||(null===(x=O.DarkMini)||void 0===x?void 0:x.FirstShowImageUrl),alt:F}),(0,i.jsx)("img",{className:l()(a.default.lightMiniImg,a.default.mini),src:(null===(L=O.LightMini)||void 0===L?void 0:L.NormalImageUrl)||(null===(T=O.DarkMini)||void 0===T?void 0:T.NormalImageUrl),alt:F}),(0,i.jsx)("img",{className:l()(a.default.lightMiniActiveImg,a.default.mini),src:(null===(D=O.LightMini)||void 0===D?void 0:D.ActiveImageUrl)||(null===(N=O.DarkMini)||void 0===N?void 0:N.ActiveImageUrl),alt:F}),(0,i.jsx)("img",{className:l()(a.default.lightMiniHoverActiveImg,a.default.mini),src:(null===(P=O.LightMini)||void 0===P?void 0:P.HoverActiveImageUrl)||(null===(E=O.DarkMini)||void 0===E?void 0:E.HoverActiveImageUrl),alt:F}),(0,i.jsx)("img",{className:l()(a.default.lightMiniHoverImg,a.default.mini),src:(null===(A=O.LightMini)||void 0===A?void 0:A.HoverImageUrl)||(null===(R=O.DarkMini)||void 0===R?void 0:R.HoverImageUrl),alt:F})]})}},553870:function(e,t,n){n.r(t);var i=n(520739);n(675373);var o=n(563097),r=n(88648),l=n(282088);let a=()=>Promise.all([n.e("92432"),n.e("77616"),n.e("14856"),n.e("85022")]).then(n.bind(n,438736)),u=(0,r.forwardRef)(function(e,t){return(0,o.jsx)(l.o,(0,i._)({innerRef:t,id:"island_076c3",load:a},e))});t.default=u},409529:function(e,t,n){var i=n(520739),o=n(878389);n(874386);var r=n(563097),l=n(88648),a=n(4221),u=n(115627),s=n(574813);t.Z=function(e){let{onClick:t,position:n}=e,[d,c]=(0,l.useState)(!0);return(0,r.jsxs)("div",{className:a.default.fingerPointContainer,onClick:t,onClickCapture:t,style:(0,o._)((0,i._)({},n),{display:d?"block":"none"}),children:[(0,r.jsx)("div",{className:a.default.dot}),(0,r.jsx)("div",{className:a.default.finger,onAnimationEnd:()=>{c(!1)},children:(0,r.jsx)(u.Z,{src:s.Z,width:24,height:24,viewBox:"0 0 24 24"})})]})}},58520:function(e,t,n){n.d(t,{i:function(){return k}});var i=n(520739),o=n(878389);n(268917),n(874386),n(250440),n(242079),n(851912),n(826893),n(927234);var r=n(563097),l=n(88648),a=n(128231),u=n.n(a),s=n(597087),d=n(369881),c=n(742740),f=n(224796),v=n(674363),m=n(894621),g=n(129420),_=n(321042),h=n(689221),p=n(291175),w=n(582296),y=n(713111),b=n(821553),C=n(116483);let S=(e,t)=>{let n=[];for(let i=0;i<t.length;i++)!e.find(e=>{var n;return(null==e?void 0:e.uid)===(null===(n=t[i])||void 0===n?void 0:n.uid)})&&n.push(t[i]);return n};function I(e){return(0,r.jsx)("div",{className:e.className,"data-e2e":"user-fans-footer",children:e.children})}function k(e){let{activeTab:t,dispatch:n,refContainer:a,currentUserInfo:k,isSelf:x,userList:L,setUserList:T,currentUserUid:D,refNoMoreText:N,sortType:P,refIsLoadingShow:E,abtestData:A,tabFollowerCount:R,searchVal:M,searchList:O,setSearchList:F,selfInfo:U}=e,j=t===b.OK.follower&&!x&&R>1e4,B=(0,l.useRef)(!1),W=(0,l.useRef)(0),H=(0,l.useRef)(0),V=(0,l.useRef)(0),G=(0,l.useRef)(x&&t===b.OK.following),K=(0,l.useRef)(null),Z=(0,l.useRef)(!0),q=(0,l.useRef)(!1),z=(0,l.useRef)(""),[Y,J]=(0,l.useState)(!1),X=t===b.OK.follower?g._C:g.$9,Q=(0,l.useRef)(0),$=(0,l.useRef)(0),ee=(0,l.useRef)(""),et=()=>j?3:G.current?P:2,en=(0,l.useRef)(et()),ei=(0,l.useCallback)(async()=>{if(!Z.current||!0===B.current)return;B.current=!0,z.current="",N.current="";let{uid:e,secUid:i}=k;try{let o=await X({sec_user_id:i,user_id:e,offset:W.current,max_time:H.current,min_time:V.current,source_type:en.current});!1===o.recHasMore&&!G.current&&(en.current=1),W.current=o.offset||0,t===b.OK.following?(1===en.current&&(H.current=o.minTime||0),3===en.current&&(V.current=o.maxTime||0)):H.current=o.minTime||0,j&&(H.current=o.maxTime||0,en.current=3),Z.current=o.hasMore||!1,o.hotsoonText?(N.current=o.hotsoonText,q.current=!0):!o.hasMore&&(N.current="暂时没有更多了"),B.current=!1,!o.hasMore&&(E.current=!1),0===o.statusCode?(ee.current=o.logPb.impr_id,T(e=>[...e,...S(e,o.followList)])):(o.statusMsg&&(z.current=o.statusMsg),Number(o.statusCode)===s.ERROR_CODE.ERROR_USER_UNLOGIN&&(0,w.default)({headerText:`登录后查看${t===b.OK.follower?"粉丝":"关注"}列表`,enterMethod:t===b.OK.follower?"fans_list":"following",success:()=>{n({type:"updateUserInfo"})}}),T([]))}catch(e){throw e}},[X,j]),eo=(0,l.useCallback)(u()(async e=>{try{Q.current=Date.now();let n=await (0,m.nf)({count:100,business_id:90062,query:e});if($.current=Date.now(),J(!1),null==n?void 0:n.userList){let r=null==n?void 0:n.userList.filter(e=>t===b.OK.following?[d.$u.Followed,d.$u.FollowEach].includes(e.followStatus):e.followerStatus===d.z5.Followed).map(t=>{let n=(null==t?void 0:t.remarkName)||(null==t?void 0:t.nickname),r=RegExp(e,"i"),l=r.exec(n),a=r.exec(null==t?void 0:t.uniqueId),u=l&&(null==l?void 0:l.index)===0?[l[0],n.slice(l.index+(null==e?void 0:e.length))]:null,s=a&&(null==a?void 0:a.index)===0?[a[0],null==t?void 0:t.uniqueId.slice(a.index+(null==e?void 0:e.length))]:null;return(0,o._)((0,i._)({},t),{selectedName:u,selectedUniqueId:s})});F(r),C.Z.sendLog("searchResultShow",{enter_from:(0,c.yW)(),tab_name:t===b.OK.follower?"fans_lish":"follow_lish",search_keyword:e})}else F([]);C.Z.sendLog("search",{enter_from:(0,c.yW)(),tab_name:t===b.OK.follower?"fans_lish":"follow_lish",search_keyword:e,is_success:(null==n?void 0:n.statusCode)===0?1:0,duration:$.current-Q.current,impr_id:null==n?void 0:n.log_pb})}catch(e){}},300,{trailing:!0}),[t]);(0,l.useEffect)(()=>{M?(J(!0),eo(M)):F([])},[M,eo]),(0,l.useEffect)(()=>{Z.current=!0,G.current=x&&t===b.OK.following,en.current=et(),H.current=0,V.current=0,E.current=!0,W.current=0,(async()=>{await ei(),L.length<=10&&Z.current&&ei()})()},[t,P,x]),(0,l.useEffect)(()=>{let e=a.current,t=K.current,n=u()(()=>{if(e&&t){let{bottom:n}=e.getBoundingClientRect(),{bottom:i}=t.getBoundingClientRect();n>=i-300&&ei()}},250);return e&&t&&e.addEventListener("scroll",n),()=>{e&&t&&e.removeEventListener("scroll",n)}},[ei]);let er=(()=>{if(""===M){if(E.current)return(0,r.jsx)(y.gb,{className:"",text:""});if(!N.current)return null;else{if(L.length>0)return(0,r.jsx)("div",{children:N.current});{let e=q.current?N.current:null;return(0,r.jsx)(p.H,{desc:e||z.current||`${x?"你":"TA"}还没有${t===b.OK.follower?"粉丝":"关注"}`,icon:(0,r.jsx)(f.Z,{})})}}}return(null==O?void 0:O.length)!==0||Y?Y?(0,r.jsx)(y.gb,{className:"",text:""}):null:(0,r.jsx)(p.H,{desc:"没有搜索到相关的内容",title:"搜索结果为空",icon:(0,r.jsx)(v.Z,{})})})();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{ref:K,children:[""===M&&L.map((l,a)=>(0,r.jsx)(h.O,(0,o._)((0,i._)({userInfo:l},e),{dispatch:n,activeTab:t,isSelf:x,currentUserUid:D,setUserList:T,abtestData:A,logId:ee.current,isSearch:!1,index:a,selfInfo:U}),l.secUid)),""!==M&&!Y&&O.map((l,a)=>(0,r.jsx)(h.O,(0,o._)((0,i._)({userInfo:l},e),{dispatch:n,activeTab:t,isSelf:x,currentUserUid:D,setSearchList:F,abtestData:A,logId:ee.current,searchVal:M,isSearch:!0,index:a,selfInfo:U}),l.secUid))]}),(0,r.jsx)(I,{className:_.default.footer,children:er})]})}},951136:function(e,t,n){n.d(t,{E:function(){return m}}),n(874386),n(675373);var i=n(88648),o=n(594235),r=n(888163),l=n(623582),a=n(328155),u=n(742740),s=n(441447),d=n(896712),c=n(562330),f=n(66047);let v=e=>{var t,n,i,o,r,l,a,u,s,d,f;return e&&(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.webRid)?{avatar:null===(o=e.data)||void 0===o?void 0:null===(i=o.avatar)||void 0===i?void 0:null===(n=i.url_list)||void 0===n?void 0:n[0],cover:null===(a=e.data)||void 0===a?void 0:null===(l=a.cover)||void 0===l?void 0:null===(r=l.url_list)||void 0===r?void 0:r[0],title:null===(u=e.data)||void 0===u?void 0:u.title,roomId:null===(s=e.data)||void 0===s?void 0:s.webRid,type:c.i.CarnivalPushLive,anchorId:null===(d=e.data)||void 0===d?void 0:d.userId,text:(null==e?void 0:null===(f=e.data)||void 0===f?void 0:f.subTitle)||"正在播出"}:null},m=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,f._)();let[t,n]=(0,i.useState)(null),c=(0,i.useRef)(!0),m=(0,i.useRef)(),g=(0,i.useRef)(),_=(0,i.useRef)(),h=(0,i.useRef)(),p=async()=>{let t=await o.get({key:r.TccKey.CarnivalConfig,defaultValue:r.TCC_DEFAULT_VALUE_MAP.get(r.TccKey.CarnivalConfig)});(null==t?void 0:t.isOpenCarnival)&&e&&(clearTimeout(m.current),m.current=setTimeout(()=>{y((null==t?void 0:t.loopDuration)||9e5)},(null==t?void 0:t.delayDuration)||3e4))},w=()=>"live.douyin.com"===location.host&&location.pathname&&"/"!==location.pathname,y=async function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9e5;if(!w()&&!(0,a.yk)(location.pathname)){var i;e=await (0,d.wn)(),c.current&&(null==e?void 0:e.statusCode)===0&&(null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.webRid)&&n(e)}if(clearTimeout(g.current),(null==e?void 0:e.pushControlCode)!==1)g.current=setTimeout(()=>{y(t)},t)};(0,i.useEffect)(()=>(c.current=!0,p(),()=>{clearTimeout(g.current),clearTimeout(m.current),c.current=!1}),[e]);let b=(0,i.useCallback)(()=>{var e;if(!t||_.current)return;_.current=!0,h.current=!1;let{roomId:n,userId:i}=(null==t?void 0:t.data)||{};l.logInstance.sendLog("innerPushShow",{enter_from:(0,u.yW)(),room_id:n,anchor_id:i,push_id:"imc",type:"carnival"}),(0,d.IP)({anchorId:null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.userId,pushEvent:"show"})},[t]),C=(0,i.useCallback)(()=>{n(null),_.current=!1;let{roomId:e,userId:i}=(null==t?void 0:t.data)||{};i&&!h.current&&((0,d.IP)({anchorId:i,pushEvent:"close"}),l.logInstance.sendLog("innerPushClose",{enter_from:(0,u.yW)(),room_id:e,anchor_id:i,push_id:"imc",type:"carnival"}))},[t]),S=(0,i.useCallback)(()=>{var e,n;if(!(null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.webRid))return;_.current=!1,h.current=!0;let{roomId:i,userId:o}=(null==t?void 0:t.data)||{},r=(0,u.yW)();l.logInstance.sendLog("innerPushClick",{enter_from:r,room_id:i,anchor_id:o,click_position:"watch",push_id:"imc",type:"carnival"}),(0,d.IP)({anchorId:o,pushEvent:"enter"}),s.emit(s.EVENT.videoPause,"CarnivalPushLive_handleClick"),window.open(`https://live.douyin.com/${null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.webRid}?enter_from_merge=web_push&enter_method=in_push&push_id=imc`)},[t]);return{liveInfo:(0,i.useMemo)(()=>v(t),[t]),onShow:b,onClose:C,onClick:S}}},333760:function(e,t,n){let i;n.d(t,{Ci:function(){return I},I7:function(){return P},U7:function(){return x},Vi:function(){return E},bp:function(){return C},dY:function(){return N}}),n(874386),n(338172);var o=n(88648),r=n(567754),l=n(909543),a=n(987475),u=n(594235),s=n(888163),d=n(832052),c=n(407544),f=n(298432),v=n(399629),m=n(847191),g=n(441447),_=n(465769),h=n(742740),p=n(623582),w=n(231555),y=n(562330),b=n(66047);let C=e=>{var t,n,i;(0,m.bv)(a.LocalStorageKeys.PhoneResumeUidLiveCache),(0,m.bv)(a.LocalStorageKeys.PhoneResumeUidCache);let{uid:o}=e||{};if(!o)return!1;let r=null!==(i=(0,m.$o)(a.LocalStorageKeys.PhoneResumeUidCacheV1))&&void 0!==i?i:{},l=Date.now(),u=(null===(t=r[o])||void 0===t?void 0:t.time)===void 0?0:new Date(r[o].time).getTime(),s=(null===(n=r[o])||void 0===n?void 0:n.noClick)||0;return l-u>=864e5&&s<5},S=(e,t)=>{var n,i,o;let{uid:r}=e||{},l=null!==(o=(0,m.$o)(a.LocalStorageKeys.PhoneResumeUidCacheV1))&&void 0!==o?o:{};if(!r)return;let u=(null===(n=l[r])||void 0===n?void 0:n.noClick)||0,s=t?null===(i=l[r])||void 0===i?void 0:i.time:Date.now();"click"===t?u=0:"noClick"===t&&(u+=1),l[r]={time:null!=s?s:Date.now(),noClick:u},(0,m.qQ)(a.LocalStorageKeys.PhoneResumeUidCacheV1,l)},I=e=>{var t,n,i;let{uid:o}=e||{};if(!o)return!1;let r=cookies.getItem({sKey:a.CookieKeys.PhoneResumeUidCacheV1});!r&&(r={});let l=Date.now(),u=(null===(t=r[o])||void 0===t?void 0:t.time)===void 0?0:new Date(r[o].time).getTime();return((null===(n=r[o])||void 0===n?!void 0:!n.blockingTime)||!((null===(i=r[o])||void 0===i?void 0:i.blockingTime)>=l))&&l-u>=864e5},k=async(e,t)=>{var n,i;let{uid:o}=e||{},r=cookies.getItem({sKey:a.CookieKeys.PhoneResumeUidCacheV1});if(!r&&(r={}),!o)return;let l=(null===(n=r[o])||void 0===n?void 0:n.noClick)||0,d=t?null===(i=r[o])||void 0===i?void 0:i.time:Date.now();if("click"===t?l=0:"noClick"===t&&(l+=1),l<5)r[o]={time:null!=d?d:Date.now(),noClick:l};else{let e=await u.get({key:s.TccKey.AutoContinuePlaySetting,defaultValue:{blockingTime:2592e5}});r[o]={time:null!=d?d:Date.now(),blockingTime:Date.now()+e.blockingTime,noClick:0}}cookies.setItem(a.CookieKeys.PhoneResumeUidCacheV1,r,1/0)},x=()=>{let[e,t]=(0,o.useState)(null==i||i);return(0,o.useEffect)(()=>{void 0===i&&(async()=>{let{enable:e=!0}=await u.get({key:s.TccKey.PhoneResumeConfig,defaultValue:s.TCC_DEFAULT_VALUE_MAP.get(s.TccKey.PhoneResumeConfig)})||{};i=e,t(e)})()},[]),e},L=null,T=async()=>{if(L)return L;try{let{data:e=null}=await (0,v.Dn)();return null!=(L=e)?L:{}}catch(e){return{}}},D=null,N=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],[n,i]=(0,o.useState)({});return(0,o.useEffect)(()=>{t&&(async()=>{null===D&&(D=T());let t=await D;i(null==t?void 0:t[e])})()},[t,e]),n},P=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=x(),i=N("multi_device_resume",t);return(0,o.useMemo)(()=>{let t=e===d.e.Normal;return n&&(null==i?void 0:i.pc_manual)===1&&t},[e,i,n])},E=e=>{let{uid:t}=e,[n,i]=(0,o.useState)(null),a=(0,o.useRef)(!1),u=(0,b._)(),{attemptOpen:s,executeClose:v}=(0,c.B)({popName:"跨端续播引导",onOpen:()=>{},onClose:()=>{}}),m=(0,l.u)();(0,o.useEffect)(()=>{let e=g.listen(g.EVENT.webFeedPushMessage,e=>{s({afterCallback:()=>{i({type:y.i.FeedMulticast,cover:e.cover,itemId:e.itemId,awemeInfo:e.awemeInfo,recordType:e.recordType})}})});return()=>{e()}},[]);let C=(0,o.useCallback)(()=>{var e,i,o,r,l,s,c,v,m,g,h,w,y;n.recordType===Number(f.ns.auto)&&(a.current=!1,1===u.douyinMulticastLiveNew?k({uid:t}):S({uid:t}));let b=(null==n?void 0:null===(e=n.awemeInfo)||void 0===e?void 0:e.awemeType)===d.e.LiveCard;if(p.logInstance.sendLog("continuedBroadcastToastShow",{enter_from:(0,_.vM)(),scene:b?"live":"video",room_id:b?null==n?void 0:null===(l=n.awemeInfo)||void 0===l?void 0:null===(r=l.cellRoom)||void 0===r?void 0:null===(o=r.rawdata)||void 0===o?void 0:null===(i=o.owner)||void 0===i?void 0:i.web_rid:"",item_id:b?"":null==n?void 0:null===(s=n.awemeInfo)||void 0===s?void 0:s.awemeId,item_duration:b?0:null==n?void 0:null===(v=n.awemeInfo)||void 0===v?void 0:null===(c=v.video)||void 0===c?void 0:c.duration}),(null==n?void 0:null===(m=n.awemeInfo)||void 0===m?void 0:m.awemeType)===d.e.LiveCard){let e=null==n?void 0:null===(y=n.awemeInfo)||void 0===y?void 0:null===(w=y.cellRoom)||void 0===w?void 0:null===(h=w.rawdata)||void 0===h?void 0:null===(g=h.owner)||void 0===g?void 0:g.web_rid;p.logInstance.sendLog("liveResumePopupShow",{room_id:e})}},[n]),I=(0,o.useCallback)(function(){var e,o,r,l,s,c,f,m,g,h,w,y,b;let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:""};if(!a.current&&(1===u.douyinMulticastLiveNew?k({uid:t},"noClick"):S({uid:t},"noClick")),(null==C?void 0:C.type)==="click"){let e=(null==n?void 0:null===(o=n.awemeInfo)||void 0===o?void 0:o.awemeType)===d.e.LiveCard;p.logInstance.sendLog("continuedBroadcastToastClick",{enter_from:(0,_.mo)(),action:"close",scene:e?"live":"video",room_id:e?null==n?void 0:null===(c=n.awemeInfo)||void 0===c?void 0:null===(s=c.cellRoom)||void 0===s?void 0:null===(l=s.rawdata)||void 0===l?void 0:null===(r=l.owner)||void 0===r?void 0:r.web_rid:"",item_id:e?"":null==n?void 0:null===(f=n.awemeInfo)||void 0===f?void 0:f.awemeId,item_duration:e?0:null==n?void 0:null===(g=n.awemeInfo)||void 0===g?void 0:null===(m=g.video)||void 0===m?void 0:m.duration})}if((null==n?void 0:null===(e=n.awemeInfo)||void 0===e?void 0:e.awemeType)===d.e.LiveCard){let e=null==n?void 0:null===(b=n.awemeInfo)||void 0===b?void 0:null===(y=b.cellRoom)||void 0===y?void 0:null===(w=y.rawdata)||void 0===w?void 0:null===(h=w.owner)||void 0===h?void 0:h.web_rid;p.logInstance.sendLog("liveResumePopupClick",{room_id:e,action:"close"})}i(null),v()},[n]);return{multicastInfo:n,onShow:C,onClick:e=>{var i,o,l,s,c,v,y,b,C,I,x;e.recordType===Number(f.ns.auto)&&(a.current=!0,1===u.douyinMulticastLiveNew?k({uid:t},"click"):S({uid:t},"click"));let L=(null==n?void 0:null===(i=n.awemeInfo)||void 0===i?void 0:i.awemeType)===d.e.LiveCard,{awemeId:T,awemeType:D,continationInfo:N,cellRoom:P,lvideoBrief:E}=e.awemeInfo||{};if(p.logInstance.sendLog("continuedBroadcastToastClick",{enter_from:(0,_.vM)(),action:"btn",scene:L?"live":"video",room_id:L?null==n?void 0:null===(c=n.awemeInfo)||void 0===c?void 0:null===(s=c.cellRoom)||void 0===s?void 0:null===(l=s.rawdata)||void 0===l?void 0:null===(o=l.owner)||void 0===o?void 0:o.web_rid:"",item_id:L?"":null==n?void 0:null===(v=n.awemeInfo)||void 0===v?void 0:v.awemeId,item_duration:L?0:null==n?void 0:null===(b=n.awemeInfo)||void 0===b?void 0:null===(y=b.video)||void 0===y?void 0:y.duration}),D===d.e.Lvideo)(0,w.FV)({episodeId:null==E?void 0:null===(C=E.episodeInfo)||void 0===C?void 0:C.episodeId,playProgress:null==N?void 0:N.playProgress,fromDeviceId:null==N?void 0:N.fromDeviceId,recordType:null==N?void 0:N.recordType,urlSource:"pc_continued"});else if(D===d.e.LiveCard){let e=null==P?void 0:null===(x=P.rawdata)||void 0===x?void 0:null===(I=x.owner)||void 0===I?void 0:I.web_rid;(0,w.E0)({roomId:e,urlSource:"pc_continued"}),p.logInstance.sendLog("liveResumePopupClick",{room_id:e,action:"play"})}else"recommend"!==(0,h.yW)()&&N&&T?"www.douyin.com"!==location.hostname||location.pathname.startsWith("/search")?location.href=r.stringifyUrl({url:"https://www.douyin.com",query:{feed_operation:"insert",aweme_id:T,play_progress:N.playProgress,from_device_id:N.fromDeviceId,record_type:N.recordType,url_source:"pc_continued"}}):m({pathname:"/",search:r.stringify({feed_operation:"insert",aweme_id:T,play_progress:N.playProgress,from_device_id:N.fromDeviceId,record_type:N.recordType,url_source:"pc_continued"})}):g.emit(g.EVENT.recommendInsertVideo,e.awemeInfo)},onClose:I}}},277675:function(e,t,n){n.d(t,{ep:function(){return x},tt:function(){return k}}),n(874386);var i=n(563097),o=n(88648),r=n(713097),l=n.n(r),a=n(645003),u=n(594235),s=n(888163),d=n(465769),c=n(828782),f=n(852664),v=n(47047),m=n(331328),g=n(477389),_=n(942945),h=n(808191),p=n(939277),w=n(433692),y=n(115627),b=n(519608),C=n(664959),S=n(509090);let I=e=>{let{isInner:t,installPWA:n,withQuickAccessClose:r}=e,a=(0,o.useCallback)(()=>{b.Z.sendLog("webCollectClick",{enter_from:(0,d.vM)(),enter_method:t?"hover":"guide"}),n(),r&&r()},[n,r,t]);return(0,i.jsxs)("div",{className:l()(w.default.guideColumn,{[w.default.inner]:t}),children:[(0,i.jsx)(y.Z,{src:g.Z,width:50,height:51,viewBox:"0 0 50 51"}),(0,i.jsx)("div",{className:w.default.title,children:"添加抖音到电脑桌面"}),(0,i.jsx)("div",{className:w.default.desc,children:"下次可以在桌面快捷访问抖音"}),(0,i.jsx)("div",{className:l()(w.default.buttonContainer,{[w.default.inner]:t}),onClick:a,children:"立即添加"})]})},k=(0,o.memo)(e=>{let[t,n]=(0,o.useState)(!1);(0,o.useEffect)(()=>{n((0,c.tq)())},[]);let{installPWA:r,withQuickAccessClose:u}=e,s=(0,a.x)(()=>b.Z.sendLog("webCollectNotify",{enter_from:(0,d.mo)(),enter_method:"guide"}));return t?null:(0,i.jsxs)("div",{className:w.default.collectionPanelContainer,ref:s,children:[(0,i.jsxs)("div",{className:w.default.collectionPanelPWA,children:[(0,i.jsx)(y.Z,{src:m.Z,className:l()(w.default.closeIcon),onClick:u,width:16,height:16,viewBox:"0 0 16 16"}),(0,i.jsx)(I,{isInner:!1,installPWA:r,withQuickAccessClose:u})]}),(0,i.jsx)("div",{className:w.default.dot}),(0,i.jsx)("div",{className:w.default.finger})]})}),x=(0,o.memo)(e=>{let[t,n]=(0,o.useState)(!1);(0,o.useEffect)(()=>{n((0,c.tq)())},[]);let{installPWA:r,showBrowserPluginGuide:m,showQuickAccessPWA:g,withQuickAccessClose:k}=e,x=(0,a.x)(()=>b.Z.sendLog("webCollectNotify",{enter_from:(0,d.mo)(),enter_method:"hover"})),L=(0,a.x)(()=>b.Z.sendLog("webDesktopNotify",{enter_from:(0,d.vM)()})),[T,D]=(0,o.useState)([]),N=(0,o.useCallback)(async()=>{b.Z.sendLog("webDesktopClick",{enter_from:(0,d.vM)()});let e=await (0,C.Bg)();if((0,f.i7)()&&!e){S.F.info("当前网络无法访问chrome应用商店，请检查网络后再试");return}(0,C.d7)(T),k&&k()},[T,k]);return((0,o.useEffect)(()=>{if(!m)return;let e=!1;return u.get({key:s.TccKey.BrowserPluginInfo,defaultValue:s.TCC_DEFAULT_VALUE_MAP.get(s.TccKey.BrowserPluginInfo)}).then(t=>{var n;return!e&&D(null!==(n=null==t?void 0:t.pluginUrlList)&&void 0!==n?n:[])}),()=>{e=!0}},[]),t)?null:(0,i.jsx)("div",{id:"douyin-web-quick-access-collection-panel-container",className:w.default.collectionPanelContainer,ref:x,children:(0,i.jsxs)("div",{className:l()(w.default.collectionPanelPWA,{[w.default.notShowQuickAccessPWA]:!g}),children:[g&&(0,i.jsx)(I,{isInner:!0,installPWA:r}),m&&(0,i.jsxs)("div",{className:w.default.guideRow,ref:L,children:[(0,i.jsx)(y.Z,{src:h.Z,width:28,height:28,viewBox:"0 0 28 28"}),(0,i.jsxs)("div",{className:w.default.text,children:[(0,i.jsx)("p",{className:w.default.title,children:"抖音浏览器插件"}),(0,i.jsx)("p",{className:w.default.desc,children:"自定义浏览器新标签页"})]}),(0,i.jsxs)("div",{className:w.default.buttonContainer,onClick:N,children:[(0,i.jsx)(y.Z,{src:p.Z,width:7,height:10,viewBox:"0 0 7 10"}),(0,i.jsx)("span",{className:w.default.pluginText,children:"去安装"})]})]}),(0,i.jsxs)("div",{className:w.default.guideRow,children:[(0,i.jsx)(y.Z,{src:_.Z,width:28,height:28,viewBox:"0 0 28 28"}),(0,i.jsxs)("div",{className:w.default.text,children:[(0,i.jsx)("div",{className:w.default.title,children:"添加网页收藏夹"}),(0,i.jsx)("div",{className:w.default.desc,children:(0,v.Q5)()?"「command+D」添加至收藏夹":"「ctrl+D」添加抖音至收藏夹"})]})]})]})})})},101591:function(e,t,n){n.d(t,{a:function(){return _}});var i=n("563097"),o=n("88648"),r=n("713097"),l=n.n(r),a=n("243150"),u=n("291773"),s=n("357956"),d=n("398631"),c=n("520739"),f=n("878389");let v=(0,o.forwardRef)((e,t)=>(0,i.jsx)("svg",(0,f._)((0,c._)({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 18.75H6v-1.5h12v1.5zM11.25 13.19V5h1.5v8.19l3.22-3.22 1.06 1.06-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5 1.06-1.06 3.22 3.22z",fill:"#fff"})})));var m=n("519608"),g=n("979571");function _(e){let{downloadAttr:t,downloadHref:n,children:o,childrenBoxClassName:r,withClose:c,onClose:f,buttonText:_,withEffect:h,onDownload:p,downloadPWA:w,shouldDownloadPWA:y,showLOGO:b,isClodStartOptimize:C,withArrow:S}=e;return(0,i.jsxs)("div",{className:s.default.dropdownContainer,children:[!!S&&(0,i.jsx)(g.z,{svg:(0,i.jsx)(u.Z,{}),className:s.default.arrow}),(0,i.jsx)("div",{className:l()(s.default.container,{[s.default.isClodStartOptimizeContainer]:C}),children:(0,i.jsxs)("div",{className:s.default.subContainer,children:[(0,i.jsx)(a.Z,{src:d.Z,className:l()(s.default.closeIcon,{[s.default.hidden]:!c}),onClick:e=>{null==f||f(e),m.Z.sendLog("addToDesktopClose",{type:"top_bar_guide",click_method:"close_button"})},width:20,height:20,viewBox:"0 0 20 20"}),b&&(0,i.jsx)("div",{className:s.default.logoContainer,children:(0,i.jsx)("div",{className:s.default.logo})}),(0,i.jsx)("div",{className:l()(s.default.childrenContainer,r),"data-e2e":"download-container",children:o}),(0,i.jsxs)("div",{className:l()(s.default.downloadButtonContainer,{[s.default.coldStartOptimizeButton]:C}),children:[y&&(0,i.jsxs)("span",{className:l()(s.default.aDownloadLink,s.default.downloadButton),onClick:e=>{null==w||w(),null==p||p(e)},children:[C&&(0,i.jsx)(a.Z,{src:v,width:24,height:24,viewBox:"0 0 24 24",className:l()(s.default.downloadIcon)}),_]}),!y&&(0,i.jsxs)("a",{className:l()(s.default.aDownloadLink,s.default.downloadButton),onClickCapture:p,download:t,href:n,children:[C&&(0,i.jsx)(a.Z,{src:v,width:24,height:24,viewBox:"0 0 24 24",className:l()(s.default.downloadIcon)}),_]}),h&&(0,i.jsx)("div",{className:s.default.dot}),h&&(0,i.jsx)("div",{className:s.default.finger})]})]})})]})}},485405:function(e,t,n){n.d(t,{c:function(){return r}});var i=n(88648),o=n(63405);function r(e,t){(0,i.useEffect)(()=>{if(e&&(null==t?void 0:t.isLogin)!==void 0){var n,i;o.invoke("SYNC_LOGIN_STATE",{isLogin:null==t?void 0:t.isLogin,uid:null==t?void 0:null===(n=t.info)||void 0===n?void 0:n.uid,secUid:null==t?void 0:null===(i=t.info)||void 0===i?void 0:i.secUid,userInfo:t})}},[t,e])}},321960:function(e,t,n){n.d(t,{C:function(){return l}}),n(874386);var i=n(88648),o=n(128231),r=n.n(o);function l(){let e=()=>({innerHeight:window.innerHeight,innerWidth:window.innerWidth}),[t,n]=i.useState(e()),o=r()(()=>{n(e())},200);return i.useEffect(()=>(window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)),[]),t}},4784:function(e,t,n){n.d(t,{GZ:function(){return W},KK:function(){return j},NT:function(){return M},v2:function(){return F},xj:function(){return U}}),n(413806),n(826893),n(874386),n(527785),n(675373);var i=n(88648),o=n(439837),r=n.n(o),l=n(948375),a=n(407544),u=n(987475),s=n(75406),d=n(565024),c=n(828782),f=n(684767),v=n(847191),m=n(417194),g=n(441447),_=n(725887),h=n(553602),p=n(500899),w=n(529596),y=n(717864),b=n(543179),C=n(668991),S=n(664959),I=n(579592),k=n(429371),x=n(172479),L=n(560802),T=n(376698),D=n(499762),N=n(519608),P=n(629322);let{COOKIE_DEFAULT_EXPIRE_DURATION:E,CookieKeys:A,COOKIE_DOMAIN:R}=u,M={[S.CT.Win7Up]:{darkTheme:x,whiteTheme:L},[S.CT.Mac]:{darkTheme:T,whiteTheme:D}};function O(){let e=(d.Q.getItem({sKey:A.DownloadGuide})||"").split("/");return{count:Number(e[0]||"0"),lastTime:e[1]||"",hovered:"1"===e[2]}}function F(e){let t=O();d.Q.setItem(A.DownloadGuide,`${t.count}/${t.lastTime}/${e?"1":"0"}`,E,"/",R)}var U={None:0,0:"None",PWA:1,1:"PWA",Client:2,2:"Client"},j={Hover:0,0:"Hover",Auto:1,1:"Auto"};let B=2147483648-1,W=e=>{let{isLogin:t,PWAInstallable:n,installPWA:o,useEnhanceClientBar:x=!1,abTestData:L,channelId:T,adminConfig:D}=e,{downloadAttr:U,downloadHref:j}=(0,y.o)({channelId:T}),[W,H]=(0,i.useState)(0),[V,G]=(0,i.useState)(B),[K,Z]=(0,i.useState)(!1),[q,z]=(0,i.useState)(!1),[Y,J]=(0,i.useState)(""),[X,Q]=(0,i.useState)(!1),[$,ee]=(0,i.useState)(0),[et,en]=(0,i.useState)(""),ei=(0,i.useRef)(!1),eo=(0,i.useRef)(!1),er=(0,i.useRef)(0),[el,ea]=(0,i.useState)(!1),eu=(0,i.useRef)(!1),es=(0,l.Z)(()=>o());(0,i.useEffect)(()=>{Object.values(M).reduce((e,t)=>e.concat(Object.values(t)),[]).forEach(e=>{new Image().src=e})},[]);let ed=(0,i.useCallback)(async e=>{async function i(){return!(!1===(0,S.D5)()||(0,c.DT)()||(0,c.tq)())&&(!!e||!(t&&await (0,w.Y)())&&!0)}return await i()?2:!((0,S.D5)()||(0,f.f)()||(0,c.tq)()||!(0,f.y)()||(0,C.Ah)())&&n?1:0},[n,t]),ec=(0,i.useRef)(5e3);(0,i.useEffect)(()=>{if(!(null==L?void 0:L.supportClientAdminConfig)){var e,n,i,o,r,l,a,s,d,c,f,g;if((null==D?void 0:null===(i=D.config)||void 0===i?void 0:null===(n=i.ClientDownloadGuideConfig)||void 0===n?void 0:null===(e=n.Dialog)||void 0===e?void 0:e.DisplayType)===h.yw.ConsumingTime&&(null===(a=(0,v.$o)(u.LocalStorageKeys.ClientDownloadGuidePassiveFrequencyControl))||void 0===a?void 0:a.configId)!==(null==D?void 0:null===(d=D.config)||void 0===d?void 0:null===(s=d.ClientDownloadGuideConfig)||void 0===s?void 0:s.ID)){G((null==D?void 0:null===(g=D.config)||void 0===g?void 0:null===(f=g.ClientDownloadGuideConfig)||void 0===f?void 0:null===(c=f.Dialog)||void 0===c?void 0:c.ConsumingCount)*1e3);return}if(null==D?void 0:null===(l=D.config)||void 0===l?void 0:null===(r=l.ClientDownloadGuideConfig)||void 0===r?void 0:null===(o=r.Dialog)||void 0===o?void 0:o.DisplayType)return}let _=async()=>{let e=await (0,p.fetchWebIdRegisterTime)();return!e||(0,m.KC)(1e3*e)};(async()=>{if(void 0!==t){let e=await _();if(eu.current=!1,e){eu.current=!0,G(6e4);return}G(3e4)}})()},[t,D]),(0,i.useEffect)(()=>{var e,t,n;if((null==D?void 0:null===(n=D.config)||void 0===n?void 0:null===(t=n.ClientDownloadGuideConfig)||void 0===t?void 0:null===(e=t.Dialog)||void 0===e?void 0:e.DisplayType)!==h.yw.ConsumingVideo)return;let i=g.listen(g.EVENT.FeedUpdateItemIndex,e=>{var t,n,i,o,r;let{index:l}=e;(null===(t=(0,v.$o)(u.LocalStorageKeys.ClientDownloadGuidePassiveFrequencyControl))||void 0===t?void 0:t.configId)!==(null==D?void 0:null===(i=D.config)||void 0===i?void 0:null===(n=i.ClientDownloadGuideConfig)||void 0===n?void 0:n.ID)&&l>=(null==D?void 0:null===(r=D.config)||void 0===r?void 0:null===(o=r.ClientDownloadGuideConfig)||void 0===o?void 0:o.Dialog.ConsumingCount)&&G(1e3)});return()=>{i()}},[D]);let ef=(0,i.useRef)(),ev=(0,i.useRef)(!1),em=(0,l.Z)(()=>{Q(!0),ei.current=!0}),eg=(0,l.Z)(()=>{clearTimeout(ef.current),ep(),Q(!1),ei.current=!1,s.YY.finishTask(s.BE.DownloadGuideTaskId),ev.current=!1,Z(!1),z(!1),en("")}),e_=(0,i.useRef)(()=>{});e_.current=()=>{2===W&&g.emit(g.EVENT.downloadGuideInformPWA2Guide,{downloadGuideType:"client"})};let{attemptOpen:eh,executeClose:ep}=(0,a.B)({popName:"客户端下载引导弹窗",onOpen:()=>{H(2),ee(1),Q(!0)},onClose:()=>{Q(!1)}}),ew=(0,l.Z)(()=>{em(),Z(!0),z(!0)}),ey=(0,l.Z)(async()=>{var e,n,i;let o=null==D?void 0:null===(e=D.config)||void 0===e?void 0:e.ClientDownloadGuideConfig,l=null==o?void 0:null===(n=o.Dialog)||void 0===n?void 0:n.DisplayType,a=l===h.yw.ConsumingTime||l===h.yw.ConsumingVideo,f=await (0,w.Y)();if(a&&(!f||!t)){(null===(i=(0,v.$o)(u.LocalStorageKeys.ClientDownloadGuidePassiveFrequencyControl))||void 0===i?void 0:i.configId)!==(null==o?void 0:o.ID)&&(H(2),ee(1),ew());return}if(null==o?void 0:o.ID)return;let m=await ed(!1);if(1===m){g.emit(g.EVENT.downloadGuideInformPWA2Guide,{downloadGuideType:"pwa"}),_.Le.setConfig(_.gI.HasColdStartShow,!1);return}if(!(0!==m&&function(e,t){let n=O();return!(n.count>=3)&&(!t||n.lastTime!==r()().format("YYYYMMDD"))}(3,!1))||ei.current){s.YY.cancelTask(s.BE.DownloadGuideTaskId),_.Le.setConfig(_.gI.HasColdStartShow,!1);return}eh({afterCallback:()=>{_.Le.setConfig(_.gI.HasColdStartShow,!0),(0,b.lD)(P.r8),eo.current=!0,er.current=Date.now(),_.Le.setConfig(_.gI.IsDownloadBarShow,{timeColdStartShow:er.current}),J(""),H(m),ee(1),ew(),!function(){let e=O();d.Q.setItem(A.DownloadGuide,`${e.count+1}/${r()().format("YYYYMMDD")}/${e.hovered?"1":"0"}`,E,"/",R)}(),!(eu.current&&!(0,c.DT)())&&(ef.current=window.setTimeout(()=>{eg()},ec.current))}})});(0,i.useEffect)(()=>{V!==B&&s.YY.insertTask(s.BE.DownloadGuideTaskId,()=>{ey()},{onFinish:()=>{ei.current&&eg(),e_.current()},delay:V,priority:s.T0.ClientDownloadPriority})},[V]);let eb=(0,l.Z)(()=>{1===$&&(ev.current=!0),clearTimeout(ef.current)}),eC=(0,l.Z)(()=>{if(ev.current){let e=!eu.current||(0,c.DT)();clearTimeout(ef.current),ef.current=window.setTimeout(()=>{eg(),N.Z.sendLog("addToDesktopClose",{type:"top_bar_guide",click_method:"hover"})},e?ec.current:500)}});(0,i.useEffect)(()=>{let e=g.listen(g.EVENT.showClientDownloadGuide,e=>{let{isShow:t,text:n,type:i,from:o}=e||{};if(X)return;let r=!er.current||Date.now()-er.current>18e5;if(t&&x&&(0,k.A8)(i)&&"im"!==o&&"follow"===i&&r){var l,a;let e=null==D?void 0:null===(a=D.config)||void 0===a?void 0:null===(l=a.ClientDownloadGuideConfig)||void 0===l?void 0:l.Type;((null==L?void 0:L.supportClientAdminConfig)||e!==h.iv.RED_DOT&&e!==h.iv.NEW_ICON)&&ea(!0),F(!1),setTimeout(()=>{G(e=>e===B?B:15e5)},3500)}});return()=>{null==e||e()}},[x,D]);let eS=async()=>{if(clearTimeout(ef.current),s.YY.replaceCurrentTask({id:s.BE.DownloadGuideTaskId,priority:s.T0.HoverPriority,isBlock:!0}),!ei.current){let e=await ed(!0);J(""),H(e),em(),ee(0)}F(!0)},eI=()=>{var e;if(ev.current)return;ea(!1);let{Type:t,ID:n}=(null==D?void 0:null===(e=D.config)||void 0===e?void 0:e.ClientDownloadGuideConfig)||{};!(null==L?void 0:L.supportClientAdminConfig)&&(t===h.iv.RED_DOT||t===h.iv.NEW_ICON)&&n&&(0,v.qQ)(u.LocalStorageKeys.ClientDownloadRedDotControl,{configId:n}),eg()},ek=(0,l.Z)(async e=>{if(e){eS();return}eI()}),{onMouseEnter:ex,onMouseLeave:eL}=(0,I.U)({enterDelay:200,leaveDelay:200,onMouseEnter:()=>{eS()},onMouseLeave:()=>{eI()}});return(0,i.useEffect)(()=>{var e,n,i,o,r;let l=null==D?void 0:null===(n=D.config)||void 0===n?void 0:null===(e=n.ClientDownloadGuideConfig)||void 0===e?void 0:e.Type;if(!(null==L?void 0:L.supportClientAdminConfig)&&(l===h.iv.RED_DOT||l===h.iv.NEW_ICON)){(null===(i=(0,v.$o)(u.LocalStorageKeys.ClientDownloadRedDotControl))||void 0===i?void 0:i.configId)!==(null==D?void 0:null===(r=D.config)||void 0===r?void 0:null===(o=r.ClientDownloadGuideConfig)||void 0===o?void 0:o.ID)&&ea(!0);return}if(!!(0,S.D5)()&&!O().hovered&&"boolean"==typeof t){if(!t){ea(!0);return}(0,w.Y)().then(e=>{ea(!e)})}},[D,t,L]),{shouldShowGuideType:W,clientDownloadHref:j,clientDownloadAttr:U,downloadPWA:es,show:X,hideDownloadGuide:eg,showDownloadGuideWithCloseAndEffect:ew,withClose:K,withEffect:q,showDownloadGuide:em,onDownloadGuideEnter:eb,onDownloadGuideLeave:eC,onDownloadGuideEntryEnter:ex,onDownloadGuideEntryLeave:eL,onDownloadGuideVisibleChange:ek,showType:$,showClientBadge:el,setShowClientBadge:ea,guideText:et,guideFrom:Y}}},568174:function(e,t,n){n.d(t,{G:function(){return o},R:function(){return r}}),n(250440),n(179133),n(826893);var i=n(983253);let o=(e,t)=>{let n=window.__test_yestoday__;return e=n?new Date(n):e,t.getFullYear()>e.getFullYear()||t.getMonth()>e.getMonth()||t.getDate()>e.getDate()},r=(e,t,n)=>{var o,r,l;let a=null!==(r=null!==(o=(0,i.Rs)("enter_method"))&&void 0!==o?o:t&&!n?"default_landing":void 0)&&void 0!==r?r:"other";return"personal_homepage"===e&&(a=["personal_panel","left_entrance","top_bar","personal_homepage_like","personal_homepage_collect","personal_homepage_history"].includes(a)?a:""),"ai_search"===e&&(a=(null===(l=location.search)||void 0===l?void 0:l.includes("isPopup"))?"click_search_window":"tab_click"),a}},539794:function(e,t,n){n.d(t,{i:function(){return v}}),n(242079),n(851912),n(826893),n(927234),n(954372),n(779788);var i=n(88648),o=n(567754),r=n(594235),l=n(888163),a=n(441447),u=n(828782),s=n(63405),d=n(684767),c=n(509090);let f=[{reg:"/weekly_activity/monthly-billboard",link:"https://www.douyin.com/jingxuan?default_activity_open=1&modal_id=7516480886684568891"}];function v(e){let{userInfo:t,isLogin:n,userDispatch:v}=e,m=(0,i.useRef)({}),g=(0,i.useRef)(f);(0,i.useEffect)(()=>{(async()=>{let e=await r.get({key:l.TccKey.H5Rule,defaultValue:f});g.current=e})()},[]),(0,i.useEffect)(()=>{let e=a.listen(a.EVENT.OpenIframeModal,async e=>{let t=null==e?void 0:e.iframeSrc;if(!!t){if(m.current=e,t){let e=t,n=o.parseUrl(t).query;(g.current||f).map(n=>{let{reg:i,link:o}=n;RegExp(i,"i").test(t)&&(e=o)});let i=o.stringifyUrl({url:e,query:{h5_query:JSON.stringify(n)}});if((0,u.DT)()){let{data:e}=await s.invoke("getMultitaskingWindowCount");if(e>=4){c.F.info("独立窗口已达上限，需关闭任意窗口");return}s.invoke("createMultitaskingWindow",{url:i,useReuse:!0,useSmallMode:!1,useExtendTop:!0})}else a.emit(a.EVENT.videoPause,"useJumpH5_videoPause"),window.open(i,(0,d.f)()?"_self":"_blank")}}});return()=>{e()}},[t,n,v])}},771689:function(e,t,n){let i;n.d(t,{d:function(){return h},j:function(){return _}}),n(927234);var o=n(88648),r=n(138871),l=n.n(r),a=n(987475),u=n(832052),s=n(725887),d=n(742740),c=n(828782),f=n(847191),v=n(231555),m=n(489428);let g=e=>{var t;return l().parse(null==e?void 0:null===(t=e.message)||void 0===t?void 0:t.textPayload)},_=e=>{var t,n;if(s.Le.getConfig(s.gI.IsInMiniWin))return;let o=g(e),r={},u=null==o?void 0:o.from_app_id;if(null==o?void 0:o.point_data)try{let e=l().parse(o.point_data);r={enterFromOnCellphone:null==e?void 0:e.enter_method_on_cellphone,previousPageOnCellphone:null==e?void 0:e.previous_page_on_cellphone,isLandscapeStatusOnCellphone:null==e?void 0:e.is_landscape_status_on_cellphone,enterMethodOnCellphone:null==e?void 0:e.enter_method_on_cellphone,fromUserId:null==e?void 0:e.from_user_id,fromDeviceId:null==e?void 0:e.from_device_id,timestamp:null==e?void 0:e.timestamp,fromAppId:null==e?void 0:e.from_app_id},m.Z.sendLog("continued_broadcast_receive_sync_message",{stage:"receive_message",enter_from:(0,d.yW)(),previous_page_on_cellphone:null==r?void 0:r.previous_page_on_cellphone,enter_method_on_cellphone:null==r?void 0:r.enterFromOnCellphone,from_device_id:null==r?void 0:r.fromDeviceId,from_user_id:null==r?void 0:r.fromUserId,room_id:null==o?void 0:o.web_rid.toString(),scene:"live",message_type:null==o?void 0:null===(n=o.message_type)||void 0===n?void 0:n.toString(),duration:(null==r?void 0:r.timestamp)?Date.now()-r.timestamp:void 0,from_app_id:u})}catch(e){}let _=null==o?void 0:null===(t=o.web_rid)||void 0===t?void 0:t.toString();if("open_live_from_aweme_app"===o.message_type)if(m.Z.sendLog("continued_broadcast_receive_sync_message",{stage:"push_message",room_id:_,scene:"live",from_app_id:u}),"visible"===document.visibilityState||(0,c.DT)()){let{enterFromOnCellphone:e,previousPageOnCellphone:t,isLandscapeStatusOnCellphone:n,enterMethodOnCellphone:o,fromUserId:l,fromDeviceId:s}=r;(0,v.E0)({roomId:_,urlSource:"app_continued",messageFrom:"app",enterMethod:"app_resume",enterFromMerge:(0,d.yW)(),previousPage:"screen_share_to_pc",enterFromOnCellphone:e,previousPageOnCellphone:t,isLandscapeStatusOnCellphone:n,enterMethodOnCellphone:o,fromUserId:l,fromDeviceId:s,fromAppId:u}),clearTimeout(i),i=setTimeout(()=>{(0,f.bv)(a.LocalStorageKeys.LastWatchOnPC),clearTimeout(i)},500)}else(0,f.qQ)(a.LocalStorageKeys.LastWatchOnPC,{time:Date.now(),webRid:_,urlSource:"app_continued",messageFrom:"app",enterMethod:"app_resume",enterFromMerge:(0,d.yW)(),previousPage:"screen_share_to_pc",pointData:r,fromAppId:u}),m.Z.sendLog("continued_broadcast_receive_sync_message",{stage:"record_continued_message",scene:"live",room_id:_,from_app_id:u})},h=()=>{(0,o.useEffect)(()=>{let e=()=>{let e=(0,f.$o)(a.LocalStorageKeys.LastWatchOnPC);if(!!e&&!!e.time)if(Date.now()-e.time<=6e4){if("visible"===document.visibilityState){(0,f.bv)(a.LocalStorageKeys.LastWatchOnPC);let{webRid:t,urlSource:n,messageFrom:i,enterMethod:o,enterFromMerge:r,previousPage:l,pointData:s,itemType:d,itemId:c,episodeId:g,playTime:_,recordType:h,fromAppId:p}=e,{itemDuration:w,enterMethodOnCellphone:y,isLandscapeStatusOnCellphone:b,previousPageOnCellphone:C,enterFromOnCellphone:S,fromUserId:I,fromDeviceId:k}=s||{};m.Z.sendLog("continued_broadcast_receive_sync_message",{stage:"consume_continued_message",scene:t?"live":"video",room_id:t,item_id:c,record_type:h,from_app_id:p}),e.webRid?(0,v.E0)({roomId:t,urlSource:n,messageFrom:i,enterMethod:o,enterFromMerge:r,previousPage:l,enterFromOnCellphone:S,previousPageOnCellphone:C,isLandscapeStatusOnCellphone:b,enterMethodOnCellphone:y,fromUserId:I,fromDeviceId:k,fromAppId:p}):d&&Number(d)===u.e.Lvideo?(0,v.FV)({itemId:c,episodeId:g,playProgress:_,urlSource:"app_continued",recordType:h,fromDeviceId:k,enterFromOnCellphone:S,previousPageOnCellphone:C,isLandscapeStatusOnCellphone:b,enterMethodOnCellphone:y,fromUserId:I,itemDuration:w,awemeType:d,fromAppId:p}):(0,v.Pz)({itemId:c,playProgress:_,urlSource:"app_continued",recordType:h,fromDeviceId:k,enterFromOnCellphone:S,previousPageOnCellphone:C,isLandscapeStatusOnCellphone:b,enterMethodOnCellphone:y,fromUserId:I,itemDuration:w,fromAppId:p})}}else(0,f.bv)(a.LocalStorageKeys.LastWatchOnPC)};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[])}},782242:function(e,t,n){n.d(t,{d:function(){return _}}),n(675373),n(179133),n(826893);var i=n(88648),o=n(128231),r=n.n(o),l=n(623582),a=n(565024),u=n(441447),s=n(725887),d=n(246050),c=n(987475),f=n(380676);let v=()=>"visible"===document.visibilityState,m=e=>e>0?`https://p-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/favicon/${Math.min(e,10)}.png`:"https://p-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/favicon.png",g=()=>{var e,t,n;let i=document.createElement("link");return i.type="image/x-icon",i.rel="shortcut icon",null===(n=document.getElementsByTagName("head"))||void 0===n||null===(t=n[0])||void 0===t||null===(e=t.appendChild)||void 0===e||e.call(t,i),i},_=e=>{let{isOn:t=!1}=e,n=(0,i.useRef)(!1),o=(0,i.useRef)(0),_=(0,i.useRef)(null),h=(0,i.useCallback)(e=>new Promise((t,n)=>{let i=new Image;i.src=e,i.onload=function(){t(!0),i.onload=null,i.onerror=null,i=null},i.onerror=function(e){n(e),i.onerror=null,i.onload=null,i=null}}),[]),p=(0,i.useCallback)(async e=>{let t=m(e);if(!_.current){let e=document.querySelector('link[type="image/x-icon"]');_.current=e,!e&&(_.current=g())}let n=await h(t),i=_.current;return n&&i&&(i.href=t),n&&i},[h]),w=(0,i.useCallback)(async e=>{let t=async()=>{let t=setTimeout(()=>{p(0).then(n=>{if(!n){clearTimeout(t);return}let i=setTimeout(()=>{p(e),clearTimeout(i),clearTimeout(t)},500)})},500)};a.Q.getItem({sKey:c.CookieKeys.IsDouyinActive})||0===e?p(e):await p(e)&&t()},[p]),y=(0,i.useCallback)(()=>{p(0),n.current=!1},[p]);(0,i.useEffect)(()=>{let e=u.listen(u.EVENT.updateUnReadCount,r()(e=>{let i=a.Q.getItem({sKey:c.CookieKeys.HideTitleNotice}),r=a.Q.getItem({sKey:c.CookieKeys.IsDouyinActive}),{im:u=0,notice:d=0}=s.Le.getConfig(s.gI.UnReadCount)||{},f=u+d;if(!!e&&!!t&&!i&&(!!n.current||!r)&&f!==o.current)o.current=f,w(f),n.current=f>0,f>0&&l.logInstance.sendLog("webRedDotShow")},1e3));return()=>{null==e||e()}},[t,w]),(0,i.useEffect)(()=>{let e=()=>{if(v()){l.logInstance.sendLog("webIconClick",{red_dot:n.current?1:0});let e=setTimeout(()=>{a.Q.setItem(c.CookieKeys.IsDouyinActive,!0),clearTimeout(e)},500)}else a.Q.setItem(c.CookieKeys.IsDouyinActive,!1)},t=()=>a.Q.setItem(c.CookieKeys.IsDouyinActive,!0),i=()=>a.Q.setItem(c.CookieKeys.IsDouyinActive,!1);return!a.Q.getItem({sKey:c.CookieKeys.IsDouyinActive})&&a.Q.setItem(c.CookieKeys.IsDouyinActive,v()),document.addEventListener("visibilitychange",e),document.addEventListener("focus",t),window.addEventListener("beforeunload",i),()=>{document.removeEventListener("visibilitychange",e),document.removeEventListener("focus",t),window.removeEventListener("beforeunload",i)}},[]),(0,i.useEffect)(()=>{let e=null;t?(e&&clearInterval(e),e=setInterval(()=>{a.Q.getItem({sKey:c.CookieKeys.HideTitleNotice})&&n.current&&y()},5e3)):(clearInterval(e),e=null)},[t,y]),(0,i.useEffect)(()=>{let e=(0,d.D)(location.search),t=e.message_tag,i=e.groupId,o=e.rid;t&&l.logInstance.sendLog("webIconClick",{open_from:"push",message_tag:e.message_tag,red_dot:n.current?1:0}),t&&(0,f.Mr)({rid64:o,group_id_str:i})},[])}},401062:function(e,t,n){var i=n(520739);n(874386),n(413806),n(826893);var o=n(987475),r=n(565024);let l=e=>function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];try{return e(...n)}catch(e){}},a=l(()=>{let[e="0",t="0",n="0",i="0"]=(r.Q.getItem({sKey:o.CookieKeys.PWA2Guide})||"").split("|");return{showGuideCount:Number(e),hovered:t,quickAccessShowGuideCount:Number(n),quickAccessHovered:i}}),u=l(e=>{let t=a(),{showGuideCount:n,hovered:l,quickAccessShowGuideCount:u,quickAccessHovered:s}=(0,i._)({},t,e);r.Q.setItem(o.CookieKeys.PWA2Guide,[n,l,u,s].join("|"))}),s=l(()=>{let{hovered:e="0"}=a();return"0"===e}),d=l(()=>{u({showGuideCount:Math.min(a().showGuideCount+1,3)})}),c=l(()=>{let{showGuideCount:e,hovered:t}=a();return"1"!==t&&e<3}),f=l(()=>{let{quickAccessHovered:e="0"}=a();return"0"===e}),v=l(()=>{u({quickAccessShowGuideCount:Math.min(a().quickAccessShowGuideCount+1,3)})}),m=l(()=>{let{quickAccessShowGuideCount:e}=a();return e<3});t.Z={STAY_TIME:5e3,TOTAL_COUNT:3,getPWA2GuideData:a,updatePWAGuideData:u,increasePWA2ShowGuideCount:d,checkBadgeVisible:s,checkAutoShowPanel:c,increasePWA2QuickAccessShowGuideCount:v,checkQuickAccessBadgeVisible:f,checkAutoShowQuickAccessPanel:m}},850488:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(563097);n(88648);var o=n(713097),r=n.n(o),l=n(741763),a=n(115627),u=n(199321);function s(e){let{color:t,count:n}=e;return(0,i.jsx)("div",{className:r()({[l.default.digitDot]:!0,[l.default.red]:"red"===t,[l.default.yellow]:"yellow"===t,[l.default.twoDigits]:n>=10&&n<=99,[l.default.moreCount]:n>99}),children:n>99?(0,i.jsx)(a.Z,{src:u.Z,viewBox:"0 0 22 9",height:9,width:22}):n})}},687984:function(e,t,n){n.d(t,{t:function(){return u}});var i=n(520739),o=n(878389),r=n(563097);n(88648);var l=n(57843),a=n(243863);let u=e=>{let{width:t=48,height:n=48,className:u,viewBox:s="0 0 48 48"}=e;return(0,r.jsx)(a.A,(0,o._)((0,i._)({},e),{width:t,height:n,src:l.Z,id:"semi-icons-refresh",defaultWidth:48,defaultHeight:48,viewBox:s,className:u}))}},382299:function(e,t,n){let i;n.d(t,{H:function(){return g}}),n(179133),n(826893),n(250440);var o=n(909543),r=n(828782),l=n(504229),a=n(296884),u=n(63405),s=n(725887),d=n(441447),c=n(622005);let f=c.default.FeedActiveVideoWithLynx,v=c.default.noLynxEmbedPlugin,m=c.default.LynxEmbedPlugin,g=()=>{(0,o.a)();let e=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];!i&&(i=Date.now())},t=()=>{if(!(0,r.DT)())return!1;let e=window.location.href.includes("from_lynx=1");if(window.closeLynx||document.referrer&&!(0,l.sF)()){if(e){let e=(0,a.q)(["from_lynx"],window.location.href);window.history.replaceState({},"",e),u.invoke("closeLynxWindow")}return!1}return e},n=e=>{if(!t()||e){let e=document.body;e&&e.classList.contains(f)&&e.classList.remove(f)}},c=()=>{e("LynxEmbedPlugin removeLynxPlugin"),document.querySelectorAll(`.${m}`).forEach(e=>{(null==e?void 0:e.style)&&(e.style.display="none")});let t=document.body;t&&!t.classList.contains(v)&&t.classList.add(v),n(!0)};return{log:e,isFromLynx:t,setHideInLynxClassName:()=>{if(t()){let e=document.body;e&&!e.classList.contains(f)&&e.classList.add(f)}},removeHideInLynxClassName:n,getLynxInfo:()=>(e("usePlayByLynx getLynxInfo"),s.Le.getConfig(s.gI.LynxInfo)),onCloseLynx:t=>{e("LynxEmbedPlugin onCloseLynx",t),c(),window.closeLynx=!0;let n=(0,a.q)(["from_lynx"],window.location.href);window.history.replaceState({},"",n),"self"!==t&&d.emit(d.EVENT.showDouyinWindow),d.emit(d.EVENT.closeLynxWindow),requestAnimationFrame(()=>{setTimeout(()=>{e("JSBridge.invoke closeLynxWindow"),u.invoke("closeLynxWindow")},100)})},removeLynxPlugin:c,showWindowByWebWhenLynx:()=>{e("showWindowByWebWhenLynx1"),d.emit(d.EVENT.showWindowByWebWhenLynx),e("showWindowByWebWhenLynx2"),u.invoke("showWindowByWebWhenLynx")}}}},115627:function(e,t,n){var i=n(520739),o=n(878389),r=n(368200);n(874386);var l=n(563097),a=n(88648),u=n(713097),s=n.n(u),d=n(725887),c=n(937679);t.Z=a.memo(e=>{let{src:t,width:n=18,height:u=18,color:f,viewBox:v,className:m="",onClick:g,onMouseEnter:_,onMouseLeave:h,style:p,needRenderInSSR:w=!1,id:y}=e,b=(0,r._)(e,["src","width","height","color","viewBox","className","onClick","onMouseEnter","onMouseLeave","style","needRenderInSSR","id"]),C=f?(0,o._)((0,i._)({},b),{fill:f}):b,[S,I]=(0,a.useState)(w||d.Le.getConfig(d.gI.SvgDirectRender));return((0,a.useEffect)(()=>{I(!0)},[]),S)?(0,l.jsx)(t,(0,o._)((0,i._)({className:s()(f?c.default.svg:"",m),width:n,height:u,viewBox:v||"0 0 36 36",onClick:g,onMouseEnter:_,onMouseLeave:h},C),{style:p,id:y})):(0,l.jsx)(l.Fragment,{})})},972647:function(e,t,n){n.d(t,{Yx:function(){return d},me:function(){return c},t3:function(){return s},tK:function(){return u}});var i=n(520739),o=n(878389),r=n(832052),l=n(327718),a=n(582296);let u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"author_card";(0,a.default)({success:()=>{e&&e()},enterMethod:t,isActive:"1"})},s=async e=>{let{isLogin:t}=await (0,l.b)();return t?e:(0,o._)((0,i._)({},e),{data:null==e?void 0:e.data.slice(0,6),hasMore:0})},d=e=>{let t=e.filter(e=>e.awemeType!==r.e.Lvideo);try{let e=0;t.forEach(t=>{var n,i,o;let r=null==t?void 0:null===(n=t.tag)||void 0===n?void 0:n.hotList;(null==r?void 0:r.rank)&&!(null==t?void 0:null===(i=t.tag)||void 0===i?void 0:i.isTop)&&(null===(o=JSON.parse((null==r?void 0:r.extra)||"{}"))||void 0===o?void 0:o.entrance_relativity)==="100"&&e<3?e++:r&&(r.rank=void 0)})}catch(e){}return t},c={width:"36px",height:"36px"}},934929:function(e,t,n){n.d(t,{S:function(){return s}}),n(250440),n(675373);var i=n(88648),o=n(582296),r=n(417194),l=n(987475);function a(){return Date.now()}function u(){try{let e=cookies.getItem({sKey:l.CookieKeys.SearchUnLoginPvCurrDay});if(e&&e.date&&e.count)return e}catch(e){cookies.removeItem(l.CookieKeys.SearchUnLoginPvCurrDay)}return{date:a(),count:0}}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",s=(null==e?void 0:e.forceLoginHourly)||0,d=(null==e?void 0:e.forceLoginDaily)||0,c=s||d,f=!!s,v=(null==c?void 0:c[n])||(null==c?void 0:c.default),m=(null==v?void 0:v.force_login_search)||0,g=m>0,_=(0,i.useCallback)(e=>!f&&!(0,r.KC)(e)||f&&!(0,r.fu)(e),[f]),h=(0,i.useCallback)(()=>{if(t)return;let e=a(),n=u();_(n.date)?(n.date=e,n.count=1):n.count+=1,!function(e){try{cookies.setItem(l.CookieKeys.SearchUnLoginPvCurrDay,e,31536e6)}catch(e){}}(n)},[t,f]),p=(0,i.useCallback)(()=>{let e=u();return _(e.date)?0:e.count},[f]),w=(0,i.useCallback)(()=>{if(t)return!1;try{if(m<=0)return!1;return p()>=m}catch(e){return!1}},[p,t,m]),y=(0,i.useCallback)(e=>{let{showClose:t=!1}=e||{};return new Promise(e=>{(0,o.default)({headerText:"登录后即可搜索更多精彩视频",enterMethod:"search_force_login",showFeedback:!0,showClose:t,success:()=>{e(!0)},onClose:()=>{e(!1)}})})},[]),b=(0,i.useCallback)(e=>{if(!g||t)return!1;return!!["normal_search","search_history","search_sug","recom_search","hot_search_board","search_bar_inner"].includes(e)||!1},[g,t]),C=(0,i.useCallback)(async(e,t)=>b(e)?(h(),w())?{recorded:!0,blocked:!0,loginSuccess:await y({showClose:t})}:{recorded:!0,blocked:!1}:{recorded:!1,blocked:!1},[b,h,w,y]);return{addUnLoginPvCurrDay:h,getUnLoginPvCurrDay:p,isReachForceLoginLimit:w,showForceSearchLogin:y,needRecordOrBlock:b,recordAndBlockIfNeed:C}}},104359:function(e,t,n){n.d(t,{YK:function(){return a},kh:function(){return s},xp:function(){return u}});var i=n(18263),o=n(774833),r=n(856198),l=n(133764);let a=e=>{let{abtestData:t}=e;i.ZP.bootstrap({appId:6383,strategies:[{Strategy:i.xx},{Strategy:i.Cd,config:{mp4:(0,r.F)({abtestData:t}),dash:(0,r.l)({abtestData:t})}},{Strategy:i.$Z,config:(0,o.z1)({abtestData:t})},{Strategy:i.wt,config:(0,l.h)()},{Strategy:i.li,config:{enable:!0,notDegradeErrorList:[403,404]}},{Strategy:i.cG,config:{minBufferLength:5,nextBuffer:{nextBufferMin:5,nextStartBuffer:0,nextStartPos:0,scale:{L:.2,M:.4,S:.2,XL:.4}}}},{Strategy:i.sE,config:{addSpeedTypeList:["pcdn"]}}]})},u=e=>{let{playerConfig:t,strategyConfig:n={}}=e,o=i.ZP.rec(n,t);return i.ZP.apply(t,o)},s=e=>{let{abtestData:t}=e;i.ZP.applyServerConfig({strategies:[{Strategy:i.Cd,config:{mp4:(0,r.F)({abtestData:t}),dash:(0,r.l)({abtestData:t})}},{Strategy:i.$Z,config:(0,o.z1)({abtestData:t})},{Strategy:i.wt,config:(0,l.h)({abtestData:t})}]})}},113925:function(e,t,n){let i;n.d(t,{DH:function(){return b},Zf:function(){return k},qs:function(){return S},yf:function(){return I}});var o=n(520739);n(429532),n(250440),n(874386);var r=n(498871),l=n(668060),a=n(44216),u=n(987475),s=n(828782),d=n(725887),c=n(815389),f=n(47047),v=n(472474),m=n(847191),g=n(565024),_=n(993207),h=n(126081),p=n(736054),w=n(135058),y=n(903220);let b=e=>{var t,n,i;let r={open:!0,openAdaptRange:!0,timeout:3e3,removeBufferLen:60,removeBufferWhenSeekInBuffer:!1,replayReset:!1,waitingInBufferTimeOut:5e3,maxBufferLength:30,useProgressiveAppend:!0,useProgressiveAppendAll:!0,videoDuration:24e4,usePCDNProgressiveCheck:!0,resetStateUpdrade:!0,useSeparationMode:!0,useCDNProgressiveCheck:!1,loader:{loaderCount:1,onProcessMinLen:0,enableDynamicMinLen:!1},dashPcdnConfig:{openPCDN:!0,adaptPCDNConfig:{PCDNBufferControl:!0}},dashAdaptRangeConfig:null};(0,s.DT)()&&(r.dashAdaptRangeConfig={adaptRange:{rangeControl:!0,targetCacheControl:!0,rangeMaxDuration:20,rangeMinDuration:5,rangeMinSize:409600,safeFactor:.1,cacheSafeFactor:5,minDangerThreshold:6,estPlayTime:12,minBandwidth:1e6,estPTcontrol:!0,minTargetCacheDur:40,maxTargetCacheDur:60}});let l={},a=null==e?void 0:null===(t=e.dashConfigServer)||void 0===t?void 0:t.applySide;return a&&("web"!==a||(0,s.DT)())?"client"===a&&(0,s.DT)()&&(l=null==e?void 0:e.dashConfigServer):l=null==e?void 0:e.dashConfigServer,(null==e?void 0:e.adaptRangeRateControl)&&(null==l?void 0:null===(n=l.dashAdaptRangeConfig)||void 0===n?void 0:n.adaptRange)&&(l.dashAdaptRangeConfig.adaptRange.playbackRateControl=null==e?void 0:e.adaptRangeRateControl),(null==e?void 0:e.adaptRangeRateControl)&&(null===(i=r.dashAdaptRangeConfig)||void 0===i?void 0:i.adaptRange)&&(r.dashAdaptRangeConfig.adaptRange.playbackRateControl=null==e?void 0:e.adaptRangeRateControl),Object.assign({},r,null==e?void 0:e.dashConfig,{useStuckCheck:null==e?void 0:e.useStuckCheck,useStuckWaitBuffer:null==e?void 0:e.useStuckWaitBuffer},(0,o._)({},(null==e?void 0:e.dashPcdnBlock)||{}),{playbackRateControl:null==e?void 0:e.adaptRangeRateControl},l,d.Le.getConfig(d.gI.IsMainland)?{}:{dashPcdnConfig:{openPCDN:!1}})},C=e=>{var t,n,i;let{abtestData:o,awemeInfo:r}=e,a={isPlayAutoDefi:!1,isOpenAutoDefi:!1,module:l.N,isClassic:!0,abrDriveMode:1,algoArg:{bbaControl:!0,highLevel:15,lowLevel:5}};if(null===(t=(0,c.G)(u.SessionStorageKeys.manualSwitch))||void 0===t?void 0:t.gearType)return{};let s=(null==r?void 0:null===(n=r.video)||void 0===n?void 0:n.duration)>=24e4?Object.assign({},a,null==o?void 0:o.abrConfig):a;return(null==s?void 0:null===(i=s.algoArg)||void 0===i?void 0:i.screen_factor)>0&&window.devicePixelRatio>1&&(s.algoArg.screen_factor=-1),s},S=e=>{var t,n,i,r,l,a;let{abtestData:u,awemeInfo:d}=e,c=b(u),f=(0,o._)({minBufferLength:5,maxBufferLength:50,defaultFormat:"dash",dashOpts:{},smallGapLimit:1,playInfoType:"FEED",disableBufferBreakCheck:!1,waitingTimeOut:5e3,tickInSeconds:.2,needAutoBitrate:!0,disableCanplayCheck:!1,loadFirstGopData:!1,useGopCacheAcc:!0,autoBitrateOpts:C({abtestData:u,awemeInfo:d})},(0,h.g)({abTestData:u,isDash:!0}),c),v=(0,p.hG)({abtestData:u});return(null==c?void 0:c.dashAdaptRangeConfig1TO3)&&(null==d?void 0:null===(t=d.video)||void 0===t?void 0:t.duration)<24e4&&(null==d?void 0:null===(n=d.video)||void 0===n?void 0:n.duration)>6e4?v=null==c?void 0:c.dashAdaptRangeConfig1TO3:(null==c?void 0:c.dashAdaptRangeConfig)&&(v=null==c?void 0:c.dashAdaptRangeConfig),(null==u?void 0:null===(i=u.dashConfigServer)||void 0===i?void 0:i.dashAdaptRangeConfigWeb)&&!(0,s.DT)()?v=null==u?void 0:null===(l=u.dashConfigServer)||void 0===l?void 0:l.dashAdaptRangeConfigWeb:(null==u?void 0:null===(r=u.dashConfigServer)||void 0===r?void 0:r.dashAdaptRangeConfigClient)&&(0,s.DT)()&&(v=null==u?void 0:null===(a=u.dashConfigServer)||void 0===a?void 0:a.dashAdaptRangeConfigClient),Object.assign({},f,Object.assign({},(null==c?void 0:c.openAdaptRange)?v:{}))},I=e=>{var t,n,o,l,a,d;let{abtestData:c,awemeInfo:_}=e;if((0,f.O)())return!1;if(!(0,v.Ko)()&&((null==c?void 0:null===(o=c.useH264Dash)||void 0===o?void 0:o.enable)!==!0||(null==c?void 0:null===(l=c.useH264Dash)||void 0===l?void 0:l.pathname)&&!1===location.pathname.includes(c.useH264Dash.pathname))||!(0,s.DT)()&&!(null===(t=(0,m.$o)(u.LocalStorageKeys.IsSupportHevc))||void 0===t?void 0:t.pure_support)&&((null==c?void 0:null===(a=c.useH264Dash)||void 0===a?void 0:a.enable)!==!0||(null==c?void 0:null===(d=c.useH264Dash)||void 0===d?void 0:d.pathname)&&!1===location.pathname.includes(c.useH264Dash.pathname)))return!1;let h=b(c),p=(null==h?void 0:h.videoDuration)||24e4;return void 0===i&&(i=r.default.encryptUtils.isSupported(),g.Q.setItem(u.CookieKeys.isDashUser,i?1:0)),!!i&&(null==h?!!void 0:!!h.open)&&!!((null==_?void 0:null===(n=_.video)||void 0===n?void 0:n.duration)>=p)&&!(0,w.Ni)(_)||!1},k=e=>{var t,n,i,o,l,u,s;let{config:d,awemeInfo:c,abtestData:f}=e;if(null==d?void 0:null===(n=d.definition)||void 0===n?void 0:null===(t=n.list)||void 0===t?void 0:t.find(e=>(null==e?void 0:e.vtype)===a.l0.DASH)){try{if((null==d?void 0:null===(o=d.DASHPlugin)||void 0===o?void 0:null===(i=o.autoBitrateOpts)||void 0===i?void 0:i.isOpenAutoDefi)&&c&&(null==f?void 0:null===(l=f.abrConfig)||void 0===l?void 0:l.allowExtra)){let e=null===(s=(0,y.QF)({awemeInfo:c,abtestData:f,disableBitRateFilter:!0}))||void 0===s?void 0:null===(u=s.definition)||void 0===u?void 0:u.list,t=null==e?void 0:e.filter(e=>1!==e.manualOnly),n=null==t?void 0:t.filter(e=>(null==e?void 0:e.vtype)===a.l0.DASH),i=(0,_.tp)(n,f,c,"h265");d.definition.extraList=i}}catch(e){}d.plugins=[...d.plugins,r.default]}}},903220:function(e,t,n){n.d(t,{QF:function(){return M}});var i=n(520739);n(250440),n(874386),n(413806),n(826893),n(268917),n(429532);var o=n(567754),r=n(613378),l=n(44216),a=n(734123),u=n(907831),s=n.n(u),d=n(987475),c=n(832052),f=n(472474),v=n(725887),m=n(679584),g=n(815389),_=n(47047),h=n(437285),p=n(113925),w=n(993207),y=n(954844),b=n(812715),C=n(361678),S=n(278003),I=n(739444),k=n(718028);let x=["normal_1440_0","normal_1080_0","normal_720_0","normal_540_0","normal_480_0","normal_360_0","lower_540_0"],L=["low_1080_0","low_720_0","low_540_0","low_480_0","low_360_0","adapt_low_540_0"],T=(e,t)=>{var n,i,o;let r=null==e?void 0:null===(n=e.filter)||void 0===n?void 0:n.call(e,e=>0===e.isH265),l=null==r?void 0:null===(i=r.filter)||void 0===i?void 0:i.call(r,e=>x.some(t=>e.gearName.includes(t))),a=(null==l?void 0:l.length)>0?l:r,u=null==r?void 0:null===(o=r.filter)||void 0===o?void 0:o.call(r,e=>L.some(t=>e.gearName.includes(t)));if(u&&u.length>0){let e=null==a?void 0:a.filter(e=>e.gearName.includes("normal_1080_0"));e.length>0&&(u=e.concat(u))}return(null==u?void 0:u.length)>0?u:a},D=e=>{let{mixVtypeList:t,awemeInfo:n,abtestData:i,enableSr:o,userselection:l}=e,a=Array.from(new Set(null==t?void 0:t.map(e=>e.vtype)));if((null==a?void 0:a.length)>1){var u;let e=window.playerPreloader,a=null==e?void 0:e.getPreloadMetaByVid(null==n?void 0:n.awemeId),s=(0,I.s)({abtestData:i,enableSr:o,awemeInfo:n}),d=(null==a?void 0:a.vtype)||(null===(u=r.Z.getSuitableBitrate(t,l,s,0))||void 0===u?void 0:u.vtype),c=t.filter(e=>(null==e?void 0:e.vtype)===d)||[];return{vtype:d,pureVtypeList:c}}return{vtype:a[0],pureVtypeList:t}},N=()=>a.Sniffer.isHdrSupported()&&(0,f._u)(),P=e=>e===l.l0.DASH,E="",A=e=>{var t;let{url:n="",target:r}=e;if((null===(t=v.Le.getConfig(v.gI.AbtestData))||void 0===t?void 0:t.useCache)===1)return n.includes("/aweme/v1/play")&&n.includes("?")?(!E&&(E=(0,o.stringify)((0,m.F)({}))),`${n}&target=${r}&${E}`):n;let l=n,[a,u]=n.split("?");try{if(n.includes("/aweme/v1/play")&&u){let e=(0,o.parse)(u);l=`${a}?${(0,o.stringify)((0,i._)({},e,(0,m.F)({target:r})))}`}}catch(e){}return l},R={},M=e=>{var t,n,r,l,a,u,f,m,I,x,L,E,M,O,F,U,j,B,W,H,V,G,K,Z,q,z,Y,J,X,Q,$,ee,et,en,ei,eo,er,el,ea,eu,es,ed,ec,ef,ev,em,eg,e_,eh,ep,ew,ey,eb,eC,eS,eI,ek,ex,eL,eT,eD,eN;let eP;let{awemeInfo:eE,abtestData:eA,filter264InMix:eR=!1,enableSr:eM,enableDash:eO=!0,disableBitRateFilter:eF=!1,enableCodecMix:eU=!1,codecMixType:ej,forceUserSelect:eB}=e,eW=null===(t=(0,g.G)(d.SessionStorageKeys.manualSwitch))||void 0===t?void 0:t.gearType,eH=s()(eE);if((null===(n=v.Le.getConfig(v.gI.AbtestData))||void 0===n?void 0:n.longtask)===2&&R[null==eH?void 0:eH.awemeId]&&(null===(r=R[null==eH?void 0:eH.awemeId])||void 0===r?void 0:r.userselection)===eW&&(null===(l=R[null==eH?void 0:eH.awemeId])||void 0===l?void 0:l.enableSr)===eM&&(null===(a=R[null==eH?void 0:eH.awemeId])||void 0===a?void 0:a.enableDash)===eO&&(null===(u=R[null==eH?void 0:eH.awemeId])||void 0===u?void 0:u.disableBitRateFilter)===eF)return null===($=R[null==eH?void 0:eH.awemeId])||void 0===$?void 0:$.result;(null===(f=v.Le.getConfig(v.gI.RefetchAwemeInfo))||void 0===f?void 0:f[null==eE?void 0:eE.awemeId])&&(eH=s()(v.Le.getConfig(v.gI.RefetchAwemeInfo)[null==eE?void 0:eE.awemeId]));let{video:eV}=eH||{},{bitRateList:eG=[],bitRateAudioList:eK=[]}=eV||{},eZ=null==eH?void 0:null===(m=eH.video)||void 0===m?void 0:m.playAddr,eq=eW||eF,ez=[],eY=eG.filter(e=>1!==e.manualOnly);if((null==eA?void 0:eA.manualFilter)&&(eY=eW||eF?eG:eG.filter(e=>1!==e.manualOnly)),(0,k.P)({list:ez,name:"manual",before:eG,after:eY,disable:eq}),eY=eY.filter(e=>!e.HDRBit),(null==eA?void 0:eA.hasHDR)===1&&N()&&(eW||eF)||(null==eA?void 0:eA.hasHDR)===2&&N()){let e=eG.filter(e=>72===e.qualityType&&e.HDRBit);e.length>0&&(eY=eY.concat(e))}let eJ=[];if(Array.isArray(eZ)&&(eJ=eZ.map(e=>({src:A({url:e.src,target:null==eH?void 0:eH.awemeId})}))),null==eH?void 0:null===(I=eH.video)||void 0===I?void 0:I.playApi){let e={src:A({url:null==eH?void 0:null===(ee=eH.video)||void 0===ee?void 0:ee.playApi,target:null==eH?void 0:eH.awemeId})};eJ=[...eJ,e],eP={src:`${e.src}&downgrade_264=1`}}let eX=eO&&(0,p.yf)({abtestData:eA,awemeInfo:eH}),eQ=(0,w.r7)(T(eY,eA),eA,eH,"h264",eW,eX&&(null==eA?void 0:null===(x=eA.useH264Dash)||void 0===x?void 0:x.enable),eF,ez),e$={},e0={};if((0,y.w)({awemeInfo:eH,bitRateList:eY,abtestData:eA})){ez=ez.filter(e=>!e.name.includes("h264")),(0,k.P)({list:ez,name:"h265_filter",before:eY,after:null==eY?void 0:eY.filter(e=>1===e.isH265),disable:eq});let e=(0,w.r7)(null==eY?void 0:eY.filter(e=>1===e.isH265),eA,eH,"h265",eW,eX,eF,ez);(0,k.P)({list:ez,name:"h265_overall_filter",before:null==eY?void 0:eY.filter(e=>1===e.isH265),after:e,disable:eq}),(null==eH?void 0:null===(et=eH.video)||void 0===et?void 0:et.playApiH265)&&(eJ=[...eH.video.playAddrH265,{src:null==eH?void 0:null===(eo=eH.video)||void 0===eo?void 0:eo.playApiH265}]);let t=(0,b.W)(eA);if(t.isBan1080){e=e.filter(e=>1!==e.definition);let t=eQ.find(e=>1===e.definition);t&&e.push(t)}if(t.isBan720){e=e.filter(e=>2!==e.definition);let t=eQ.find(e=>2===e.definition);t&&e.push(t)}let{vtype:n,pureVtypeList:i}=D({mixVtypeList:e,awemeInfo:eH,abtestData:eA,enableSr:eM,userselection:eW});(0,k.P)({list:ez,name:"h265_concat_pure",before:e,after:i,disable:eq}),e=[...i],!eR&&!P(n)&&(null==e||e.map(e=>(Array.isArray(e.url)&&eP&&e.url.push(eP),e))),Object.assign(e$,{defaultDefinition:(null==e?void 0:null===(en=e[0])||void 0===en?void 0:en.definition)||-1,defaultBitrate:(null==e?void 0:null===(ei=e[0])||void 0===ei?void 0:ei.bitrate)||"",codecType:"h265",definition:{list:(null==eH?void 0:eH.awemeType)===c.e.Note?[]:e}})}else if((0,y.if)({awemeInfo:eH,abtestData:eA})){let e=(0,w.r7)(null==eY?void 0:eY.filter(e=>1===e.isH265),eA,eH,"h265",eW,!1,eF,ez);(null==eH?void 0:null===(er=eH.video)||void 0===er?void 0:er.playApiH265)&&(eJ=[...eH.video.playAddrH265,{src:null==eH?void 0:null===(eu=eH.video)||void 0===eu?void 0:eu.playApiH265}]),Object.assign(e$,{H264DefinitionList:eQ,codecType:"h265",mediaType:"xg-video",defaultDefinition:(null==e?void 0:null===(el=e[0])||void 0===el?void 0:el.definition)||-1,defaultBitrate:(null==e?void 0:null===(ea=e[0])||void 0===ea?void 0:ea.bitrate)||"",definition:{list:(null==eH?void 0:eH.awemeType)===c.e.Note?[]:e},initCodecType:"h265soft"})}else if((0,C.K)({awemeInfo:eH,abtestData:eA})){let e;ez=ez.filter(e=>!e.name.includes("h264")),(0,k.P)({list:ez,name:"h266_filter",before:eY,after:null==eY?void 0:eY.filter(e=>2===e.isH265),disable:eq});let t=(0,w.r7)(null==eY?void 0:eY.filter(e=>2===e.isH265),eA,eH,"h266",eW,eX,eF,ez);(0,k.P)({list:ez,name:"h266_overall_filter",before:null==eY?void 0:eY.filter(e=>2===e.isH265),after:t,disable:eq});let n=(null===(es=navigator)||void 0===es?void 0:es.hardwareConcurrency)<=8,i=(0,_.fR)()&&(eW||eF),o=(null==eA?void 0:null===(ed=eA.BitrateSelector)||void 0===ed?void 0:ed.mode)==="bandwidth-buffer",r=null==eA?void 0:null===(ec=eA.BitrateSelector)||void 0===ec?void 0:ec.fix_concat;if(n||i||o){let n=(0,w.r7)(null==eY?void 0:eY.filter(e=>1===e.isH265),eA,eH,"h265",eW,eX,eF,ez),i=o&&(null==r?void 0:r.fix_h266_1080_mode)!==1,l=o&&(null==r?void 0:r.fix_h266_2k4k_mode)!==1,a=o&&(null==r?void 0:r.fix_h266_2k4k_mode)!==1,u=!i&&n.find(e=>[2,3,4,5,8].includes(e.qualityType)),s=!l&&n.find(e=>e.gearName.includes("adapt_lowest_1440_1")),d=!l&&n.find(e=>e.gearName.includes("adapt_lower_1440_1")),c=!l&&n.find(e=>e.gearName.includes("adapt_lowest_4_1")),f=!l&&n.find(e=>e.gearName.includes("adapt_lower_4_1")),v=!a&&n.find(e=>e.gearName.includes("adapt_lowest_hdr_4_1"));if(u||s||c||v){let n=[...t,u,s,d,c,f,v].filter(e=>e);(0,k.P)({list:ez,name:"h266_concat_mix",before:t,after:n,disable:eq});let i=D({mixVtypeList:n,awemeInfo:eH,abtestData:eA,enableSr:eM,userselection:eW});(0,k.P)({list:ez,name:"h266_concat_pure",before:n,after:null==i?void 0:i.pureVtypeList,disable:eq}),e=null==i?void 0:i.vtype,t=null==i?void 0:i.pureVtypeList}}if(!eR&&!P(e)){let e={h264:"",h265:""};if(null==eH?void 0:null===(em=eH.video)||void 0===em?void 0:em.playApiH265){let t=A({url:null==eH?void 0:null===(e_=eH.video)||void 0===e_?void 0:e_.playApiH265,target:null==eH?void 0:eH.awemeId});e.h265=`${t}&is_h265=1`}if(null==eH?void 0:null===(eg=eH.video)||void 0===eg?void 0:eg.playApi){let t=A({url:null==eH?void 0:null===(eh=eH.video)||void 0===eh?void 0:eh.playApi,target:null==eH?void 0:eH.awemeId});e.h264=`${t}&is_h264=1`}null==t||t.map(t=>(Array.isArray(t.url)&&(e.h265&&t.url.push({src:e.h265}),e.h264&&t.url.push({src:e.h264})),t))}Object.assign(e0,{H264DefinitionList:eQ,codecType:"h266",mediaType:"video",defaultDefinition:(null==t?void 0:null===(ef=t[0])||void 0===ef?void 0:ef.definition)||-1,defaultBitrate:(null==t?void 0:null===(ev=t[0])||void 0===ev?void 0:ev.bitrate)||"",definition:{list:(null==eH?void 0:eH.awemeType)===c.e.Note?[]:t}})}else if((0,y.On)({awemeInfo:eH})){ez=ez.filter(e=>!e.name.includes("h264")),(0,k.P)({list:ez,name:"h265_filter",before:eY,after:null==eY?void 0:eY.filter(e=>1===e.isH265),disable:eq});let e=(0,w.r7)(null==eY?void 0:eY.filter(e=>1===e.isH265),eA,eH,"h265",eW,eX,eF,ez);(0,k.P)({list:ez,name:"h265_overall_filter",before:null==eY?void 0:eY.filter(e=>1===e.isH265),after:e,disable:eq});let{vtype:t,pureVtypeList:n}=D({mixVtypeList:e,awemeInfo:eH,abtestData:eA,enableSr:eM,userselection:eW});(0,k.P)({list:ez,name:"h265_concat_pure",before:e,after:n,disable:eq}),e=[...n],!eR&&!P(t)&&(null==e||e.map(e=>(Array.isArray(e.url)&&eP&&e.url.push(eP),e))),Object.assign(e$,{H264DefinitionList:eQ,codecType:"h265",mediaType:"video",defaultDefinition:(null==e?void 0:null===(ep=e[0])||void 0===ep?void 0:ep.definition)||-1,defaultBitrate:(null==e?void 0:null===(ew=e[0])||void 0===ew?void 0:ew.bitrate)||"",definition:{list:(null==eH?void 0:eH.awemeType)===c.e.Note?[]:e}})}let e1=eF?{}:(0,S.E)({awemeInfo:eH,H264List:eQ,H265List:null==e$?void 0:null===(L=e$.definition)||void 0===L?void 0:L.list,H266List:null==e0?void 0:null===(E=e0.definition)||void 0===E?void 0:E.list,abtestData:eA,userselection:eW});(0,k.P)({list:ez,name:"over_gear",before:null!==(eb=null!==(ey=null==e0?void 0:null===(M=e0.definition)||void 0===M?void 0:M.list)&&void 0!==ey?ey:null==e$?void 0:null===(O=e$.definition)||void 0===O?void 0:O.list)&&void 0!==eb?eb:eQ,after:null!==(eC=null==e1?void 0:null===(F=e1.definition)||void 0===F?void 0:F.list)&&void 0!==eC?eC:[],disable:eq});let e2=(0,i._)({poster:null==eH?void 0:null===(U=eH.video)||void 0===U?void 0:U.cover,size:(null==eH?void 0:null===(j=eH.video)||void 0===j?void 0:j.dataSize)||0,uri:null==eH?void 0:null===(B=eH.video)||void 0===B?void 0:B.uri,vid:null==eH?void 0:eH.awemeId,authorId:null==eH?void 0:null===(W=eH.authorInfo)||void 0===W?void 0:W.uid,videoWidth:null==eH?void 0:null===(H=eH.video)||void 0===H?void 0:H.width,videHeight:null==eH?void 0:null===(V=eH.video)||void 0===V?void 0:V.height,defaultDefinition:(null==eQ?void 0:null===(G=eQ[0])||void 0===G?void 0:G.definition)||-1,defaultBitrate:(null==eQ?void 0:null===(K=eQ[0])||void 0===K?void 0:K.bitrate)||"",duration:(null==eH?void 0:null===(Z=eH.video)||void 0===Z?void 0:Z.duration)/1e3||0,vtype:(null==eH?void 0:eH.awemeType)===c.e.Note?"MP3":"MP4",bizType:(null==eH?void 0:eH.isAds)?1:0,definition:{list:eQ},awemeType:null==eH?void 0:eH.awemeType,bitrate:Math.floor((null==eH?void 0:null===(q=eH.video)||void 0===q?void 0:q.dataSize)*8/((null==eH?void 0:null===(z=eH.video)||void 0===z?void 0:z.duration)/1e3))||0,userSelectDefinition:eB?1:eW,codecType:"h264",mediaType:"video",focusUserDefinition:!0,DASHPlugin:(0,p.qs)({abtestData:eA,awemeInfo:eH}),url:eJ,downgradeUrl:(null==eA?void 0:null===(Y=eA.dashConfig)||void 0===Y?void 0:Y.downgrade)&&eP?[...eJ,eP]:eJ,videoUrl:eJ},e$,e0,e1);if(eU){let e;e=1===ej?function(e,t,n,i,o){let r=new Map,l=e,a=[t,n,i,o];for(let e of(a.forEach(e=>{if(e&&e.length){var t;l=null==e?void 0:null===(t=e[0])||void 0===t?void 0:t.vtype}}),a))for(let t of e)t.vtype===l&&r.set(t.definition,t);return Array.from(r.values())}(null==e2?void 0:e2.vtype,eQ||[],(null==e$?void 0:null===(ek=e$.definition)||void 0===ek?void 0:ek.list)||[],(null==e0?void 0:null===(ex=e0.definition)||void 0===ex?void 0:ex.list)||[],(null==e1?void 0:null===(eL=e1.definition)||void 0===eL?void 0:eL.list)||[]):function(e,t,n,i,o,r){let l=new Map,a=e,u=[t,n,i,o];for(let e of(u.forEach(e=>{if(e&&e.length){var t;a=null==e?void 0:null===(t=e[0])||void 0===t?void 0:t.vtype}}),u))for(let t of e)t.vtype===a&&(t.codecType!==r&&(t.isBackup=!0),l.set(t.definition,t));return Array.from(l.values())}(null==e2?void 0:e2.vtype,eQ||[],(null==e$?void 0:null===(eT=e$.definition)||void 0===eT?void 0:eT.list)||[],(null==e0?void 0:null===(eD=e0.definition)||void 0===eD?void 0:eD.list)||[],(null==e1?void 0:null===(eN=e1.definition)||void 0===eN?void 0:eN.list)||[],null==e2?void 0:e2.codec),e2.definition.list=e,e2.defaultDefinition=(null==e?void 0:null===(eS=e[0])||void 0===eS?void 0:eS.definition)||-1,e2.defaultBitrate=(null==e?void 0:null===(eI=e[0])||void 0===eI?void 0:eI.bitrate)||""}let e4=null==e2?void 0:null===(J=e2.definition)||void 0===J?void 0:J.list;if(null==e4?void 0:null===(X=e4.find)||void 0===X?void 0:X.call(e4,e=>P(null==e?void 0:e.vtype))){let e=(0,w.dd)({audioList:eK,abtestData:eA});e2.definition.list=[...e4||[],...e||[]]}e2.recordList=ez;let e8=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach(e=>{if(window.temptimessr){let{query:t}=(0,o.parseUrl)(e.src);t.is_ssr&&window.temptimessr&&!t.temp&&(e.src=(0,o.stringifyUrl)({url:e.src,query:{temp:1}}))}if(e.src.includes("/aweme/v1/play")&&!e.src.includes("uifid=")){var t;let n=(0,h.n)(),i=(0,h.r)();e.src=(0,o.stringifyUrl)({url:e.src,query:{uifid:null!==(t=null!=n?n:i)&&void 0!==t?t:"unknow"}})}})};return e2.url&&e8(e2.url),e2.downgradeUrl&&e8(e2.downgradeUrl),(null===(Q=e2.definition)||void 0===Q?void 0:Q.list)&&e2.definition.list.forEach(e=>{e8(null==e?void 0:e.url)}),e2.H264DefinitionList&&e2.H264DefinitionList.forEach(e=>{e8(null==e?void 0:e.url)}),R[null==eH?void 0:eH.awemeId]={userselection:eW,enableSr:eM,enableDash:eO,disableBitRateFilter:eF,result:e2},e2}},452695:function(e,t,n){n.d(t,{J:function(){return d},c:function(){return c}});var i=n(520739),o=n(847191),r=n(725887),l=n(565024),a=n(987475),u=n(749959);let s=!0,d=e=>{var t,n,i,d,f,v,m;let g=(null!==(i=(0,o.$o)(a.LocalStorageKeys.PLAYER_IS_MUTE))&&void 0!==i?i:0)===1,_=null!==(d=(0,o.$o)(a.LocalStorageKeys.PLAYER_VOLUME))&&void 0!==d?d:.5,h=r.Le.getConfig(r.gI.InitStartVolume),p=(null==e?void 0:null===(t=e.startPlayDefaultVolume)||void 0===t?void 0:t.isOpen)||(null==e?void 0:null===(n=e.startPlayDefaultVolumeGradient)||void 0===n?void 0:n.isOpen),w=l.Q.getItem({sKey:a.CookieKeys.VolumeInfo})||{};return(!w.isMute||w.isMute&&w.isUserMute)&&(!p&&(_=null!==(f=w.volume)&&void 0!==f?f:_),g=null!==(v=w.isMute)&&void 0!==v?v:g),s&&(s=!1),p&&!h&&((!w.isMute||w.isMute&&w.isUserMute)&&(_=null!==(m=w.volume)&&void 0!==m?m:_),(0,u.F)(()=>{r.Le.setConfig(r.gI.InitStartVolume,!0),_=(0,u.m)({abtestData:e,volume:_}),(0,o.qQ)(a.LocalStorageKeys.PLAYER_VOLUME,_)}),c({volume:_})),{volume:_<0?.5:_,autoplayMuted:g}},c=e=>{let t=l.Q.getItem({sKey:a.CookieKeys.VolumeInfo});l.Q.setItem(a.CookieKeys.VolumeInfo,(0,i._)({},t,e),1/0)}},142377:function(e,t,n){n.d(t,{S:function(){return u},y:function(){return d}}),n(874386),n(268917),n(779788),n(675373);var i=n(63405),o=n(128231),r=n.n(o);let l={imConv:[],imConvReady:!1,notice:{unreadCount:0,latestTime:0},noticeReady:!1};async function a(){if(!(l.imConvReady&&l.noticeReady))return;let e={message:function(){let e=[...l.imConv];if(l.notice.unreadCount>0){let t=e.findIndex(e=>e.last_message_time<l.notice.latestTime),n={conversation_name:"互动消息",conversation_id:"-1",last_message_time:l.notice.latestTime,last_message_id:"",avatar_url:"",unread_count:l.notice.unreadCount,type:s,open_url:"sslocal://notice_list",is_stick_on_top:!1};-1===t?e.push(n):e.splice(t,0,n)}return e}()};return await i.invoke("SET_APP_CONFIG_ITEM",{data:{key:"ImConvUnreadData",value:JSON.stringify(e)}})}let u=r()(async e=>{let{message:t=[]}=e;return l.imConv=t,l.imConvReady=!0,a()},500),s=-1,d=r()(async e=>{let{unreadCount:t,latestTime:n}=e;return l.notice={unreadCount:t,latestTime:n},l.noticeReady=!0,a()},500)},128487:function(e,t,n){n.r(t),n.d(t,{ALBUMTYPE_MAP:function(){return E.H},Ai2MainMethod:function(){return H.lA},AiCardName:function(){return H.Tc},AiCardPublishEvent:function(){return H.Ki},AiSearcMountElement:function(){return H.NL},AiSearchFrom:function(){return H.jE},AiSearchHandler:function(){return H.t2},AiSearchScene:function(){return H.HL},AiSearchState:function(){return H.vX},ComponentName:function(){return I.y},DiscoverRelatedRecommendKey:function(){return N.BW},HideAnimationIfNotSupportGpu:function(){return j.z},ICON_BACKGROUND_SIZE:function(){return M.Dw},ISLAND:function(){return U.k},KeyCode:function(){return w.V},KeywordType:function(){return S.F},LINEAR_SPIRIT_SIZE:function(){return M.U2},LIVE_MODAL_ENTER_METHOD:function(){return A.a},LynxPageList:function(){return g.k6},MIX_TYPE:function(){return O.$},MOUSEENTER_HOVER_DELAY:function(){return B.o},Main2AiMethod:function(){return H.SD},NCEE:function(){return R},ONE_DAY:function(){return D.s2},ONE_HOUR:function(){return D.dV},ONE_MINUTE:function(){return D.yR},PAID_LIVE_TYPE:function(){return F.xc},PAID_LIVE_VIEW_TYPE:function(){return F.ku},PING_TYPE:function(){return F.JX},PaidLiveLogEntry:function(){return F.Wl},PaidLiveLogToast:function(){return F.PD},RET_TYPE:function(){return F.Pf},RefreshForNotUseConstants:function(){return V},RelatedRecommendFailKey:function(){return N.IU},RelatedRecommendSuccessV1Key:function(){return N.MD},RelatedRecommendSuccessV2Key:function(){return N.U_},SUPPORT_LISTENVIDEO_MODAL:function(){return G.D},USER_PAGE_THREE_COLUMN_WIDTH:function(){return W.I},VIEW_RIGHT:function(){return F.U2},WATCH_TYPE:function(){return F.Zj},WriteImpressionScene:function(){return P.t},ad:function(){return x},channel:function(){return a},clientHorizontalTagPageReg:function(){return g.JO},creator:function(){return m},disableAutoLoginPromptReg:function(){return g.g9},disableSiderBarReg:function(){return g.p4},domain:function(){return s},errorCode:function(){return r},horizontalTagPageReg:function(){return g.jZ},link:function(){return L},live:function(){return h},loginGuideAwemeId:function(){return b.X},mainEvent:function(){return y.Z},monitor:function(){return C},newIconConfList:function(){return M.F4},notHomeSideNavigationPageReg:function(){return g.PH},ocpcReportReg:function(){return g.sN},pageNameMap:function(){return g.lp},queryParam:function(){return p},seoConstant:function(){return k},serviceParam:function(){return o},shortcut:function(){return _},statusMsg:function(){return c},storage:function(){return u},styles:function(){return l},teamNames:function(){return T.r},url:function(){return d},user:function(){return v},video:function(){return f},webapp:function(){return i}});var i=n(596161),o=n(576660),r=n(597087),l=n(953452),a=n(604396),u=n(987475),s=n(945388),d=n(248434),c=n(902498),f=n(362666),v=n(326795),m=n(357162),g=n(164048),_=n(53659),h=n(952944),p=n(15793),w=n(422643),y=n(910619),b=n(198582),C=n(525761),S=n(66864),I=n(931974),k=n(552771),x=n(590682),L=n(441173),T=n(198063),D=n(295335),N=n(134585),P=n(3254),E=n(163458),A=n(923088),R=n(162936),M=n(983444),O=n(887519),F=n(618360),U=n(518951),j=n(92754),B=n(749753),W=n(896117),H=n(13554),V=n(860524),G=n(796826)},66864:function(e,t,n){n.d(t,{F:function(){return i}});var i={Default:0,0:"Default",Hot:2,2:"Hot",Search:1,1:"Search",PublicOpinion:3,3:"PublicOpinion",DouyinHot:4,4:"DouyinHot","5118Opportunity":5,5:"5118Opportunity","5118Booming":6,6:"5118Booming",WeiboHotWord:14,14:"WeiboHotWord",SogouHotWord:15,15:"SogouHotWord",Hot360Word:16,16:"Hot360Word",UcHotWord:17,17:"UcHotWord",HotMoviesWord:30,30:"HotMoviesWord",ExpandWord:7,7:"ExpandWord"}},390694:function(e,t,n){n.d(t,{y:function(){return i}});let i="7054127600716844325"},910619:function(e,t){t.Z=["video_cover_show","video_cover_click","video_play","video_play_finish","play_time","video_play_check_point","like","click_comment_button","share_video","follow","enter_personal_detail","dislike","click_next_video","click_previous_video","click_author_head"]},608170:function(e,t,n){n.d(t,{X:function(){return i}});var i={video_type_live:"video_type_live",video_type_long:"video_type_long",video_type_ad:"video_type_ad",play_time:"play_time",video_time:"video_time",play_finish:"play_finish",like_cnt:"like_cnt",follow_cnt:"follow_cnt",share_cnt:"share_cnt",favorite_cnt:"favorite_cnt",download_cnt:"download_cnt",play_cnt:"play_cnt",comment_cnt:"comment_cnt"}},904489:function(e,t,n){n.d(t,{i:function(){return i},w:function(){return o}});var i={__video_portrait__:"__video_portrait__"},o={staytime:"r_1",skip:"r_2",play_complete:"r_3",finish:"r_4",comment:"r_6",pure_like:"r_7",dislike:"r_8",follow:"r_9",share:"r_10",head:"r_11"}},653645:function(e,t,n){n.d(t,{E:function(){return b}});var i=n(134761),o=n(520739),r=n(878389);n(675373),n(413806),n(826893),n(874386),n(268917),n(250440),n(779788),n(527785);var l=n(766619),a=n(220995),u=n(583761),s=n(57354),d=n(879146),c=n(457663),f=n(633364),v=n.n(f),m=n(595814),g=n.n(m),_=n(245651),h=n.n(_),p=n(557530),w=n(558575);let y=(0,c.fF)("Scene");class b extends d.EventEmitter{getMixFeatursMap(){return this.mixFeatursMap}initInferenceEngine(){if(this.enableInference)try{let e=null===w.EX||void 0===w.EX?void 0:w.EX[null===this||void 0===this?void 0:this.sceneName];if(!e)return Promise.resolve(void 0);return(0,c.Ug)({config:(0,r._)((0,o._)({},e),{modelUrl:this.modelUrl||(null==e?void 0:e.modelUrl)}),biz:this.Ebiz})}catch(e){}return Promise.resolve(void 0)}getCoverageScenes(){var e,t,n;return(null===this||void 0===this?void 0:null===(e=this.config)||void 0===e?void 0:e.enter_from)?null===(n=this.config)||void 0===n?void 0:null===(t=n.enter_from)||void 0===t?void 0:t.split("|"):[]}getCustomFeatureCollectors(){let e=[];return Object.entries((0,o._)({},this.predict,this.real)).forEach(t=>{let[n,i]=t,{enable:o,range:r}=i;o&&e.push(n)}),[...e,...this.customFeatureCollectors]}getCreateStorageReportNames(){return this.createStorageReportNames}getFeatureStorageManager(){return this.featureStorageManager}getCurrentFeatureCollectors(){return this.getFeaturesSorts(!0)}debuglogger(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];y(`${this.sceneName}:`,...t)}listener(e){var t,n;if(((null===(t=this.config)||void 0===t?void 0:t.enter_from)||"").includes(e.enterFrom)){let t=(0,o._)({[u.K0]:{id:e.id}},e.features);-1!==this.features.findIndex(t=>{var n;return(null==t?void 0:null===(n=t[u.K0])||void 0===n?void 0:n.id)===e.id})?this.features.splice(null===(n=this.features)||void 0===n?void 0:n.length,0,t):(this.features.push(t),this.checkReportThreshold())}}init(e){this.featureStorageManager=e,this.featureStorageManager.on(s.ED.featureStorageCollectorFinish,this.listener)}featuresReportFormat(e){let{mix:t={},common:n=[],inference:i=[]}=e||{};return(0,o._)({},t,(0,c.yW)(n),(0,c.yW)(i))}getFeatureStoragesNum(){var e;return null===(e=this.features)||void 0===e?void 0:e.length}getRealFeatureStoragesByEndIndex(e){let t=e-this.nextRealCnt;return this.features.slice(t,e)}getPredictFeatureStoragesByEndIndex(e){let t=e-this.range;return this.features.slice(t,e)}judgeReportRate(){return h()(0,1,!0)<this.reportRate}sendReport(e){if(this.enableInference||this.judgeReportRate())try{p.Z.sendLog("featureCollector",e),this.debuglogger(`第${this.sendDataCnt}次真值被采集:`,e)}catch(e){}else this.debuglogger(`第${this.sendDataCnt}次真值被过滤:`,e)}_sendData(e){if(!this.judgeReportRate()){this.debuglogger(`第${this.sendDataCnt+1}次真值被过滤:`,this.runCntMixFeaturesRecord[this.sendDataCnt]),delete this.runCntMixFeaturesRecord[this.sendDataCnt],this.sendDataCnt++;return}this.debuglogger(`第${this.sendDataCnt+1}次真值被采集:`,this.runCntMixFeaturesRecord[this.sendDataCnt]);let t=this.featuresReportFormat(this.runCntMixFeaturesRecord[this.sendDataCnt]),n=this.featuresReportFormat(this.getAllRealFeature(e)),i=this.featureStorageManager.getUserFeature();delete this.runCntMixFeaturesRecord[this.sendDataCnt],this.sendDataCnt++,this.debuglogger("predictData:",t,"realData:",n,"userData:",i),this.debuglogger(`第${this.sendDataCnt}次采集信息上报:`,{predict:t,real:n,user:i},"取值索引",e);let o={runCnt:this.runCnt,features:{predict:t,real:n,user:i}};this.emit(s.ED.reachRealRecordThreshold,o),c.ps.emit(s.ED.reachRealRecordThreshold,o);try{p.Z.sendLog("featureCollector",{real:JSON.stringify(n),predict:JSON.stringify(t),user:JSON.stringify(i),scene:this.config.scene,run_cnt:this.sendDataCnt,enter_from:this.config.enter_from})}catch(e){}return null}getfeatureStorages(e,t){return this.features.slice(e,t)}getNotInferenceFeatures(e){return Object.values(v()(e,u.yY.Inference)||{}).reduce((e,t)=>(0,o._)({},e,t),{})}getInferenceFeatures(e){return(null==e?void 0:e[u.yY.Inference])||{}}getAllPredictFeature(e){let t=this.getPredictFeatureStoragesByEndIndex(e);if(!(null==t?void 0:t.length))return{mix:{},common:[]};let n=this.getPredictFeatureStoragesByEndIndex(e).map(e=>this.getNotInferenceFeatures(e));return{mix:this.getMixFeatures(e),common:n}}getPartialFeature(e,t){return Object.values(g()(e,t)||[]).reduce((e,t)=>(0,o._)({},e,t),{})}getAllRealFeature(e){let t=this.getFeaturesSorts(!1),n=this.getRealFeatureStoragesByEndIndex(e);if(!(null==n?void 0:n.length))return{common:[],inference:[]};let i=n.map(e=>this.getPartialFeature(e,t));return{common:i,inference:n.map(e=>this.getInferenceFeatures(e))}}getFeaturesSorts(e){let t=[...this.customFeatureCollectors,u.K0];return Object.keys(e?this.predict:this.real).forEach(e=>{this.real[e].enable&&t.push(e)}),Array.from(new Set(t))}reachNextRealCnt(){return this.features.length>=this.nextRealCnt+this.range}reachPredictCnt(){return this.features.length>=this.range}reachClearCache(){return this.features.length>=this.nextRealCnt+this.range+1}getMixFeatures(e){let t=this.getPredictFeatureStoragesByEndIndex(e),n=this.featureStorageManager.getFeatureCollectors(),i={},r=this.getCurrentFeatureCollectors();return n.forEach(e=>{if(r.includes(e.featureCollectorType)){let n=t.map(t=>null==t?void 0:t[e.featureCollectorType]);i=(0,o._)({},i,e.mixFeatureCalcByOutSourceData(n))}}),i}inference(e){return Promise.resolve(null)}_recordPredict(e){this.runCntMixFeaturesRecord[this.runCnt]=this.getAllPredictFeature(e),this.debuglogger(`第${this.runCnt+1}次记录predict值:`,this.runCntMixFeaturesRecord[this.runCnt]);let t={runCnt:this.runCnt,features:{predict:this.featuresReportFormat(this.runCntMixFeaturesRecord[this.runCnt]),user:this.featureStorageManager.getUserFeature()}};this.emit(s.ED.reachPredictRecordThreshold,t),c.ps.emit(s.ED.reachPredictRecordThreshold,t),this.runCnt++}checkReportThreshold(){let e=this.features.length;this.reachPredictCnt()&&this._recordPredict(e),this.reachNextRealCnt()&&this._sendData(e),this.reachClearCache()&&this.features.shift()}destroy(){this.featureStorageManager=null,this.features=null,this.runCntMixFeaturesRecord=null,this.abTestData=null,this.customFeatureCollectors=null,this.createStorageReportNames=null}constructor(e){super(),(0,i._)(this,"runCntMixFeaturesRecord",{}),(0,i._)(this,"runCnt",0),(0,i._)(this,"sendDataCnt",0),(0,i._)(this,"enableInference",!1),(0,i._)(this,"nextRealCnt",0),(0,i._)(this,"abTestData",{}),(0,i._)(this,"createStorageReportNames",[a.H.video_request]),(0,i._)(this,"sceneName",l.P.BASE),(0,i._)(this,"reportRate",void 0),(0,i._)(this,"predict",void 0),(0,i._)(this,"real",void 0),(0,i._)(this,"range",void 0),(0,i._)(this,"config",void 0),(0,i._)(this,"featureStorageManager",void 0),(0,i._)(this,"customFeatureCollectors",[u.yY.User,u.yY.VideoPortrait]),(0,i._)(this,"features",[]),(0,i._)(this,"modelUrl",void 0),(0,i._)(this,"Ebiz",void 0),(0,i._)(this,"mixFeatursMap",[]),this.config=e;let{report_rate:t,next_real_cnt:n,range:o,abTestData:r,enableInference:s}=e;this.reportRate=t,this.enableInference=s,this.abTestData=r||{},this.nextRealCnt=n,this.range=o,this.predict=e.predict,this.real=e.real,this.listener=this.listener.bind(this)}}},558575:function(e,t,n){n.d(t,{EX:function(){return s},Jq:function(){return d},vS:function(){return c}});var i=n(608170),o=n(253896),r=n(904489),l=n(39906),a=n(666393),u=n(766619);let s={[u.P.HOME_PAGE_PRELOAD]:{scene:u.P.HOME_PAGE_PRELOAD,modelUrl:"https://p-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/model/home_preload.bytenn",inputs:["input_7"],outputs:["Identity"]},[u.P.BASE]:{scene:u.P.BASE,modelUrl:"",inputs:[],outputs:[]},[u.P.AUTHOR_CARD_PRELOAD]:{scene:u.P.AUTHOR_CARD_PRELOAD,modelUrl:"",onnxEnginConfig:{executionProviders:["webgpu","wasm"],graphOptimizationLevel:"all"},inputs:["input"],outputs:["logits"],engineType:u.f.ONNXWebRuntime}},d={homePreload:{predict:[i.X.play_time,i.X.like_cnt,i.X.follow_cnt,i.X.share_cnt,i.X.favorite_cnt,i.X.download_cnt,i.X.play_cnt,i.X.comment_cnt,o.z.hover_play_time,r.i.__video_portrait__],real:[o.z.video_cover_click]},authorCardPreload:{predict:[i.X.video_time,i.X.play_time,l.w.like,i.X.play_finish,a.R.post_comment_cnt,l.w.click_comment,l.w.follow,l.w.ex_follow,l.w.author_head,i.X.video_type_long,i.X.video_type_ad,i.X.like_cnt,i.X.like_cnt,i.X.share_cnt,i.X.comment_cnt,i.X.download_cnt,r.w.staytime,r.w.skip,r.w.play_complete,r.w.finish,r.w.comment,r.w.pure_like,r.w.dislike,r.w.follow,r.w.share,r.w.head],real:[l.w.author_head]}};var c={fail:0,0:"fail",success:1,1:"success",notWork:2,2:"notWork"}},483801:function(e,t,n){n.d(t,{S7:function(){return a},ad:function(){return u},qi:function(){return l}}),n(250440);var i=n(987475),o=n(565024);let r="",l=e=>r=e,a=()=>{r&&o.Q.setItem(i.CookieKeys.feedbackTask,r)},u=e=>{var t;return(null!==(t=o.Q.getItem({sKey:i.CookieKeys.feedbackTask}))&&void 0!==t?t:"").includes(e)}},760710:function(e,t,n){n.d(t,{E:function(){return o}});var i=n(828782);let o=()=>{var e;let t=null===(e=navigator)||void 0===e?void 0:e.hardwareConcurrency;return t&&t<=3?{paramBf:.3,paramBp:.6,paramUpper:1.4,paramLower:.6,paramUpperBl:.5,paramVl1:.75,paramVl2:1,paramVlUpper:.9,paramVlLower:.7,bitrateUpper:2e6,bitrateLower:2e5,slidingWindowType:"by_weight",slidingWindowWeight:"size",slidingWindowWeightThreshold:2e7,slidingWindowCountThreshold:30,slidingWindowExtraction:"weighted_median",bitrateRange:[2e5,25e5],mode:"buffer-info",quality_filter:{},white_list:["normal_720_0","normal_540_0","lower_540_0","low_720_0","low_540_0","adapt_low_540_0","adapt_lowest_720_1","adapt_540_1","adapt_lower_540_1","adapt_lowest_720_2","adapt_540_2","adapt_lower_540_2","adapt_lowest_540_2"]}:t&&t<=7&&t>=4?{paramBf:.3,paramBp:.6,paramUpper:1.4,paramLower:.6,paramUpperBl:.5,paramVl1:.75,paramVl2:1,paramVlUpper:.9,paramVlLower:.7,bitrateUpper:2e6,bitrateLower:2e5,slidingWindowType:"by_weight",slidingWindowWeight:"size",slidingWindowWeightThreshold:2e7,slidingWindowCountThreshold:30,slidingWindowExtraction:"weighted_median",bitrateRange:[2e5,25e5],mode:"buffer-info",quality_filter:{normal_1080_0:{lower:0,upper:13e5},adapt_lowest_1080_1:{lower:0,upper:1e6}},white_list:["normal_1080_0","normal_720_0","normal_540_0","low_720_0","low_540_0","adapt_low_540_0","adapt_lowest_1080_1","adapt_lowest_720_1","adapt_540_1","adapt_lowest_720_2","adapt_540_2","adapt_lower_540_2","adapt_lowest_540_2"]}:t&&t>=8&&!(0,i.DT)()?{paramBf:.5,paramBp:.7,paramUpper:1.6,paramLower:.5,paramUpperBl:.4,paramVl1:1,paramVl2:.8,paramVlUpper:.9,paramVlLower:.5,bitrateUpper:2e6,bitrateLower:2e5,slidingWindowType:"by_weight",slidingWindowWeight:"size",slidingWindowWeightThreshold:2e7,slidingWindowCountThreshold:30,slidingWindowExtraction:"weighted_median",bitrateRange:[2e5,25e5],mode:"buffer-info",quality_filter:{normal_1080_0:{lower:0,upper:2e6},adapt_lowest_1080_1:{lower:0,upper:1e6},adapt_lowest_720_1:{lower:0,upper:12e5}},white_list:["normal_1080_0","normal_720_0","normal_540_0","low_720_0","low_540_0","adapt_low_540_0","adapt_lowest_1080_1","adapt_lowest_720_1","adapt_540_1"]}:t&&8===t&&(0,i.DT)()?{paramBf:.6,paramBp:.7,paramUpper:1.8,paramLower:.5,paramUpperBl:.4,paramVl1:.9,paramVl2:1,paramVlUpper:1,paramVlLower:.5,bitrateUpper:2e6,bitrateLower:2e5,slidingWindowType:"by_weight",slidingWindowWeight:"size",slidingWindowWeightThreshold:2e7,slidingWindowCountThreshold:30,slidingWindowExtraction:"weighted_median",bitrateRange:[2e5,25e5],mode:"buffer-info",quality_filter:{normal_1080_0:{lower:0,upper:2e6}},white_list:["normal_1080_0","normal_720_0","normal_540_0","low_720_0","low_540_0","adapt_low_540_0","adapt_lowest_1080_1","adapt_lowest_720_1","adapt_540_1","adapt_lowest_720_2","adapt_540_2","adapt_lower_540_2","adapt_lowest_540_2"]}:t&&t>8&&(0,i.DT)()?{paramBf:.6,paramBp:.7,paramUpper:1.5,paramLower:1.5,paramUpperBl:.4,paramVl1:1.5,paramVl2:1,paramVlUpper:1,paramVlLower:3,bitrateUpper:2e6,bitrateLower:2e5,slidingWindowType:"by_weight",slidingWindowWeight:"size",slidingWindowWeightThreshold:2e7,slidingWindowCountThreshold:30,slidingWindowExtraction:"weighted_median",bitrateRange:[2e5,3e6],mode:"buffer-info",quality_filter:{},white_list:["normal_1440_0","normal_1080_0","adapt_lowest_1080_1","adapt_lowest_720_2"]}:{paramBf:.3,paramBp:.6,paramUpper:1.4,paramLower:.6,paramUpperBl:.5,paramVl1:.75,paramVl2:1,paramVlUpper:.9,paramVlLower:.7,bitrateUpper:2e6,bitrateLower:2e5,slidingWindowType:"by_weight",slidingWindowWeight:"size",slidingWindowWeightThreshold:2e7,slidingWindowCountThreshold:30,slidingWindowExtraction:"weighted_median",bitrateRange:[2e5,25e5],mode:"buffer-info",quality_filter:{normal_1080_0:{lower:0,upper:13e5}},white_list:["normal_1080_0","normal_720_0","normal_540_0","low_720_0","low_540_0","adapt_low_540_0","adapt_lowest_1080_1","adapt_lowest_720_1","adapt_540_1"]}}},156070:function(e,t,n){var i=n(872136);t.Z=new i.h({followTabBadgeShow:{eventName:"follow_tab_badge_show",params:{badge:"",type:""}},followTabBadgeClick:{eventName:"follow_tab_badge_click",params:{badge:"",type:""}},clickFriendTab:{eventName:"click_friend_tab",params:{nt:0}},newVideoShow:{eventName:"new_video_show",params:{nt:0,tab_name:"friend"}},videoTabShow:{eventName:"video_tab_show",params:{enter_from:"",tab_name:"",is_red_dot:1}}})},250972:function(e,t,n){n.d(t,{V:function(){return a}}),n(338172);var i=n(852664),o=n(742740),r=n(983253),l=n(811796);let a=e=>{let{pageName:t}=e||{};(0,l.d)();let n=!1,a=!1,u=!1;{n=(0,i.G6)();let e=(0,o.yW)();a="video_detail"===e||"note_detail"===e,u="1"===(0,r.Rs)("is_from_aweme_search_engine")}return n&&u&&a}},756267:function(e,t,n){function i(e,t){return Object.prototype.toString.call(e)===`[object ${t}]`}n.d(t,{Y:function(){return o},d:function(){return i}}),n(927234);let o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=window.innerWidth,r=window.innerHeight;return{left:e<0?e:0,top:t<0?t:0,right:e+n>o?o-e-n:0,bottom:t+i>r?r-t-i:0}}},871350:function(e,t,n){n.d(t,{J:function(){return l}}),n(954372),n(826893),n(284961),n(209955);var i=n(299541),o=n.n(i);let r={"text/plain":"Text","text/html":"Url",default:"Text"};function l(e){let t,n,i,l,a,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=!1;u.debug;try{if(n=o()(),i=document.createRange(),l=document.getSelection(),(a=document.createElement("span")).textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(t){if(t.stopPropagation(),u.format){if(t.preventDefault(),void 0===t.clipboardData){window.clipboardData.clearData();let t=r[u.format]||r.default;window.clipboardData.setData(t,e)}else t.clipboardData.clearData(),t.clipboardData.setData(u.format,e)}u.onCopy&&(t.preventDefault(),u.onCopy(t.clipboardData))}),u.target?u.target.appendChild(a):document.body.appendChild(a),i.selectNodeContents(a),l.addRange(i),!document.execCommand("copy"))throw Error("copy command was unsuccessful");s=!0}catch(n){try{window.clipboardData.setData(u.format||"text",e),u.onCopy&&u.onCopy(window.clipboardData),s=!0}catch(n){t=function(e){let t=`${/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl"}+C`;return e.replace(/#{\s*key\s*}/g,t)}("message"in u?u.message:"Copy to clipboard: #{key}, Enter"),window.prompt(t,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(i):l.removeAllRanges()),a&&(u.target?u.target.removeChild(a):document.body.removeChild(a)),n()}return s}},802816:function(e,t,n){n.d(t,{S:function(){return i}});let i="object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}},3534:function(e,t,n){n.d(t,{w:function(){return r}});var i=n(134761),o=n(586979);let r=new class e{createFpsTask(e){this.fpsData[e]={}}calculateFpsBasedOnDuration(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,r=()=>{if(this.fpsData[e].frameCount+=1,performance.now()-this.fpsData[e].startTime>=i||this.fpsData[e].ended){this.fpsData[e].endTime=performance.now(),this.fpsData[e].duration=this.fpsData[e].endTime-this.fpsData[e].startTime,this.fpsData[e].fps=this.fpsData[e].frameCount/(this.fpsData[e].duration/1e3),o.i.sendLog("slidesFPS",{order:e,fps:this.fpsData[e].fps,duration:this.fpsData[e].duration,from:this.fpsData[e].from,to:this.fpsData[e].to});return}requestAnimationFrame(r)};this.fpsData[e]={frameCount:0,startTime:performance.now(),from:t,to:n},r()}calculateFpsBasedOnFrameCount(e,t){let n=()=>{if(this.fpsData[e].frameCount+=1,this.fpsData[e].frameCount>=t||this.fpsData[e].ended){this.fpsData[e].endTime=performance.now(),this.fpsData[e].duration=this.fpsData[e].endTime-this.fpsData[e].startTime,this.fpsData[e].fps=this.fpsData[e].frameCount/(this.fpsData[e].duration/1e3);return}requestAnimationFrame(n)};this.fpsData[e]={frameCount:0,startTime:performance.now()},n()}stop(e){this.fpsData[e].ended=!0}constructor(){(0,i._)(this,"fpsData",void 0),this.fpsData={}}}},110866:function(e,t,n){n.d(t,{n:function(){return o}});var i=n(983253);function o(){return"oversea_share_link"===(0,i.Rs)("previous_page")}},765595:function(e,t,n){n.d(t,{U:function(){return l}}),n(954372),n(826893),n(250440);var i=n(567754),o=n(449536),r=n(983253);function l(e){let t=[],n=!1,l="";if(e&&Array.isArray(e))t=e;else if(e&&"object"==typeof e){var a,u,s;t=null!==(a=e.passParamKeys)&&void 0!==a?a:[],n=null!==(u=e.isRecordFirPage)&&void 0!==u&&u,l=null!==(s=e.isRecordFirPage)&&void 0!==s?s:""}let d=Object.keys((0,i.parse)((0,r.ht)())),c={},f=e=>{let t=(0,r.Rs)(e);c[e]=t};if(d.forEach(e=>{/^_transparent_/.test(e)&&f(e),t.includes(e)&&f(e)}),(0,r.Rs)("ug_source")&&f("ug_source"),(0,r.Rs)("sem_keyword")&&f("sem_keyword"),n){let e=(0,o.z)(l);e&&(c.fir_previous_page=e)}return c}},184605:function(e,t,n){n.r(t),n.d(t,{genBaikeUrl:function(){return U.Q4},getSessionStorage:function(){return I.G},isNavFold:function(){return tx.ur},encodePageId:function(){return eW.P},getIsMultiWindow:function(){return eU.xg},genHashtag:function(){return U.bP},cookies:function(){return g.Q},supportListenVideo:function(){return ee.Pg},getIsFromLynx:function(){return tE.x1},compareVersion:function(){return en.y},genCollectionPath:function(){return U.wl},getStartTime:function(){return es.cw},resumeShortcut:function(){return e3.m},isInLiveChildRoute:function(){return tf.yk},feedVideoFilter:function(){return ex._},emitLoginChange:function(){return M.Eh},getMobileAccess:function(){return X.MO},getLogPageName:function(){return c.yW},isAiSearchSharePage:function(){return x.ix},needGrayscale:function(){return R.RF},genRandomId:function(){return eB.o},getFormatTimestampForSchedule:function(){return O.sg},createContextAndSelector:function(){return t_.q},clamp:function(){return eb.uZ},genVs:function(){return U.HB},getSearchPreload:function(){return tm.P},removeRouteParams:function(){return V.U$},sleep:function(){return Z._v},slideSmoothABHelper:function(){return i.Hl},getClientPageStore:function(){return eq.rp},UaCommonEnum:function(){return X.PB},setOdin:function(){return m.hj},getEpisodeId:function(){return U.ES},isLiXiang:function(){return _.B0},getIsBrowserSupportedAiTop1:function(){return tD.Ae},isInPWA:function(){return F.f},pauseShortcut:function(){return e3.o},convertARGBColorToRGBA:function(){return ty.H},SiderOptimizationABHelper:function(){return i._$},isUseDyPlayer:function(){return eF.n},clearMarks:function(){return e_.tl},getClientTop:function(){return e8.k},checkChromeFor360:function(){return _.a2},setAiSearchHandler:function(){return tL.B1},genCarCarnival:function(){return U.CT},isWinClient:function(){return X.rW},transformRouteParams:function(){return V.vT},getIsSupport265:function(){return eq.Ko},setLocalStorage:function(){return C.qQ},genOlympics:function(){return U.Lb},getServerTime:function(){return D.b},getMoneyFormatNum:function(){return O.dp},getVersionInfo:function(){return X.gn},isInUserPage:function(){return c.SA},setStorageLvPlayerResolution:function(){return e4.fA},checkChromeIsLessThanSomeVersion:function(){return _.km},isFormatVs:function(){return es.iV},getIsDocumentPipSupported:function(){return ez.ZV},getUrlQuery:function(){return x.pf},instManagerSetActive:function(){return tC.wS},isInClient:function(){return X.DT},isUseKeyboardSwitch:function(){return H.$2},listenLoginChange:function(){return M.no},isEdgeChromium:function(){return _.kD},findCommonSubstrings:function(){return ey.i4},urlSpliceSessionid:function(){return ed.RX},getIsClientOffline:function(){return eU.PB},getLogPageNameByPath:function(){return c.ur},genCollection:function(){return U.$y},removeUrlParams:function(){return ed.qx},addNofollowPropInLink:function(){return ek.P},useIsFullscreen:function(){return E.h},isTextLenLowerN:function(){return e7.y2},diffPatch:function(){return ea.a},getTodayDate:function(){return Z.X$},scrollToY:function(){return r.d},setFetchType:function(){return et.i0},getFixedTheme:function(){return R.Bj},firstFrameTraceOptimizationABHelper:function(){return i.t8},genMusicPlayList:function(){return U.Hq},scrollTo:function(){return W.X},ArchitectureEnum:function(){return X.b5},browserNotice:function(){return tu.g},isNeedShowShortcutTip:function(){return H.oZ},createBaseCommentLogConfig:function(){return tN.n},deleteEmojiCode:function(){return O.eC},genAiSearch:function(){return U.A6},getHeaderHeight:function(){return tn.C},beforeLogout:function(){return M.JB},getClientMiniWinHideMode:function(){return e8.Vr},getDisplayableSuggestWord:function(){return ev.y},getAiSearchDruidSSRClient:function(){return tL.zP},isSupportAvif:function(){return tp.n},isRequestFollow:function(){return eE.V},domResizeListener:function(){return Q.j3},checkUseSpaJump:function(){return ta.$},base64decode:function(){return eS.c},detectOS:function(){return h.fV},getDeviceInfoParams:function(){return Y.a},second2microsecond:function(){return eb.NZ},getSentenceId:function(){return U.Ir},transitionEndListener:function(){return eA.C},parseAwemeTypeToItemType:function(){return ee.IO},enableGoToSearchChildRoute:function(){return tf.j9},getCollectionEpisode:function(){return U.YS},getSystemResourceInfo:function(){return J.getSystemResourceInfo},genNotePath:function(){return U.Wr},SlardarEventName:function(){return G.Mo},clientFeedNodeFetcher:function(){return tb.B},isSpaJump:function(){return ta.I},formatAdSellNum:function(){return O.Hy},getMultiWindowLogInfo:function(){return eU.Wc},i18n:function(){return ef.a},isIE:function(){return _.w1},isQQ:function(){return _.GP},mark:function(){return e_.B1},getLogVideoTime:function(){return eL.n},EventLevel:function(){return G.Tn},getIsSupportHw:function(){return eq.$n},generateRandomId:function(){return eo.D},userLogoutRequest:function(){return M.kc},startTransition:function(){return p.L},getIsFromLynxHeaderWindow:function(){return tE.kB},getPlayerClickMethod:function(){return tT.m},hasChapterEntry:function(){return ee.d6},genHome:function(){return U.cm},WindowNameEnum:function(){return eU.rS},getFakeScreenInfo:function(){return P.$},getMiniWindowOptimize:function(){return S.x},exitInPicture:function(){return ez.Qd},metrics:function(){return K.q},getUserInfo:function(){return o.b},getInPictureEnabled:function(){return ez.Kv},getStringWithoutReturn:function(){return O.LT},getPassParams:function(){return y.U},formatAdCollectioNum:function(){return O.WM},createExtendedCommentLogConfig:function(){return tN.z},getDownloadPage:function(){return U.rV},isFromAwemeSearchEngine:function(){return tM.V},calcHeadImageColor:function(){return tr.p},genHotDetail:function(){return U.UV},genActivity:function(){return U.Pn},supportMicroGameTab:function(){return tA.M},timeoutSelectFunction:function(){return B.e},getChapterIndex:function(){return e5.P},isNewMiddleDevice:function(){return _.e3},toHex:function(){return d.N},MultiWindowLogInfoEnum:function(){return eU.rh},getMonitorInfo:function(){return eU.Re},genMicroGame:function(){return U.DP},isUserPage:function(){return x.h$},genFriend:function(){return U.BQ},getH264HardWareSupportedClient:function(){return eq.b4},getH265HardWareSupportedClient:function(){return eq._u},instManagerSetNext:function(){return tC.tw},isSafari:function(){return _.G6},setItemIdToVideoPreferData:function(){return m.xL},getLogPb:function(){return ee.UB},isArticle:function(){return ee.g0},isFollowPage:function(){return x.i8},checkStatusCodeError:function(){return ew.e},isVisitTypeFromSEOWithCsr:function(){return eG.G},isAnywhereDoorEnabled:function(){return tk.t},isClientInstalled:function(){return eh.Y},isXgVideo:function(){return ee.l3},isMicroGame:function(){return x.yb},isMiddleDevice:function(){return _.Sb},setLogPageName:function(){return c.TU},findScrollParent:function(){return Q.xD},isInSearchChildRoute:function(){return tf.dH},runEvents:function(){return v.wq},getAnywhereDoorHeaders:function(){return tk.L},getCommonGpuInfo:function(){return eQ.m},getEnterFrom:function(){return c.vM},requestIdleCallback:function(){return eg.l},scheduler:function(){return eP.p},isLazyChildren:function(){return tv.B},getUrlInfo:function(){return x.w6},genHot:function(){return U.Pg},checkIsCloseGPU:function(){return eO.p},genUrl:function(){return U.do},getUid:function(){return m.sq},isAddBookMarkShortcut:function(){return f.SB},getInstallTime:function(){return m.AQ},setUid:function(){return m.fs},abstractToDotlist:function(){return tc.x},checkIsLearningCourse:function(){return tP},ssr:function(){return eJ},isFullscreen:function(){return E.r},updateDiff:function(){return D.K},isLiveGet265:function(){return X.Bp},getFormatDuration:function(){return O.$y},getIsMas:function(){return eU.XG},getUifid:function(){return ti.n},WebConfigKey:function(){return m.gI},getMemorySize:function(){return X.Bl},genXiguaVideo:function(){return U.Tl},setRouteSearch:function(){return V.no},allSettledFetch:function(){return eZ.n},getFormatChNum:function(){return O.mI},preRedirectLiveUrl:function(){return tw.J},fpsmeasure:function(){return th.w},sliceString:function(){return ey.pY},genVsDetail:function(){return U.Hk},isVideoDetailPage:function(){return x.aI},getMissingKey:function(){return G.yb},getSharkCommonParams:function(){return q.F},isSpecifiedChrome:function(){return _.h5},getLightVideoId:function(){return U.xT},getUifidTemp:function(){return ti.r},genToutiaoArticleUrl:function(){return U.b6},genPath:function(){return U.qw},isUndefined:function(){return k.o8},listenFullScreenChange:function(){return Q.PA},enableLiveChildRoute:function(){return tf.oB},measure:function(){return e_.L8},getEnterFromMerge:function(){return te.r},getIsSupport266:function(){return eq.Yk},isInSpecSeoReportPage:function(){return e7.mf},getHotIdInfo:function(){return U.vw},transformXiguaParams:function(){return V.wF},JSBridge:function(){return tt},getIsNeedRerenderWaterFall:function(){return tD.vi},supportWatchLater:function(){return ee.DP},getCreatorVideoId:function(){return U.s_},isInChildRoute:function(){return tf.Nr},isBaiduSpider:function(){return X.We},isInteger:function(){return O.U},isAfterLcp:function(){return J.isAfterLcp},getNavFoldStatus:function(){return tx.GE},getPaidVideo:function(){return ee.Br},getVsChannel:function(){return U.hM},getLibraParmasToServer:function(){return i.rA},isPlayback:function(){return ee.eB},isObject:function(){return k.Kn},removeEvent:function(){return v.xC},getAwemeErrorData:function(){return ep.k},isUseDyPlayerRecommend:function(){return eF.g},getFirstValidHashtag:function(){return ee.Ol},getBrowserHeight:function(){return _.P6},findLongestCommonSubstring:function(){return ey.BK},getFetchType:function(){return et.sb},isDiscoverPage:function(){return x.e2},getXiguaParams:function(){return V.CY},setCrashVideoInfo:function(){return eU.PZ},findScrollListener:function(){return Q.$W},getFormatFollowerNumber:function(){return O.lN},isInSSR:function(){return l.p},enableSearchChildRoute:function(){return tf.Sh},cancelAnimationFrame:function(){return b.W},addSearchParams:function(){return ed.cT},genMusic:function(){return U.nr},genSeries:function(){return U._M},getFormatMarks:function(){return e_.fX},getTheme:function(){return R.gh},filterFirstPrefix:function(){return O.n3},isSameDay:function(){return Z.KC},isInDocumentPip:function(){return ez.IT},getOdin:function(){return m.Es},isRecommendPage:function(){return x.oS},getBrowserWidth:function(){return _.wi},isBoe:function(){return A.uZ},encrypt:function(){return ec.H},isDOM:function(){return Q.Sh},deleteSessionStorage:function(){return I.pC},getUserAudioDeviceType:function(){return c.nj},isEsc:function(){return eT.j},isKey:function(){return f.ot},getFullScreenElement:function(){return Q.W7},isMas:function(){return X.xo},isNil:function(){return k.kK},getFormatTimestamp:function(){return O.YW},registerWebId:function(){return M.r4},getTrendingTopic:function(){return U.Fg},lowDeviceOpt:function(){return J.lowDeviceOpt},checkTimeRange:function(){return eI.E},slardar:function(){return G.oe},getArticleId:function(){return U.ZM},getVsQuery:function(){return es.IR},isColdStart:function(){return td.R},getPCClientType:function(){return X.ub},isMsTimestamp:function(){return Z.QE},isNumber:function(){return k.hj},isRecommendPageExcludeSPA:function(){return x.Dx},isMobileByUA:function(){return X.wi},HomeTabRedDot:function(){return e0.$S},genLiveRoom:function(){return U.cc},checkBoundary:function(){return $.Y},getPageTypeInfo:function(){return e7.Ow},instManagerGetActiveId:function(){return tC.OB},isNewLowDevice:function(){return _.AF},decrypt:function(){return ec.p},isVisionPro:function(){return X.VW},getFormatCountdown:function(){return Z.VD},getBrightness:function(){return ee.vw},getEntriesByName:function(){return e_.bE},isUserPageUrl:function(){return L},isMobile:function(){return X.tq},getActualWidthOfChars:function(){return Q.Rr},getClientUAInfoByUA:function(){return X.Y5},isChildElement:function(){return Q.Tv},setUseKeyboardSwitch:function(){return H.Y3},canUsePWA:function(){return F.y},getRefer:function(){return _.vl},PerformanceMonitor:function(){return J.PerformanceMonitor},getObjectType:function(){return k.tQ},getRouteParams:function(){return V.Rs},isLowDevice:function(){return _.b_},isSameHour:function(){return Z.fu},formatPlayProgressPercent:function(){return O.Sb},playerErrorMonitor:function(){return e2.T},liveJSHeap:function(){return tl.n},isInPicture:function(){return ez.DJ},protocolConfig:function(){return A.tJ},getIsFromShareLink:function(){return eN.n},is2k4kOs:function(){return h.fR},hexToHsl:function(){return tr.s},afterLCPOrVideoPlay:function(){return J.afterLCPOrVideoPlay},getIsHevcSupported:function(){return eY.E},changeMeta:function(){return eK.J},getLocalStorage:function(){return C.$o},isMacOs:function(){return h.Q5},getTopicId:function(){return U.Ht},checkIsDarkTheme:function(){return R.db},clearEvents:function(){return v.QF},getGearLists:function(){return es.p0},getMallItemId:function(){return U.Nr},getMusicId:function(){return U.Du},getMyTabRedDotShowed:function(){return e0.Pt},findSlideList:function(){return w.t},getRouteSearch:function(){return V.ht},isSupportWebp:function(){return tp.R},getChannelId:function(){return U.dT},isNavExpand:function(){return tx.S7},getPlayerEnterFrom:function(){return c.mo},appendParamsToSchema:function(){return ed.H7},isString:function(){return k.HD},allSettledHandler:function(){return eZ.f},getPaidContentType:function(){return ee.a9},globalEvent:function(){return j},exitFullScreenAndModal:function(){return tI._},getTomorrowMidnightTimestamp:function(){return O.Ns},findSlideListE2e:function(){return w.A},getTodayMidnightTimestamp:function(){return O.B},createUseShortcutDate:function(){return H.z5},getUserId:function(){return U.n5},getFormatNumber:function(){return O.qe},copy:function(){return eD.J},fetchCPUCore:function(){return _.Kg},isAiSearchPage:function(){return x.Q5},is265Mse:function(){return X.OY},isNoHardDecode:function(){return X.tp},genFollow:function(){return U.ff},judgeTheme:function(){return R.Dr},getKeyType:function(){return f.CS},getUserAgent:function(){return X.ij},getLowEndExperiment:function(){return ej.L},getUrlParams:function(){return s.D},getStrLen:function(){return ey.VO},getTimeStamp:function(){return O.dg},isChrome:function(){return _.i7},feedVideoCacheFilter:function(){return ex.r},getClarityReportParams:function(){return eC.t},getIsSelftAiTab:function(){return tR.R},isArray:function(){return k.kJ},getRedirectTitle:function(){return eX.O},genChannel:function(){return U.QP},getShipinId:function(){return U.br},performance:function(){return J},getFirstEntriesByName:function(){return e_.j5},setUnLookCache:function(){return eM.b},getDevicePlatform:function(){return X.HA},isBlink:function(){return _.IU},addEvent:function(){return v.vP},getCollectionIdInfo:function(){return U.bF},checkVideoIsSupportAskAi:function(){return tL.b2},requestAnimationFrame:function(){return b.U},setUseShortcut:function(){return H.hB},getReportThmeValue:function(){return R.bS},prefetchUserPage:function(){return T},ENTER_FROM_MERGE_MAP:function(){return te.G},listenLoginPopup:function(){return M.w_},listenRoutePageScroll:function(){return Q.O7},scrollBy:function(){return W.y},isNewHighDevice:function(){return _.My},getClientUAInfo:function(){return X.FJ},getNewestEntriesByName:function(){return e_.J1},getOhosOsInfo:function(){return eU.XD},getXgPlayerSessionId:function(){return ed.cl},isOpera:function(){return _.f0},jsonp:function(){return to.R},setSessionStorage:function(){return I.t_},isDouyinMainPage:function(){return x.DX},keydownListenConflicResolver:function(){return e$.k},getStorageLvPlayerResolution:function(){return e4.M0},setConfigForPaging:function(){return m.Vv},getStreamHosts:function(){return e1.H},isLivePage:function(){return x._O},getPlayerDisplayMode:function(){return c.Ok},isSafariInSSR:function(){return _.L7},isFriendPage:function(){return x.z1},isSupportMP4CoverSSR:function(){return a.V},getEntriesByType:function(){return e_.Cr},getGuidePopupOptimizeOthersAB:function(){return S.J},isImChatPage:function(){return x.lZ},isWindowVisible:function(){return er.d},findHTMLElement:function(){return Q.h8},getRedirectFrom:function(){return eX.a},MetricsEventName:function(){return K.j},getBrowser:function(){return _.qs},packUnknownVal:function(){return ts.N},setAiSearchStatus:function(){return tL.gO},setMyTabRedDotShowed:function(){return e0.br},webConfig:function(){return m.Le},blockedTraceABHelper:function(){return i.f$},getSearchParam:function(){return es.kp},getClientMiniWin:function(){return e8.QD},canWatchLater:function(){return ee.b0},genLive:function(){return U.Pe},isSearchPage:function(){return x.En},safeParse:function(){return O.As},genTopicPath:function(){return U.yd},getScrollXY:function(){return u.F},genRecommend:function(){return U.kj},genAwemeURL:function(){return U.Wg},isFollowed:function(){return eE.F},checkGPU:function(){return eQ.$},genLvdetail:function(){return U.eZ},ENABLE_SEARCH_CHILD_ROUTE_PATH:function(){return tf._A},deleteLocalStorage:function(){return C.bv},isAPad:function(){return X.iO},isDate:function(){return k.J_},getUrlHost:function(){return x.iT},addQuery:function(){return ed.DI},getFirstPreviousPage:function(){return N.z},isEdge:function(){return _.un},isIPv6:function(){return tS.a},getFormatVideoPublishTime:function(){return O.MH},genVideoUrl:function(){return U.JF},isNote:function(){return ee.gi},isNull:function(){return k.Ft},isOhOs:function(){return h.O},isWin7:function(){return _.rZ},isiPad:function(){return X._1},genSCCWarning:function(){return U.Yd},mouseEventHandler:function(){return e6},isNoLoginVideoGuide:function(){return ee.P$},ENABLE_LIVE_CHILD_ROUTE_PATH:function(){return tf.d$},isHightQualityAweme:function(){return eH.H},isWinOs:function(){return h.dz},accountSdkParams:function(){return M.eP},genArticlePath:function(){return U.Ds},handleMediaRange:function(){return ei.e},isNoHardDecode264:function(){return X.r4},getElementScrollToTopDistance:function(){return Q.c3},safeDecode:function(){return U.oV},setUrlParams:function(){return ed.G7},getIsFromLynxMainWindow:function(){return tE.sF},openHomePage:function(){return U.a8},getMusicPlayListId:function(){return U.iN},isFunction:function(){return k.mf},webLoginRequest:function(){return M.Ql},checkUrlIsExpired:function(){return ed.qP},checkIsInDouyinWeb:function(){return ed.k$},genUserUrl:function(){return U.HC},isSupportMP4:function(){return a.k},hostConfig:function(){return A.k4},isEmptyObj:function(){return eu.S},sliceListBySize:function(){return el.I},checkBrowser:function(){return _.Lq},getNavigatorParams:function(){return z.f},getUpdateVersionCode:function(){return z.N},getVideoFilter:function(){return eR.f},getFormatTimestampForComment:function(){return O.uq},genVideoPath:function(){return U.$N},KEY_MAP:function(){return f.bf},detectOSInOffline:function(){return h.le},getLvideoEpisodeId:function(){return U.VG},getCollectionId:function(){return U.Zx},initMemorySize:function(){return X.WL},requestNoticePermission:function(){return tu.d},afterLCP:function(){return J.afterLCP},isFromlynx:function(){return tv.r},setFooterInnerLinks:function(){return eV.v},genXiguaHome:function(){return U.GN},limitString:function(){return e9.i},bit2Byte:function(){return eb.ec},reportFirstFeedInClient:function(){return tg.sE},isSpider:function(){return X._Q},getCategoryId:function(){return U.WN},getStringLength:function(){return e9.N},isVsPath:function(){return U.u_},isCSSVarSupported:function(){return em.T},genLongVideoPath:function(){return U.oE},getVideoId:function(){return U.gJ},isFirefox:function(){return _.vU},emitLoginPopup:function(){return M.IX},genDataAnalysis:function(){return U.hj},FetchType:function(){return et.CK},isDefinitionExpire:function(){return e4.Ei},isSougou:function(){return _.NN},genAsianGame:function(){return U.mi},genSearch:function(){return U.Sp},isSameType:function(){return $.d}});var i=n("632187"),o=n("327718"),r=n("223355"),l=n("736642"),a=n("453498"),u=n("762563"),s=n("246050"),d=n("151549"),c=n("465769"),f=n("262648"),v=n("55052"),m=n("725887"),g=n("565024"),_=n("852664"),h=n("47047"),p=n("146106"),w=n("266671"),y=n("765595"),b=n("300193"),C=n("847191"),S=n("637632"),I=n("815389"),k=n("343049"),x=n("265656");n("250440");let L=e=>{var t;return null==e?void 0:null===(t=e.includes)||void 0===t?void 0:t.call(e,"www.douyin.com/user/")},T=e=>{};var D=n("134173"),N=n("449536"),P=n("578687"),E=n("737271"),A=n("949650"),R=n("434144"),M=n("646037"),O=n("907170"),F=n("684767"),U=n("768492"),j=n("441447"),B=n("87124"),W=n("221692"),H=n("292904"),V=n("983253"),G=n("623527"),K=n("187661"),Z=n("417194"),q=n("679584"),z=n("784106"),Y=n("579828"),J=n("405964"),X=n("828782"),Q=n("538213"),$=n("756267"),ee=n("930324"),et=n("530029"),en=n("66627"),ei=n("57717"),eo=n("346946"),er=n("730319"),el=n("913035"),ea=n("513734"),eu=n("384694"),es=n("195591"),ed=n("231565"),ec=n("699477"),ef=n("28528"),ev=n("575375"),em=n("94119"),eg=n("130556"),e_=n("607412"),eh=n("529596"),ep=n("742300"),ew=n("889615"),ey=n("787141"),eb=n("390243"),eC=n("669624"),eS=n("874721"),eI=n("58205"),ek=n("721676"),ex=n("905754"),eL=n("600921"),eT=n("540619"),eD=n("871350"),eN=n("110866"),eP=n("223526"),eE=n("774575"),eA=n("377603"),eR=n("860805"),eM=n("859990"),eO=n("685761"),eF=n("792639"),eU=n("401156"),ej=n("704260"),eB=n("297273"),eW=n("424780"),eH=n("51066"),eV=n("207771"),eG=n("256746"),eK=n("85084"),eZ=n("501598"),eq=n("472474"),ez=n("455499"),eY=n("297640"),eJ=n("616450"),eX=n("486143"),eQ=n("639101"),e$=n("627399"),e0=n("185248"),e1=n("65578"),e2=n("924300"),e4=n("859689"),e8=n("332679"),e5=n("22469"),e3=n("756560"),e7=n("854979"),e6=n("81046"),e9=n("859708"),te=n("185651"),tt=n("63405"),tn=n("634740"),ti=n("437285"),to=n("99888"),tr=n("439630"),tl=n("138575"),ta=n("388128"),tu=n("984330"),ts=n("487938"),td=n("297250"),tc=n("543159"),tf=n("328155"),tv=n("797460"),tm=n("636111"),tg=n("9147"),t_=n("110479"),th=n("3534"),tp=n("550867"),tw=n("684922"),ty=n("972484"),tb=n("459132"),tC=n("95291"),tS=n("401236"),tI=n("308253"),tk=n("491700"),tx=n("330871"),tL=n("105816"),tT=n("483349"),tD=n("609006"),tN=n("467403");let tP=e=>{let{douyinPcVideoExtra:t}=e||{},{aiSearchPicture:n,aiNote:i}=t||{};return!(1!==n&&1!==i)};var tE=n("504229"),tA=n("837193"),tR=n("589935"),tM=n("250972")},138575:function(e,t,n){n.d(t,{n:function(){return i}});let i=()=>{try{var e,t,n,i,o,r,l,a,u,s,d,c,f;return{custom_js_heap_can_use:String((null===(e=window.performance)||void 0===e?void 0:e.memory)?1:0),custom_js_heap_limit_size:String(null!==(s=null===(n=window.performance)||void 0===n?void 0:null===(t=n.memory)||void 0===t?void 0:t.jsHeapSizeLimit)&&void 0!==s?s:-1),custom_js_heap_total_size:String(null!==(d=null===(o=window.performance)||void 0===o?void 0:null===(i=o.memory)||void 0===i?void 0:i.totalJSHeapSize)&&void 0!==d?d:-1),custom_js_heap_used_size:String(null!==(c=null===(l=window.performance)||void 0===l?void 0:null===(r=l.memory)||void 0===r?void 0:r.usedJSHeapSize)&&void 0!==c?c:-1),custom_js_event_counts:String(null!==(f=null===(u=window.performance)||void 0===u?void 0:null===(a=u.eventCounts)||void 0===a?void 0:a.size)&&void 0!==f?f:-1)}}catch(e){return{custom_js_heap_can_use:"0"}}}},679028:function(e,t,n){n.d(t,{k:function(){return o}});var i=n(134761);n(268917);let o=new class e{bind(e,t){0===Object.keys(this.keyboarddHashMap).length&&document.addEventListener("keydown",this.keydownEvent),this.keyboarddHashMap[e]?-1===this.keyboarddHashMap[e].findIndex(e=>e===t)&&this.keyboarddHashMap[e].push(t):this.keyboarddHashMap[e]=[t]}remove(e,t){var n;let i=null===(n=this.keyboarddHashMap[e])||void 0===n?void 0:n.findIndex(e=>e===t);this.keyboarddHashMap[e]&&-1!==i&&(this.keyboarddHashMap[e].splice(i,1),0===this.keyboarddHashMap[e].length&&delete this.keyboarddHashMap[e]),0===Object.keys(this.keyboarddHashMap).length&&document.removeEventListener("keydown",this.keydownEvent)}constructor(){(0,i._)(this,"keyboarddHashMap",{}),(0,i._)(this,"keydownEvent",e=>{if(this.keyboarddHashMap[e.code]){let t=this.keyboarddHashMap[e.code].length-1;(0,this.keyboarddHashMap[e.code][t])(e)}})}}},765422:function(e,t,n){n.d(t,{A:function(){return r}});var i=n(134761);n(268917),n(527785),n(429532);var o=n(300193);class r{_bootstrap(e){this._enableRecordFrameTime&&this._recordFrameTime(),this._enableRecordLongTask&&new PerformanceObserver(e=>{e.getEntries().forEach(e=>{this._longTaskEntries.push(e)})}).observe({type:"longtask",buffered:!0})}_recordFrameTime(){performance.mark("_recordFrameTime:start"),this._ticks.push(performance.now()),performance.mark("_recordFrameTime:end"),this._requestId=(0,o.U)(this._recordFrameTime.bind(this)),this._measureAndClearMarks("_recordFrameTime","_recordFrameTime:start","_recordFrameTime:end")}_measureAndClearMarks(e,t,n){try{performance.measure(e,t,n),performance.clearMarks(t),performance.clearMarks(n)}catch(e){}}_getMaxFromArray(e){return e.reduce((e,t)=>Math.max(e,t),-1/0)}_calcCrashFrameTime(e){return e.reduce((e,t)=>t>Math.round(1e3/this._crashFPSThreshold)?e+t:e,0)}extract(e,t,n){performance.mark("extract:start");let i=this._ticks.findIndex(e=>e>=t),o=this._ticks[i],r=this._ticks.slice().reverse().findIndex(e=>e<=n),l={name:e,duration:n-t},a=this._ticks.slice(i,r-1).map((e,t,n)=>{var i;return(null!==(i=null==n?void 0:n[t+1])&&void 0!==i?i:0)-e}).filter(e=>e>=0),u=this._longTaskEntries.filter(e=>e.startTime>=t&&e.startTime<=n);if(this._enableRecordLongTask&&0!==u.length&&Object.assign(l,{longTaskCount:u.length,averageLongTaskDuration:u.map(e=>e.duration).reduce((e,t)=>e+t,0)/u.length,maximumLongTaskDuration:this._getMaxFromArray(u.map(e=>e.duration).concat([0])),longTasks:u}),this._enableRecordFrameTime&&0!==a.length){let e=this._calcCrashFrameTime(a);Object.assign(l,{frameTimes:a,averageFrameTime:a.reduce((e,t)=>e+t,0)/a.length,maximumFrameTime:this._getMaxFromArray(a),crashDuration:e,crashRate:e/(n-t),fps:Math.round(1e3/((n-t)/a.length)),slideResponseDelay:o-t+a[0]})}return performance.mark("extract:end"),this._measureAndClearMarks("extract","extract:start","extract:end"),l}record(e){if(!this._recordStarTimingMap[e])performance.mark(`[${e}]-record:start`),Object.assign(this._recordStarTimingMap,{[e]:performance.now()})}stop(e,t){var n,i;if(!this._recordStarTimingMap[e])return;performance.mark(`[${e}]-record:end`),this._measureAndClearMarks(`[${e}]-measure`,`[${e}]-record:start`,`[${e}]-record:end`);let o=null===(n=this._recordStarTimingMap)||void 0===n?void 0:n[e],r=performance.now(),l=this.extract(e,o,r);this._history.push(l),null===(i=this._recordStarTimingMap)||void 0===i||delete i[e],null==t||t(l)}destory(){this._history.splice(0,this._history.length),this._ticks.splice(0,this._ticks.length),this._longTaskEntries.splice(0,this._longTaskEntries.length),(0,o.W)(this._requestId)}getHistory(){return this._history}constructor(e){(0,i._)(this,"_history",[]),(0,i._)(this,"_recordStarTimingMap",{}),(0,i._)(this,"_ticks",[]),(0,i._)(this,"_longTaskEntries",[]),(0,i._)(this,"_requestId",void 0),(0,i._)(this,"_enableRecordFrameTime",!1),(0,i._)(this,"_enableRecordLongTask",!1),(0,i._)(this,"_crashFPSThreshold",24);let{enableRecordFrameTime:t=!1,enableRecordLongTask:n=!1,crashFPSThreshold:o=24}=null!=e?e:{};this._enableRecordFrameTime=t,this._enableRecordLongTask=n,this._crashFPSThreshold=o,this._bootstrap()}}},493417:function(e,t,n){n.d(t,{B:function(){return i},i:function(){return o}}),n(268917);let i=(e,t)=>{let n="",i=Array(e.length+1).fill(null).map(()=>Array(t.length+1).fill(0)),o=0,r=0;for(let n=1;n<=e.length;n++)for(let l=1;l<=t.length;l++)e[n-1]===t[l-1]?(i[n][l]=i[n-1][l-1]+1,i[n][l]>o&&(o=i[n][l],r=n)):i[n][l]=0;return o>0&&(n=e.substring(r-o,r)),n},o=(e,t)=>{let n=[{start:0,end:0}],i=Array(e.length+1).fill(null).map(()=>Array(t.length+1).fill(0)),o=0,r=0,l=(e,t)=>{if(0===n.length){n.push({start:e,end:t});return}let i=n[n.length-1];i.start>=e&&i.end<=t?(n.pop(),l(e,t)):i.end<=e&&n.push({start:e,end:t})};for(let n=1;n<=e.length;n++)for(let r=1;r<=t.length;r++)e[n-1]===t[r-1]?(i[n][r]=i[n-1][r-1]+1,i[n][r]>o&&(o=i[n][r])):i[n][r]=0,i[n][r]>i[n-1][r-1]&&l(n-i[n][r],n);return n}},296884:function(e,t,n){n.d(t,{q:function(){return o}}),n(874386),n(413806),n(826893);var i=n(246050);function o(e,t){if(!e.length)return t;let n=t,o={};if(n.indexOf("?")>-1){let[t,r]=n.split("?");o=(0,i.D)(null!=r?r:""),e.forEach(e=>delete o[e]),n=t}let r="?";return Object.keys(o).forEach(e=>{void 0!==o[e]&&null!==o[e]&&(r+=`${e}=${o[e]}&`)}),`${n}${r.slice(0,-1)}`}},601916:function(e,t,n){n.d(t,{H:function(){return w},t:function(){return p}}),n(927234),n(874386),n(779788),n(268917),n(950331);var i=n(88648),o=n(696975),r=n.n(o),l=n(791574),a=n.n(l),u=n(355192),s=n(905158),d=n(828782),c=n(63405);let f="SEARCH_HISTORY_",v="SEARCH_AI_HISTORY_",m=")a%06.4Sq~Xv]tDo8yFW-_gmbyaT.F,!KQhdKK}7:eW_cZk#;6lM[Q&BJ?%OVs$",g=(0,d.rW)();function _(e){return r().encrypt(e,m).toString()}function h(e){return r().decrypt(e,m).toString(a())}function p(e){try{var t,n;let i=h((null===(n=window.localStorage)||void 0===n?void 0:null===(t=n.getItem)||void 0===t?void 0:t.call(n,v+e))||"");return JSON.parse(i).filter(e=>{var t,n;return"object"==typeof e&&(null===(n=e.text)||void 0===n?void 0:null===(t=n.trim())||void 0===t?void 0:t.length)>0})}catch(e){return[]}}function w(e){let{history:t,setHistory:n}=function(){let[e,t]=(0,i.useState)([]);return{history:e,setHistory:t}}(),o=e||"guest",r=(0,i.useRef)(o);r.current=o;let l=(0,i.useRef)(!1);!l.current&&((0,u.z)(r.current),l.current=!0);let a=(0,i.useCallback)(e=>{var t,n,i,o;let l=_(JSON.stringify(e));if(g){let t=_(JSON.stringify(e.map(e=>e.text)));c.invoke(s.gl.SET_APP_CONFIG_ITEM,{data:{key:f+r.current,value:t}}),null===(o=window.localStorage)||void 0===o||null===(i=o.setItem)||void 0===i||i.call(o,`${f+r.current}_updateTime`,`${Date.now()}`)}null===(n=window.localStorage)||void 0===n||null===(t=n.setItem)||void 0===t||t.call(n,v+r.current,l)},[]),d=(0,i.useCallback)(()=>p(r.current),[]),m=(0,i.useCallback)(async()=>{try{var e,t,n,i,o,l;let a=(null===(t=window.localStorage)||void 0===t?void 0:null===(e=t.getItem)||void 0===e?void 0:e.call(t,v+r.current))||"";if(g){let e=null===(i=window.localStorage)||void 0===i?void 0:null===(n=i.getItem)||void 0===n?void 0:n.call(i,`${f+r.current}_updateTime`),{data:t}=await c.invoke(s.gl.GET_APP_CONFIG_ITEM,{data:{key:"widgetUpdateTime",parse:!0}});if(Number(t)>Number(e)){let e=(await c.invoke(s.gl.GET_APP_CONFIG_ITEM,{data:{key:f+r.current,parse:!1}})).data,t=JSON.parse(h(a)),n=JSON.parse(h(e)),i=[];n.forEach(e=>{let n=t.find(t=>t.text===e);n?i.push({text:e,uri:n.uri,url:n.url,forceUseAi:n.forceUseAi,boxDetection:n.boxDetection}):i.push({text:e,uri:"",url:"",forceUseAi:0,boxDetection:null})});let u=_(JSON.stringify(i));null===(l=window.localStorage)||void 0===l||null===(o=l.setItem)||void 0===o||o.call(l,v+r.current,u),a=u}}let u=h(a);return JSON.parse(u).filter(e=>{var t,n,i;return(null===(i=e.text)||void 0===i?void 0:null===(n=i.trim)||void 0===n?void 0:null===(t=n.call(i))||void 0===t?void 0:t.length)>0})}catch(e){return a([]),[]}},[]),w=(0,i.useCallback)(()=>{m().then(e=>n(e))},[]);(0,i.useEffect)(()=>{m().then(e=>n(e))},[r.current]);let y=(0,i.useCallback)(()=>{n([]),a([])},[]),b=(0,i.useCallback)(e=>{var t,i;let o=d();Array.isArray(o)&&(null==e?void 0:null===(i=e.text)||void 0===i?void 0:null===(t=i.trim())||void 0===t?void 0:t.length)>0&&((o=o.filter(t=>t.text!==e.text)).unshift(e),n(o=o.slice(0,40)),a(o))},[]),C=(0,i.useCallback)(e=>{var t;let i=d();Array.isArray(i)&&(null==e?void 0:null===(t=e.trim())||void 0===t?void 0:t.length)>0&&(n(i=i.filter(t=>t.text!==e)),a(i))},[]);return{history:t,getLocal:d,updateHistory:w,clearAll:y,deleteWord:C,unshiftWord:b}}},848625:function(e,t,n){n.d(t,{b:function(){return o}});var i=n("88648");function o(e,t,n){let o="function"==typeof t,r=function(){let e=(0,i.useRef)(!0);return(0,i.useEffect)(()=>(e.current=!0,()=>{e.current=!1})),e}();(0,i.useEffect)(()=>{let n;return(async()=>{n=await e(r)})(),()=>{o&&t(n)}},o?n:t)}},579592:function(e,t,n){n.d(t,{U:function(){return r}});var i=n(948375),o=n(88648);function r(e){let{enterDelay:t=0,leaveDelay:n=200,onMouseEnter:r,onMouseLeave:l}=e,a=(0,o.useRef)(),u=(0,i.Z)(function(e){let{immediate:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{immediate:!1};if(window.clearTimeout(a.current),n||0===t){r(e);return}a.current=window.setTimeout(()=>{r(e)},t)}),s=(0,i.Z)(function(e){let{immediate:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{immediate:!1};window.clearTimeout(a.current),(t||0===n)&&(null==l||l(e)),a.current=window.setTimeout(()=>{null==l||l(e)},n)});return(0,o.useEffect)(()=>()=>{window.clearTimeout(a.current)},[]),{onMouseEnter:u,onMouseLeave:s}}},895470:function(e,t,n){n.d(t,{f:function(){return l},w:function(){return a}}),n(874386);var i=n(88648),o=n(445678),r=n(180826),l={unknown:0,0:"unknown",ios:1,1:"ios",android:2,2:"android"};let a=()=>{let[e,t]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let e=(0,r.i)(),n=(0,o.getSelectorsByUserAgent)(e);n.isIOS?t(1):n.isAndroid?t(2):t(0)},[]),e}},574756:function(e,t,n){function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(e=>{switch(typeof e){case"object":return JSON.stringify(e);case"string":case"number":case"bigint":case"boolean":return`${e}`;default:return}}).filter(e=>e).join(",")}n.d(t,{F:function(){return r},b:function(){return o}}),n(779788);function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return window.TTCommon?window.TTCommon.query(e,i(n)):"null"}function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return window.TTCommon?"getMediaInfo"===e?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return e.querySelector("source").execute("getMediaInfo","")}(n[0]):"isActive"===e?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return e.querySelector("source").execute("isActive","")}(n[0]):window.TTCommon.execute(e,i(n)):"null"}},194852:function(e,t,n){var i=n(134761);n(675373),n(897860),n(927234),n(250440);var o=n(207761);t.Z=class e{constructor({aid:e,request:t}){var n=this;(0,i._)(this,"strategy",void 0),(0,i._)(this,"strategyCounter",void 0),(0,i._)(this,"loginMethods",void 0),(0,i._)(this,"aid",void 0),(0,i._)(this,"path","/passport/general/login_guiding_strategy/"),(0,i._)(this,"strategyKey","LoginGuidingStrategy"),(0,i._)(this,"strategyCounterKey","LoginGuidingStrategyCounter"),(0,i._)(this,"strategyABtestKey","strategyABtestKey"),(0,i._)(this,"request",void 0),(0,i._)(this,"clear",()=>{(0,o.clearLocalStorage)(this.strategyKey),(0,o.clearLocalStorage)(this.strategyCounterKey)}),(0,i._)(this,"getExtra",async(e,t)=>{if(!e||!t)return{shouldShow:!1};if(this.checkStrategyOverTime())try{await this.initStrategy()}catch(e){return{shouldShow:!1}}let n=this.findStrategyByMethodAndScenes(e,t);return null==n?void 0:n.extra}),(0,i._)(this,"getGlobalExtra",async()=>{var e;if(this.checkStrategyOverTime())try{await this.initStrategy()}catch(e){return{shouldShow:!1,test:0}}return null===(e=this.strategy)||void 0===e?void 0:e.extra}),(0,i._)(this,"shouldShowLogin",async function(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!e||!t)return{shouldShow:!1};if(n.checkStrategyOverTime())try{await n.initStrategy()}catch(e){return{shouldShow:!1}}let r=n.findStrategyByMethodAndScenes(e,t),l=n.findStrategyCounterByMethodAndScenes(e,t);if(!r||!l)return{shouldShow:!1};{let e=n.calculateShowStatus(r,l,i);return(0,o.setLocalStorage)(n.strategyCounterKey,n.strategyCounter),{extra:null==r?void 0:r.extra,shouldShow:e}}}),(0,i._)(this,"exposure",async()=>{let e=parseInt((0,o.getCookiesItem)(this.strategyABtestKey),10);if(!(0,o.isToday)(e)){(0,o.setCookiesItem)(this.strategyABtestKey,(0,o.getCurrentTime)().toString(),604800,"/","douyin.com","");let e=await this.fetchStrategy();this.strategy=e,this.loginMethods=null==e?void 0:e.login_methods,(0,o.setLocalStorage)(this.strategyKey,e)}}),(0,i._)(this,"fetchStrategy",(0,o.pipeline)(async()=>this.request({url:this.path}))),(0,i._)(this,"pipeFetchStrategy",(0,o.pipeline)(async()=>{let e=await this.fetchStrategy();return this.strategy=e,this.loginMethods=null==e?void 0:e.login_methods,(0,o.setLocalStorage)(this.strategyKey,e),this.genStrategyCounter(e),e})),(0,i._)(this,"initStrategy",async()=>{let e=this.strategy||(0,o.getLocalStorage)(this.strategyKey);this.initStrategyCounter();let t=(0,o.getCurrentTime)();return(null==e?void 0:e.expire_time)&&t<(null==e?void 0:e.expire_time)?(this.strategy=e,this.loginMethods=null==e?void 0:e.login_methods,!this.strategyCounter&&this.genStrategyCounter(e),e):await this.pipeFetchStrategy()}),(0,i._)(this,"initStrategyCounter",()=>{let e=(0,o.getLocalStorage)(this.strategyCounterKey);this.strategyCounter=e}),(0,i._)(this,"genStrategyCounter",e=>{if(!e)return null;let t={},n=null==e?void 0:e.login_methods,i=Object.keys(n);for(let e=0;e<i.length;e++){t[i[e]]={};let o=Object.keys(n[i[e]].scenes).filter(e=>!["extra","frequency_control"].includes(e));for(let n=0;n<o.length;n++)t[i[e]][o[n]]={counts:0,first_time:0,last_time:0}}this.strategyCounter=t,(0,o.setLocalStorage)(this.strategyCounterKey,t)}),(0,i._)(this,"findStrategyByMethodAndScenes",(e,t)=>{let n=null;try{var i,o,r;n=null===(r=this.loginMethods)||void 0===r?void 0:null===(o=r[e])||void 0===o?void 0:null===(i=o.scenes)||void 0===i?void 0:i[t]}catch(e){}return n}),(0,i._)(this,"findStrategyCounterByMethodAndScenes",(e,t)=>{let n={counts:0,first_time:0,last_time:0};try{var i,o;n=(null===(o=this.strategyCounter)||void 0===o?void 0:null===(i=o[e])||void 0===i?void 0:i[t])||{counts:0,first_time:0,last_time:0}}catch(e){}return n}),(0,i._)(this,"calculateShowStatus",function(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],{trigger:o,frequency_control:r}=e;return!!n.frequencyControl(r,t)&&n.triggerControl(o,t,i)}),(0,i._)(this,"frequencyControl",(e,t)=>{let{range_type:n,range_interval:i,max_time_in_range:r}=e;if(r>=100)return!0;let l=(null==t?void 0:t.counts)||0,a=(null==t?void 0:t.first_time)||0,u=(null==t?void 0:t.last_time)||0;return!a||!u||((0,o.timeCompare)(n,i,u)?(t.counts=0,t.first_time=0,t.last_time=0,!0):!(l>=r)&&!0)}),(0,i._)(this,"triggerControl",function(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=(0,o.getCurrentTime)();return(null==e?void 0:e.trigger_type)!==0&&(0===((null==t?void 0:t.counts)||0)&&(t.first_time=i),n&&(t.counts++,t.last_time=i),((null==e?void 0:e.trigger_type)===1&&t.counts%(null==e?void 0:e.counts)==0||(null==e?void 0:e.trigger_type)===2&&!!(t.counts>=(null==e?void 0:e.counts)))&&(n&&(t.last_time=i),!0))}),(0,i._)(this,"checkStrategyOverTime",()=>{let e=(0,o.getCurrentTime)();return(!this.strategy||!this.strategy.expire_time||!(e<this.strategy.expire_time))&&!0}),this.aid=e,this.request=t}}},66047:function(e,t,n){n.d(t,{C:function(){return r},_:function(){return l}});var i=n(88648),o=n(780957);let r=(0,i.createContext)({}),l=()=>{let e=(0,i.useContext)(r),t=(0,o.p)(e=>e.abTestData);return t.enableZustand?t:e}},643385:function(e,t,n){n.d(t,{v:function(){return i}});let i=(0,n(88648).createContext)(null)},591213:function(e,t,n){n.d(t,{H:function(){return i}});let i=new(n(960871)).i({})},985229:function(e,t,n){n.d(t,{x:function(){return i}});let i={pop_controller_init:{eventName:"pop_controller_init",params:{}},pop_controller_attempt_open:{eventName:"pop_controller_attempt_open",params:{pop_name:"",result:"",pop_today_show_count:0,pop_total_show_count:0,global_today_show_count:0,global_total_show_count:0}},pop_controller_execute_open:{eventName:"pop_controller_execute_open",params:{pop_name:"",open_type:"",pop_today_show_count:0,pop_total_show_count:0,global_today_show_count:0,global_total_show_count:0}},pop_controller_execute_close:{eventName:"pop_controller_execute_close",params:{pop_name:"",is_self_showing:!1,pop_today_show_count:0,pop_total_show_count:0,global_today_show_count:0,global_total_show_count:0}}}},594649:function(e,t,n){n.d(t,{E:function(){return o}});var i=n(520739);function o(e,t){var n,o,r,l;let a="";try{a=(null===(r=(l=window).collectEvent)||void 0===r?void 0:r.call(l,"getAbSdkVersion"))||""}catch(e){}let u=(0,i._)({category:"umeng",is_ad_event:1,ab_sdk_version:a},t);null===(n=(o=window).collectEvent)||void 0===n||n.call(o,e,u)}},942358:function(e,t,n){n.d(t,{S:function(){return i},h:function(){return o}});let i={clickCommentButton:{eventName:"click_comment_button",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_full_screen:"0",from_follow_list:"0",relation:"",clarity:"",aweme_type:"",is_auto:1,item_duration_ms:0}},enterPersonalDetail:{eventName:"enter_personal_detail",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",to_user_id:"",enter_method:""}},report:{eventName:"report",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",enter_method:"",is_full_screen:"0"}},clickFavoriteVideo:{eventName:"click_favorite_video",params:{click_from:"icon",previous_page:"",author_id:"",group_id:"",log_pb:"",enter_from:"",is_full_screen:"0",click_method:"",tab_name:""}},clickCancelFavoriteVideo:{eventName:"click_cancel_favorite_video",params:{click_from:"icon",previous_page:"",author_id:"",group_id:"",log_pb:"",enter_from:"",is_full_screen:"0",tab_name:""}},clickVideoTitle:{eventName:"click_video_title",params:{action:"expand",author_id:"",group_id:"",enter_from:"",log_pb:"",previous_page:"",is_full_screen:"0",player_display_mode:""}},clickTitleAt:{eventName:"click_title_at",params:{to_user_id:"",author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_full_screen:"0"}},post_comment_finish:{eventName:"post_comment_finish",params:{enter_from:"",comment_panel_position:"",group_id:"",comment_id:"",comment_category:""}},clickTitleHashtag:{eventName:"click_title_hashtag",params:{hashtag:"",author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_full_screen:"0",tag_id:"",player_display_mode:""}},enterPersonalHomepage:{eventName:"enter_personal_homepage",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",to_user_id:"",enter_method:""}}},o="web_code_link"},196425:function(e,t,n){n.d(t,{K:function(){return o}});var i=n(872136);let o=new i.h({aiNoteButtonShow:{eventName:"ai_note_button_show",params:{enter_method:"",enter_from:"",group_id:"",author_id:"",player_display_mode:""}},aiNoteButtonEnter:{eventName:"ai_note_button_enter",params:{enter_method:"",enter_from:"",group_id:"",author_id:"",query_type:"",query:"",player_display_mode:""}},pcAiNotePageShow:{eventName:"pc_ai_note_page_show",params:{enter_from:"",enter_method:"",group_id:"",author_id:"",note_status:"",is_cold_start:"",tab_name:""}},pcAiNotePageClose:{eventName:"pc_ai_note_page_close",params:{button_name:"",enter_from:"",enter_method:"",group_id:"",author_id:"",is_first_note:"",tab_name:""}},pcAiNotePageCreateStart:{eventName:"pc_ai_note_page_create_start",params:{enter_from:"",enter_method:"",group_id:"",author_id:"",is_first_note:"",tab_name:""}},pcAiNotePageCreateResult:{eventName:"pc_ai_note_page_create_result",params:{enter_from:"",enter_method:"",group_id:"",author_id:"",result_type:"",result_reason:"",tab_name:""}},pcAiNotePageScreenshot:{eventName:"pc_ai_note_page_screenshot",params:{enter_from:"",enter_method:"",group_id:"",author_id:"",note_status:""}},pcAiNotePageEditor:{eventName:"pc_ai_note_page_editor",params:{note_status:"",button_name:"",enter_from:"",enter_method:"",group_id:"",author_id:""}},aiNoteDraftPageDuration:{eventName:"ai_note_draft_page_duration",params:{enter_from:"",enter_method:"",group_id:"",author_id:"",note_status:"",duration:0,tab_name:""}},pcAiNoteDeletePopShow:{eventName:"pc_ai_note_delete_pop_show",params:{enter_from:"",enter_method:"",tab_name:"ai_note",note_id:"",group_id:"",author_id:""}},pcAiNoteDeleteResult:{eventName:"pc_ai_note_delete_result",params:{result_type:"",note_id:"",enter_from:"",enter_method:"",tab_name:"ai_note",group_id:"",author_id:""}},pcAiNoteError:{eventName:"pc_ai_note_error",params:{type:"",detail:""}},pcAiNotePageSaveClick:{eventName:"pc_ai_note_page_save_click",params:{enter_from:"",group_id:"",author_id:"",enter_method:""}},pcAiNotePageRedoClick:{eventName:"pc_ai_note_page_redo_click",params:{enter_from:"",group_id:"",author_id:"",enter_method:""}},pcAiNotePageUndoClick:{eventName:"pc_ai_note_page_undo_click",params:{enter_from:"",group_id:"",author_id:"",enter_method:""}},detailTabAiNoteCardShow:{eventName:"detail_tab_ai_note_card_show",params:{enter_from:"",group_id:"",note_type:"",author_id:""}},detailTabAiNoteCardClick:{eventName:"detail_tab_ai_note_card_click",params:{enter_from:"",note_type:"",group_id:"",author_id:""}},detailTabAiNoteCardSlide:{eventName:"detail_tab_ai_note_card_slide",params:{enter_from:"",note_type:"",group_id:"",author_id:""}},pcAiNotePageTimestampShow:{eventName:"pc_ai_note_page_timestamp_show",params:{timestamp_position:"",note_type:"",timestamp_title:"",enter_from:"",enter_method:"",group_id:"",author_id:""}},pcAiNotePageTimestampClick:{eventName:"pc_ai_note_page_timestamp_click",params:{timestamp_position:"",note_type:"",timestamp_title:"",enter_from:"",enter_method:"",group_id:"",author_id:""}}})},316956:function(e,t,n){n.d(t,{s:function(){return a}});var i=n(520739);n(779788),n(675373);var o=n(576660),r=n(66863);let{COMMON_SEARCH_PARAMS:l}=o||{};async function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",u=await (0,r.v_)("/aweme/v1/web/commit/item/digg/",(0,i._)({},l),(0,i._)({aweme_id:e,type:Number(t),item_type:n},o?{friend_recommend:2,recommend_uids:a}:{}),{metrics:{aweme_id:e}}),s=u.status_code;return 0===u.status_code&&void 0===u.is_digg&&(s=-1),{logPb:u.log_pb&&JSON.stringify(u.log_pb),statusCode:s,isDigg:u.is_digg,errMsg:0===s||u.status_msg?u.status_msg:"啊哦，服务器打瞌睡了"}}},500899:function(e,t,n){n.r(t),n.d(t,{cancelAppointment:function(){return V},fetchAppointmentList:function(){return H},fetchGwid:function(){return j},fetchInnerFeedList:function(){return M},fetchInnerSearchFeedList:function(){return O},fetchUserCollection:function(){return P},fetchUserFavorite:function(){return x},fetchUserFeedbackOnlineImToken:function(){return C},fetchUserFeedbackOnlineUrl:function(){return S},fetchUserLocatePost:function(){return N},fetchUserPost:function(){return T},fetchUserProfile:function(){return k},fetchUserProfileSelf:function(){return I},fetchUserRecommend:function(){return L},fetchUserRight:function(){return W},fetchUserRiskLevel:function(){return G},fetchUserSecretPost:function(){return D},fetchUserSeries:function(){return E},fetchUserVisitedList:function(){return A},fetchWebIdRegisterTime:function(){return U},fetchWebcastFeedList:function(){return R},reportUserVisitedRecord:function(){return F}});var i=n(520739),o=n(878389),r=n(368200);n(779788),n(675373),n(250440);var l=n(576660),a=n(597087),u=n(66863),s=n(842602),d=n(953342),c=n(742740),f=n(268225);let{COMMON_SEARCH_PARAMS:v,DISABLE_SECRET_VIDEO_PARAMS:m,CHANNEL_PC_WEB:g,WHALE_CUT_HEADER:_}=l||{},{ERROR_CODE:h}=a||{};function p(e,t){let n=e.data.map(e=>{let n;if(e.authorInfo.roleId!==d.CooperationRoleId.Author){var r,l;let a=null===(l=e.cooperationInfo)||void 0===l?void 0:null===(r=l.cooperationCreators)||void 0===r?void 0:r.filter(e=>e.secUid===t);if((null==a?void 0:a.length)>0)return n=a[0],(0,o._)((0,i._)({},e),{authorInfo:n})}return e});return e.data=n,e}function w(e){let{aweme_list:t,status_code:n,has_more:i,max_cursor:o,log_pb:r,has_locate_item:l,forward_has_more:a,min_cursor:u,whaleDecisionCustom:d,whaleInfo:c,time_list:f,not_login_module:v}=e,m="";try{m=JSON.stringify(r)}catch(e){}let g={};if(v){var h;let{guide_login_tip_exist:e,guide_login_tip_cover_url:t}=v;g={guideLoginTipExist:e,guideLoginTipCover:null==t?void 0:null===(h=t.url_list)||void 0===h?void 0:h[0]}}try{let e={};e=JSON.parse((null==v?void 0:v.extra)||"{}"),g.guideLoginTipText=e.guide_login_tip_text_triserial,g.guideLoginTipDesc=e.guide_login_tip_desc,g.guideLoginTipCreateTime=e.guide_login_tip_create_time}catch(e){}let p=_===(null==c?void 0:c.whaleDecisionCustom),w=i;return void 0===i&&p&&(w=1),{statusCode:n,hasMore:w,cursor:o,maxCursor:o,logPb:m,hasLocateItem:l,minCursor:u,forwardHasMore:a,data:(0,s.TN)({awemeList:t||[],logPb:m}),whaleDecisionCustom:d,whaleInfo:c,timeList:f,notLoginModule:g}}function y(e){let{aweme_list:t,status_code:n,has_more:i,cursor:o,log_pb:r}=e;return{statusCode:n,hasMore:i,cursor:o,maxCursor:o,logPb:r,data:(0,s.TN)({awemeList:t||[],logPb:r})}}function b(e){let{status_code:t,status_msg:n,user:i,log_pb:o,user_collect_count:r,user_watchlater_count:l}=e;return i&&(i.user_collect_count=r,i.user_watchlater_count=l),{statusCode:0!==t||(null==r?void 0:r.status_code)!==0||(null==i?void 0:i.uid)?t:-404,statusMsg:n,logPb:o,user:(0,s.Cy)(i)}}async function C(e){return await (0,u.v_)("/aweme/v1/web/im/token/",(0,o._)((0,i._)({},v,m),{app_id:e.appId,channel:e.channel}),{},{})}async function S(e){return await (0,u.v_)("/aweme/v1/web/im/get/online_feedback/entrance/",(0,o._)((0,i._)({},v,m),{app_id:e.appId,channel:e.channel,entrance:e.entrance}),{},{})}async function I(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return b(await (0,u.U2)("/aweme/v1/web/user/profile/self/",(0,o._)((0,i._)({},v,m),{source:g,personal_center_strategy:1}),e?{timeout:1e3}:{},void 0,e,t))}async function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return b(await (0,u.U2)("/aweme/v1/web/user/profile/other/",(0,o._)((0,i._)({},v,m),{source:g,sec_user_id:e,personal_center_strategy:1,profile_other_record_enable:1,land_to:1}),{},void 0,t,n))}async function x(e){let{userId:t="",maxCursor:n=0,count:r=10,cancleFunc:l={current:null},whaleCutToken:a=""}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return w(await (0,u.U2)("/aweme/v1/web/aweme/favorite/",(0,i._)((0,o._)((0,i._)({},v),{sec_user_id:t,max_cursor:n,min_cursor:0,whale_cut_token:a,cut_version:1,count:r}),m),{},void 0,s,{},l))}async function L(e){let{userId:t="",maxCursor:n=0,count:r=10,cancleFunc:l={current:null},whaleCutToken:a=""}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return w(await (0,u.U2)("/aweme/v1/web/familiar/recommend/feed/",(0,o._)((0,i._)({},v),{sec_user_id:t,max_cursor:n,min_cursor:0,whale_cut_token:a,count:r,from:1,device_platform:""}),{},void 0,s,{},l))}async function T(e){let{userId:t="",maxCursor:n=0,count:r=10,locateItemId:l,locateQuery:a=!1,forwardEndCursor:s,forwardAnchorCursor:d,needTimeList:g=!1,timeListQuery:_=!1,whaleCutToken:y=""}=e,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return{statusCode:h.ERROR_INVALID_PARAM};let{pathname:C}=location,S=C.includes("/user/")&&!C.includes("/user/self"),I=await (0,u.U2)("/aweme/v1/web/aweme/post/",(0,o._)((0,i._)((0,o._)((0,i._)({},v),{sec_user_id:t,max_cursor:n,locate_item_id:l,locate_query:a,forward_anchor_cursor:d,forward_end_cursor:s,show_live_replay_strategy:1,need_time_list:Number(g),time_list_query:Number(_),whale_cut_token:y,cut_version:1,count:r}),m),{from_user_page:S?1:0}),{options:b?{timeout:1500}:{}},void 0,b,{});return f.Z.sendLog("awemePostFetch",{enter_from:(0,c.yW)()}),p(w(I),t)}async function D(e){let{userId:t="",maxCursor:n=0,count:r=10}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?p(w(await (0,u.U2)("/aweme/v1/web/private/aweme/",(0,o._)((0,i._)({},v),{max_cursor:n,min_cursor:0,count:r}),{options:l?{timeout:2e3}:{}},void 0,l,{})),t):{statusCode:h.ERROR_INVALID_PARAM}}async function N(e){let{userId:t="",createTime:n=0,count:r=10,locateItemId:l,cursor:a=0}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?p(w(await (0,u.U2)("/aweme/v1/web/locate/post/",(0,i._)((0,o._)((0,i._)({},v),{sec_user_id:t,max_cursor:a,locate_item_id:l,locate_item_cursor:n,locate_query:!0,count:r}),m),{options:s?{timeout:1500}:{}},void 0,s,{})),t):{statusCode:h.ERROR_INVALID_PARAM}}async function P(e){let{maxCursor:t=0,count:n=10,cancleFunc:o={current:null}}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return y(await (0,u.v_)("/aweme/v1/web/aweme/listcollection/",(0,i._)({},v,m),{cursor:t,count:n},void 0,r,o))}async function E(e){let{maxCursor:t=0,count:n=10,cancleFunc:o={current:null}}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return y(await (0,u.v_)("/aweme/v1/web/series/aweme/",(0,i._)({},v,m),{cursor:t,count:n},void 0,r,o))}async function A(e){let{cursor:t,count:n=20}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=await (0,u.v_)("/aweme/v1/web/view/user/visited/list/",(0,i._)({},v,m),{cursor:t,count:n},void 0,o);return(0,s.L7)(r)}async function R(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var{cursor:n}=e,l=(0,r._)(e,["cursor"]);let a=await (0,u.U2)("/webcast/feed/",(0,i._)((0,o._)((0,i._)({},v),{request_tag_from:"web",need_map:1,source_key:"drawer_hot_live_history",app_name:"douyin_web",live_id:1,language:"zh-CN",max_time:n}),l),{},void 0,t);return(0,s.oO)(a)}async function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=await (0,u.U2)("/webcast/feed/",(0,i._)((0,o._)((0,i._)({},v),{device_platform:"web",request_tag_from:"web",need_map:1,app_name:"douyin_web",live_id:1,language:"zh-CN",is_draw:1,inner_from_drawer:0,custom_count:50,action:"load_more",action_type:"loadmore",enter_source:"web_homepage_hot_web_live_cell",source_key:"web_homepage_hot_web_live_cell",max_time:new Date().getTime()}),e),{},void 0,t);return(0,s.dY)(n)}async function O(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=await (0,u.U2)("/aweme/v1/web/live/search/",(0,i._)((0,o._)((0,i._)({},v),{search_channel:"aweme_live",search_source:"switch_tab",query_correct_type:1,count:20,need_filter_settings:1,list_type:"single"}),e),{},void 0,t);return(0,s.vm)(n)}async function F(e){let{recordParams:t}=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{status_code:o,log_pb:r}=await (0,u.v_)("/aweme/v1/web/profile/record/",(0,i._)({},v,m),{record_params:t,scene:"enter_others_homepage"},{},n)||{};return{statusCode:o,logPb:r}}async function U(){let{psm:e="",cluster:t=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{let o=await (0,u.U2)("/aweme/v1/web/query/user/",(0,i._)({},v,m),{},void 0,n,{psm:e,cluster:t});return Number((null==o?void 0:o.create_time)||0)}catch(e){return 0}}async function j(e,t){var n,r;let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=await (0,u.U2)("/aweme/v1/web/query/globalwid/",(0,o._)((0,i._)({},v),{web_id:e,order:t,effect_time_type:l}),{},void 0,a);if((null==s?void 0:s.status_code)===0&&(null==s?void 0:null===(r=s.data)||void 0===r?void 0:null===(n=r.wid_info_list)||void 0===n?void 0:n.length)>0){let{web_id:e,odin:t={}}=s.data.wid_info_list[0];return{globalwid:e,globaluid:t.user_id,globaluType:t.user_type}}return{}}let B=e=>{let{data:t,status_code:n}=e||{};return{statusCode:n,userRightDetailList:((null==t?void 0:t.UserRightDetailList)||[]).map(e=>({appId:e.AppID,businessPermissionId:e.BusinessPermissionID,businessType:e.BusinessType,deliveryScene:e.DeliveryScene,deliveryStatus:e.DeliveryStatus,extra:e.Extra,fromUserId:e.FromUserID,itemId:e.ItemID,itemIdType:e.ItemIDType,itemSku:e.ItemSku,permissionId:e.PermissionID,stockRecordId:e.StockRecordID,stockPackageRecordId:e.StockPackageRecordID,updateVersionNumber:e.UpdateVersionNumber,lastEventType:e.LastEventType,LiveId:e.LiveID}))}};async function W(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{itemList:n=[],bizSceneType:r}=e;return B(await (0,u.U2)("/aweme/v1/web/user/self/right",(0,o._)((0,i._)({},v,m),{item_details:JSON.stringify(n.map(e=>({ItemID:e.itemId,ItemIDType:e.itemIdType,ItemSku:e.itemSku}))),biz_scene_type:r,need_filter_invalid_record:!0}),{},void 0,t))}async function H(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=await (0,u.U2)("/aweme/v1/web/user/appointment/list/",(0,o._)((0,i._)({},v,m),{appointment_type:100,count:-1}),{},void 0,e);return(0,s._Z)(t)}async function V(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=await (0,u.v_)("/webcast/appointment/cancel/",(0,i._)((0,o._)((0,i._)({},v,m),{source:10043}),e),{},{},n);return{statusCode:null==r?void 0:r.status_code,data:{responseStatus:null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.response_status}}}async function G(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=await (0,u.U2)("/aweme/v1/web/get/user/risklevel/",(0,i._)({},v,m),{},void 0,e);return{statusCode:null==t?void 0:t.status_code,data:{riskLevel:null==t?void 0:t.risk_level,reason:null==t?void 0:t.reason}}}},268225:function(e,t,n){var i=n(872136);t.Z=new i.h({showSafeVerify:{eventName:"show_safe_verify",params:{enter_from:""}},safeVerifyResult:{eventName:"safe_verify_result",params:{enter_from:"",info:"unknow"}},awemePostFetch:{eventName:"aweme_post_fetch",params:{enter_from:""}},loginPunishByMistake:{eventName:"login_punish_by_mistake",params:{enter_from:"",way:""}},danmakuApi:{eventName:"danmaku_api",params:{url_path:"",status_code:"",status_message:""}},discoverFeedInfo:{eventName:"discover_feed_info",params:{requestCount:0,responseCount:0,rate:0}},initSecuritySdk:{eventName:"init_security_sdk",params:{status:"unknown"}},reportWebAuthLocalStorageSet:{eventName:"report_web_auth_local_storage_set",params:{status:"unknown",message:""}}})},747674:function(e,t,n){n.d(t,{BJ:function(){return h},Bx:function(){return c},DV:function(){return m},EH:function(){return v},JF:function(){return d},RG:function(){return _},ec:function(){return g},pW:function(){return f},s5:function(){return p}});var i=n(520739),o=n(842602);let{WHALE_CUT_HEADER:r}=n(576660),l={not_related:0,fans:0,follow:1,friends:2},a={not_related:0,fans:1,follow:0,friends:1};function u(e){let{crop_url:t,medium_url:n,origin_url:i,thumb_url:o}=e||{};return{cropUrl:{width:null==t?void 0:t.width,height:null==t?void 0:t.height,urlList:null==t?void 0:t.url_list},mediumUrl:{width:null==n?void 0:n.width,height:null==n?void 0:n.height,urlList:null==n?void 0:n.url_list},originUrl:{width:null==i?void 0:i.width,height:null==i?void 0:i.height,urlList:null==i?void 0:i.url_list},thumbUrl:{width:null==o?void 0:o.width,height:null==o?void 0:o.height,urlList:null==o?void 0:o.url_list}}}function s(e){var t,n,i,r,l,a,d,c,f,v,m,g;return{diggCount:null==e?void 0:e.digg_count,cid:null==e?void 0:e.cid,text:null==e?void 0:e.text,textExtra:(0,o.yL)((null==e?void 0:e.text_extra)||[]),stickyInfo:{url:null==e?void 0:null===(i=e.sticker)||void 0===i?void 0:null===(n=i.static_url)||void 0===n?void 0:null===(t=n.url_list)||void 0===t?void 0:t[0],height:null==e?void 0:null===(l=e.sticker)||void 0===l?void 0:null===(r=l.static_url)||void 0===r?void 0:r.height,width:null==e?void 0:null===(d=e.sticker)||void 0===d?void 0:null===(a=d.static_url)||void 0===a?void 0:a.width,uri:null==e?void 0:null===(f=e.sticker)||void 0===f?void 0:null===(c=f.static_url)||void 0===c?void 0:c.uri,id:(null==e?void 0:null===(v=e.sticker)||void 0===v?void 0:v.id_str)||(null==e?void 0:null===(m=e.sticker)||void 0===m?void 0:m.id),type:null==e?void 0:null===(g=e.sticker)||void 0===g?void 0:g.sticker_type},user:(0,o.Fm)(e.user),labelText:e.label_text,labelType:e.label_type,isTop:e.stick_position,labelList:e.label_list||[],createTime:e.create_time,forwardId:e.forward_id,replyId:e.reply_id,replyTotal:e.reply_comment_total||0,replyToUserId:e.reply_to_reply_id,replyToUserName:e.reply_to_username,replySecUid:e.reply_to_user_sec_id,userDigged:e.user_digged,replyComment:(e.reply_comment||[]).map(e=>s(e)),ipLabel:null==e?void 0:e.ip_label,userBuried:null==e?void 0:e.user_buried,status:null==e?void 0:e.status,imageList:((null==e?void 0:e.image_list)||[]).map(e=>u(e))}}function d(e){let{comments:t=[],status_code:n,has_more:i,total:o,hotsoon_has_more:l,hotsoon_text:a,log_pb:u,whaleDecisionCustom:d,whaleInfo:c}=e,f=r===(null==c?void 0:c.whaleDecisionCustom);return void 0===i,{statusCode:n,hasMore:!!f||0!==i&&null!==i,hotsoonHasMore:l,hotsoonText:a,total:o,logPb:u,cursor:e.cursor,comments:(t||[]).map(e=>s(e)),whaleDecisionCustom:d,whaleInfo:c}}function c(e){let{status_code:t,log_pb:n}=e||{};return{statusCode:t,logPb:n}}function f(e){let{status_code:t,log_pb:n,msg:i}=e||{};return{statusCode:t,msg:i,logPb:n}}function v(e){let{status_code:t,log_pb:n,status_msg:i,comment:r,toast_type:l,success_toast_msg:a}=e||{};return{statusCode:t,logPb:n,statusMsg:i,successToastMsg:a,toastType:l,comment:function(){var e,t,n,i,r,l,a,d,c,f,v,m,g,_,h,p;let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!w)return{};let y=(null==w?void 0:w.reply_to_username)||"0"!==w.reply_to_reply_id&&(null==w?void 0:w.reply_comment)&&(null==w?void 0:null===(t=w.reply_comment[0])||void 0===t?void 0:null===(e=t.user)||void 0===e?void 0:e.nickname)||"",b=(null==w?void 0:w.reply_to_user_sec_id)||"0"!==w.reply_to_reply_id&&(null==w?void 0:w.reply_comment)&&(null==w?void 0:null===(i=w.reply_comment[0])||void 0===i?void 0:null===(n=i.user)||void 0===n?void 0:n.sec_uid)||"";return{diggCount:(null==w?void 0:w.digg_count)||0,cid:null==w?void 0:w.cid,text:null==w?void 0:w.text,textExtra:(0,o.yL)(null==w?void 0:w.text_extra),stickyInfo:{url:null==w?void 0:null===(a=w.sticker)||void 0===a?void 0:null===(l=a.static_url)||void 0===l?void 0:null===(r=l.url_list)||void 0===r?void 0:r[0],height:null==w?void 0:null===(c=w.sticker)||void 0===c?void 0:null===(d=c.static_url)||void 0===d?void 0:d.height,width:null==w?void 0:null===(v=w.sticker)||void 0===v?void 0:null===(f=v.static_url)||void 0===f?void 0:f.width,uri:null==w?void 0:null===(g=w.sticker)||void 0===g?void 0:null===(m=g.static_url)||void 0===m?void 0:m.uri,id:(null==w?void 0:null===(_=w.sticker)||void 0===_?void 0:_.id_str)||(null==w?void 0:null===(h=w.sticker)||void 0===h?void 0:h.id),type:null==w?void 0:null===(p=w.sticker)||void 0===p?void 0:p.sticker_type},replyId:null==w?void 0:w.reply_id,user:(0,o.Fm)(null==w?void 0:w.user),labelText:null==w?void 0:w.label_text,labelType:null==w?void 0:w.label_type,isTop:null==w?void 0:w.stick_position,labelList:(null==w?void 0:w.label_list)||[],createTime:null==w?void 0:w.create_time,forwardId:null==w?void 0:w.forward_id,replyTotal:(null==w?void 0:w.reply_comment_total)||0,replyToUserId:null==w?void 0:w.reply_to_reply_id,replyToUserName:y,replySecUid:b,userDigged:null==w?void 0:w.user_digged,replyComment:((null==w?void 0:w.reply_comment)||[]).map(e=>s(e)),whaleDecisionCustom:null==w?void 0:w.whaleDecisionCustom,whaleInfo:null==w?void 0:w.whaleInfo,imageList:((null==w?void 0:w.image_list)||[]).map(e=>u(e))}}(r)}}function m(e){let{status_code:t,log_pb:n,user_list:i,cursor:r,has_more:l}=e||{};return{statusCode:t,logPb:n,userList:(i||[]).map(e=>(0,o.Fm)(e||{})),cursor:r,hasMore:l}}function g(e){let{status_code:t,log_pb:n,translation:i}=e||{};return{statusCode:t,logPb:n,translation:i}}function _(e){let{status_code:t,traslate_comment:n}=e||{};return{statusCode:t,translateComment:n}}function h(e){return(0,i._)({},e)}function p(e){var t;let{errno:n,log_id:i,data:o}=e,r=((null==o?void 0:null===(t=o[0])||void 0===t?void 0:t.words)||[]).map(e=>{let t;try{var n;t=JSON.parse(null==e?void 0:null===(n=e.params)||void 0===n?void 0:n.info)}catch(e){t={}}return{avatarUri:null==t?void 0:t.rich_sug_avatar_uri,nickname:null==t?void 0:t.rich_sug_nickname,name:null==t?void 0:t.rich_sug_nickname,uid:null==e?void 0:e.id,secUid:null==t?void 0:t.rich_sug_sec_uid,remarkName:null==t?void 0:t.rich_sug_remarkname,followStatus:l[null==t?void 0:t.rich_sug_follow_status],followerStatus:a[null==t?void 0:t.rich_sug_follow_status],uniqueId:null==t?void 0:t.rich_sug_short_id,customVerify:(null==t?void 0:t.rich_sug_user_type)==="0"?null==t?void 0:t.rich_sug_cert_name:"",enterpriseVerifyReason:(null==t?void 0:t.rich_sug_user_type)==="1"?null==t?void 0:t.rich_sug_cert_name:""}});return{statusCode:Number(n),logPb:i,userList:r}}},594235:function(e,t,n){n.r(t),n.d(t,{SERVICE_NAME:function(){return u},get:function(){return g},getAll:function(){return _},packRawInSSR:function(){return c},syncCacheFromSSR:function(){return h}});var i=n(520739);n(874386),n(675373);var o=n(428775),r=n.n(o),l=n(949650),a=n(725887),u={HOME:"douyin.pc.web-default",XG_TV:"xigua.fe.tv_common-default",LIVE:"webcast.douyin.live_pc-default",SEARCH:"douyin.pc.search-default"};let s=new Map([["douyin.pc.web-default","https://lf3-config.bytetcc.com/obj/tcc-config-web/tcc-v2-data-douyin.pc.web-default"],["xigua.fe.tv_common-default","https://lf3-config.bytetcc.com/obj/tcc-config-web/tcc-v2-data-xigua.fe.tv_common-default"],["webcast.douyin.live_pc-default","https://lf3-config.bytetcc.com/obj/tcc-config-web/tcc-v2-data-webcast.douyin.live_pc-default"],["douyin.pc.search-default","https://lf3-config.bytetcc.com/obj/tcc-config-web/tcc-v2-data-douyin.pc.search-default"]]),d=new Map([["douyin.pc.web-default","main"],["douyin.pc.search-default","search"]]);function c(e){let t={};return e&&Object.keys(e).forEach(n=>{try{t[n]=JSON.parse(e[n])}catch(e){return null}}),t}async function f(e,t,n){if((null==v?void 0:v[t])!==void 0)return null==v?void 0:v[t];let{data:o}=function(e){let{data:t,version_code:n,modify_time:i}=e,o={};return t&&Object.keys(t).forEach(e=>{try{o[e]=JSON.parse(t[e])}catch(e){}}),{data:o,versionCode:n,modifyTime:i}}((await e).data);a.Le.setConfig(a.gI.TccData,o),v=v?(0,i._)({},v,o):o;let r=o[t];return null!=r?r:n}let v=null,m={},g=async e=>{let{key:t,ctx:n,defaultValue:i,namespace:o="douyin.pc.web-default",useCache:a=!0}=e;{if((null==v?void 0:v[t])!==void 0&&a)return null==v?void 0:v[t];if(m[o]){let e=await f(m[o],t,i);return m[o]=null,e}let e=(l.uZ,s.get(o));try{m[o]=r().get(e);let n=await f(m[o],t,i);return m[o]=null,n}catch(e){return i}}},_=async e=>{var t,n;let{ctx:i,namespace:o="douyin.pc.web-default",enableLogger:r=!1}=e;if(!i)return null;try{let e=d.get(o),n=await i.tcc[e].getAll(),l=c(n);return r&&(null==i||null===(t=i.logger)||void 0===t||t.info("get all tcc config success:",n)),l}catch(e){return r&&(null==i||null===(n=i.logger)||void 0===n||n.warn("get all tcc config failed, because:",e)),null}},h=e=>{v=e,e&&a.Le.setConfig(a.gI.TccData,e)}},905003:function(e,t,n){n.d(t,{a:function(){return i}});var i={Im:"im",MainPage:"main_page",Search:"search",DiscoverUpdate:"discoverUpdate",RecommendUpdateWindow:"recommendUpdateWindow",CollectionFolder:"collection_folder",UserCollectionMix:"UserCollectionMix",UserCollectionSeries:"UserCollectionSeries",UserPost:"userPost",UserPostMix:"userPostMix",UserPostSeries:"userPostSeries",UserCollection:"userCollection",UserLike:"userLike",UserWatchLater:"userWatchLater",UserHistory:"userHistory",Hot:"hot",UserRecord:"userRecord",Zhuanti:"zhuanti",Topic:"topic",WaterFall:"waterFall",FollowAuthorModal:"followAuthorModal",GeneralSearch:"general_search",DouBaoChatFeed:"doubao_chat_feed",UserCard:"userCard",ShareModal:"shareModal",AiExtension:"ai_extension",Activity:"activity",UserRecommend:"user_recommend",AiSearch:"ai_search"}},737470:function(e,t,n){n.d(t,{QB:function(){return u},Qo:function(){return d},Qu:function(){return a},Sh:function(){return i},Wy:function(){return l},Z9:function(){return o},nw:function(){return r},oz:function(){return s}});var i={InnerSite:1,1:"InnerSite",ThirdSite:2,2:"ThirdSite",MP:3,3:"MP",Ultra:4,4:"Ultra",Program:10,10:"Program"},o={DisplayCard13:0,0:"DisplayCard13",Live:1,1:"Live",ShopVideo:2,2:"ShopVideo",Mp:3,3:"Mp",Download:4,4:"Download",PreviewLive:5,5:"PreviewLive"},r={SingleLine102:205707,205707:"SingleLine102",MultiLine102:205708,205708:"MultiLine102",Detail102:205709,205709:"Detail102",SingleLine303:205794,205794:"SingleLine303",MultiLine303:205795,205795:"MultiLine303",Detail303:205796,205796:"Detail303",SingleLine304:205797,205797:"SingleLine304",MultiLine304:205798,205798:"MultiLine304",Detail304:205799,205799:"Detail304",Swiper304:205805,205805:"Swiper304"},l={Btn:"BUTTON",Img:"FLOAT_TIP"},a={NormalInsert:1,1:"NormalInsert",Splash:2,2:"Splash"},u={Unknown:0,0:"Unknown",Normal:1,1:"Normal",Fullscreen:2,2:"Fullscreen"},s={External:1,1:"External",Article:2,2:"Article",AppV2:3,3:"AppV2",Goods:4,4:"Goods",DynamicProductLibary:5,5:"DynamicProductLibary",AdvertiserStore:6,6:"AdvertiserStore",Awemefollow:7,7:"Awemefollow",Shop:8,8:"Shop",LiveRoom:9,9:"LiveRoom",QuickApp:10,10:"QuickApp",Game:16,16:"Game",ShopV2:17,17:"ShopV2",LocalADS:20,20:"LocalADS"},d={VideoForLive:303,303:"VideoForLive",Live:304,304:"Live",ShopVideo:102,102:"ShopVideo"}},111738:function(e,t,n){n.d(t,{y:function(){return i}});var i={normal_1080:1,1:"normal_1080",adapt_lowest_1080:2,2:"adapt_lowest_1080",adapt_lower_1080:3,3:"adapt_lower_1080",adapt_1080:4,4:"adapt_1080",normal_1440:6,6:"normal_1440",adapt_lowest_1440:7,7:"adapt_lowest_1440",normal_720:10,10:"normal_720",low_720:11,11:"low_720",adapt_high_720:12,12:"adapt_high_720",adapt_higher_720:13,13:"adapt_higher_720",adapt_lower_720:14,14:"adapt_lower_720",adapt_lowest_720:15,15:"adapt_lowest_720",higher_720:16,16:"higher_720",highest_720:17,17:"highest_720",adapt_720:18,18:"adapt_720",adapt_low_720:19,19:"adapt_low_720",lower_720:191,191:"lower_720",normal_540:20,20:"normal_540",adapt_lower_540:21,21:"adapt_lower_540",adapt_high_540:22,22:"adapt_high_540",adapt_higher_540:23,23:"adapt_higher_540",lower_540:24,24:"lower_540",lowest_540:25,25:"lowest_540",higher_540:26,26:"higher_540",highest_540:27,27:"highest_540",adapt_540:28,28:"adapt_540",adapt_lowest_540:29,29:"adapt_lowest_540",adapt_low_540:291,291:"adapt_low_540",normal_480:30,30:"normal_480",low_480:31,31:"low_480",high_480:32,32:"high_480",medium_480:33,33:"medium_480",lower_480:34,34:"lower_480",lowest_480:35,35:"lowest_480",higher_480:36,36:"higher_480",highest_480:37,37:"highest_480",adapt_480:38,38:"adapt_480",adapt_lower_480:39,39:"adapt_lower_480",adapt_high_480:391,391:"adapt_high_480",normal_360:40,40:"normal_360",low_360:41,41:"low_360",high_360:42,42:"high_360",medium_360:43,43:"medium_360",lower_360:44,44:"lower_360",lowest_360:45,45:"lowest_360",higher_360:46,46:"higher_360",highest_360:47,47:"highest_360",adapt_360:48,48:"adapt_360",adapt_lowest_360:49,49:"adapt_lowest_360",adapt_high_360:50,50:"adapt_high_360"}},608986:function(e,t,n){n.d(t,{J:function(){return i},b:function(){return o}});var i={NoRight:0,0:"NoRight",Success:1,1:"Success",InEffect:2,2:"InEffect",ExpiredNeedTips:3,3:"ExpiredNeedTips",ExpiredAlreadyTips:4,4:"ExpiredAlreadyTips",Fail:5,5:"Fail"};let o={0:"",1:"已为您开启免广告模式，有效期3天",5:"登录成功，领取失败",2:"已为您开启免广告模式",3:"免广告体验已到期",4:""}},469308:function(e,t,n){var i=n(520739),o=n(878389),r=n(563097),l=n(88648);let a=(0,l.forwardRef)((e,t)=>(0,r.jsx)("svg",(0,o._)((0,i._)({width:14,height:13,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,r.jsx)("path",{d:"M13.699 6.333C13.699 2.818 10.782 0 7.223 0a6.51 6.51 0 0 0-5.405 2.843V1.674a.743.743 0 1 0-1.485 0v3.029c0 .41.333.742.743.742h3.028a.743.743 0 0 0 0-1.485H2.87a5.014 5.014 0 0 1 4.353-2.475c2.774 0 4.99 2.188 4.99 4.848 0 2.66-2.216 4.849-4.99 4.849-2.223 0-4.094-1.41-4.745-3.34a.743.743 0 0 0-1.407.474c.854 2.536 3.293 4.35 6.152 4.35 3.559 0 6.476-2.817 6.476-6.333z",fill:"#FE2C55"})})));t.Z=a},243225:function(e,t,n){var i=n(520739),o=n(878389),r=n(563097),l=n(88648);let a=(0,l.forwardRef)((e,t)=>(0,r.jsxs)("svg",(0,o._)((0,i._)({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,r.jsx)("path",{d:"M6.358 6.213a.525.525 0 1 0-1.05 0v3.762a.525.525 0 1 0 1.05 0V6.213zM8.167 5.688c.29 0 .525.235.525.525v3.762a.525.525 0 1 1-1.05 0V6.213c0-.29.235-.525.525-.525z",fill:"#2F3035",fillOpacity:".7"}),(0,r.jsx)("path",{d:"M4.313 2.088c.098-.55.576-.95 1.134-.95h3.106c.559 0 1.037.4 1.134.95l.174.975h1.951a.656.656 0 0 1 0 1.312h-.68l-.417 6.898a1.692 1.692 0 0 1-1.688 1.59H4.974a1.692 1.692 0 0 1-1.69-1.59L2.87 4.375h-.682a.656.656 0 0 1 0-1.312H4.14l.174-.975zm4.393.975l-.138-.776a.015.015 0 0 0-.015-.012H5.447a.015.015 0 0 0-.014.012l-.138.776h3.41zM3.92 4.375l.412 6.835c.02.338.301.603.64.603h4.054c.34 0 .62-.265.64-.603l.412-6.835H3.921z",fill:"#2F3035",fillOpacity:".7"})]})));t.Z=a},899857:function(e,t,n){var i=n(520739),o=n(878389),r=n(563097),l=n(88648);let a=(0,l.forwardRef)((e,t)=>(0,r.jsxs)("svg",(0,o._)((0,i._)({xmlns:"http://www.w3.org/2000/svg",width:21,height:20,fill:"none",ref:t},e),{children:[(0,r.jsx)("path",{opacity:".1",d:"M.5 10c0-5.523 4.477-10 10-10s10 4.477 10 10-4.477 10-10 10-10-4.477-10-10z",fill:"#FE2C55"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.946 8.333s.002 0 .001-.001a3.194 3.194 0 0 1 5.236-2.592.5.5 0 0 0 .634 0 3.194 3.194 0 0 1 5.237 2.594h.002c-.002 2.542-4.097 5.633-5.255 6.457a.514.514 0 0 1-.602 0c-1.158-.824-5.253-3.915-5.254-6.456l.001-.002z",fill:"url(#dig_svg__paint0_linear_5119_431972)"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"dig_svg__paint0_linear_5119_431972",x1:4.945,y1:5,x2:14.836,y2:15.986,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#FF1764"}),(0,r.jsx)("stop",{offset:1,stopColor:"#ED3495"})]})})]})));t.Z=a},448458:function(e,t,n){var i=n(520739),o=n(878389),r=n(563097),l=n(88648);let a=(0,l.forwardRef)((e,t)=>(0,r.jsx)("svg",(0,o._)((0,i._)({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.195 4.862a.667.667 0 0 0 0 .943l5.334 5.333c.26.26.682.26.942 0l5.334-5.333a.667.667 0 1 0-.943-.943L8 9.724 3.138 4.862a.667.667 0 0 0-.943 0z",fill:"#fff",fillOpacity:".5"})})));t.Z=a},671537:function(e,t,n){var i=n(520739),o=n(878389),r=n(563097),l=n(88648);let a=(0,l.forwardRef)((e,t)=>(0,r.jsxs)("svg",(0,o._)((0,i._)({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",ref:t},e),{children:[(0,r.jsx)("path",{opacity:".1",d:"M0 9a9 9 0 1 1 18 0A9 9 0 0 1 0 9z",fill:"#FE2C55"}),(0,r.jsx)("path",{d:"M12.744 7.615H9.81V4.657a.4.4 0 0 0-.715-.248L4.909 9.737a.4.4 0 0 0 .314.648h2.935v2.958a.4.4 0 0 0 .714.248l4.187-5.328a.4.4 0 0 0-.315-.648z",fill:"#F92378"})]})));t.Z=a},900933:function(e,t,n){var i=n(520739),o=n(878389),r=n(563097),l=n(88648);let a=(0,l.forwardRef)((e,t)=>(0,r.jsx)("svg",(0,o._)((0,i._)({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,fill:"none",ref:t},e),{children:(0,r.jsx)("path",{d:"M5.96 4.973a.857.857 0 0 1 1.212 0l3.111 3.112a.857.857 0 0 1 0 1.212l-.007.007-3.104 3.104a.857.857 0 1 1-1.212-1.212L8.465 8.69 5.96 6.185a.857.857 0 0 1 0-1.212z",fill:"#fff",fillOpacity:".5",opacity:".7"})})));t.Z=a},94054:function(e){e.exports=JSON.parse('{"featured":"Topick","recommend":"For You","follow":"Following","friend":"Friends","my":"Profile","settings":"Settings","business_cooperation":"About","default_home_settings":"Default Home Settings","depth_mode":"Appearance","general_settings":"General","keyboard_shortcuts":"Keyboard shortcuts","common_problem":"Help","feedback":"Feedback","send_a_friendly_bullet_comment":"Send a comment","login_to_post_bullet_comments":"Login to post danmaku","autoplay":"Autoplay","autoplay_close":"Close autoplay","autoplay_open":"Open autoplay","clear":"Clear","cancel_clear":"Cancel clear","smart":"Quality","double_speed":"Speed","see_you_later":"Watch later","webpage_full_screen":"Full screen on website","webpage_full_screen_exit":"Exit full screen on website","full_screen":"Full screen","full_screen_exit":"Exit full screen","pip":"Picture in picture","post_a_comment":"Add comment...","post_a_comment_search":"Add comment...","ta_s_works":"Videos","comment":"Comments","i_like_it_":"Liked","my_collection":"Favorites","watch_history":"History","my_work":"Your videos","log_out":"Log out","save":"save","login":"Login","login_1":" login ","ultra_hd_2k":"Ultra HD 2K","ultra_hd_4k":"Ultra HD 4K","high_definition_1080p":"High definition 1080P","high_definition_720p":"High definition 720P","sd_360p":"SD 360P","sd_480p":"SD 480P","sd_540p":"SD 540P","search":"Search","follow/unfollow":"Follow/Unfollow","fan":"fan","send":"send","my_appointment":"My appointment","my_order_":"My order","douyin_coin":"Top-up","download_the_computer_client_side":"Client","wallpaper":"Wallpaper","notify":"Notification","private_message":"Message","post":"Post","manage_videos":"Manage Videos","analytics":"Analytics","live_stream":"Live Stream","live_data":"Live Data","creator_academy":"Creator Academy","creator_center":"Creator Center","capcut":"Capcut","expand":"more","fold":"less","send_danmaku_placeholder_unlogin":"Login to post comments","download_client_side_wallpaper":"Download client","interactive_message":"Notifications","quick_access":"PWA","translate":"translate","report_a_comment":"Report a comment","please_go_first":"Please","leave_a_comment_later":"before leaving comments","screening_hall":"Multiplex","more_wallpaper":"More wallpaper","notification":"Notification","related":"Related","music":"Music","topic":"Tag","mix":"Albums","series":"Playlet","hot":"Trending","handplick":"Selected","history":"History","collect_folder":"Collects","abstract_list":"Summary","record":"Watch History","view_notification_after_log_in":"View notification messages after logging in","view_message_after_log_in":"View messages after logging in","upload":"Upload","login_now":"Login now","high_definition":"Play in high definition and smoothly","customized_for_mac":"Customized for Mac","friend_message":"Friend message notifications","desktop_access":"Desktop access","hd":"1080p","clarity":"720p","smooth":"540p","fast":"360p","ultra_2k":"Ultra HD 2k","ultra_4k":"Ultra HD 4k","ultra_4k_hdr":"Ultra HD 4k HDR","ten_thousand":"K","log_in":"log in","to_post_comment":"to post comments","translate_comment":"Translate","see_original":"See Original","report":"Report","delete":"Delete","translating":"Translating...","language":"Language","english":"English","chinese":"Chinese","listen_video":"Listen Video"}')}}]);