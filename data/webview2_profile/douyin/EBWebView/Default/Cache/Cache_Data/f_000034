/*! For license information please see client-entry~3.af3acebe.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).xss={})}(this,function(e){"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function n(e,t,n){if(n||2==arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}var i=/[^a-zA-Z0-9\\_:.-]/gim,o=/</g,r=/>/g,l=/&#([a-zA-Z0-9]*);?/gim,a=/&quot;/g,u=/&colon;?/gim,s=/&newline;?/gim,c=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,d=/u\s*r\s*l\s*\(.*/gi,f=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,v=/"/g,m=function(e){return e.replace(o,"&lt;").replace(r,"&gt;")},h={indexOf:function(e,t){var n,i;for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return -1},forEach:function(e,t,n){var i,o;for(i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e)},some:function(e,t,n){var i,o;for(i=0,o=e.length;i<o;i++)if(t.call(n,e[i],i,e))return!0;return!1},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},includes:function(e,t){if("string"==typeof e)return -1!==e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},uniq:function(e){for(var t={},n=[],i=0;i<e.length;i++)t[e[i]]||(n.push(e[i]),t[e[i]]=!0);return n},from:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},keys:function(e){var t=[];for(var n in e)t.push(n);return t}};function g(e){return null==e}function p(e){var t;return'"'===(t=e)[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1]?e.substr(1,e.length-2):e}function _(e){var t,n,i,o,r,l,a,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="",c=0;for(e=function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?t+=String.fromCharCode(i>>6|192)+String.fromCharCode(63&i|128):t+=String.fromCharCode(i>>12|224)+String.fromCharCode(i>>6&63|128)+String.fromCharCode(63&i|128)}return t}(e);c<e.length;)o=(t=e.charCodeAt(c++))>>2,r=(3&t)<<4|(n=e.charCodeAt(c++))>>4,l=(15&n)<<2|(i=e.charCodeAt(c++))>>6,a=63&i,isNaN(n)?l=a=64:isNaN(i)&&(a=64),s=s+u.charAt(o)+u.charAt(r)+u.charAt(l)+u.charAt(a);return s}function w(e){var t,n,i,o,r,l,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",s=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");s<e.length;)t=a.indexOf(e.charAt(s++))<<2|(o=a.indexOf(e.charAt(s++)))>>4,n=(15&o)<<4|(r=a.indexOf(e.charAt(s++)))>>2,i=(3&r)<<6|(l=a.indexOf(e.charAt(s++))),u+=String.fromCharCode(t),64!==r&&(u+=String.fromCharCode(n)),64!==l&&(u+=String.fromCharCode(i));return function(e){for(var t="",n=0,i=0,o=0,r=0;n<e.length;)(i=e.charCodeAt(n))<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(t+=String.fromCharCode((31&i)<<6|63&(r=e.charCodeAt(n+1))),n+=2):(r=e.charCodeAt(n+1),t+=String.fromCharCode((15&i)<<12|(63&r)<<6|63&(o=e.charCodeAt(n+2))),n+=3);return t}(u)}function y(e,t,n){var i="",o=0,r=!1,l=!1,a=0,u=e.length,s="",c="";e:for(a=0;a<u;a++){var d=e.charAt(a);if(!1===r){if("<"===d){r=a;continue}}else if(!1===l){if("<"===d){i+=n(e.slice(o,a)),r=a,o=a;continue}if(">"===d||a===u-1){i+=n(e.slice(o,r)),s=function(e){var t,n=h.spaceIndex(e);return t=-1===n?e.slice(1,-1):e.slice(1,n+1),"/"===(t=h.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}(c=e.slice(r,a+1)),i+=t(r,i.length,s,c,"</"===c.slice(0,2)),o=a+1,r=!1;continue}if('"'===d||"'"===d)for(var f=1,v=e.charAt(a-f);""===v.trim()||"="===v;){if("="===v){l=d;continue e}v=e.charAt(a-++f)}}else if(d===l){l=!1;continue}}return o<u&&(i+=n(e.substr(o))),i}function b(e,t){var n=0,o=0,r=[],l=!1,a=e.length;function u(e,n){if(!((e=(e=h.trim(e)).replace(i,"").toLowerCase()).length<1)){var o=t(e,n||"");o&&r.push(o)}}for(var s=0;s<a;s++){var c=e.charAt(s),d=void 0;if(!1!==l||"="!==c){if(!1===l||s!==o){if(/\s|\n|\t/.test(c)){if(e=e.replace(/\s|\n|\t/g," "),!1===l){if(-1===(d=function(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}return -1}(e,s))){u(h.trim(e.slice(n,s))),l=!1,n=s+1;continue}s=d-1;continue}if(-1===(d=function(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}return -1}(e,s-1))){u(l,p(h.trim(e.slice(n,s)))),l=!1,n=s+1;continue}}}else{if(-1===(d=e.indexOf(c,s+1)))break;u(l,h.trim(e.slice(o+1,d))),l=!1,n=(s=d)+1}}else l=e.slice(n,s),n=s+1,o='"'===e.charAt(n)||"'"===e.charAt(n)?n:function(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"'"===n||'"'===n?t:-1}return -1}(e,s+1)}return n<e.length&&(!1===l?u(e.slice(n)):u(l,p(h.trim(e.slice(n))))),h.trim(r.join(" "))}function x(e,t,n){if(n=function(e){return e=function(e){for(var t="",n=0,i=e.length;n<i;n++)t+=32>e.charCodeAt(n)?" ":e.charAt(n);return h.trim(t)}(e=(e=(e=e.replace(a,'"')).replace(l,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))})).replace(u,":").replace(s," "))}(n),"href"===t||"src"===t){if("#"===(n=h.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(c.lastIndex=0,c.test(n))return""}else if("style"===t&&(f.lastIndex=0,f.test(n)||(d.lastIndex=0,d.test(n)&&(c.lastIndex=0,c.test(n)))))return"";return n=function(e){return e=m(e=e.replace(v,"&quot;"))}(n)}var C=function(e){return"string"==typeof e?e.replace(/'/g,'"').replace('=""',"").replace(/\s+/g,"").toLowerCase():""},I=function(){function e(e){var t=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{});t.stripIgnoreTag&&(t.onIgnoreTag,t.onIgnoreTag=function(){return""}),t.whiteList={},t.onTag=function(){},t.onTagAttr=function(){},t.onIgnoreTag=function(){},t.onIgnoreTagAttr=function(){},t.safeAttrValue=x,t.escapeHtml=m,this.options=Object.assign(t,e)}return e.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t,n,i,o,r,l,a=this.options,u=a.whiteList,s=a.onTag,c=a.onIgnoreTag,d=a.onTagAttr,f=a.onIgnoreTagAttr,v=a.safeAttrValue,m=a.escapeHtml;a.stripBlankChar&&(e=(t=(t=e.split("")).filter(function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)})).join("")),a.allowCommentTag||(e=function(e){for(var t="",n=0;n<e.length;){var i=e.indexOf("\x3c!--",n);if(-1===i){t+=e.slice(n);break}t+=e.slice(n,i);var o=e.indexOf("--\x3e",i);if(-1===o)break;n=o+3}return t}(e));var g=!1;a.stripIgnoreTagBody&&(n=a.stripIgnoreTagBody,"function"!=typeof(i=c)&&(i=function(){}),o=!Array.isArray(n),r=[],l=!1,c=(g={onIgnoreTag:function(e,t,a){var u;if(u=e,o||-1!==h.indexOf(n,u)){if(a.isClosing){var s="[/removed]",c=a.position+s.length;return r.push([!1!==l?l:a.position,c]),l=!1,s}return l||(l=a.position),"[removed]"}return i(e,t,a)},remove:function(e){var t="",n=0;return h.forEach(r,function(i){t+=e.slice(n,i[0]),n=i[1]}),t+=e.slice(n)}}).onIgnoreTag);var p=y(e,function(e,t,n,i,o){var r={sourcePosition:e,position:t,isClosing:o,isWhite:Object.prototype.hasOwnProperty.call(u,n)},l=s(n,i,r);if(null!=l)return l;if(r.isWhite){if(r.isClosing)return"</".concat(n,">");var a=function(e){var t=h.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=h.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=h.trim(e.slice(0,-1))),{html:e,closing:n}}(i),g=u[n],p=b(a.html,function(e,t){var i=-1!==h.indexOf(g,e),o=d(n,e,t,i);return null==o?i?(t=v(n,e,t,null))?"".concat(e,'="').concat(t,'"'):e:null==(o=f(n,e,t,i))?void 0:o:o});return i="<".concat(n),p&&(i+=" ".concat(p)),a.closing&&(i+=" /"),i+=">"}return null==(l=c(n,i,r))?m(i):l},m);return g&&(p=g.remove(p)),p},e}(),L=Function("\nvar _checkXSS = function (it) {\n  return it && it.Math == Math && it;\n};\nreturn _checkXSS(typeof globalThis === 'object' && globalThis) ||\n_checkXSS(typeof window === 'object' && window) ||\n_checkXSS(typeof self === 'object' && self) ||\n_checkXSS(typeof global === 'object' && global) ||\nFunction('return this')();\n")(),S=new(function(){function e(){var e=this;this.batchData=[],this.uniqKeys=new Set,this.timeout=2e3,this.lock=!1,this.getSlardarBid=function(){var t,n,i="douyin_web";if(!h.includes(i,"bid"))return i;if(e.config&&e.config.bid)return e.config.bid;if(L&&L._xssBid)return L._xssBid;if(L&&L.slardar&&"function"==typeof L.slardar.config){var o=(L.slardar.config()||{}).bid;if(o)return o}if(L&&L.Slardar&&"function"==typeof L.Slardar.config){var r=(L.Slardar.config()||{}).bid;if(r)return r}return(null===(n=null===(t=null==L?void 0:L.Slardar)||void 0===t?void 0:t._baseParams)||void 0===n?void 0:n.bid)||"argus"},this.getConfigRegion=function(){var t;return h.includes("cn","region")?e.config&&e.config.region?e.config.region:((null===(t=null==L?void 0:L.gfdatav1)||void 0===t?void 0:t.region)||"cn").toLowerCase():"cn"},this.gerReportUrl=function(){var t={cn:w("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boe:w("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),ttp:w("aHR0cHM6Ly9tb24udXMudGlrdG9rdi5jb20vbW9uaXRvcl9icm93c2VyL2NvbGxlY3QvYmF0Y2gvc2VjdXJpdHkvP2JpZD0="),va:w("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),maliva:w("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),sg:w("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boei18n:w("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9")}[e.getConfigRegion()];if(t)return t+e.getSlardarBid()}}return e.prototype.setConfig=function(e){this.config=e},e.prototype.upload=function(){var e=this,t=this.gerReportUrl();!this.lock&&t&&0!==this.batchData.length&&(this.lock=!0,setTimeout(function(){var n=e.batchData.slice(0,100);e.batchData=e.batchData.slice(100),L.fetch(t,{method:"post",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).catch(function(e){}),e.lock=!1,e.upload()},this.timeout))},e.prototype.generateKey=function(e){return e.collectKey?[e.collectMode,e.collectKey].join("___"):""},e.prototype.push=function(e){this.batchData.push(e),this.upload()},e.prototype.report=function(e){var t=this.generateKey(e);if(L.fetch&&e.collectKey){var n="object"==typeof window?window.location.href:"SSR";e.documentUrl=n;var i={age:Math.floor(Date.now()),type:"xss",url:n,body:e,"user-agent":""};"enforce"===e.disposition&&"SSR"!==n||(i.url=t),"SSR"===n&&(i.url="SSR___".concat(i.url),i.body.ssr=!0),this.push(i)}},e}()),k=function(e){for(var t=0,n=function(n){Array.isArray(e[n])?0===e[n].length?delete e[n]:(e[n]=h.from(h.uniq(e[n])),t+=e[n].length):0===h.keys(e[n]).length?delete e[n]:h.keys(e[n]).forEach(function(i){e[n][i]=h.from(h.uniq(e[n][i])),t+=e[n][i].length})},i=0,o=h.keys(e);i<o.length;i++)n(o[i]);return{count:t,ret:e}};function T(e,t){return S.setConfig(t),new I(t).process(e)}function N(e){var t,n=(t=/\s|\n|\t/.exec(e))?t.index:-1;if(-1===n)return{html:"",closing:"/"===e[e.length-2]};var i="/"===(e=e.slice(n+1,-1).trim())[e.length-1];return i&&(e=e.slice(0,-1).trim()),{html:e,closing:i}}var E=function(e){return -1===(e=(e=(e=(e=e.replace(/&colon;/gi,":")).replace(/&tab;/gi,"")).replace(/&newline;/gi,"")).replace(/(\t|\n|\r)/g,"")).indexOf("&#")?e.trim().toLowerCase():e.trim().replace(/&#(?:(x)([0-9a-f]+)|([0-9]+));?/gi,function(e,t,n,i){return String.fromCharCode(t?parseInt(n,16):parseInt(i))}).replace(/(\t|\n|\r)/g,"").toLowerCase()};function A(e,t){if(void 0===e&&(e=""),"string"!=typeof e)return!0;if(e=E(e),h.includes(e,"base64")&&!function(e){if(""===e||""===e.trim())return!0;try{return!h.includes(e,"data:text/html;base64")}catch(e){return!0}}(e))return t&&t("data:text/html;base64"),!1;var n=["expression(","behavior:","view-source:"];if(h.some(n,function(t){return -1!==e.indexOf(t)}))return h.forEach(n,function(n){-1!==e.indexOf(n)&&t&&t(n)}),!1;var i=["data:application","data:javascript","data:text/html","data:texthtml"];if(h.some(i,function(t){return -1!==e.indexOf(t)}))return h.forEach(i,function(n){-1!==e.indexOf(n)&&t&&t(n)}),!1;if(e.indexOf("javascript:")>0)return t&&t("javascript:"),!1;if(/^javascript:/i.test(e)){var o=e.slice(11).replace(/\s/g,"").trim();return!!h.some(["void","void(0)","void0","false","undefined",";"],function(e){return e===o})||(t&&t("javascript:"),!1)}return!0}var j=function(e,t){var n,i,o="<%= isSaveValidUrl =>";if("string"!=typeof e||(i=Number("<%= urlLimit =>"),void 0!==n&&(i=n),"NaN"!==e.toString()&&-1!==i&&e.length>=i)||A(e,t))return e;try{if(!0===(o=JSON.parse(o))||"true"===o){var r=new URL(e);return r.origin+r.pathname}}catch(e){}return"#"};function R(e,t,i){if(void 0===e&&(e=""),void 0===t&&(t=[]),"string"!=typeof e)return!0;if(!A(e=E(e)))return!1;var o,r={url:(o=e.match(/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/)||[])[0],scheme:o[1],slash:o[2],host:o[3],port:o[4],path:o[5],query:o[6],hash:o[7]},l=r.scheme,a=r.host;return i?!!i(e):!(!l||!a)&&(!h.includes(["http","https","file"],l)||("object"==typeof window&&window&&(t=n(n([],t,!0),[location.host],!1)),h.some(t,function(e){return!!(e instanceof RegExp&&e.test(a))||e===a})))}var P={a:["target","title","spellcheck","rel"],canvas:[],abbr:["title"],address:[],area:["shape","coords","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:["dir"],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["alt","title","width","height","decoding"],ins:["datetime"],li:[],mark:[],nav:[],ol:["start"],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],delete:[],form:[],strong:[],mask:["maskunits","x","y","width","height","fill"],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],wbr:[],video:["autoplay","controls","loop","preload","height","width"],svg:["viewBox","version","xmlns","fill","width","height","stroke","stroke-width","style"],path:["d","fill","opacity","stroke","p-id","fill-rule","clip-rule","stroke-width","stroke-linecap","stroke-linejoin","fill-opacity","mask"],rect:["x","y","width","height","fill","stroke","rx"],g:[]},M={collect:null,initCollect:function(){this.collect={whiteList:{},filterProtocol:[]}},removeCollect:function(){var e=k(this.collect),t=e.count,n=e.ret;return this.collect=null,{collectKey:0===t?null:JSON.stringify(n),collectMode:"white"}},onIgnoreTagAttr:function(e,t,i){return e&&h.indexOf(["href","src"],t)>-1?M.domainWhiteList&&Array.isArray(M.domainWhiteList)&&M.domainWhiteList.length>0&&!R(i,n([],M.domainWhiteList,!0))?"":"".concat(t,'="').concat(j(i,function(e){var t;null===(t=M.collect)||void 0===t||t.filterProtocol.push(e)}),'"'):e&&(h.indexOf(["style","class","id"],t)>-1||t.indexOf("data-")>-1)?"".concat(t,'="').concat(i,'"'):(M.collect.whiteList[e]=M.collect.whiteList[e]||[],void M.collect.whiteList[e].push(t))},onIgnoreTag:function(e,t){if("style"===e)return t;y(t,function(e,t,n,i){b(N(i).html.replace("/",""),function(e){M.collect.whiteList[n]=M.collect.whiteList[n]||[],M.collect.whiteList[n].push(e)})},m)},whiteList:P,mergeWhiteList:function(e){for(var t,n={},i=0,o=h.keys(P);i<o.length;i++)n[t=o[i]]=h.from(P[t]);for(var r=0,l=h.keys(e);r<l.length;r++)n[t=l[r]]=t in P?P[t].concat(e[t]):h.from(e[t]);return n},setWhiteList:function(e){for(var t=0,n=h.keys(e);t<n.length;t++){var i=n[t];this.whiteList[i]=i in P?P[i].concat(e[i]):h.from(e[i])}}};try{var D={},B="merge";h.includes(B,"override")&&(M.whiteList=D.whiteList),h.includes(B,"merge")&&M.setWhiteList(D.whiteList)}catch(e){}var O=function(e,t){for(var n={},i=0,o=h.keys(e);i<o.length;i++){var r=o[i];Array.isArray(e[r])?n[r]=h.from(e[r]):n[r]=O({},e[r])}for(var l=0,a=h.keys(t);l<a.length;l++)(r=a[l])in e?Array.isArray(e[r])?n[r]=e[r].concat(t[r]):n[r]=O(e[r],t[r]):Array.isArray(t[r])?n[r]=h.from(t[r]):n[r]=O({},t[r]);return n},U={blackList:{a:["folder"],meta:["content"],iframe:["srcdoc"],input:["pattern"],vmlframe:["xmlns"]},blackTags:["script","xml","embed","isindex","object","base","set","handler","animate","payload","import"],blackAttrs:["charset","ns","namespace","formaction","xlink:href","xmlns:xlink","handler","repeat","repeat-start","repeat-end"],blackAttrRegExps:[/^on/],filterList:{param:["value"],video:["poster"],form:["action"]},filterAttrs:["href","src","background","style","dynsrc","lowsrc","content"]};try{var W={};W.blackAttrRegExps&&(W.blackAttrRegExps=W.blackAttrRegExps.map(function(e){return new RegExp(e.toString().slice(1,e.toString().length-1))}));var V="merge";h.includes(V,"override")&&(U=W),h.includes(V,"merge")&&(U=O(U,W))}catch(e){}var Z={mode:"black",whiteList:{},blackConfig:U,collect:null,initCollect:function(){Z.collect={blackList:{},blackTags:[],blackAttrs:[],blackAttrRegExps:[],filterAttrs:[],filterList:{},filterProtocol:[]}},removeCollect:function(){var e=k(Z.collect),t=e.count,n=e.ret;return Z.collect=null,{collectKey:0===t?null:JSON.stringify(n),collectMode:"black"}},onIgnoreTag:function(e,t){var n;if(!h.includes(U.blackTags,e))return y(t,function(e,t,n,i,o){if(-1!==n.indexOf("/"))return m(i);if(o)return"</".concat(n,">");var r=N(i),l=b(r.html,function(e,t){var i,o=0;if(U.blackList[n]&&h.includes(U.blackList[n],e)&&(Z.collect.blackList[n]=Z.collect.blackList[n]||[],Z.collect.blackList[n].push(e),o++),U.blackAttrRegExps.length&&U.blackAttrRegExps.some(function(t){return t.test(e)})&&h.forEach(U.blackAttrRegExps,function(t){t.test(e)&&(Z.collect.blackAttrRegExps.push("".concat(t.toString(),"->").concat(e)),o++)}),U.blackAttrs.length&&h.includes(U.blackAttrs,e)&&(U.blackAttrs.push(e),o++),!o){if(U.filterList&&U.filterList[n]&&h.includes(U.filterList[n],e)){var r=j(t,function(e){var t;null===(t=Z.collect)||void 0===t||t.filterProtocol.push(e)});return r!==t&&(Z.collect.filterList[n]=Z.collect.filterList[n]||[],Z.collect.filterList[n].push(e)),t?"".concat(e,"='").concat(r,"'"):e}return U.filterAttrs&&h.includes(U.filterAttrs,e)?((r=j(t,function(e){var t;null===(t=Z.collect)||void 0===t||t.filterProtocol.push(e)}))!==t&&(null===(i=Z.collect)||void 0===i||i.filterAttrs.push(e)),t?"".concat(e,"='").concat(r,"'"):e):t?"".concat(e,"='").concat(t,"'"):e}});return i="<".concat(n),l&&(i+=" ".concat(l)),r.closing&&(i+=" /"),i+=">"},m);null===(n=Z.collect)||void 0===n||n.blackTags.push(e)}},F=function(e){var t=e.reportOnly,n=void 0===t||t,i=e.block;return n&&"all"===n?"report":("string"==typeof n&&("true"===n&&(n=!0),"false"===n&&(n=!1)),i?"enforce":n?"report":"enforce")},H=function(e){return function(n,i,o){if(!n||"string"!=typeof n)return n;var r=i;e===T&&(r=M).initCollect();var l=e(n,r);if(C(l)===C(n))return n;if(!o)return l;var a=o.logType,u=F(o),s=r.removeCollect();return S.report(t(t({type:a,disposition:u},s),{sourceText:_(n),filterText:_(l)})),"enforce"===u?l:n}},q=H(function(e,t){return void 0===t&&(t={}),t&&t.whiteList||(t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}),new I(t).process(e)}),G=H(T),J=function(e,t,n){var i=[],o=j(e,function(e){i.push(e)});if(o===e)return e;i=h.from(h.uniq(i));var r=t||n||{};if(!r)return o;var l=r.logType,a=F(n);return S.report({type:l,disposition:a,collectKey:i.join("___"),collectData:JSON.stringify(i),collectMode:"black",sourceText:_(e),filterText:_(o)}),"enforce"===a?o:e},Y=L._xssProject||{},$=L.xssNamespace||{},K="3.0.26",Q={FilterXSS:I,version:K,webpackPluginVersion:"<%= webpackPluginVersion =>",reportOnly:"<%= reportOnly =>",filterXSS:q,_filterXSS:G,filterUrl:J,Config:M,BlackConfig:Z,project:Y,setProjectName:function(e){Y[e]=this,L._xssProjectName=e}};$.douyin_web=Q,L.xssNamespace=$,L.Math&&!L.Math.xssNamespace&&(L.Math.xssNamespace=$),Y[K]=Q,L.globalThis=L,L.getFilterXss=function(){return void 0!==this._xssProjectName?this._xssProject[this._xssProjectName]:Q},L.xss=Q,L.isSafeUrl=R,L.isSafeDomain=R,L.isSafeProtocol=A,L._xssProject=Y,L._xssProjectName&&(Y[L._xssProjectName]=Q);var X=Q.setProjectName.bind(Q);e.BlackConfig=Z,e.Config=M,e.FilterXSS=I,e._filterXSS=G,e.filterUrl=J,e.filterXSS=q,e.isSafeDomain=R,e.isSafeProtocol=A,e.isSafeUrl=R,e.project=Y,e.setProjectName=X,e.setXssNamespace=function(e){var t=e.appId,n=e.bid,i=e.region;$[t]=Q;M.bid=n,M.region=i,M.enabled=!0},e.xssNamespace=$,Object.defineProperty(e,"__esModule",{value:!0})});"use strict";(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["65353"],{599501:function(e,t,n){n.r(t),t.default={container:"VHS8JWXx",containerInner:"bDyiEbeh",item:"w1LqMfPT",content:"zt2BYa0S",active:"zXifSUZB",fontScale:"S7buhSGo",toRight:"QsAFmdm_",slideToRight:"YFu5CE0m",toLeft:"Wumiy9MY",slideToLeft:"K77Tee7t",moreSvg:"MSmcqPd3",isMore:"zx2hTve4",moreItem:"fVHoA5H6",moreUl:"GqJfYPdh",arrow:"SqwOksNb",selectMore:"iYeJZMR4",contentText:"ieoOKtiq",moreLi:"xtCI2bBu",hide:"qv8SdB_Q"}},366914:function(e,t,n){n.r(t),t.default={header:"BgbeKkA2",underscore:"rCyeCiPj"}},656471:function(e,t,n){n.r(t),t.default={container:"OMwhzy7e"}},902165:function(e,t,n){n.r(t),t.default={shopInsurance:"X3gzTdrz",outer:"mwKaoPCg",leftContent:"SkKZHAvj",title:"TJyRmpy1",popover:"Z56Inq90",popContent:"jgrQBL22",list:"qKHREx9D",rightContent:"fT3VhYmY",desc:"aULFJUeK",arrow:"_XYKY3Pl"}},924470:function(e,t,n){n.r(t),t.default={agreement:"v4Z92MM6",content:"zqt8e1Gg",title:"TkuVclct",desc:"nBjhKtB1",link:"QNxnT2eO",agreeBtn:"wS597Vl5",close:"H7ONodHW",icon:"_2DiqND2P"}},955809:function(e,t,n){n.r(t),t.default={matchbuy:"fWCnLvsz",bg:"ZBZBNyyL",mainPic:"azLnO6EV",entry:"jMtxEe4z",icon:"KgkJtBp2",text:"t0Php9zr",jump:"WWtGU5TT",hotArea:"InJm2HtS",point:"dAFPMWjg",area:"LZJvI5E7"}},326800:function(e,t,n){n.r(t),t.default={group:"Ltoiw4_U",left:"q05dxtRC",desc:"ppMaHmJL",text:"tV2u5OTB",item:"sfbOrRTr",avatar:"t7SjYXHZ",time:"DjUDxOJl",right:"jCj4sc3W"}},142890:function(e,t,n){n.r(t),t.default={container:"aHkFARoz",mixCard:"O961spyf",mixCardUserInfo:"NWMR6cg7",user:"tR4A9kUk",userAvatar:"VDD92d6E",userName:"SBpjuOjD",commentTime:"fG94QSOw",userInfo:"lyKxdF2r",nameAndCommentTime:"r1YyJEju",nameAndTag:"J1hwnwNX",sku:"fP4w01rZ",content:"mYLUUGrQ",photoAndVideo:"eSh7IHAT",media:"iS6dj_z8",normal:"fXUgkDzM",shopReply:"vpNf8eBP",shopReplyTitle:"QjIAVo1v",shopReplyContent:"tt2XVZEi",append:"LmRNxWLC",bottom:"O_9UMc4v",browserCount:"n8C9Xy1j",interaction:"BcCphIob",thumbsUp:"pgsOTE9N",likesCount:"A0E2tEd4"}},306620:function(e,t,n){n.r(t),t.default={liveCardPlayer:"zCMtVwNm",playerWrap:"uBJNGcMs",player:"dNz9vPaz",hideControl:"o2r44EdM",hide:"B3pH0Hc_"}},607425:function(e,t,n){n.r(t),t.default={activityTag:"PvBVkyLA",activityIcon:"zsbe88B3",text:"Fb374ICN",mini:"qNFfekcd"}},487227:function(e,t,n){n.r(t),t.default={videoRoomContainer:"jvCRhx5b",topJoin:"cidQE_zc",icon:"Q74vj_Nr",anchorLabel:"mBQ7kORV",labelContainer:"eiI5upLm",userNameLabel:"xuDJbnxQ",mvpIconInfo:"XHTdYaBp",mvpIcon:"WGKiou7Q",mvpIconAni:"qcEbhCXB",stopAnimation:"qASvK1cx",mvpAnimation:"bL6uyM9i",mvpAnimations:"Lh4sLV8t",verticalLabel:"j4YecRvI",isPreview:"CoY_3578",giftLabelContainer:"sx6xrdUs",giftPKLabel:"Ps1pOvmj",guest:"gvpn_hQd",opponent:"CJx1L2yP",mvpSmallIcon:"emWRWimT",smallMvp:"FWORJWIE",micphoneLabel:"noEYLalH",mask:"bX1LFX7G",backgroundContainer:"_j5xunfu",background:"IKliFZsH",avatar:"PnFkZ4dG",anchorLeaveContent:"PHTgWdWX",title:"Jv8nZMzL",desc:"RZC5w3fk",joinRoom6v6:"vSX8yTHI",bg:"HAqqsuhZ",left:"FjqKzdc0",right:"FyEbQaxT",joinIcon:"_VK6mV3G",lockIcon:"BXxY1SxL",joinNumberText:"lYdaGqVo",joinText:"WtUjXkBJ",joinRoom:"ytKMVbsY",smallIcon:"LlVy1ckg",guestBattleLabel:"c5uEC8HP",transparentBg:"_iBnqSoR"}},865856:function(e,t,n){n.r(t),t.default={liveUserCount:"psJ7Gybh",liveTag:"BsSFzqUT",countDown:"JwkwkW8Y",userCount:"qsPwBytV",title:"cpkZQ8IO"}},688827:function(e,t,n){n.r(t),t.default={card:"ilYPGipS",cover:"rFTrVCTx",noMargin:"xeAZ9NdB",title:"g5co7VdY"}},96561:function(e,t,n){n.r(t),t.default={eggPosition:"JHCakIm1",eggContainer:"FXl0O54l",eggBule:"Z6EoYzmB",eggRed:"uBYisUPZ",eggBgPostion:"jRw7KyZy",eggBlueBg:"rqZ2MQvx",eggRedBg:"NMjJfDre",show:"p2ljEFhH",showUp:"q8CPpm_G",hide:"kLNmJznQ",showDown:"S4j1aL4d",lighting:"KMPtAfIB",crossRoomEgg:"cyVY0WRB"}},628234:function(e,t,n){n.r(t),t.default={userCount:"EVxxY14g",player:"VpMl9Jr0",playerContentMask:"WCaOnkEM",liveEnterButtonContainer:"jItwOxRZ",liveDivide:"XnJJeEhu",divideLine:"rKUgFxdC",textContent:"w_aqqFOL",icon:"sEDa558l",text:"v9nIe01Y",notShowEnterBtn:"MYXNFxRD"}},538346:function(e,t,n){n.r(t),t.default={propDrawAnchor:"yawObs2y",fail:"hyxamctk",propDraw:"Jb0rL4TI",moveCard:"nq0mqKGh",propDrawFail:"_q3IGUAO",moveFailCard:"QByaivoz"}},750671:function(e,t,n){n.r(t),t.default={mainContainer:"sm2au_iH",scrollContent:"s224_TTB",isMemberContent:"mJtDVcAw",remindMsg:"xpYL_59i",vipUserCard:"ZYHGm1ch",container:"oZXfLhBz",toast:"UsdDgfYo"}},901523:function(e,t,n){n.r(t),t.default={shortcutModal:"NJ6KnwKu"}},514560:function(e,t,n){n.r(t),t.default={item:"HuIXPDG3",disabled:"BADQWMDj",icon:"EaZubdNs",name:"WuMej66L",count:"ZlrsKvid",expires:"z45u0T1e",price:"Nrw5Ojon",sendCombo:"f51rwSKt",sendButton:"OoUZCXJK",fade:"rxINuxdB"}},450600:function(e,t,n){n.r(t),t.default={countdownBigTextAnim:"Un5rpmXt",count_down_big_text_animId:"aXmEZAfF",countdownBigTextAnimRe:"NYWxiGNN",count_down_big_text_anim_re_reId:"gAVy8pjt",countdownTextAnimRe:"uezhTMWT",count_down_text_anim_reId:"jzv7W9RR",countdownTextAnim:"ze7aw99q",count_down_text_animId:"a6jWsNd0",container:"XXZGwWgB",countdownPressAnim:"GxVNI8YT",count_down_press_anim:"UwzZYrHS",countdownReleaseAnim:"WrPryb_s",count_down_release_anim:"VqEoUNtP",circleConainer:"P4EZl4uq",bgCircle:"mlEWN38g",hoverCircle:"cTjSXtxQ",textContainer:"wUIkMbn4",text:"PSEV4qzG",textBig:"ZZUv6blH",marginTop:"o95Lrrk2"}},464432:function(e,t,n){n.r(t),t.default={listViewWrapper:"GLx3RdQh",videoListViewExpand:"ejX0U7u8",skeletonItem:"MhHte382",videoListViewCollapse:"Mlpl4GDk",noMoreTextCollapse:"ihcDYcWb",firstLoadingText:"ZQmBZ6Nh",listItemExpand:"gwq44nkZ",listItemCollapse:"t5vgsxab",videoItem:"QLFBhWLd",videoItemPlayingBlur:"bHxHlnsh",videoItemCollapse:"KwNVjdOZ",skeletonLogo:"VCCV3M2E",skeletonLogoCollapse:"BiT3riw1",itemContent:"dvr5C9N_",pictureIcon:"ehck46Kb",playingEffect:"p7bTYPqL",playingBubble:"bnEFdvE6",collapseCurrentButtonWrapper:"nNtw_HVP",hideGotoCurrent:"TmS9mtTj",newCollapseCurrentButtonWrapper:"hxZU98Th",iconMargin:"I8VL_KRc",currentButtonWrapper:"CJExES0E",dirInverted:"q0zm77tC",errorText:"d4usRHPe",noMoreText:"fZ3JX3s6",opBtn:"b8lEDv1K",bottomLoginGuide:"QbJLyjlJ",bottomLoginGuideDesc:"K6nBi4c9",bottomLoginGuideBtn:"PeJix3p3",collapseBottomLoginGuide:"blmYrnL4",collapseBottomLoginGuideBtn:"PkUIHYDz",lookRelatedButton:"DX34R9Qh",avatar:"kAR4EEKy",smallCard:"UCxg6Luj",isPlay:"LvMzM0OG",hide:"SYOAdxl6",lookRelatedButtonBg:"hURSGPbs",beforeNoMoreText:"DFCRvV9o",isOhosPlayingBubble:"NEBJYk6_",playLoadingWrap:"eHDtRNXB",playLoadingAniWrap:"fTbDzh5V",playLoadingText:"aYOyi_Pu"}},836619:function(e,t,n){n.r(t),t.default={container:"OToQiXBr",userName:"eRbIZXG4",innerContainer:"zJiGLhJ6",icon:"vnPHZBnY",mask:"fydIKzEj"}},151868:function(e,t,n){n.r(t),t.default={buttonsWrap:"HrvFYsXO",showConfirm:"Ihj8krRD",follow:"xjIRvxqr",removeWrap:"q8mycLOZ",remove:"tk5cqv6a",confirmWrap:"DUBYbTPi",contentBlock:"zPZJ3j40",confirm:"ahBOP4gD",divider:"S7nskTQm",cancel:"hWX1Xf7k",following:"qiKy46zD"}},785360:function(e,t,n){n.r(t),t.default={content:"RK4pfivc",confirm:"Eo79TLDA"}},705171:function(e,t,n){n.r(t),t.default={routeHide:"Cvqd5dcc",pipHide:"_PpLWXF2",modalVideo:"h1_b8gRO",modalSlider:"KovGtBTb",isLoading:"fTqMz93B",isWebMiniWin:"vPn6NDIf",hidden:"JQsSsnY0",moreIndex:"hSJnpsJ4",isClientMiniWin:"IURsVScc",guideCard:"tc8u2E94",swiperItem:"JLzdggnM"}},299104:function(e,t,n){n.r(t),t.default={searchBarContainer:"zzJ4Uxm_",searchBarContainerWeak:"qgBoIOxC",searchBarContainerWeakInputFocus:"VCsyVvzZ",searchBar:"niTxyqq5",searchBarWeak:"CfmSLbRL",buttonIcon:"ACMjZN5h",input:"YEhxqQNi",transparentBg:"jDMe3V8N",borderInput:"aRHD2qhc",modalSearchBar:"wIIDHLHs",modalSearchBarInNewStyle:"INf6jPy1",button:"YQK6ciuU",searchBarGuessText:"LQnG3CYw",modalSearchBarIdle:"HkP9HilZ",feedFullScreen:"Jq6STbmt",feedFullscreenIdle:"q8MKF3CA",searchLightActivity:"JDvOtdMz",searchIcon:"vtVs5XMH",searchBarInputForm:"qbeFLQBg",inputLanternIcon:"usx5LCd4",searchBarHotIcon:"ny4Mz38K",searchBarGuessTextWrapper:"VYb0YFbL",searchBarGuessTextWeak:"AOZdEEaY",isActivity:"kreFJHQv",activityIcon:"yWzYLFcY",inputClearButton:"WtqPX54V",iconClose:"RxauRd_l",searchBarInsideWord:"OwCksDdv",blur:"jUqDCyab",hotInput:"o71_ssoi",buttonWeak:"Gs5TnHUH",searchBarWeakInputFocus:"jAQqZOJV",splitLine:"X56V7Hy1",inputWithClearButton:"sw6SHKld",borderInputSpec:"bmx72mQQ",searchBarContainerWeakV2:"ZDhmLBc0",holdDarkMode:"oRUN2D7w",underInboxWord:"ucx1rgqf",show:"H3YP8feF",underInboxOpt:"GYlPog58",suggestion:"xdslCrK1"}},566019:function(e,t,n){n.r(t),t.default={searchCt:"Rpejq0zt",container:"RHEfidGv",fixed:"A0ANJEK_",circle:"m9iwbrBe",return:"cFcmZdl0",tooltip:"Lykw2Lj6",rect:"pcgKgPxM",rectFixed:"J4yfoE9c",leftIcon:"ZUtsTgRE",clientHomeStyleWrap:"jXDpdvdf",back:"CSodxJK5"}},513689:function(e,t,n){n.r(t),t.default={tab:"DDur8YTl",text:"r3jmEvEw",active:"jiALrX9N",activeClickable:"LBplrozv",xiguaTab:"b3TvdzpC",xiguaActive:"x3V2TaSU"}},431881:function(e,t,n){n.r(t),t.default={mask:"M58aV76G",halfOpacityModalInChange:"XLxjGiud",shortcutList:"VvGnme77",loginWindowModalInScaleChange:"R5AhpJMD",loginWindowModalInOpacityChange:"vAzHKlwC",header:"zZ_XNqK8",title:"y1MDXR81",close:"zDSoqlp9",divider:"MDXrCsQm",container:"cmper0eN",line:"kZzCso7n",action:"bkR2025Y",key:"mcds8FNP",shadowChange:"IveBttrm",overflowChange:"AQAIEURo",conversationDtailAnimationKeyframes:"KBjppbgH",popWindowModalOutChange:"xsOnxWlo"}},582117:function(e,t,n){n.r(t),t.default={tips:"M6CGQz9I",show:"p_sZYu8H",close:"Zd0E6a5R",ImmersiveTipTitle:"RB_4bTlh",desc:"JNMEGHuL",btn:"txi_KmjH"}},551491:function(e,t,n){n.r(t),t.default={tagLine:"WtOo5wRU",adCard:"h_RfJnn_",hidden:"ZlornKIm"}},264646:function(e,t,n){n.r(t),t.default={container:"vDg9jNuB",main:"zyhsmbZH",title:"K5X25jsd",detail:"ZuXVJTXv",close:"GQDTbVnl"}},250876:function(e,t,n){n.r(t),t.default={adSwiper:"ulDvP2uF",slideContent:"wQ04rd2K"}},995754:function(e,t,n){n.r(t),t.default={strongStyleMultiAdCard:"Sv9Gu2w9",easeIn:"eG29FQ0V",adInfo:"et9jpqsx",adIcon:"UKP0q4Su",detail:"BagiqU7O",tagLine:"UARGhfeL",tag:"AAslA91v",title:"bC6SW2CK",subTitle:"wVC8skmX",adInfo2:"ZeEQJSQ9",adIcon2:"x7bFkK4m",detail2:"A4UTlsPo",title2:"pVUMIqdW",tagLine2:"wUrDaSoJ",tag2:"lJptkk0w",swiperContainer:"kk6ntK58",adButton:"n6G007Zv"}},254723:function(e,t,n){n.r(t),t.default={wrapper:"kKKLjdEB",hide:"fLYOvUTM",tagPlugin:"oTda9ilZ",left:"wisDxSfy",text:"I6JXaABo"}},410076:function(e,t,n){n.r(t),t.default={smartClarityAdjust:"b686vd8y",text:"tM9_hJuY",button:"bD8CYKyp",close:"pKr2vY5L",down:"M6caipMg",textClarityNewColor:"AYGlVJ9d",textClarityNew:"rTPL2tat"}},272442:function(e,t,n){n.r(t),t.default={wrap:"hEmJHCgb",newWrap:"SbZnrNfQ",fullbox:"WxQb_x3z",hover:"JkCxkdeu",svg:"mPE5YQKa",intraction:"Z6_UPuKq",hide:"Hv4R8gXL",playBox:"GLulb2x8",playSvg:"ouaF3OLB",miniWindowOptimize:"f3mQcZ8D",playSwitchContainer:"Xi3wINnT"}},613564:function(e,t,n){n.r(t),t.default={videoInteractionWrapper:"wTY_3xzP",mobileAvatar:"hLst2N4i"}},549154:function(e,t,n){n.r(t),t.default={container:"K8KaQ3fp",inSearch:"S06K65X3",isInPreview:"mlYImYPe",video:"cqVXdjMe",livePhoto:"uxkRr_fl",isInLive:"UKpb1Qq8",withoutProgress:"GtPVQ5pY"}},558327:function(e,t,n){n.r(t),t.default={container:"GM2u793R",button:"b839rPQy",text:"s5znG0CG",downloadTips:"MbC1UOVn",redColor:"v6s0ouxm",disabled:"i9DYtQ33",isHide:"Xget3YCA"}},302452:function(e,t,n){n.r(t),t.default={container:"dNBh2eca",conatienr:"xrBxXOJb"}},978841:function(e,t,n){n.r(t),t.default={tips:"rHasTcOb",show:"Ih9UP1WO",close:"qcC3meSz",ImmersiveTipTitle:"VDHEfxZj",desc:"GxBEZbvX",btn:"W0bOBeGn"}},136916:function(e,t,n){n.r(t),t.default={panel:"LaHVn7Xb",title:"crpGeLr8",toastWrapper:"JNUrnE29",virtual:"cVgDI22L",item:"L3njOveY",btn:"ODnfLuEV",login:"GRc99kME","xgplayer-playclarity-setting":"bWyPPVIy",gear:"rXQVJYFb",real:"HTR0_7f8",disappear:"HxsLqcUl",selected:"mKSrntcr",xgTips:"UZc4uLpN",innerItem:"Dfa0xyLb"}},738103:function(e,t,n){n.r(t),t.default={container:"sTzQp1gD",enter:"i_MjV2ya",title:"dXwgPzIo",playbackTag:"vfrToGj_",playbackTagTitle:"zV0IM7uM",imgBackground:"W_gRZhcW",videoCover:"AYlMvHGO",backgroundImg:"F9i0Nts3",backgroundMask:"nSfDq32o"}},341921:function(e,t,n){n.r(t),t.default={DanmakuBar:"L0ZUK2Jv",DanmakuBarPrefix_divider:"lg3q08vb",DanmakuBar_emoji:"chEq5Vjh",DanmakuBar_emojiPopup:"_g9_nYpS",DanmakuEmoji:"fJKbxjk0",DanmakuInput:"MJjxrxFM",DanmakuSettings:"Mbeo9Xyt",DanmakuSettings_modalButton:"tV7E8g5L",DanmakuSlider:"kNHF_7fW"}},220666:function(e,t,n){n.r(t)},567189:function(e,t,n){n.r(t)},687722:function(e,t,n){n.r(t)},298695:function(e,t,n){n.r(t)},239456:function(e,t,n){n.r(t)},93075:function(e,t,n){n.r(t)},376698:function(e,t,n){e.exports=n.p+"media/download-guide-black-mac.16211d971b8fc248.png"},84715:function(e,t,n){var i=n(563097),o=n(88648),r=n(713097),l=n.n(r),a=n(544406),u=n(512991);t.Z=e=>{let{customProps:t}=e,{isClient:n,os:r}=null!=t?t:{},{isMac:s,isWindows:c}=o.useMemo(()=>a.a.wrapClientOsInfo(n,r),[n,r]);return(0,i.jsx)("div",{className:l()(u.default.headerFallbackContainer,u.default.searchBarCenterPlayer,{[u.default.searchBarCenterWebPlayer]:!n,[u.default.searchBarCenterWinsClientPlayer]:n&&c,[u.default.searchBarCenterMacClientPlayer]:n&&s}),children:(0,i.jsx)("div",{className:u.default.rightContentInner,children:(0,i.jsxs)("div",{className:u.default.menuCt,children:[Array.from([,,,,]).map((e,t)=>(0,i.jsxs)("div",{className:u.default.menuItem,children:[(0,i.jsx)("div",{className:u.default.menuIcon}),(0,i.jsx)("div",{className:u.default.menuText})]},t)),(0,i.jsx)("div",{className:u.default.menuItem,children:(0,i.jsx)("div",{className:u.default.menuLargeIcon})})]})})})}},634165:function(e,t,n){n.d(t,{e:function(){return d}});var i=n(563097);n(88648);var o=n(713097),r=n.n(o),l=n(811796),a=n(118687),u=n(682563),s=n(777916),c=n(696745);let d=e=>(0,i.jsxs)("div",{className:r()(s.default.videoContainer,null==e?void 0:e.className),children:[(0,i.jsx)("img",{id:"recommend-video-skeleton",src:u,alt:"",className:s.default.bgImage}),(0,i.jsx)(c.b,{usePerfLoading:!1,className:s.default.loading,text:"加载中",slot:a.t6.INSIDE})]});t.Z=()=>{var e;let t=(0,l.d)();return(null==t?void 0:t.isMobileSite)&&(null==t?void 0:null===(e=t.allAbParams)||void 0===e?void 0:e.oversea_landing_recommend)&&(null==t||t.isMainland),(0,i.jsx)("div",{className:s.default.coreContent,children:(0,i.jsx)("div",{className:r()(s.default.playerContainer,s.default.removeSlideListButton),children:(0,i.jsx)(d,{abTestData:{usePerfLoading:0}})})})}},628604:function(e,t,n){n.d(t,{B:function(){return l}});var i=n(563097);n(88648);var o=n(634165),r=n(649167);let l=()=>(0,i.jsxs)("div",{className:r.default.vsDetailSkeleton,children:[(0,i.jsx)("div",{className:r.default.playerContainer,children:(0,i.jsx)("div",{className:r.default.videoWrapper,children:(0,i.jsx)(o.e,{className:r.default.video})})}),(0,i.jsxs)("div",{className:r.default.videoDesc,children:[(0,i.jsx)("div",{className:r.default.desc}),(0,i.jsx)("div",{className:r.default.operate})]}),(0,i.jsxs)("div",{className:r.default.headerInfo,children:[(0,i.jsx)("div",{className:r.default.avatar}),(0,i.jsx)("div",{className:r.default.userInfo,children:(0,i.jsx)("div",{className:r.default.nickname})})]})]})},82581:function(e,t,n){n.d(t,{H:function(){return r}});var i=n(539794),o=n(492652);function r(e){let{children:t,userInfo:n}=e,{dispatch:r}=(0,o.useUserContext)();return(0,i.i)({userInfo:n,isLogin:null==n?void 0:n.isLogin,userDispatch:r}),t}},225147:function(e,t,n){n.d(t,{X:function(){return L}}),n(874386),n(179133),n(826893),n(675373),n(110006),n(242079),n(851912),n(927234),n(250440),n(544943);var i=n(88648),o=n(948375),r=n(567754),l=n(729532),a=n(128487),u=n(302461),s=n(407544),c=n(878478),d=n(132607),f=n(737470),v=n(187558),m=n(184101),h=n(403006),g=n(699872),p=n(480890),_=n(876877),w=n(328155),y=n(465769),b=n(167951),x=n(441447),C=n(578379);let{disableAutoLoginPromptReg:I}=a;function L(e){let{userCtx:t,abTestData:n,isSpider:a=!1,splashAdStatus:L,pathName:S="",isMainland:k=!0}=e,{dispatch:T,userInfo:N}=t,E=null==N?void 0:N.isLogin,[A,j]=(0,i.useState)(m.T.Unknown),R=(0,i.useRef)(!1),P=(0,i.useRef)(!1),M=(0,i.useRef)();(0,u.o)(()=>{M.current&&(M.current(),M.current=void 0)},[]);let{attemptOpen:D,executeClose:B}=(0,s.B)({popName:"登录冷启动弹窗",onOpen:()=>{},onClose:()=>{}}),O=(0,o.Z)(()=>{!R.current&&(0,h.C)(E,n,D,B,k),c.exposureColdStart();let e=async()=>{var e;l.z.markOnce(_.w3.custom.show_account_start);let t=await c.getColdStart(["video_detail"],n,k),o=Number(null===(e=(0,r.parse)(location.search))||void 0===e?void 0:e.open_login_ab)||0,a=1===o||2===o,u=1===o?"登录后抖音更懂你":"登录后免费畅享高清视频";async function s(){if(a){var e,n;(0,g.ZP)({success:async()=>{var e,t;T({type:"updateUserInfo"}),null===(t=window)||void 0===t||null===(e=t.location)||void 0===e||e.reload()},next:`https://${null===(n=window)||void 0===n?void 0:null===(e=n.location)||void 0===e?void 0:e.host}`,headerText:u,enterMethod:"click_push",teaEvtParams:{enter_from:"push"}}),j(m.T.Off);return}(null==t?void 0:t.shouldShow)?(null==t?void 0:t.type)!==c.LoginPanelType.FULL_LOGIN||R.current?(0,i.startTransition)(()=>{j(m.T.On)}):D({afterCallback:()=>{var e,n,o;(0,g.ZP)({success:async()=>{var e,t;T({type:"updateUserInfo"}),null===(t=window)||void 0===t||null===(e=t.location)||void 0===e||e.reload()},next:`https://${null===(n=window)||void 0===n?void 0:null===(e=n.location)||void 0===e?void 0:e.host}`,isCanClose:(null==t?void 0:null===(o=t.extra)||void 0===o?void 0:o.intensity)!==c.LoginIntensityType.FORCE,isGuide:!0,enterMethod:"cold_start_full",onClose:()=>{B()}}),(0,i.startTransition)(()=>{j(m.T.Off)})}}):(0,i.startTransition)(()=>{j(m.T.Off)})}(0,w.Nr)(location.pathname)?M.current=s:s()};!1!==E||R.current?void 0!==E&&(0,i.startTransition)(()=>{j(m.T.Off)}):e()}),U=(0,o.Z)(()=>{var e,t;let o=null===(t=window)||void 0===t?void 0:null===(e=t.location)||void 0===e?void 0:e.pathname;!(null==o?void 0:o.match(new RegExp(I)))||(null==o?void 0:o.match(/^\/shipin\/*?/))&&![d.SeoShipinLoginModal.A1,d.SeoShipinLoginModal.A2].includes(null==n?void 0:n.seoShipinLoginModal)?O():o&&(0,i.startTransition)(()=>{j(m.T.Off)})});return(0,i.useEffect)(()=>{var e;if(a)return;let t=c.getColdStartMax();C.Z.sendLog("enterColdStart",{enter_from:(0,y.vM)()||"",params_for_special:"uc_login",notify_times:c.getColdStartCount(),notify_limit:t>=100?-1:t}),C.Z.sendLog("ucWebIdNotify",{webid:(null===(e=(0,b.Es)())||void 0===e?void 0:e.user_unique_id)||"unknown"});let n=x.listen(x.EVENT.changeMinWindows,e=>{let{isMiniWin:t}=e;R.current=t}),i=x.listen(x.EVENT.shipinColdStartLogin,()=>{O()});return()=>{if(!a)n(),i()}},[!1]),(0,i.useEffect)(()=>{if(a)return;L===f.QB.Fullscreen&&(j(m.T.Off),P.current=!0);let e=new URLSearchParams(window.location.search);void 0!==E&&L!==f.QB.Unknown&&!P.current&&"1"!==e.get("open_mini_window")&&U()},[!1,E,L]),(0,i.useEffect)(()=>{E&&(k&&(0,p.oo)(N),(0,v.tokenBeatInit)({onDrop:()=>{T({type:"updateUserInfo"})}}))},[E]),{headerLoginPopupStatus:A}}},246283:function(e,t,n){n.d(t,{oM:function(){return v},tT:function(){return m}});var i=n(520739),o=n(878389);n(927234),n(882732),n(544943),n(874386);var r=n(246050),l=n(725887),a=n(814903),u=n(556360),s=n(852477),c=n(910374);function d(e){return e.toString().padStart(2,"0")}let f=()=>{let e=new Date;return`${Math.random().toString().slice(-3)}-${e.getFullYear()}${d(e.getMonth()+1)}${d(e.getDate())}${d(e.getHours())}${d(e.getMinutes())}${d(e.getSeconds())}${e.getMilliseconds()}${Math.random().toString().slice(-7)}${Math.random().toString(16).toUpperCase().slice(-10)}`},v=(e,t)=>{if(!e)return e;try{let n=new URL(e);return n.searchParams.set("_session_id",function(e){let t=e||f();return`${t}.${Date.now()}.${Math.random().toString().slice(-5)}`}(t)),n.searchParams.set("rsi",t?"1":"0"),n.searchParams.set("abr_pts","-800"),n.href}catch(t){return e}},m=e=>{var t,n,d,f,v,m;let{logOptions:h,secretKey:g,isPaidLive:p,bitrate:_,baseConfig:w}=e,{keepalivetime:y=0}=(0,r.D)(w.url),b=9999;g&&p&&0!==Number(y)&&(b=Number(y)-Math.floor(Date.now()/1e3));let{device_id:x,user_id:C,ext:I={}}=null!=h?h:{};return(0,o._)((0,i._)({},h),{aid:a.xo.aid,project_key:a.xo.project_key,app_name:a.xo.app_name,user_unique_id:x,device_id:x,user_id:C,ext:(0,i._)({isSupportedH265:(0,u.iz)()?1:0,isSupportedH266:(0,u.ue)()?1:0,isSupportedAvx2:(0,u.ws)()?1:0,cache_nosupport265:(0,u.$I)(),arch:"object"==typeof window&&null!==(d=null===(n=window)||void 0===n?void 0:null===(t=n.TTE_ENV)||void 0===t?void 0:t.arch)&&void 0!==d?d:"",scm_version:"object"==typeof window&&null!==(f=window.version)&&void 0!==f?f:"unknown",tce_cluster:"object"==typeof window&&null!==(v=window.tce_cluster)&&void 0!==v?v:"unknown",mediaType:"video",aes_flv_stream:g&&p?1:0,aes_flv_keepAliveTime:g&&p?b:0,abvids:null!==(m=l.Le.getConfig(l.gI.AbtestVids))&&void 0!==m?m:"",bitrate:_},I),onReport:s.X,isDisableReport:c.vw})}},937382:function(e,t,n){n.d(t,{B:function(){return v}}),n(874386);var i=n(645260),o=n.n(i),r=n(88648),l=n(27437),a=n(931236),u=n(169349),s=n(818597),c=n(987475),d=n(565024),f=n(18043);let v=e=>{let{stream:t,abtestData:n,defaultQuality:i}=e,o=c.CookieKeys.WebcastLocalQuality,r="";try{r=d.Q.getItem({sKey:o})||localStorage.getItem(o)}catch(e){}let[l]=(0,u.F$)({streamData:t,localQuality:r,defealutQuality:i,abtestData:n});return{startQuality:l}};t.Z=e=>{let{stream:t,defaultQuality:n}=e,{streamStore:{leadingData:i,localQuality:u,singleControlTime:c,renderTime:d}}=(0,s.o)(),v=o()(i,"items.probation_lead.is_leading",!1),m=o()(i,"items.probation_lead.lead_content.trial_duration",0),h=o()(i,"items.label_lead.is_leading",!1),g=o()(i,"clatity_guide",0),p=o()(i,"last_show_time",0),_=o()(i,"total_show_times",0),w=o()(i,"singleControlMaxShowTime",0),y=r.useMemo(()=>!i.is_login&&h&&i.level>0,[i.is_login,i.level,h]),b=r.useMemo(()=>i.level&&i.level>0?i.level&&a.n[i.level]:"",[i.level]),x=r.useMemo(()=>(_>=15&&d-p>w&&(0,f.b0)(),_<15&&d-p>c),[d,c,p,_,w]),C=r.useMemo(()=>x&&y&&!i.is_login&&v&&m&&(3===g||4===g),[g,i.is_login,v,m,y,x]),[I,L]=(0,l.HP)({streamData:t,localQuality:u,openIntercepted:y,interceptedQuality:b,defealutQuality:n,openTryWatching:C,isLogin:i.is_login}),S=(0,r.useMemo)(()=>{try{var e,n;let i=o()(t,`${L}.main.sdk_params`,"{}"),r=null!==(e=JSON.parse(i))&&void 0!==e?e:{};return null!==(n=null==r?void 0:r.vbitrate)&&void 0!==n?n:0}catch(e){return 0}},[t,L]);return{openIntercepted:y,interceptedQuality:b,openTryWatching:C,qualities:I,startQuality:L,bitrate:S}}},636294:function(e,t,n){n.d(t,{J:function(){return _}});var i=n(520739),o=n(878389);n(874386),n(250440);var r=n(563097),l=n(88648),a=n(850634),u=n(479043),s=n(400582),c=n(843980),d=n(885762),f=n(909543),v=n(328155),m=n(983253),h=n(669417);let g=e=>{let{playerRef:t,refEl:n,loggerRef:r}=(0,l.useContext)(a.ET),c=(0,l.useRef)(!1),{playerInstance:d,loggerInstance:f}=e;return(0,l.useEffect)(()=>{var t,r,l,a;if(!!n&&!c.current){c.current=!0;try{null===h.kg||void 0===h.kg||null===(t=h.kg.info)||void 0===t||t.call(h.kg,"复用播放器实例-start",{}),null===s.Z||void 0===s.Z||null===(r=s.Z.reuse)||void 0===r||r.call(s.Z,n),null===h.kg||void 0===h.kg||null===(l=h.kg.info)||void 0===l||l.call(h.kg,"复用播放器实例-end",{})}catch(e){null===h.kg||void 0===h.kg||null===(a=h.kg.event)||void 0===a||a.call(h.kg,"player_reuse_error",{message:null==e?void 0:e.message}),location.reload()}(0,u.Gn)(!0,d,(0,o._)((0,i._)({},e),{onLoadStart:t=>{var n;null===(n=e.onLoadStart)||void 0===n||n.call(e,t)},onLoadedData:t=>{var n;null==e||null===(n=e.onLoadedData)||void 0===n||n.call(e,t)}})),null==e||e.onDone()}},[n]),null},p=e=>{let[t,n]=(0,l.useState)(!(e.reusePlayer&&e.playerInstance)),a=(0,l.useRef)({player:e.playerInstance,logger:e.loggerInstance});a.current={player:e.playerInstance,logger:e.loggerInstance};let u=l.useMemo(()=>!!(e.reusePlayer&&e.playerInstance&&e.loggerInstance),[e.reusePlayer,e.playerInstance,e.loggerInstance]);return(0,l.useEffect)(()=>{!e.reusePlayer&&n(!0)},[e.reusePlayer]),(0,l.useEffect)(()=>{if(!t){let e=setTimeout(()=>{var e;null===h.kg||void 0===h.kg||null===(e=h.kg.event)||void 0===e||e.call(h.kg,"player_reuse_timeout"),n(!0),location.reload()},5e3);return()=>{clearTimeout(e)}}},[t]),(0,l.useEffect)(()=>{var t;let n=null==e?void 0:null===(t=e.exposedRef)||void 0===t?void 0:t.current,i=null==n?void 0:n.destroy,o=a.current.player,r=a.current.logger;return()=>{a.current=null;try{if(null===s.Z||void 0===s.Z?void 0:s.Z.isDestroyError){i(o,r),s.Z.destroy(),setTimeout(()=>{try{Object.keys(o).forEach(e=>{o[e]=null}),Object.keys(r).forEach(e=>{r[e]=null}),o=null,r=null}catch(e){}},100);return}o=null,r=null}catch(e){}}},[]),(0,r.jsxs)(r.Fragment,{children:[t?e.children:null,u?(0,r.jsx)(g,(0,o._)((0,i._)({},e),{onDone:()=>{n(!0)}})):null]})},_=e=>{let t=(0,f.a)(),n=(0,v.Nr)(t.pathname),a=(0,d.$s)(e=>{let{setFullscreen:t}=e;return{setFullscreen:t}});(0,u.vD)();let{exposedRef:s}=e;(0,m.Rs)("enter_from_merge"),(0,l.useEffect)(()=>{let e=["/root/live","follow/live"].some(e=>t.pathname.includes(e));n&&e&&(null==a||a.setFullscreen(!0))},[n]);let{role:h="consumer"}=e;return"provider"!==h&&("consumer"!==h||e.reusePlayer&&e.loggerInstance&&e.playerInstance)?(0,r.jsxs)(p,(0,o._)((0,i._)({},e),{children:[e.children," "]})):(0,r.jsx)(c.RecoverPlayer,(0,o._)((0,i._)({},e),{children:e.children}))}},382708:function(e,t,n){n.d(t,{C_:function(){return k},G$:function(){return I},J$:function(){return L},Lt:function(){return A},Mw:function(){return j},Zi:function(){return N},bj:function(){return R},bz:function(){return E},ft:function(){return C},jQ:function(){return T}});var i=n(520739),o=n(878389);n(413806),n(826893),n(668156),n(981168),n(874386),n(284961),n(897860),n(214478),n(807192),n(99891);var r=n(847191),l=n(987475),a=n(910863),u=n(828782),s=n(684767),c=n(645260),d=n.n(c),f=n(595814),v=n.n(f),m=n(907831),h=n.n(m),g=n(136832),p=n(709606),_=n(618618),w=n(827645),y=n(418279),b=n(496249),x=n(548558);function C(e){let{msg_id_str:t,content:n,user:i,show_identity:o,identity_label:r,rtf_content_v2:l}=e;return{is_mock:!0,method:"WebcastChatMessage",msg_id:t,payload:{content:n,common:{msg_id:t},user:i,rtf_content_v2:l},show_identity:o,identity_label:r}}function I(e,t){let{payload:n,method:i,is_mock:o}=t;return(i!==_.lm.WEBCAST_EXHIBITION_CHAT_MESSAGE||1128!==Number(null==n?void 0:n.app_id))&&(i!==_.lm.WEBCAST_CHAT_MESSAGE&&i!==_.lm.WEBCAST_EMOJI_CHAT_MESSAGE||!!o||(Array.isArray(e)?-1===e.indexOf(d()(n,"user.idStr",null)):d()(n,"user.id",null)!==e))}function L(e){let{payload:t,method:n,banned:i=p.qn.CHAT}=e;if(n!==_.lm.WEBCAST_GIFT_MESSAGE)return!0;if((Number(d()(t,"banned_display_effects"))&i)===i)return!1;let o=d()(t,"gift.type",void 0);switch(o){case w.o.FREE:case w.o.CHEAP:return!!t.repeat_end;case w.o.EXPENSIVE:case w.o.FACE:case w.o.FANS_GIFT:case w.o.FLY_LINKMIC:return!0;default:if(13===o||(0,y.dU)(null==t?void 0:t.gift_id))return!0;return!1}}let S=e=>{var t,n,i,o;let r=(null==e?void 0:null===(t=e.stream_url)||void 0===t?void 0:t.pull_datas)||{},l=Object.keys(r)[0],{stream_data:a,options:{default_quality:u}}=r[l],s=null===(n=JSON.parse(a))||void 0===n?void 0:n.data,c={},f={};return Object.keys(s).forEach(e=>{c[e]=s[e].main.flv,f[e]=s[e].main.hls}),{flv_pull_url:c,hls_pull_url_map:f,default_resolution:null==u?void 0:u.sdk_key,hls_pull_url:null==s?void 0:null===(o=s.defaultResolution)||void 0===o?void 0:null===(i=o.main)||void 0===i?void 0:i.hls,stream_orientation:d()(e,"stream_url.stream_orientation")}},k=e=>{var t;let n={id_str:e.id_str,title:e.title,cover:{url_list:[d()(e,"cover.url_list[0]","")]},stream_url:{flv_pull_url:d()(e,"stream_url.flv_pull_url",{}),default_resolution:d()(e,"stream_url.default_resolution",""),hls_pull_url:d()(e,"stream_url.hls_pull_url"),hls_pull_url_map:d()(e,"stream_url.hls_pull_url_map"),stream_orientation:d()(e,"stream_url.stream_orientation"),live_core_sdk_data:d()(e,"stream_url.live_core_sdk_data")},live_room_mode:d()(e,"live_room_mode"),like_count:d()(e,"like_count"),room_view_stats:d()(e,"room_view_stats",{display_short:"",display_middle:"",display_long:"",is_hidden:!1,incremental:!1}),others:d()(e,"others",{web_data:{additional_stream_url:d()(e,"others.web_data.additional_stream_url",{})}}),stats:d()(e,"stats",{like_count:0,total_user_desp:"",total_user_string:"",user_count_str:""}),owner:{nickname:d()(e,"owner.nickname",""),id_str:d()(e,"owner.id_str",""),sec_uid:d()(e,"owner.sec_uid",""),avatar_thumb:{url_list:[d()(e,"owner.avatar_thumb.url_list[0]","")]},follow_info:d()(e,"owner.follow_info",{}),subscribe:d()(e,"owner.subscribe",{})},paid_live_data:d()(e,"paid_live_data",{}),strategy_config:d()(e,"others.web_live_port_optimization.strategy_config",""),strategy_extra:d()(e,"others.web_live_port_optimization.strategy_extra",""),episode_extra:d()(e,"episode_extra")?{episode_id_str:d()(e,"episode_extra.episode_id_str"),season_id_str:d()(e,"episode_extra.season_id_str"),item_id:d()(e,"episode_extra.item_id"),mod:d()(e,"episode_extra.mod"),match_room_info:d()(e,"episode_extra.match_room_info")}:void 0};return(null==e?void 0:null===(t=e.scene_type_info)||void 0===t?void 0:t.commentary_type)&&(n.stream_url=S(e)),n.preview_expose=d()(e,"preview_expose",{}),n.highlight=d()(e,"highlight",{}),n},T=e=>!d()(e,"room_view_stats",null)||d()(e,"room_view_stats.is_hidden",!1)?"":d()(e,"room_view_stats.display_short","0"),N=e=>{let t=Number(d()(e,"room.req_user.enter_user_device_type","0"));return t===_.BS.AUDIENCE?"audience":t===_.BS.ANCHOR_AUDIENCE?"anchor_audience":t===_.BS.ANCHOR_DEVICE_AUDIENCE?"second_device":""},E=e=>{var t;let n=e.split(/(\[.*?])/),a=null!==(t=(0,r.$o)("commonEmoji"))&&void 0!==t?t:{},u=h()(a);if((null==n?void 0:n.length)>0){n.forEach(e=>{e&&"["===e[0]&&"]"===e[e.length-1]&&(u=u[`${e}`]?(0,o._)((0,i._)({},u),{[e]:u[`${e}`]+1}):(0,o._)((0,i._)({},u),{[`${e}`]:1}))});let e=Object.fromEntries(Object.entries(u).sort((e,t)=>{let[,n]=e,[,i]=t;return i-n}));(0,r.qQ)(l.LocalStorageKeys.LiveCommonEmoji,e)}},A=(e,t)=>{let n=e.split(/(\[.*?])/),i=1;return t&&n?(null==n||n.forEach(e=>{var n;let o=null===(n=Object.keys(t))||void 0===n?void 0:n.filter(t=>e===t);(null==o?void 0:o.length)===0&&""!==e&&(i=0)}),i):0},j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(!e)return;let i=(0,a.DI)(`https://${(0,g.ZP)().DOMAIN}/${e}`,t);if((0,u.DT)()&&n){(0,x.u)(i);return}window.open(i,(0,s.f)()?"_self":"_blank")},R=(e,t)=>{e.data&&(e.room=e.data,delete e.data);let n=k(e.room);return n.stream_url=v()(n.stream_url,["stream_orientation","flv_pull_url","hls_pull_url_map","default_resolution","live_core_sdk_data","extra"]),(0,o._)((0,i._)({},e),{room:n,requestId:t,streamSrc:(0,b.g7)(e),cover:d()(e,"room.cover.url_list[0]"),avatar:d()(e,"room.owner.avatar_thumb.url_list[0]")})}},314325:function(e,t,n){n.d(t,{AH:function(){return o},Rl:function(){return a},dM:function(){return l},qt:function(){return u}});var i=n(742401);let o=()=>{if(i.s)return 7;try{let e=localStorage.getItem("_DIVDING_MOCK_");if(e)return Number(e)}catch(e){}return 7},r=()=>{let e=o();if(i.s)return!1;try{let t=Number(localStorage.getItem("xg_device_score"));if(Number(e)<t)return!1;return!0}catch(e){return!1}},l=e=>{var t;return(null==e?void 0:null===(t=e.default_quality)||void 0===t?void 0:t.sdk_key)||"origin"},a=e=>{var t;let{options:n,abtestData:i}=e;return(null==n?void 0:null===(t=n.default_quality)||void 0===t?void 0:t.sdk_key)||"origin"},u=()=>r()?"ld":"origin"},852477:function(e,t,n){n.d(t,{X:function(){return r}}),n(429532);var i=n(276932),o=n(358472);let r=(e,t)=>{var n,r;if("undefined"==typeof window)return;let l=`livesdk_player_${e}`,a=(0,i.zS)(),u=Object.assign({},t);u.biz_is_h265=(0,o.aN)(null==u?void 0:u.cdn_play_url),Object.keys(a).forEach(e=>{u[`biz_${e}`]=a[e]}),null===(n=(r=window).collectEvent)||void 0===n||n.call(r,l,u)}},951587:function(e,t,n){n.d(t,{bz:function(){return a},v6:function(){return r},w0:function(){return u}}),n(413806),n(826893),n(882732),n(544943),n(874386);var i=n(900327),o=n(867204);let r=(e,t)=>{let{type:n,id_str:i}=e||{type:0,id_str:""},{type:o,id_str:r}=t||{type:0,id_str:""},l=`${n}_${i}`,a=`${o}_${r}`;return t?`${l}_${a}`:l},l=e=>{let t=e.split("_"),n={id_str:t[1],type:Number(t[0])},o=t.length>=4?{id_str:t[3],type:Number(t[2])}:void 0,l=6===t.length?{id_str:t[5],type:Number(t[4])}:void 0,a={type:3,id_str:"0"};return{categoryList:[r(n),o?r(o):o,l?r(l):l].filter(Boolean),partition:(0,i.M0)(n.type)?n:a,subPartition:!o||(0,i.M0)(o.type)?o:a,thirdPartition:!l||(0,i.M0)(l.type)?l:a,originPartition:n,originSubPartition:o,originThirdPartition:l}},a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",{partition:n}=l(e);return o.Co[t]?`${o.Co[t]}_${n.id_str}`:`${o.Co["1"]}_${n.id_str}`},u=(e,t)=>{let n=null==e?void 0:e.split("?")[0];if(n===(null==t?void 0:t.split("?")[0]))return!0;try{if(new URL(e).pathname===new URL(t).pathname)return!0;return!1}catch(e){}}},890170:function(e,t,n){n.r(t);var i=n(520739);n(675373);var o=n(563097),r=n(88648),l=n(282088);let a=()=>Promise.all([n.e("92432"),n.e("66135"),n.e("60923")]).then(n.bind(n,191129)),u=(0,r.forwardRef)(function(e,t){return(0,o.jsx)(l.o,(0,i._)({innerRef:t,id:"island_85b19",load:a},e))});t.default=u},832004:function(e,t,n){n.r(t);var i=n(520739);n(675373);var o=n(563097),r=n(88648),l=n(282088);let a=()=>Promise.all([n.e("92432"),n.e("66135"),n.e("30800")]).then(n.bind(n,556173)),u=(0,r.forwardRef)(function(e,t){return(0,o.jsx)(l.o,(0,i._)({innerRef:t,id:"island_59be2",load:a},e))});t.default=u},192738:function(e,t,n){n.r(t);var i=n(520739);n(675373);var o=n(563097),r=n(88648),l=n(282088);let a=()=>Promise.all([n.e("92432"),n.e("66135"),n.e("3556"),n.e("76746"),n.e("56689"),n.e("47842"),n.e("47735"),n.e("86617"),n.e("95395"),n.e("51113")]).then(n.bind(n,671745)),u=(0,r.forwardRef)(function(e,t){return(0,o.jsx)(l.o,(0,i._)({innerRef:t,id:"island_4a59f",load:a},e))});t.default=u},894304:function(e,t,n){n.d(t,{u:function(){return u}}),n(250440),n(675373);var i=n(509090),o=n(63405),r=n(465769),l=n(742740),a=n(910863);let u=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",{data:t}=await o.invoke("getMultitaskingWindowCount");if(t>=4){i.F.info("独立窗口已达上限，需关闭任意窗口");return}let n={multi_window_open_from:"auto_open",enter_from:(0,r.vM)(),open_from_page:(0,l.yW)(),multi_window_order:String(t),is_open_detail:["/video","live.douyin.com","/lvdetail","/note"].some(t=>null==e?void 0:e.includes(t))?"1":"0"},u=(0,a.G7)(n,e);o.invoke("createMultitaskingWindow",{url:u,useSmallMode:!1,useExtendTop:!0,useReuse:!0,useToMain:!0})}},338562:function(e,t,n){n.d(t,{w:function(){return f}}),n(874386);var i=n(563097),o=n(88648),r=n(309931);n(359090);var l=n(756560),a=n(167951),u=n(443468),s=n(111224),c=n(480890);let d=e=>{let{confirmHandler:t=null,cancelHandler:n=null,defaultHandler:r=null,countdown:a=5}=e,u=(0,o.useRef)(null),[s,c]=(0,o.useState)(a),d="TrustDialog",f=()=>{clearTimeout(u.current),(0,l.m)(d)};return(0,o.useEffect)(()=>(u.current=setTimeout(()=>{null==r||r(),(0,l.m)(d)},1e3*a),()=>{clearTimeout(u.current)}),[]),(0,o.useEffect)(()=>{setTimeout(()=>{s>0&&c(s-1)},1e3)},[s]),(0,o.useEffect)(()=>((0,l.o)({pausePlayControlShortcut:!0,pauseCustomShortcut:!0,pauseGlobalShortcut:!0},d),()=>{(0,l.m)(d)}),[]),(0,i.jsx)("div",{className:"trust-login-dialog-mask",children:(0,i.jsxs)("div",{className:"trust-login-dialog-content",children:[(0,i.jsx)("div",{className:"trust-login-dialog-title",children:`是否保存登录信息？（${s}）`}),(0,i.jsx)("div",{className:"trust-login-dialog-info",children:"下次登录更便捷，可在个人中心关闭"}),(0,i.jsxs)("div",{className:"trust-login-dialog-button",children:[(0,i.jsx)("div",{className:"trust-login-dialog-button-cancel",onClick:()=>{f(),null==n||n()},children:"取消"}),(0,i.jsx)("div",{className:"trust-login-dialog-button-confirm",onClick:()=>{f(),null==t||t()},children:"保存"})]})]})})},f=e=>{var t;let{confirmHandler:n=null,cancelHandler:o=null,countdown:l=5,showWay:f=""}=e,v=document.createElement("div");v.setAttribute("id","trust-logout-dialog"),document.body.appendChild(v),s.Z.sendLog("loginInfoPopupShow",{popup_type:f,params_for_special:"uc_login",device_id:null===(t=(0,a.Es)())||void 0===t?void 0:t.user_unique_id,is_default:0}),r.render((0,i.jsx)(d,{confirmHandler:()=>{var e;s.Z.sendLog("loginInfoPopupResult",{popup_type:f,result:"save",params_for_special:"uc_login",device_id:null===(e=(0,a.Es)())||void 0===e?void 0:e.user_unique_id});try{(0,u.dg)(1,{login_type:f,method:"popup",page:"save_guide"}).then(()=>{v&&document.body.contains(v)&&document.body.removeChild(v),null==n||n()}).catch(()=>{v&&document.body.contains(v)&&document.body.removeChild(v),null==n||n()})}catch(e){}},cancelHandler:()=>{var e;s.Z.sendLog("loginInfoPopupResult",{popup_type:f,result:"cancel",params_for_special:"uc_login",device_id:null===(e=(0,a.Es)())||void 0===e?void 0:e.user_unique_id});try{2!==(0,c.gZ)()?(0,u.dg)(2,{login_type:f,method:"popup",page:"save_guide"}).then(()=>{v&&document.body.contains(v)&&document.body.removeChild(v),null==o||o()}).catch(()=>{v&&document.body.contains(v)&&document.body.removeChild(v),null==o||o()}):(v&&document.body.contains(v)&&document.body.removeChild(v),null==o||o())}catch(e){}},defaultHandler:()=>{var e;s.Z.sendLog("loginInfoPopupResult",{popup_type:f,result:"close",params_for_special:"uc_login",device_id:null===(e=(0,a.Es)())||void 0===e?void 0:e.user_unique_id});try{v&&document.body.contains(v)&&document.body.removeChild(v),null==o||o()}catch(e){}},countdown:l}),v)}},212043:function(e,t,n){n.d(t,{A_:function(){return p},gS:function(){return _},ul:function(){return w}});var i=n(520739),o=n(878389);n(675373);var r=n(987475),l=n(887573),a=n(167951),u=n(847191),s=n(441447),c=n(111224),d=n(570377);let f=null,v=null,m=async()=>{if(f)return;let{webLoginRequest:e}=await Promise.resolve().then(n.bind(n,184605));f=await e()},h=async()=>{if(!v)v=await (0,d.Pn)()},g=async(e,t)=>(await m(),await h(),new Promise(async(n,i)=>{null==v||v.setTrust({setParams:{decision:e,skip_sdk_error_handler:t},length:3,request:f}).then(e=>{n(e)}).catch(e=>{i(e)})})),p=async e=>(await h(),null==v?void 0:v.checkIsTrust(e)),_=async e=>(await h(),null==v?void 0:v.updateUserInfo(e)),w=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(1===e){var f;c.Z.sendLog("loginInfoSwitchOn",(0,o._)((0,i._)({},t),{params_for_special:"uc_login",device_id:null===(f=(0,a.Es)())||void 0===f?void 0:f.user_unique_id}))}return await (0,l.Fm)(),new Promise((o,l)=>{g(e,n).then(n=>{var l;let f=1===e?"on":"off";c.Z.sendLog("saveLoginApiResult",(0,i._)({params_for_special:"uc_login",device_id:null===(l=(0,a.Es)())||void 0===l?void 0:l.user_unique_id,switch_status:f,result:"success"},t)),(0,u.qQ)(r.LocalStorageKeys.IsAllowTrust,e),(0,u.qQ)(r.LocalStorageKeys.SetIsAllowTrust,1),d?(0,u.qQ)(r.LocalStorageKeys.defaultSetTrust,1):(0,u.qQ)(r.LocalStorageKeys.defaultSetTrust,0),s.emit(s.EVENT.updateTrustSwitch,e),o(e)}).catch(n=>{var o;let r=1===e?"on":"off";c.Z.sendLog("saveLoginApiResult",(0,i._)({params_for_special:"uc_login",device_id:null===(o=(0,a.Es)())||void 0===o?void 0:o.user_unique_id,switch_status:r,result:"fail",error_code:null==n?void 0:n.error_code},t)),l(n)})})}},302462:function(e,t,n){n.d(t,{Z:function(){return v}}),n(250440);var i=n(563097),o=n(88648),r=n(713097),l=n.n(r),a=n(243150),u=n(950436),s=n(693101),c=n(69940),d=n(305247),f=n(29181);function v(e){let{onOtherClick:t,onHandleRecharge:n,onHandleUpload:r,onHandleHomeScreen:v,showUpload:m,className:h}=e;return(0,o.useEffect)(()=>{let e=e=>{var n,i;if(null===(i=e.target)||void 0===i?!void 0:null===(n=i.className)||void 0===n?!void 0:!n.includes("m-header"))null==t||t()};return document.addEventListener("click",e,!0),document.addEventListener("touchstart",e,!0),()=>{document.removeEventListener("click",e,!0),document.removeEventListener("touchstart",e,!0)}},[t]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.Z,{className:u.Z.triangle,src:s.Z,width:36,height:7,viewBox:"0 0 36 7"}),(0,i.jsxs)("div",{className:l()(u.Z.morePanel,"m-header-more-panel"),children:[m&&(0,i.jsxs)("div",{className:l()(u.Z.morePanelItem,"m-header-more-panel-item"),onClick:r,children:[(0,i.jsx)("div",{className:l()(u.Z.itemIcon,"m-header-xxx"),children:(0,i.jsx)(a.Z,{src:d.Z,width:24,height:24,viewBox:"0 0 24 24"})}),(0,i.jsx)("span",{className:l()(u.Z.itemText,"m-header-xxx"),children:"Upload"})]}),(0,i.jsxs)("div",{className:l()(u.Z.morePanelItem,"m-header-more-panel-item"),onClick:n,children:[(0,i.jsx)("div",{className:l()(u.Z.itemIcon,"m-header-xxx"),children:(0,i.jsx)(a.Z,{src:f.Z,width:24,height:24,viewBox:"0 0 24 24"})}),(0,i.jsx)("span",{className:l()(u.Z.itemText,"m-header-xxx"),children:"Charge"})]}),(0,i.jsxs)("div",{className:l()(u.Z.morePanelItem,"m-header-more-panel-item"),onClick:v,children:[(0,i.jsx)("div",{className:l()(u.Z.itemIcon,"m-header-xxx"),children:(0,i.jsx)(a.Z,{src:c.Z,width:24,height:24,viewBox:"0 0 24 24"})}),(0,i.jsx)("span",{className:l()(u.Z.itemText,"m-header-xxx"),children:"Add to home screen"})]})]})]})}},726333:function(e,t,n){n.d(t,{F:function(){return y}});var i,o=n(134761),r=n(520739),l=n(878389);n(268917),n(874386),n(250440);var a=n(563097),u=n(713097),s=n.n(u),c=n(88648),d=n(309931),f=n(950712),v=n(737271),m=n(725887),h=n(990151);let g=null,p=null,_=null,w={text:"",duration:3e3};class y extends(i=c.Component){static create(e){if(g)return e&&e(g);!document.querySelector("#toastContainer")&&((_=document.createElement("div")).className=h.Z.toastWrapper,_.id="toastContainer",document.body.appendChild(_)),d.render((0,a.jsx)(y,{ref:t=>{g=t,e&&e(g)}}),_)}static info(e,t,n){let i=(0,r._)({},w);"string"==typeof e?(i.text=e,i.root=(null==t?void 0:t.current)||t):"object"==typeof e&&null!==e&&(i=(0,r._)((0,l._)((0,r._)({},w),{root:(null==t?void 0:t.current)||t}),e));let o=document.querySelector(".xgplayer-fullscreen-parent")||(0,f.W)();(0,v.r)()&&o&&!i.root&&(i.root=o),this.textList.push(i),this.create(e=>{!p&&e&&e.handleShowToast(n)}),i.toastContainerClassName&&_.classList.add(i.toastContainerClassName)}static infoInModalVideo(e,t,n){var i;let o=(0,r._)({},w);"string"==typeof e?(o.text=e,o.root=(null==t?void 0:t.current)||t):"object"==typeof e&&null!==e&&(o=(0,r._)((0,l._)((0,r._)({},w),{root:(null==t?void 0:t.current)||t}),e));let a=(null===(i=m.Le.getConfig(m.gI.IsInModalVideo))||void 0===i?void 0:i.isInModal)||!1,u=document.querySelectorAll('.modal-video-container [data-e2e="feed-active-video"] .xg-video-container'),s=(a?document.querySelector('#slideMode[data-e2e="feed-active-video"] .xg-video-container')||u[u.length-1]:document.querySelector("#slideMode .xg-video-container"))||o.root;s&&(o.root=s),this.textList.push(o),this.create(e=>{!p&&e&&e.handleShowToast(n)})}handleShowToast(e){var t;p&&(clearTimeout(p),p=null);let n=y.textList.shift();this.setState({showToast:!0,options:n}),p=setTimeout(()=>{y.textList.length?this.handleCloseToast(()=>{setTimeout(this.handleShowToast.bind(this),50)}):(this.handleCloseToast(),this.destroy()),p=null},e||n.duration),null===(t=document)||void 0===t||t.addEventListener("keydown",this.keyboardCloseFn),null==_||_.addEventListener("click",this.mouseCloseFn)}handleCloseToast(e){this.setState({showToast:!1},()=>e&&e())}destroy(){var e;null===(e=document)||void 0===e||e.removeEventListener("keydown",this.keyboardCloseFn),null==_||_.removeEventListener("click",this.mouseCloseFn),null==_||_.remove(),g=null}render(){let{showToast:e,options:t}=this.state,n=e&&t&&(0,a.jsx)("div",{className:s()(h.Z.toast,t.className,{[h.Z.parentToastWrapper]:(0,v.r)()||!t.className&&t.root,[h.Z.clearPointer]:(null==t?void 0:t.clearPointerEvents)||!1}),"data-e2e":"toast",children:t.text});return(0,a.jsx)(c.Fragment,{children:t&&t.root?d.createPortal(n,t.root):n})}constructor(...e){super(...e),(0,o._)(this,"state",{showToast:!1}),(0,o._)(this,"mouseCloseFn",e=>{this.handleCloseToast(),this.destroy(),p=null}),(0,o._)(this,"keyboardCloseFn",e=>{["Escape","ArrowUp","ArrowDown"].includes(e.key)&&(this.handleCloseToast(),this.destroy(),p=null)})}}(0,o._)(y,"textList",[])},31370:function(e,t,n){n.d(t,{Qf:function(){return a}}),n(268917),n(675373),n(874386),n(779788),n(429532),n(455663),n(563097);var i=n(879146),o=n.n(i);n(88648),n(734123),n(23902),n(291051);var r=n(9639),l=n(188408);let a=(e,t)=>({sampleRate:e.audioCtx.sampleRate,numChannels:e.audioCtx.destination.channelCount,source_peak:(null==t?void 0:t.peak)||.99,source_lufs:(null==t?void 0:t.loudness)||l.G7,target_lufs:(null==t?void 0:t.targetLufs)||l.G7,debugger:!1,duration:(null==t?void 0:t.duration)||0,vcloud_json_str:(null==t?void 0:t.metaData)||"",libra_json_str:(null==t?void 0:t.libraData)||""}),u=[{audioCtx:null,effectNode:null,analyser:null,currentMeta:null,volumeEvent:null,currentSourceNodeCount:0,currentActiveNodeCount:0,maxDb:[],hasAnalyser:!1,canSuspend:!1,useMammonWorkletProcessorV3:!1,useMammonWorkletProcessorV3Wasm:!1}],s=[new(o())];window.globalCtx={audioCtxArr:u,volumeCtxArr:s};async function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(let t=0;t<e;t++){let e=u[t],n=s[t];await (0,r.R)(e,n)}}!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(let t=0;t<e;t++)if(!s[t]&&s.push(new(o())),!u[t]){let e={audioCtx:null,effectNode:null,analyser:null,currentMeta:null,volumeEvent:null,currentSourceNodeCount:0,currentActiveNodeCount:0,maxDb:[],hasAnalyser:!1,canSuspend:!1,useMammonWorkletProcessorV3:!1,useMammonWorkletProcessorV3Wasm:!1};u.push(e)}}(1),c(1)},163515:function(e,t,n){let i;n.d(t,{C:function(){return v}}),n(675373);var o=n(878478),r=n(207761),l=n(725887),a=n(828782),u=n(327718),s=n(100638),c=n(582296),d=n(497374);let f="AUTO_LOGIN_PROMPT_TIMESTAMP";async function v(e,t,n,v){var m;if(void 0===e)return;let h=Number(null===(m=window)||void 0===m?void 0:m.localStorage.getItem("__SELF_AUTO_LOGIN_PROMPT_DELAY"))||3e5;let g=()=>new Date().toDateString();if(e)clearTimeout(i);else if(window.localStorage.getItem(f)!==g()&&!i){if(await (0,r.isHideLoginGuide)(t))return;i=setTimeout(async()=>{let e=g();if(!(l.Le.getConfig(l.gI.IsMiniWin)||(0,a.tq)()&&(0,d.lJ)()&&(null==t?void 0:t.overseaLandingRecommend)||(0,a.tq)()&&(null==t?void 0:t.overseaLandingRecommend)||(0,o.calcExclusive)("auto"))){if(window.localStorage.getItem(f)!==e){if((await (0,u.b)()).isLogin)return;"visible"===document.visibilityState?n({afterCallback:()=>(0,c.default)({success:()=>{null==v||v(),window.location.reload()},enterMethod:"auto",isActive:"0",next:(0,s.pL)(),onClose:v})}):document.addEventListener("visibilitychange",()=>{setTimeout(()=>{n({afterCallback:()=>(0,c.default)({success:()=>{null==v||v(),window.location.reload()},enterMethod:"auto",isActive:"0",next:(0,s.pL)(),onClose:v})})},500)},{once:!0})}(0,o.recordLastLoginGuide)("auto"),window.localStorage.setItem(f,e)}},h)}}},497374:function(e,t,n){let i;n.d(t,{GH:function(){return y},Kx:function(){return h},V7:function(){return w},XR:function(){return m},Yl:function(){return p},iV:function(){return f},lJ:function(){return b},sh:function(){return x}});var o=n(134761),r=n(520739);n(675373),n(268917);var l=n(565024),a=n(742740),u=n(725887),s=n(847191),c=n(567095);let d=l.Q,f=()=>{let e=document.getElementById("login-pannel"),t=document.getElementById("login-panel-new");return!!e||!!t||!1},v=(e,t)=>!!e&&(new Date(e).toDateString()===new Date(t).toDateString()||!1),m=()=>{let e=(0,a.yW)()||"";return"follow"===e||"friend"===e},h=e=>{let t=(0,u.AQ)(),n=Math.floor((new Date().getTime()/1e3-t)/60/60/24);if(t)return e?n<=e:new Date(1e3*t).toDateString()===new Date().toDateString();return!1},g=e=>{let{type:t="localStorage",key:n=""}=e;return"cookie"===t?d&&d.getItem({sKey:n})||{}:(0,s.$o)(n)||{}};class p{constructor(e){(0,o._)(this,"strategy",{}),(0,o._)(this,"freq",{}),(0,o._)(this,"key",""),(0,o._)(this,"type","localStorage"),(0,o._)(this,"getFreq",()=>this.freq),(0,o._)(this,"setFreq",e=>{let t=(0,r._)({},this.freq,e);if(this.freq=t,"cookie"===this.type){d&&d.setItem(this.key,t,c.v,"/",c.J,"");return}(0,s.qQ)(this.key,t)}),(0,o._)(this,"isInFreq",()=>{let{total:e=0,timesOfPerDay:t=0,lastTime:n=0}=this.freq||{},{total:i=0,timesOfPerDay:o=0}=this.strategy||{};if(e<i){let e=new Date().getTime(),i=v(n,e);if(i&&t<o)return!0;if(!i)return this.setFreq({lastTime:e,timesOfPerDay:0}),!0}return!1});let{key:t="",strategy:n={},type:i="localStorage"}=e;this.strategy=n,this.key=t,this.type=i,this.freq=g({type:i,key:t})||{}}}class _{constructor(){(0,o._)(this,"showingQueue",[]),(0,o._)(this,"waitingQueue",[]),(0,o._)(this,"showDialog",e=>{let{rule:t="inOrder"}=e;if("immediately"===t){this.showingQueue.push(e),e.onShow();return}0===this.showingQueue.length?(this.showingQueue.push(e),e.onShow()):this.waitingQueue.push(e)}),(0,o._)(this,"closeDialog",e=>{this.showingQueue=this.showingQueue.filter((t,n)=>t.id!==e||(t.onClose(),!1)),this.showNext()}),(0,o._)(this,"showNext",()=>{if(this.waitingQueue.length>0){let e=this.waitingQueue[0];this.waitingQueue=this.waitingQueue.slice(1),e.onShow(),this.showingQueue.push(e)}}),(0,o._)(this,"clear",()=>{this.waitingQueue=[],this.showingQueue.forEach((e,t)=>{e.onClose()}),this.showingQueue=[]})}}let w=()=>i?i:i=new _,y=()=>{var e;return null===(e=window)||void 0===e?void 0:e.isoversea},b=()=>{var e,t;return(null===(t=window)||void 0===t?void 0:null===(e=t.EXPOSE_DATA)||void 0===e?void 0:e.isMainland)===!1};function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return new Promise(i=>{let o=setTimeout(()=>{i(t)},n);e().then(e=>{clearTimeout(o),i(e)}).catch(e=>{clearTimeout(o),i(t)})})}},942184:function(e,t,n){n.d(t,{R:function(){return x}});var i=n(520739);n(874386),n(779788),n(927234);var o=n(563097),r=n(88648),l=n(713097),a=n.n(l),u=n(162095),s=n(437983),c=n(645003),d=n(623582),f=n(742740),v=n(243225),m=n(487330),h=n(343235),g=n(216699),p=n(115627),_=n(635065),w=n(448458),y=n(898283);let b=e=>{let{item:t,index:n,onHistoryItemClick:i,abTestData:l,supportAiTop1:u,onDeleteHistoryItem:s}=e,[c,d]=(0,r.useState)(!1);return(0,o.jsxs)("div",{"data-text":t.text,"data-uri":t.uri,"data-url":t.url,"data-image-width":t.imageWidth,"data-image-height":t.imageHeight,"data-index":n,"data-forceuseai":t.forceUseAi,"data-boxdetection":JSON.stringify(t.boxDetection),onClick:e=>{i(e)},className:a()(h.default.historyCapsuleItem),children:[(0,o.jsx)("div",{children:(0,o.jsx)(g.Z,{})}),!!(null==l?void 0:l.aiSearchAiInput)&&u&&t.url&&!c&&(0,o.jsx)("img",{src:t.url,alt:"",className:h.default.historyCapsuleItemImage,onError:()=>{d(!0)}}),(0,o.jsx)("span",{className:h.default.historyCapsuleItemText,children:t.text}),(0,o.jsx)("div",{className:a()(h.default.historyCapsuleDeleteButton),"data-text":t.text,onClick:s,children:(0,o.jsx)(_.Z,{})})]},t.text)},x=e=>{let{history:t=[],onHistoryItemClick:n,onDeleteHistoryItem:l,clearHistory:g,customProps:_,abTestData:x}=e,[C,I]=(0,r.useState)(t.length>5),L=C?5:t.length,{supportAiTop1:S}=(0,m.Iq)(e=>{let{supportAiTop1:t}=e;return{supportAiTop1:t}}),k=(0,r.useMemo)(()=>(0,s.y$)(y.nT),[]),T=(0,r.useCallback)(()=>_.isModalVideo?"modal_entrance":_.isInnerUpper||_.isSmoothInnerFeed?"video_detail":(0,f.yW)(),[_.isModalVideo,_.isInnerUpper,_.isSmoothInnerFeed]),N=_.isModalVideo||_.isFullScreenShow||_.isInnerUpper||_.isSmoothInnerFeed?"internal_flow_search_topbar":"search_topbar",E=(0,c.x)(()=>{d.logInstance.sendLog("searchBarElementShow",{enter_from:T(),page_name:(0,f.yW)(),element_name:"history_words_clean_all_button",search_position:N,button_type:"history_words_clean_all"})}),A=(0,c.x)(()=>{d.logInstance.sendLog("searchBarElementShow",{enter_from:T(),page_name:(0,f.yW)(),element_name:"history_words_expand_all_button",search_position:N,button_type:"history_words_expand_all"})});(0,r.useEffect)(()=>{t.length>0&&t.slice(0,L).forEach((e,t)=>{k("historyShow",(0,i._)({enter_from:T(),page_name:(0,f.yW)(),element_name:"history_words_button",words_num:L.toString(),words_position:t,words_content:null==e?void 0:e.text},(null==_?void 0:_.logParams)||{}))})},[L]);let j=()=>{I(!1)};return 0===t.length?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:h.default.titleView,children:[(0,o.jsx)("span",{className:a()(h.default.titleViewText),children:"搜索历史"}),(0,o.jsxs)("div",{ref:E,className:a()(h.default.clearButtonView,h.default.newClearBtnView),onClick:()=>{d.logInstance.sendLog("searchBarElementClick",{enter_from:T(),page_name:(0,f.yW)(),element_name:"history_words_clean_all_button",search_position:N,button_type:"history_words_clean_all"}),g()},children:[(0,o.jsx)(p.Z,{src:v.Z,width:12,height:12,viewBox:"0 0 14 14"}),(0,o.jsx)("span",{className:h.default.clearButton,children:"清除全部"})]})]}),(0,o.jsx)("div",{className:h.default.historyCapsuleContainer,style:{overflowY:C?"unset":"auto"},"data-e2e":"search-history-container",children:t.slice(0,L).map((e,t)=>(0,o.jsx)(b,{item:e,index:t,onHistoryItemClick:n,supportAiTop1:S,abTestData:x,onDeleteHistoryItem:l},`${e.text}_${t}`))}),C&&(0,o.jsx)("div",{className:h.default.dividerView,ref:A,children:(0,o.jsx)(u.Divider,{className:h.default.divider,children:(0,o.jsxs)("div",{className:h.default.dividerText,onClick:()=>{d.logInstance.sendLog("searchBarElementClick",{enter_from:T(),page_name:(0,f.yW)(),element_name:"history_words_expand_all_button",search_position:N,button_type:"history_words_expand_all"}),j()},children:["展开全部 ",(0,o.jsx)(w.Z,{})]})})})]})}},271994:function(e,t,n){n.d(t,{q:function(){return s}}),n(874386);var i=n(563097),o=n(88648),r=n(713097),l=n.n(r),a=n(162095),u=n(783198);function s(e){let{type:t="default",src:n,alt:r="",isSpider:s=!1,isSelf:c=!1,showImageInSSR:d=!1,className:f,defaultClassName:v,imgClassName:m,maskConf:h,onMouseEnter:g,onMouseLeave:p,onClick:_,children:w}=e,[y,b]=(0,o.useState)(0),x=n&&(1===y||s||d),{showMask:C,MaskItem:I,className:L}=h||{},S=()=>b(1);return(0,o.useEffect)(()=>{let e=!1,t=new Image;t.onload=function(){if(!e)e=!0,S(),t=null},t.onerror=function(){if(!e)e=!0,b(-1),t=null};let i=setTimeout(()=>{e=!0,S()},3e3);return t.src=n,()=>{t&&(t.onload=null,t.onerror=null),clearTimeout(i)}},[n]),(0,i.jsxs)(a.Avatar,{className:l()(u.default.avatar,u.default[t],"avatar-component-avatar-container",{[f]:f,[u.default.self]:c}),onMouseEnter:g,onMouseLeave:p,"data-e2e":"live-avatar",onClick:_,style:{backgroundColor:"transparent"},hoverMask:C?(0,i.jsx)(I,{className:L}):null,children:[x?(0,i.jsx)("img",{src:n,alt:r,className:l()(u.default.image,m),onError:()=>b(-1),onLoad:S}):(0,i.jsx)("div",{className:l()(u.default[t],u.default.avatarIcon,{[f]:v})}),w]})}},152541:function(e,t,n){n.d(t,{W:function(){return m}});var i=n(563097),o=n(88648),r=n(948375),l=n(713097),a=n.n(l),u=n(618506),s=n(343214),c=n(115627),d=n(65807),f=n(176090),v=n(101156);let m=(0,o.memo)(e=>{let{liveInfo:t,onClose:n,onShow:l,onClick:m,subTitleElement:h}=e,{cover:g,title:p,text:_}=t||{},w=(0,o.useRef)(),y=(0,r.Z)(()=>{w.current=setTimeout(()=>{n()},1e4)});return(0,o.useEffect)(()=>{l()},[]),(0,o.useEffect)(()=>(y(),()=>{clearTimeout(w.current)}),[]),(0,i.jsxs)("div",{className:f.default.largeLivingInfo,onMouseEnter:()=>{clearTimeout(w.current)},onMouseLeave:()=>{w.current=setTimeout(()=>{n()},1e4)},children:[(0,i.jsx)("div",{className:f.default.left,onClick:m,children:(0,i.jsx)("div",{className:f.default.cover,style:{backgroundImage:`url(${g})`},children:!g&&(0,i.jsx)("div",{className:f.default.defaultCover,children:(0,i.jsx)(c.Z,{src:u.Z,width:48,height:48,viewBox:"0 0 48 48"})})})}),(0,i.jsxs)("div",{className:f.default.right,onClick:m,children:[(0,i.jsx)(d.R,{text:p,className:f.default.title}),_&&(0,i.jsx)("div",{className:f.default.subTitle,children:_}),!!h&&h,(0,i.jsxs)("div",{className:f.default.largeLiveBtn,children:[(0,i.jsx)(v.WaveLineAnimation,{className:f.default.icon,size:12}),(0,i.jsx)("span",{className:f.default.btnText,children:"观看直播"})]})]}),(0,i.jsx)(c.Z,{onClick:()=>{n()},className:a()(f.default.closeIcon),src:s.Z,width:20,height:20,viewBox:"0 0 20 20"})]})})},466181:function(e,t,n){n.d(t,{C:function(){return k}});var i=n(520739),o=n(878389);n(110006),n(826893),n(927234),n(779788),n(250440);var r=n(567754),l=n(138871),a=n.n(l),u=n(132607),s=n(987475),c=n(246050),d=n(768492),f=n(441447),v=n(565024),m=n(984330),h=n(380676),g=n(434530),p=n(277762),_=n(888969),w=n(723787);let y=e=>{var t;let n=a().parse(null==e?void 0:null===(t=e.message)||void 0===t?void 0:t.textPayload),r={};try{r=JSON.parse(n.extra_str)}catch(e){}return(0,o._)((0,i._)({},n),{extra:r})},b=e=>{if(!e)return{webRid:"",roomId:"",anchorId:""};{let{query:t}=r.parseUrl(e);return{webRid:null==t?void 0:t.web_rid,roomId:null==t?void 0:t.room_id,anchorId:null==t?void 0:t.user_id}}},x=e=>{if(!e)return{webRid:"",roomId:"",anchorId:""};{var t;let n=(null===(t=e.match(/live\.douyin\.com\/(\d+)/))||void 0===t?void 0:t[1])||"";return{webRid:n,roomId:n,anchorId:""}}},C=e=>{var t,n,i,o;let{webRid:r,roomId:l,anchorId:a}=(null==e?void 0:null===(t=e.ttpush_event_extra)||void 0===t?void 0:t.event_type)==="paid_live_start_push"?x(null==e?void 0:e.open_url):b(null==e?void 0:e.open_url);return{id:null==e?void 0:null===(n=e.id)||void 0===n?void 0:n.toString(),text:null==e?void 0:e.text,title:null==e?void 0:e.title,imageUrl:null==e?void 0:e.image_url,webRid:r,roomId:l,anchorId:a,type:null==e?void 0:null===(i=e.ttpush_event_extra)||void 0===i?void 0:i.push_type,eventType:null==e?void 0:null===(o=e.ttpush_event_extra)||void 0===o?void 0:o.event_type,pushShowType:null==e?void 0:e.push_show_type,businessType:null==e?void 0:e.business_type}},I=e=>{var t,n;let i=(0,c.D)(null==e?void 0:e.open_url),o=i.conversation_id||i.conv_short_id,r=null==e?void 0:null===(t=e.extra)||void 0===t?void 0:t.messageType,l=(0,d.do)(`/?open_im=${o}&message_tag=im_${42===r?"private":"group"}&groupId=${null==e?void 0:e.group_id_str}&rid=${null==e?void 0:e.rid64}`);return{messageType:r,imageUrl:null==e?void 0:e.image_url,openUrl:l,text:null==e?void 0:e.text,title:null==e?void 0:e.title,type:null==e?void 0:null===(n=e.extra)||void 0===n?void 0:n.source,groupId:null==e?void 0:e.group_id_str,rid64:null==e?void 0:e.rid64}},L=async e=>{var t,n,i,o,r,l,a;let u=-1,s="",c="",f="",v="",m="",h="",p="",_=-1;try{let{notice_list_v2:t=[]}=await (0,g.ul)({id_list:JSON.stringify([{notice_id_str:null==e?void 0:e.group_id_str,type:0}])}),n=null==t?void 0:t[0];u=null==n?void 0:n.type;let{interactive_notice:i}=n||{};s=(null==i?void 0:i.content)||"",m=(null==i?void 0:i.label_text)||"",h=(null==i?void 0:null===(o=i.aweme)||void 0===o?void 0:o.aweme_id)||"";let d=null==i?void 0:null===(r=i.from_user)||void 0===r?void 0:r[0];c=null==d?void 0:d.nickname,f=(null==d?void 0:null===(a=d.avatar_thumb)||void 0===a?void 0:null===(l=a.url_list)||void 0===l?void 0:l[0])||"",v=(null==d?void 0:d.uid)||"",p=(null==d?void 0:d.sec_uid)||"",_=(null==d?void 0:d.follow_status)||-1}catch(e){}return{pushType:null==e?void 0:null===(t=e.extra)||void 0===t?void 0:t.push_type,openUrl:(0,d.do)(`/?open_notice=true&message_tag=${null==e?void 0:null===(n=e.extra)||void 0===n?void 0:n.push_type}&groupId=${null==e?void 0:e.group_id_str}&rid=${null==e?void 0:e.rid64}`),text:s||(null==e?void 0:e.text),title:null==e?void 0:e.title,buttonText:(null==e?void 0:null===(i=e.extra)||void 0===i?void 0:i.button_text)||"去看看",type:"notice",imageUrl:null==e?void 0:e.image_url,groupId:null==e?void 0:e.group_id_str,rid64:null==e?void 0:e.rid64,typeNumber:u,fromUserName:c,avatar:f,fromUserId:v,labelText:m,awemeId:h,userSecUid:p,followStatus:_}},S=e=>{if("notice_comment"===e||"notice_commentreply"===e)return(0,_.c)("评论");if("notice_commentat"===e)return(0,_.c)("提及");if("notice_like"===e||"notice_commentdigg"===e)return(0,_.c)("点赞");else if("notice_follow"===e||"notice_followreq"===e||"notice_approvefollowreq"===e)return(0,_.c)("关注");else return!1},k=async(e,t)=>{var n,i;let o=y(e);let r=(null==o?void 0:null===(n=o.extra)||void 0===n?void 0:n.source)==="IM"?I:(null==o?void 0:null===(i=o.extra)||void 0===i?void 0:i.event_type)==="notice"?L:C,l=await r(o);if((null==l?void 0:l.type)==="appointment"&&(null==l?void 0:l.eventType)==="live_start_appointed"||(null==l?void 0:l.type)==="appointment"&&(null==l?void 0:l.eventType)==="paid_live_start_push"&&(null==l?void 0:l.pushShowType)===1&&(null==l?void 0:l.businessType)==="live"){f.emit(f.EVENT.webLivePushMessage,l);return}let a=t===u.WebPushType.PushNPull||t===u.WebPushType.Push,c=v.Q.getItem({sKey:s.CookieKeys.IsDouyinActive});if((null==l?void 0:l.type)==="IM"&&(0,_.c)("私信")&&(0,p.QK)("im")&&a&&!c){let e=await (0,m.g)({title:null==l?void 0:l.title,opts:{body:null==l?void 0:l.text,badge:null==l?void 0:l.imageUrl,icon:null==l?void 0:l.imageUrl,data:{schema:null==l?void 0:l.openUrl},actions:[{action:"im",title:"去看看"}]},stopMultiSend:!0});e&&(0,p.Ue)("im"),e&&(0,h.on)({rid64:null==l?void 0:l.rid64,group_id_str:null==l?void 0:l.groupId})}if((null==l?void 0:l.type)==="notice"){if(Object.values(w.I).includes(null==l?void 0:l.typeNumber)){f.emit(f.EVENT.webNoticePushMessage,l);return}if(S(null==l?void 0:l.pushType)&&(0,p.QK)("im")&&a&&!c){let e=await (0,m.g)({title:null==l?void 0:l.title,opts:{body:null==l?void 0:l.text,badge:null==l?void 0:l.imageUrl,icon:null==l?void 0:l.imageUrl,data:{schema:null==l?void 0:l.openUrl},actions:[{action:"notice",title:null==l?void 0:l.buttonText}]},stopMultiSend:!0});e&&(0,p.Ue)("im"),e&&(0,h.on)({rid64:null==l?void 0:l.rid64,group_id_str:null==l?void 0:l.groupId})}}}},928245:function(e,t,n){n.d(t,{c:function(){return r}}),n(874386);var i=n(88648),o=n(441447);function r(){let[e,t]=i.useState(!1);return(0,i.useEffect)(()=>{let e=o.listen(o.EVENT.searchBarFocus,()=>{t(!0)}),n=o.listen(o.EVENT.searchBarBlur,()=>{t(!1)});return()=>{e(),n()}},[]),e}},905248:function(e,t,n){n.d(t,{b:function(){return u}});var i=n(563097);n(88648);var o=n(309931),r=n(787978),l=n(277279),a=n(289228);let u=e=>{let{className:t,portalElement:n,shouldShowLandingConfigIcon:u,referenceRect:s,landingConfigPannelRef:c,showLandingConfigPannel:d,onClickConfigBtn:f,onPannelBlur:v,onSelectedSuccess:m,abTestData:h}=e;return(0,i.jsxs)(a.k,{componentName:"landingConfig",children:[u&&(0,i.jsx)(r.n,{className:t,onClick:f}),d&&n&&(0,o.createPortal)((0,i.jsx)(l.E,{ref:c,onBlur:v,referenceRect:s,onSelectedSuccess:m,abTestData:h}),n)]})}},488218:function(e,t,n){n(874386);var i=n(88648),o=n(223355),r=n(441447),l=n(725887),a=n(436536);t.Z=e=>{let[t,n]=(0,i.useState)(!1),u=(0,i.useRef)(),[s,c]=(0,i.useState)(null);return(0,i.useEffect)(()=>{let e=r.listen(r.EVENT.globalScrollEl,e=>{c(e)});return()=>{e(),u.current&&clearTimeout(u.current)}},[]),{rotate:t,refresh:()=>{if(!t)n(!0),u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{n(!1)},1e3),(0,o.d)(null!=s?s:window,0,0),r.emit(r.EVENT.RefreshFeedList,{needReload:(0,a.jj)(),clickMethod:null==e?void 0:e.clickMethod}),r.emit(r.EVENT.RefreshSeriesPage),l.Le.setConfig(l.gI.SlideStartTime,{slideStartTime:0})}}}},436536:function(e,t,n){n.d(t,{C6:function(){return m},DG:function(){return v},jj:function(){return h},oX:function(){return g}}),n(250440);var i=n(737470),o=n(604396),r=n(795012),l=n(725887),a=n(441447),u=n(465769),s=n(95291),c=n(104353),d=n(798644);let f=[o.NavigationMenuItemVal.Discover,o.NavigationMenuItemVal.Recommend,o.NavigationMenuItemVal.Follow,o.NavigationMenuItemVal.Friend,o.NavigationMenuItemVal.Hot,o.NavigationMenuItemVal.Series,"channel_300205","channel_300201","channel_300206","channel_300209","channel_300204","channel_300203","channel_300207","channel_300208"];function v(e){let{isLogin:t,splashAdStatus:n,itemTab:l,type:a="page"}=e,u=(0,r.zD)();return(!!t||u!==o.NavigationMenuItemVal.Follow&&u!==o.NavigationMenuItemVal.Friend)&&"www.douyin.com"===location.hostname&&!!(f.includes(u)&&f.includes(l)&&"menu"===a&&n!==i.QB.Fullscreen)}function m(){let e=l.Le.getConfig(l.gI.PageRefresh)||{};e[(0,r.zD)()]=Date.now(),l.Le.setConfig(l.gI.PageRefresh,e)}function h(){let e=l.Le.getConfig(l.gI.PageRefresh),t=(0,r.zD)();return!!((null==e?void 0:e[t])&&Date.now()-e[t]>864e5)||!1}function g(e,t){return a.listen(a.EVENT.RefreshFeedList,async n=>{var i,o,r;let l=!!t||n.needReload,f=(0,s.OB)(),v=d.s.getPlayer(f)||(null===(i=window)||void 0===i?void 0:i.player),m={enter_from:(0,u.vM)(),group_id:null==v?void 0:null===(o=v.config)||void 0===o?void 0:o.vid,author_id:null==v?void 0:null===(r=v.config)||void 0===r?void 0:r.authorId,click_method:n.clickMethod,if_trigger_unread_post:l?0:1};c.Z.sendLog("pageRefresh",m),l?a.emit(a.EVENT.refreshPage):e()})}},69280:function(e,t,n){n.d(t,{Ai:function(){return b},FN:function(){return w},OX:function(){return y},ay:function(){return m},hV:function(){return h},j7:function(){return p},j8:function(){return _},qI:function(){return g}});var i=n(520739),o=n(878389);n(675373);var r=n(576660),l=n(66863),a=n(953208),u=n(742740),s=n(720527),c=n(930386);let{COMMON_SEARCH_PARAMS:d}=r,f=e=>{var t,n,i,o;let r={logId:null==e?void 0:e.log_id,data:{inboxWords:{words:[]},underInboxWords:{words:[]}}},l=null!==(t=null==e?void 0:e.data)&&void 0!==t?t:[];if(Array.isArray(l)&&l.length>0&&l.forEach(e=>{let{data:t}=r,{inboxWords:n,underInboxWords:i}=t;if(!!(null==e?void 0:e.type)&&!!Array.isArray(null==e?void 0:e.words)&&0!==e.words.length)"inbox"===e.type?n.words=e.words:"under_inbox"===e.type&&(i.words=e.words)}),r.data.inboxWords.words.length>0&&r.data.underInboxWords.words.length>0){let{dedupedUnderInboxWords:e}=(0,c.Yv)({inboxWords:null===(n=r.data.inboxWords.words)||void 0===n?void 0:n[0],underInboxWords:r.data.underInboxWords.words});r.data.underInboxWords.words=e}if(r.data.inboxWords.words.length>0){let e=r.data.inboxWords.words[0];if(null==e?void 0:null===(o=e.params)||void 0===o?void 0:null===(i=o.extra_info)||void 0===i?void 0:i.tag_icon){let t=JSON.parse(e.params.extra_info.tag_icon);t.icon_url&&(e.icon_info=t)}}return r},v=async e=>await (0,l.U2)("/aweme/v1/web/api/suggest_words/",(0,i._)({},d,(0,c.mr)(e))),m=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,u.yW)(),{isModalVideo:o=!1}=t||{};return"recommend"===n&&!o&&(e.pd="pc_recommend"),f(await v((0,i._)({business_id:s.ns,rsp_source:"inbox"},(0,c.mr)(e))))},h=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(await v((0,i._)({business_id:s.TF},(0,c.mr)(e))))},g=async(e,t)=>await (0,l.U2)("aweme/v1/search/guess/prefetch/partial_ack/",{bid:s.TF,ack_words:e.map(e=>e.word),prefetch_id:t}),p=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,c.mr)(e);return t.penetrate_params=(0,o._)((0,i._)({},t.penetrate_params),{recommend_guess_scene:"pc_under_inbox"}),f(await v((0,i._)({business_id:s.ns,rsp_source:"under_inbox"},t)))},_=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,u.yW)(),{isModalVideo:r=!1,shouldUseUnderInbox:l=!0}=t||{};"recommend"===n&&!r&&(e.pd="pc_recommend");let a=(0,c.mr)(e);return a.penetrate_params=(0,o._)((0,i._)({},a.penetrate_params),{recommend_guess_scene:"pc_under_inbox"}),f(await v((0,i._)({business_id:s.ns,rsp_source:"inbox,under_inbox"},a)))},w=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await (0,l.U2)("/aweme/v1/web/hot/search/list/",(0,i._)((0,o._)((0,i._)({},d),{detail_list:1,source:6}),(0,c.mr)(e)))},y=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{current:null};return await (0,l.U2)("/aweme/v1/web/search/sug/",(0,i._)({},d,(0,c.mr)(e)),{},void 0,void 0,void 0,t)},b=e=>{var t,n;let i=null===(n=e.filter(e=>e.scene===a.gQ.SearchBarInboxRec)[0])||void 0===n?void 0:null===(t=n.words)||void 0===t?void 0:t[0];return{word:null==i?void 0:i.word,id:null==i?void 0:i.wordId}}},560296:function(e,t,n){n.d(t,{r:function(){return u}}),n(874386);var i=n(88648),o=n(369881),r=n(725887),l=n(549086);let a=e=>{let{followStatus:t,followerStatus:n}=e,i=o.vc.UnFollow,r=o.TT.Active;return t===o.$u.Followed?(i=o.vc.Followed,r=o.TT.Inactive):t===o.$u.FollowEach?(i=o.vc.FollowEach,r=o.TT.Inactive):t===o.$u.Requested?(i=o.vc.Requested,r=o.TT.Inactive):(i=n>o.z5.UnFollow?o.vc.FollowByOther:o.vc.UnFollow,r=o.TT.Active),{text:i,buttonType:r}},u=e=>{var t,n,u;let{selfUid:s,defaultFollowStatus:c=o.$u.UnFollow,defaultFollowerStatus:d=o.z5.UnFollow,actionUid:f}=e,v=null===(t=r.Le.getConfig(r.gI.FollowStatusCache))||void 0===t?void 0:t[f],m=null!==(n=null==v?void 0:v.followStatus)&&void 0!==n?n:c,h=null!==(u=null==v?void 0:v.followerStatus)&&void 0!==u?u:d,[g,p]=(0,i.useState)(a({followStatus:m,followerStatus:h}).text),[_,w]=(0,i.useState)(a({followStatus:m,followerStatus:h}).buttonType);return(0,i.useEffect)(()=>{let{text:e,buttonType:t}=a({followStatus:m,followerStatus:h});p(e),w(t)},[c,d]),(0,i.useEffect)(()=>{let e=l.a.addCb(e=>{let{selfUid:t,actionUid:n,action:i}=e,o=t===s,l=void 0===t||void 0===s;if((o||l)&&n===f&&("follow"===i||"unFollow"===i)){var u,c;let{text:e,buttonType:t}=a({followStatus:null===(c=r.Le.getConfig(r.gI.FollowStatusCache))||void 0===c?void 0:null===(u=c[f])||void 0===u?void 0:u.followStatus,followerStatus:h});p(e),w(t)}});return()=>{null==e||e()}},[s,f,h]),{text:g,buttonType:_,followStatus:m}}},420070:function(e,t,n){n.d(t,{M:function(){return g}});var i=n(604396),o=n(479160),r=n(777361),l=n(648895),a=n(138833),u=n(214719),s=n(763991),c=n(911168),d=n(462089),f=n(845299),v=n(790950),m=n(508186),h=n(352927);let g=e=>{let{value:t}=e;return t===i.NavigationMenuItemVal.GetApp?{DarkMini:{ActiveImageUrl:l,FirstShowImageUrl:l,HoverActiveImageUrl:a,HoverImageUrl:a,NormalImageUrl:l},DarkNormal:{ActiveImageUrl:o,FirstShowImageUrl:o,HoverActiveImageUrl:r,HoverImageUrl:r,NormalImageUrl:o},LightMini:{ActiveImageUrl:l,FirstShowImageUrl:l,HoverActiveImageUrl:a,HoverImageUrl:a,NormalImageUrl:l},LightNormal:{ActiveImageUrl:o,FirstShowImageUrl:o,HoverActiveImageUrl:r,HoverImageUrl:r,NormalImageUrl:o}}:t===i.NavigationMenuItemVal.GetAppHelp?{DarkMini:{ActiveImageUrl:c,FirstShowImageUrl:c,HoverActiveImageUrl:d,HoverImageUrl:d,NormalImageUrl:c},DarkNormal:{ActiveImageUrl:u,FirstShowImageUrl:u,HoverActiveImageUrl:s,HoverImageUrl:s,NormalImageUrl:u},LightMini:{ActiveImageUrl:m,FirstShowImageUrl:m,HoverActiveImageUrl:h,HoverImageUrl:h,NormalImageUrl:m},LightNormal:{ActiveImageUrl:f,FirstShowImageUrl:f,HoverActiveImageUrl:v,HoverImageUrl:v,NormalImageUrl:f}}:{}}},361678:function(e,t,n){n.d(t,{K:function(){return l}});var i=n(132607),o=n(828782),r=n(472474);let l=e=>{var t,n,l;let{awemeInfo:a,abtestData:u}=e;return!!(0,o.DT)()&&(!!((null==a?void 0:null===(l=a.video)||void 0===l?void 0:null===(n=l.bitRateList)||void 0===n?void 0:null===(t=n.some)||void 0===t?void 0:t.call(n,e=>2===e.isH265))&&(0,r.Yk)())&&(null==u?void 0:u.useClientH266)===i.UseClientH266.On||!1)}},887519:function(e,t,n){n.d(t,{$:function(){return i}});var i={Normal:0,0:"Normal",Auto:1,1:"Auto",LiveReplayAgg:2,2:"LiveReplayAgg",PlayList:3,3:"PlayList",PlayListAuto:4,4:"PlayListAuto",RelatedAuto:5,5:"RelatedAuto",Knowledge:6,6:"Knowledge",XiguaAlbum:7,7:"XiguaAlbum"}},565024:function(e,t,n){n.d(t,{Q:function(){return u}}),n(284961),n(826893),n(242079),n(851912),n(927234),n(250440),n(954372),n(779788),n(413806);var i=n(987475),o=n(567095),r=n(725887);let l=[i.CookieKeys.isDashUser,i.CookieKeys.ClientSupportHevc,i.CookieKeys.RechargeFlag,i.CookieKeys.FromClientPush,i.CookieKeys.VolumeInfo,i.CookieKeys.UrlSourceForBrowserPlugin,i.CookieKeys.DeviceWebCpuCore,i.CookieKeys.VideoFilterMemoSelect,i.CookieKeys.videoDownloadGuideRecord],a={},u={originGetItem:e=>decodeURIComponent(document.cookie.replace(RegExp(`(?:(?:^|.*;)\\s*${encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")}\\s*\\=\\s*([^;]*).*$)|^.*$`),"$1")),getItem(e){let{sKey:t,ctx:n,refresh:i=!0}=e;{var o;if(!i&&a[t]||(null===(o=r.Le.getConfig(r.gI.AbtestData))||void 0===o?void 0:o.useCache)===1&&l.includes(t)&&void 0!==a[t]&&""!==a[t])return a[t];let e=decodeURIComponent(document.cookie.replace(RegExp(`(?:(?:^|.*;)\\s*${encodeURIComponent(t).replace(/[-.+*]/g,"\\$&")}\\s*\\=\\s*([^;]*).*$)|^.*$`),"$1")),n=e;try{n=JSON.parse(e)}catch(e){}return a[t]=n,n}},setItem(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.v,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o.J,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6?arguments[6]:void 0;if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;let s="";if(n)switch(n.constructor){case Number:s=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":`; max-age=${n}`;break;case String:s=`; expires=${n}`;break;case Date:s=`; expires=${n.toUTCString()}`}let c=t;try{c=JSON.stringify(t)}catch(e){}return document.cookie=`${encodeURIComponent(e)}=${encodeURIComponent(c)}${s}${r?`; domain=${r}`:""}${i?`; path=${i}`:""}${l?"; secure":""}${u?"; SameSite=None; Secure=true":""}`,void 0!==a[e]&&""!==a[e]&&(a[e]=t),!0},removeItem(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.J;return!!(e&&this.hasItem(e))&&(document.cookie=`${encodeURIComponent(e)}=; expires=Thu, 01 Jan 1970 00:00:00 GMT${n?`; domain=${n}`:""}${t?`; path=${t}`:""}`,!0)},hasItem:e=>RegExp(`(?:^|;\\s*)${encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")}\\s*\\=`).test(document.cookie),keys(){let e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/);for(let t=0;t<e.length;t++)e[t]=decodeURIComponent(e[t]);return e}}},565904:function(e,t,n){n.d(t,{R:function(){return o}});let i=null,o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,{size:n=14,family:o='"PingFang SC", "DFPKingGothicGB-Regular", sans-serif'}=t||{};null===i&&(i=document.createElement("canvas"));let r=i.getContext("2d");r.font=`${n}px ${o}`;let l=r.measureText(e||""),a=Math.abs(l.actualBoundingBoxLeft)+Math.abs(l.actualBoundingBoxRight);return Math.max(l.width,a)}},439630:function(e,t,n){function i(e){let t,n,i=e.replace(/#/g,"");(3===i.length||4===i.length)&&(i=i.split("").map(e=>e+e).join(""));let o=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})[\da-z]{0,0}$/i.exec(i);if(!o)return null;let r=parseInt(o[1],16)/255,l=parseInt(o[2],16)/255,a=parseInt(o[3],16)/255,u=parseInt(o[4],16)/255,s=Math.max(l,a,u),c=Math.min(l,a,u),d=(s+c)/2;if(s===c)t=0,n=0;else{let e=s-c;switch(n=d>.5?e/(2-s-c):e/(s+c),s){case l:t=(a-u)/e+(a<u?6:0);break;case a:t=(u-l)/e+2;break;case u:t=(l-a)/e+4}t/=6}return t=Math.round(360*t),n=Number((100*n).toFixed(2)),d=Number((100*d).toFixed(2)),(100*r).toFixed(2),{h:t,s:n,l:d}}function o(e,t){var n;let{h:i,s:o}=e;return`hsl(${i}deg ${o>40?40:o}% ${null==t?void 0:null===(n=t.userUiUpdate)||void 0===n?void 0:n.lightness}%)`}n.d(t,{p:function(){return o},s:function(){return i}}),n(284961),n(826893),n(413806),n(897860),n(777180)},465769:function(e,t,n){n.d(t,{Ok:function(){return v},SA:function(){return d},TU:function(){return a.TU},mo:function(){return c},nj:function(){return f},ur:function(){return u},vM:function(){return s},yW:function(){return a.yW}}),n(110006),n(826893),n(242079),n(851912),n(927234),n(874386),n(179133),n(250440),n(954372);var i=n(987475),o=n(567754),r=n(164048),l=n(725887),a=n(742740);function u(e){if(e)try{for(let t of Object.keys(r.lp))if(e.match(new RegExp(t)))return r.lp[t]}catch(e){}return(0,a.pv)()}function s(){let e=(0,a.pv)();if("general_search"===e||"search_result"===e){var t;let e=(0,o.parse)(window.location.search).enter_from||(null===(t=l.Le.getConfig(l.gI.SearchUrlTransParams))||void 0===t?void 0:t.enter_from);if(i.LogPageNameList.includes(e))return e}return e}let c=e=>{let{videoCardType:t,isActive:n}=l.Le.getConfig(l.gI.PlayerCardInfo)||{};return n&&t?t:e||(0,a.yW)()||""},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return RegExp("^/user/.*").test(e)},f=()=>l.Le.getConfig(l.gI.AudioDeviceType),v=()=>l.Le.getConfig(l.gI.PlayerDisplayMode)||"normal"},81046:function(e,t,n){n.r(t),n.d(t,{mouseEnter:function(){return s},mouseLeave:function(){return c}}),n(779788),n(250440),n(268917);var i=n(852664);let o=[],r=[],l={x:-1,y:-1},a=e=>{let t={x:e.clientX,y:e.clientY};if((0,i.G6)()&&JSON.stringify(l)===JSON.stringify(t))return;l=t;let n=e.path||e.composedPath&&e.composedPath();r.forEach((t,i)=>{if(!n.includes(t[0])&&t[0].hasEnter){var o;null===(o=t[1])||void 0===o||o.call(t,e),t[0].hasEnter=!1}}),o.forEach(t=>{if(n.includes(t[0])&&!t[0].hasEnter){var i;null===(i=t[1])||void 0===i||i.call(t,e),t[0].hasEnter=!0}})},u=e=>{let t=e.path||e.composedPath&&e.composedPath();r.forEach((n,i)=>{if(t.includes(n[0])&&n[0].hasEnter){var o;null===(o=n[1])||void 0===o||o.call(n,e),n[0].hasEnter=!1}})},s=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return 0===o.length&&0===r.length&&document.addEventListener("mousemove",a),!o.some(n=>n[0]===e&&n[1]===t)&&(o.push([e,t]),n||e.addEventListener("mouseenter",a)),()=>{let i=o.findIndex(n=>n[0]===e&&n[1]===t);-1!==i&&(n||e.removeEventListener("mouseenter",a),o.splice(i,1),0===o.length&&0===r.length&&document.removeEventListener("mousemove",a))}},c=(e,t)=>(0===o.length&&0===r.length&&document.addEventListener("mousemove",a),!r.some(n=>n[0]===e&&n[1]===t)&&(r.push([e,t]),e.addEventListener("mouseleave",u)),()=>{let n=r.findIndex(n=>n[0]===e&&n[1]===t);-1!==n&&(e.removeEventListener("mouseleave",u),r.splice(n,1),0===o.length&&0===r.length&&document.removeEventListener("mousemove",a))})},330871:function(e,t,n){n.d(t,{GE:function(){return l},S7:function(){return o},ur:function(){return r}});var i=n(725887);let o=()=>i.Le.getConfig(i.gI.DocumentClientWidth)>=1240&&"true"!==document.body.getAttribute("nav-fold"),r=()=>1240>i.Le.getConfig(i.gI.DocumentClientWidth)||"true"===document.body.getAttribute("nav-fold"),l=()=>r()?"close":"open"},953689:function(e,t,n){n.d(t,{u:function(){return i}});function i(e){let{value:t,min:n,max:i,fixed:o}=e;if(o)return o;if(n&&t<n)return n;if(i&&t>i)return i;return t}},733666:function(e,t,n){function i(e){try{if(!e||"number"!=typeof e)return 0;return Math.round(e/8)}catch(e){return 0}}function o(e){return e&&"number"==typeof e?1e3*e:0}n.d(t,{N:function(){return o},e:function(){return i}})},781926:function(e,t,n){n.d(t,{N:function(){return s},P:function(){return c}}),n(250440);var i=n(742740),o=n(441447),r=n(132607),l=n(802222);let a=!1,u=["recommend","follow","friend","video_detail"];o.listen(o.EVENT.videoPlay,()=>{a=!0}),o.listen(o.EVENT.videoPlayPrevent,()=>{a=!0});let s=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=setTimeout(()=>{null==e||e()},1e4);if(u.includes((0,i.yW)())){let i=()=>{null==e||e(),clearTimeout(n)};if(a||t)i();else{let e=o.listenOnce(o.EVENT.videoPlay,i),t=o.listenOnce(o.EVENT.videoPlayPrevent,i);return()=>{null==e||e(),null==t||t()}}}else(0,l.H)(()=>{null==e||e(),clearTimeout(n)},t)},c=e=>void 0===e?void 0:e===r.AfterLcpExecute.On},206965:function(e,t,n){let i;n.d(t,{J:function(){return o}});function o(){let e={};if(i){let{charging:t,chargingTime:n,dischargingTime:o,level:r}=i;e.battery={charging:t,chargingTime:n,dischargingTime:o,level:r}}if(void 0!==performance.memory){let{jsHeapSizeLimit:t,usedJSHeapSize:n,totalJSHeapSize:i}=performance.memory,o=t-n;e.memory={jsHeapSizeLimit:t,freeJSHeapSize:o,freeLevel:o/t,usedJSHeapSize:n,usedLevel:n/t,totalJSHeapSize:i}}return e}"function"==typeof navigator.getBattery&&(async()=>{i=await navigator.getBattery()})()},284967:function(e,t,n){function i(e){return e.toString().padStart(2,"0")}n.d(t,{R:function(){return l},c:function(){return r}}),n(927234);let o=()=>{let e=new Date;return`${Math.random().toString().slice(-3)}-${e.getFullYear()}${i(e.getMonth()+1)}${i(e.getDate())}${i(e.getHours())}${i(e.getMinutes())}${i(e.getSeconds())}${e.getMilliseconds()}${Math.random().toString().slice(-7)}${Math.random().toString(16).toUpperCase().slice(-10)}`};function r(e){let t=e||o();return`${t}.${Date.now()}.${Math.random().toString().slice(-5)}`}function l(e,t){let n=t||r(t);return e.indexOf("?")>-1?`${e}&_session_id=${n}`:`${e}?_session_id=${n}`}},792639:function(e,t,n){n.d(t,{g:function(){return u},n:function(){return a}});var i=n(850634),o=n(828782),r=n(725887),l=n(47047);let a=e=>{var t,n,a,u,s;let{awemeInfo:c,abTestData:d,isInlinePlayer:f=!1}=e,v=null!==(u=null==d?void 0:null===(t=d.newPlayerConfig)||void 0===t?void 0:t.limitLowVideoDecodeCnt)&&void 0!==u?u:3,m=null!==(s=null==d?void 0:null===(n=d.newPlayerConfig)||void 0===n?void 0:n.limitWorkerDisableCnt)&&void 0!==s?s:2;return r.Le.getConfig(r.gI.IsMainland)&&!(0,o.tq)()&&!f&&!(0,o.DT)()&&(0,i.Eo)({limitLowVideoDecodeCnt:v,limitWorkerDisableCnt:m})&&!(null==c?void 0:null===(a=c.chargeInfo)||void 0===a?void 0:a.is_charge_content)&&((null==d?void 0:d.useNewDyVideoPlayer)===1||(null==d?void 0:d.useNewDyVideoPlayer)===2)&&!(0,l.O)()},u=e=>{var t,n,a,u,s;let{abTestData:c,isInlinePlayer:d=!1}=e,f=null!==(u=null==c?void 0:null===(t=c.newPlayerConfig)||void 0===t?void 0:t.limitLowVideoDecodeCnt)&&void 0!==u?u:3,v=null!==(s=null==c?void 0:null===(n=c.newPlayerConfig)||void 0===n?void 0:n.limitWorkerDisableCnt)&&void 0!==s?s:2;return r.Le.getConfig(r.gI.IsMainland)&&!(0,o.tq)()&&!d&&!(0,o.DT)()&&(0,i.Eo)({limitLowVideoDecodeCnt:f,limitWorkerDisableCnt:v})&&(null==c?void 0:null===(a=c.webcodecRecommend)||void 0===a?void 0:a.open)&&!(0,l.O)()}},55052:function(e,t,n){n.d(t,{QF:function(){return l},vP:function(){return u},wq:function(){return s},xC:function(){return a}}),n(268917);var i=n(586979);let o=[],r=Date.now();function l(){o=[]}function a(e){let t;"function"==typeof e?(t=o.findIndex(t=>t===e),o.splice(t,1)):"string"==typeof e&&(o.forEach(t=>{((null==t?void 0:t.only)===e||(null==t?void 0:t.key)===e)&&(t.remove=1)}),o=o.filter(e=>!e.remove))}function u(e){if("object"==typeof e&&e.only){a(e.only),o.push(e);return}o.push(e)}function s(e,t){let n=Math.floor(Date.now()-r);r=Date.now();let l=void 0!==e?e:"hidden"!==document.visibilityState;o.forEach(e=>{try{"function"==typeof e?e&&e(l,n,t):"object"==typeof e&&e.event&&e.event&&e.event(l,n,t)}catch(e){i.i.sendLog("runEventsError",{message:null==e?void 0:e.message})}})}},17773:function(e,t,n){n.d(t,{u:function(){return r}});var i=n(88648),o=n(130556);let r=e=>{(0,i.useEffect)(()=>{let t=(0,o.l)(()=>{null==e||e.load()});return()=>t()},[])}},822669:function(e,t,n){n.d(t,{s:function(){return u}}),n(874386);var i=n(88648),o=n(55052),r=n(987475),l=n(847191),a=n(815389);function u(e){let[t,n]=(0,i.useState)(!0),u=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{function t(t,r){if(u.current)return;let l="hidden"!==document.visibilityState;(0,o.wq)(r?l:!l,r?"page_unload":"page_visible_change"),e&&e(r?l:!l),(0,i.startTransition)(()=>{n(r?!l:l)})}function s(e){t(e,!0),(0,l.qQ)(r.LocalStorageKeys.ExitTimestamp,Number(new Date)),(0,a.pC)(r.SessionStorageKeys.CacheRecommendActiveAwemeID),u.current=!0}return window.addEventListener("beforeunload",s),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("beforeunload",s),document.removeEventListener("visibilitychange",t)}},[t]),{isPageVisible:t}}},207952:function(e,t,n){n.d(t,{X:function(){return u}}),n(874386);var i=n(88648),o=n(780818),r=n(623582),l=n(828782),a=n(63405);let u=e=>{let{abTestData:t,ttwidCreateTime:n,from:u}=e,[s,c]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{let e=localStorage.getItem("RemoveSlideButtonTtwidCreateTime"),t=e?Number(e):n,i=!!t&&1e3*t<new Date().getTime()-2592e6;(0,o.E)().then(e=>{let t;0===e.userSwitch&&i?(c(!0),t="HIDE",r.logInstance.sendLog("removeSlideButton",{})):(c(!1),t="SHOW"),(0,l.DT)()&&"main"===u&&t&&a.invoke("setVideoSideBarStatus",{value:t})})},[n,c]),{removeSlideListButton:s,setRemoveSlideListButton:c}}},253974:function(e,t,n){n.d(t,{k:function(){return i}}),n(874386);let i={debug:function(){for(var e,t,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];let r=(null===(e=window)||void 0===e?void 0:e.slardar)||window.Slardar,{env:l}=(null==r?void 0:null===(t=r.config)||void 0===t?void 0:t.call(r))||{}},info:function(){for(var e,t,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];let r=(null===(e=window)||void 0===e?void 0:e.slardar)||window.Slardar,{env:l}=(null==r?void 0:null===(t=r.config)||void 0===t?void 0:t.call(r))||{}},warn:function(){for(var e,t,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];let r=(null===(e=window)||void 0===e?void 0:e.slardar)||window.Slardar,{env:l}=(null==r?void 0:null===(t=r.config)||void 0===t?void 0:t.call(r))||{}},error:function(){for(var e,t,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];let r=(null===(e=window)||void 0===e?void 0:e.slardar)||window.Slardar,{env:l}=(null==r?void 0:null===(t=r.config)||void 0===t?void 0:t.call(r))||{}}}},302461:function(e,t,n){n.d(t,{o:function(){return i}});let i=(0,n(187038).A)(!0)},960871:function(e,t,n){n.d(t,{i:function(){return w}});var i=n(134761),o=n(520739);n(179133),n(826893),n(874386);var r=n(138871),l=n.n(r),a=n(230694),u=n(296884),s=n(910863),c=n(828782),d=n(246050);let f="recommendState",v="from",m="search",h=()=>{var e;return(null===(e=(0,d.D)(window.location.search))||void 0===e?void 0:e[v])===m},g=e=>{let t=`${window.location.pathname}${e}`;window.history.replaceState({},"",t)},p=()=>{g((0,u.q)([v],window.location.search))},_=e=>{if(!!e)g((0,s.G7)({[v]:m,previous_page:"web_code_link",vid:e},window.location.search))};class w extends a.U{canOperate(){var e;return(null===(e=window)||void 0===e?void 0:e.location.pathname)==="/"&&!(0,c.DT)()}setCache(){if(!this.canOperate()||!h()||this.ready)return;this.ready=!0;let e=function(e){try{return l().parse(e)||{}}catch(e){return{}}}(localStorage.getItem(f));this.state=(0,o._)({},e),this.cache=(0,o._)({},e),this.needRollback=!0,p()}reset(){this.state={}}save(){if(!!this.canOperate())localStorage.setItem(f,l().stringify(this.state)),_(this.state.awemeId||"")}constructor(...e){super(...e),(0,i._)(this,"ready",!1)}}},379788:function(e,t,n){let i;n.d(t,{Fs:function(){return T},J$:function(){return E},c7:function(){return w},ep:function(){return y},jt:function(){return k},lm:function(){return x},lx:function(){return I},m_:function(){return p},s1:function(){return L},sk:function(){return S},x0:function(){return N}});var o=n(520739),r=n(878389);n(779788),n(675373),n(209955);var l=n(138871),a=n.n(l),u=n(576660),s=n(597087),c=n(842602),d=n(66863),f=n(257858),v=n(618960),m=n(596161);let{COMMON_SEARCH_PARAMS:h}=u||{};function g(e){var t,n;let{aweme_detail:i,status_code:o,filter_detail:r,log_pb:l}=e;return{statusCode:(t=o,n=i,t?t:n?0:s.ERROR_CODE.ERROR_404),detail:i&&(0,c.s0)(i),isUnknownAweme:0===o&&!i,logPb:l&&JSON.stringify(l),filterDetail:{awemeId:null==r?void 0:r.aweme_id,filterReason:null==r?void 0:r.filter_reason,detailMsg:null==r?void 0:r.filter_detail}}}async function p(e){let{awemeId:t="",requestSource:n=m.AWEME_PC_RESOURCE_TYPE,originType:i=f.F.General}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=await (0,d.U2)("/aweme/v1/web/aweme/detail/",(0,r._)((0,o._)({},h),{aweme_id:t,request_source:n,origin_type:i}),{},void 0,l);return(0,c.RL)(a,g)}function _(e){let{aweme_details:t,status_code:n,log_pb:i}=e;return{statusCode:n,detail:t&&t.map(e=>(0,c.s0)(e)),logPb:i&&JSON.stringify(i)}}async function w(e){let{itemIds:t,requestSource:n=m.AWEME_PC_RESOURCE_TYPE,from:i,originType:r=f.F.General}=e;(0,v.Ex)("/aweme/v1/web/multi/aweme/detail/",i||"aweme.ts");let l=await (0,d.v_)("/aweme/v1/web/multi/aweme/detail/",(0,o._)({},h),{aweme_ids:`[${t.join(",")}]`,request_source:n,origin_type:r});return(0,c.RL)(l,_)}async function y(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;if(!t)return;let i=await (0,d.v_)("/aweme/v1/web/fancy/qrcode/info/",(0,o._)({app_name:"aweme"},h),null!==(e=null==n?void 0:n.schema)&&void 0!==e?e:`schema_type=1&object_id=${t}`,{});return(0,c.RL)(i,c.e4)}function b(e){let{aweme_list:t=[],has_more:n,log_pb:i,status_code:o}=e;return{hasMore:n,statusCode:o,logPb:i&&JSON.stringify(i),awemeList:(0,c.TN)({logPb:i&&JSON.stringify(i),awemeList:t||[]})}}async function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{awemeId:n,reqCount:i=1}=e,l=await (0,d.U2)("/aweme/v1/web/related/recommend/",(0,r._)((0,o._)({},h),{related_aweme_id:n,related_rt:i}),{},void 0,t);return(0,c.RL)(l,b)}function C(e){let{account_type:t,log_pb:n,status_code:i}=e;return{accountType:t,statusCode:i,logPb:n&&JSON.stringify(n)}}async function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{secUid:n}=e,i=await (0,d.U2)("/aweme/v1/web/query/account/type/",(0,r._)((0,o._)({},h),{sec_uid:n}),{},void 0,t);return(0,c.RL)(i,C)}async function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{uid:n}=e;return await (0,d.U2)("https://www.douyin.com/api/user/getPcBanner",(0,r._)((0,o._)({},h),{uid:n}),{},void 0,t)}async function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{id:n,objectType:i,taskId:l,authorId:a,exposeLimit:u}=e;return await (0,d.U2)("/aweme/v1/web/brand/ad/impression/",(0,r._)((0,o._)({},h),{brand_id:n,object_type:i,task_id:l,author_id:a,expose_limit:u}),{},void 0,t)}async function k(e){var t,n;await (0,d.v_)("/aweme/v1/web/aweme/stats/",(0,o._)({},h),{item_id:null==e?void 0:e.awemeId,play_delta:1,aweme_type:4,follow_status:null!==(t=null==e?void 0:e.followStatus)&&void 0!==t?t:0,follower_status:null!==(n=null==e?void 0:e.followerStatus)&&void 0!==n?n:0})}async function T(){return!i&&(i=(0,d.U2)("/aweme/v1/web/user/guide/channel/",(0,o._)({},h),{},void 0,null).then(e=>{if(0!==e.status_code)throw Error();return e.channel_guide_info?a().parse(e.channel_guide_info):{}}).catch(()=>({}))),i}async function N(e){let t;let n=(0,o._)({},e);return"string"==typeof(null==n?void 0:n.operation_info)&&n.operation_info.length>0?(t=(0,r._)((0,o._)({},h),{operation_info:n.operation_info}),delete n.operation_info):t=(0,o._)({},h),await (0,d.v_)("/aweme/v2/web/aweme/stats/",t,n||{})}async function E(e){return await (0,d.v_)("/aweme/v1/web/play/progress/",(0,o._)({},h),e||{})}(0,v.m)("/aweme/v1/web/multi/aweme/detail/",500)},66783:function(e,t,n){n.d(t,{D:function(){return i}});let i=()=>({resourceList:[],targetResource:void 0,fetchResourceStatus:void 0,handleTagChange:()=>{}})},315163:function(e,t,n){n.d(t,{D6:function(){return l},Gp:function(){return o},Hf:function(){return i},J7:function(){return r},Qj:function(){return s},UT:function(){return u},bR:function(){return a}});var i={BEFORE:0,0:"BEFORE",GOING:1,1:"GOING",FINISH:2,2:"FINISH"},o={BEFORE:0,0:"BEFORE",GOING:1,1:"GOING",FINISH:2,2:"FINISH",DELAY:3,3:"DELAY",DELAY_LONG:4,4:"DELAY_LONG",CANCEL:5,5:"CANCEL",BREAK:6,6:"BREAK",GIVEUP:7,7:"GIVEUP",TODO_TIME:8,8:"TODO_TIME",TODO_MATCH:9,9:"TODO_MATCH",ERROR:100,100:"ERROR"},r={Unknown:0,0:"Unknown",Prepare:1,1:"Prepare",Living:2,2:"Living",PlaybackGenerated:3,3:"PlaybackGenerated",PlaybackNotGenerated:4,4:"PlaybackNotGenerated"},l={Unknown:0,0:"Unknown",Live:1,1:"Live",FirstLive:2,2:"FirstLive",Record:3,3:"Record",Replay:4,4:"Replay"},a={NotStart:0,0:"NotStart",Team1:1,1:"Team1",Team2:2,2:"Team2"},u={EighthFinals:"16-8",Quarterfinal:"8-4",SemiFinal:"4-2",Final:"final",SmallFinal:"small_final"},s={NoStart:0,0:"NoStart",LiveMatch:1,1:"LiveMatch",LiveShow:2,2:"LiveShow"}},953208:function(e,t,n){n.d(t,{DD:function(){return r},LH:function(){return y},NJ:function(){return l},TP:function(){return h},VZ:function(){return v},Zh:function(){return w},_6:function(){return c},as:function(){return m},cS:function(){return a},ed:function(){return i.e},f_:function(){return u},gQ:function(){return s},jD:function(){return _},mI:function(){return p},pj:function(){return f},qG:function(){return g},uN:function(){return d},yp:function(){return o}});var i=n(832052),o={CN:"CN"},r={UNKNOW:0,0:"UNKNOW",NOTE:2,2:"NOTE",VIDEO:4,4:"VIDEO",STORY:11,11:"STORY",VR:12,12:"VR",ARTICLE:43,43:"ARTICLE",SLIDES:42,42:"SLIDES"},l={Picture:2,2:"Picture",Video:4,4:"Video",LivePhoto:5,5:"LivePhoto"},a={ListFromTrend:0,0:"ListFromTrend",Trending:2,2:"Trending"},u={NoLabel:0,0:"NoLabel",LabelYellow:1,1:"LabelYellow",LabelBlue:2,2:"LabelBlue",LabelLinearYellowV:3,3:"LabelLinearYellowV",LabelBlackGoldV:4,4:"LabelBlackGoldV",LabelLinearBlueV:5,5:"LabelLinearBlueV",LabelBlackBlueV:6,6:"LabelBlackBlueV",LabelRedV:7,7:"LabelRedV"},s={CommentTopRec:"comment_top_rec",FeedBottomRec:"feed_bottom_rec",SearchIconRec:"search_icon_rec",SearchBarInboxRec:"detail_inbox_rex"},c={Normal:0,0:"Normal",Ad:1,1:"Ad"},d={UnknownBiz:0,0:"UnknownBiz",Live:1,1:"Live",ShortVideo:2,2:"ShortVideo",LongVideo:3,3:"LongVideo",ShortDrama:4,4:"ShortDrama",Collection:5,5:"Collection"},f={Updating:1,1:"Updating",End:2,2:"End"},v={All:0,0:"All",Movie:1,1:"Movie",TvShow:2,2:"TvShow",Cartoon:3,3:"Cartoon",Vs:4,4:"Vs",Documentary:5,5:"Documentary",Child:13,13:"Child"},m={POI:2,2:"POI",AnchorShop:3,3:"AnchorShop"},h={HideAll:0,0:"HideAll",ShowSideCarOnly:1,1:"ShowSideCarOnly"},g={Normal:0,0:"Normal",Xigua:1,1:"Xigua"},p={All:0,0:"All",Part:1,1:"Part",Friend:2,2:"Friend"},_={RoomId:0,0:"RoomId",TicketId:1,1:"TicketId",AnchorId:3,3:"AnchorId"},w={LiveTryWatchStart:1,1:"LiveTryWatchStart",LiveTimedReport:2,2:"LiveTimedReport",LiveTryWatchEnd:3,3:"LiveTryWatchEnd",ReplayAuth:4,4:"ReplayAuth",ReplayDelivery:5,5:"ReplayDelivery",LiveDelivery:6,6:"LiveDelivery",LiveAuth:7,7:"LiveAuth",SeatAuth:8,8:"SeatAuth",SeatDelivery:9,9:"SeatDelivery"},y={PrivilegeLive:6,6:"PrivilegeLive",MemberLive:101,101:"MemberLive"}},440499:function(e,t,n){n.d(t,{_:function(){return i}});var i={Image:"image",Video:"video"}},408859:function(e,t,n){var i=n(520739),o=n(878389),r=n(563097),l=n(88648);let a=(0,l.forwardRef)((e,t)=>(0,r.jsx)("svg",(0,o._)((0,i._)({width:4,height:17,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,r.jsx)("path",{d:"M0 0a8 8 0 0 0 2.168 5.476l1.174 1.25a2 2 0 0 1 0 2.738l-1.174 1.25A8 8 0 0 0 0 16.19V0z",fill:"#323442"})})));t.Z=a},714288:function(){}}]);