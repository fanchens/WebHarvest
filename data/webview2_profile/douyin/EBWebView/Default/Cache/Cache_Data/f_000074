/*! For license information please see 72773.a7b352a5.js.LICENSE.txt */
(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["72773"],{615843:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAYAAACPZlfNAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPDSURBVHgB7d2vbxNhHMfxb4GQkDQhQU1h2B9Qzzz1m9/M1GaqhsESUDNDzTCFYQqzKQz1+wPAoKpQTUhIyPh+d8+Fy/VJuNLc93me9v1KnpRdzdFP7/l9VxEAAAAAAAAAAAAAAAAAALI1kARub2+H+jLW8kzLlqQx1zLVcjMYDGZSCNfAQlC7Wva0DCUf7zW0CymAW2AhrFMt25KnKw3trWTunvg5knzDMmP9Uh1J5h6IA/0grL0aR96yduSrpGFfnna1vKfnOtUr7UYy5RKYehE5dilV2zGXBDQY6+zsy+IXyY5lG1jvVWJou0atw9ca1FmqsIz1DEOb1Q4n52rbpQ2LfQBfJB/T1t/DcPVlybPT0ZTsyorI6Vz+KVVg+E8EVhgCKwyBFcYjMBsYNxv2maQbLBev94GzjbW0m3wo1dSUBXeZcvxVOpeZjrB88UqwMtqwwhBY1aY2zSXjwfTGBxZm5m3xsg7qHW0symMTqmHmvkh67iMtJ2Ftb73pf3Jfy+dQ9qUwes7bjfO3ciKJeKyH2fLKQePQQThWkp3W3+NUoXl0OoYdj+UstgJtoZ17V/N06zsIPcnYjiqrKU49QyOwjjS0K32xKbZ2l99CO/dapSawJWhoNmk9kcXQLKxTj9C8dk25CdVTn1WUhWXzoq+1PNbyO5Q6tEmfW7/XKjD9sGxn8Uh8PJSqOrTXn1ItGfUe2tpUiWFA6xWW+SVVSPb6SMuTcPwuNOkJbdhqLKzv4d/3G8e3+mrP1ikw2+vovZJt1eFTqYL70Tg+66tKXJs2LMywHzpuArX2yzoedbVYs6Am0pO16yV63JwXptZsaqruIdbuwqKXmBENy27sOJbFocPdGK3vtTQCW0II62XkLZewDIF1pGHZrb7HkbeutbjdiUNgHYQ2KxqWBvVGHBFYNzuRY7a/8kycMXDupr0edpEiLMMV1oGth4Xdy3alzcJSSxIE1lFYWkl+TwBVYmEITKouu5ZPWj5o2ZGMbXxgtt9Q/s5c2DzkSc77J7nCFh9O1veK9UoIrDAEVhgCKwyBFYbACkNghSGwwhBYYTwCi63E5jQwLerWJ4/AYjuIdiUf7XOZ5/xY9N4DC3sd2guAo9S3ztp8YXgoc3tqaioZc3kMephgje03T/WQ5nqiN1YdTjb+Ic1hxdY+hPbNCrHnAad0mXNYxrOXaPdU5fwUt+tU+zSW4f7bK3qlHUj1qPFcWLVsm2o+SgFS/ViOtR9WFT6XdN1q6wl+k+onPHhUEQAAAAAAAAAAAAAAAAAAq/sD8yo9dtBIeMsAAAAASUVORK5CYII="},243773:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAR6SURBVHgB7ZuLkdowEIZ/MimAdOAOoINTKsiV4FQAqQCoADqAqyBJBXYqgKvA7gA62GjP4uIRkoxky+Ym/mY0vrONtFqtVquHgQEgIkF2BAbgE0beGBWhGBWhGBWhGBWh6F0RclSYysvU8UqCAZggMqric5m+yfSM+yt6Uum3TPlkMrngI6Jihb1MZ+qG/VAxRhBKARnFI3tohUjhEoqrAJ09l4mO6MRHSIEW8rKG2wky3Of/qGupUp1E5SFkmqmrC/YbP6T/OGBopBK2DS2XybSkymn65s1WlspUNJSxxVBwxcjdFfiZQEdQ5XuOjvKOIcpuK9TUIRSPEiki0WAh/SrDoYSMOnRgjvJdjjlDH5DdJ+zQM7LMtUWWuD5DmaWJNQbCoYwlYqDM8fxISqjJtjPIxbIm6BqqAhidfvrjHZDZZ3QrH5nXGAvqwTHei8NiBbrCou0UDwaZfVg3VmGxhiMeFEujCbSFzL5BoAVKuTwMH1UXK1QFth3lrbNHG6iKIHUKBEL3T9ELmeYIxFAG+47wiFP++NkgZIoA5O9W5M8KAVA1ydMRrt98bsjzm+FeDn/BuELr+r3L5YKXlxecTidMp1PM53M8PT0hSZL6axwsQU6zN/DjIJMeXfIyYY4Q6HZO4e2B2cTrGZzPZ1oul8SPTImf8Ts+rXmn7MFdGgbz8p5PUG2myBWULW9VwjXxO5oyQhrAFG1a/cRnh7YTw70cfsKIej6bzeatKzTB7/C72+27dbOTFbKL5LgfU0Gcz8UmrA8CHtRbpSiKRkvQk2YVXtZI7h33G3w3eEr4Mbv+kec5fGFnWuMJfpQ+L8fe6Uquf7y+vsIXrRtFXXnqbcuPh0tfeFjti9iKeK89xwm+zGaz+r8lYkJ+CM+8350lOz54Okt2sH05S44sv1ryYrv8qd1L4McvmRZvmUkzl8ESdrv76rNYLPQo8xf8MPWr7/C1LDJPuEICqqxuFYEBlXdUSIaACqHQ7f6B9zqEbqJNIba0BFOI7e1g6HYG6pR90pAZW8BCu/3F96wCVQu8q/q9sizfYgseVnlEYceYpqlppNjI8tbwgKolRN2KDjKf7wiBzA4naJmc7MvuLtYIgMxLds8IhSo/odtphkComokW1ExGLVaqLGW0C0pkBgdDpgItoMrSdqrChUpHdU+gBRRjqc6RcbBVxIbM+7ICXUDjcv57ASariLOlFghVGzxFNGuoFZRF1XZLLPK19w2GgmxbasMd2/kn24r6tFgyL5MzQcvuHcm0ssiUIiZkXhQdRBk09KEVchzboeGPDvW3L0vuw2QFxT9MZjvW/HAn665CCXQENe+bZr0rQRNwR24K1YoJPFHKXlLzxnFrn9DVEeQU1V5jU4vk+HcMmafypfY8Uel6/LhpHYLz4Gl67yf6rFDlwA7UHxk9UGR7A/3vnynoKIV0ZSE8SuxjKqCvT5kEqvMJ3PfvXX8sUX3GxKvXpw/7KZMLsp/gZZ5pgGFwqM8dS8ezyxCtP373qRgVoRgVoRgVoRgVofgLFdGsjoi/CpMAAAAASUVORK5CYII="},319897:function(e,t,n){"use strict";n.d(t,{z:function(){return u}});var l=n(520739),i=n(563097);n(88648);var r=n(326673),o=n(713097),a=n.n(o);let u=e=>{let{size:t="normal",type:n="primary",children:o,autoFixed:u=!0,className:s,width:d,style:c,theme:v="solid",disabled:f=!1,newStyle:p=!1,onClick:m}=e,h=a()(r.default.button,r.default[t],r.default[n],r.default[v],{[r.default.fixed]:!u,[r.default.newStyle]:p},s);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("button",{type:"button",disabled:f,onClick:m,className:h,style:(0,l._)({width:d&&`${d}px`},c),children:o})})}},448721:function(e,t,n){"use strict";n.d(t,{Bv:function(){return p},F1:function(){return m},RN:function(){return r},Tg:function(){return h},Vv:function(){return _},Y5:function(){return g},ZN:function(){return s},bG:function(){return a},bl:function(){return c},fv:function(){return d},ik:function(){return v},vL:function(){return f},wJ:function(){return o}});var l=n(520739),i=n(919195),r={ROOM:200,200:"ROOM",FULL_SCREEN:201,201:"FULL_SCREEN",CHAT:202,202:"CHAT"};let o=async()=>i.ZP.get("/webcast/user/me/",{params:{room_id:0}}),a=async e=>i.ZP.get("/webcast/user/",{params:e}),u=e=>i.ZP.post("/webcast/user/relation/update/",{},{params:e}),s=e=>u((0,l._)({follow_type:1},e)),d=e=>u((0,l._)({follow_type:0},e)),c=e=>i.ZP.post("/webcast/linkmic_audience/verify_confirm/",{},{params:e}),v=e=>i.ZP.post("/webcast/linkmic_audience/verify_open/",{},{params:e}),f=e=>i.ZP.post("/webcast/room/like/",{},{params:e}),p=e=>i.ZP.post("/webcast/room/silence/",{},{params:e}),m=e=>i.ZP.post("/webcast/room/unsilence/",{},{params:e}),h=e=>i.ZP.get("/webcast/room/silence/list/",{params:e}),_=e=>i.ZP.post("/webcast/room/kick/user/",{},{params:e}),g=async e=>i.ZP.get("/webcast/web/live/watermark/",{params:e})},687040:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var l=n("563097");n("88648");var i="KkFN8Skm",r=n("713097"),o=n.n(r),a=e=>{let{val:t,className:n,style:r}=e;return(0,l.jsx)("div",{style:r,className:o()(i,{[null!=n?n:""]:n}),children:t})}},160104:function(e,t,n){"use strict";n.r(t),n.d(t,{InPicturePlaceholder:function(){return w},default:function(){return E},InPicturePlugin:function(){return y}}),n("874386");var l=n("563097"),i=n("88648"),r=n("850634"),o=n("828782"),a=n("455499"),u=n("465769"),s="AdBbB2h2",d="Xv69Fl1I",c="aa4MHXlo",v="z0hqdMFg",f={smallWindowExit:{eventName:"small_window_exit",params:{enter_from:"",action:"",action_type:"",stream_type:""}}},p=n("505575"),m=n("818597"),h=n("367271"),_=n("872136");let g=e=>{let{onClick:t}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:s}),(0,l.jsxs)("div",{className:d,children:[(0,l.jsx)("div",{className:c,children:"正在「小窗」模式下播放"}),(0,l.jsx)("div",{className:v,onClick:t,children:"返回大窗播放"})]})]})},y=e=>{let{isActive:t,playerRef:n,handelIsInPic:s}=e,[d,c]=(0,i.useState)(!1),{player:v}=(0,p.n)(),m=(0,i.useRef)(new _.h(f));return(0,i.useEffect)(()=>{let e;let n=null==v?void 0:v.video;if(n&&t&&v){let t=()=>{var t,n,l;!(0,o.DT)()&&(0,a.DJ)()&&((null==v?void 0:null===(t=v.video)||void 0===t?void 0:t.readyState)>2||v.currentTime)&&!(null==v?void 0:v.isInPicture)&&(null==v||null===(l=v.video)||void 0===l||null===(n=l.requestPictureInPicture)||void 0===n||n.call(l).then(()=>{c(!0),v.isInPicture=!0,clearTimeout(e)}).catch(e=>{v.isInPicture=!0,c(!1)}))};e=setTimeout(t,0),null==v||v.on(r.FP.LOADED_DATA,t);let l=()=>{c(!0)},i=()=>{c(!1)};return n.addEventListener("enterpictureinpicture",l),n.addEventListener("leavepictureinpicture",i),()=>{n.removeEventListener("leavepictureinpicture",i),n.removeEventListener("enterpictureinpicture",l),null==v||v.off(r.FP.LOADED_DATA,t),v.isInPicture=!1,clearTimeout(e)}}},[t,v]),(0,i.useEffect)(()=>{s&&s(d)},[d]),(0,i.useEffect)(()=>{var e,t},[!1,!1,d]),d?(0,l.jsx)(g,{onClick:e=>{if(e.stopPropagation(),(0,a.DJ)()){var t,n;null===(t=(n=document).exitPictureInPicture)||void 0===t||t.call(n)}c(!1),m.current.sendLog("smallWindowExit",{enter_from:(0,u.vM)()})}}):null},w=()=>{let{isLivingPip:e,closeLivingPip:t}=(0,h.ds)(),{eventStore:{playerEvent:n}}=(0,m.o)();return e?(0,l.jsx)(g,{onClick:()=>{t(),n.livesdkMiniWindowExit({click_position:"web_icon_exit"})}}):null};var E=()=>{let{feedStore:{isActive:e},roomStore:{setIsPip:t}}=(0,m.o)();return(0,l.jsx)(y,{isActive:e,handelIsInPic:t})}},662381:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var l=n("563097");n("88648");var i="cMpsmvn_",r="HP4k8iEk",o=n("687040"),a=n("713097"),u=n.n(a),s=e=>{let{info:t,btn:n,keyClassName:a}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:i,children:t}),(0,l.jsx)(o.Z,{className:u()(r,a),val:n})]})}},385187:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var l=n("563097");n("88648");var i={tooltips:"Z4vrjOCq",popup:"E6ZfKYFn",top:"z0pfNfh4",bottom:"X4pMIbr2",left:"F3OmQzm6",right:"y1ZNHl5U"},r=n("713097"),o=n.n(r);function a(e){let{content:t,children:n,position:r="top",className:a,tooltipStyle:u={}}=e;return(0,l.jsxs)("div",{className:i.tooltips,children:[(0,l.jsx)("div",{className:o()(i.popup,i[r],a),style:u,children:t}),n]})}},944541:function(e,t,n){"use strict";n.r(t),n.d(t,{TripleScreenPluginWrap:function(){return k},default:function(){return I},TripleScreenPlugin:function(){return A}}),n("874386");var l=n("563097"),i=n("520739"),r=n("878389"),o=n("88648");let a=(0,o.forwardRef)((e,t)=>(0,l.jsxs)("svg",(0,r._)((0,i._)({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,l.jsx)("path",{d:"M10.5 9.875h3.125v12.25H10.5A1.125 1.125 0 0 1 9.375 21V11c0-.621.504-1.125 1.125-1.125z",stroke:"#fff",strokeWidth:1.75}),(0,l.jsx)("path",{d:"M18.25 9.75v12.5h-4.5V9.75h4.5z",stroke:"#fff",strokeWidth:1.5}),(0,l.jsx)("path",{d:"M21.5 9.875c.621 0 1.125.504 1.125 1.125v10c0 .621-.504 1.125-1.125 1.125h-3.125V9.875H21.5z",stroke:"#fff",strokeWidth:1.75})]})));var u=n("505575"),s=n("850670"),d=n("385187"),c=n("818597"),v=n("662381"),f=n("53562"),p=n("618618"),m=n("169961"),h=n("473233"),_=n("909543"),g=n("328155"),y={"triple-screen-icon":"XBuBtHj_","tips-wrap":"N7FjtjWu",head:"hiAqHfw_",title:"QFGpPax_",icon:"nMdyOV2c",stream:"y6WWjma6",btn:"qEaNN6Gh",text:"UhOzsCXw",dot:"mfGAKvAz"},w=n("70755"),E={triple_screen_tips:"MecODXfG",tips_text:"y9AM3EYf",triangle_down:"EtMNjhlk"};let x=(0,o.forwardRef)((e,t)=>(0,l.jsx)("svg",(0,r._)((0,i._)({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,l.jsx)("path",{d:"M10.912 3.912a.583.583 0 1 0-.825-.824L7 6.175 3.912 3.088a.583.583 0 1 0-.824.824L6.175 7l-3.087 3.088a.583.583 0 0 0 .824.825L7 7.824l3.088 3.087a.583.583 0 0 0 .825-.825L7.824 7l3.087-3.088z",fill:"#fff",fillOpacity:".34"})})));var C=e=>{let{tipsShow:t,setTipsShow:n,type:i=!0}=e,r=o.useRef(null);return o.useEffect(()=>{if(!!t)return r.current=setTimeout(()=>{n(!1)},3e3),()=>{r.current&&clearTimeout(r.current)}},[t]),t?(0,l.jsxs)("div",{className:E.triple_screen_tips,children:[(0,l.jsxs)("div",{className:E.tips_text,children:[i?(0,l.jsx)("span",{children:"关闭三屏模式，恢复单屏画面"}):(0,l.jsx)("span",{children:"打开三屏模式，体验沉浸看播"}),(0,l.jsx)(x,{onClick:()=>n(!1)})]}),(0,l.jsx)("div",{className:E.triangle_down})]}):null},b=n("948375");function A(e){var t,n,i,r;let s=(0,c.o)(),f=(0,m.T)(),{disableIcon:p=!1}=e,h="__live_triple_screen_icon_key_new__",E="__live_triple_screen_key_new__",x=f.tripleScreenTipsKey?f.tripleScreenTipsKey:"__tips__cache__key__",A=(0,o.useMemo)(()=>1===Number(f.tripleScreenTips),[f.tripleScreenTips]),k=(0,o.useMemo)(()=>{try{var e,t;return localStorage.getItem(h)===(null==s?void 0:null===(t=s.userStore)||void 0===t?void 0:null===(e=t.odin)||void 0===e?void 0:e.user_unique_id)}catch(e){return!1}},[null==s?void 0:null===(n=s.userStore)||void 0===n?void 0:null===(t=n.odin)||void 0===t?void 0:t.user_unique_id]),{player:I}=(0,u.n)(),S=(0,o.useRef)(I);S.current=I;let[P,j]=o.useState("true"===localStorage.getItem(E)),[L,N]=(0,o.useState)("true"!==localStorage.getItem(x)&&A&&!P&&!p),T=(0,o.useRef)(),R=(0,b.Z)(e=>{var t;null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e),clearTimeout(T.current),N(!1),localStorage.setItem(x,"true")}),D=(0,o.useRef)(P);D.current=P;let[M,O]=o.useState(!0),F=(0,o.useRef)(p);F.current=p,(0,o.useEffect)(()=>{try{window.__tripleScreenKey__=E}catch(e){}},[E]),(0,o.useEffect)(()=>{let e=e=>{var t,n,l,i,r;if(F.current)return;let o=null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.tagName;if("INPUT"!==o&&"TEXTAREA"!==o&&(null==e?void 0:null===(n=e.target)||void 0===n?void 0:n.contentEditable)!=="true")(null==e?void 0:e.code)==="KeyS"&&!(e.shiftKey||e.metaKey||e.ctrlKey)&&(null==s||null===(r=s.eventStore)||void 0===r||null===(i=r.playerEvent)||void 0===i||null===(l=i.threeScreenSwitchClick)||void 0===l||l.call(i,{switch_type:"hotkey",switch_result:D.current?"close":"open"}),V())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]);let V=()=>{j(e=>(localStorage.setItem(E,e?"false":"true"),!e))};(0,o.useEffect)(()=>{I.updateConfig({pluginsConfig:{tripleVideo:{enable:P}}}),P&&R()},[P]);let B=(0,_.a)(),U=(0,g.Nr)(B.pathname),H=(0,o.useRef)(U);H.current=U,(0,o.useEffect)(()=>()=>{let e=(0,g.Nr)(window.location.pathname);if(!!H.current||!e||!!S.current.paused)S.current.updateConfig({pluginsConfig:{tripleVideo:{enable:!1}}})},[]),(0,o.useEffect)(()=>{var e,t,n,l;!p&&(null==s?void 0:null===(t=s.userStore)||void 0===t?void 0:null===(e=t.odin)||void 0===e?void 0:e.user_unique_id)&&localStorage.setItem(h,null==s?void 0:null===(l=s.userStore)||void 0===l?void 0:null===(n=l.odin)||void 0===n?void 0:n.user_unique_id)},[p,null==s?void 0:null===(r=s.userStore)||void 0===r?void 0:null===(i=r.odin)||void 0===i?void 0:i.user_unique_id]);let Z=(0,o.useRef)(null),G=(0,o.useRef)(!1),K=(0,o.useRef)();return((0,o.useEffect)(()=>{var e,t,n,l;if(G.current||null===(e=S.current)||void 0===e||e.focus({isLock:L}),L)return K.current=setInterval(()=>{var e,t,n,l;(null===(l=S.current)||void 0===l?void 0:null===(n=l.root)||void 0===n?void 0:null===(t=n.className)||void 0===t?void 0:null===(e=t.indexOf)||void 0===e?void 0:e.call(t,"douyin-player-active"))>=0&&(clearInterval(K.current),K.current=setInterval(()=>{var e,t,n,l;(null===(l=S.current)||void 0===l?void 0:null===(n=l.root)||void 0===n?void 0:null===(t=n.className)||void 0===t?void 0:null===(e=t.indexOf)||void 0===e?void 0:e.call(t,"douyin-player-active"))<0&&(R(),G.current=!0,clearInterval(K.current))},600))},600),T.current=setTimeout(R,15e3),null==s||null===(l=s.eventStore)||void 0===l||null===(n=l.playerEvent)||void 0===n||null===(t=n.livesdkThreeScreenGuidePopupShow)||void 0===t||t.call(n),setTimeout(()=>{I.updateConfig({pluginsConfig:{tripleVideo:{enable:!1,enableTip:!0,tipDom:Z.current}}})},10),()=>{clearInterval(K.current),clearTimeout(T.current)}},[L]),p)?null:(0,l.jsxs)(d.Z,{content:(0,l.jsx)(v.Z,{btn:"S",info:"三屏画面"}),children:[(0,l.jsxs)("div",{onClick:()=>{var e,t,n;null==s||null===(n=s.eventStore)||void 0===n||null===(t=n.playerEvent)||void 0===t||null===(e=t.threeScreenSwitchClick)||void 0===e||e.call(t,{switch_type:"click_button",switch_result:D.current?"close":"open"}),V()},style:{position:"relative",bottom:-1},"data-e2e":"triple_screen_icon",className:y["triple-screen-icon"],children:[(0,l.jsx)(a,{}),L?(0,l.jsxs)("div",{className:y["tips-wrap"],children:[(0,l.jsxs)("div",{className:y.head,children:[(0,l.jsx)("span",{className:y.title,children:"新功能：三屏模式"}),(0,l.jsx)("svg",{className:y.icon,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",onClick:e=>{var t,n,l;R(e),null==s||null===(l=s.eventStore)||void 0===l||null===(n=l.playerEvent)||void 0===n||null===(t=n.livesdkThreeScreenGuidePopupClick)||void 0===t||t.call(n,{click_type:"close"})},children:(0,l.jsx)("path",{d:"M16.3638 4.69699C16.6567 4.40409 16.6567 3.92922 16.3638 3.63633C16.0709 3.34343 15.596 3.34343 15.3031 3.63633L10.0001 8.93935L4.69708 3.63633C4.40418 3.34344 3.92931 3.34344 3.63642 3.63633C3.34352 3.92922 3.34352 4.4041 3.63642 4.69699L8.93944 10L3.63645 15.303C3.34356 15.5959 3.34356 16.0708 3.63645 16.3637C3.92934 16.6565 4.40422 16.6565 4.69711 16.3637L10.0001 11.0607L15.3031 16.3637C15.596 16.6566 16.0709 16.6566 16.3637 16.3637C16.6566 16.0708 16.6566 15.5959 16.3637 15.303L11.0608 10L16.3638 4.69699Z",fill:"white"})})]}),(0,l.jsx)("div",{className:y.stream,ref:Z}),(0,l.jsxs)("div",{className:y.btn,onClick:e=>{var t,n,l;null==e||e.stopPropagation(),V(),null==s||null===(l=s.eventStore)||void 0===l||null===(n=l.playerEvent)||void 0===n||null===(t=n.livesdkThreeScreenGuidePopupClick)||void 0===t||t.call(n,{click_type:"open"})},children:[(0,l.jsx)("span",{className:y.text,children:"点击体验"}),(0,l.jsx)("span",{className:y.dot,children:"S"})]})]}):null]}),A?null:(0,l.jsx)(w.l,{showHint:!k&&M,priority:1,delay:3,onShow:()=>{var e,t,n;null==s||null===(n=s.eventStore)||void 0===n||null===(t=n.playerEvent)||void 0===t||null===(e=t.threeScreenGuideBubbleShow)||void 0===e||e.call(t,{guide_bubble_content:D.current?"guide_close_three_screen":"guide_open_three_screen"})},children:(0,l.jsx)(C,{tipsShow:M,setTipsShow:O,type:P})})]})}let k=(0,f.Pi)((0,s.rW)(A));var I=(0,f.Pi)(e=>{let t=(0,c.o)(),{player:n}=(0,u.n)(),[i,r]=o.useState(!1),a=o.useMemo(()=>{var n;return(null==e?void 0:e.room)?{room:e.room}:null==t?void 0:null===(n=t.roomStore)||void 0===n?void 0:n.roomInfo},[null==t?void 0:t.roomInfo,e.room]);(0,m.T)();let d=o.useMemo(()=>{var e,t,n;let l=(null==a?void 0:null===(e=a.room)||void 0===e?void 0:e.has_promotion_games)===1;return((null===(n=a.room)||void 0===n?void 0:null===(t=n.toolbar_data)||void 0===t?void 0:t.entrance_list)||[]).some(e=>[h.Ls.Cart].some(t=>e.component_type===t))||l},[a.room]),v=o.useMemo(()=>{var e,t;let n=null==a?void 0:null===(t=a.room)||void 0===t?void 0:null===(e=t.stream_url)||void 0===e?void 0:e.extra;return!!n&&(null==n?void 0:n.height)/(null==n?void 0:n.width)>=1.48},[a.room]),f=o.useMemo(()=>{var e;return(null==a?void 0:null===(e=a.room)||void 0===e?void 0:e.live_room_mode)===p.ke.MEDIA},[]),_=o.useMemo(()=>{let e=s.xQ.isSupported();return d||!v||f||i||!e||(null==n?void 0:n.__is_triple_degrade__)},[i,d,v,f,n]);return((0,o.useEffect)(()=>{if(n)try{let e=()=>{r(!0),n.__is_triple_degrade__=!0};return n.video.addEventListener("degrade",e),()=>{try{n.video.removeEventListener("degrade",e)}catch(e){}}}catch(e){}},[n]),(0,o.useEffect)(()=>{window.__current_feed_triple_status__=!_},[_]),_)?null:(0,l.jsx)(k,{index:8,props:e})})},622246:function(e,t,n){"use strict";n.d(t,{Ep:function(){return a},J2:function(){return u},dD:function(){return s},mZ:function(){return o}});var l=n(818597),i=n(505575),r=n(850670);let o=e=>{let t=(0,l.o)();return e?e:(null==t?void 0:t.vrStore)?t:{}},a=e=>{let t=(0,i.n)();return e.playerInstance?e.playerInstance:null==t?void 0:t.player},u=()=>{var e;return null===r.o||void 0===r.o?void 0:null===(e=r.o.isVRSupported)||void 0===e?void 0:e.call(r.o)},s=e=>{var t;let n=o(e.store);return(null==n?void 0:null===(t=n.playerStore)||void 0===t?void 0:t.isFullScreen)||e.isFullScreen}},413733:function(e,t,n){"use strict";n.d(t,{cN:function(){return r},fH:function(){return o},tN:function(){return a}}),n(179133),n(826893);var l=n(567754),i=n(683849);n(89087);let r=e=>{var t,n;let{onlyFromWindow:r=!1,clearWindowQuery:o=!1}=e||{},a=window&&window.__INVISIBLE_QUERY__,u=(null===(t=l.parse(location.search))||void 0===t?void 0:t.open_promotion_list)||(null==a?void 0:a.open_promotion_list);if(!r)try{if(!(null==a?void 0:a.open_promotion_list)){let e=sessionStorage.getItem(i.UY),t=JSON.parse(e)||{};u=(null==t?void 0:t.open_promotion_list)||0}}catch(e){}return o&&1===Number(null===(n=window.__INVISIBLE_QUERY__)||void 0===n?void 0:n.open_promotion_list)&&(window.__INVISIBLE_QUERY__.open_promotion_list=0),Number(u)},o=e=>{var t,n;let{onlyFromWindow:r=!1,clearWindowQuery:o=!1}=e||{},a=window&&window.__INVISIBLE_QUERY__,u=(null===(t=l.parse(location.search))||void 0===t?void 0:t.open_promotion_detail)||(null==a?void 0:a.open_promotion_detail);if(!r)try{if(!(null==a?void 0:a.open_promotion_detail)){let e=sessionStorage.getItem(i.UY),t=JSON.parse(e)||{};u=(null==t?void 0:t.open_promotion_detail)||0}}catch(e){}return o&&1===Number(null===(n=window.__INVISIBLE_QUERY__)||void 0===n?void 0:n.open_promotion_detail)&&(window.__INVISIBLE_QUERY__.open_promotion_detail=0),Number(u)},a=()=>{let e=window&&window.__INVISIBLE_QUERY__,t=null==e?void 0:e.stream_type;return{action_type:(null==e?void 0:e.action_type)||"click",stream_type:t}}},368300:function(e,t,n){"use strict";n.d(t,{y:function(){return x}});var l=n("520739"),i=n("878389");n("874386"),n("413806"),n("826893"),n("779788");var r=n("563097"),o=n("88648"),a=n("713097"),u=n.n(a),s=n("567754"),d=n("623527"),c=n("465769"),v=n("742740"),f=n("983253"),p=n("235049"),m=n("623582"),h=n("115627"),_=n("713111"),g=n("4168"),y=n("812798");let w=(0,o.forwardRef)((e,t)=>(0,r.jsx)("svg",(0,i._)((0,l._)({width:28,height:28,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,r.jsx)("path",{d:"M19.59 9.59a.833.833 0 1 0-1.18-1.18L14 12.822l-4.41-4.41a.833.833 0 0 0-1.18 1.178L12.822 14l-4.41 4.41a.833.833 0 1 0 1.178 1.18L14 15.177l4.41 4.411a.833.833 0 1 0 1.18-1.178L15.177 14l4.411-4.41z",fill:"#161823"})}))),E=(0,o.forwardRef)((e,t)=>(0,r.jsxs)("svg",(0,i._)((0,l._)({width:50,height:50,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,r.jsxs)("g",{filter:"url(#ic_tick-circle_svg__filter0_d_747_17320)",shapeRendering:"crispEdges",children:[(0,r.jsx)("path",{d:"M25.001 44.992c11 0 20-9 20-20s-9-20-20-20-20 9-20 20 9 20 20 20z",fill:"#fff"}),(0,r.jsx)("path",{d:"M25.001 45.492c11.276 0 20.5-9.224 20.5-20.5s-9.224-20.5-20.5-20.5-20.5 9.224-20.5 20.5 9.224 20.5 20.5 20.5z",stroke:"#000",strokeOpacity:".1",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,r.jsx)("path",{d:"M30.303 30.303a7.5 7.5 0 1 1 0-10.607c.691.691 2.197 2.387 2.197 2.387",stroke:"#333",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M32.5 18.333v3.75h-3.75",stroke:"#333",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("filter",{id:"ic_tick-circle_svg__filter0_d_747_17320",x:".001",y:"-.008",width:50,height:50,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:2}),(0,r.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,r.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_747_17320"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_747_17320",result:"shape"})]})})]}))),x=e=>{var t;let{awemeInfo:n,onClose:a,onPaySuccess:x,onPayTimeout:C,logParams:b,paidLiveData:A,visible:k}=e,[I,S]=(0,o.useState)("");(0,o.useRef)();let P=(0,o.useRef)(0);(0,o.useRef)(!1);let[j,L]=(0,o.useState)(void 0),[N,T]=(0,o.useState)(!1),R=(0,o.useCallback)(async()=>{var e,t,n,r,o;L(void 0),S("");let[a,u="{}"]=null==A?void 0:null===(n=A.ticket_session)||void 0===n?void 0:null===(t=n.prepay_cashier_jump_url)||void 0===t?void 0:null===(e=t.split)||void 0===e?void 0:e.call(t,"?"),f=s.parse(u),p=await (0,g.kH)({jsonParams:JSON.stringify((0,i._)((0,l._)({},f),{origin_appid:"6383",schema_type:"1",use_new_api:"1",mix_short_name:encodeURIComponent((null==u?void 0:u.mix_short_name)||"")})||{})});(null==p?void 0:p.statusCode)===0?(S(null==p?void 0:null===(r=p.data)||void 0===r?void 0:r.url),L(!1)):(d.oe.event.error({name:d.Mo.PaidVideoQRCodeError,report:{enterFrom:(0,c.mo)(),enterFromMerge:(0,v.yW)(),buySchema:null==A?void 0:null===(o=A.ticket_session)||void 0===o?void 0:o.prepay_cashier_jump_url,logId:null==p?void 0:p.logId}}),L(!0))},[A]);(0,o.useEffect)(()=>{var e;(null==A?void 0:null===(e=A.ticket_session)||void 0===e?void 0:e.prepay_cashier_jump_url)&&R()},[null==A?void 0:null===(t=A.ticket_session)||void 0===t?void 0:t.prepay_cashier_jump_url]);let D=(0,o.useMemo)(()=>{var e,t,l,i,r,o,a;return{enter_from:(0,f.Rs)("enter_from"),module:decodeURIComponent((0,f.Rs)("module")||""),enter_from_merge:(0,v.yW)(),previous_page:(0,f.Rs)("previous_page"),group_id:null==n?void 0:n.awemeId,author_id:null==n?void 0:null===(e=n.authorInfo)||void 0===e?void 0:e.uid,ce_content_id:(null==n?void 0:null===(t=n.seriesInfo)||void 0===t?void 0:t.seriesId)||(null==n?void 0:null===(l=n.mixInfo)||void 0===l?void 0:l.mixId)||"",ce_content_type:(0,p.a)(n),ce_item_id:String((null==n?void 0:null===(i=n.seriesInfo)||void 0===i?void 0:i.currentEpisode)||(null==n?void 0:null===(r=n.mixInfo)||void 0===r?void 0:r.currentEpisode)),is_trailer:(null==n?void 0:null===(a=n.chargeInfo)||void 0===a?void 0:null===(o=a.preview_config)||void 0===o?void 0:o.is_preview)?1:0,from_group_id:null==b?void 0:b.from_group_id}},[b,n]);return(0,o.useEffect)(()=>{m.logInstance.sendLog("pcPaymentPopupShow",(0,l._)({button_type:"scan"},D))},[]),(0,o.useEffect)(()=>{N&&m.logInstance.sendLog("pcPaymentPopupShow",(0,i._)((0,l._)({},D),{button_type:"refresh"}))},[N]),(0,r.jsxs)("div",{className:y.default.container,style:{display:k?"block":"none"},children:[(0,r.jsxs)("div",{className:y.default.title,children:[(0,r.jsx)("span",{children:"抖音App扫码购买"}),(0,r.jsx)(h.Z,{src:w,width:28,height:28,viewBox:"0 0 28 28",onClick:e=>{e.stopPropagation(),P.current=0,null==a||a()},style:{cursor:"pointer"}})]}),(0,r.jsxs)("div",{className:y.default.box,children:[void 0===j&&!I&&(0,r.jsx)(_.gb,{}),j&&(0,r.jsxs)("div",{className:u()(y.default.timeoutMask,y.default.smallBtnGrayContainer),onClick:async()=>{await R()},children:[(0,r.jsx)("div",{className:y.default.mask}),(0,r.jsxs)("div",{className:y.default.timeoutBox,children:[(0,r.jsx)(h.Z,{src:E,width:50,height:50,viewBox:"0 0 50 50"}),(0,r.jsx)("div",{className:y.default.mainTitle,children:"抖音码获取失败"}),(0,r.jsx)("div",{children:"点击刷新"})]})]}),I&&(0,r.jsx)("img",{src:I,onError:()=>{L(!0)},onLoad:()=>{L(!1)}}),N&&(0,r.jsxs)("div",{className:u()(y.default.timeoutMask,y.default.smallBtnGrayContainer),onClick:async()=>{m.logInstance.sendLog("pcPaymentPopupClick",(0,i._)((0,l._)({},D),{button_type:"refresh"})),T(!1),P.current=0,await R()},children:[(0,r.jsx)("div",{className:y.default.mask}),(0,r.jsxs)("div",{className:y.default.timeoutBox,children:[(0,r.jsx)(h.Z,{src:E,width:50,height:50,viewBox:"0 0 50 50"}),(0,r.jsx)("div",{className:y.default.mainTitle,children:"二维码已过期"}),(0,r.jsx)("div",{children:"点击刷新"})]})]})]})]})}},181139:function(e,t,n){"use strict";n.d(t,{h:function(){return a}}),n(874386);function l(e,t){return Math.random()*(t-e)+e}let i=[[0,20],[20,70],[20,70],[70,80]],r=[[0,90],[0,20],[75,90],[0,90]],o=[0,1,2,3],a=()=>{let e=function(e){let t=[...e],n=Math.floor(Math.random()*t.length);return t[n]}(o);return{new_left:l(i[e][0],i[e][1]),mew_top:l(r[e][0],r[e][1])}}},88506:function(e,t,n){"use strict";n.d(t,{B5:function(){return m},U0:function(){return f},Wr:function(){return u},c9:function(){return s},dL:function(){return p},dh:function(){return h},iF:function(){return d},t4:function(){return v},ys:function(){return c},zq:function(){return a}});var l=n(520739),i=n(878389),r=n(796591),o=n(967747);let a=e=>{window.collectEvent("livesdk_live_paidlive_try_button_show",(0,i._)((0,l._)({},(0,o.K4)(),(0,r.aV)(),(0,r.Nu)(),(0,r.UV)()),{watch_type:e}))},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.collectEvent("livesdk_live_paidlive_try_button_show",(0,l._)({},e))},s=e=>{window.collectEvent("livesdk_paidlive_buyticket_icon_click",(0,i._)((0,l._)({},(0,o.K4)(),(0,r.aV)(),(0,r.Nu)(),(0,r.UV)(),(0,o.xA)()),{room_type:"live",watch_type:e}))},d=e=>{window.collectEvent("livesdk_paidlive_buyticket_toolbar_show",(0,i._)((0,l._)({},(0,o.K4)(),(0,o.xA)(),(0,r.UV)(),(0,o.Yi)()),{room_type:"live",watch_type:e}))},c=e=>{window.collectEvent("livesdk_paidlive_buyticket_toast_show",(0,l._)((0,i._)((0,l._)({},(0,o.K4)(),(0,o.xA)(),(0,r.UV)(),(0,o.Yi)()),{room_type:"live"}),e||{}))},v=()=>{window.collectEvent("livesdk_live_paidlive_tryend_show",(0,l._)({},(0,o.K4)(),(0,r.aV)(),(0,r.Nu)(),(0,r.UV)()))},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.collectEvent("livesdk_live_paidlive_window_play",(0,l._)({},e))},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.collectEvent("livesdk_live_paidlive_window_duration",(0,l._)({},e))},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.collectEvent("livesdk_live_window_paidlive_tryend_show",(0,l._)({},e))},h=e=>{window.collectEvent("livesdk_rec_live_play",(0,l._)({},e))}},692532:function(e,t,n){"use strict";n.d(t,{o:function(){return d}});var l=n(948375),i=n(88648),r=n(850634),o=n(669417),a=n(19670),u=n(358472),s=n(782580);let d=e=>{let{playerInstance:t,playerLoggerInstance:n,streamInfo:d,isRoomError:c,onH265Degrade:v,onUnablePlay:f,onPlayerDegrade:p,onRetryEnd:m,onError:h,disable:_}=e,{isH265:g,isH265Error:y,setIsH265Error:w,playerUrl:E,useBackUp:x,setUseBackUp:C}=d,b=i.useRef(2),A=(0,l.Z)((e,t)=>{o.ZP.event("playerDegradeMethod",{method:"265Degrade",code:e.code,isH265:g,isFlvPlayer:t}),w(!0),null==n||n.updateExt({h265_degrade:1}),v(e)}),k=(0,l.Z)((e,t,n)=>{var l;o.ZP.event("playerDegradeMethod",{method:"retry",code:e.code,isH265:g,isFlvPlayer:n}),b.current--,null==t||null===(l=t.retry)||void 0===l||l.call(t),null==m||m()}),I=(0,l.Z)((e,t,n)=>{var l;o.ZP.event("playerDegradeMethod",{method:"playerDegrade",code:e.code,isH265:g,isFlvPlayer:n}),null==t||null===(l=t._changeCore)||void 0===l||l.call(t,r.ry,{}),null==p||p()}),S=(0,l.Z)((e,t)=>{o.ZP.event("playerDegradeMethod",{method:"unablePlay",code:e.code,isH265:g,isFlvPlayer:t}),null==f||f()}),P=(0,l.Z)((e,t)=>{o.ZP.event("playerDegradeMethod",{method:"backup",code:e.code,isH265:g,isFlvPlayer:t}),null==C||C(!0)}),j=(0,l.Z)((e,t,n)=>{((0,s.getUseNew265Logic)()?(0,u.aN)(null==t?void 0:t.src):g)?A(e,n):x?S(e,n):P(e,n)}),L=(0,l.Z)((e,t,n)=>{n?j(e,t,n):I(e,t,n)}),N=(0,l.Z)((e,t,n)=>{var l;if(null==t?void 0:null===(l=t.error)||void 0===l?void 0:l.code){L(e,t,n);return}b.current>0?k(e,t,n):x?S(e,n):P(e,n)}),T=[{codes:[1e3,1001,2100,2101,3100],method:(e,t,n)=>{N(e,t,n)}},{codes:[3e3],method:(e,t,n)=>{j(e,t,n)}},{codes:[3001,3002,3003,3004,3005,3006,4e3,5e3,5001,5002,5003,5004,6001],method:(e,t,n)=>{L(e,t,n)}}],R=(0,l.Z)(e=>{try{if(null==c?void 0:c()){var n,l,i;let o=t;!o&&(0,s.getInLiveSearchRefactorAB)()&&(o=null==e?void 0:e.player);let u=(null==e?void 0:null===(n=e.player)||void 0===n?void 0:n.src)||(null==t?void 0:t.src);if(!E&&u&&(0,a.WH)("streamPlayerUrl_not_equal_playerUrl",{streamPlayerUrl:E,playerUrl:u}),!u)return;let{code:d}=e||{},c=(0,s.getUseNewDegradeLogic)()?(null==o?void 0:null===(l=o.baseConfig)||void 0===l?void 0:l.coreType)===r.ry:!!(null==o?void 0:null===(i=o.error)||void 0===i?void 0:i.code),v=String(d),f=T.find(e=>e.codes.some(e=>String(e)===v));((null==f?void 0:f.method)||L)(e,o,c),null==h||h(e)}}catch(e){}}),D=(0,l.Z)(()=>{b.current=2});return i.useEffect(()=>{if(!_&&t)return null==t||t.on(null===r.FP||void 0===r.FP?void 0:r.FP.ERROR,R),null==t||t.on(null===r.FP||void 0===r.FP?void 0:r.FP.CANPLAY,D),()=>{null==t||t.off(null===r.FP||void 0===r.FP?void 0:r.FP.ERROR,R),null==t||t.off(null===r.FP||void 0===r.FP?void 0:r.FP.CANPLAY,D)}},[t,_]),{errorHandle:R}}},803640:function(e,t,n){"use strict";let l;n.r(t),n.d(t,{LabelType:function(){return tr},LiveSliderCard:function(){return nT},SCENE_ID:function(){return ti}});var i,r=n("520739"),o=n("878389");n("874386"),n("179133"),n("826893"),n("927234"),n("779788"),n("429532"),n("250440"),n("777180");var a=n("563097"),u=n("459307");let s=()=>window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');var d=n("328155"),c=n("828782"),v=n("985703"),f=n("774575"),p=n("132607"),m=n("441447"),h=n("535874"),_=n("852664"),g=n("443243"),y=n("594649"),w=n("798644"),E=n("953342"),x=n("128487"),C=n("910863"),b=n("684767"),A=n("847191"),k=n("987475"),I=n("102185"),S=n("632766"),P=n("725887"),j=n("623527"),L=n("431053"),N=n("607412"),T=n("876877"),R=n("302461"),D=n("622273"),M=n("215932"),O=n("737271"),F=n("167951"),V=n("827914"),B=n("713097"),U=n.n(B),H=n("645260"),Z=n.n(H),G=n("96008"),K=n.n(G),z=n("877639"),W=n.n(z),Q=n("88648"),q=n.t(Q,2);let X=e=>{let{onOver:t}=e,[n,l]=Q.useState(0),[i,r]=Q.useState(20),o=Q.useRef();Q.useEffect(()=>{if(i<=0&&2!==n){l(2);return}1===n?o.current=setTimeout(()=>{r(i-1)},1e3):window.clearTimeout(o.current)},[i,n]);let a=Q.useCallback(()=>{l(1)},[]),u=Q.useCallback(()=>{window.clearTimeout(o.current),r(20),a()},[a]),s=Q.useCallback(()=>{l(0)},[]),d=Q.useCallback(()=>{l(2)},[]),c=Q.useMemo(()=>2===n&&i<=0,[n,i]);return Q.useEffect(()=>{c&&(t&&t(),l(0),r(20))},[c,t]),{restart:u,start:a,pause:s,stop:d,time:i,isOver:c,timeStatus:n,setTimeStatus:l}};var Y=n("235230"),J=n("806787"),$=n("742401"),ee=n("413733"),et=n("967747"),en=n("669417"),el=n("503866"),ei=n("867204"),er=n("850670"),eo=n("681759");n("602157");var ea=n("961412"),eu=n("41697"),es={liveInfo:"RICQHmZa",tagContainer:"_j06hf3s",liveTag:"ndhWGtzI",endText:"Mq4Mstdo",userName:"j9OdoRmo",userTextHover:"YZUH3_U6",description:"wnuGN5vL",title:"BdgVXJCA",wrap:"lUKQTdpu",hightLightText:"oeX54bka"},ed=n("774569"),ec=n("522828"),ev=n("509090"),ef=n("560296"),ep=n("768492"),em=n("614316"),eh=n("257684");let e_=Q.memo(e=>{let{isPaidLive:t,episodeExtra:n,showPaidLiveEnd:l}=e;return(0,a.jsxs)("div",{className:es.liveTag,children:[t&&(0,a.jsx)(()=>(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(ed.jR,{}),(0,a.jsx)("div",{className:es.endText,children:l?"试看结束":""})]}),{}),!t&&(0,a.jsx)(()=>{var e,t,l;return(null==n?void 0:null===(e=n.mod)||void 0===e?void 0:e.episode_stage)===em.jL.FIRST_LIVE?(0,a.jsx)(ed.Sx,{episodeStage:null==n?void 0:null===(t=n.mod)||void 0===t?void 0:t.episode_stage}):(0,a.jsx)(ed.z,{episodeStage:null==n?void 0:null===(l=n.mod)||void 0===l?void 0:l.episode_stage})},{})]})}),eg=Q.memo(e=>{var t,n,l,i;let{userName:r,userCount:o,title:u="",className:s,style:d,episodeExtra:c,secUid:v,userParams:f,onClickUser:p,isAd:m=!1,isPaidLive:h=!1,viewType:_=x.PAID_LIVE_VIEW_TYPE.NORMAL_WATCH,isLogin:g,tagInfo:y,abTestData:w,useUserName:E=!0,paidLiveInfo:C,useFollowBtn:b=!1,isFollow:A,dispatch:k,userInfo:I,rawdata:S,onLoginSuccess:P,isActive:j=!1,isPlayingVideo:L=!1,hightLightText:N="高光时刻"}=e,{dynamicLabel:T,assistLabel:R}=y,[D,M]=Q.useState(!1),[O,F]=Q.useState(!1),[V,B]=Q.useState(!1),{follow:H}=(0,ec.OM)({selfUid:null==I?void 0:null===(t=I.info)||void 0===t?void 0:t.uid,actionUid:null==S?void 0:null===(n=S.owner)||void 0===n?void 0:n.id_str,defaultFollowerStatus:A,defaultFollowStatus:A,isLogin:g,preventReport:!0,onLoginSuccess:P,success:e=>{let{action:t}=e;"follow"===t&&(ev.F.info("关注成功"),B(!0),setTimeout(()=>{F(!0),B(!1)},1e3))},fail:e=>{let{action:t}=e;"follow"===t&&ev.F.info("关注失败")}}),{followStatus:Z}=(0,ef.r)({selfUid:null==I?void 0:null===(l=I.info)||void 0===l?void 0:l.uid,actionUid:null==S?void 0:null===(i=S.owner)||void 0===i?void 0:i.id_str,defaultFollowerStatus:A,defaultFollowStatus:A}),G=Q.useMemo(()=>h&&!g,[g,h]),K=Q.useMemo(()=>h&&_===x.PAID_LIVE_VIEW_TYPE.TRT_WATCH_FINISH,[h,_]);return Q.useEffect(()=>{F(1===Z)},[Z]),Q.useRef(null),(0,a.jsx)("div",{className:U()(es.liveInfo,s),style:d,children:(0,a.jsxs)("div",{className:es.wrap,children:[(0,a.jsxs)("div",{className:es.tagContainer,children:[L?(0,a.jsx)("div",{className:es.hightLightText,children:N}):(0,a.jsx)(e_,{isPaidLive:h,showPaidLiveEnd:K,episodeExtra:c}),h&&(0,a.jsx)(eh.j,{paidLiveData:C,isLogin:g,showCount:!1,viewType:_,count:"0"})]}),E&&(0,a.jsx)(Y.G,{onClick:p,href:`${(0,ep.HC)(v)}`,passParams:f,target:"_blank",children:(0,a.jsx)("span",{className:U()(es.userName,es.userTextHover),style:{pointerEvents:"all"},children:(0,a.jsx)(ea.Z,{text:`@${r}`})})}),(0,a.jsxs)("div",{className:es.description,children:[(0,a.jsx)("span",{className:es.title,children:(0,a.jsx)(ea.Z,{text:"string"==typeof u?u:(null==u?void 0:u.text)||""})}),!G&&o&&(0,a.jsx)(eu.A,{count:o}),m&&(0,a.jsx)(ed.Xv,{})]})]})})});var ey=n("985455"),ew=n("340619"),eE=n("486992"),ex=n("843722");let eC=(0,Q.forwardRef)((e,t)=>(0,a.jsx)("svg",(0,o._)((0,r._)({width:26,height:26,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{d:"M7.269 16.316a1.393 1.393 0 0 1 0-1.97l5.056-5.055a1.393 1.393 0 0 1 1.97 0l.011.011 5.045 5.045a1.393 1.393 0 1 1-1.97 1.97l-4.071-4.072-4.071 4.071a1.393 1.393 0 0 1-1.97 0z",fill:"#fff",opacity:".7"})}))),eb=(0,Q.forwardRef)((e,t)=>(0,a.jsx)("svg",(0,o._)((0,r._)({width:26,height:26,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{d:"M7.269 9.29a1.393 1.393 0 0 0 0 1.97l5.056 5.056a1.393 1.393 0 0 0 1.97 0l.011-.011 5.045-5.045a1.393 1.393 0 1 0-1.97-1.97l-4.071 4.072L9.239 9.29a1.393 1.393 0 0 0-1.97 0z",fill:"#fff",opacity:".7"})})));var eA="wSYE1KSi",ek="cPV1pChD",eI="AcJkTZgE";let eS=Q.memo(e=>{let{onNext:t,onPrev:n,className:l}=e;return(0,a.jsxs)("div",{className:U()(eA,l),children:[(0,a.jsx)(eC,{className:U()(ek,{[eI]:!n}),onClick:e=>{e.stopPropagation(),n()}}),(0,a.jsx)(eb,{className:U()(ek,{[eI]:!t}),onClick:t})]})});var eP=n("171941"),ej=n("928406"),eL=n("160104"),eN=n("505575");function eT(){let{player:e}=(0,eN.n)();return(0,Q.useEffect)(()=>{let t=w.s.getPlayersByScene(E.PlayerScene.Modal).length>0&&w.s.getPlayerScene(e.playerId)!==E.PlayerScene.Modal;if(e&&t){let t=()=>{e.pause(),e.config.autoplay=!1,e.autoplay=!1};return e.once("play",t),()=>{e.off("play",t)}}},[e]),null}var eR=n("742740"),eD=n("850634");function eM(){let{player:e}=(0,eN.n)();return(0,Q.useEffect)(()=>{if(e){let t=()=>{"recommend"===(0,eR.yW)()&&P.Le.getConfig(P.gI.FirstEnterRecommend)&&(P.Le.setConfig(P.gI.FirstEnterRecommend,!1),m.emit(m.EVENT.firstEnterVideoPlay))};return e.on(eD.FP.LOADEDDATA,t),()=>{e.off(eD.FP.LOADEDDATA,t)}}},[e]),null}var eO=n("917748"),eF=n("335771"),eV={livecontextMenuContainer:"qgmiQqfW",livecontextMenuItem:"jQ3D8XJL",itemText:"JyNO_DD4",itemTip:"v5zHYtu1",itemRedDotBox:"PWwofHHT",itemRedDot:"rIbNPVlk",itemMarginLeft:"SvkJGLCd"},eB=n("66627"),eU=n("691254");function eH(e){let{target:t,deleteCurrentSwiper:n,isShow:l,setIsShow:i,sortDislike:r,secUid:o,userParams:u,isLiveModal:s=!1,isEnterLiveSpa:d=!1,abtestData:v}=e,[f,p]=(0,Q.useState)({x:0,y:0}),[m,h]=(0,Q.useState)({x:0,y:0}),[_,g]=(0,Q.useState)(),y=(0,Q.useRef)(null);(0,Q.useRef)(_).current=_;let w=x.shortcut.getShortcut({from:"live"});null==u||u.enter_from_merge,null==u||u.tab_name,null==u||u.enter_method;let E=(0,Q.useCallback)(e=>{e.preventDefault(),i(!1),g(!1);let{x:n,y:l,right:r,bottom:o}=null==t?void 0:t.getBoundingClientRect();if(r-e.pageX<224?(p({x:e.pageX-n-224,y:e.pageY-l}),h({x:e.pageX-n-456,y:e.pageY-l})):(p({x:e.pageX-n,y:e.pageY-l}),r-e.pageX<448?h({x:e.pageX-n-232,y:e.pageY-l}):h({x:e.pageX-n+232,y:e.pageY-l})),o-e.pageY<100){i(!1);return}i(!0)},[t,i]),C=(0,Q.useCallback)(e=>{var t;if(null===(t=y.current)||void 0===t?!void 0:!t.contains(e.target))g(!1),i(!1)},[i]),b=(0,Q.useCallback)(e=>{var t;e.code===(null==w?void 0:null===(t=w.dislike)||void 0===t?void 0:t.code)&&(g(!0),r())},[r]),A=(0,Q.useCallback)(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("liveDislike"===t||s&&"liveModalDislike"===t){g(!0),r();return}let l=new CustomEvent(t,n);e.nativeEvent.target.dispatchEvent(l)},[r,s]);(0,Q.useEffect)(()=>(null==t||t.addEventListener("contextmenu",E),document.addEventListener("click",C,!0),()=>{null==t||t.removeEventListener("contextmenu",E),document.removeEventListener("click",C,!0),i(!1),g(!1)}),[t]),(0,Q.useEffect)(()=>(document.addEventListener("keydown",b,!0),()=>{document.removeEventListener("keydown",b,!0)}),[]);let I=(0,Q.useMemo)(()=>{var e,t;let n=(0,c.DT)(),l=null!==(t=(0,c.FJ)().awemePcClient)&&void 0!==t?t:"",i=n&&l&&(0,eB.y)(l,">=","4.1.0"),r=null==v?void 0:null===(e=v.multitaskWindow)||void 0===e?void 0:e.enable;return i&&r},[v]),S=(0,Q.useMemo)(()=>{var e;return[{text:"不感兴趣",key:(null==w?void 0:null===(e=w.dislike)||void 0===e?void 0:e.key)||"",handler:e=>A(e,s?"liveModalDislike":"liveDislike",{})},{text:"举报",key:"",handler:e=>A(e,s?"liveModalliveTipoff":"liveViewliveTipoff",{})},{text:d?"在新标签页打开直播间":"进入直播间",key:"",disabled:(0,c.DT)()&&d,handler:e=>A(e,s?"liveModalInLiveDetail":"liveViewInLiveDetail",{})},{text:"独立窗口显示",key:"",useRedDot:!0,disabled:!I,redDotKey:k.LocalStorageKeys.MultiWindowMenuListRedDot,handler:e=>{i(!1),A(e,"createMultitaskingWindow",{})}}].filter(e=>!e.disabled)},[A,w,s,I,(0,c.DT)(),i]),P=(0,Q.useMemo)(()=>[{text:"不想看直播",handler:e=>A(e,s?"liveModalliveDislikeLive":"liveViewliveDislikeLive",{})},{text:"不想看这类内容",handler:e=>A(e,s?"liveModalliveDislikeContent":"liveViewliveDislikeContent",{})},{text:"不想看该主播",handler:e=>A(e,s?"liveModalliveDislikeAnchor":"liveViewliveDislikeAnchor",{})}],[A,s]);return l&&(0,a.jsxs)(Q.Fragment,{children:[(0,a.jsx)("div",{id:eV.livecontextMenuContainer,style:{top:f.y,left:f.x},ref:y,children:S.map(e=>(0,a.jsxs)("div",{id:eV.livecontextMenuItem,onClick:e.handler,children:[(0,a.jsx)("div",{className:eV.itemText,children:e.text}),e.key&&(0,a.jsxs)("div",{className:eV.itemTip,children:["（",e.key,"）"]}),e.useRedDot&&(0,eU.H)(e.redDotKey)&&(0,a.jsx)("div",{className:U()(eV.itemRedDotBox,{[eV.itemMarginLeft]:!e.key}),children:(0,a.jsx)("div",{className:eV.itemRedDot})})]},e.text))}),_&&(0,a.jsx)("div",{id:eV.livecontextMenuContainer,style:{top:m.y,left:m.x},ref:y,children:P.map(e=>(0,a.jsx)("div",{id:eV.livecontextMenuItem,onClick:e.handler,children:(0,a.jsx)("div",{className:eV.itemText,children:e.text})},e.text))})]})}var eZ=n("720902"),eG=n("332071"),eK=n("578126"),ez=n("687036"),eW=n("115627"),eQ=n("266754"),eq=n("540075"),eX=n("693744"),eY=e=>{let{count:t,type:n,className:l,textClassName:i,hideCount:r}=e,o={comment:eQ.Z,share:eX.Z,more:eq.Z};return(0,a.jsx)(a.Fragment,{children:n&&(0,a.jsx)(eW.Z,{src:o[n],viewBox:"0 0 36 36",height:36,width:36})})},eJ={livemoreIcon:"xZN7OUh7",livemoreBoxlist:"ESteOWem",livemoreBox:"fMUcRuaY",itemWrap:"niJvyFAo",itemIcon:"EGEcAtiX",itenDesc:"Qv_eCw8T"},e$="OWCwfCff",e0="luzLQ6Wn",e1="Xp5ORgO6",e2="q6LfY5C9",e3="DDeV7DqN",e7="_p1PLXgt",e5="iKGqI8AB",e6=n("26770");let e4=(0,Q.forwardRef)((e,t)=>(0,a.jsx)("svg",(0,o._)((0,r._)({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{d:"M11.771 13.185a1 1 0 0 0 1.414-1.414l-3.771-3.77 3.771-3.772a1 1 0 0 0-1.414-1.414L8 6.585l-3.771-3.77a1 1 0 0 0-1.415 1.414L6.586 8l-3.772 3.771a1 1 0 1 0 1.415 1.414l3.77-3.77 3.772 3.77z",fill:"#fff",fillOpacity:".8"})})));var e8=n("309931"),e9=e=>{let{show:t=!1,Comp:n}=e,l=Q.useRef(null);Q.useEffect(()=>{var e;let i=document.getElementById("slideMode")||document.getElementsByClassName("xgplayer-fullscreen-parent")[0]||document.getElementsByClassName("isCssFullScreen")[0],r=document.querySelector(".modal-video-container");(null===(e=P.Le.getConfig(P.gI.IsPageFullScreen))||void 0===e?void 0:e.type)||i?r=i:!r&&(r=document.getElementById("root")),t?(l.current=document.createElement("div"),null==r||r.appendChild(l.current),e8.render(n,l.current)):l.current&&(null==r||r.removeChild(l.current))},[t])},te=e=>{let{className:t,show:n=!1,setShow:l}=e,i=(0,e6.f)(e=>e.qrcodeUrl);return e9({show:n,Comp:(0,a.jsx)("div",{className:U()(e$,{isDark:!0}),style:{display:n?"flex":"none"},children:(0,a.jsxs)("div",{className:U()(e2,t),children:[(0,a.jsx)("div",{className:e0,children:(0,a.jsx)(eW.Z,{src:e4,className:e1,width:16,height:16,viewBox:"0 0 16 16",onClick:()=>l(!1)})}),(0,a.jsx)("img",{className:e3,src:i,alt:""}),(0,a.jsx)("p",{className:e7,children:"扫码观看"}),(0,a.jsx)("p",{className:e5,children:"打开抖音APP扫描二维码可以进行更多互动"})]})})}),null};function tt(e){let{setMoreBoxLog:t,sideMoreBox:n,setSideMoreBox:l,sortDislike:i,showPhone:o=!1,menuStyle:u={},iconStyle:s}=e,[d,c]=(0,Q.useState)(!1),[v,f]=(0,Q.useState)(!1),p=(0,Q.useRef)(null),m=(0,Q.useRef)(null);m.current=l;let h=(0,Q.useRef)(null),_=(0,Q.useCallback)(e=>{l(!0),i()},[l,i]),g=e=>{var t;if(null===(t=p.current)||void 0===t?!void 0:!t.contains(e.target))m.current(!1)};(0,Q.useEffect)(()=>(document.addEventListener("click",g,!0),()=>{document.removeEventListener("click",g,!0),l(!1),c(!1)}),[]);let y=(0,Q.useCallback)(e=>{let t=new CustomEvent("liveViewDotliveTipoff");e.nativeEvent.target.dispatchEvent(t)},[]),w=(0,Q.useCallback)(()=>{!d&&t&&t(),h.current&&clearTimeout(h.current),c(!0)},[d]),E=(0,Q.useCallback)(()=>{h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{c(!1)},50)},[]),x=(0,Q.useMemo)(()=>[{icon:eK.Z,desc:"不感兴趣",key:"notInterestingIconMore",onClick:e=>_(e),iconStyle:{}},{icon:eG.Z,desc:"举报",key:"report",onClick:e=>y(e),iconStyle:{}}].concat(o?[{icon:ez.Z,iconStyle:{viewBox:"0 0 42 42"},desc:"手机观看",key:"phoneWatchSvgMore",onClick:e=>f(!0)}]:[]),[_,y,o]),C=(0,Q.useMemo)(()=>[{text:"不想看直播",onClickCallback:e=>{e.stopPropagation();let t=new CustomEvent("liveViewDotliveDislikeLive");e.nativeEvent.target.dispatchEvent(t)}},{text:"不想看这类内容",onClickCallback:e=>{e.stopPropagation();let t=new CustomEvent("liveViewDotliveDislikeContent");e.nativeEvent.target.dispatchEvent(t)}},{text:"不想看该主播",onClickCallback:e=>{e.stopPropagation();let t=new CustomEvent("liveViewDotliveDislikeAnchor");e.nativeEvent.target.dispatchEvent(t)}}],[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:eJ.livemoreIcon,onMouseEnter:w,onMouseLeave:E,style:s,children:(0,a.jsx)(eY,{type:"more"})}),(0,a.jsx)("div",{id:eJ.livemoreBox,style:(0,r._)({display:d&&!n?"flex":"none"},null!=u?u:{}),onMouseEnter:()=>{c(!0),h.current&&clearTimeout(h.current)},onMouseLeave:()=>c(!1),children:x.map(e=>{var t,n;return(0,a.jsxs)("div",{className:eJ.itemWrap,onClick:e.onClick,children:[(0,a.jsx)("div",{className:eJ.itemIcon,children:(0,a.jsx)(eW.Z,{src:e.icon,height:36,width:36,viewBox:(null==e?void 0:null===(t=e.iconStyle)||void 0===t?void 0:t.viewBox)?null==e?void 0:null===(n=e.iconStyle)||void 0===n?void 0:n.viewBox:"0 0 36 36"})}),(0,a.jsx)("div",{className:eJ.itenDesc,children:e.desc})]},e.key)})}),n&&(0,a.jsx)("div",{id:eJ.livemoreBoxlist,ref:p,children:C.map((e,t)=>(0,a.jsx)("div",{onClick:t=>null==e?void 0:e.onClickCallback(t),children:null==e?void 0:e.text},null==e?void 0:e.text))}),o&&(0,a.jsx)(te,{className:"",show:v,setShow:f})]})}var tn=n("342934"),tl=n("773512"),ti={RECOMMEND:253,253:"RECOMMEND",FOLLOW:254,254:"FOLLOW"},tr={TEXTANDICON:1,1:"TEXTANDICON",IMG:2,2:"IMG",AVATAR:3,3:"AVATAR"},to={liveRecommendCard:"Cyg3NRKX","video-hidden":"ikuAOdDu",previewAdCard:"gXC7sGMf",liveCloseButton:"uCWj3Rm8",smallWindow:"uodC_r9Q",mask:"OuO5I1Gb",divide:"czRvQ5TZ",isSmallWindow:"XO24XNrO",isHoverSmallWindow:"aMP2fMtD",inActive:"x9jqrlW9",infoAB:"g6uYwcLf",info:"BSzwypvk",vipLiveBoundaryShow:"Dn7BsdZC",linkMicPreview:"dJd_6627",playerContentMask:"mKdkQS0p",firefoxContentMask:"qKWPqUdE",firefoxSwitch:"eTQLToJU",player:"yj4y8UT_",shadow:"U7gcCR5G",isChildRouteReady:"BXMs2bhQ","xgplayer-volume":"Kfhor4Gg","xgplayer-slider":"tIJGJ6RZ","xgplayer-value-label":"rgSIYOwp","xgplayer-bar":"tri7m5uG",autoOpacty:"w3BeIHGt",toolbarContainer:"aovXuzyA",hasLiveDivideBtn:"L6Z8j7Lb",autoPlaySwitch:"Otd0wzgp",autoHideControl:"FIoGP7jp",smallLive:"VtWY_XTN",hover:"eIGSjQeO",rightSmallWindow:"eIKNZmyJ",noraml:"nLp9LocF",smallBox:"EJ5myknj",liveCommonTag:"ItowuRiE",liveMask:"QbvJXdCH"},ta=n("387207"),tu=n("267542"),ts=n("192677");n("413806"),n("268917");var td=n("829097"),tc=n("567754");let tv=new Map([[3,"操作成功，将减少直播推荐"],[1,"操作成功，将减少此类直播推荐"],[2,"操作成功，将减少此类主播推荐"]]),tf=async e=>{let{eventName:t,request_location:n,logCommonParams:l,requestdislike:i,deleteCurrentSwiper:a,adData:u}=e,s=0;switch(t){case"liveDislikeLive":s=3,ts.Z.sendLog("livesdkLiveDislikeSortClick",(0,o._)((0,r._)({},l),{request_location:n,dislike_type:"dislike_live"})),ts.Z.sendLog("livesdkDislike",(0,o._)((0,r._)({},l),{request_location:n,dislike_type:"dislike_live",play_position:"hover"}));break;case"liveDislikeContent":s=1,ts.Z.sendLog("livesdkLiveDislikeSortClick",(0,o._)((0,r._)({},l),{request_location:n,dislike_type:"dislike_content"})),ts.Z.sendLog("livesdkDislike",(0,o._)((0,r._)({},l),{request_location:n,dislike_type:"dislike_content",play_position:"hover"}));break;case"liveDislikeAnchor":s=2,ts.Z.sendLog("livesdkLiveDislikeSortClick",(0,o._)((0,r._)({},l),{request_location:n,dislike_type:"dislike_anchor"})),ts.Z.sendLog("livesdkDislike",(0,o._)((0,r._)({},l),{request_location:n,dislike_type:"dislike_anchor",play_position:"hover"}));break;default:return}try{if(u){let e=!1;if(1===u.ad_source_type){var d;e=!!(null===(d=u.lynx_components)||void 0===d?void 0:d.find(e=>(null==e?void 0:e.lynx_type)===x.ad.AD_FEED_TYPE))&&(u.group_type===E.AdGroupType.Live||u.group_type===E.AdGroupType.VideoForLive)}else e=u.group_type===E.AdGroupType.Live||u.group_type===E.AdGroupType.VideoForLive;e&&((0,td.j$)({creative_id:u.creative_id,log_extra:u.log_extra,dislike_ad_type:"aweme_webcast",reason_id:s}),(0,y.E)("otherclick",{value:u.creative_id,log_extra:u.log_extra,refer:"feedback_button",right_click:"dislike"}))}let{data:e={}}=await i(s);(null==e?void 0:e.status_code)===0?ev.F.info(tv.get(s)):ev.F.info("网络错误，请稍后再试"),a()}catch(e){}},tp=e=>{let{href:t="",enterLogParams:n={}}=e;if(!t)return"";let[l,i]=t.split("?",2),o=[],a=(0,r._)({},n),u=(0,tc.stringify)(a);return(u&&o.push(u),i&&o.push(i),o.length>0)?[l,o.join("&")].join("?"):t};var tm=n("268458"),th=n("184468"),t_=n("169961"),tg=n("212502"),ty=n("900327");let tw=e=>{let{roomId:t,isActive:n}=e,l=(0,Q.useRef)(null);return(0,Q.useEffect)(()=>{if(!!t&&!!n)try{let{prefetchRoomId:e,prefetchStream:n}=P.Le.getConfig(P.gI.FirstPreviewData)||{};n&&(e===t?l.current=n:(0,ty.SA)())}catch(e){}},[t]),l.current},tE=e=>{let{hasPlay:t,isEnd:n,nowTime:l,isActive:i,isPause:a,logCommonParams:u,recommendParams:s,isFollow:d}=e,c=Q.useRef(null);Q.useEffect(()=>{if(n){let e=Date.now()-l.current;(0,em.UH)((0,o._)((0,r._)((0,o._)((0,r._)({},u),{duration:e}),s),{has_play:t?1:0,is_visible:"1",follow_status:d})),l.current=Date.now()}},[n,t]),Q.useEffect(()=>(!i||a||n?clearInterval(c.current):l.current?c.current=setInterval(()=>{(0,em.UH)((0,o._)((0,r._)((0,o._)((0,r._)({},u),{duration:Date.now()-l.current,from_type:"useInterval"}),s),{has_play:t?1:0,is_visible:"1",follow_status:d})),l.current=Date.now()},1e4):l.current=Date.now(),()=>{clearInterval(c.current)}),[i,a,n,t])};var tx=n("655949"),tC=n("14973"),tb=n("911651"),tA=n("914592"),tk=n("613480"),tI=n("648408"),tS=n("957777"),tP=n("172061"),tj=n("175018"),tL=n("784492"),tN=n("944189");let tT=()=>{},tR=(0,er.rW)(tA.rl),tD=e=>e.metaKey||e.ctrlKey,tM=(e,t)=>{if(e.muted){e.muted=!1,e.volume="up"===t?.1:0;return}let n="up"===t?e.volume+.1:e.volume-.1;n=Math.max(n=Math.min(n,1),0),e.volume=n},tO=e=>{let{isFullscreen:t}=e;return(0,a.jsxs)(a.Fragment,{children:[t?"退出全屏":"进入全屏",(0,a.jsx)("span",{className:"shortcutKey",children:"H"})]})};var tF=e=>{let{useFull:t=!1,player:n,isActive:l,scene:i=E.PlayerScene.Follow}=e,[r,o]=(0,Q.useState)(!1),[,u]=(0,Q.useState)(1),{isCssFullScreen:s,fullScreenTarget:d}=(0,Q.useContext)(tk.C)||{},c=(0,Q.useRef)(null),v=(0,Q.useMemo)(()=>l&&(s||(null==n?void 0:n.fullscreen)),[s,null==n?void 0:n.fullscreen,l]);return(0,Q.useEffect)(()=>{let e=m.listen(m.EVENT.pageFullScreen,e=>{var t;let{fullScreen:l,oldFullScreen:i}=e,r=null!==(t=null!=i?i:w.s.getIsPageFullscreen())&&void 0!==t&&t,o=null!=l?l:!r;if((0,O.r)()&&o){if(w.s.getPlayersByScene(E.PlayerScene.Modal).length>0)return;null==n||n.exitFullscreen(),null==n||n.emit("switch_fullscreen",{fullscreen:!0,cssFullScreen:!0})}P.Le.setConfig(P.gI.IsPageFullScreen,{type:o})});return()=>{null==e||e()}},[]),(0,Q.useEffect)(()=>{if(n&&l){let e=n.getPlugin("PageFullScreenPlugin");e&&[E.PlayerScene.Follow,E.PlayerScene.Friend,E.PlayerScene.Recommend,E.PlayerScene.Topic].includes(w.s.getPlayerScene(n.playerId))&&e.updateConfig({mouseEnter:tT,player:n,isCtxCssFullScreen:s})}},[s]),(0,Q.useEffect)(()=>{if(n&&l){let e=e=>{u(e=>e+1),e&&w.s.getIsPageFullscreen()&&(w.s.setPageFullscreen({playerId:n.playerId,isPageFullscreen:!1}),m.emit(m.EVENT.pageFullScreen,{clickMethod:"fullscreen",fullScreen:!1,playerId:n.playerId}))};return n.on(eD.FP.FULLSCREEN_CHANGE,e),()=>{null==n||n.off(eD.FP.FULLSCREEN_CHANGE,e)}}},[n,l]),(0,Q.useEffect)(()=>{let e=e=>{if(e.shiftKey||e.metaKey||e.ctrlKey)return;let t=P.Le.getConfig(P.gI.DisableExit);"Escape"===e.code&&w.s.getPlayerIsPageFullscreen(null==n?void 0:n.playerId)&&n.isUserActive&&!t&&(w.s.setPageFullscreen({playerId:n.playerId,isPageFullscreen:!1}),m.emit(m.EVENT.pageFullScreen,{clickMethod:"esc",fullScreen:!1,playerId:n.playerId}))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[n]),(0,Q.useEffect)(()=>{let e=e=>{if(!e.shiftKey&&!e.metaKey&&!e.ctrlKey&&!!t){if("KeyY"===e.code&&n.isUserActive){let e=w.s.getPlayerIsPageFullscreen(null==n?void 0:n.playerId);w.s.setPageFullscreen({playerId:n.playerId,isPageFullscreen:!e}),m.emit(m.EVENT.pageFullScreen,{clickMethod:"Y",fullScreen:!e,playerId:n.playerId})}}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[n,t]),(0,Q.useEffect)(()=>{if(t){let e=e=>{if((null==e?void 0:e.pluginName)==="fullscreen"){let e=n.root.querySelector(".xgplayer-fullscreen .xg-tips");(0,tN.createRoot)(e).render((0,a.jsx)(tO,{isFullscreen:null==n?void 0:n.fullscreen}))}};if(n)return n.on("icon_mouseenter",e),()=>{n.off("icon_mouseenter",e)}}},[t,n]),(0,Q.useEffect)(()=>{if(!t){var e,l;let t=null==n?void 0:null===(l=n.root)||void 0===l?void 0:null===(e=l.querySelector)||void 0===e?void 0:e.call(l,".xgplayer-fullscreen");t&&(t.style.display="none")}let i=e=>{if(!!t&&!e.shiftKey&&!e.metaKey&&!e.ctrlKey){if("KeyH"===e.code&&n.isUserActive){var l,i;null===(i=n.plugins.fullscreen)||void 0===i||null===(l=i.changeFullScreen)||void 0===l||l.call(i)}}};return document.addEventListener("keydown",i),()=>{if(document.removeEventListener("keydown",i),!t){var e,l;let t=null==n?void 0:null===(l=n.root)||void 0===l?void 0:null===(e=l.querySelector)||void 0===e?void 0:e.call(l,".xgplayer-fullscreen");t&&(t.style.display="block")}}},[n,t]),(0,tL.Z)(()=>{if(l){var e,t;let n=null===(e=P.Le.getConfig(P.gI.IsInLookMiniModal))||void 0===e?void 0:e.isInMiniModal;s?!n&&(c.current=tj.F.info({text:"ESC或Y可退出网页全屏",zIndex:1e4})):null===(t=c.current)||void 0===t||t.call(c)}},[s]),(0,Q.useEffect)(()=>{let e=e=>{"Minus"===e.code&&!tD(e)&&e.shiftKey&&tM(n,"down"),"Equal"===e.code&&!tD(e)&&e.shiftKey&&tM(n,"up")};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[n]),(0,Q.useEffect)(()=>{n&&(n.__IS_LIVE__=!0)},[n]),(0,a.jsxs)(a.Fragment,{children:[t&&(0,a.jsx)(tR,{isCtxCssFullScreen:s,onSwitch:e=>{var t,l;n.fullscreen&&(null===(l=n.plugins.fullscreen)||void 0===l||null===(t=l.changeFullScreen)||void 0===t||t.call(l)),o(e)},containerTagName:"xg-icon",position:1,player:n,index:.5,hotKey:!0,on:r,mouseEnter:tT,containerClassName:"xgplayer-page-full-screen-1"}),(0,a.jsx)(tI.E.Provider,{value:{player:n},children:(0,a.jsx)(tS.p,{onRegisterSuccess:()=>{l&&w.s.setPageFullscreen({playerId:n.playerId,isPageFullscreen:v})},isActive:l,scene:i})}),v&&d&&e8.createPortal((0,a.jsx)(tP.P,{onClick:()=>{if(s){w.s.setPageFullscreen({playerId:n.playerId,isPageFullscreen:!1}),m.emit(m.EVENT.pageFullScreen,{clickMethod:"esc",fullScreen:!1,playerId:n.playerId});return}if(null==n?void 0:n.fullscreen){var e,t;null===(t=n.plugins.fullscreen)||void 0===t||null===(e=t.changeFullScreen)||void 0===e||e.call(t)}}}),d)]})},tV=n("787277"),tB=n("6858"),tU=n("337359"),tH=n("990530"),tZ=n("803263"),tG=n("456749"),tK=e=>{let{isActive:t,currentIndex:n,next:l,prev:i,logCommonParams:a,recommendParams:u,swiper:s}=e,d=(0,Q.useRef)(!0),c=Q.useCallback(function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"scroll";(0,em.Nz)((0,o._)((0,r._)({},a,u),{click_from:t})),e||null==l||l()},[l]),v=Q.useCallback(function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"scroll";if(0!==n)(0,em.O9)((0,o._)((0,r._)({},a,u),{click_from:t})),e||null==i||i()},[i,n]),f=Q.useCallback(()=>{c(!1,"auto")},[]);return Q.useEffect(()=>{if(t){if(d.current=!1,s){try{null==s||s.on("changeNext",c),null==s||s.on("changePrev",v)}catch(e){}return()=>{try{var e,t;null==s||null===(e=s.off)||void 0===e||e.call(s,"changeNext",c),null==s||null===(t=s.off)||void 0===t||t.call(s,"changePrev",v)}catch(e){}}}}else d.current=!0},[t,s]),Q.useEffect(()=>{let e=m.listen(m.EVENT.reportPlayNext,e=>{let{clickFrom:t}=e;"click_button"===t&&!d.current&&c(!1,t)}),t=m.listen(m.EVENT.reportPlayPrev,e=>{let{clickFrom:t}=e;"click_button"===t&&!d.current&&v(!1,t)});return()=>{t(),e()}},[]),{slideNext:c,slidePrev:v,autoNext:f}};n("209955");var tz=n("914104");let tW=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"preview-play-stack",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"preview-play-error",i=()=>{let l=e.play.bind(e);e.play=()=>{l();try{let e=(0,tz.OK)();!t()&&e("sendEvent",{name:n,categories:{stack:Error().stack,isActive:t()?"1":"0"}})}catch(e){}}};(0,Q.useEffect)(()=>{if(e&&e.play){var n;i();let r=()=>{try{if(!t()){var n;null==e||null===(n=e.pause)||void 0===n||n.call(e),(0,tz.OK)()("sendEvent",{name:l})}}catch(e){}};return null==e||null===(n=e.on)||void 0===n||n.call(e,"playing",r),()=>{try{var t;e&&(null==e||null===(t=e.off)||void 0===t||t.call(e,"playing",r))}catch(e){}}}},[e,t])};var tQ=n("559824"),tq={autoPlaySwitch:"KC6Dx6sr",xgTips:"GWfVs8ZV",shortcutKey:"A3S39Q1N"},tX="l917bdaw",tY="wizCsqyP",tJ="w4AWfvdM",t$="uxcMHhfW",t0="qocINgW7",t1="QkSkdrKn",t2=e=>{let{title:t,open:n,onSwitchChange:l,className:i,logCommonParams:o}=e,u=Q.useCallback(()=>{l(!n),(0,em.u7)((0,r._)({status:n?"off":"on"},o))},[n]);return(0,a.jsxs)("div",{className:U()(tX,i),children:[(0,a.jsx)("div",{className:U()(tJ,{[t1]:n}),onClick:u,children:(0,a.jsx)("div",{className:U()(t$,{[t0]:n})})}),(0,a.jsx)("span",{className:tY,children:t})]})};function t3(e){let{open:t}=e;return(0,a.jsxs)("div",{className:tq.xgTips,children:[t&&(0,a.jsx)("span",{children:"关闭自动连播"}),!t&&(0,a.jsx)("span",{children:"自动连播"}),(0,a.jsx)("span",{className:tq.shortcutKey,children:"K"})]})}var t7=e=>{let{title:t,className:n,open:l,onSwitchChange:i,logCommonParams:r,isActive:o,abtestData:u,keyBind:s=!0}=e,[d,c]=Q.useState(!1),v=Q.useCallback(e=>{("K"===e.key||"k"===e.key)&&!e.shiftKey&&(e.stopPropagation(),e.preventDefault(),i(!l))},[o,l,i]),f=Q.useMemo(()=>(null==u?void 0:u.liveFebruaryOptimize)===p.LiveFebruaryOptimize.On,[u]);return Q.useEffect(()=>(o&&f&&s&&document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}),[o,v,f,s]),(0,a.jsxs)("div",{className:U()(tq.autoPlaySwitch),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[d&&f&&(0,a.jsx)(t3,{open:l}),(0,a.jsx)(t2,{className:U()(tq.autoOpacty,n),title:t,open:l,onSwitchChange:i,logCommonParams:r})]})},t5=n("400582"),t6=n("392241"),t4=n("909543"),t8=n("479043"),t9=n("948375"),ne=n("797973"),nt=n("19670"),nn=n("944541"),nl=n("782580"),ni=n("692532"),nr=n("816627"),no="HdfqBCjz",na=n("739444"),nu=n("998415"),ns=n("88961"),nd=n("544845");let nc=Q.createContext({player:{}}),nv=()=>{let{player:e}=Q.useContext(nc);return{player:e}};var nf=n("734123");let np=new Map,nm=(e,t)=>()=>{if(0===e.currentTime)return;let n=e.volume;n!==(0,el.Sv)()&&((0,el.n$)(Number(null!=n?n:.1)),m.emit(m.EVENT.hightLightVolumeSync,{volume:n,source:t?"video":"live"}))};function nh(e){let{currentPlayer:t,isVideo:n,isActive:l,mainWindow:i,showType:r,anchorId:o,roomId:a,highLightInfo:u}=e,{player:s}=(0,eN.n)(),d=t||s,v=(0,Q.useMemo)(()=>nm(d,n),[]);(0,Q.useEffect)(()=>{let e=m.listen(m.EVENT.hightLightVolumeSync,e=>{let{volume:t,source:l}=e;l!==(n?"video":"live")&&(d.volume=t)});return()=>{e()}},[]);let f=(0,Q.useCallback)(e=>{if(!i)"change_muted"===e.action&&(0,em.ff)({show_type:r,event_page:"live",video_id:(null==u?void 0:u.videoId)||"",highlight_type:(null==u?void 0:u.hightLightType)||"",anchor_id:o,room_id:a,action_type:"",live_type:"",element_name:"voice",switch_status:(null==e?void 0:e.muted)?"off":"on"}),"switch_play_pause"===e.action&&(0,em.ff)({show_type:r,event_page:"live",video_id:(null==u?void 0:u.videoId)||"",highlight_type:(null==u?void 0:u.hightLightType)||"",anchor_id:o,room_id:a,action_type:"",live_type:"",element_name:"play",switch_status:e.paused?"off":"on"})},[i]);(0,Q.useEffect)(()=>(d.on(eD.FP.VOLUMECHANGE,v),null==d||d.on("user_action",f),()=>{d.off(eD.FP.VOLUMECHANGE,v),null==d||d.off("user_action",f)}),[]);let p=(0,Q.useCallback)(()=>{if(!l)return;let e=d.muted,t=np.get(a||"");t?(t.isMuted&&e?(0,el.w)(!0):(0,el.w)(!1),np.delete(a||"")):np.set(a||"",{isVideo:n,isMuted:e})},[l]);return(0,Q.useEffect)(()=>{let e="onpagehide"in self?"pagehide":"unload";return(0,c.DT)()?window.addEventListener("beforeunload",p):window.addEventListener(e,p),()=>{(0,c.DT)()?window.removeEventListener("beforeunload",p):window.removeEventListener(e,p)}},[p]),null}let n_=(0,Q.forwardRef)((e,t)=>{var n,l,i;let{src:u,options:s,overStop:d=!1,onStop:c,onStart:v,onTick:f,onPlay:p,onError:m,isActive:h=!1,mainWindow:g=!0,highLightInfo:y={},showType:w,anchorId:E="",roomId:x=""}=e,C=(0,Q.useRef)(null),b=(0,Q.useRef)(0),A=(0,Q.useRef)(0),[k]=(0,ns.Z)(),[I,S]=(0,Q.useState)(0),P=(0,Q.useRef)([]),j=(0,Q.useCallback)(e=>{var t;(null===(t=C.current)||void 0===t?void 0:t.getPlayer())?C.current.getPlayer().muted=e:P.current=[...P.current,{muted:e}]},[]),L=(0,Q.useCallback)(()=>{var e,t,n;(null===(e=C.current)||void 0===e?void 0:e.getPlayer())?null===(n=C.current.getPlayer())||void 0===n||null===(t=n.play)||void 0===t||t.call(n):P.current=[...P.current,{play:!0}]},[]),N=(0,Q.useCallback)(e=>{var t;(null===(t=C.current)||void 0===t?void 0:t.getPlayer())?C.current.getPlayer().volume=e:P.current=[...P.current,{volume:e}]},[]);(0,Q.useImperativeHandle)(t,()=>({getPlayer:()=>C.current.getPlayer(),mute:j,setVolume:N,play:L}),[j,N,L]);let T=(0,Q.useMemo)(()=>{let e=(0,r._)({},(0,na.k)({}),s);return(0,o._)((0,r._)({},e),{url:u,vtype:"MP4",dynamicBg:{disable:(0,_.vU)(),frameRate:10,filter:"blur(60px)",maskBg:"var(--player-background)"},ignores:e.ignores.concat(["fullscreen","progress","time","shot"])})},[s,u]),R=(0,Q.useCallback)(e=>{S(e=>e+1);let t=P.current||[],n=t.findIndex(e=>e.play);-1!==n&&(e.play(),t.splice(n,1))},[]);(0,Q.useEffect)(()=>{C.current&&(null==v||v())},[C.current]);let D=(0,Q.useCallback)(e=>{let t=0;if(t=e.currentTime<b.current?e.currentTime:e.currentTime-b.current,b.current=e.currentTime,A.current+=t,null==f||f(A.current),A.current>=15){if(d)null==c||c();else{var n,l,i;A.current=0,null===(i=C.current)||void 0===i||null===(l=i.getPlayer())||void 0===l||null===(n=l.seek)||void 0===n||n.call(l,0)}}},[d,c,f]),M=(0,Q.useCallback)(()=>{(0,em.Us)(),P.current.forEach(e=>{void 0!==e.muted&&(C.current.getPlayer().muted=e.muted),void 0!==e.volume&&(C.current.getPlayer().volume=e.volume)}),P.current=[],null==p||p()},[C.current,p]),O=(0,Q.useCallback)(()=>{(0,em.D3)({show_type:w,event_page:"live",video_id:(null==y?void 0:y.videoId)||"",highlight_type:(null==y?void 0:y.hightLightType)||"",anchor_id:E,room_id:x,action_type:""})},[]),F=(0,Q.useCallback)(e=>{null==m||m(e)},[m]);return(0,nd.Z)(()=>{(0,em.D3)({show_type:w,event_page:"live",video_id:(null==y?void 0:y.videoId)||"",highlight_type:(null==y?void 0:y.hightLightType)||"",anchor_id:E,room_id:x,action_type:""})}),(0,Q.useEffect)(()=>{var e;let t=null===(e=C.current)||void 0===e?void 0:e.getPlayer();return null==t||t.on(nf.Events.TIME_UPDATE,D),null==t||t.on(nf.Events.PLAY,M),null==t||t.on(nf.Events.ERROR,F),null==t||t.on(nf.Events.PAUSE,O),()=>{null==t||t.off(nf.Events.TIME_UPDATE,D),null==t||t.off(nf.Events.PLAY,M),null==t||t.off(nf.Events.PAUSE,O),null==t||t.off(nf.Events.ERROR,F)}},[D,f,M,O,F,C.current]),(0,Q.useEffect)(()=>{let e;let t=e=>{null==e||e.stopPropagation()};if(C.current){var n;let l=C.current.getPlayer();null==(e=null==l?void 0:null===(n=l.getPlugin("volume"))||void 0===n?void 0:n.root)||e.addEventListener("pointerdown",t),null==e||e.addEventListener("touchstart",t)}return()=>{null==e||e.removeEventListener("pointerdown",t),null==e||e.removeEventListener("touchstart",t)}},[I]),(0,a.jsx)(nu.f,(0,o._)((0,r._)({},e),{xgplayerConfig:T,isInitPlayer:!0,style:{height:"100%",width:"100%"},className:U()(no,e.className,"highlightPlayer"),ref:C,playerDOMRef:k,onReady:R,children:C.current&&(0,a.jsxs)(nc.Provider,{value:{player:null===(n=C.current)||void 0===n?void 0:n.getPlayer()},children:[e.children,(null===(l=C.current)||void 0===l?void 0:l.getPlayer())&&(0,a.jsx)(nh,{showType:w,anchorId:E,roomId:x,highLightInfo:y,mainWindow:g,isActive:h,isVideo:!0,currentPlayer:null===(i=C.current)||void 0===i?void 0:i.getPlayer()})]})}))});var ng=n("368200");n("981168");var ny={pluginContainer:"pUihJEpJ"};let nw={controlsLeft:".xg-left-grid",controlsRight:".xg-right-grid",controlCenter:".xg-center-grid",controlBottom:".xgplayer-controls",rootTop:".xg-top-bar",rootLeft:".xg-left-bar",rootRight:".xg-right-bar"};var nE=n("493986"),nx={lightMask:"wkCe0MRv",header:"opFcYZtu",title:"X_8ialke",closeIcon:"d9FV1Iy2",content:"jw87w2Ly",playIcon:"dWmsurjC",poster:"U1Hq0AAL"};let nC=e=>{let{highLightInfo:t={},onClose:n=K(),showSmallVideo:l=!1,setShowSmallVideo:i=K()}=e,r=(0,Q.useCallback)(W()(()=>{i(!0)},300,{leading:!0,trailing:!1}),[]);return(0,a.jsxs)("div",{className:nx.lightMask,onMouseMove:r,children:[(0,a.jsxs)("div",{className:nx.header,children:[(0,a.jsx)("div",{className:nx.title,children:t.guideText||"高光时刻"}),(0,a.jsx)("div",{className:nx.closeIcon,onClick:()=>{n()}})]}),!l&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:nx.content,children:[(0,a.jsx)("img",{className:nx.poster,src:t.cover}),(0,a.jsx)("div",{className:nx.playIcon})]})})]})};var nb=n("629163"),nA=n("414678"),nk=n("443024");let nI=(0,er.rW)(t7);let nS=(l=t7,e=>{let{index:t,position:n,containerClassName:i,containerTagName:o="div"}=e,u=(0,ng._)(e,["index","position","containerClassName","containerTagName"]),{player:s}=nv();if(!s)return null;let d=Q.useMemo(()=>{if(n)return nf.Util.findDom(s.root,nw[n])},[n]);return Q.useEffect(()=>{d&&Array.from(d.children).sort((e,t)=>Number(e.dataset.index||Number.MAX_SAFE_INTEGER)-Number(t.dataset.index||Number.MAX_SAFE_INTEGER)).forEach(e=>d.appendChild(e))},[d]),d?e8.createPortal(Q.createElement(o,{"data-index":t,className:U()(ny.pluginContainer,i,"pluginContainer")},(0,a.jsx)(l,(0,r._)({},u))),d):Q.createElement(o,{"data-index":t,className:U()(ny.pluginContainer,i,"pluginContainer")},(0,a.jsx)(l,(0,r._)({},u)))});var nP={LIVEVIEW:"live_view",LIVEVIEWDOT:"live_view_dot"};let nj=!1;!$.s&&(nj=(null===(i=navigator.userAgent)||void 0===i?void 0:i.indexOf("Firefox"))!==-1);let nL=e=>{let{player:t}=(0,eN.n)();Q.useRef([]);let n=(0,t4.a)(),l=(0,d.Nr)(n.pathname);return t&&!l?e.children:null},nN=Q.forwardRef((e,t)=>{var n,l,i,B,H,G,z,er,ea,eu,es,ed,ec,ev,ef,ep,eh,eC,eb,eA,ek,eI,eN,eR,eD,eV,eB;let[eU,eG]=Q.useState(!1),{flvSrc:eK,hlsSrc:ez,bitrate:eW,resolutions:eQ,userCount:eq,anchorId:eX,roomId:eY,title:eJ,cover:e$,userName:e0,className:e1,style:e2,gameName:e3,next:e7,prev:e5,isAutoNext:e4,onAutoNextChange:e8,sessionId:e9,isActive:te,isEnd:tr,webRid:td,secUid:tv,onClick:tA,logParams:tk,fullScreenRoot:tI,isFullScreen:tS,onFullScreenChange:tP,insertTaskId:tj,liveReason:tN,sceneId:tT=ti.RECOMMEND,isPause:tR=!0,deleteCurrentSwiper:tD,abtestData:tM,episodeExtra:tO,isPageFullScreen:tz,from:tq,isHardAd:tX=!0,swiper:tY,width:tJ=0,height:t$=0,tab:t0,userInfo:t1={},onLoginSuccess:t2,isShowCartInFeed:t3=!1,isSmallWindow:t7=!1,clickSmallWindow:t4,adData:no,isInsertAd:na,changeStatus:nu,onLoaded:ns,onLoadStart:nd,followInfo:{follow_status:nc=0}={},loggerOptions:nv={},paidLiveData:nf,secretKey:np,rawdata:nm,showShadow:ng=!0,isHoverSmallWindow:ny=!1,dispatch:nw,scene:nx="aweme_video_feed_pc",isVideoSupportMP4:nN=!0,roomInfo:nT,isShowGuide:nR,useNewUserSoundGuide:nD,mouseEnterHandler:nM,mouseLeaveHandler:nO,disableReuse:nF,seasonId:nV,currentIndex:nB,autoEnterRoomId:nU,originData:nH,resolutionUrl:nZ,playMode:nG="normal",highLightInfo:nK={},isNext:nz}=e,nW=`f_${td}`,nQ=Q.useRef(!1),nq=Q.useRef(),nX=Q.useMemo(()=>{var e;return!!(null===(e=(0,tc.parse)(location.search))||void 0===e?void 0:e.webRid)},[]),[nY,nJ]=Q.useState(!1),[n$,n0]=Q.useState(!te||nX),[n1,n2]=Q.useState(2),[n3,n7]=Q.useState(0),[n5,n6]=Q.useState({}),n4=Q.useRef(!1),[n8,n9]=Q.useState(!1),[le,lt]=Q.useState(void 0),[ln,ll]=Q.useState(void 0),[li,lr]=Q.useState(0),[lo,la]=Q.useState(!1),[lu,ls]=Q.useState(t7?"normal":nG),ld=Q.useRef(null),[lc,lv]=Q.useState(!1),lf=Q.useRef(!1),lp=(0,d.Nr)(location.pathname),[lm,lh]=Q.useState(!1),[l_,lg]=Q.useState(!1),ly=Q.useRef(),lw=Q.useRef({}),lE=Q.useRef(!1),lx=Q.useRef(null),lC=Q.useMemo(()=>{var e,t;return(null===(t=n5[td])||void 0===t?void 0:null===(e=t.scopes)||void 0===e?void 0:e.indexOf("FEED"))>-1?n5[td]:null},[n5,td]),lb=(null==lC?void 0:lC.url)||(0,tl.h)(td),{isFeedH265:lA,addH265ErrorNum:lk,resetH265ErrorNum:lI,isLowH265:lS,disable265Reason:lP}=(0,tZ.Z)({abtestData:tM,tab:t7?"livehead":t0}),[lj,lL]=Q.useState(!1),lN=(0,Q.useMemo)(()=>{let e=(0,c.tq)(),t=s(),n=lA&&!lj&&!e&&t;return!n&&(0,nt.WH)("feed_disbale_h265",(0,r._)({isFeedH265:lA,isH265Err:lj,enable265:n,isSupportedResult:t},lP)),n},[lA,lj]),lT=lS&&!lj,lR=(0,tV.Bq)({room:nT,abtestData:tM,isFeedH265:lN,isLowH265:lT}),[lD,lM]=Q.useState(!1),lO=null==q?void 0:Q.useRef();lO.current=lD;let[lF,lV]=Q.useState(!1),lB=Q.useRef(!0),lU=Q.useRef(),lH=Q.useRef(),lZ=Q.useRef(!1),[lG,lK]=Q.useState(!1),lz=no?(0,v.e1)({rawAdData:no}):{},lW=Q.useRef(!0),lQ=Q.useRef(0),lq=Q.useRef(0),lX=Q.useRef(!1),[lY,lJ]=Q.useState(!1),[l$,l0]=Q.useState(!1);Q.useRef(!1);let l1=Q.useRef(0),{syncVolume:l2,liveModalFullplayer:l3}=(0,t_.T)(),l7=Z()(t1,"isLogin",!1),l5=Z()(t1,"info.shortId",""),[l6,l4]=Q.useState(!1),l8=Math.round(tJ/t$*100)/100,l9=tw({roomId:eY,isActive:te}),ie=null==q?void 0:Q.useMemo(()=>{if(t0&&"recommend"===t0)return{aspect_ratio:l8,from_landscape_tab:1}},[t0]);Q.useEffect(()=>{te&&lJ(!0)},[te]);let{viewType:it,setViewType:il,retType:ii,setRetType:ir,paidLiveData:io,setPaidLiveData:ia,isPaidLive:iu,hideLinkMicPreview:is,showEnter:id}=(0,eo.M)(nf,l7),ic=(0,f.F)(null==e?void 0:null===(n=e.followInfo)||void 0===n?void 0:n.follow_status)?1:0,{volumeBalance:iv,februaryOptimize:ip}=Q.useMemo(()=>({volumeBalance:!1,februaryOptimize:(null==tM?void 0:tM.liveFebruaryOptimize)===p.LiveFebruaryOptimize.On}),[tM]),{inActive:im}=(0,tG.Z)({isFullScreen:tS,isActive:te});Q.useEffect(()=>{try{localStorage.removeItem("hasPlay")}catch(e){}let e=m.listen(m.EVENT.syncInteraction,()=>{var e,t;let n=null===(t=lw.current)||void 0===t?void 0:null===(e=t.getPlayer)||void 0===e?void 0:e.call(t);n&&!t7&&(n.muted=(0,el.rC)(),n.volume=(0,el.T1)())});return()=>null==e?void 0:e()},[t7]);let ih=null==q?void 0:Q.useMemo(()=>({is_livehead_preview_mini_window_show:"1",mini_window_show_type:ny?"mouse_hover":t7?"automatic":""}),[t7,ny]),i_=null==q?void 0:Q.useMemo(()=>{var e;return{enter_from_merge:null==tk?void 0:tk.enter_from_merge,enter_method:"web_live_cell",anchor_id:eX,room_id:eY,action_type:"click",request_id:tk.request_id,live_position:"number"==typeof nB?null===(e=nB+1)||void 0===e?void 0:e.toString():"",log_pb:tk.request_id,insert_task_id:tj,cid:(null==no?void 0:no.creative_id)||0,stream_type:l8>1?ei.FO["2"]:ei.FO["1"],is_small_window:t7?1:0,tab_name:t0}},[eX,eY,tk,no,nB]),ig=Q.useMemo(()=>({is_paidlive:Number(iu),watch_paidlive_status:(0,et.oD)(it),entrance_form:""}),[iu,it]),iy=Q.useMemo(()=>({enter_method:"web_live_cell",enter_from_merge:null==tk?void 0:tk.enter_from_merge,event_page:"live",tab_name:t0}),[tk]),{playerTeaEvtSubmit:iw,setStreamReceived:iE}=(0,tx.Z)({from:"sliderCard",player:null===(i=lw.current)||void 0===i?void 0:null===(l=i.getPlayer)||void 0===l?void 0:l.call(i),isRoomEnd:0===n1,eventParams:i_,isH265:!1,isActive:te});tE({hasPlay:lG,isEnd:tr,nowTime:lU,isActive:te,isPause:n$,logCommonParams:i_,recommendParams:ie,isFollow:ic});let{isShow:ix}=(0,h.BJ)({isActive:te,timeout:5e3,delay:1e3,immediately:!(0,_.b_)(),once:!0}),iC=Q.useCallback(async e=>{try{return await (0,g._)({owner_uid:eX,request_id:tk.request_id,room_id:eY,enter_from_merge:tk.enter_from_merge,enter_method:"web_live_cell",reason:e})}catch(e){return}},[eX,tk,eY]),ib=Q.useCallback(e=>(t,n)=>{ts.Z.sendLog("livesdkReportReasonSubmit",{room_id:eY,reason:t,detail:n,enter_from_merge:null==tk?void 0:tk.enter_from_merge,anchor_id:eX,enter_method:"web_live_cell",game_name:e3,request_location:e}),no&&(0,y.E)("otherclick",{value:no.creative_id,log_extra:no.log_extra,refer:"feedback_button",right_click:"report"})},[eX,e3,eY,null==tk?void 0:tk.enter_from_merge,no]),iA=Q.useCallback(()=>{ts.Z.sendLog("livesdkReportButtonClick",{room_id:eY,game_name:e3,anchor_id:eX,enter_method:"web_live_cell",request_location:"live_view",play_position:"hover",live_status:tz?"web_full":tS?"full":"normal",is_comments_fold:0}),(0,u.m)({title:"举报本场直播",type:"live",object_id:"live_id",onLiveReport:ib("live_view"),isOrigin:!0,pipeline_id:"",owner_id:"",enter_from:"",userInfo:t1})},[eX,e3,ib,eY]),ik=Q.useCallback(()=>{ts.Z.sendLog("livesdkReportButtonClick",{room_id:eY,game_name:e3,anchor_id:eX,enter_method:"web_live_cell",request_location:"live_view_dot",play_position:"hover",live_status:tz?"web_full":tS?"full":"normal",is_comments_fold:0}),(0,u.m)({title:"举报本场直播",type:"live",object_id:"live_id",onLiveReport:ib("live_view_dot"),isOrigin:!0,pipeline_id:"",owner_id:"",enter_from:"",userInfo:t1})},[eX,e3,ib,eY]),iI=Q.useCallback(e=>{var t,n,l,i,r,o,a;if((null==e?void 0:e.shiftKey)||(null==e?void 0:e.metaKey)||(null==e?void 0:e.ctrlKey)||(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.nodeName)==="INPUT"||(null==e?void 0:null===(n=e.target)||void 0===n?void 0:n.nodeName)==="TEXTAREA"||(null==e?void 0:null===(l=e.target)||void 0===l?void 0:l.contentEditable)==="true")return;let u=null===w.s||void 0===w.s?void 0:w.s.getPlayersByScene(null==E?void 0:null===(i=E.PlayerScene)||void 0===i?void 0:i.Modal);if(!((null==u?void 0:u.length)>0))e.code===(null==x?void 0:null===(a=x.shortcut)||void 0===a?void 0:null===(o=a.getShortcut({from:"live"}))||void 0===o?void 0:null===(r=o.dislike)||void 0===r?void 0:r.code)&&te&&nN&&(lO.current?lV(!1):(lV(!0),lM(!1)))},[lO,te,nN]),[iS,iP,ij,iL,iN,iT,iR]=Q.useMemo(()=>[["",""],["liveDislikeLive","live_view"],["liveDislikeContent","live_view"],["liveDislikeAnchor","live_view"],["liveDislikeLive","live_view_dot"],["liveDislikeContent","live_view_dot"],["liveDislikeAnchor","live_view_dot"]].map(e=>{let[t,n]=e;return()=>tf({eventName:t,request_location:n,logCommonParams:(0,o._)((0,r._)({},i_),{live_status:tz?"web_full":tS?"full":"normal",is_comments_fold:0}),requestdislike:iC,deleteCurrentSwiper:tD,adData:no})}),[tD,i_,iC,no]);Q.useEffect(()=>{if(te){let e=(0,C.G7)((0,r._)({},i3,lz),lb),t={liveDislike:iS,liveViewliveTipoff:iA,liveViewDotliveTipoff:ik,liveViewliveDislikeLive:iP,liveViewliveDislikeContent:ij,liveViewliveDislikeAnchor:iL,liveViewDotliveDislikeLive:iN,liveViewDotliveDislikeContent:iT,liveViewDotliveDislikeAnchor:iR,liveViewInLiveDetail:()=>{i6({isDirectOpen:!0}),window.open(e,(0,b.f)()?"_self":"_blank")},createMultitaskingWindow:()=>{i6({isDirectOpen:!0}),(0,A.qQ)(k.LocalStorageKeys.MultiWindowMenuListRedDot,1),(0,I.handleCreateMultitaskWindow)(tM,e,"right_click_menu",!0)},keydown:iI};return Object.entries(t).forEach(e=>{let[t,n]=e;document.addEventListener(t,n,!0)}),()=>{Object.entries(t).forEach(e=>{let[t,n]=e;document.removeEventListener(t,n,!0)})}}},[te,tM]),Q.useEffect(()=>{(async()=>{try{let e=await (0,S.ZP)({service_name:"webcast.douyin.live_pc",key:"entrance"});lg(!0),"object"==typeof e&&n6(e)}catch(e){lg(!1)}})()},[]),Q.useEffect(()=>{lE.current?n0(tR):lE.current=!0},[tR]);let iD=Q.useMemo(()=>(0,c.tq)()?ez:s()?((0,nt.qu)("LiveSliderCardNewSrc: ",JSON.stringify({redirectUrl:null==nT?void 0:nT.redirectUrl,isH265Err:lj,previewUrl:null==lR?void 0:lR.url,flvSrc:eK},null," ")),nZ&&!lj)?nZ:!lj&&(null==nT?void 0:nT.redirectUrl)?null==nT?void 0:nT.redirectUrl:(null==lR?void 0:lR.url)||eK:ez,[ez,eK,nT,lj,nZ]);Q.useEffect(()=>{tr&&n2(0)},[tr]);let{slideNext:iM,slidePrev:iO,autoNext:iF}=tK({isActive:te,currentIndex:nB,next:e7,prev:e5,logCommonParams:i_,recommendParams:ie,swiper:tY}),{restart:iV,pause:iB,stop:iU,time:iH}=X({onOver:iF}),iZ=Q.useRef(),iG=Q.useRef();Q.useEffect(()=>{te&&(m.emit(m.EVENT.postCurVideoInfo,{awemeId:"",groupId:1===tM.guessGroupIdCrashOptimize?null==nH?void 0:nH.groupId:"",scene:tq,suggestWords:[]}),!P.Le.getConfig(P.gI.FirstFeedVideoSearchInfo)&&P.Le.setConfig(P.gI.FirstFeedVideoSearchInfo,{awemeId:"",groupId:1===tM.guessGroupIdCrashOptimize?null==nH?void 0:nH.groupId:"",scene:tq,suggestWords:[]}))},[te,tM]),Q.useEffect(()=>{var e,t;let n=null==lw?void 0:null===(t=lw.current)||void 0===t?void 0:null===(e=t.getPlayer)||void 0===e?void 0:e.call(t);if(!!te&&!!n&&!!l$){if(String(nU)===String(eY)&&!eU){if(n4.current)return;return!n4.current&&(n4.current=!0),i6({}),clearTimeout(iG.current),iG.current=setTimeout(()=>{m.emit(m.EVENT.LynxAutoEnterLiveSuccess)},300),()=>{clearTimeout(iG.current)}}}},[nU,eY,null==lw?void 0:lw.current,te,l$]),Q.useEffect(()=>(clearTimeout(iZ.current),te&&0===n1&&(iU(),iZ.current=setTimeout(()=>{null==tD||tD()},1e3)),()=>{clearTimeout(iZ.current)}),[te,n1,iU,e7]),Q.useEffect(()=>{if("highlight"!==lu||!e4)e4?e4&&!n$?iV():e4&&n$&&iB():iU()},[e4,n$,lu]),Q.useEffect(()=>{if(lj){var e,t;let n=null===(t=lw.current)||void 0===t?void 0:null===(e=t.getPlayer)||void 0===e?void 0:e.call(t);if(!n)return;l1.current=setTimeout(()=>{n.off("canplay"),n.src=(null==lR?void 0:lR.url)||iD},1e3),n.once("canplay",()=>{clearTimeout(l1.current)})}return()=>{clearTimeout(l1.current)}},[null==lR?void 0:lR.url,iD,lj]),Q.useEffect(()=>{if(te&&!tr){lH.current=Date.now();try{localStorage.setItem("hasPlay",lG?"hasPlay":"")}catch(e){}}},[te,tr,lG]);let iK=Q.useMemo(()=>{if(iH<=16&&iH>0&&e4&&!n$)return`${iH}s后将进入下一个视频`},[iH,e4,n$]),iz=Q.useCallback(()=>{nJ(!1)},[]),iW=Q.useCallback(()=>{nJ(!0)},[]),iQ=Q.useCallback(()=>(0,tn.Y)(eX,tT).then(e=>{let{status_code:t,data:n=[]}=e.data;if(0===t)return n.some(e=>{let t=Z()(e,"user_live",[])[0];return 1===Z()(t,"live_status")})?(n2(2),2):(n2(0),0);return n2(1),1}),[eX,tT]);(0,ni.o)({playerInstance:null==lw?void 0:null===(H=lw.current)||void 0===H?void 0:null===(B=H.getPlayer)||void 0===B?void 0:B.call(H),playerLoggerInstance:null==lw?void 0:null===(z=lw.current)||void 0===z?void 0:null===(G=z.getPlayerLogger)||void 0===G?void 0:G.call(z),streamInfo:{isH265:lN,isH265Error:lj,setIsH265Error:lL,playerUrl:iD,useBackUp:!0},isRoomError:()=>0!==n1,onH265Degrade:e=>{var t,n;null===en.kg||void 0===en.kg||null===(n=en.kg.event)||void 0===n||n.call(en.kg,"player_relegate_url",{is_client:(0,c.DT)(),host:null===(t=location)||void 0===t?void 0:t.host,pathType:(()=>{try{if(location.pathname.indexOf("root/live")>=0)return"root_live";if(location.pathname.indexOf("follow/live")>=0)return"follow_live";if(location.pathname.indexOf("follow")>=0)return"follow";if(location.search.indexOf("recommend=1")>=0)return"recommend";if("www.douyin.com"===location.host)return"main";if("live.douyin.com"===location.host)return"live";return"other"}catch(e){return"error"}})(),isNewProject:1,code:(null==e?void 0:e.httpCode)||(null==e?void 0:e.code),info:null==e?void 0:e.message,detail:(()=>{try{return JSON.stringify(e)}catch(e){return"err序列化失败"}})()})},onUnablePlay:()=>{n2(1)},disable:lp});let iq=Q.useCallback(()=>{0!==n1&&en.kg.event(`[${j.Tn.Error}]${j.Mo.LiveBasicPlayerWaiting}`,{room_id:eY,url:iD,room_status:n1,is_client:(0,c.DT)(),type:"preview"})},[n1,nT]),iX=Q.useRef(0),iY=Q.useCallback(()=>{te&&iQ().then(e=>{var t,n,l,i;if(!lw.current)return;let r=null===(t=(n=lw.current).getPlayer)||void 0===t?void 0:t.call(n);if(iX.current>1){n2(1);return}(0,nl.getInLiveOOMFixAB)(tM)&&2===e&&te&&iX.current<=1&&(iX.current=iX.current+1,null==r||null===(l=r.retry)||void 0===l||l.call(r)),2===e&&te&&(null==r||null===(i=r.retry)||void 0===i||i.call(r))})},[tn.Y,te]),iJ=(0,t9.Z)(()=>{if(!lp)iW()}),i$=(0,t9.Z)(()=>{if(!lp)2===n1&&iz()}),i0=Q.useMemo(()=>{var e;return Object.values((null==nT?void 0:null===(e=nT.stream_url)||void 0===e?void 0:e.pull_datas)||{}).length>0&&!(0,_.G6)()},[nT]),i1=Q.useMemo(()=>{var e,t,n,l;return 1===Number(null==nm?void 0:null===(e=nm.extra)||void 0===e?void 0:e.vr_type)||2===Number(null==nm?void 0:null===(t=nm.extra)||void 0===t?void 0:t.vr_type)||(null==nm?void 0:null===(l=nm.pico_info)||void 0===l?void 0:null===(n=l.multi_stream_info)||void 0===n?void 0:n.multi_stream_scene)==="multi_camera"},[nm]),i2=!1;(iu||i0||nF||i1)&&(i2=!0);let i3=Q.useMemo(()=>{var e;return(0,o._)((0,r._)({enter_method:t7?(null==tk?void 0:tk.enter_method)?null==tk?void 0:tk.enter_method:"web_video_head":"web_live_cell",enter_from_merge:null==tk?void 0:tk.enter_from_merge,game_name:e3,request_id:null==tk?void 0:tk.request_id,live_position:"number"==typeof nB?null===(e=nB+1)||void 0===e?void 0:e.toString():"",video_id:eY,insert_task_id:tj,live_reason:tN,cid:(null==no?void 0:no.creative_id)||0,if_qianchuan_ad:(null==no?void 0:no.creative_id)?1:0,ad_type:(null==no?void 0:no.creative_id)?E.AdType.Live:void 0},ie,ih,lz,ig,(0,ee.tN)()),{show_type:t7||"normal"===nG?"none":"highlight"===nG?"preview_mini_window":"highlight_mini_window",is_replaced_live:null==nH?void 0:nH.__is_replaced_live__})},[tk,null==tk?void 0:tk.stream_type,lz,no,ig,tN,ih,nB,lu]),i7=(0,ne.Z)(()=>tq===E.PlayerScene.Recommend?`/root/live/${td}`:tq===E.PlayerScene.Follow?`/follow/live/${td}`:""),i5=Q.useRef(!1),i6=(0,ne.Z)(e=>{let{openLiveModal:t=!1,event:n,onEnterParams:l,isDisableAdLog:i=!1,isDirectOpen:a,callback:u=()=>{}}=e||{};if((0,em.bi)((0,o._)((0,r._)({anchor_id:eX,room_id:eY,is_aweme_tied:null==tk?void 0:tk.is_aweme_tied},(0,em.Ne)(tO),i3),{live_status:tz?"web_full":tS?"full":"normal",is_comments_fold:0})),n0(!0),t7&&((0,em.W$)((0,o._)((0,r._)({},i_),{is_click_mini_window:"1"})),null==t4||t4()),!t7&&iw(2),no&&!i&&(0,y.E)("realtime_click",{value:no.creative_id,refer:"",tag:"live_ad",room_id:eY,anchor_id:eX,log_extra:no.log_extra}),a)return;!i2&&(eG(!0),lh(!0));let s=i7();if(s){var d,c,v,f,p,m;null==n||n.preventDefault();let e=null===(c=lw.current)||void 0===c?void 0:null===(d=c.getPlayer)||void 0===d?void 0:d.call(c),t=null===(f=lw.current)||void 0===f?void 0:null===(v=f.getPlayerLogger)||void 0===v?void 0:v.call(f);"normal"!==lu&&rG(),!t7&&"normal"!==nG&&(window.__SHOW_TYPE__=Object.assign(window.__SHOW_TYPE__||{},{[eY]:"highlight"===nG?"preview_mini_window":"highlight_mini_window"})),null==e||null===(p=e.exitFullscreen)||void 0===p||p.call(e);let i=(null==l?void 0:l.open_promotion_list)||(null==l?void 0:l.open_promotion_detail)?l:{open_promotion_detail:"0",open_promotion_list:"0"},o=`${s}?${tc.stringify((0,r._)({},i3,i))}`;i5.current=!0,!i2&&((0,nl.getInPlayEventOptAB)(tM)&&(window[`__force_report_live_play_event_${eY}__`]=!0,setTimeout(()=>{try{if(window[`__force_report_live_play_event_${eY}__`]){var e;null===en.kg||void 0===en.kg||null===(e=en.kg.event)||void 0===e||e.call(en.kg,"enter_no_play"),window.collectEvent("livesdk_live_play",(0,r._)({},i3,i_)),delete window[`__force_report_live_play_event_${eY}__`]}}catch(e){}},3e3)),null===t5.Z||void 0===t5.Z||null===(m=t5.Z.save)||void 0===m||m.call(t5.Z,e,t,to.liveRecommendCard)),(0,t6.X)({href:o,reusePlayer:i2?0:1,reuseId:nW,webRid:td,abtestData:tM,roomId:eY,from:tq,_reusePlayer:i2?0:1,usePreCreate:!1}),i2&&(t5.Z.destroy(),null==e||e.pause())}else u()}),i4=(0,t9.Z)(()=>{if(!lp){if(nQ.current){nQ.current=!1;return}(0,em.at)((0,o._)((0,r._)({},i_,ie),{event_page:"live",if_mini_window:(0,tH.OL)()})),n0(!0)}});Q.useEffect(()=>{eU&&i4()},[eU]);let i8=(0,t9.Z)(()=>{if(lp){n0(!0);return}(0,L.yr)({isLive:1}),lZ.current?(0,em.vc)((0,o._)((0,r._)({},i_,ie),{event_page:"live"})):lZ.current=!0,no&&(0,y.E)("play",{value:no.creative_id,refer:"",tag:"live_ad",room_id:eY,anchor_id:eX,log_extra:no.log_extra}),n0(!1),1===n1&&n2(2)}),i9=Q.useCallback(()=>{var e,t,n,l,i,r,o,a,u;l0(!0),null==ns||ns(),iE();let{slideStartTime:s}=P.Le.getConfig(P.gI.SlideStartTime)||{};if(s){let i={live_position:nB,room_id:eY,duration:Date.now()-s},r=null===(t=lw.current)||void 0===t?void 0:null===(e=t.getPlayer)||void 0===e?void 0:e.call(t);r&&Object.assign(i,{is_mute:+r.muted,width:null===(n=r.video)||void 0===n?void 0:n.videoWidth,height:null===(l=r.video)||void 0===l?void 0:l.videoHeight}),ts.Z.sendLog("livesdkLiveCardFirstFrame",i)}if(te){let e=P.Le.getConfig(P.gI.FirstPreviewData);ts.Z.sendLog("livesdkLoaded",{live_position:nB,prefetch:(null==e?void 0:e.prefetchRoomId)===eY?1:0,prefetch_duration:(0,N.j5)(T.AL.prefetch_live_back,"startTime")-(0,N.j5)(T.AL.prefetch_live,"startTime"),prefetch_used:(null===(u=lw.current)||void 0===u?void 0:null===(a=u.getPlayer)||void 0===a?void 0:null===(o=a.call(u))||void 0===o?void 0:null===(r=o.config)||void 0===r?void 0:null===(i=r.flvlive)||void 0===i?void 0:i.stream)?1:0,prefetch_done_to_create_player:(0,N.j5)(T.AL.prefetch_live_back,"startTime")-(0,N.j5)(T.AL.new_preview_live,"startTime"),room_id:eY}),(0,ty.SA)()}},[te]);(0,R.o)(()=>{if(te&&n8){n0(!1);let n=t3?{EVENT_ORIGIN_FEATURE:"TEMAI",_param_live_platform:"live",follow_status:Number(1===nc||2===nc)}:{};if(!t7&&((0,em.JW)((0,o._)((0,r._)((0,o._)((0,r._)({anchor_id:eX,room_id:eY,is_aweme_tied:null==tk?void 0:tk.is_aweme_tied},(0,em.Ne)(tO),i3),{search_type:""}),ie,n,ig),{cid:(null==no?void 0:no.creative_id)||0,if_live_close:0===n1?1:0,follow_status:ic,stream_type:l8>1?ei.FO["2"]:ei.FO["1"],is_viplive:rm?1:0,live_status:tz?"web_full":tS?"full":"normal",is_comments_fold:0,three_screen_status:window.__current_feed_triple_status__&&"true"===localStorage.getItem(window.__tripleScreenKey__||"__isTripleScreen__")?"open":"close"})),window.__current_feed_triple_status__=!1,no&&(0,y.E)("show",{value:no.creative_id,refer:"",tag:"live_ad",room_id:eY,anchor_id:eX,log_extra:no.log_extra})),iQ(),lw.current){var e,t;let n=null===(e=(t=lw.current).getPlayer)||void 0===e?void 0:e.call(t);if(!n)return;n.volume=(0,el.T1)(),"highlight"===lu?n.muted=!0:n.muted=(0,el.rC)(),en.kg.event("live_player_volume",{live_volume:n.volume}),en.kg.event("live_player_muted",{live_is_muted:"highlight"===lu||n.muted})}}else n0(!0)},[te,n8]),(0,D.t)(e=>{!e&&te&&iQ()});let re=Q.useRef(!1),rt=Q.useCallback(()=>lp?eU:re.current,[re.current,lp,eU]);re.current=te,tW(null==lw?void 0:null===(ea=lw.current)||void 0===ea?void 0:null===(er=ea.getPlayer)||void 0===er?void 0:er.call(ea),rt,"slidercard-play-stack","slidercard-play-error"),Q.useEffect(()=>{if(te&&tS&&lw.current){var e,t,n;if((null==tM?void 0:tM.liveInnerFeed)&&(0,d.yk)(location.pathname))return;let l=null===(e=(t=lw.current).getPlayer)||void 0===e?void 0:e.call(t);null==l||null===(n=l.getFullscreen)||void 0===n||n.call(l,tI)}},[te,tS,tI]);let[rn,rl]=Q.useState(0),ri=Q.useCallback(()=>{rl(e=>e+1),window.__LIVE_PLAYER__=lw.current,te&&m.emit(m.EVENT.firstFrameReady,{isLive:!0})},[te]);Q.useEffect(()=>()=>{window.__LIVE_PLAYER__&&(window.__LIVE_PLAYER__=null)},[]),Q.useEffect(()=>{if(!!te)["highlight","small_highlight"].includes(lu)&&(0,em.fF)({show_type:"highlight"===lu?"preview_mini_window":"highlight_mini_window",event_page:"live",video_id:(null==nK?void 0:nK.videoId)||"",highlight_type:(null==nK?void 0:nK.hightLightType)||"",anchor_id:eX,room_id:eY})},[te,lu]),Q.useEffect(()=>{let e;let t=e=>{null==e||e.stopPropagation()};if(lw.current){var n,l,i;let r=null===(n=(l=lw.current).getPlayer)||void 0===n?void 0:n.call(l);null==(e=null==r?void 0:null===(i=r.getPlugin("volume"))||void 0===i?void 0:i.root)||e.addEventListener("pointerdown",t),null==e||e.addEventListener("touchstart",t)}return()=>{null==e||e.removeEventListener("pointerdown",t),null==e||e.removeEventListener("touchstart",t)}},[rn]),Q.useEffect(()=>{if(!$.s){var e,t;let n=null===(t=lw.current)||void 0===t?void 0:null===(e=t.getPlayer)||void 0===e?void 0:e.call(t);if(void 0!==ly.current&&ly.current!==te&&!1===te&&n7(e=>e+1),ly.current=te,n){if(te&&!nX){if(rm&&!rp&&!rh)return;!(null==n?void 0:n.preplay)&&(null==n||n.play())}else null==n||n.pause();n.preplay=0}}},[te]),Q.useEffect(()=>{let e=P.Le.getConfig(P.gI.GlobalSwiper);if(e&&nB&&!t7&&(null==tM?void 0:tM.onActiveChangePlay)){let t=e=>{var t,n,l,i;let{index:r}=e,o=null===(n=lw.current)||void 0===n?void 0:null===(t=n.getPlayer)||void 0===t?void 0:t.call(n);if(!(!o||P.Le.getConfig(P.gI.IsMiniWin))){if(nB!==r||nX){null==o||o.pause(),o.preplay=0;try{null===(i=window.TTCommon)||void 0===i||null===(l=i.executeWithElement)||void 0===l||l.call(i,o.video,"updateSrState",0)}catch(e){}}else{if(rm&&!rp&&!rh)return;re.current=!0,null==o||o.play(),o.preplay=1}}};return e.on("activeIndexChange",t),()=>{e.off("activeIndexChange",t)}}},[tM,nB,t7]),Q.useCallback(()=>{n2(2)},[]);let rr=()=>{(0,em.EP)((0,o._)((0,r._)({},i_,ie),{event_page:"live",click_type:"anchor"}))};Q.useImperativeHandle(t,()=>{var e,t;return null===(t=lw.current)||void 0===t?void 0:null===(e=t.getPlayer)||void 0===e?void 0:e.call(t)}),Q.useEffect(()=>{if(n$){if(lZ.current){let e;try{e=localStorage.getItem("hasPlay")||""}catch(t){e=""}(0,em.UH)((0,r._)((0,o._)((0,r._)((0,o._)((0,r._)({},i_,ig),{duration:Date.now()-lU.current,nowTime:lU.current,from_type:"isPause"}),ie),{has_play:lG?1:e?1:0,is_visible:"1",cid:(null==no?void 0:no.creative_id)||0,if_qianchuan_ad:(null==no?void 0:no.creative_id)?1:0,ad_type:(null==no?void 0:no.creative_id)?E.AdType.Live:void 0,follow_status:ic}),(0,ee.tN)()))}}else te&&(lU.current=Date.now())},[n$,te]);let ro=Q.useCallback(()=>{let e;try{e=localStorage.getItem("hasPlay")||""}catch(t){e=""}(0,em.y3)((0,r._)((0,o._)((0,r._)((0,o._)((0,r._)({},i_,ig),{duration:Date.now()-lH.current,nowTime:lH.current}),ie),{has_play:lG?1:e?1:0,cid:(null==no?void 0:no.creative_id)||0,if_qianchuan_ad:(null==no?void 0:no.creative_id)?1:0,ad_type:(null==no?void 0:no.creative_id)?E.AdType.Live:void 0}),(0,ee.tN)())),lH.current=Date.now()},[no,lG]);Q.useEffect(()=>{if(!te&&lZ.current){var e,t;ro(),!t7&&iw(1),lZ.current=!1;let n=null===(t=lw.current)||void 0===t?void 0:null===(e=t.getPlayer)||void 0===e?void 0:e.call(t);null==n||n.pause()}},[te,t7]);let ra=Q.useCallback(e=>{var t,n;let l=null===(n=lw.current)||void 0===n?void 0:null===(t=n.getPlayer)||void 0===t?void 0:t.call(n);if(!n$&&lB.current&&(null==e?void 0:e.type)==="visibilitychange"&&"hidden"===document.visibilityState)null==l||l.pause(),n0(!0),lX.current=!0;else if(n$&&lX.current&&(null==e?void 0:e.type)==="visibilitychange"&&"visible"===document.visibilityState){if(rm&&!rp&&!rh)return;null==l||l.play(),n0(!1),lX.current=!1,lH.current=Date.now()}lB.current?(!tr&&te&&(lQ.current&&(lU.current=Date.now(),lq.current=lq.current+Date.now()-lQ.current),ro(),(0,em.y9)((0,r._)((0,o._)((0,r._)({},i_),{duration:lq.current}),ie))),lB.current=!1):lB.current=!0},[tr,te,lG,lQ,no,n$]),ru=Q.useCallback(e=>{clearTimeout(nq.current),nq.current=setTimeout(()=>{ra(e)},1e3)},[ra]);Q.useEffect(()=>te?(window.addEventListener("visibilitychange",ru),()=>{window.removeEventListener("visibilitychange",ru)}):()=>{},[n$,te,ru]),Q.useEffect(()=>{te&&n$?lQ.current=Date.now():te&&(lq.current=lQ.current?lq.current+Date.now()-lQ.current:0,lQ.current=0)},[n$,te]);let rs=(0,e6.f)(e=>e.messageInstance),rd=Q.useMemo(()=>{var e,t,n;return null==nH?void 0:null===(n=nH.cellRoom)||void 0===n?void 0:null===(t=n.rawdata)||void 0===t?void 0:null===(e=t.linker_detail)||void 0===e?void 0:e.function_type},[nH]),rc=Q.useMemo(()=>{var e,t;return 3===Number(null==nH?void 0:null===(t=nH.cellRoom)||void 0===t?void 0:null===(e=t.rawdata)||void 0===e?void 0:e.live_room_mode)},[nH]);Q.useEffect(()=>{var e,t;let n=null==lw?void 0:null===(t=lw.current)||void 0===t?void 0:null===(e=t.getPlayer)||void 0===e?void 0:e.call(t);(null==n?void 0:n.video)&&n&&(rc&&"audio_audience"!==rd&&rd?n.video.classList.add(to["video-hidden"]):n.video.classList.remove(to["video-hidden"]))},[rc,rd,null==lw?void 0:null===(es=lw.current)||void 0===es?void 0:null===(eu=es.getPlayer)||void 0===eu?void 0:eu.call(es)]),(0,tg.q)({message:!t7&&rs}),Q.useEffect(()=>{if(te&&!t7){var e,t,n;return null==rs||rs.setImRequestPath("/webcast/im/fetch/preview/"),null==rs||rs.setInsertKey(tj,tN),eY&&(null==rs?void 0:null===(t=rs.polling)||void 0===t?void 0:null===(e=t.startProps)||void 0===e?void 0:e.room_id)===eY&&(null==rs?void 0:null===(n=rs.polling)||void 0===n?void 0:n.isStarted)?K()():null==rs||rs.start(eY),()=>{var e;null==rs||null===(e=rs.destroy)||void 0===e||e.call(rs)}}},[eY,te,t7,rs,tj,tN]),Q.useEffect(()=>(t7&&(0,em.xS)((0,r._)({},i_)),()=>{(0,em.yM)((0,o._)((0,r._)({},i_),{duration:Date.now()-lU.current}))}),[t7]),Q.useEffect(()=>{null==nu||nu(n1)},[n1]);let[rv,rf]=Q.useState(null),{isVip:rp,isVipLive:rm,freePreview:rh}=(0,tU.Rk)(rv||(null==nm?void 0:nm.paid_live_data)||{},tM),{onCartClick:r_,onPromotionPopClick:rg,onShopLoginSuccess:ry}=(0,th.L)({onEnterRoom:i6,propsOnLoginSuccess:t2,href:lb,enterLogParams:(0,o._)((0,r._)({},i3),{enter_method:(null==tk?void 0:tk.shop_car_method)?null==tk?void 0:tk.shop_car_method:"web_live_card_popup_card"}),adData:no,isReuseBasicPlayer:[E.PlayerScene.Follow,E.PlayerScene.Recommend].includes(tq)}),rw=(0,t9.Z)(()=>{iX.current=0,ri(),lK(!0),te&&lW.current&&(lW.current=!1,(0,em.UH)((0,o._)((0,r._)((0,o._)((0,r._)({},i_),{duration:Date.now()-lU.current,from_type:"handleOnReady"}),ie),{has_play:0,cid:(null==no?void 0:no.creative_id)||0,follow_status:ic,is_visible:"1"}))),lA&&!lj&&te&&lI(),1===n1&&n2(2),lU.current=Date.now()}),rE=Q.useMemo(()=>(0,r._)({},ig,i_,ie),[ig,i_,ie]);Q.useMemo(()=>iu&&(it===x.PAID_LIVE_VIEW_TYPE.TRT_WATCH_FINISH||!l7)?1:nY?0:1,[iu,it,nY]);let[rx,rC]=Q.useState(!1),rb=Q.useMemo(()=>(0,v.ny)(no),[no]);Q.useEffect(()=>{var e,t;null==lw?void 0:null===(t=lw.current)||void 0===t?void 0:null===(e=t.getPlayer)||void 0===e?void 0:e.call(t)},[eU]),Q.useEffect(()=>{nV&&(async()=>{try{let e=await (0,S.ZP)({service_name:"webcast.douyin.live_pc",key:"olympicgame_season_ids"});if(!e)return!1;lJ((null==e?void 0:e.includes(nV))||!1)}catch(e){return!1}})()},[nV]);let rA={href:lb,isLiving:2===n1,isActive:te,isInPWA:(0,b.f)(),onEnterRoom:i6,enterLogParams:i3,useF:!0},rk=Z()(nT,"AnchorABMap",{}),rI=Z()(rk,"linkmic_video_equal_layout_frame_opt","0"),rS=(0,t8.vD)();Q.useEffect(()=>{if(rS&&te){var e,t;let n=null===(t=lw.current)||void 0===t?void 0:null===(e=t.getPlayer)||void 0===e?void 0:e.call(t);null==n||n.play()}},[rS,te]),(0,tQ.j)((0,o._)((0,r._)({},rA),{disabled:!1}));let rP=Q.useRef(null),rj=Q.useRef(iD),rL=Q.useRef(!1),rN=Q.useRef(!1),rT=(0,Q.useMemo)(()=>{let e=(()=>{let e=["/root/live","follow/live"].some(e=>location.href.includes(e));return!!(lp&&e||"follow"===tq&&location.pathname.includes("follow"))||"recommend"===tq&&"/"===location.pathname||!1})();!rL.current&&(rN.current=e,rL.current=!0);let{url:t,freeze:n}=(()=>{var e,t,n,l,i,r,o,a;if(rj.current!==iD)return rj.current,{url:iD,freeze:""};let u=null===(t=lw.current)||void 0===t?void 0:null===(e=t.getPlayer)||void 0===e?void 0:e.call(t);return u&&(null==u?void 0:null===(l=u.config)||void 0===l?void 0:null===(n=l.baseConfig)||void 0===n?void 0:n.url)?{url:null==u?void 0:null===(r=u.config)||void 0===r?void 0:null===(i=r.baseConfig)||void 0===i?void 0:i.url,freeze:null==u?void 0:null===(a=u.config)||void 0===a?void 0:null===(o=a.baseConfig)||void 0===o?void 0:o.url}:{url:iD,freeze:""}})(),l={url:t,autoplay:te&&!nX&&rN.current,volume:t7||!rN.current?0:(0,el.T1)(),muted:!rN.current||"highlight"===lu||(0,el.rC)(),fullscreenTarget:tI,worker:{recylable:!1},disconnectTime:5,_freezeUrl:n,seiOnDemand:!1};return(np&&(l.decryption={entry:"https://unpkg.byted-static.com/byted/webplayer-extensions/0.0.3/dist/live-decrytion.js",keyStr:np}),lp&&rN.current&&rP.current)?rP.current:(rP.current=l,l)},[iD,tI,np,te,nX,t7,lp,tq,rS,lu]),rR=(0,Q.useMemo)(()=>({controls:{autoHide:!1}}),[]);Q.useEffect(()=>{try{window.collectEvent("config",{is_new_project:1})}catch(e){}},[]),Q.useEffect(()=>{if(te){let e=setTimeout(()=>{n9(!0)},100);return()=>{clearTimeout(e)}}n9(!1)},[te]),Q.useEffect(()=>{te&&(window.__current_feed_triple_status__=nT&&te&&!le&&!iu&&!i0&&!t7&&!rp&&!ln&&!t3)},[nT,te,le,iu,i0,t7,rp,ln,t3,te]);let[rD,rM]=Q.useState(!1),rO=Q.useRef(ln),rF=Q.useRef(le);Q.useEffect(()=>{0===Object.keys((null==nT?void 0:nT.linker_map)||{}).length?rM(!0):rM(!1)},[nT]),Q.useEffect(()=>{(rO.current!==ln||rF.current!==le)&&(rO.current=ln,rF.current=le,setTimeout(()=>{rM(!0)},10))},[ln,le]),Q.useEffect(()=>{if(!t7&&lp&&!i5.current){var e,t;let n=null===(t=lw.current)||void 0===t?void 0:null===(e=t.getPlayer)||void 0===e?void 0:e.call(t);null==n||n.pause()}!lp&&(i5.current=!1)},[t7,lp]);let rV=tr||0===n1,rB=Q.useCallback(W()(e=>{lr(e.toFixed(0))},1e3),[lr]);Q.useEffect(()=>{if(te){if(!lf.current&&"normal"!==lu&&(lf.current=!0),"highlight"===lu){var e,t,n;null===(e=ld.current)||void 0===e||e.play();let l=null===(n=lw.current)||void 0===n?void 0:null===(t=n.getPlayer)||void 0===t?void 0:t.call(n);l&&(l.muted=!0)}}else lf.current&&(rG(),nE.c.add(`${eY}-${null==nK?void 0:nK.hightLightId}`))},[te,lu]);let rU=Q.useCallback(W()(e=>{var t,n,l,i,r,o,a,u;let s=null==lw?void 0:null===(n=lw.current)||void 0===n?void 0:null===(t=n.getPlayer)||void 0===t?void 0:t.call(n),d=null==ld?void 0:null===(i=ld.current)||void 0===i?void 0:null===(l=i.getPlayer)||void 0===l?void 0:l.call(i);if(e&&"highlight"===lu||!e&&"small_highlight"===lu){if(d&&d.muted)return;null===(o=ld.current)||void 0===o||null===(r=o.mute)||void 0===r||r.call(o,!0),s&&(s.muted=!1)}else if(e&&"small_highlight"===lu||!e&&"highlight"===lu){if(s&&s.muted)return;s&&(s.muted=!0),null===(u=ld.current)||void 0===u||null===(a=u.mute)||void 0===a||a.call(u,!1)}},600,{leading:!1,trailing:!0}),[null==lw?void 0:lw.current,lu]),rH=Q.useCallback(W()(()=>{lv(!0)},300,{leading:!1,trailing:!0}),[]),rZ=Q.useCallback(W()(()=>{lv(!1)},300,{leading:!1,trailing:!0}),[]),rG=Q.useCallback(()=>{var e,t;let n=null==ld?void 0:null===(e=ld.current)||void 0===e?void 0:e.getPlayer(),l=null==lw?void 0:null===(t=lw.current)||void 0===t?void 0:t.getPlayer();null==rH||rH.cancel(),null==rZ||rZ.cancel(),null==rU||rU.cancel(),n&&n.muted&&l&&l.muted?(0,el.w)(!0):n&&!n.muted||l&&!l.muted?((0,el.w)(!1),l&&(l.muted=!1)):!n&&l&&(0,el.w)(l.muted),ls("normal")},[]);(0,tL.Z)(()=>{rU(lc)},[lc]);let rK=(0,Q.useMemo)(()=>{var e,t;if(null==tM?void 0:null===(t=tM.innerSlideSmooth)||void 0===t?void 0:null===(e=t.includes)||void 0===e?void 0:e.call(t,2))return!te&&!nz||rc&&"audio_audience"!==rd;return rc&&"audio_audience"!==rd},[rc,rd,tM,te,nz]),rz=()=>{var e;return(0,a.jsxs)(a.Fragment,{children:[ix&&nN&&(0,a.jsx)(Y.G,{target:(null==lC?void 0:lC.html_target)||"_blank",href:lb,isHideUrl:!t7&&("recommend"===t0||"follow"===t0),style:{cursor:"pointer"},onClick:e=>i6({openLiveModal:!0,event:e}),passParams:i3,className:U()(to.divide,{[to.isSmallWindow]:t7,[to.isHoverSmallWindow]:ny,[to.inActive]:im}),stopPropagation:t7||ny,children:l_&&!t7&&id&&(0,a.jsx)(ta.Z,(0,o._)((0,r._)({},rA),{enterText:(null==tO?void 0:null===(e=tO.mod)||void 0===e?void 0:e.episode_stage)===2?"点击进入首播":null==lC?void 0:lC.enter_text,description:iK,countDown:15-li,isPlayingVideo:"highlight"===lu,abTestData:tM,roomIdStr:eY,scene:nx,disableEnterRoomShotCut:!0,isHover:l6&&ip,setIsHover:l4,rawdata:nm}))}),!t7&&(0,a.jsxs)(a.Fragment,{children:[ix&&rb&&(0,a.jsx)(M.S,{adData:no,isActive:te,onClick:(e,t)=>{i6({openLiveModal:!0,event:e,isDisableAdLog:!0});let n=(0,C.G7)((0,r._)({},i3,lz,t?{open_promotion_list:"1"}:{}),lb);window.open(n,(0,b.f)()?"_self":"_blank")},logParams:tk,className:to.previewAdCard}),ix&&(0,a.jsx)(eg,{className:to.infoAB,tagInfo:{dynamicLabel:null==nm?void 0:nm.dynamic_label,assistLabel:null==nm?void 0:nm.assist_label},userInfo:t1,anchorId:eX,isFollow:ic,title:eJ,secUid:tv,userParams:iy,userCount:eq,userName:e0,episodeExtra:tO,onClickUser:rr,isAd:!!no&&tX||na,isPaidLive:iu,viewType:it,isLogin:l7,abTestData:tM,paidLiveInfo:io,useFollowBtn:!0,dispatch:nw,rawdata:nm,onLoginSuccess:t2,isActive:te,isPlayingVideo:"highlight"===lu,hightLightText:nK.guideText}),ix&&(0,a.jsx)(tt,{sideMoreBox:lF,setSideMoreBox:e=>{lV(e),ts.Z.sendLog("livesdkLiveFeedbackLayerShow",(0,o._)((0,r._)({},i_),{request_location:null==nP?void 0:nP.LIVEVIEWDOT}))},sortDislike:()=>{ts.Z.sendLog("livesdkLiveDislikeSortShow",(0,o._)((0,r._)({},i_),{request_location:null==nP?void 0:nP.LIVEVIEWDOT}))}})]})]})},rW=(0,nk.X3)();return(0,a.jsxs)("div",{className:U()(to.liveRecommendCard,e1,{firefoxPlayer:nj,isSmallWindow:t7,[to.autoHideControl]:!0,MediaNotSupportStyleFullScreen:!0,[to.inActive]:im,januaryOptimize:!0,isChildRouteReady:lm,[to.isAudio]:rc},rW),style:e2,onClick:tA,ref:lx,id:"slider-card","data-e2e":"feed-live",onMouseEnter:()=>l4(!0),onMouseLeave:()=>l4(!1),children:[("small_highlight"===lu||"highlight"===lu)&&(0,a.jsxs)("div",{className:U()({[to.smallBox]:"small_highlight"===lu,[to.hover]:"small_highlight"===lu&&lc,[to.rightSmallWindow]:"small_highlight"===lu&&((0,O.r)()||tz),[to.noraml]:"highlight"===lu}),onMouseMove:"small_highlight"===lu?rH:void 0,onMouseLeave:"small_highlight"===lu?rZ:void 0,children:[("highlight"===lu||"small_highlight"===lu&&lo)&&(0,a.jsx)(n_,{ref:ld,src:nK.videoUrl,overStop:"highlight"===lu,mainWindow:"highlight"===lu,anchorId:eX,roomId:eY,highLightInfo:nK,showType:"highlight"===lu?"preview_mini_window":"highlight_mini_window",onPlay:()=>{if("highlight"===lu){var e,t,n,l;let i=null==ld?void 0:null===(t=ld.current)||void 0===t?void 0:null===(e=t.getPlayer)||void 0===e?void 0:e.call(t),r=null==lw?void 0:null===(l=lw.current)||void 0===l?void 0:null===(n=l.getPlayer)||void 0===n?void 0:n.call(l);i&&!i.muted&&r&&!r.muted&&(r.muted=!0)}},onStop:()=>{rG()},onError:()=>{"highlight"===lu&&rG()},isActive:te,onTick:"highlight"===lu?rB:void 0,options:{autoplay:"small_highlight"===lu,loop:!0,marginControls:!1,autoPlayMuted:(0,el.rC)()},children:"highlight"===lu&&(0,a.jsx)(nS,{title:"连播",className:to.autoOpacty,position:"controlsRight",open:e4,onSwitchChange:e8,logCommonParams:i_,isActive:te,abtestData:tM,keyBind:!1})}),"small_highlight"===lu&&(0,a.jsx)(nC,{highLightInfo:nK,onClose:()=>{var e;let t=null==ld?void 0:null===(e=ld.current)||void 0===e?void 0:e.getPlayer();(0,em.ff)({show_type:"highlight_mini_window",event_page:"live",video_id:(null==nK?void 0:nK.videoId)||"",highlight_type:(null==nK?void 0:nK.hightLightType)||"",anchor_id:eX,room_id:eY,live_type:"",action_type:"",element_name:"close",switch_status:(null==t?void 0:t.paused)?"off":"on"}),rG()},showSmallVideo:lo,setShowSmallVideo:la})]},nW),te&&2===n1&&!lD&&!lF&&ix&&(0,a.jsx)(Y.G,{target:(null==lC?void 0:lC.html_target)||"_blank",href:lb,isHideUrl:!t7&&("recommend"===t0||"follow"===t0),style:{cursor:"pointer"},onClick:e=>{if(!!nN)i6({openLiveModal:!0,event:e})},className:U()(to.playerContentMask,{[to.firefoxContentMask]:nj&&!tS,[to.isSmallWindow]:t7,[to.inActive]:im}),passParams:i3,stopPropagation:t7||ny,"data-e2e":t7?"":"live-slider"}),"highlight"===lu&&(0,a.jsx)("div",{children:rz()}),((0,O.r)()||tz)&&!t3&&!t7&&ix&&(0,a.jsx)(eS,{className:U()({[to.firefoxSwitch]:!tS&&nj}),onNext:()=>iM(!1,"click_button"),onPrev:()=>iO(!1,"click_button")}),(0,a.jsxs)("div",{className:U()({[to.smallLive]:"highlight"===lu,[to.hover]:"highlight"===lu&&lc,[to.rightSmallWindow]:"highlight"===lu&&((0,O.r)()||tz),[to.noraml]:"highlight"!==lu}),onMouseMove:"highlight"===lu?rH:void 0,onMouseLeave:"highlight"===lu?rZ:void 0,children:[(0,a.jsxs)(J.N,{baseConfig:rT,pluginsConfig:rR,onPlaying:rw,playerRef:lw,bitrate:eW,onFocus:iJ,onBlur:i$,onPause:i4,onPlay:i8,onEnd:iY,onLoadStart:nd,onLoadedData:i9,onWaiting:iq,onFullScreenChange:tP,sessionId:e9,logOptions:(0,r._)((0,o._)((0,r._)((0,o._)((0,r._)({},nv),{is_live_end:tr?1:0,user_id:(0,F.sq)(),device_id:null===(ed=(0,F.Es)())||void 0===ed?void 0:ed.user_unique_id}),lY?{act_code:"olympic"}:{}),{live_type:null==nT?void 0:nT.live_room_mode,is_game:null==nT?void 0:null===(ev=nT.game_data)||void 0===ev?void 0:null===(ec=ev.game_tag_info)||void 0===ec?void 0:ec.is_game,is_shopping:t3,room_id:eY,anchor_id:eX,is_all_265:!((0,nb.ld)(null==nT?void 0:nT.stream_url)||(0,nb.ld)(null==nT?void 0:nT.additional_stream_url))}),(null==nT?void 0:nT.additional_stream_url)?{}:{h265_miss:1}),secretKey:np,isPaidLive:iu,isVip:rp,isVipLive:rm,autoHide:!1,isVideoSupportMP4:nN,rotate:!0,volumeBalance:iv,isH265Error:lj,stream:l9,januaryOptimize:!t7,disableFullScreen:!0,reusePlayer:!0,role:"provider",disableDynamicBg:rK,reduceDrawing:null==tM?void 0:null===(ep=tM.innerSlideSmooth)||void 0===ep?void 0:null===(ef=ep.includes)||void 0===ef?void 0:ef.call(ep,2),disableLogger:rV,poster:e$,scene:"Preview",children:[(0,a.jsxs)(nL,{children:[!nN&&(0,a.jsx)(V.X,{isLive:!0,awemeId:eY}),!t7&&(0,a.jsx)(eT,{}),(0,a.jsx)(eM,{}),(0,a.jsx)(tB.VipLiveBoundaryPlugin,{abTestData:tM,onShowVipLiveBoundary:e=>{e&&rf({privilege_info_map:{101:{paid_live_type:101,paid_live_info:{view_right:0}}}}),rC(e)},onBtnClick:()=>{window.open(`${lb}?${tc.stringify((0,o._)((0,r._)({},i3),{open_vip_panel:1}))}`,b.f?"_self":"_blank")},roomId:eY,roomStatus:n1,paidLiveData:rv||(null==nm?void 0:nm.paid_live_data),roomInfo:{room:{id_str:eY},anchor:{id_str:eX,nickname:null==nT?void 0:null===(eh=nT.owner)||void 0===eh?void 0:eh.nickname}},messageInstance:rs}),ix&&!t7&&("highlight"===lu||"small_highlight"===lu&&lo)&&(0,a.jsx)(nh,{showType:"highlight"===lu?"preview_mini_window":"highlight_mini_window",anchorId:eX,roomId:eY,highLightInfo:nK,mainWindow:"small_highlight"===lu,isActive:te,isVideo:!1}),ix&&!t7&&!("highlight"===lu||"small_highlight"===lu&&lo)&&(0,a.jsx)(ej.VolumeMemoryPluginSimple,{}),(0,a.jsx)(eF.AdaptedBySEIPlugin,{reset:"highlight"===lu||"small_highlight"===lu&&lo,linkmicVideoEqualLayoutFrameOpt:rI}),(0,a.jsx)(ey.GlobalControlPlugin,{}),0!==n1&&ix&&!is&&(0,a.jsx)(eZ.$,{layout:le,anchorId:eX,roomId:eY,functionType2:rd,onLayoutChange:e=>lt(e),className:U()(to.linkMicPreview),setIsPk:ll,linkmicVideoEqualLayoutFrameOpt:rI,disableClairvoyance:rc&&"audio_audience"!==rd}),ng&&(0,a.jsx)("div",{className:to.shadow,onMouseEnter:()=>l4(!0)}),"highlight"!==lu&&rz(),!t7&&(0,a.jsxs)(a.Fragment,{children:[ix&&"highlight"!==lu&&(0,a.jsx)(nI,{title:"连播",className:to.autoOpacty,position:1,open:e4,onSwitchChange:e8,logCommonParams:i_,isActive:te,abtestData:tM,props:{title:"连播",className:to.autoOpacty,open:e4,onSwitchChange:e8,logCommonParams:i_,isActive:te,abtestData:tM}}),ix&&"highlight"!==lu&&(0,a.jsx)(eP.n,{position:0}),0===n1&&(0,a.jsx)(ew.PlayerEndCover,{cover:e$,isPreview:!0}),!iu&&1===n1&&(0,a.jsx)(eE.NewPlayerErrorCover,{}),ix&&(0,a.jsx)(eH,{target:lx.current,deleteCurrentSwiper:tD,isShow:lD,abtestData:tM,setIsShow:e=>{lM(e),ts.Z.sendLog("livesdkLiveFeedbackLayerShow",(0,o._)((0,r._)({},i_),{request_location:null==nP?void 0:nP.LIVEVIEW}))},sortDislike:()=>{ts.Z.sendLog("livesdkLiveDislikeSortShow",(0,o._)((0,r._)({},i_),{request_location:null==nP?void 0:nP.LIVEVIEW}))},secUid:tv,userParams:iy,isEnterLiveSpa:!0}),ix&&(0,a.jsx)(eL.InPicturePlugin,{playerRef:lw,isActive:te,position:1,index:2,props:{playerRef:lw,isActive:te}}),2===n1&&ix&&te&&(0,a.jsx)("div",{className:U()(to.toolbarContainer,{[to.hasLiveDivideBtn]:!0}),children:(0,a.jsx)(tm.default,{headerUserInfo:t1,defaultCartVisible:t3,onLoginSuccess:ry,onPopClick:rg,onCheckPrice:rg,onCartClick:r_,isLiveShopPopVisibel:(null==t1?void 0:t1.isLogin)&&!rb,roomId:eY,authorId:eX,getLiveShoppingLogParams:()=>({enter_from_merge:null==tk?void 0:tk.enter_from_merge,enter_method:"web_live_cell_popup_card",request_id:tk.request_id}),scene:"preview",messageInstance:rs})}),(0,a.jsx)(ex.PlayerLoggerPlugin,{ext:{ignoreEmptyUrlUpload:0===n1||void 0===n1?1:0,isNewAce:!0,roomId:eY,webRid:td,loggetSource:"pcweb",enter_from_merge:null==tk?void 0:tk.enter_from_merge,enter_method:"web_live_cell",is_preview:1,url:rT.url,room_title:eJ||"",baseConfigUrl:(null===(eI=lw.current)||void 0===eI?void 0:null===(ek=eI.getPlayer)||void 0===ek?void 0:null===(eA=ek.call(eI))||void 0===eA?void 0:null===(eb=eA.config)||void 0===eb?void 0:null===(eC=eb.baseConfig)||void 0===eC?void 0:eC.url)||"",originUrl:iD||""}}),(0,a.jsx)(tb.VolumeWheel,{props:{isActive:te,defaultIcon:!0},index:2,isActive:te,defaultIcon:!0}),iu&&(0,a.jsx)(eO.PaidLivePlugin,{paidLiveData:io,isLogin:l7,display_id:l5,webRid:td,roomId:eY,viewType:it,scene:tC.W.COMMON_SCENE,setViewType:il,retType:ii,setRetType:ir,setPaidLiveData:ia,isFirstLive:(null==tO?void 0:null===(eN=tO.mod)||void 0===eN?void 0:eN.episode_stage)===E.EpisodeType.FirstLive,logParams:rE,isActive:te,jumpHref:tp({href:lb,enterLogParams:i3}),message:rs}),(0,a.jsx)(tu.b,{isActive:te,isShowGuide:nR,useNewUserSoundGuide:nD})]}),!t7&&(0,a.jsx)(tF,{useFull:!1,player:null===(eD=lw.current)||void 0===eD?void 0:null===(eR=eD.getPlayer)||void 0===eR?void 0:eR.call(eD),isActive:te,isLogin:l7,abTestData:tM,dispatch:nw})]}),nT&&te&&!le&&!iu&&!i0&&!t7&&!rp&&!ln&&!lp&&!t3&&!(rc&&"audio_audience"!==rd&&rd)&&rD&&(0,a.jsx)(nn.default,{room:nT,disableIcon:!0}),te&&(0,a.jsx)(nr.VrPluginSmaple,{rawdata:nm,playerInstance:null===(eB=lw.current)||void 0===eB?void 0:null===(eV=eB.getPlayer)||void 0===eV?void 0:eV.call(eB)}),te&&(0,a.jsx)(nA.h,{source:"Preview"})]}),"highlight"===lu?(0,a.jsxs)("div",{className:to.liveCommonTag,children:[(0,a.jsx)(e_,{isPaidLive:iu,episodeExtra:tO}),(0,a.jsx)(Y.G,{target:(null==lC?void 0:lC.html_target)||"_blank",href:lb,isHideUrl:!t7&&("recommend"===t0||"follow"===t0),style:{cursor:"pointer"},onClick:e=>i6({openLiveModal:!0,event:e}),passParams:i3,className:U()(to.liveMask,{[to.inActive]:im}),stopPropagation:t7||ny})]}):null]})]})}),nT=(0,nk.RS)(nN)},540686:function(e,t,n){"use strict";n.d(t,{Ck:function(){return o},Ri:function(){return i},sF:function(){return r}});var l=n(829021);let i=[l.yP.AUDIO_1V8_STAGE,l.yP.AUDIO_GRID,l.yP.AUDIO_1V8,l.yP.MATE_CUSTOM,l.yP.AUDIO_DOUBLE_C],r=[l.yP.VIDEO_DYNAMIC,l.yP.VIDEO_1V6,l.yP.VIDEO_GRID,l.yP.VIDEO_1_V_8,l.yP.VIDEO_1_V_6,l.yP.VIDEO_1_V_3,l.yP.VIDEO_DYNAMIC_FLOAT,l.yP.VIDEO_T1_V_B8,l.yP.VIDEO_1V8,l.yP.VIDEO_2V4V4],o=[l.yP.VIDEO_1V6,l.yP.VIDEO_GRID,l.yP.VIDEO_6V6,l.yP.VIDEO_1_V_8,l.yP.VIDEO_DYNAMIC_FLOAT,l.yP.VIDEO_1_V_6,l.yP.VIDEO_1_V_3,l.yP.VIDEO_T1_V_B8,l.yP.VIDEO_1V8,l.yP.VIDEO_2V4V4]},258972:function(e,t,n){"use strict";n.d(t,{j5:function(){return u},lC:function(){return o},oh:function(){return i},pv:function(){return a},xD:function(){return r}});var l=n(829021);let i={[l.yP.VIDEO_1V6]:{frameRate:30,width:256,height:256,maxKbps:800},[l.yP.VIDEO_1V8]:{frameRate:30,width:256,height:256,maxKbps:800},[l.yP.VIDEO_GRID]:{frameRate:30,width:240,height:240,maxKbps:800},[l.yP.VIDEO_6V6]:{frameRate:30,width:240,height:320,maxKbps:800}},r={2:{frameRate:15,width:360,height:640,maxKbps:800},3:{frameRate:15,width:360,height:320,maxKbps:500},4:{frameRate:15,width:360,height:320,maxKbps:500},5:{frameRate:15,width:240,height:320,maxKbps:400},6:{frameRate:15,width:240,height:320,maxKbps:400},7:{frameRate:15,width:240,height:240,maxKbps:280},8:{frameRate:15,width:240,height:240,maxKbps:280},9:{frameRate:15,width:240,height:240,maxKbps:280}},o={[l.yP.VIDEO_1V6]:{frameRate:30,width:256,height:256},[l.yP.VIDEO_GRID]:{frameRate:30,width:240,height:240},[l.yP.VIDEO_6V6]:{frameRate:30,width:240,height:320},[l.yP.VIDEO_DYNAMIC_FLOAT]:{frameRate:30,width:256,height:256}},a={2:{width:360,height:640,frameRate:30},3:{width:360,height:320,frameRate:30},4:{width:360,height:320,frameRate:30},5:{width:240,height:320,frameRate:30},6:{width:240,height:320,frameRate:30},7:{width:240,height:240,frameRate:30},8:{width:240,height:240,frameRate:30},9:{width:240,height:240,frameRate:30}};var u={MICROPHONE:0,0:"MICROPHONE",CAMERA:1,1:"CAMERA"}},967747:function(e,t,n){"use strict";n.d(t,{K4:function(){return c},V:function(){return s},Yi:function(){return v},m6:function(){return d},oD:function(){return u},xA:function(){return f}}),n(779788);var l=n(396169),i=n(618360),r=n(987475),o=n(645260),a=n.n(o);let u=e=>{switch(e){case i.ku.TRY_WATCH_ING:return"try";case i.ku.TRT_WATCH_FINISH:return"try_end";case i.ku.NORMAL_WATCH:default:return"regular"}},s=e=>{document.cookie=(0,l.serialize)(r.CookieKeys.PaidLiveDuration,JSON.stringify(e),{domain:".douyin.com",path:"/"})},d=()=>{var e,t;let n=a()(window,"__STORE__.paidLiveStore.paidLiveData.paid_type",0),l=a()(window,"__STORE__.paidLiveStore.viewType",i.ku.BAN),r=null===(t=window)||void 0===t?void 0:null===(e=t.__INVISIBLE_QUERY__)||void 0===e?void 0:e.entrance_form;return{is_paidlive:Number(n),watch_paidlive_status:u(l),entrance_form:r}},c=e=>({is_paidlive:1}),v=()=>{var e,t;let n;let l=null===(t=window)||void 0===t?void 0:null===(e=t.__STORE__)||void 0===e?void 0:e.paidLiveStore;switch(null==l?void 0:l.viewType){case i.ku.TRY_WATCH_ING:n="try_toolbar";case i.ku.TRT_WATCH_FINISH:n="tryend_toolbar";default:n="regular"}return{watch_type:n}},f=e=>{try{var t;let{title:n="",ticket_session_id_str:l=""}=null!==(t=null!=e?e:window.__STORE__.paidLiveStore.paidLiveData.ticket_session)&&void 0!==t?t:{};return{ticket_name:n,ticket_id:l}}catch(e){return{ticket_name:"",ticket_id:""}}}},744612:function(e,t,n){"use strict";n.d(t,{EF:function(){return a},PQ:function(){return o},k2:function(){return l},vK:function(){return r},ve:function(){return i}});let l=()=>{var e;return null!==(e=Array.from(document.querySelectorAll("#playerPopup")).find(e=>e.getBoundingClientRect().height>0))&&void 0!==e?e:null},i=()=>{var e;return null!==(e=Array.from(document.querySelectorAll('[data-e2e="living-container"]')).find(e=>{var t;return(null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.height)>0}))&&void 0!==e?e:null},r=()=>{var e;return null!==(e=Array.from(document.querySelectorAll("#comment-textarea")).find(e=>{var t;return(null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.height)>0}))&&void 0!==e?e:null},o=()=>{var e;return null!==(e=Array.from(document.querySelectorAll("#user_control_panel")).find(e=>e.getBoundingClientRect().height>0))&&void 0!==e?e:null},a=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return null!==(e=Array.from(document.querySelectorAll(`#${t}`)).find(e=>e.getBoundingClientRect().height>0))&&void 0!==e?e:null}},505575:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var l=n(818597),i=n(850634),r=n(88648);let o=()=>{var e,t;let n=(0,l.o)(),o=null==n?void 0:null===(e=n.playerStore)||void 0===e?void 0:e.playerInstance,a=null==n?void 0:null===(t=n.playerStore)||void 0===t?void 0:t.playerLoggerInstance,{playerRef:u,loggerRef:s}=r.useContext(i.ET)||{};return{player:o||(null==u?void 0:u.current),logger:a||(null==s?void 0:s.current)}}},796591:function(e,t,n){"use strict";n.d(t,{Nu:function(){return v},UV:function(){return d},aV:function(){return c},wY:function(){return s}});var l=n(343049),i=n(645260),r=n.n(i),o=n(674379),a=n(867204),u=n(618618);let s=()=>{try{var e,t,n,l;let{roomInfo:i={}}=null===(t=window)||void 0===t?void 0:null===(e=t.__STORE__)||void 0===e?void 0:e.roomStore;if((null===(l=window)||void 0===l?void 0:null===(n=l.__INVISIBLE_QUERY__)||void 0===n?void 0:n.enter_from_merge)==="web_share_link"&&(null==i?void 0:i.enter_mode)===u.gE.APP)return a.R5.QRCODE;return(null===a.FO||void 0===a.FO?void 0:a.FO[r()(i,"room.stream_url.stream_orientation")])||""}catch(e){return a.R5.VERTICAL}},d=()=>{var e;if(!window.__STORE__)return{};let{homeStore:{selectedRoom:t},roomStore:{roomInfo:n}}=window.__STORE__,l=(0,o.C$)()?r()(t,"room.owner.id_str",""):r()(n,"anchor.id_str",""),i=(0,o.C$)()?r()(t,"room.id_str",""):r()(n,"roomId","");return{anchor_id:l,room_id:i,game_name:(0,o.C$)()?r()(t,"tag_name",""):null===(e=window.__INVISIBLE_QUERY__)||void 0===e?void 0:e.game_name}},c=()=>{var e,t,n,l,i;return{live_type:"game",game_live_source:"game_web",is_aweme_tied:(null===(n=window)||void 0===n?void 0:null===(t=n.__STORE__)||void 0===t?void 0:null===(e=t.userStore)||void 0===e?void 0:e.userInfo.id_str)?1:0,url:location.href,url_path:location.pathname,_is_new_version:null===(l=window)||void 0===l?void 0:l.isNewVersionFirstOpen,_live_version:null===(i=window)||void 0===i?void 0:i.version,stream_type:s()}},v=()=>{var e;let{web_live_page:t="",web_live_tab:n="",web_live_tab_2:i="",web_live_tab_3:a="",more_detail:u="",game_name:d="",enter_from_merge:c="",enter_method:v="",title_type:f="",cover_type:p="",is_recommend:m="",stream_type:h="",search_params:_="",action_type:g="click",evening_type:y="",previous_page:w="",live_type:E="",function_type:x="",function_type2:C="",seat_fit_status:b="",request_id:A="",insert_task_id:k="",group_id:I="",is_livehead_preview_mini_window_show:S="",enter_method_temai:P="click_other_area",show_rank:j,show_cnt:L,mini_window_show_type:N,search_tab:T,enter_live_detail_method:R,live_position:D="",url_source:M,preview_type:O,web_card_rank:F=""}=window.__INVISIBLE_QUERY__||{},{homeStore:{selectedRoom:V},roomStore:{roomInfo:B},pkStore:{pkAppData:U,pkTeamCount:H,pkPlayMode:Z,pkId:G,pkStatus:K}}=window.__STORE__,z=r()(window,"__STORE__.roomStore.roomInfo.roomId"),W=(0,o.C$)()?r()(V,"room.owner.id_str",""):r()(B,"anchor.id_str",""),Q=_;try{Q&&"String"===(0,l.tQ)(Q)&&(Q=JSON.parse(_))}catch(e){}return{anchor_id:W,room_id:z,enter_from_merge:c,enter_method:v,web_live_page:t,web_live_tab:n,web_live_tab_2:i,web_live_tab_3:a,more_detail:u,game_name:d,title_type:f,cover_type:p,is_recommend:m,stream_type:h||s(),evening_type:y,previous_page:w,function_type:x,seat_fit_status:b,search_params:Q,search_type:null==Q?void 0:Q.search_type,search_id:null==Q?void 0:Q.search_id,action_type:g,request_id:A,insert_task_id:k,video_id:"web_video_head"===v?I:z,is_livehead_preview_mini_window_show:S,enter_method_temai:P,show_rank:j,show_cnt:L,mini_window_show_type:N,search_tab:T,enter_live_detail_method:R,live_position:D,url_source:M,channel_id:null==U?void 0:U.channelId,invite_mode:Z,anchor_connect_status:(null==U?void 0:null===(e=U.grids)||void 0===e?void 0:e.length)||-1,pk_team_count:H,pk_id:G,preview_type:O,web_card_rank:F}}},113592:function(e,t,n){"use strict";n.d(t,{Bo:function(){return v},It:function(){return p}});var l=n(520739),i=n(878389);n(527785),n(927234),n(954372),n(826893),n(779788);var r=n(683849),o=n(567754),a=n(914104),u=n(328155),s=n(565024),d=n(987475);let c=["enter_from_merge","enter_method","ug_source","material_group_id","resource_space_id",/^_transparent_/,"web_live_page","web_live_tab","web_live_tab_2","web_live_tab_3","more_detail","game_name","title_type","cover_type","is_recommend","stream_type","room_id","evening_type","search_params","action_type","previous_page","request_id","live_type","function_type","seat_fit_status","insert_task_id","live_reason","aspect_ratio","from_landscape_tab","group_id","is_livehead_preview_mini_window_show","enter_method_temai","show_rank","show_cnt","cid","msToken","if_paid_live_card","entrance_form","ticket_entrance","if_qianchuan_ad","ad_type","live_ad_creative_id","live_ad_id","X-Bogus","ad_log_extra","if_browser_limited","open_promotion_list","open_promotion_detail","message_from","video_id","mini_window_show_type","search_tab","live_position","url_source","xigua_webid","push_id","otherParams","enter_method_on_cellphone","enter_from_on_cellphone","is_replaced_live","preview_type","web_card_rank","show_type"],v=()=>{let{group_id:e=""}=window.__INVISIBLE_QUERY__||{};return e},f=()=>{let e=(0,u.Nr)(location.pathname);window.addEventListener("beforeunload",()=>{try{if(e){var t;s.Q.setItem(d.CookieKeys.LiveInvisibleQuery,(0,o.stringify)(null===(t=window)||void 0===t?void 0:t.__INVISIBLE_QUERY__),60)}}catch(e){}})},p=e=>{try{let t=(0,o.parse)(e);try{let e=s.Q.getItem({sKey:d.CookieKeys.LiveInvisibleQuery});e&&(window.__INVISIBLE_QUERY__=(0,o.parse)(e),s.Q.removeItem(d.CookieKeys.LiveInvisibleQuery)),f()}catch(e){}let n=Object.keys(t).reduce((e,n)=>{if(c.some(e=>("[object RegExp]"===Object.prototype.toString.call(e)&&e.test(n)||"[object String]"===Object.prototype.toString.call(e)&&e===n)&&void 0!==t[n])){if("string"==typeof t[n])window.__INVISIBLE_QUERY__[n]=t[n];else if("object"==typeof t[n]){var r;(null===(r=t[n])||void 0===r?void 0:r.length)>0&&(window.__INVISIBLE_QUERY__[n]=t[n][t[n].length-1])}return e}return(0,i._)((0,l._)({},e),{[n]:t[n]})},{});sessionStorage.setItem(r.UY,JSON.stringify(window.__INVISIBLE_QUERY__));let a=Object.keys(n).length?`?${(0,o.stringify)(n)}`:"";return{remainQuery:n,remainQueryString:a}}catch(l){var t,n;return null===(n=(0,a.OK)())||void 0===n||null===(t=n.sendEvent)||void 0===t||t.call(n,{name:"filterAndUpdateInvisibleQuery_error",categories:{error:l,queryString:e},type:"event"}),{remainQuery:{},remainQueryString:""}}}},556536:function(e,t,n){"use strict";n.d(t,{J:function(){return a}});var l=n("563097"),i=n("713097"),r=n.n(i);n("88648");var o=n("47404");let a=e=>{let{className:t}=e;return(0,l.jsx)("div",{className:r()(o.default.icon,t),children:(0,l.jsx)("img",{src:"data:image/png;base64,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"})})}},122196:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var l=n("563097"),i=n("713097"),r=n.n(i);n("88648");var o=n("633313");let a=e=>{let{className:t}=e;return(0,l.jsx)("div",{className:r()(o.default.icon,t),children:(0,l.jsx)("img",{src:"data:image/png;base64,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"})})}},172061:function(e,t,n){"use strict";n.d(t,{P:function(){return _}});var l=n("563097"),i=n("88648"),r=n("713097"),o=n.n(r),a=n("828782"),u=n("66627"),s=n("385236"),d=n("115627"),c=n("979571"),v=n("520739"),f=n("878389");let p=(0,i.forwardRef)((e,t)=>(0,l.jsx)("svg",(0,f._)((0,v._)({width:18,height:18,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,l.jsx)("path",{d:"M17.448 17.448a1.886 1.886 0 0 1-2.668 0L9 11.668l-5.78 5.78A1.886 1.886 0 1 1 .552 14.78L6.332 9 .552 3.22A1.886 1.886 0 1 1 3.22.552L9 6.332l5.78-5.78a1.886 1.886 0 1 1 2.668 2.668L11.668 9l5.78 5.78a1.886 1.886 0 0 1 0 2.668z",fill:"#fff"})}))),m=(0,i.forwardRef)((e,t)=>(0,l.jsx)("svg",(0,f._)((0,v._)({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,l.jsx)("path",{d:"M16 4l-8 8.14L16 20",stroke:"#fff",strokeOpacity:".7",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",shapeRendering:"crispEdges"})})));var h=n("529840");let _=e=>{let{onClick:t,isClientMiniWin:n,isBackSvg:i=!1}=e,r=(0,a.DT)()&&(0,u.y)((0,a.FJ)().awemePcClient,">=","5.4.0"),v=!(i||r);return(0,l.jsxs)("div",{className:o()(h.default.container,"isDark",{[h.default.hide]:n},r&&h.default.clientHomeStyleWrap),onClick:t,children:[(0,l.jsx)("div",{className:h.default.circle}),r&&(0,l.jsx)(c.z,{className:o()(h.default.back),svg:(0,l.jsx)(s.Z,{style:{fontSize:"24px"}})}),i&&!r&&(0,l.jsx)(d.Z,{src:m,className:h.default.back,viewBox:"0 0 24 24"}),v&&(0,l.jsx)(d.Z,{src:p,className:h.default.close,viewBox:"0 0 18 18"})]})}},879214:function(e,t,n){"use strict";n.d(t,{TC:function(){return v},Zi:function(){return c},fl:function(){return p},vD:function(){return f}}),n(675373),n(874386),n(209955);var l=n(563097),i=n(88648),r=n(797973),o=n(254575),a=n(96008),u=n.n(a),s=n(455499),d=n(678315);let c="default_pip_id",v=(0,i.createContext)({isSupported:!1,pipInfo:null,openPipWindow:()=>Promise.resolve({isSuccess:!1}),closePipWindow:u(),pipAnchorEleMapRef:{current:{}}}),f=e=>{let{children:t}=e,[n,a]=(0,i.useState)((0,s.ZV)()),u=(0,i.useRef)({}),[f,p]=(0,i.useState)(null),m=(0,r.Z)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;(null==f?void 0:f.pipId)===e&&(f.window.close(),p(null))}),h=(0,o.Z)(async e=>{let{width:t,height:l,pipId:i=c}=e;try{if(!n)throw Error("Not Supported");if((null==f?void 0:f.pipId)===i)return{isSuccess:!0,pipInfo:f};let e=await (0,d.hp)({pipId:i,width:t,height:l});e.addEventListener("pagehide",()=>m(i));let r={window:e,pipId:i};return p(r),{isSuccess:!0,pipInfo:r}}catch(e){return e&&11===e.code&&a(!1),{isSuccess:!1,error:e}}}),_=(0,i.useMemo)(()=>({isSupported:n,pipInfo:f,openPipWindow:h,closePipWindow:m,pipAnchorEleMapRef:u}),[m,f,n,h,u]);return(0,l.jsx)(v.Provider,{value:_,children:t})},p=()=>(0,i.useContext)(v)},308910:function(e,t,n){"use strict";n.d(t,{F6:function(){return c},TY:function(){return v},pu:function(){return f}});var l=n(520739),i=n(878389),r=n(368200),o=n(563097),a=n(88648),u=n(309931);n(96008);var s=n(879214),d=n(678315);let c=e=>{let{children:t,pipId:n=s.Zi}=e,{pipInfo:l}=(0,s.fl)();return l&&l.pipId===n?(0,u.createPortal)(t,l.window.document.body):null},v=e=>{var{children:t,pipAnchorId:n,placeholder:c,className:v}=e,f=(0,r._)(e,["children","pipAnchorId","placeholder","className"]);let{pipInfo:p,pipAnchorEleMapRef:m}=(0,s.fl)(),h=(0,a.useRef)(null),_=(0,a.useMemo)(d.ie,[]);return _&&(m.current[n]=_),(0,a.useEffect)(()=>()=>{delete m.current[n]},[n,m]),(0,a.useEffect)(()=>{var e;if(!p&&!!_)null===(e=h.current)||void 0===e||e.appendChild(_)},[_,p]),(0,o.jsxs)("div",(0,i._)((0,l._)({ref:h,"data-anchor-id":n,className:v},f),{children:[p?c:null,_?(0,u.createPortal)(t,_):t]}))},f=e=>{var{pipAnchorId:t}=e,n=(0,r._)(e,["pipAnchorId"]);let i=(0,a.useRef)(null),{pipAnchorEleMapRef:u,pipInfo:d}=(0,s.fl)();return(0,a.useEffect)(()=>{let e=u.current[t];if(!!d&&!!i.current&&!!e)i.current.appendChild(e)},[t,u,d]),(0,o.jsx)("div",(0,l._)({"data-anchor-id":t,ref:i},n))}},310935:function(e,t,n){"use strict";n.d(t,{X:function(){return a}});var l=n(520739),i=n(368200),r=n(563097),o=n(549519);function a(e){return function(t){let{isRenderInSSR:n}=t,a=(0,i._)(t,["isRenderInSSR"]),u=(0,r.jsx)(e,(0,l._)({},a));return n?(0,r.jsx)(o.NoSSR,{children:u}):u}}n(88648)},215932:function(e,t,n){"use strict";n.d(t,{S:function(){return B}});var l=n("520739"),i=n("878389"),r=n("368200");n("874386"),n("250440"),n("268917");var o=n("563097"),a=n("88648"),u=n("877639"),s=n.n(u),d=n("713097"),c=n.n(d),v=n("594649"),f=n("623582"),p=n("737470"),m=n("590682"),h=n("982755"),_=n("860805"),g=n("465769"),y=n("742740"),w=n("907170"),E=n("623527");let x=e=>{var t,n;let{adData:l,logParams:i,componentId:r}=e,o=null==l?void 0:null===(t=l.lynx_components)||void 0===t?void 0:t.find(e=>(null==e?void 0:e.lynx_type)===m.AD_FEED_TYPE),u=null==o?void 0:null===(n=o.lynx_raw_data)||void 0===n?void 0:n.mixed_area_info;(0,a.useEffect)(()=>{try{if(r===p.nw.Swiper304){var e,t,n,o;let{card_data:a=null}=l||{};if(!(null==a?void 0:null===(e=a["10"])||void 0===e?void 0:e.card_data)){E.oe.event.error({name:E.Mo.AdCardInfoMiss,report:{key:"card_data",adType:p.Z9.Live,creativeId:null==l?void 0:l.creative_id,logId:null==i?void 0:i.requestId,logParams:i,componentId:r}}),(0,v.E)("othershow_fail",{tag:"draw_ad",value:l.creative_id,log_extra:l.log_extra});return}let u=null==a?void 0:null===(o=a["10"])||void 0===o?void 0:null===(n=o.card_data)||void 0===n?void 0:null===(t=n.live_product_infos)||void 0===t?void 0:t[0];if(!u){E.oe.event.error({name:E.Mo.AdCardInfoMiss,report:{key:"card_detail_info",adType:p.Z9.Live,creativeId:null==l?void 0:l.creative_id,logId:null==i?void 0:i.requestId,logParams:i,componentId:r}}),(0,v.E)("othershow_fail",{tag:"draw_ad",value:l.creative_id,log_extra:l.log_extra});return}let s=[];["product_phrase","product_name","image_url"].forEach(e=>{!u[e]&&s.push(e)}),["collection_num","return_vistors","favorable_rate","product_tags","sell_num","product_feedback"].every(e=>!(null==u?void 0:u[e]))&&s.push("feedback"),E.oe.event.error({name:E.Mo.AdCardInfoMiss,report:{key:s,adType:p.Z9.Live,creativeId:null==l?void 0:l.creative_id,logId:null==i?void 0:i.requestId,logParams:i,componentId:r}})}else{let e=["product_phrase","product_name","image_url"],t=[];e.forEach(e=>{!(null==u?void 0:u[e])&&t.push(e)}),["collection_num","return_vistors","favorable_rate","product_tags","sell_num","product_feedback"].every(e=>!(null==u?void 0:u[e]))&&t.push("feedback"),t.length>=e.length&&(0,v.E)("othershow_fail",{tag:"draw_ad",value:l.creative_id,log_extra:l.log_extra}),E.oe.event.error({name:E.Mo.AdCardInfoMiss,report:{key:t,adType:p.Z9.Live,creativeId:null==l?void 0:l.creative_id,logId:null==i?void 0:i.requestId,logParams:i,componentId:r}})}}catch(e){}},[l])};var C=n("212271"),b=n("187348"),A=n("531611"),k=n("496831"),I=n("995754"),S=n("801636"),P=n("801103"),j=n("276541"),L=n("647571"),N=n("474379"),T=n("1446");n("459903"),L.Z.use([N.Z]);var R=e=>{let{slideItems:t,className:n,isStartPlay:l,onClickProductImg:i}=e,[r,u]=(0,a.useState)(),s=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(r&&l&&(null==t?void 0:t.length)>1){if(!s.current){var e;null==r||null===(e=r.slideNext)||void 0===e||e.call(r),s.current=setInterval(()=>{var e;null==r||null===(e=r.slideNext)||void 0===e||e.call(r)},3e3)}}else s.current&&clearInterval(s.current),s.current=null},[l,t,r]),(0,a.useEffect)(()=>()=>{s.current&&clearInterval(s.current),s.current=null},[]),(0,o.jsx)("div",{className:c()(T.default.productSwiper,n),children:(0,o.jsx)(P.t,{allowTouchMove:!1,direction:"horizontal",slidesPerView:3,spaceBetween:10,loop:t.length>3,onInit:u,autoplay:!1,children:t.map((e,t)=>(0,o.jsx)(j.o,{children:(0,o.jsxs)("div",{className:T.default.productItem,onClick:n=>i(n,{refer:C.tU.Photo,click_rank:(null==e?void 0:e.url)?t+1:0,click_type:(null==e?void 0:e.url)?C.Kw.AdProduct:C.Kw.AdBackupProduct,isOpenPromotion:!0}),children:[0===t&&(0,o.jsx)("div",{className:T.default.livingTag,children:"讲解中"}),(0,o.jsx)(S.Q,{src:null==e?void 0:e.url,iconHeight:72,iconWidth:72,className:T.default.productImg}),(0,o.jsx)("div",{className:T.default.productDesc,children:null==e?void 0:e.desc})]})},t))})})},D=n("375216"),M=n("800166"),O=e=>{var t,n,l;let{className:i,title:r,subTitle:a,subTitleLogParams:u,imageUrl:s,isBackupImgUrl:d=!1,productItems:v,buttonText:f,buttonBgColor:p=m.DEFAULT_BUTTON_COLOR,onClick:h,isStartPlay:_,tags:g=[]}=e;return(0,o.jsxs)("div",{className:c()(I.default.strongStyleMultiAdCard,i),onClick:e=>h(e,{refer:C.tU.Blank}),children:[(null==v?void 0:v.length)>=2&&(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:I.default.adInfo,children:[(0,o.jsx)("div",{onClick:e=>h(e,{refer:C.tU.Photo,click_type:d?C.Kw.AdBackupProduct:C.Kw.AdAnchor}),children:(0,o.jsx)(S.Q,{src:s,iconHeight:40,iconWidth:40,className:I.default.adIcon})}),(0,o.jsxs)("div",{className:I.default.detail,children:[(0,o.jsx)("div",{className:I.default.title,onClick:e=>h(e,{refer:C.tU.Name}),children:r}),(null==g?void 0:g.length)>0&&(0,o.jsx)("div",{className:I.default.tagLine,children:null==g?void 0:null===(t=g.slice(0,2))||void 0===t?void 0:t.map((e,t)=>(0,o.jsx)(D.Z,{className:I.default.tag,onClick:t=>h(t,{refer:C.tU.Pull,product_tags:e}),children:e},t))}),!(null==g?void 0:g.length)&&(0,o.jsx)("div",{className:I.default.subTitle,onClick:e=>h(e,u),children:a})]})]})}),(null==v?void 0:v.length)>=2&&(0,o.jsx)(R,{className:I.default.swiperContainer,slideItems:v,isStartPlay:_,onClickProductImg:h}),(null==v?void 0:v.length)<=1&&(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:I.default.adInfo2,children:[(0,o.jsx)("div",{onClick:e=>h(e,{refer:C.tU.Photo,click_type:d?C.Kw.AdBackupProduct:C.Kw.AdProduct}),children:(0,o.jsx)(S.Q,{src:s,iconHeight:72,iconWidth:72,className:I.default.adIcon2})}),(0,o.jsxs)("div",{className:I.default.detail2,children:[(0,o.jsx)("div",{className:I.default.title2,onClick:e=>h(e,{refer:C.tU.Name}),children:r}),(0,o.jsx)("div",{className:I.default.tagLine2,children:null===(l=(null==g?void 0:g.length)>0?g:M.lg)||void 0===l?void 0:null===(n=l.slice(0,2))||void 0===n?void 0:n.map((e,t)=>(0,o.jsx)(D.Z,{className:I.default.tag2,onClick:t=>h(t,{refer:C.tU.Pull,product_tags:e}),children:e},t))}),(0,o.jsx)("div",{className:I.default.subTitle,onClick:e=>h(e,u),children:a})]})]})}),(0,o.jsx)("div",{className:I.default.adButton,style:{background:p},onClick:e=>h(e,{refer:C.tU.Button}),children:f})]})},F=n("857415");let V=e=>{let{isActive:t,adData:n,onClick:u,logParams:d,className:E}=e||{},[I,S]=(0,a.useState)(!1),[P,j]=(0,a.useState)(),[L,N]=(0,a.useState)(!1),T=(0,a.useRef)(!1),R=(0,a.useRef)(new Date().getTime()),D=(0,a.useRef)(new Date().getTime()),V=(0,a.useCallback)(s()((e,t)=>{e.stopPropagation();let{isOpenPromotion:i}=t,o=(0,r._)(t,["isOpenPromotion"]);null==u||u(e,i),(0,v.E)("realtime_click",(0,l._)({tag:(0,_.f)(),value:null==n?void 0:n.creative_id,log_extra:null==n?void 0:n.log_extra,ad_extra_data:(0,l._)({show_time:new Date().getTime()-R.current,click_time:new Date().getTime()-D.current},o)},o)),f.logInstance.sendLog("productEntranceClick",{cid:null==n?void 0:n.creative_id,source_page:(0,g.mo)(),enter_from:(0,g.mo)(),enter_from_merge:(0,y.yW)(),commodity_id:"",product_id:"",if_qianchuan_ad:1,ad_type:p.Z9.PreviewLive}),f.logInstance.sendLog("adComponentClick",{component_name:"FeedPreviewLiveAd",cid:null==n?void 0:n.creative_id,ad_refer:null==t?void 0:t.refer})},1e3,{leading:!0,trailing:!1}),[n]),{productName:B,phrase:U,sellInfo:H,tagsElement:Z,feedbackInfo:G,componentIds:K,tagsText:z,defaultPhraseElement:W,imageUrl:Q,buttonBackgroundColor:q,isBackupImgUrl:X}=(0,F.l)({adData:n,onClickElement:V}),Y=B||"直播间同款商品",{componentType:J,adSlideItems:$,strongStyleMultiData:ee}=(0,a.useMemo)(()=>{let e=null,t=[],r=[],o={};if(null==K?void 0:K.includes(p.nw.SingleLine304))e=p.nw.SingleLine304,r=[U,H,Z,G].filter(e=>!!e),t=[Y];else if(null==K?void 0:K.includes(p.nw.MultiLine304))e=p.nw.MultiLine304,r=[U,H,Z,G].filter(e=>!!e);else if(null==K?void 0:K.includes(p.nw.Detail304))e=p.nw.Detail304,r=[U,H,G].filter(e=>!!e);else if(null==K?void 0:K.includes(p.nw.Swiper304)){var a,u,s,d,c,v,f,h,_,g,y,E;e=p.nw.Swiper304;let{card_data:r=null}=n||{},x=(null==r?void 0:null===(u=r["10"])||void 0===u?void 0:null===(a=u.card_data)||void 0===a?void 0:a.live_product_infos)||[],b=[];b=(null==x?void 0:null===(s=x.map)||void 0===s?void 0:s.call(x,e=>{var t;return{url:(null==e?void 0:e.image_url)||(null==e?void 0:null===(t=e.prodcut_gallery)||void 0===t?void 0:t[0]),desc:(null==e?void 0:e.product_feedback)||(null==e?void 0:e.favorable_rate)||(null==e?void 0:e.collection_num)}}))||[];let A=null==x?void 0:x[0],k=M.VD[Math.floor(Math.random()*M.VD.length)],I="",S={};(null==A?void 0:null===(d=A.product_tags)||void 0===d?void 0:d.length)?(I=(null==A?void 0:A.product_phrase)||((0,w.Hy)(null==A?void 0:A.sell_num)?`爆卖${(0,w.Hy)(null==A?void 0:A.sell_num)}件`:null)||k,S=(null==A?void 0:A.product_phrase)?{product_short_phrase:null==A?void 0:A.product_phrase}:(0,w.Hy)(null==A?void 0:A.sell_num)?{sell_num:null==A?void 0:A.sell_num}:{live_product_info_backup:k}):(I=(null==A?void 0:A.product_phrase)||((0,w.Hy)(null==A?void 0:A.sell_num)?`爆卖${(0,w.Hy)(null==A?void 0:A.sell_num)}件`:null)||(null==A?void 0:A.product_feedback)||(null==A?void 0:A.favorable_rate)||(null==A?void 0:A.collection_num)||k,S=(null==A?void 0:A.product_phrase)?{product_short_phrase:null==A?void 0:A.product_phrase}:(0,w.Hy)(null==A?void 0:A.sell_num)?{sell_num:null==A?void 0:A.sell_num}:(null==A?void 0:A.product_feedback)||(null==A?void 0:A.favorable_rate)||(null==A?void 0:A.collection_num)?{product_feedback:(null==A?void 0:A.product_feedback)||(null==A?void 0:A.favorable_rate)||(null==A?void 0:A.collection_num)}:{live_product_info_backup:k});let P=[];P=b.length<=1?null==A?void 0:A.product_tags:(null==A?void 0:A.product_phrase)||(0,w.Hy)(null==A?void 0:A.sell_num)?[]:null==A?void 0:A.product_tags,o={products:b,productPhrase:I,subTitleLogParams:(0,i._)((0,l._)({},S),{refer:C.tU.Sow}),adTags:P,productName:(b.length>=2?null==A?void 0:A.shop_name:null==A?void 0:A.product_name)||"直播间同款商品",isBackupImgUrl:b.length>=2?!(null==r?void 0:null===(h=r["10"])||void 0===h?void 0:null===(f=h.card_data)||void 0===f?void 0:null===(v=f.image_url_v2)||void 0===v?void 0:null===(c=v.url_list)||void 0===c?void 0:c[0]):!(null==A?void 0:A.image_url),imageUrl:(b.length>=2?null==r?void 0:null===(E=r["10"])||void 0===E?void 0:null===(y=E.card_data)||void 0===y?void 0:null===(g=y.image_url_v2)||void 0===g?void 0:null===(_=g.url_list)||void 0===_?void 0:_[0]:null==A?void 0:A.image_url)||m.DEFAULT_AD_IMAGE_URL},t=[]}return e!==p.nw.Swiper304&&(0===r.length?t.push(W):t=t.concat(r.slice(0,3))),{componentType:e,adSlideItems:t,strongStyleMultiData:o}},[n]),et=(0,a.useRef)(!1),en=(0,a.useRef)(!1);return((0,a.useEffect)(()=>{if(t&&!T.current&&J){var e,l;let t=0,i=null==n?void 0:null===(e=n.lynx_components)||void 0===e?void 0:e.find(e=>(null==e?void 0:e.lynx_type)===m.AD_FEED_TYPE),{show_button_seconds:r=M.vv,show_button_color_seconds:o=M.Wc,switch_style_seconds:a=M._u}=(null==i?void 0:null===(l=i.lynx_raw_data)||void 0===l?void 0:l.mixed_area_info)||{},u=setInterval(()=>{(t+=1)>=a?(N(!0),clearInterval(u)):t>=o?j("#FE2C55"):t>=r&&(S(!0),T.current=!0,!en.current&&(en.current=!0,(0,v.E)("othershow",{tag:(0,_.f)(),value:n.creative_id,log_extra:n.log_extra,refer:(0,h.UV)(J)?C.tU.SupportAreaCard:C.tU.SupportArea,ad_extra_data:{card_show_duration:1e3*M.vv}})))},1e3);return()=>{clearInterval(u)}}},[t]),(0,a.useEffect)(()=>{et.current=!1},[n]),(0,a.useEffect)(()=>{I&&!et.current&&J&&(et.current=!0,f.logInstance.sendLog("productEntranceShow",{cid:null==n?void 0:n.creative_id,if_qianchuan_ad:1,ad_type:p.Z9.PreviewLive,source_page:(0,g.mo)(),enter_from:(0,g.mo)(),enter_from_merge:(0,y.yW)(),commodity_id:"",product_id:""}))},[I]),x({adData:n,logParams:d,componentId:J}),(0,a.useEffect)(()=>{I&&(D.current=new Date().getTime())},[I]),I&&J)?(0,o.jsxs)("div",{className:c()(E),children:[J===p.nw.SingleLine304&&(0,o.jsx)(b.Z,{imageUrl:Q,isBackupImgUrl:X,slideItems:$,buttonText:"观看直播",isStartPlay:L,onClick:V}),J===p.nw.MultiLine304&&(0,o.jsx)(A.Z,{imageUrl:Q,isBackupImgUrl:X,slideItems:$,buttonText:"观看直播",title:Y,buttonBgColor:P,isStartPlay:L,onClick:V}),J===p.nw.Detail304&&(0,o.jsx)(k.Z,{imageUrl:Q,isBackupImgUrl:X,slideItems:$,buttonText:"观看直播",title:Y,tags:z&&(null==z?void 0:z.length)>0?z:M.lg,buttonBgColor:P,isStartPlay:L,onClick:V}),J===p.nw.Swiper304&&(0,o.jsx)(O,{imageUrl:ee.imageUrl,isBackupImgUrl:null==ee?void 0:ee.isBackupImgUrl,title:null==ee?void 0:ee.productName,subTitle:null==ee?void 0:ee.productPhrase,subTitleLogParams:null==ee?void 0:ee.subTitleLogParams,buttonText:"观看直播",productItems:null==ee?void 0:ee.products,buttonBgColor:P,isStartPlay:L,onClick:V,tags:(null==ee?void 0:ee.adTags)||[]})]}):null},B=e=>{let{adData:t}=e||{};return t?(0,o.jsx)(V,(0,l._)({},e)):null}},727085:function(e,t,n){"use strict";n(874386);var l=n(563097),i=n(88648),r=n(801103),o=n(276541),a=n(647571),u=n(474379),s=n(713097),d=n.n(s),c=n(899152);n(459903),a.Z.use([u.Z]);t.Z=e=>{let{slideItems:t,className:n,width:a,height:u=20,isStartPlay:s=!1}=e,[v,f]=(0,i.useState)(),p=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(v&&s&&(null==t?void 0:t.length)>1){if(!p.current){var e;null==v||null===(e=v.slideNext)||void 0===e||e.call(v),p.current=setInterval(()=>{var e;null==v||null===(e=v.slideNext)||void 0===e||e.call(v)},3e3)}}else p.current&&clearInterval(p.current),p.current=null},[s,t,v]),(0,i.useEffect)(()=>()=>{p.current&&clearInterval(p.current),p.current=null},[]),(0,l.jsx)("div",{className:d()(c.default.adSwiper,n),children:(0,l.jsx)(r.t,{allowTouchMove:!1,direction:"vertical",slidesPerView:1,spaceBetween:0,loop:!0,onInit:f,width:a,height:u,autoplay:!1,children:t.map((e,t)=>(0,l.jsx)(o.o,{children:(0,l.jsx)("div",{className:c.default.slideContent,children:e})},t))})})}},375216:function(e,t,n){"use strict";var l=n(563097);n(88648);var i=n(713097),r=n.n(i),o=n(894306);t.Z=e=>{let{className:t,children:n,style:i,onClick:a}=e;return(0,l.jsx)("span",{style:i,className:r()(o.default.adTag,t),onClick:a,children:n})}},531611:function(e,t,n){"use strict";var l=n(563097);n(88648);var i=n(713097),r=n.n(i),o=n(590682),a=n(256855),u=n(727085),s=n(801636),d=n(212271);t.Z=e=>{let{className:t,title:n,imageUrl:i,isBackupImgUrl:c=!1,slideItems:v,buttonText:f,buttonBgColor:p=o.DEFAULT_BUTTON_COLOR,onClick:m,isStartPlay:h}=e;return(0,l.jsxs)("div",{className:r()(a.default.doubleLineAdCard,t),onClick:e=>m(e,{refer:d.tU.Blank}),children:[(0,l.jsxs)("div",{className:a.default.adInfo,children:[(0,l.jsx)("div",{onClick:e=>m(e,{refer:d.tU.Photo,click_type:c?d.Kw.AdBackupProduct:d.Kw.AdProduct}),children:(0,l.jsx)(s.Q,{src:i,iconHeight:40,iconWidth:40,className:a.default.adIcon})}),(0,l.jsxs)("div",{className:a.default.detail,children:[(0,l.jsx)("div",{className:a.default.title,onClick:e=>m(e,{refer:d.tU.Name}),children:n}),(0,l.jsx)(u.Z,{isStartPlay:h,className:a.default.swiperContainer,width:108,slideItems:v})]})]}),(0,l.jsx)("div",{className:a.default.adButton,onClick:e=>m(e,{refer:d.tU.Button}),style:{background:p},children:f})]})}},187348:function(e,t,n){"use strict";var l=n(563097);n(88648);var i=n(713097),r=n.n(i),o=n(697021),a=n(830500),u=n(727085),s=n(801636),d=n(212271),c=n(979571);t.Z=e=>{let{className:t,imageUrl:n,isBackupImgUrl:i=!1,slideItems:v,buttonText:f,onClick:p,isStartPlay:m}=e;return(0,l.jsxs)("div",{className:r()(a.default.singleLineAdCard,t),onClick:e=>p(e,{refer:d.tU.Blank}),children:[(0,l.jsxs)("div",{className:a.default.adInfo,children:[(0,l.jsx)("div",{onClick:e=>p(e,{refer:d.tU.Photo,click_type:i?d.Kw.AdBackupProduct:d.Kw.AdProduct}),children:(0,l.jsx)(s.Q,{src:n,iconHeight:28,iconWidth:28,className:a.default.adIcon})}),(0,l.jsx)("div",{onClick:e=>p(e,{refer:d.tU.Name}),children:(0,l.jsx)(u.Z,{isStartPlay:m,className:a.default.swiperContainer,width:136,slideItems:v})})]}),(0,l.jsxs)("div",{className:a.default.btnBox,onClick:e=>p(e,{refer:d.tU.Button}),children:[(0,l.jsx)("span",{className:a.default.text,children:f}),(0,l.jsx)(c.z,{svg:(0,l.jsx)(o.Z,{}),className:a.default.icon})]})]})}},496831:function(e,t,n){"use strict";var l=n(563097);n(88648);var i=n(713097),r=n.n(i),o=n(590682),a=n(153612),u=n(727085),s=n(801636),d=n(375216),c=n(212271);t.Z=e=>{var t;let{className:n,title:i,imageUrl:v,isBackupImgUrl:f=!1,slideItems:p,buttonText:m,buttonBgColor:h=o.DEFAULT_BUTTON_COLOR,tags:_=[],onClick:g,isStartPlay:y}=e;return(0,l.jsxs)("div",{className:r()(a.default.strongStyleAdCard,n),onClick:e=>g(e,{refer:c.tU.Blank}),children:[(0,l.jsxs)("div",{className:a.default.adInfo,children:[(0,l.jsx)("div",{onClick:e=>g(e,{refer:c.tU.Photo,click_type:f?c.Kw.AdBackupProduct:c.Kw.AdProduct}),children:(0,l.jsx)(s.Q,{src:v,iconHeight:72,iconWidth:72,className:a.default.adIcon})}),(0,l.jsxs)("div",{className:a.default.detail,children:[(0,l.jsx)("div",{className:a.default.title,onClick:e=>g(e,{refer:c.tU.Name}),children:i}),(null==_?void 0:_.length)>0&&(0,l.jsx)("div",{className:a.default.tagLine,children:null==_?void 0:null===(t=_.slice(0,2))||void 0===t?void 0:t.map((e,t)=>(0,l.jsx)(d.Z,{className:a.default.tag,onClick:t=>g(t,{refer:c.tU.Pull,product_tags:e}),children:e},t))}),(0,l.jsx)(u.Z,{isStartPlay:y,className:a.default.swiperContainer,width:156,slideItems:p})]})]}),(0,l.jsx)("div",{className:a.default.adButton,style:{background:h},onClick:e=>g(e,{refer:c.tU.Button}),children:m})]})}},800166:function(e,t,n){"use strict";n.d(t,{VD:function(){return l},Wc:function(){return a},_u:function(){return u},k1:function(){return i},lg:function(){return r},vv:function(){return o}});let l=["不容错过的优品","值得买的好物","优选心仪好物","精选超值好货"],i=["人气热卖","优选好物"],r=["优选好物"],o=5,a=7,u=8},857415:function(e,t,n){"use strict";n.d(t,{l:function(){return c}});var l=n(520739),i=n(563097),r=n(88648),o=n(590682),a=n(907170),u=n(368763),s=n(375216),d=n(800166);let c=e=>{var t,n;let{adData:c,onClickElement:v}=e,f=null==c?void 0:null===(t=c.lynx_components)||void 0===t?void 0:t.find(e=>(null==e?void 0:e.lynx_type)===o.AD_FEED_TYPE),p=null==f?void 0:null===(n=f.lynx_raw_data)||void 0===n?void 0:n.mixed_area_info,m=(0,a.As)(null==c?void 0:c.log_extra),{product_phrase:h,product_name:_,image_url:g,product_tags:y,return_vistors:w,favorable_rate:E,sell_num:x,button_text:C,button_background_color:b,live_product_infos:A}=p||{},k=(0,r.useMemo)(()=>{var e,t,n,l,r;let o;let d=h?(0,i.jsx)("div",{className:u.default.swiperText,children:(0,i.jsx)("span",{onClick:e=>v(e,{refer:"sow",product_short_phrase:h}),children:h})}):null,c=(0,a.Hy)(x)?(0,i.jsx)("div",{className:u.default.swiperText,children:(0,i.jsxs)("span",{onClick:e=>v(e,{refer:"sow",sell_num:x}),children:["爆卖",(0,a.Hy)(x),"件"]})}):null,f=(null==y?void 0:y.length)>0?(0,i.jsx)("div",{className:u.default.tagLine,children:y.slice(0,2).map((e,t)=>(0,i.jsx)(s.Z,{className:u.default.tag,style:0===t?{marginRight:"4px"}:{},onClick:t=>v(t,{refer:"sow",product_tags:e}),children:e},e))}):null;return(null==A?void 0:null===(e=A[0])||void 0===e?void 0:e.product_feedback)?o=(0,i.jsx)("div",{className:u.default.swiperText,children:(0,i.jsx)("span",{onClick:e=>{var t;return v(e,{refer:"sow",product_feedback:null==A?void 0:null===(t=A[0])||void 0===t?void 0:t.product_feedback})},children:null==A?void 0:null===(l=A[0])||void 0===l?void 0:l.product_feedback})}):w?o=(0,i.jsx)("div",{className:u.default.swiperText,children:(0,i.jsx)("span",{onClick:e=>v(e,{refer:"sow",product_feedback:w}),children:w})}):E?o=(0,i.jsx)("div",{className:u.default.swiperText,children:(0,i.jsxs)("span",{onClick:e=>v(e,{refer:"sow",product_feedback:`商品好评率${Math.round(E)}%`}),children:["商品好评率",Math.round(E),"%"]})}):(null==A?void 0:null===(t=A[0])||void 0===t?void 0:t.collection_num)&&(o=(0,i.jsx)("div",{className:u.default.swiperText,children:(0,i.jsx)("span",{onClick:e=>{var t;return v(e,{refer:"sow",product_feedback:null==A?void 0:null===(t=A[0])||void 0===t?void 0:t.collection_num})},children:null==A?void 0:null===(r=A[0])||void 0===r?void 0:r.collection_num})})),{productName:_,phrase:d,sellInfo:c,tagsElement:f,tagsText:y,feedbackInfo:o,componentIds:null==m?void 0:m.component_ids,productGallery:null==A?void 0:null===(n=A[0])||void 0===n?void 0:n.product_gallery}},[e]),I=(0,r.useMemo)(()=>{let e=d.VD[Math.floor(Math.random()*d.VD.length)];return(0,i.jsx)("div",{className:u.default.swiperText,children:(0,i.jsx)("span",{onClick:t=>v(t,{refer:"sow",live_product_info_backup:e}),children:e})})},[v]);return(0,l._)({imageUrl:g||o.DEFAULT_AD_IMAGE_URL,isBackupImgUrl:!g,buttonText:C,buttonBackgroundColor:b,productPhrase:h,defaultPhraseElement:I},k)}},827914:function(e,t,n){"use strict";n.d(t,{X:function(){return y}}),n("602157");var l=n("563097"),i=n("88648"),r=n("713097"),o=n.n(r),a=n("319897"),u=n("802913"),s=n("970224"),d=n("465769"),c=n("725887"),v=n("918262"),f=n("872136");let p={mediaNotSupportClientDownload:{eventName:"media_not_support_client_download",params:{group_id:"",channel_id:""}},addToDesktopShow:{eventName:"add_to_desktop_show",params:{enter_from:"",channel_id:u.g.LowVersionDowngrade,ug_channel_id:""}},addToDesktopClick:{eventName:"add_to_desktop_click",params:{enter_from:"",channel_id:u.g.LowVersionDowngrade,ug_channel_id:""}}};var m=new f.h(p),h=n("717864"),_=n("310935"),g=n("979571");let y=(0,_.X)(e=>{let{awemeId:t,isLive:n}=e,{downloadHref:r,downloadAttr:f}=(0,h.o)({channelId:u.g.LowVersionDowngrade});(0,i.useEffect)(()=>{m.sendLog("addToDesktopShow",{enter_from:(0,d.vM)(),channel_id:u.g.LowVersionDowngrade,ug_channel_id:c.Le.getConfig(c.gI.WebUgChannelId)||""})},[]);let p=(0,i.useCallback)(()=>{m.sendLog("addToDesktopClick",{enter_from:(0,d.vM)(),channel_id:u.g.LowVersionDowngrade,ug_channel_id:c.Le.getConfig(c.gI.WebUgChannelId)||""});let e=document.createElement("a");e.setAttribute("href",r),e.setAttribute("download",f),e.click()},[r,f]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:o()({[v.default.checkMediaNotSupportContainer]:!0,[v.default.checkMediaNotSupportContainerFullScreen]:n}),children:[(0,l.jsx)("div",{children:(0,l.jsx)(g.z,{svg:(0,l.jsx)(s.Z,{}),style:{color:"#33343F",fontSize:"120px"}})}),(0,l.jsx)("div",{className:v.default.title,children:"浏览器版本过低"}),(0,l.jsxs)("div",{className:v.default.description,children:[(0,l.jsx)("div",{children:"你当前使用的浏览器版本过低或浏览器本身不支持。"}),(0,l.jsx)("div",{children:"你可以「升级/更换浏览器」或「下载抖音桌面端」继续访问，感谢支持与陪伴"})]}),(0,l.jsx)("div",{children:(0,l.jsx)(a.z,{className:v.default.downloadBtn,onClick:p,children:"下载电脑客户端"})})]}),(0,l.jsx)("div",{className:o()({[v.default.checkMediaNotSupportToolbar]:!0,checkMediaNotSupportToolbarFullScreen:n})})]})})},957777:function(e,t,n){"use strict";n.d(t,{p:function(){return v}});var l=n("520739"),i=n("563097"),r=n("88648"),o=n("335101"),a=n("798644");let u=e=>{let{player:t,scene:n,onRegisterSuccess:l,isActive:i}=e;(0,r.useEffect)(()=>{let e;if(t&&n&&i){let i=a.s.register({player:t,scene:n});e=i,void 0!==i&&(null==l||l({scene:n,playerId:i}))}return()=>{a.s.unRegister({id:e})}},[t,n,i])};var s=n("443073"),d=n("289228");n("838368");let c=e=>{let t=(0,o.n)(),{scene:n,onRegisterSuccess:l,isActive:i}=e;return u({player:t,scene:n,onRegisterSuccess:l,isActive:i}),null},v=e=>{let t=(0,s.N)();return(0,i.jsx)(d.k,{componentName:"MultiPlayer",Slardar:t,children:(0,i.jsx)(c,(0,l._)({},e))})}},680319:function(e,t,n){"use strict";n.d(t,{V8:function(){return E},_q:function(){return x}});var l=n(520739),i=n(878389);n(874386);var r=n(563097),o=n(88648),a=n(734123),u=n(309931),s=n(407544),d=n(465769),c=n(441447),v=n(784415),f=n(326494),p=n(289228),m=n(443073),h=n(335101),_=n(568201),g=n(589617);let y=0,w=!1,E=e=>{var t,n;let{isShowGuide:l,isActive:i,player:p,awemeId:m}=e,h=(0,o.useRef)(!1),[E,x]=(0,o.useState)(!1),{attemptOpen:C,executeClose:b}=(0,s.B)({popName:"浏览器限制-声音提醒",onOpen:()=>{x(!0)},onClose:()=>{x(!1)}});(0,o.useLayoutEffect)(()=>{if(!p||l)return;let e=()=>{if(!h.current)(0,f.q)({player:p,onSuccess:()=>{!l&&y<5&&C()}}),h.current=!0};return p.on(a.Events.AUTOPLAY_PREVENTED,e),()=>{p.off(a.Events.AUTOPLAY_PREVENTED,e)}},[p,l,i]),(0,o.useEffect)(()=>{if(!i||l||!p){b();return}if(!w&&y<5&&(p.muted||p.paused)){let e=setTimeout(()=>{p.muted=!1,p.paused&&setTimeout(()=>{p.play()}),h.current=!1,w=!0},200);return()=>{clearTimeout(e)}}y<5&&p.muted?C():b()},[l,i,p]);let A=!l&&E;(0,o.useEffect)(()=>{A&&i&&(y+=1,v.Z.sendLog("voiceBubbleShow",{enter_from:(0,d.vM)()}))},[i,A]);let k=()=>{y=5,b()};if((0,o.useEffect)(()=>{if(p){let e=e=>{((null==e?void 0:e.action)==="change_muted"||(null==e?void 0:e.action)==="change_volume")&&k()};return p.on(a.Events.USER_ACTION,e),()=>{p.off(a.Events.USER_ACTION,e)}}},[p]),(0,o.useEffect)(()=>{if(p){let e=e=>{("volumeDown"===e.action||"volumeUp"===e.action)&&k()};return p.on(_.B.CustomShortCut,e),()=>{p.off(_.B.CustomShortCut,e)}}},[p]),(0,o.useEffect)(()=>{if(!!m)c.emit(c.EVENT.silentStatusChange,{awemeId:m,isAuto:!0,status:A})},[A,m]),!A)return null;let I=null==p?void 0:null===(n=p.getPlugin)||void 0===n?void 0:null===(t=n.call(p,"SoundGuideTooltipPlugin"))||void 0===t?void 0:t.root;return I?(0,u.createPortal)((0,r.jsx)(g.V,{onClose:k,onOpen:()=>{v.Z.sendLog("clickVoiceBubble",{enter_from:(0,d.vM)()}),p.muted=!1,k()},description:"当前为静音，是否要打开声音？"}),I):null},x=e=>{let t=(0,m.N)(),n=(0,h.n)();return(0,r.jsxs)(p.k,{componentName:"NewUseSoundGuidePlugin",Slardar:t,children:[(0,r.jsx)(g.I,(0,l._)({},e)),(0,r.jsx)(E,(0,i._)((0,l._)({},e),{player:n}))]})}},784415:function(e,t,n){"use strict";var l=n(872136);t.Z=new l.h({voiceBubbleShow:{eventName:"voice_bubble_show",params:{enter_from:""}},voiceBarShow:{eventName:"voice_bar_show",params:{enter_from:""}},clickVoiceBubble:{eventName:"click_voice_bubble",params:{enter_from:"",is_open:1}}})},326494:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});let l=e=>e.muted||0===e.volume,i=e=>{let{onFail:t,onSuccess:n,player:i}=e;!l(i)&&(i.muted=!0),setTimeout(()=>{!l(i)&&(i.muted=!0),i.paused&&i.play(),setTimeout(()=>{i.paused?(i.muted=!1,null==t||t()):l(i)&&(null==n||n())},500)})}},589617:function(e,t,n){"use strict";n.d(t,{I:function(){return g},V:function(){return h}}),n(602157);var l=n(563097),i=n(489478),r=n(734123),o=n(88648),a=n(162095),u=n(948375),s=n(428647),d=n(291773),c=n(441447),v=n(253408),f=n(979571),p=n(335101);let m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,o.useRef)(e);return(0,o.useEffect)(()=>{t.current=e},[e]),t};function h(e){let{onOpen:t,onClose:n,description:i}=e,r=(0,u.Z)(n),m=(0,p.n)();return(0,o.useEffect)(()=>{c.emit(c.EVENT.closeOtherTip,"SoundGuideTooltip");let e=e=>{let{pluginName:t}=e;"volume"===t&&(null==r||r())};return m.on("icon_mouseenter",e),()=>{m.off("icon_mouseenter",e)}},[m]),(0,o.useEffect)(()=>{let e=c.listen(c.EVENT.closeOtherTip,e=>{"SoundGuideTooltip"!==e&&(null==r||r())});return()=>e()},[n]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:v.default.item,children:[(0,l.jsx)("span",{className:v.default.text,children:i}),(0,l.jsx)(a.Button,{type:"primary",size:"small",theme:"solid",onClick:t,className:v.default.button,children:"打开声音"}),(0,l.jsx)(f.z,{svg:(0,l.jsx)(s.Z,{}),onClick:n,className:v.default.close}),(0,l.jsx)(f.z,{svg:(0,l.jsx)(d.Z,{}),className:v.default.down})]})})}class _ extends r.Plugin{static get pluginName(){return"SoundGuideTooltipPlugin"}static get defaultConfig(){return{position:i.POSITIONS.CONTROLS_RIGHT,index:.99,className:"xgplayer-sound-guide"}}afterCreate(){if(this.config.disable)return}destroy(){}render(){return`
    <xg-icon class="xgplayer-sound-guide" data-state="normal">
    </xg-icon>`}}let g=e=>{let{isActive:t,disable:n,logParams:l,abtestData:i}=e,r=(0,p.n)(),a=m(l);return(0,o.useEffect)(()=>{if(r)return 2===r.config.reuse&&r.getPlugin("SoundGuideTooltipPlugin")?()=>{}:(r.registerPlugin(_,{disable:n,isActive:!0,player:r,logParams:a.current}),()=>{r.getPlugin("SoundGuideTooltipPlugin")&&2!==r.config.reuse&&r.unRegisterPlugin("SoundGuideTooltipPlugin",!0)})},[r,n,i]),null}},914592:function(e,t,n){"use strict";n.d(t,{rl:function(){return V},Vw:function(){return H}});var l=n("134761"),i=n("520739");n("874386"),n("250440");var r=n("563097"),o=n("88648"),a=n("734123"),u=n("489478"),s=n("713097"),d=n.n(s),c=n("784492"),v=n("867961"),f=n("399242"),p=n("987475"),m=n("982755"),h=n("594649"),_=n("905003"),g=n("175018"),y=n("441447"),w=n("847191"),E=n("828782"),x=n("28528"),C=n("465769"),b=n("860805"),A=n("737271"),k=n("725887"),I=n("613480"),S=n("690001"),P=n("18950"),j=n("872136"),L=new j.h({fullscreenBubbleShow:{eventName:"fullscreen_bubble_show",params:{author_id:"",group_id:"",enter_from:"recommend"}},enterFullWebscreen:{eventName:"enter_full_webscreen",params:{author_id:"",group_id:"",enter_from:"recommend",enter_from_merge:"",item_duration_ms:0,click_from:"",player_display_mode:""}},exitFullWebscreen:{eventName:"exit_full_webscreen",params:{author_id:"",group_id:"",enter_from:"recommend",click_from:"",player_display_mode:""}}}),N=n("289228"),T=n("335101"),R=n("443073"),D=n("798644"),M=n("122677");n("976261");var O=n("49279"),F=n("53659");function V(e){let{player:t,isCtxCssFullScreen:n}=e,{isMobile:l,isiPad:i}=(0,v.X)(),[u,s]=(0,o.useState)(D.s.getPlayerScene(null==t?void 0:t.playerId)===f.lT.Modal?D.s.getPlayerIsPageFullscreen(null==t?void 0:t.playerId):D.s.getIsPageFullscreen()||n);return t&&(t.isPageFullScreen=u),(0,o.useEffect)(()=>{if(!t)return;let e=y.listen(y.EVENT.pageFullScreen,e=>{let{playerId:n,fullScreen:l}=e||{};D.s.getPlayerScene(null==t?void 0:t.playerId)===f.lT.Modal?n===(null==t?void 0:t.playerId)&&(s(l),D.s.setPageFullscreen({playerId:t.playerId,isPageFullscreen:l})):(s(l),D.s.setPageFullscreen({playerId:t.playerId,isPageFullscreen:l}))});return()=>{e()}},[t]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{onMouseEnter:()=>{(0,w.qQ)(p.LocalStorageKeys.ShowPageFullScreenGuide,!0)},onClick:()=>{var e;if(null==t?void 0:null===(e=t.openGeneralSearchModalSlide)||void 0===e?void 0:e.call(t,{from:"pageFullscreen"}))return;let n=D.s.getPlayerIsPageFullscreen(null==t?void 0:t.playerId);s(!n),D.s.setPageFullscreen({playerId:t.playerId,isPageFullscreen:!n}),y.emit(y.EVENT.pageFullScreen,{clickMethod:"icon",fullScreen:!n,playerId:t.playerId}),t.emit(a.Events.USER_ACTION,{action:"page_fullscreen_change"})},className:"xgplayer-icon",children:u?(0,r.jsx)(S.Z,{width:32,height:32,color:"#fff"}):(0,r.jsx)(P.Z,{width:32,height:32})}),!l&&!i&&(0,r.jsxs)("div",{className:d()("xgTips"),children:[!!(!(0,E.DT)()&&u)&&(0,r.jsx)("span",{children:x.a.t("webpage_full_screen_exit",{},"退出网页全屏")}),!!(!(0,E.DT)()&&!u)&&(0,r.jsx)("span",{children:x.a.t("webpage_full_screen",{},"网页全屏")}),!!((0,E.DT)()&&u)&&(0,r.jsx)("span",{children:"退出窗口全屏"}),!!((0,E.DT)()&&!u)&&(0,r.jsx)("span",{children:"窗口全屏"}),!!F.SHORTCUT_KEY.pageFullScreen.badgeText&&(0,r.jsx)("span",{className:"shortcutKey",children:F.SHORTCUT_KEY.pageFullScreen.badgeText})]})]})}class B extends a.Plugin{static get pluginName(){return"PageFullScreenPlugin"}static get defaultConfig(){return{position:u.POSITIONS.CONTROLS_RIGHT,index:.8,className:"xgplayer-page-full-screen"}}updateConfig(e){this.config=e,this.renderRoot()}afterCreate(){this.bind("mouseenter",this.onMouseenter),this.bind("mouseleave",this.onMouseLeave),this.renderRoot()}destroy(){this.unbind("mouseenter",this.onMouseenter),this.unbind("mouseleave",this.onMouseLeave),(0,M.v)(this)}renderRoot(){let e=(0,r.jsx)(V,{player:this.config.player,isCtxCssFullScreen:this.config.isCtxCssFullScreen,abtestData:this.config.abtestData});(0,M.s)(this,e)}render(){return`
    <xg-icon class="xgplayer-page-full-screen" data-state="normal" data-e2e="xgplayer-page-full-screen">
    </xg-icon>`}constructor(...e){super(...e),(0,l._)(this,"onMouseenter",()=>{this.emit("icon_mouseenter",{pluginName:this.pluginName})}),(0,l._)(this,"onMouseLeave",()=>{this.emit("icon_mouseleave",{pluginName:this.pluginName})})}}let U=e=>{let{awemeInfo:t,logParams:n,isActive:l,defaultIsPageFullScreen:i,modalEnterFrom:r,abtestData:u}=e,s=(0,o.useRef)(),{isCssFullScreen:d}=(0,o.useContext)(I.C)||{},v=(0,T.n)(),{awemeFeed:p}=(0,O.j)();return(0,o.useEffect)(()=>{v&&l&&(null!=i?i:d)&&D.s.setPageFullscreen({playerId:v.playerId,isPageFullscreen:null!=i?i:d})},[v,l]),(0,o.useEffect)(()=>{if(v&&l)return 2===v.config.reuse&&v.getPlugin("PageFullScreenPlugin")?()=>{}:(v.registerPlugin(B,{player:v,isCtxCssFullScreen:d,abtestData:u}),()=>{v.getPlugin("PageFullScreenPlugin")&&2!==v.config.reuse&&(null==v||v.unRegisterPlugin("PageFullScreenPlugin"))})},[v,l]),(0,o.useEffect)(()=>{if(v&&l){let e=v.getPlugin("PageFullScreenPlugin");e&&[f.lT.Follow,f.lT.Friend,f.lT.Recommend,f.lT.Topic].includes(D.s.getPlayerScene(v.playerId))&&e.updateConfig({player:v,isCtxCssFullScreen:d,abtestData:u})}},[d,u]),(0,o.useEffect)(()=>{if(t&&v&&l){let e=y.listen(y.EVENT.pageFullScreen,e=>{var l,i;let{clickMethod:o,fullScreen:a,oldFullScreen:u}=e||{},s=null!==(i=null!=u?u:D.s.getIsPageFullscreen())&&void 0!==i&&i,d=null!=a?a:!s,c={author_id:null==t?void 0:t.authorUserId,group_id:null==t?void 0:t.groupId,enter_from:null==n?void 0:n.enter_from,enter_from_merge:null==n?void 0:n.enter_from_merge,item_duration_ms:(null==t?void 0:null===(l=t.video)||void 0===l?void 0:l.duration)||0,click_from:o,player_display_mode:(0,C.Ok)()};if(d){if("inner_player"!==o&&L.sendLog("enterFullWebscreen",c),(0,m.Jt)(t)){let e=(0,m.Rx)(t);(0,h.E)("full_screen",{tag:(0,b.f)(),value:e.creative_id,log_extra:e.log_extra,player_form:"web_full"})}}else if(!1!==s&&(L.sendLog("exitFullWebscreen",c),(0,m.Jt)(t))){let e=(0,m.Rx)(t);(0,h.E)("full_screen",{tag:(0,b.f)(),value:e.creative_id,log_extra:e.log_extra,player_form:"normal"})}if((0,A.r)()&&d){if(D.s.getPlayersByScene(f.lT.Modal).length>0&&r!==_.a.RecommendUpdateWindow)return;v.exitFullscreen(),v.emit("switch_fullscreen",{fullscreen:!0,cssFullScreen:!0})}k.Le.setConfig(k.gI.IsPageFullScreen,{type:d})});return()=>{null==e||e()}}},[n,v,t,l,r]),(0,o.useEffect)(()=>{if(v&&l){let e=e=>{e&&D.s.getIsPageFullscreen()&&(D.s.setPageFullscreen({playerId:v.playerId,isPageFullscreen:!1}),!p.getValue("modalAwemeInfo")&&y.emit(y.EVENT.pageFullScreen,{clickMethod:"fullscreen",fullScreen:!1,playerId:v.playerId}))};return v.on(a.Events.FULLSCREEN_CHANGE,e),()=>{null==v||v.off(a.Events.FULLSCREEN_CHANGE,e)}}},[v,l]),(0,o.useEffect)(()=>{let e=e=>{if(e.shiftKey||e.metaKey||e.ctrlKey)return;let t=k.Le.getConfig(k.gI.DisableExit);"Escape"===e.code&&D.s.getPlayerIsPageFullscreen(null==v?void 0:v.playerId)&&v.isUserActive&&!t&&(D.s.setPageFullscreen({playerId:v.playerId,isPageFullscreen:!1}),setTimeout(()=>{p.dispatch("modalAwemeInfo",null)},100),y.emit(y.EVENT.pageFullScreen,{clickMethod:"esc",fullScreen:!1,playerId:v.playerId}))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[v]),(0,c.Z)(()=>{if(l){var e,t;let n=null===(e=k.Le.getConfig(k.gI.IsInLookMiniModal))||void 0===e?void 0:e.isInMiniModal;if(d){if(!n&&!p.getValue("modalAwemeInfo")){let e=F.SHORTCUT_KEY.pageFullScreen.badgeText;s.current=g.F.info({text:`ESC${e?`或${e}`:""}可退出网页全屏`,zIndex:1e4})}}else null===(t=s.current)||void 0===t||t.call(s)}},[d]),null},H=e=>{let t=(0,R.N)();return(0,r.jsx)(N.k,{componentName:"PageFullScreen",Slardar:t,children:(0,r.jsx)(U,(0,i._)({},e))})}},690001:function(e,t,n){"use strict";n(429532);var l=n(88648);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}let r=l.forwardRef(function(e,t){return l.createElement("svg",i({viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,ref:t},e),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.75 8H14.6961H14.696C13.3374 7.99999 12.2417 7.99997 11.3626 8.0894C10.4552 8.18171 9.66829 8.3775 8.97215 8.84265C8.4262 9.20745 7.95745 9.6762 7.59265 10.2222C7.12751 10.9183 6.93171 11.7052 6.8394 12.6126C6.74997 13.4917 6.74999 14.5874 6.75 15.946V15.9461V16V16.0539V16.054C6.74999 17.4126 6.74997 18.5083 6.8394 19.3874C6.93171 20.2948 7.12751 21.0817 7.59265 21.7779C7.95745 22.3238 8.4262 22.7926 8.97215 23.1573C9.66829 23.6225 10.4552 23.8183 11.3626 23.9106C12.2417 24 13.3374 24 14.696 24H14.696H14.75H17.25H17.304H17.304C18.6626 24 19.7583 24 20.6374 23.9106C21.5448 23.8183 22.3317 23.6225 23.0279 23.1573C23.5738 22.7926 24.0426 22.3238 24.4073 21.7779C24.8725 21.0817 25.0683 20.2948 25.1606 19.3874C25.25 18.5083 25.25 17.4126 25.25 16.054V16.054V16V15.946V15.946C25.25 14.5874 25.25 13.4917 25.1606 12.6126C25.0683 11.7052 24.8725 10.9183 24.4073 10.2222C24.0426 9.6762 23.5738 9.20745 23.0279 8.84265C22.3317 8.3775 21.5448 8.18171 20.6374 8.0894C19.7583 7.99997 18.6626 7.99999 17.304 8H17.3039H17.25H14.75ZM10.0833 10.5056C10.396 10.2966 10.8158 10.1554 11.5651 10.0791C12.331 10.0012 13.3247 10 14.75 10H17.25C18.6753 10 19.669 10.0012 20.4349 10.0791C21.1842 10.1554 21.604 10.2966 21.9167 10.5056C22.2443 10.7245 22.5255 11.0057 22.7444 11.3333C22.9534 11.646 23.0946 12.0658 23.1709 12.8151C23.2488 13.581 23.25 14.5747 23.25 16C23.25 17.4253 23.2488 18.419 23.1709 19.1849C23.0946 19.9342 22.9534 20.354 22.7444 20.6667C22.5255 20.9943 22.2443 21.2755 21.9167 21.4944C21.604 21.7034 21.1842 21.8446 20.4349 21.9209C19.669 21.9988 18.6753 22 17.25 22H14.75C13.3247 22 12.331 21.9988 11.5651 21.9209C10.8158 21.8446 10.396 21.7034 10.0833 21.4944C9.75572 21.2755 9.47447 20.9943 9.25559 20.6667C9.04662 20.354 8.90535 19.9342 8.82913 19.1849C8.75121 18.419 8.75 17.4253 8.75 16C8.75 14.5747 8.75121 13.581 8.82913 12.8151C8.90535 12.0658 9.04662 11.646 9.25559 11.3333C9.47447 11.0057 9.75572 10.7245 10.0833 10.5056ZM15.45 14.1999C15.45 15.3045 14.5546 16.1999 13.45 16.1999H12.25H11.25V14.1999H12.25H13.45V12.9999V11.9999H15.45V12.9999V14.1999ZM16.55 17.8C16.55 16.6954 17.4454 15.8 18.55 15.8H19.75H20.75V17.8H19.75H18.55V19V20H16.55V19V17.8Z",fill:"currentColor"}))});r.elementType="Icon",t.Z=r},18950:function(e,t,n){"use strict";n(429532);var l=n(88648);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}let r=l.forwardRef(function(e,t){return l.createElement("svg",i({viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,ref:t},e),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.75 8H14.6961H14.696C13.3374 7.99999 12.2417 7.99997 11.3626 8.0894C10.4552 8.18171 9.66829 8.3775 8.97215 8.84265C8.4262 9.20745 7.95745 9.6762 7.59265 10.2222C7.12751 10.9183 6.93171 11.7052 6.8394 12.6126C6.74997 13.4917 6.74999 14.5874 6.75 15.946V15.9461V16V16.0539V16.054C6.74999 17.4126 6.74997 18.5083 6.8394 19.3874C6.93171 20.2948 7.12751 21.0817 7.59265 21.7779C7.95745 22.3238 8.4262 22.7926 8.97215 23.1573C9.66829 23.6225 10.4552 23.8183 11.3626 23.9106C12.2417 24 13.3374 24 14.696 24H14.696H14.75H17.25H17.304H17.304C18.6626 24 19.7583 24 20.6374 23.9106C21.5448 23.8183 22.3317 23.6225 23.0279 23.1573C23.5738 22.7926 24.0426 22.3238 24.4073 21.7779C24.8725 21.0817 25.0683 20.2948 25.1606 19.3874C25.25 18.5083 25.25 17.4126 25.25 16.054V16.054V16V15.946V15.946C25.25 14.5874 25.25 13.4917 25.1606 12.6126C25.0683 11.7052 24.8725 10.9183 24.4073 10.2222C24.0426 9.6762 23.5738 9.20745 23.0279 8.84265C22.3317 8.3775 21.5448 8.18171 20.6374 8.0894C19.7583 7.99997 18.6626 7.99999 17.304 8H17.3039H17.25H14.75ZM10.0833 10.5056C10.396 10.2966 10.8158 10.1554 11.5651 10.0791C12.331 10.0012 13.3247 10 14.75 10H17.25C18.6753 10 19.669 10.0012 20.4349 10.0791C21.1842 10.1554 21.604 10.2966 21.9167 10.5056C22.2443 10.7245 22.5255 11.0057 22.7444 11.3333C22.9534 11.646 23.0946 12.0658 23.1709 12.8151C23.2488 13.581 23.25 14.5747 23.25 16C23.25 17.4253 23.2488 18.419 23.1709 19.1849C23.0946 19.9342 22.9534 20.354 22.7444 20.6667C22.5255 20.9943 22.2443 21.2755 21.9167 21.4944C21.604 21.7034 21.1842 21.8446 20.4349 21.9209C19.669 21.9988 18.6753 22 17.25 22H14.75C13.3247 22 12.331 21.9988 11.5651 21.9209C10.8158 21.8446 10.396 21.7034 10.0833 21.4944C9.75572 21.2755 9.47447 20.9943 9.25559 20.6667C9.04662 20.354 8.90535 19.9342 8.82913 19.1849C8.75121 18.419 8.75 17.4253 8.75 16C8.75 14.5747 8.75121 13.581 8.82913 12.8151C8.90535 12.0658 9.04662 11.646 9.25559 11.3333C9.47447 11.0057 9.75572 10.7245 10.0833 10.5056ZM10.75 14C10.75 12.8954 11.6454 12 12.75 12H13.95H14.95V14H13.95H12.75V15.2V16.2H10.75V15.2V14ZM21.25 18C21.25 19.1046 20.3546 20 19.25 20H18.05H17.05V18H18.05H19.25V16.8V15.8H21.25V16.8V18Z",fill:"currentColor"}))});r.elementType="Icon",t.Z=r},970224:function(e,t,n){"use strict";n(429532);var l=n(88648);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}let r=l.forwardRef(function(e,t){return l.createElement("svg",i({viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,ref:t},e),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 38C20 32.4772 24.4772 28 30 28H90C95.5229 28 100 32.4772 100 38V74C100 79.5229 95.5229 84 90 84H72V91L82.5231 95.3846C83.4174 95.7573 84 96.6311 84 97.6C84 98.9255 82.9255 100 81.6 100H72H48H38.4C37.0745 100 36 98.9255 36 97.6C36 96.6311 36.5826 95.7573 37.4769 95.3846L48 91V84H30C24.4772 84 20 79.5228 20 74V38ZM70.2929 58.7071L60.7071 68.2929C60.3166 68.6834 59.6834 68.6834 59.2929 68.2929L49.7071 58.7071C49.0771 58.0771 49.5233 57 50.4142 57H55L55 46C55 45.4477 55.4477 45 56 45L64 45C64.5523 45 65 45.4477 65 46L65 57H69.5858C70.4767 57 70.9229 58.0771 70.2929 58.7071Z",fill:"currentColor"}))});r.elementType="Icon",t.Z=r},53562:function(e,t,n){"use strict";n.d(t,{DT:function(){return c},Pi:function(){return E}}),n("563724");var l,i=n("203321"),r=n("274713");n("535917"),n("602157"),n("874386"),n("268917");var o=n("104013"),a=n("88648");function u(e){return(0,o.getDependencyTree)(e)}var s=n("826886"),d=!1;function c(e){d=e}function v(){return d}var f=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,r=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(l=r.next()).done;)o.push(l.value)}catch(e){i={error:e}}finally{try{l&&!l.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o};function p(e){return"observer".concat(e)}var m=function(){};function h(){return new m}function _(e,t){if(void 0===t&&(t="observed"),d)return e();var n,l,i=f(a.useState(h),1)[0],r=f(a.useState(),2)[1],c=function(){return r([])},v=a.useRef(null);!v.current&&(v.current={reaction:null,mounted:!1,changedBeforeMount:!1});var m=v.current;if(!m.reaction&&(m.reaction=new o.Reaction(p(t),function(){m.mounted?c():m.changedBeforeMount=!0}),s.O.register(i,m,m)),a.useDebugValue(m.reaction,u),a.useEffect(function(){return s.O.unregister(m),m.mounted=!0,m.reaction?m.changedBeforeMount&&(m.changedBeforeMount=!1,c()):(m.reaction=new o.Reaction(p(t),function(){c()}),c()),function(){m.reaction.dispose(),m.reaction=null,m.mounted=!1,m.changedBeforeMount=!1}},[]),m.reaction.track(function(){try{n=e()}catch(e){l=e}}),l)throw l;return n}n("209955");var g="function"==typeof Symbol&&Symbol.for,y=g?Symbol.for("react.forward_ref"):"function"==typeof a.forwardRef&&(0,a.forwardRef)(function(e){return null}).$$typeof,w=g?Symbol.for("react.memo"):"function"==typeof a.memo&&(0,a.memo)(function(e){return null}).$$typeof;function E(e,t){if(w&&e.$$typeof===w)throw Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(d)return e;var n,l=null!==(n=null==t?void 0:t.forwardRef)&&void 0!==n&&n,i=e,r=e.displayName||e.name;if(y&&e.$$typeof===y&&(l=!0,"function"!=typeof(i=e.render)))throw Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var o=function(e,t){return _(function(){return i(e,t)},r)};return""!==r&&(o.displayName=r),e.contextTypes&&(o.contextTypes=e.contextTypes),l&&(o=(0,a.forwardRef)(o)),function(e,t){Object.keys(e).forEach(function(n){!x[n]&&Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}(e,o=(0,a.memo)(o)),o}var x={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};n("150981"),(0,r.z0)(i.m),s.O.finalizeAllImmediately},150981:function(e,t,n){"use strict";n(602157),n(874386),n(268917),n(429532),n(535917),n(88648)},629582:function(e,t,n){"use strict";n.d(t,{SB:function(){return i}}),n(874386);var l=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var n=Date.now();t.registrations.forEach(function(l,i){n-l.registeredAt>=e&&(t.finalize(l.value),t.registrations.delete(i))}),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),i="undefined"!=typeof FinalizationRegistry?FinalizationRegistry:l},563724:function(e,t,n){"use strict";n(209955);var l=n(104013);if(!n(88648).useState)throw Error("mobx-react-lite requires React with Hooks support");if(!l.makeObservable)throw Error("mobx-react-lite@3 requires mobx at least version 6 to be available")},274713:function(e,t,n){"use strict";n.d(t,{z0:function(){return r}});var l=n(104013);function i(e){e()}function r(e){!e&&(e=i),(0,l.configure)({reactionScheduler:e})}},826886:function(e,t,n){"use strict";n.d(t,{O:function(){return l}});var l=new(n(629582)).SB(function(e){var t;null===(t=e.reaction)||void 0===t||t.dispose(),e.reaction=null})},203321:function(e,t,n){"use strict";n.d(t,{m:function(){return l.unstable_batchedUpdates}});var l=n(309931)},535917:function(e,t,n){"use strict";n(250440),n(268917)},266754:function(e,t,n){"use strict";var l=n(520739),i=n(878389),r=n(563097),o=n(88648);let a=(0,o.forwardRef)((e,t)=>(0,r.jsx)("svg",(0,i._)((0,l._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.25 16.71c0 2.712-1.304 5.04-3.536 7.275-.196.197-.404.392-.62.584-1.953 2.171-3.86 3.437-5.583 3.94-2.243.657-1.376-2.42-1.348-2.518v-.002c-6.214 0-11.413-3.777-11.413-9.278S11.787 6.75 18 6.75c6.214 0 11.25 4.46 11.25 9.96zm-16.715 1.85c.888 0 1.608-.715 1.608-1.597 0-.88-.72-1.595-1.608-1.595-.887 0-1.607.714-1.607 1.595 0 .882.72 1.596 1.607 1.596zm7.072-1.597c0 .882-.72 1.596-1.607 1.596a1.602 1.602 0 0 1-1.608-1.596c0-.88.72-1.595 1.608-1.595.887 0 1.607.714 1.607 1.595zm3.857 1.596c.888 0 1.607-.714 1.607-1.596a1.6 1.6 0 0 0-1.607-1.595c-.887 0-1.607.714-1.607 1.595 0 .882.72 1.596 1.607 1.596z",fill:"#2F3035",fillOpacity:".9"})})));t.Z=a},540075:function(e,t,n){"use strict";var l=n(520739),i=n(878389),r=n(563097),o=n(88648);let a=(0,o.forwardRef)((e,t)=>(0,r.jsx)("svg",(0,i._)((0,l._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,r.jsx)("path",{d:"M13.556 17.778a1.778 1.778 0 1 1-3.556 0 1.778 1.778 0 0 1 3.556 0zM19.778 17.778a1.778 1.778 0 1 1-3.556 0 1.778 1.778 0 0 1 3.556 0zM24.222 19.556a1.778 1.778 0 1 0 0-3.556 1.778 1.778 0 0 0 0 3.556z",fill:"#fff"})})));t.Z=a},332071:function(e,t,n){"use strict";var l=n(520739),i=n(878389),r=n(563097),o=n(88648);let a=(0,o.forwardRef)((e,t)=>(0,r.jsx)("svg",(0,i._)((0,l._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,r.jsx)("path",{d:"M28.928 23.422c1.014 1.647-.225 3.843-2.367 3.843H9.315c-2.029 0-3.269-2.196-2.254-3.843l8.68-14.604c.45-.879 1.352-1.318 2.253-1.318.902 0 1.804.44 2.255 1.318l8.68 14.604zm-1.766 1.008l-.016-.027-8.68-14.604-.058-.106c-.07-.137-.213-.217-.414-.217-.2 0-.342.08-.413.217l-.058.106-8.696 14.63c-.216.352.077.86.488.86h17.246c.519 0 .82-.504.6-.86zm-9.368-10.545c-.513 0-.924.301-.924.678v5.343c0 .377.41.679.924.679H18c.513 0 .924-.302.924-.679v-5.343c0-.377-.411-.678-.924-.678h-.206zm-.924 8.872c0 .253.11.505.3.684a1.073 1.073 0 0 0 1.453 0 .95.95 0 0 0 .3-.684.95.95 0 0 0-.3-.683 1.073 1.073 0 0 0-1.452 0 .95.95 0 0 0-.3.683z",fill:"#2F3035",fillOpacity:".9"})})));t.Z=a},578126:function(e,t,n){"use strict";var l=n(520739),i=n(878389),r=n(563097),o=n(88648);let a=(0,o.forwardRef)((e,t)=>(0,r.jsx)("svg",(0,i._)((0,l._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.749 8.693c1.775-.25 3.457.38 4.9 1.662a.95.95 0 0 1 .32.693l.043 2.458 2.438 1.799a.95.95 0 0 1 .208 1.316L17.86 19.14l1.21 2.554a.95.95 0 0 1-1.718.813l-1.448-3.059a.95.95 0 0 1 .086-.958l1.579-2.212-2.063-1.522a.95.95 0 0 1-.386-.748l-.043-2.493c-1.018-.795-2.053-1.083-3.063-.94-2.102.294-3.808 2.711-3.408 5.558.011.081.021.141.03.193l.005.03v.001l.015.108.004.037c.052.28.175.692.335 1.12.172.461.353.848.467 1.031l.014.024c1.036 1.78 2.92 3.612 4.648 5.066a46.926 46.926 0 0 0 2.25 1.772c.3.223.552.404.74.54l.058.041c.14.1.282.203.349.26.075.065.125.106.172.142a.573.573 0 0 0 .103.063h.01a.241.241 0 0 0 .081-.013.951.951 0 0 1 .277-.085h.002c.001-.001.01-.005.027-.017a.836.836 0 0 0 .08-.066c.04-.035.08-.074.136-.13.07-.07.213-.184.337-.284l.031-.024.058-.046c.153-.124.348-.28.575-.466.514-.419 1.195-.99 1.935-1.662 1.477-1.34 3.134-3.037 4.186-4.713.103-.242.191-.406.344-.64.05-.115.106-.236.165-.35.04-.076.09-.169.154-.264.183-.58.285-1.006.332-1.5l.001-.047.007-.1.003-.03c.004-.05.01-.108.015-.187.195-2.783-1.623-5.003-3.667-5.146-1.16-.08-2.493.442-3.14 1.337a.95.95 0 0 1-1.54-1.111c1.104-1.53 3.133-2.238 4.813-2.12 3.366.234 5.676 3.641 5.43 7.172l-.019.228-.002.02c0 .03 0 .06-.003.09-.066.765-.229 1.384-.47 2.128a.95.95 0 0 1-.185.329l-.001.002a1.002 1.002 0 0 0-.042.075c-.04.076-.085.175-.14.302a.943.943 0 0 1-.081.152 2.119 2.119 0 0 0-.25.462.938.938 0 0 1-.07.137c-1.193 1.926-3.032 3.791-4.563 5.181a50.77 50.77 0 0 1-2.598 2.203c-.02.015-.04.03-.057.045l-.188.152-.038.03-.03.03c-.188.186-.555.55-1.125.68-.15.06-.31.102-.48.126-.923.13-1.502-.367-1.79-.616l-.03-.025-.04-.03-.243-.174c-.19-.136-.449-.324-.76-.554a48.738 48.738 0 0 1-2.341-1.845c-1.76-1.48-3.852-3.48-5.062-5.554-.21-.343-.44-.86-.625-1.356-.189-.505-.368-1.081-.442-1.542a.95.95 0 0 1-.01-.098l-.002-.011c-.008-.052-.022-.134-.037-.239-.504-3.589 1.611-7.225 5.025-7.704z",fill:"#2F3035",fillOpacity:".9"})})));t.Z=a},687036:function(e,t,n){"use strict";var l=n(520739),i=n(878389),r=n(563097),o=n(88648);let a=(0,o.forwardRef)((e,t)=>(0,r.jsx)("svg",(0,i._)((0,l._)({width:42,height:42,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.167 16.139a7.972 7.972 0 0 1 7.972-7.972 1.167 1.167 0 0 1 0 2.333 5.639 5.639 0 0 0-5.639 5.639v.972a1.167 1.167 0 1 1-2.333 0v-.972zm16.528-6.806c0-.644.522-1.166 1.166-1.166a7.972 7.972 0 0 1 7.973 7.972v.972a1.167 1.167 0 1 1-2.334 0v-.972a5.639 5.639 0 0 0-5.639-5.639 1.167 1.167 0 0 1-1.166-1.167zM9.334 22.167h26.25a1.167 1.167 0 0 1 0 2.333h-1.75v1.361a7.972 7.972 0 0 1-7.973 7.972 1.167 1.167 0 0 1 0-2.333 5.639 5.639 0 0 0 5.64-5.639V24.5h-3.648a4.669 4.669 0 0 1-4.52 3.5h-4.666a4.669 4.669 0 0 1-4.52-3.5H10.5v1.36a5.64 5.64 0 0 0 5.64 5.64 1.167 1.167 0 0 1 0 2.333 7.973 7.973 0 0 1-7.973-7.972V24.5H7a1.167 1.167 0 1 1 0-2.333H9.334zm4.666-3.5A4.667 4.667 0 0 1 18.667 14h4.666A4.667 4.667 0 0 1 28 18.667v1.166H14v-1.166z",fill:"#fff",fillOpacity:".8"})})));t.Z=a},693744:function(e,t,n){"use strict";var l=n(520739),i=n(878389),r=n(563097),o=n(88648);let a=(0,o.forwardRef)((e,t)=>(0,r.jsx)("svg",(0,i._)((0,l._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.884 9.417c-1.209-1.157-3.214-.3-3.214 1.373v2.396c-.132 0-.263.001-.393.004-1.402-.039-6.254.115-9.667 3.775-2.361 2.532-3.423 6.562-3.357 8.64-.062 2.075.905 1.888 1.165 1.41 2.976-5.46 12.252-3.79 12.252-3.79v2.265c0 1.637 1.932 2.508 3.159 1.424l7.989-7.059a1.9 1.9 0 0 0 .055-2.797l-7.99-7.641z",fill:"#2F3035",fillOpacity:".9"})})));t.Z=a},544845:function(e,t,n){"use strict";var l=n(88648);t.Z=function(e){var t=(0,l.useRef)(e);t.current=e,(0,l.useEffect)(function(){return function(){return t.current()}},[])}},907838:function(e,t,n){"use strict";n.d(t,{O:function(){return f}});var l=n("563097"),i=n("88648"),r=n("713097"),o=n.n(r),a=n("750095"),u=n("823563");let s=(e,t)=>{let[n,l]=(0,i.useState)(a.Ro),r=i.useRef(),o=(0,i.useCallback)(()=>{var t,n;let l=null==e?void 0:null===(t=e.root)||void 0===t?void 0:t.clientWidth,i=null==e?void 0:null===(n=e.root)||void 0===n?void 0:n.clientHeight;return l&&i?l/i:a.Ro},[]),s=i.useCallback(()=>{clearTimeout(r.current),r.current=setTimeout(()=>{l(o())},50)},[]),d=(0,i.useMemo)(()=>t===u.$R.xg?Object.values(a.AO):Object.values(a.Fq),[t]);(0,i.useEffect)(()=>(d.forEach(t=>{null==e||e.on(t,s)}),()=>{d.forEach(t=>{null==e||e.off(t,s)})}),[e,d,s]);let c=i.useCallback(()=>{s()},[]);return i.useEffect(()=>(window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)}),[]),i.useEffect(()=>{s()},[]),n};var d=n("144502"),c=n("600389");function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},l=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),l.forEach(function(t){var l,i,r;l=e,i=t,r=n[t],i in l?Object.defineProperty(l,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):l[i]=r})}return e}let f=e=>{let{player:t,uiLayout:n,renderMicSeat:r,uiLayoutConfig:f,linkerList:p=[],playerType:m=u.$R.xg,layoutCalculateType:h=u.NT.horizontal,containerClassName:_,contentClassName:g,adjustPlayerPosition:y=!0,children:w,regionClassName:E}=e,x=s(t,m);(0,i.useEffect)(()=>{if(!!y){if(a.w1.includes(h)){let{h:e,y:n}=(0,d.tD)(f);t.position({y:n,h:e})}else t.position({y:0,h:1});return()=>{y&&t.position({y:0,h:1})}}},[t,f,h,y]);let C=(0,i.useMemo)(()=>(0,d.fG)(f,h,x),[h,f,x]);return(0,l.jsx)(l.Fragment,{children:n&&f?(0,l.jsx)("div",{className:o()(c.Z.dynamicLayoutContainer,_),children:(0,l.jsxs)("div",{className:o()(g),style:v({},C),children:[(()=>{if(!f||!(null==p?void 0:p.length))return null;let{regions:e}=f,t=(0,d.B9)(n,e,p);return null==t?void 0:t.map((e,i)=>{let{p:a}=e,s=(0,d.ue)(f,e),c=(0,d.XZ)(n,f,e,t),m=p.find(e=>e.p===a)||{p:a,linkType:u.Zd.PLACEHOLDER};return(0,l.jsx)("div",{style:v({},s,c),className:o()(E),children:r&&r(i,m)},i)})})(),w||null]})}):null})}},600389:function(e,t,n){"use strict";n(910461),t.Z={dynamicLayoutContainer:"dynamicLayoutContainer_77b13"}},750095:function(e,t,n){"use strict";n.d(t,{AO:function(){return o},Fq:function(){return a},Hd:function(){return i},Ro:function(){return s},w1:function(){return u}});var l,i,r=n(823563);let o={CUSTOM_CSS_FULLSCREEN_CHANGE:"PREVIEW_ENTERROOM_CSS_FULL",FULLSCREEN_CHANGE:"fullscreen_change",VIDEO_RESIZE:"video_resize"},a={CUSTOM_CSS_FULLSCREEN_CHANGE:"PREVIEW_ENTERROOM_CSS_FULL",FULLSCREEN_CHANGE:"fullscreenchange",VIDEO_RESIZE:"video_resize"},u=[r.NT.horizontal],s=16/9;(l=i||(i={}))[l.VideoChat_DynamicLayout1V6=7]="VideoChat_DynamicLayout1V6",l[l.LinkMicUiLayout_Live_Partner_Dynamic=25]="LinkMicUiLayout_Live_Partner_Dynamic"},823563:function(e,t,n){"use strict";var l,i,r,o,a,u;n.d(t,{$R:function(){return i},NT:function(){return r},Zd:function(){return l}}),(o=l||(l={}))[o.PLACEHOLDER=-1]="PLACEHOLDER",o[o.VIDEO=1]="VIDEO",o[o.AUDIO=2]="AUDIO",(a=i||(i={}))[a.xg=1]="xg",a[a.ies=2]="ies",(u=r||(r={}))[u.horizontal=1]="horizontal",u[u.portrait=2]="portrait"},144502:function(e,t,n){"use strict";n.d(t,{B9:function(){return s},XZ:function(){return c},fG:function(){return u},tD:function(){return r},ue:function(){return d}});var l=n(750095),i=n(823563);let r=e=>{let{canvas:t,content:n}=e,l=t.h;return{h:n.h/l,y:n.y/l}},o=(e,t=!0)=>`${(100*e).toFixed(4)}${t?"%":""}`,a=e=>{let{content:t}=e,n=t.h*l.Ro;return t.w/n},u=(e,t,n)=>{if(!e)return{};if(t===i.NT.portrait){let t=o(e.content.w/e.canvas.w),n=o(e.content.h/e.canvas.h),l=o(e.content.y/e.canvas.h);return{position:"absolute",width:t,height:n,top:l,left:o(e.content.x/e.canvas.w)}}if(t===i.NT.horizontal){let t=o(a(e)*(l.Ro/n));return{position:"relative",width:t,height:"100%"}}return{}},s=(e,t,n)=>{if([l.Hd.LinkMicUiLayout_Live_Partner_Dynamic,l.Hd.VideoChat_DynamicLayout1V6].includes(e))return(null==n?void 0:n.length)&&!((null==n?void 0:n.length)<=2)?t.slice(0,n.length):t.slice(0,2);return t},d=(e,t,n=!0)=>{let{content:l}=e,{w:i,h:r}=l,{x:a,y:u,w:s,h:d}=t;return{position:"absolute",left:o(a/i,n),top:o(u/r,n),width:o(s/i,n),height:o(d/r,n),display:"flex",justifyContent:"center",alignItems:"center"}},c=(e,t,n,i)=>{let{p:r}=n,o=[],a="";if(e===l.Hd.VideoChat_DynamicLayout1V6&&0===r){if(null==i||i.forEach(e=>{if(0!==e.p){let{width:n,height:l,left:i,top:r}=d(t,e,!1);o.push(`M${i},${r} h${n} v${l} h-${n} z`)}}),o.length){let e=["M0,0 h100 v100 h-100 z",...o].join(" "),t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("fill-rule","evenodd"),t.setAttribute("d",e);let n=`data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" width="100%" height="100%" viewBox="0 0 100 100">${t.outerHTML}</svg>`;a=`url('${n}')`}}return{maskImage:a}}},90072:function(e,t,n){"use strict";var l=n(101380),i=n(439837),r=n.n(i),o=n(88648),a=n(336279),u=n(526361),s=function(e){if(!e)return 0;var t=r()(e).valueOf()-Date.now();return t<0?0:t};t.Z=function(e){void 0===e&&(e={});var t=e||{},n=t.leftTime,i=t.targetDate,r=t.interval,d=void 0===r?1e3:r,c=t.onEnd,v=(0,o.useMemo)(function(){return(0,u.hj)(n)&&n>0?Date.now()+n:void 0},[n]),f="leftTime"in e?v:i,p=(0,l.CR)((0,o.useState)(function(){return s(f)}),2),m=p[0],h=p[1],_=(0,a.Z)(c);(0,o.useEffect)(function(){if(!f){h(0);return}h(s(f));var e=setInterval(function(){var t,n=s(f);h(n),0===n&&(clearInterval(e),null===(t=_.current)||void 0===t||t.call(_))},d);return function(){return clearInterval(e)}},[f,d]);var g=(0,o.useMemo)(function(){var e;return{days:Math.floor((e=m)/864e5),hours:Math.floor(e/36e5)%24,minutes:Math.floor(e/6e4)%60,seconds:Math.floor(e/1e3)%60,milliseconds:Math.floor(e)%1e3}},[m]);return[m,g]}},38555:function(e,t,n){"use strict";var l=n(88648),i=n(797973),r=n(526361);t.Z=function(e,t,n){void 0===n&&(n={});var o=(0,i.Z)(e),a=(0,l.useRef)(null),u=(0,l.useCallback)(function(){a.current&&clearInterval(a.current)},[]);return(0,l.useEffect)(function(){if(!!(0,r.hj)(t)&&!(t<0))return n.immediate&&o(),a.current=setInterval(o,t),u},[t,n.immediate]),u}},254575:function(e,t,n){"use strict";var l=n(101380),i=n(88648);t.Z=function(e){var t=this,n=(0,i.useRef)(!1);return(0,i.useCallback)(function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return(0,l.mG)(t,void 0,void 0,function(){return(0,l.Jh)(this,function(t){switch(t.label){case 0:if(n.current)return[2];n.current=!0,t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,e.apply(void 0,(0,l.ev)([],(0,l.CR)(i),!1))];case 2:return[2,t.sent()];case 3:throw t.sent();case 4:return n.current=!1,[7];case 5:return[2]}})})},[e])}},334168:function(e,t,n){"use strict";function l(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function i(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=l(e.className,t):e.setAttribute("class",l(e.className&&e.className.baseVal||"",t))}n.d(t,{Z:function(){return i}})},652111:function(e){e.exports=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}},779145:function(e,t,n){var l=n(967529),i=n(768341),r=n(868085),o=n(257675),a=n(43715),u=n(652111),s=n(603233),d=n(481611),c=n(667005),v=n(410204),f=l?l.iterator:void 0;e.exports=function(e){if(!e)return[];if(o(e))return a(e)?c(e):i(e);if(f&&e[f])return u(e[f]());var t=r(e);return("[object Map]"==t?s:"[object Set]"==t?d:v)(e)}},809761:function(e,t,n){"use strict";n.d(t,{ZP:function(){return a}});var l=n(88648);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}var r=function(e){var t=(0,l.useRef)(e);return t.current=e,t},o=function(e,t){var n="",l=-1;return Object.keys(e).forEach(function(i){var r=e[i];t>=r&&r>l&&(n=i,l=r)}),n},a=function(e){var t=void 0===e?{}:e,n=t.useBorderBoxSize,a=t.breakpoints,u=t.updateOnBreakpointChange,s=t.shouldUpdate,d=t.onResize,c=t.polyfill,v=(0,l.useState)({currentBreakpoint:"",width:null,height:null}),f=v[0],p=v[1],m=(0,l.useRef)({}),h=(0,l.useRef)(),_=(0,l.useRef)(),g=(0,l.useRef)(!1),y=(0,l.useRef)(),w=r(d),E=r(s),x=(0,l.useCallback)(function(){_.current&&_.current.disconnect()},[]),C=(0,l.useCallback)(function(e){e&&e!==y.current&&(x(),y.current=e,p({currentBreakpoint:"",width:e.clientWidth,height:e.clientHeight})),_.current&&y.current&&_.current.observe(y.current)},[x]);return(0,l.useEffect)(function(){if((!("ResizeObserver"in window)||!("ResizeObserverEntry"in window))&&!c)return function(){return null};var e=null;return _.current=new(c||ResizeObserver)(function(t){var l=t[0];e=requestAnimationFrame(function(){var e=l.contentBoxSize,t=l.borderBoxSize,i=l.contentRect,r=e;n&&(t?r=t:!g.current&&(g.current=!0));var s=(r=Array.isArray(r)?r[0]:r)?r.inlineSize:i.width,d=r?r.blockSize:i.height;if(s!==m.current.width||d!==m.current.height){m.current={width:s,height:d};var c={currentBreakpoint:"",width:s,height:d,entry:l,observe:C,unobserve:x};a?(c.currentBreakpoint=o(a,s),c.currentBreakpoint!==h.current&&(w.current&&w.current(c),h.current=c.currentBreakpoint)):w.current&&w.current(c);var v={currentBreakpoint:c.currentBreakpoint,width:s,height:d,entry:l};if(!E.current||E.current(v)){if(!E.current&&a&&u){p(function(e){return e.currentBreakpoint!==v.currentBreakpoint?v:e});return}p(v)}}})}),C(),function(){x(),e&&cancelAnimationFrame(e)}},[JSON.stringify(a),n,C,x,u]),i({},f,{observe:C,unobserve:x})}},999238:function(e,t,n){"use strict";t.forceCheck=void 0;var l,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,n,l){return n&&e(t.prototype,n),l&&e(t,l),t}}(),r=n(88648),o=v(r),a=v(n(201845)),u=n(76669),s=v(n(431897)),d=v(n(976214)),c=v(n(15966));function v(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function m(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h={top:0,left:0,width:0,height:0},_="data-lazyload-listened",g=[],y=[],w=!1;try{var E=Object.defineProperty({},"passive",{get:function(){w=!0}});window.addEventListener("test",null,E)}catch(e){}var x=!!w&&{capture:!1,passive:!0},C=function(e,t){var n=e.ref,l=void 0,i=void 0,r=void 0,o=void 0;try{var a=t.getBoundingClientRect();l=a.top,i=a.left,r=a.height,o=a.width}catch(e){l=h.top,i=h.left,r=h.height,o=h.width}var u=window.innerHeight||document.documentElement.clientHeight,s=window.innerWidth||document.documentElement.clientWidth,d=Math.max(l,0),c=Math.max(i,0),v=Math.min(u,l+r)-d,f=Math.min(s,i+o)-c,p=void 0,m=void 0,_=void 0,g=void 0;try{var y=n.getBoundingClientRect();p=y.top,m=y.left,_=y.height,g=y.width}catch(e){p=h.top,m=h.left,_=h.height,g=h.width}var w=p-d,E=m-c,x=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return w-x[0]<=v&&w+_+x[1]>=0&&E-x[0]<=f&&E+g+x[1]>=0},b=function(e){var t=e.ref;if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;var n=void 0,l=void 0;try{var i=t.getBoundingClientRect();n=i.top,l=i.height}catch(e){n=h.top,l=h.height}var r=window.innerHeight||document.documentElement.clientHeight,o=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return n-o[0]<=r&&n+l+o[1]>=0},A=function(e){var t=e.ref;if(t instanceof HTMLElement){var n=(0,s.default)(t);(e.props.overflow&&n!==t.ownerDocument&&n!==document&&n!==document.documentElement?C(e,n):b(e))?!e.visible&&(e.props.once&&y.push(e),e.visible=!0,e.forceUpdate()):!(e.props.once&&e.visible)&&(e.visible=!1,e.props.unmountIfInvisible&&e.forceUpdate())}},k=function(){y.forEach(function(e){var t=g.indexOf(e);-1!==t&&g.splice(t,1)}),y=[]},I=function(){for(var e=0;e<g.length;++e)A(g[e]);k()},S=void 0,P=null,j=function(e){function t(e){f(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.visible=!1,n.setRef=n.setRef.bind(n),n}return m(t,e),i(t,[{key:"componentDidMount",value:function(){var e=window,t=this.props.scrollContainer;if(t){if("string"==typeof t)e=e.document.querySelector(t)}var n=void 0!==this.props.debounce&&"throttle"===S||"debounce"===S&&void 0===this.props.debounce;if(n&&((0,u.off)(e,"scroll",P,x),(0,u.off)(window,"resize",P,x),P=null),!P&&(void 0!==this.props.debounce?(P=(0,d.default)(I,"number"==typeof this.props.debounce?this.props.debounce:300),S="debounce"):void 0!==this.props.throttle?(P=(0,c.default)(I,"number"==typeof this.props.throttle?this.props.throttle:300),S="throttle"):P=I),this.props.overflow){var l=(0,s.default)(this.ref);if(l&&"function"==typeof l.getAttribute){var i=1+ +l.getAttribute(_);1===i&&l.addEventListener("scroll",P,x),l.setAttribute(_,i)}}else if(0===g.length||n){var r=this.props,o=r.scroll,a=r.resize;o&&(0,u.on)(e,"scroll",P,x),a&&(0,u.on)(window,"resize",P,x)}g.push(this),A(this)}},{key:"shouldComponentUpdate",value:function(){return this.visible}},{key:"componentWillUnmount",value:function(){if(this.props.overflow){var e=(0,s.default)(this.ref);if(e&&"function"==typeof e.getAttribute){var t=+e.getAttribute(_)-1;0===t?(e.removeEventListener("scroll",P,x),e.removeAttribute(_)):e.setAttribute(_,t)}}var n=g.indexOf(this);-1!==n&&g.splice(n,1),0===g.length&&"undefined"!=typeof window&&((0,u.off)(window,"resize",P,x),(0,u.off)(window,"scroll",P,x))}},{key:"setRef",value:function(e){e&&(this.ref=e)}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.children,l=e.placeholder,i=e.className,r=e.classNamePrefix,a=e.style;return o.default.createElement("div",{className:r+"-wrapper "+i,ref:this.setRef,style:a},this.visible?n:l||o.default.createElement("div",{style:{height:t},className:r+"-placeholder"}))}}]),t}(r.Component);j.propTypes={className:a.default.string,classNamePrefix:a.default.string,once:a.default.bool,height:a.default.oneOfType([a.default.number,a.default.string]),offset:a.default.oneOfType([a.default.number,a.default.arrayOf(a.default.number)]),overflow:a.default.bool,resize:a.default.bool,scroll:a.default.bool,children:a.default.node,throttle:a.default.oneOfType([a.default.number,a.default.bool]),debounce:a.default.oneOfType([a.default.number,a.default.bool]),placeholder:a.default.node,scrollContainer:a.default.oneOfType([a.default.string,a.default.object]),unmountIfInvisible:a.default.bool,style:a.default.object},j.defaultProps={className:"",classNamePrefix:"lazyload",once:!1,offset:0,overflow:!1,resize:!1,scroll:!0,unmountIfInvisible:!1};t.default=j,t.forceCheck=I},976214:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var l=void 0,i=void 0,r=void 0,o=void 0,a=void 0,u=function u(){var s=+new Date-o;s<t&&s>=0?l=setTimeout(u,t-s):(l=null,!n&&(a=e.apply(r,i),!l&&(r=null,i=null)))};return function(){r=this,i=arguments,o=+new Date;var s=n&&!l;return!l&&(l=setTimeout(u,t)),s&&(a=e.apply(r,i),r=null,i=null),a}}},76669:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=function(e,t,n,l){l=l||!1,e.addEventListener?e.addEventListener(t,n,l):e.attachEvent&&e.attachEvent("on"+t,function(t){n.call(e,t||window.event)})},t.off=function(e,t,n,l){l=l||!1,e.removeEventListener?e.removeEventListener(t,n,l):e.detachEvent&&e.detachEvent("on"+t,n)}},431897:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(e instanceof HTMLElement))return document.documentElement;for(var t="absolute"===e.style.position,n=/(scroll|auto)/,l=e;l;){if(!l.parentNode)return e.ownerDocument||document.documentElement;var i=window.getComputedStyle(l),r=i.position,o=i.overflow,a=i["overflow-x"],u=i["overflow-y"];if("static"===r&&t){l=l.parentNode;continue}if(n.test(o)&&n.test(a)&&n.test(u))return l;l=l.parentNode}return e.ownerDocument||e.documentElement||document.documentElement}},15966:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var l,i;return t||(t=250),function(){var r=n||this,o=+new Date,a=arguments;l&&o<l+t?(clearTimeout(i),i=setTimeout(function(){l=o,e.apply(r,a)},t)):(l=o,e.apply(r,a))}}},735636:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var l=n("378407"),i=n("80415"),r=n("196764"),o=n("334168"),a=n("88648"),u=n("357437"),s=n("20642"),d=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,o.Z)(e,t)})},c=function(e){function t(){for(var t,n=arguments.length,l=Array(n),i=0;i<n;i++)l[i]=arguments[i];return(t=e.call.apply(e,[this].concat(l))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var l=t.resolveArguments(e,n),i=l[0],r=l[1];t.removeClasses(i,"exit"),t.addClass(i,r?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var l=t.resolveArguments(e,n),i=l[0],r=l[1];t.addClass(i,r?"appear":"enter","active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var l=t.resolveArguments(e,n),i=l[0],r=l[1]?"appear":"enter";t.removeClasses(i,r),t.addClass(i,r,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,l="string"==typeof n,i=l&&n?n+"-":"",r=l?""+i+e:n[e],o=l?r+"-active":n[e+"Active"],a=l?r+"-done":n[e+"Done"];return{baseClassName:r,activeClassName:o,doneClassName:a}},t}(0,r.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var l,i,r=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;if("appear"===t&&"done"===n&&o&&(r+=" "+o),"active"===n&&e&&(0,s.Q)(e),r){;this.appliedClasses[t][n]=r,l=e,i=r,l&&i&&i.split(" ").forEach(function(e){return function(e,t){if(e.classList)e.classList.add(t);else{var n,l;if(n=e,l=t,n.classList?!(!!l&&n.classList.contains(l)):-1===(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+l+" "))"string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t)}}(l,e)})}},n.removeClasses=function(e,t){var n=this.appliedClasses[t],l=n.base,i=n.active,r=n.done;this.appliedClasses[t]={},l&&d(e,l),i&&d(e,i),r&&d(e,r)},n.render=function(){var e=this.props,t=(e.classNames,(0,i.Z)(e,["classNames"]));return a.createElement(u.ZP,(0,l.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(a.Component);c.defaultProps={classNames:""},c.propTypes={};var v=c},357437:function(e,t,n){"use strict";n.d(t,{Ix:function(){return p},cn:function(){return f},d0:function(){return v}});var l=n(80415),i=n(196764),r=n(88648),o=n(309931),a=n(704002),u=n(392699),s=n(20642),d="unmounted",c="exited",v="entering",f="entered",p="exiting",m=function(e){function t(t,n){l=e.call(this,t,n)||this;var l,i,r=n&&!n.isMounting?t.enter:t.appear;return l.appearStatus=null,t.in?r?(i=c,l.appearStatus=v):i=f:i=t.unmountOnExit||t.mountOnEnter?d:c,l.state={status:i},l.nextCallback=null,l}(0,i.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===d?{status:c}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==v&&n!==f&&(t=v):(n===v||n===f)&&(t=p)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,l=this.props.timeout;return e=t=n=l,null!=l&&"number"!=typeof l&&(e=l.exit,t=l.enter,n=void 0!==l.appear?l.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){if(this.cancelNextCallback(),t===v){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:o.findDOMNode(this);n&&(0,s.Q)(n)}this.performEnter(e)}else this.performExit()}else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:d})},n.performEnter=function(e){var t=this,n=this.props.enter,l=this.context?this.context.isMounting:e,i=this.props.nodeRef?[l]:[o.findDOMNode(this),l],r=i[0],u=i[1],s=this.getTimeouts(),d=l?s.appear:s.enter;if(!e&&!n||a.Z.disabled){this.safeSetState({status:f},function(){t.props.onEntered(r)});return}this.props.onEnter(r,u),this.safeSetState({status:v},function(){t.props.onEntering(r,u),t.onTransitionEnd(d,function(){t.safeSetState({status:f},function(){t.props.onEntered(r,u)})})})},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),l=this.props.nodeRef?void 0:o.findDOMNode(this);if(!t||a.Z.disabled){this.safeSetState({status:c},function(){e.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:p},function(){e.props.onExiting(l),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:c},function(){e.props.onExited(l)})})})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(l){n&&(n=!1,t.nextCallback=null,e(l))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:o.findDOMNode(this),l=null==e&&!this.props.addEndListener;if(!n||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],r=i[0],a=i[1];this.props.addEndListener(r,a)}null!=e&&setTimeout(this.nextCallback,e)},n.render=function(){var e=this.state.status;if(e===d)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,l.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(u.Z.Provider,{value:null},"function"==typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},t}(r.Component);function h(){}m.contextType=u.Z,m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:h,onEntering:h,onEntered:h,onExit:h,onExiting:h,onExited:h},m.UNMOUNTED=d,m.EXITED=c,m.ENTERING=v,m.ENTERED=f,m.EXITING=p,t.ZP=m},392699:function(e,t,n){"use strict";var l=n(88648);t.Z=l.createContext(null)},704002:function(e,t){"use strict";t.Z={disabled:!1}},20642:function(e,t,n){"use strict";n.d(t,{Q:function(){return l}});var l=function(e){return e.scrollTop}},44895:function(e,t,n){"use strict";function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}n.d(t,{_:function(){return l}})},204771:function(e,t,n){"use strict";function l(e){if(null==e)throw TypeError("Cannot destructure "+e);return e}n.d(t,{_:function(){return l}})},342583:function(e,t,n){"use strict";n.d(t,{ZP:function(){return c}});let l=(e,t,n,l)=>{if("length"===n||"prototype"===n||"arguments"===n||"caller"===n)return;let r=Object.getOwnPropertyDescriptor(e,n),o=Object.getOwnPropertyDescriptor(t,n);if(!!i(r,o)||!l)Object.defineProperty(e,n,o)},i=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},r=(e,t)=>{let n=Object.getPrototypeOf(t);if(n!==Object.getPrototypeOf(e))Object.setPrototypeOf(e,n)},o=(e,t)=>`/* Wrapped ${e}*/
${t}`,a=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),u=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),s=(e,t,n)=>{let l=""===n?"":`with ${n.trim()}() `,i=o.bind(null,l,t.toString());Object.defineProperty(i,"name",u),Object.defineProperty(e,"toString",{...a,value:i})},d=new WeakMap;function c(e,{cacheKey:t=([e])=>e,cache:n=new Map}={}){let i=new Map,o=function(...l){let r=t(l);if(i.has(r))return i.get(r);let o=(async()=>{try{if(n&&await n.has(r))return await n.get(r);let t=e.apply(this,l),i=await t;try{return i}finally{n&&await n.set(r,i)}}finally{i.delete(r)}})();return i.set(r,o),o};return!function(e,t,{ignoreNonConfigurable:n=!1}={}){let{name:i}=e;for(let i of Reflect.ownKeys(t))l(e,t,i,n);r(e,t),s(e,t,i)}(o,e,{ignoreNonConfigurable:!0}),d.set(o,n),o}}}]);