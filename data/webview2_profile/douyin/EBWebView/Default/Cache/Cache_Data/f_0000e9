(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["51094"],{929182:function(e){"use strict";e.exports="data:image/png;base64,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"},319175:function(e){"use strict";e.exports="data:image/png;base64,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"},2050:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF2SURBVHgB7dcxboMwFIDhZ2BGrEzNDboBE6pU9g49AEP3HiL3yJAjsNMZBOrQG7Q3oIiBAUGxlUoUFSfYxhLS+5cAsuETcVAA2Gnkd2MYBgI7yprtG7CTdgOdh3DdIVx3CNcdwnWHcN0hXHcWCBSG4X3btk+2bZ/TNP0Chfm+/0oI+c7z/MwbN/8/fvUbiKLorqqq93HTofuWZb1cu8iteZ536vs+ZjBCkrIsn5fGrl4qTdM8wAVN67ruFARBDJJN0bTxRh5441fDXddNxo/P6TFZ/BzNYIaR8OasXiq0y3J5GzcP0+Miy2YBfSyK4sibJ/RUoT9Ix3EeQfLOi6LZOBBMFi+DZmNBIlG8LJqNB8nW4lWg2RxQ0K14VWia0FNlKd7TZgSHqtA0pXDaEn6eDJrNB8UtLZs/F5VEs3PABvHwKtDsPLBR/+FVoWnK1/g8uubruo5N0/zIsiwBRW0O3yp8ddMdwnWHcN0hXHcI1x3Cdbdb+A8HRekEopP8VwAAAABJRU5ErkJggg=="},132770:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFmSURBVHgB7dc9aoRAFMDx8atOShEkuUFSiX28gBfIFulT5ABb7BFyg+QCniCFAUHtcgbB2giWapxiQGSV6Lx5MPD+zarsLL91h9mRMU0zxME4jgbTKHtxbjJN0ga6jODYERw7gmNHcOwIjh3BsbOZ4uI4vq3r+tkwjN88zz8YUMv9OOgvEEXRXdM0X9PhPT83TfNSluWFAaRsqizRvGEYzkEQnBlASuDX0CIoPDh8Cy2CwCud0yLLst6ml5/5NVk8GHwNbdv2S1EU777vPzFAPAh8Cy2WwCRJGki8NPw/aBEkXgq+By2Cwh+GH0GLIPCH4DJokSx+918+BHoe38tUVcU/72F+nS+hfDVaG7f7jndd98iA0Ly1O9/3/evWuN1w13XT+bkMWnQNP+0mv7fGHNod8unStu3JcZw0y7KUARaG4Wmy3Hie98m/0Nr7lG5rVUaPbtgRHDuCY0dw7AiOHcGx0xb+B4MC4F8tBPF0AAAAAElFTkSuQmCC"},471661:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAWCAYAAAAb+hYkAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADMSURBVHgBpdMxCsIwFAbg/yWO7rqKHsADONUWPUB33T2AgrPUY+gtBKmbk4sHkPYkWpsgrbVp8oo/JPACX14ICfBX/N1MD0ZkASA2AE0w8LpILzcbEnrOBBUrJEIE0drdKY0fGPoKjj/ro7zuI4mvzUglie9cKCsVE8rfXTiwjhjQjByQ4EoQLZFhUdSEk3QiQ0cBTp7ofZfu43n56xCYl+J1pLYA5+2B2oLm41mAGTlAHTGASnnl0/2KA1Q6etY/Nws5oOxU+bl2oPIGEoRgpuXw9A8AAAAASUVORK5CYII="},319897:function(e,t,l){"use strict";l.d(t,{z:function(){return d}});var i=l(520739),n=l(563097);l(88648);var a=l(326673),o=l(713097),s=l.n(o);let d=e=>{let{size:t="normal",type:l="primary",children:o,autoFixed:d=!0,className:r,width:u,style:c,theme:v="solid",disabled:m=!1,newStyle:f=!1,onClick:p}=e,h=s()(a.default.button,a.default[t],a.default[l],a.default[v],{[a.default.fixed]:!d,[a.default.newStyle]:f},r);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("button",{type:"button",disabled:m,onClick:p,className:h,style:(0,i._)({width:u&&`${u}px`},c),children:o})})}},634361:function(e,t,l){"use strict";l.d(t,{v:function(){return C}}),l("874386"),l("527785"),l("268917"),l("455663");var i=l("563097"),n=l("88648"),a=l("300277"),o=l.n(a),s=l("89087"),d=l.n(s),r=l("713097"),u=l.n(r);let c=(0,n.createContext)({});var v=l("243150"),m=l("271401"),f=l("520739"),p=l("878389");let h=(e,t)=>(0,i.jsx)("svg",(0,p._)((0,f._)({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.646 1.646a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L7.293 6 3.646 2.354a.5.5 0 0 1 0-.708z",fill:"#161823",fillOpacity:".34"})}));var g=(0,n.forwardRef)(h),_=l("259393");let x=(e,t)=>(0,i.jsxs)("svg",(0,p._)((0,f._)({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,i.jsx)("g",{clipPath:"url(#clear_svg__clip0_3000_119940)",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 15.33A7.333 7.333 0 1 0 8 .665a7.333 7.333 0 0 0 0 14.667zm3.357-4.091a1 1 0 0 1-1.414.024L8.025 9.411l-1.853 1.918a1 1 0 0 1-1.439-1.39l1.853-1.917-1.918-1.853a1 1 0 1 1 1.389-1.438l1.918 1.852 1.853-1.918a1 1 0 1 1 1.438 1.389L9.414 7.972l1.918 1.853a1 1 0 0 1 .025 1.414z",fill:"#161823",fillOpacity:".5"})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clear_svg__clip0_3000_119940",children:(0,i.jsx)("path",{fill:"#fff",d:"M0 0h16v16H0z"})})})]}));var j=(0,n.forwardRef)(x);let b=(e,t)=>(0,i.jsx)("svg",(0,p._)((0,f._)({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,i.jsx)("path",{d:"M1 5.5L5 9l5.5-6",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round"})}));var N=(0,n.forwardRef)(b),y=l("526264"),w=l("579592");let A=e=>{let{options:t,currentIndex:l=0,className:a,itemClassName:s}=e,{disabled:d,selectedOptions:r,isOptionsLoading:f,onChange:p,loadData:h,onBlur:_,setIsOptionsLoading:x,setIfShowOptionPannel:j,showLeafSelectIcon:b}=(0,n.useContext)(c),w=async e=>{if(!d){var t;let i=[...r.slice(0,l),e],n=(null==e?void 0:e.children)&&(null==e?void 0:null===(t=e.children)||void 0===t?void 0:t.length)>0;null==p||p(i.map(e=>null==e?void 0:e.value),i),!n&&(!h||(null==e?void 0:e.isLeaf)?(null==_||_(i),null==j||j(!1)):(x(!0),await h(i),x(!1)))}};return(0,i.jsx)("div",{className:u()(y.default.optionList,a),children:t.map((e,t)=>{var n,a,c,p;let _=!o()(null==e?void 0:e.value)&&!o()(null==r?void 0:null===(n=r[l])||void 0===n?void 0:n.value)&&(null==r?void 0:null===(a=r[l])||void 0===a?void 0:a.value)===(null==e?void 0:e.value),x=(null==r?void 0:null===(c=r[(null==r?void 0:r.length)-1])||void 0===c?void 0:c.value)===(null==e?void 0:e.value),j=h&&!(null==e?void 0:e.isLeaf)||(null==e?void 0:e.children)&&(null==e?void 0:null===(p=e.children)||void 0===p?void 0:p.length)>0,A=o()(null==e?void 0:e.value)?"暂不选择":null==e?void 0:e.label;return(0,i.jsxs)("div",{className:u()(y.default.optionItem,s,{[y.default.selected]:_,[y.default.disabled]:d}),onClick:()=>w(e),children:[(0,i.jsx)("div",{className:y.default.optionText,children:A}),j&&(x&&f?(0,i.jsx)(v.Z,{className:u()(y.default.loading,y.default.icon),width:12,viewBox:"0 0 12 12",height:12,src:m.Z}):(0,i.jsx)(v.Z,{className:y.default.icon,width:12,height:12,viewBox:"0 0 12 12",src:g})),_&&!j&&b&&(0,i.jsx)(v.Z,{width:12,height:12,viewBox:"0 0 12 12",src:N})]},t)})})},C=e=>{let{className:t,optionPannelClassName:l,optionListClassName:a,placeholder:o="请选择",options:s,defaultValue:r,value:f,isShowLoadingIcon:p=!1,disabled:h=!1,onBlur:g,onChange:x,loadData:b,dark:N=!1,optionItemClassName:C,children:I,showLeafSelectIcon:k=!1,hoverShowPanel:S=!1}=e,[E,P]=(0,n.useState)(!1),[R,M]=(0,n.useState)(!1),T=(0,n.useMemo)(()=>((null==f?void 0:f.join(""))||(null==r?void 0:r.join("")))&&(null==s?void 0:s.length)>0?(f||r).reduce((e,t,l)=>{var i,n;let a=0===l?s:null===(i=e[l-1])||void 0===i?void 0:i.children,o=null==a?void 0:null===(n=a.find)||void 0===n?void 0:n.call(a,e=>e.value===t);return o&&e.push(o),e},[]):[],[r,s,f]),D=(0,n.useMemo)(()=>0===T.length?[s]:T.reduce((e,t)=>(null==t?void 0:t.children)?[...e,t.children]:e,[s]),[s,T]),B=(0,n.useMemo)(()=>{var e;return(null==T?void 0:null===(e=T.map)||void 0===e?void 0:e.call(T,e=>e.label).join(" "))||""},[T]),L=e=>{e.stopPropagation(),e.preventDefault(),!h&&B&&(null==x||x([],[]))},F=()=>{null==g||g(T),P(!1)},O=()=>{!h&&!S&&P(e=>!e)},U=null,Z=(0,n.useRef)();(0,n.useEffect)(()=>{if(E&&Z.current){let e=()=>{let{clientWidth:e}=document.documentElement,{right:t}=Z.current.getBoundingClientRect(),l=parseFloat(Z.current.style.left||"0");t>e&&(Z.current.style.left=`${l+e-t-8}px`)};return e(),document.addEventListener("resize",e),()=>{document.removeEventListener("resize",e)}}},[E,D]);let{onMouseEnter:W,onMouseLeave:z}=(0,w.U)({onMouseEnter(){S&&!h&&P(!0)},onMouseLeave(){S&&!h&&P(!1)}});return U=d()(I)?(0,i.jsxs)("div",{className:u()(y.default.selector,{[y.default.active]:E,[y.default.disabled]:h}),children:[(0,i.jsx)("div",{className:u()(y.default.text,{[y.default.placeholder]:!B}),children:B||o}),p?(0,i.jsx)(v.Z,{className:y.default.loading,width:12,height:12,src:m.Z,viewBox:"0 0 12 12"}):(0,i.jsx)(v.Z,{width:16,height:16,src:B?j:_.Z,viewBox:"0 0 16 16",onClick:B?L:void 0})]}):"function"==typeof I?I(f,T,E):I,(0,i.jsx)(c.Provider,{value:{disabled:h,selectedOptions:T,isOptionsLoading:R,loadData:b,onBlur:g,onChange:x,setIsOptionsLoading:M,setIfShowOptionPannel:P,showLeafSelectIcon:k},children:(0,i.jsxs)("div",{tabIndex:-1,className:u()(y.default.cascader,{[y.default.dark]:N},t),onBlur:F,onMouseEnter:W,onMouseLeave:z,children:[(0,i.jsx)("div",{className:y.default.toggleContainer,onClick:O,children:U}),E&&(0,i.jsx)("div",{ref:Z,className:u()(y.default.optionPannel,l),children:null==D?void 0:D.map((e,t)=>e.length>0&&(0,i.jsx)(A,{className:a,itemClassName:C,currentIndex:t,options:e},t))})]})})}},583618:function(e,t,l){"use strict";l.d(t,{x:function(){return m}});var i=l(520739),n=l(878389),a=l(368200);l(874386);var o=l(563097),s=l(88648),d=l(713097),r=l.n(d),u=l(380902),c=l(415584),v=l(243150);function m(e){let{src:t,className:l,iconWidth:d=105,iconHeight:m=120,iconColor:f="rgba(169, 170, 183, 1)",iconStyle:p,withBlurBg:h=!1,onHandleImgLoad:g,imgClass:_,skeletonStyle:x,skeletonClass:j,isPreviewing:b,isSpider:N,showImageInSSR:y=!1,renderDefault:w,useMonitor:A=!0,onError:C,mainStyle:I}=e,k=(0,a._)(e,["src","className","iconWidth","iconHeight","iconColor","iconStyle","withBlurBg","onHandleImgLoad","imgClass","skeletonStyle","skeletonClass","isPreviewing","isSpider","showImageInSSR","renderDefault","useMonitor","onError","mainStyle"]),[S,E]=(0,s.useState)(0),P=(0,s.useRef)(!1),R=()=>{if(!P.current)g&&g(),P.current=!0},M=(0,s.useCallback)(()=>{E(1),R()},[]),T=e=>{R(),E(0),null==C||C(e)};(0,s.useEffect)(()=>{let e,l,i=!1;return t?((e=new Image).onload=function(){if(!i)i=!0,M(),e=null},e.onerror=function(e){if(!i)T(e),i=!0},l=setTimeout(e=>{if(!i)i=!0,T(e)},3e3),e.src=t):E(0),()=>{e&&(e.onload=void 0,e.onerror=void 0,clearTimeout(l))}},[t]);let D=N||y||1===S;return(0,o.jsxs)("div",{className:r()(c.default.imageContainer,l,{[c.default.imagePlaceholder]:!D}),style:I||null,children:[h&&D&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:c.default.blurBg,style:{backgroundImage:`url(${t})`}}),(0,o.jsx)("div",{className:c.default.blurBg,style:{backgroundImage:`url(${t})`}}),(0,o.jsx)("div",{className:c.default.blurMask})]}),(0,o.jsx)("img",(0,n._)((0,i._)({src:t},k),{className:r()(_,{[c.default.hidden]:b}),onLoad:M,onError:T})),!D&&(w||(0,o.jsx)("div",{style:x,className:r()(c.default.imgDefaultBg,j,{[c.default.hidden]:b}),children:(0,o.jsx)(v.Z,{style:(0,i._)({width:d,height:m},p),src:u.Z,viewBox:"0 0 105 120",color:f})}))]})}},483312:function(e,t,l){"use strict";l.d(t,{dR:function(){return u},nl:function(){return c}}),l(209955);var i=l(563097);l(88648);var n=l(713097),a=l.n(n),o=l(324758),s=l(319897);let d={unfollow:o.default.unFollow,emptyList:o.default.emptyList,emptySearch:o.default.emptySearch,noLogin:o.default.noLogin,notFound:o.default.notFound,noNetwork:o.default.noNetwork,serverError:o.default.serverError};function r(e){let{type:t="notFound",title:l="",desc:n="",className:r="",theme:u="default",titleClassName:c="",style:v={},primaryButtonTitle:m="",primaryButtonAction:f,secondaryButtonTitle:p="",secondaryButtonAction:h}=e;return(0,i.jsxs)("div",{"data-e2e":"error-page",className:a()(o.default.errorPage,o.default[u],r),style:v,children:[(0,i.jsx)("div",{className:o.default.icon,children:(0,i.jsx)("div",{className:d[t]})}),l&&(0,i.jsx)("div",{className:a()(o.default.title,c),children:l}),"string"==typeof n?(0,i.jsx)("div",{className:o.default.desc,children:n}):n.map((e,t)=>(0,i.jsx)("div",{className:o.default.desc,children:e},t)),(0,i.jsxs)("div",{className:o.default.buttonGroup,children:[p&&h&&(0,i.jsx)(s.z,{size:"normal",type:"secondary",onClick:h,children:p}),m&&f&&(0,i.jsx)(s.z,{autoFixed:!1,size:"normal",type:"primary",onClick:f,children:m})]})]})}function u(e){let{title:t,desc:l,className:n,style:a,primaryButtonTitle:o,primaryButtonAction:s,secondaryButtonTitle:d,secondaryButtonAction:u}=e;return(0,i.jsx)(r,{style:a,className:n,type:"notFound",title:t||"404",desc:l||"页面不见了",primaryButtonTitle:o,primaryButtonAction:s,secondaryButtonTitle:d,secondaryButtonAction:u})}function c(e){let{title:t,desc:l,className:n,style:a,primaryButtonTitle:o,primaryButtonAction:s,secondaryButtonTitle:d,secondaryButtonAction:u}=e;return(0,i.jsx)(r,{style:a,className:n,type:"serverError",title:t||"服务出现异常",desc:l,primaryButtonTitle:o,primaryButtonAction:s,secondaryButtonTitle:d,secondaryButtonAction:u})}},123151:function(e,t,l){"use strict";l.d(t,{ER:function(){return i}});var i={Default:0,0:"Default",CommentTime:1,1:"CommentTime",CommentLength:2,2:"CommentLength",RefineSort:3,3:"RefineSort"}},841316:function(e,t,l){"use strict";l.d(t,{r:function(){return i}});let i=(0,l(88648).createContext)({})},195398:function(e,t,l){"use strict";l.d(t,{Z:function(){return D}}),l("874386");var i=l("563097"),n=l("88648"),a=l("429942"),o=l("689913"),s=l("947841"),d=l("520739"),r=l("878389"),u=l("713097"),c=l.n(u),v=l("243268"),m=l("841316"),f=e=>{let{fieldKey:t,label:l,placeholder:a,maxLength:o=200,validateRule:s}=e,{formValue:u,setFormValue:f,isForceValidate:p}=(0,n.useContext)(m.r),[h,g]=(0,n.useState)(!1),_=(0,n.useMemo)(()=>(null==u?void 0:u[t])||"",[u,t]),x=(null==s?void 0:s(_))||"",j=e=>{var l;let i=null==e?void 0:null===(l=e.target)||void 0===l?void 0:l.value;g(!1),f(e=>(0,r._)((0,d._)({},e),{[t]:i}))};return(0,i.jsxs)("div",{className:v.default.formItem,children:[(0,i.jsx)("div",{className:v.default.label,children:l}),(0,i.jsxs)("div",{className:v.default.content,children:[(0,i.jsx)("textarea",{maxLength:o,className:c()(v.default.textarea,v.default.item),placeholder:a,value:_,onChange:j,onBlur:()=>g(!0)}),(p||h)&&x&&(0,i.jsx)("div",{className:v.default.validateMsg,children:x})]})]})},p=l("300277"),h=l.n(p);l("268917");var g=l("175018"),_=l("634361"),x=l("526425"),j=l("623527"),b=l("505956"),N=l("318356"),y=l("242245"),w=e=>{let{className:t,defaultValue:l,value:a,placeholder:o="请选择省市区街道",onChange:s,onBlur:d,onInit:r,addressModalContainer:u,roomId:v}=e,[m,f]=(0,n.useState)(!1),[p,h]=(0,n.useState)([]),w=e=>{let{pos:t,logId:l,statusCode:i,statusMessage:n,path:a}=e;j.oe.event.error({name:j.Mo.EcomBuyNowAddressCascaderError,report:{logId:l,pos:t,scene:v?"liveDetail":"shopAnchor",statusCode:i}}),(0,N.qP)("ecomApiError",{path:a,status_code:i,status_message:n,log_id:l})},A=(0,n.useCallback)(async()=>{var e,t;let l=await (0,x.Bq)();if((null==l?void 0:l.status_code)!==0)return w({pos:"province",logId:null==l?void 0:l.logId,statusCode:null==l?void 0:l.status_code,statusMessage:null==l?void 0:l.status_msg,path:"/aweme/v1/web/area/province/list/"}),g.F.info("获取省份列表失败",u),[];return(null==l?void 0:null===(t=l.data)||void 0===t?void 0:null===(e=t.map)||void 0===e?void 0:e.call(t,e=>{let{province:t,province_id:l,has_child:i}=e;return{label:t,value:String(l),isLeaf:!i}}))||[]},[u]),C=(0,n.useCallback)(async e=>{var t,l;let i=await (0,x.vz)(e);if((null==i?void 0:i.status_code)!==0)return w({pos:"city",logId:null==i?void 0:i.logId,statusCode:null==i?void 0:i.status_code,statusMessage:null==i?void 0:i.status_msg,path:"/aweme/v1/web/area/city/list/"}),g.F.info("获取城市列表失败，请重试",u),[];return(null===(l=i.data)||void 0===l?void 0:null===(t=l.map)||void 0===t?void 0:t.call(l,e=>{let{city:t,city_id:l,has_child:i}=e;return{label:t,value:String(l),isLeaf:!i}}))||[]},[u]),I=(0,n.useCallback)(async e=>{var t,l;let i=await (0,x.RT)(e);if((null==i?void 0:i.status_code)!==0)return w({pos:"area",logId:null==i?void 0:i.logId,statusCode:null==i?void 0:i.status_code,statusMessage:null==i?void 0:i.status_msg,path:"/aweme/v1/web/area/area/list/"}),g.F.info("获取地区列表失败，请重试",u),[];return(null==i?void 0:null===(l=i.data)||void 0===l?void 0:null===(t=l.map)||void 0===t?void 0:t.call(l,e=>{let{area_id:t,area:l,has_child:i}=e;return{label:l,value:String(t),isLeaf:!i}}))||[]},[u]),k=(0,n.useCallback)(async e=>{let t=await (0,x.d9)(e);if((null==t?void 0:t.status_code)!==0)return w({pos:"street",logId:null==t?void 0:t.logId,statusCode:null==t?void 0:t.status_code,statusMessage:null==t?void 0:t.status_msg,path:"/aweme/v1/web/area/street/list/"}),g.F.info("获取街道列表失败，请重试",u),[];{var l,i;let e=(null==t?void 0:null===(i=t.data)||void 0===i?void 0:null===(l=i.map)||void 0===l?void 0:l.call(i,e=>{let{street:t,street_id:l,has_child:i}=e;return{label:t,value:String(l),isLeaf:!i}}))||[];return(null==e?void 0:e.length)>0&&e.push({label:void 0,value:void 0,isLeaf:!0}),e}},[u]),S=async(e,t,l,i,n)=>{var a,o,s,d,r,u,c;let v=[],m=[],f=[],p=[];if(t){let l=null==e?void 0:null===(a=e.find)||void 0===a?void 0:a.call(e,e=>String(e.value)===String(t));l&&(v=(null==l?void 0:l.children)&&(null==l?void 0:null===(o=l.children)||void 0===o?void 0:o.length)>0?null==l?void 0:l.children:await C(t),l.children=v,p.push(l))}if(l){let e=null==v?void 0:null===(s=v.find)||void 0===s?void 0:s.call(v,e=>String(e.value)===String(l));e&&(m=(null==e?void 0:e.children)&&(null==e?void 0:null===(d=e.children)||void 0===d?void 0:d.length)>0?null==e?void 0:e.children:await I(l),e.children=m,p.push(e))}if(i){let e=null==m?void 0:null===(r=m.find)||void 0===r?void 0:r.call(m,e=>String(e.value)===String(i));e&&(f=(null==e?void 0:e.children)&&(null==e?void 0:null===(u=e.children)||void 0===u?void 0:u.length)>0?null==e?void 0:e.children:await k(i),e.children=f,p.push(e))}if(n){let e=null==f?void 0:null===(c=f.find)||void 0===c?void 0:c.call(f,e=>String(e.value)===String(n));e&&p.push(e)}else(null==f?void 0:f.length)>0&&p.push({label:void 0,value:void 0,isLeaf:!0});return{cascaderOptions:e,selectedOptions:p}},E=async e=>{let[t,l,i,n]=e,a=(null==t?void 0:t.value)||"",o=(null==l?void 0:l.value)||"",s=(null==i?void 0:i.value)||"",d=(null==n?void 0:n.value)||"",{cascaderOptions:r}=await S(p,String(a),String(o),String(s),String(d));h([...r])},P=async()=>{f(!0);let{prov_id:e,city_id:t,area_id:i,street_id:n}=l||{},a=await A(),{cascaderOptions:o,selectedOptions:s}=await S(a,String(e),String(t),String(i),String(n));h(o),null==r||r(s),f(!1)};return(0,n.useEffect)(()=>{l&&P()},[l]),(0,i.jsx)(_.v,{isShowLoadingIcon:m,disabled:m,placeholder:o,value:(0,y.Rn)(a),defaultValue:(0,y.Rn)(l),options:p,className:c()(b.default.cascaderContainer,t),optionListClassName:b.default.cascaderOptionList,loadData:E,onBlur:d,onChange:(e,t)=>null==s?void 0:s((0,y.fW)(t))})},A=e=>{let{label:t,placeholder:l,validateRule:a,defaultValue:o,addressModalContainer:s,roomId:r}=e,{formValue:u,setFormValue:c,isForceValidate:f}=(0,n.useContext)(m.r),[p,g]=(0,n.useState)(!1),[_,x]=(0,n.useState)(!1),j=(null==a?void 0:a(u))||"",b=e=>{null==c||c(t=>(0,d._)({},t,e)),g(!1),x(!1)},N=e=>{var t;(null==e?void 0:e.length)===4&&h()(null==e?void 0:null===(t=e[(null==e?void 0:e.length)-1])||void 0===t?void 0:t.value)?x(!0):x(!1)},y=e=>{g(!0),N(e)},A=e=>{N(e)};return(0,i.jsxs)("div",{className:v.default.formItem,children:[(0,i.jsx)("div",{className:v.default.label,children:t}),(0,i.jsxs)("div",{className:v.default.content,children:[(0,i.jsx)(w,{addressModalContainer:s,roomId:r,className:v.default.item,placeholder:l,value:u,defaultValue:o,onChange:b,onBlur:y,onInit:A}),(f||p)&&j&&(0,i.jsx)("div",{className:v.default.validateMsg,children:j}),_&&(0,i.jsx)("div",{className:v.default.nullStreetTip,children:"地址库升级，为保证商品尽快送达，请补充街道信息"})]})]})},C=l("645260"),I=l.n(C),k=l("728160"),S=l("218296"),E=l("776138"),P=l("178462"),R=e=>{let{onClose:t,setIsLoading:l}=e,{formValue:a}=(0,n.useContext)(m.r),{ref:o,roomId:s,setEditLoading:d,initAddress:r,updateSku:u,updateBuyNowData:f}=(0,E.V)(e=>({ref:I()(e,"uiStore.addressModalContainerRef"),updateBuyNowData:I()(e,"updateBuyNowData"),setEditLoading:I()(e,"uiStore.setEditLoading"),initAddress:I()(e,"addressStore.initAddress"),roomId:I()(e,"roomId"),updateSku:I()(e,"skuStore.updateSku")})),p=(0,n.useMemo)(()=>{let{name:e,mobile:t,detail:l}=a||{};return!(0,k.Ol)(e)&&!(0,k.gG)(t)&&!(0,k.YN)(a)&&!(0,k.Op)(l)},[a]),h=async()=>{if(!p)return;let{id:e,name:i,mobile:n,detail:c,prov_id:v,prov:m,city_id:h,city:_,area_id:b,area:y,street_id:w,street:A}=a;l(!0);let C=await (0,x.Mw)({add_id:e,name:i,mobile:n,detail:c,prov_id:v,prov:m,city_id:h,city:_,area_id:b,area:y,street_id:w,street:A});if((null==C?void 0:C.status_code)===0){var I;l(!1),g.F.info({text:"保存成功",duration:1e3},null==o?void 0:o.current),await (0,S._)(1e3),null==t||t(),d(!0);let e=await (0,x.v2)(null==C?void 0:null===(I=C.data)||void 0===I?void 0:I.id);(null==e?void 0:e.status_code)!==0&&(0,N.qP)("ecomApiError",{path:"/aweme/v1/web/address/report/",status_code:null==e?void 0:e.status_code,status_message:null==e?void 0:e.status_msg,log_id:null==e?void 0:e.logId});let i=await r(!0).catch(e=>{})||[],n=null==i?void 0:i.find(e=>{var t;return(null==e?void 0:e.id)===(null==C?void 0:null===(t=C.data)||void 0===t?void 0:t.id)});!await u(n)&&await f({address:n},P._t.ADDRESS),d(!1)}else l(!1),g.F.info((null==C?void 0:C.status_msg)||"保存失败",null==o?void 0:o.current),j.oe.event.error({name:j.Mo.EcomBuyNowAddressSaveError,report:{logId:null==C?void 0:C.logId,scene:s?"liveDetail":"shopAnchor",reason:null==C?void 0:C.status_msg,statusCode:null==C?void 0:C.status_code}}),(0,N.qP)("ecomApiError",{path:"/aweme/v1/web/address/save/",status_code:null==C?void 0:C.status_code,status_message:null==C?void 0:C.status_msg,log_id:null==C?void 0:C.logId})};return(0,i.jsxs)("div",{className:v.default.btnBox,children:[(0,i.jsx)("div",{className:v.default.cancle,onClick:t,children:"取消"}),(0,i.jsx)("div",{className:c()(v.default.save,{[v.default.disabled]:!p}),onClick:h,children:"保存"})]})},M=e=>{let{defaultValue:t,modalType:l,onClose:a,setIsLoading:o,addressModalContainer:d,roomId:r}=e,[u,c]=(0,n.useState)(t),[v,p]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{"edit"===l&&p(!0)},[l]),(0,i.jsxs)(m.r.Provider,{value:{formValue:u,setFormValue:c,isForceValidate:v,setIsForceValidate:p},children:[(0,i.jsx)(s.Z,{label:"收货人",maxLength:25,fieldKey:"name",placeholder:"请输入收货人姓名",validateRule:k.Ol}),(0,i.jsx)(s.Z,{label:"手机号",maxLength:11,fieldKey:"mobile",placeholder:"请输入手机号",validateRule:k.gG}),(0,i.jsx)(A,{addressModalContainer:d,roomId:r,label:"所在地区",defaultValue:t,validateRule:k.YN}),(0,i.jsx)(f,{maxLength:50,label:"详细地址",fieldKey:"detail",placeholder:"小区楼栋、门牌号、村等",validateRule:k.Op}),(0,i.jsx)(R,{onClose:a,setIsLoading:o})]})};let T={create:"新建收货地址",edit:"编辑收货地址"};var D=e=>{let{type:t,defaultAddress:l,onClose:s,addressModalContainerRef:d,roomId:r}=e,[u,c]=(0,n.useState)(!1);return(0,i.jsx)(o.Z,{showLoadingIcon:u,className:a.default.addressModal,title:T[t],onClose:s,containerRef:d,children:(0,i.jsx)("div",{className:a.default.main,children:(0,i.jsx)(M,{addressModalContainer:d.current,roomId:r,modalType:t,defaultValue:l,onClose:s,setIsLoading:c})})})}},887426:function(e,t,l){"use strict";l.d(t,{Z:function(){return j}});var i=l("520739"),n=l("878389");l("874386");var a=l("563097"),o=l("88648"),s=l("645260"),d=l.n(s),r=l("89087"),u=l.n(r),c=l("713097"),v=l.n(c),m=l("175018"),f=l("623527"),p=l("322543"),h=l("178462");l("675373"),l("268917");let g=e=>new Promise(t=>{setTimeout(t,e)}),_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=[],l=!1;return i=>{t.push(i);let n=async()=>{let i=t.shift();null==i||i(),await g(e),t.length?await n():l=!1};!l&&(l=!0,Promise.resolve().then(n))}}(3e3);var x=l("318356"),j=e=>{let{product:t,roomId:l,promotionId:s,logParams:r,isInvalid:c,containerRef:g,onChange:j,className:b}=e,N=t.buy_num,{max:y,min:w,minToast:A,maxToast:C}=(0,o.useMemo)(()=>({max:d()(t,"limit_info.max",200),min:d()(t,"limit_info.min",1),minToast:d()(t,"limit_info.toast_down",""),maxToast:d()(t,"limit_info.toast_up","")}),[t]),[I,k]=(0,o.useState)(N),[S,E]=(0,o.useState)(!1),P=(0,o.useMemo)(()=>N<=w,[N,w]),R=(0,o.useMemo)(()=>N>=y,[N,y]);(0,o.useEffect)(()=>{k(N)},[N]);let M=(0,o.useCallback)(e=>{var t;E(!0),k(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)},[]),T=(0,o.useCallback)(()=>{_(()=>m.F.info(C||`最多购买 ${y} 件`,g.current))},[C,y,g]),D=(0,o.useCallback)(()=>{_(()=>m.F.info(A||`最少购买 ${w} 件`,g.current))},[A,w,g]),B=(0,o.useCallback)(async()=>{let e=Number(I);if(e!==N)e>y?(e=y,T(),f.oe.event.error({name:f.Mo.EcomBuyNowSkuCountLimit,report:{scene:l?"liveDetail":"shopAnchor",promotionId:s,type:"up_limit"}})):(e<w||u()(I)||""===String(I))&&(e=w,D(),f.oe.event.error({name:f.Mo.EcomBuyNowSkuCountLimit,report:{scene:l?"liveDetail":"shopAnchor",promotionId:s,type:"low_limit"}})),(0,x.qP)("ecomModuleClick",(0,n._)((0,i._)({},r),{ecom_module_name:"click_product_number",action_type:"input"})),await j({skuNum:e},e>N?h._t.INCREASE_SKU_NUM:h._t.DECREASE_SKU_NUM),E(!1)},[N,I,y,w,T,D,r,l,s]),L=async e=>{"Enter"===e.code&&B()},F=(0,o.useCallback)(()=>{if(!c){if(P){D(),f.oe.event.error({name:f.Mo.EcomBuyNowSkuCountLimit,report:{scene:l?"liveDetail":"shopAnchor",promotionId:s,type:"low_limit"}});return}(0,x.qP)("ecomModuleClick",(0,n._)((0,i._)({},r),{ecom_module_name:"click_product_number",action_type:"click_reduce"})),j({skuNum:N-1},h._t.DECREASE_SKU_NUM)}},[P,D,N,r,c,l,s]),O=(0,o.useCallback)(()=>{if(!c){if(R){T(),f.oe.event.error({name:f.Mo.EcomBuyNowSkuCountLimit,report:{scene:l?"liveDetail":"shopAnchor",promotionId:s,type:"up_limit"}});return}(0,x.qP)("ecomModuleClick",(0,n._)((0,i._)({},r),{ecom_module_name:"click_product_number",action_type:"click_add"})),j({skuNum:N+1},h._t.INCREASE_SKU_NUM)}},[R,T,N,r,c,l,s]);return(0,a.jsxs)("div",{className:v()(p.default.container,b),children:[c&&(0,a.jsx)("div",{className:p.default.invalidMask}),(0,a.jsx)("div",{className:v()(p.default.minus,{[p.default.enable]:!P}),onClick:F,children:"-"}),(0,a.jsx)("input",{value:S?I:N,className:p.default.input,type:"number",size:1,disabled:c,onChange:M,onBlur:B,onKeyUp:L}),(0,a.jsx)("div",{className:v()(p.default.plus,{[p.default.enable]:!R}),onClick:O,children:"+"})]})}},219300:function(e,t,l){"use strict";l.d(t,{Z:function(){return g}});var i=l("520739"),n=l("563097"),a=l("88648"),o=l("645260"),s=l.n(o),d=l("713097"),r=l.n(d),u=l("243150"),c=l("102480"),v=l("491207"),m=l("878389");let f=(e,t)=>(0,n.jsxs)("svg",(0,m._)((0,i._)({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 1 1.5 0v4.5A.75.75 0 0 1 8 10zM8 12a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5z",fill:"#fe2c55",fillOpacity:".34"}),(0,n.jsx)("circle",{cx:8,cy:8,r:6.25,stroke:"#fe2c55",strokeOpacity:".34",strokeWidth:1.5})]}));var p=(0,a.forwardRef)(f),h=l("757917"),g=e=>{var t;let{disabled:l,isSelected:o,coupon:d,onClick:m}=(0,a.useMemo)(()=>({disabled:s()(e,"disabled",!1),isSelected:s()(e,"isSelected",!1),coupon:s()(e,"coupon"),onClick:s()(e,"onClick")}),[e]),{typeText:f,couponText:g,discountText:_,thresholdText:x,exclusiveText:j,timeRangeText:b,applicationScopeText:N,unusableReasonList:y,conflictReason:w}=(0,a.useMemo)(()=>({typeText:s()(d,"type_text",""),couponText:s()(d,"coupon_text",""),discountText:s()(d,"discount_text",[]),thresholdText:s()(d,"threshold_text","无门槛"),exclusiveText:s()(d,"exclusive_text",""),timeRangeText:s()(d,"time_range_text",""),applicationScopeText:s()(d,"application_scope_text",""),unusableReasonList:s()(d,"unusable_reason_list",[]),conflictReason:s()(d,"conflict_reason","")}),[d]);return(0,n.jsxs)("div",{className:c.default.couponWrapper,children:[(0,n.jsxs)("div",{className:r()(c.default.coupon,{[c.default.disabled]:l}),onClick:()=>null==m?void 0:m(d,o),children:[(0,n.jsxs)("div",{className:c.default.couponLeft,children:[(0,n.jsxs)("div",{className:c.default.title,children:[f&&(0,n.jsx)("div",{className:r()(c.default.type,{[c.default.disabled]:l}),children:(0,n.jsx)("div",{className:r()(c.default.text,{[c.default.disabled]:l}),children:f})}),(0,n.jsx)("div",{className:c.default.extra,children:(0,n.jsx)("div",{className:c.default.text,children:g})})]}),(0,n.jsxs)("div",{className:r()(c.default.discount,{[c.default.disabled]:l}),children:[(null==_?void 0:_.length)>0&&(null==_?void 0:null===(t=_.map)||void 0===t?void 0:t.call(_,(e,t)=>(0,n.jsx)(h.Z,(0,i._)({},e),t))),(0,n.jsx)("span",{className:c.default.thresholdText,children:x})]}),(0,n.jsxs)("div",{className:r()(c.default.tip,{[c.default.disabled]:l}),children:[j&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:r()(c.default.text,{[c.default.highlight]:!l}),children:j}),(0,n.jsx)("div",{className:c.default.sep})]}),(0,n.jsx)("div",{className:c.default.text,children:N})]}),b&&(0,n.jsx)("div",{className:c.default.range,children:b})]}),(0,n.jsx)("div",{className:c.default.couponRight,children:(0,n.jsx)("div",{className:r()(c.default.selectBox,{[c.default.selected]:o,[c.default.disabled]:l})})})]}),w&&(0,n.jsxs)("div",{className:c.default.couponReason,children:[(0,n.jsx)(u.Z,{src:p,width:16,height:16,viewBox:"0 0 16 16",className:c.default.icon}),(0,n.jsx)("span",{className:r()(c.default.text,c.default.conflict),children:w})]}),(null==y?void 0:y.length)>0&&(null==y?void 0:y.map((e,t)=>(0,n.jsxs)("div",{className:c.default.couponReason,children:[(0,n.jsx)(u.Z,{src:v.Z,width:16,height:16,viewBox:"0 0 16 16",className:c.default.icon}),(0,n.jsx)("span",{className:r()(c.default.text,c.default.unusable),children:e})]},t)))]})}},663331:function(e,t,l){"use strict";var i=l(563097);l(88648);var n=l(485760);let a=()=>(0,i.jsxs)("div",{className:n.default.container,children:[(0,i.jsxs)("div",{className:n.default.productCard,children:[(0,i.jsx)("div",{className:n.default.headIcon}),(0,i.jsxs)("div",{className:n.default.rightContent,children:[(0,i.jsx)("div",{className:n.default.price}),(0,i.jsx)("div",{className:n.default.extra})]})]}),(0,i.jsxs)("div",{className:n.default.skuCard,children:[(0,i.jsx)("div",{className:n.default.title}),(0,i.jsx)("div",{className:n.default.skuWrap,children:Array.from({length:6}).fill(void 0).map((e,t)=>(0,i.jsx)("div",{className:n.default.bigSkuItem},t))}),(0,i.jsx)("div",{className:n.default.title}),(0,i.jsx)("div",{className:n.default.skuWrap,children:Array.from({length:5}).fill(void 0).map((e,t)=>(0,i.jsx)("div",{className:n.default.smallSkuItem},t))}),(0,i.jsxs)("div",{className:n.default.buyCount,children:[(0,i.jsx)("div",{className:n.default.title}),(0,i.jsx)("div",{className:n.default.input})]}),(0,i.jsxs)("div",{className:n.default.buyerWord,children:[(0,i.jsx)("div",{className:n.default.title}),(0,i.jsx)("div",{className:n.default.input})]})]}),(0,i.jsxs)("div",{className:n.default.rightsInfo,children:[(0,i.jsx)("div",{className:n.default.item}),(0,i.jsx)("div",{className:n.default.item})]}),(0,i.jsxs)("div",{className:n.default.bottomBar,children:[(0,i.jsxs)("div",{className:n.default.contact,children:[(0,i.jsx)("div",{className:n.default.locationIcon}),(0,i.jsxs)("div",{className:n.default.message,children:[(0,i.jsx)("div",{className:n.default.address}),(0,i.jsx)("div",{className:n.default.mobile})]})]}),(0,i.jsx)("div",{className:n.default.button})]})]});t.Z=a},960588:function(e,t,l){"use strict";l(874386);var i=l(563097),n=l(88648),a=l(713097),o=l.n(a),s=l(417478),d=l(480200);let r=e=>{let{totalAmount:t,className:l}=e,[a,r]=(0,n.useMemo)(()=>(0,d.z)(t),[t]);return(0,i.jsxs)("div",{className:o()(s.default.price,l),children:["\xa5",(0,i.jsxs)("span",{className:s.default.integer,children:[a,".",r]})]})};t.Z=r},958272:function(e,t,l){"use strict";l.d(t,{Z:function(){return F}});var i=l("520739"),n=l("878389"),a=l("563097"),o=l("88648"),s=l("645260"),d=l.n(s),r=l("713097"),u=l.n(r),c=l("175018"),v=l("526425"),m=l("750348"),f=l("153835"),p=l("368200"),h=l("243150"),g=l("953030"),_=l("242245");let x=(e,t)=>(0,a.jsxs)("svg",(0,n._)((0,i._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,a.jsx)("rect",{width:36,height:36,rx:18,fill:"#F2F2F4"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.25 16.597c0 4.722-6.25 8.806-6.25 8.806s-6.25-4.084-6.25-8.806c0-3.367 2.798-6.097 6.25-6.097 3.451 0 6.25 2.73 6.25 6.097zm-3.847.153a2.404 2.404 0 1 1-4.807 0 2.404 2.404 0 0 1 4.807 0z",fill:"#161823",fillOpacity:".34"})]}));var j=(0,o.forwardRef)(x),b=l("429235"),N=l("645003"),y=l("269629");l("874386");var w=l("623527"),A=l("350301"),C=l("218296"),I=l("318356"),k=l("705344"),S=e=>{let{className:t,address:l,isSelected:s=!1,roomId:r,logId:m,logParams:f,onAddressDeleted:p,onSelect:h,onEdit:g,confirmContainer:x,newStyle:j}=e,{name:b,mobile:N,isInvalid:y}=(0,o.useMemo)(()=>({name:d()(l,"name",""),mobile:d()(l,"mobile",""),isInvalid:3===d()(l,"valid")}),[l]),[S,E]=(0,o.useState)(!1),P=async()=>{let e=await (0,v.tg)(null==l?void 0:l.id);(null==e?void 0:e.status_code)===0?(c.F.info({text:"删除地址成功",duration:1e3},x),await (0,C._)(1e3),E(!1),null==p||p(l)):(c.F.info("删除地址失败，请重试",x),(0,I.qP)("ecomApiError",{path:"/aweme/v1/web/address/disable/",status_code:null==e?void 0:e.status_code,status_message:null==e?void 0:e.status_msg,log_id:null==e?void 0:e.logId}))},R=async()=>{if(y){w.oe.event.info({name:w.Mo.EcomBuyNowSelectAddressCardError,report:{listLogId:m,scene:r?"liveDetail":"shopAnchor",addressId:null==l?void 0:l.id,address:(0,_.Ed)(l),reason:"inValid"}});return}(0,I.qP)("ecomModuleClick",(0,n._)((0,i._)({},f),{ecom_module_name:"address_click",action_type:(null==l?void 0:l.is_default)===1?"click_default":"click_switch"}));let e=await (0,v.v2)(null==l?void 0:l.id);(null==e?void 0:e.status_code)===0?null==h||h(l):(w.oe.event.error({name:w.Mo.EcomBuyNowSelectAddressCardError,report:{listLogId:m,reportLogId:null==e?void 0:e.logId,scene:r?"liveDetail":"shopAnchor",addressId:null==l?void 0:l.id,address:(0,_.Ed)(l),reason:null==e?void 0:e.status_msg,statusCode:null==e?void 0:e.status_code}}),(0,I.qP)("ecomApiError",{path:"/aweme/v1/web/address/report/",status_code:null==e?void 0:e.status_code,status_message:null==e?void 0:e.status_msg,log_id:null==e?void 0:e.logId}))},M=e=>{e.stopPropagation(),null==g||g(l)},T=e=>{e.stopPropagation(),E(!0)},[D,B]=(0,o.useMemo)(()=>{if(!l)return"";let{prov:e,city:t,area:i,street:n,detail:a}=l;return[[e,t,i,n].filter(e=>!!e).join(" "),a]},[l]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:u()(A.default.addressCard,t,{[A.default.isSelected]:s,[A.default.disabled]:y}),onClick:R,children:[j?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:A.default.district,children:D}),(0,a.jsx)("div",{className:A.default.detailAddress,children:B})]}):(0,a.jsx)("div",{className:A.default.addressFull,children:(0,_.Ed)(l)}),(0,a.jsxs)("div",{className:A.default.addressFooter,children:[(0,a.jsxs)("div",{className:A.default.addressUser,children:[(0,a.jsx)("span",{className:A.default.name,children:b}),(0,a.jsx)("span",{className:A.default.mobile,children:N})]}),(0,a.jsxs)("div",{className:A.default.addressOperate,children:[(0,a.jsx)("div",{className:A.default.edit,onClick:M,children:"编辑"}),(0,a.jsx)("div",{className:A.default.divider}),(0,a.jsx)("div",{className:A.default.delete,onClick:T,children:"删除"})]})]})]}),S&&(0,a.jsx)(k.Z,{okText:"删除",onCancle:()=>E(!1),onOk:P,children:"删除该地址？"})]})};let E=(e,t)=>(0,a.jsx)("svg",(0,n._)((0,i._)({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{d:"M6.5 2a.5.5 0 0 0-1 0v3.5H2a.5.5 0 1 0 0 1h3.5V10a.5.5 0 0 0 1 0V6.5H10a.5.5 0 0 0 0-1H6.5V2z",fill:"#161823",fillOpacity:".5"})}));var P=(0,o.forwardRef)(E),R=e=>{let{logParams:t,roomId:l,logId:o,onCreateAddress:s,onEditAddress:d,onSelectAddress:r,onDeleteAddress:c,confirmContainer:v,addressList:m,currentAddress:f,miniStyle:p}=e,g=(0,N.x)(()=>{(0,I.qP)("ecomModuleView",(0,n._)((0,i._)({},t),{ecom_module_name:"address_show",if_have_address:(null==m?void 0:m.length)>0?"1":"0"}))});return(0,a.jsxs)("div",{className:y.default.addressInfo,ref:g,children:[(0,a.jsxs)("div",{className:y.default.header,children:[(0,a.jsx)("div",{className:y.default.title,children:"选择收货地址"}),(null==m?void 0:m.length)!==0&&(0,a.jsxs)("div",{className:u()(y.default.createAddress,y.default.createBtn),onClick:s,children:[(0,a.jsx)(h.Z,{width:12,height:12,src:P,viewBox:"0 0 12 12"}),(0,a.jsx)("span",{className:y.default.text,children:"新建地址"})]})]}),(0,a.jsx)("div",{className:p?y.default.miniStyleAddressList:y.default.addressList,children:null==m?void 0:m.map(e=>(0,a.jsx)("div",{className:y.default.addressItem,children:(0,a.jsx)(S,{newStyle:!0,onEdit:d,onSelect:r,onAddressDeleted:c,confirmContainer:v,roomId:l,logParams:t,logId:o,address:e,isSelected:(null==f?void 0:f.id)===(null==e?void 0:e.id)})},null==e?void 0:e.id))})]})},M=l("200430"),T=e=>{var{currentAddress:t,needIdentify:l,onCreateAddress:n,onSelectAddress:s,className:r,miniStyle:c}=e,v=(0,p._)(e,["currentAddress","needIdentify","onCreateAddress","onSelectAddress","className","miniStyle"]);let{type:m,changeType:f}=(0,M.P)(),{fullAddress:x,name:N,mobile:y,isInvalid:w,isNull:A}=(0,o.useMemo)(()=>({fullAddress:(0,_.Ed)(t),name:d()(t,"name",""),mobile:d()(t,"mobile",""),isInvalid:3===d()(t,"valid"),isNull:!(null==t?void 0:t.id)}),[t]),C=e=>{null==s||s(e),f(!1,!0)};return(0,o.useEffect)(()=>{let e=()=>{f(!1,!0)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]),(0,a.jsxs)("div",{className:u()(g.default.container,r),children:[(0,a.jsx)(h.Z,{src:j,width:c?24:36,height:c?24:36,viewBox:"0 0 36 36",className:g.default.locationIcon}),(0,a.jsxs)("div",{className:u()(g.default.personalMsg,{[g.default.miniStyleExtraPersonalMsg]:c}),children:[(0,a.jsx)("div",{className:c?g.default.singleLineAddress:g.default.address,children:x}),(0,a.jsx)("div",{className:g.default.contact,children:`${N} ${y}`}),w&&(0,a.jsx)("div",{className:g.default.errorTip,children:"地址异常"}),A&&(0,a.jsx)("div",{className:g.default.errorTip,children:"请先填写地址，用于商品配送"}),l&&(0,a.jsx)("div",{className:g.default.errorTip,children:"购买此类商品需打开抖音 app 完成下单"})]}),(0,a.jsx)("div",{className:g.default.addressEntry,children:A?(0,a.jsx)("div",{className:g.default.writeAddress,onClick:n,children:"填写地址"}):(0,a.jsx)("div",{className:u()(g.default.switch,{[g.default.active]:m}),onClick:e=>{var t;null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e),f(!m,!0)},children:"切换"})}),m&&!A&&(0,a.jsx)(b.Z,{className:u()(g.default.addressPanel,{[g.default.miniStyleAddressPanel]:c}),onClick:e=>{var t;null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e)},children:(0,a.jsx)(R,(0,i._)({onCreateAddress:n,onSelectAddress:C,currentAddress:t,miniStyle:c},v))})]})},D=l("776138"),B=l("178462"),L=l("360585"),F=e=>{let{className:t,miniStyle:l}=e,{setEditLoading:o,buyNowModalContainerRef:s,specs:r,commonParams:p,roomId:h,promotionId:g,selectedSpecs:_,updateBuyNowData:x,containerRef:j,currentAddress:b,logId:N,needIdentify:y,disabledSubmit:w,interactionDomain:A,totalAmount:C,limitReason:k,allForbiddenReason:S,addressModalContainerRef:E,showEditAddressModal:P,showCreateAddressModal:R,createOrder:M,showQrCode:F,showPay:O,productId:U,authorId:Z,awemeId:W,entranceInfo:z,qrcodeMetaParams:q,updateSku:G,initAddress:H,confirmContainerRef:V,addressList:J,buyNowEntranceButtonRef:Y,queryData:Q,abTestData:K,productName:X}=(0,D.V)(e=>({setEditLoading:d()(e,"uiStore.setEditLoading"),roomId:d()(e,"roomId"),buyNowModalContainerRef:d()(e,"uiStore.buyNowModalContainerRef"),specs:d()(e,"skuStore.skuInfo.specs",[]),commonParams:d()(e,"logParams"),promotionId:d()(e,"promotionId"),selectedSpecs:d()(e,"skuStore.selectedSpecs"),updateBuyNowData:d()(e,"updateBuyNowData"),containerRef:d()(e,"uiStore.buyNowModalContainerRef"),currentAddress:d()(e,"addressStore.currentAddress"),logId:d()(e,"apiRespStore.buyRenderData.logId"),needIdentify:0!==d()(e,"buyRenderPackData.originData.identity_info.identity_type"),disabledSubmit:d()(e,"buyRenderPackData.disableSubmit"),interactionDomain:d()(e,"buyRenderPackData.interactionDomain"),totalAmount:d()(e,"buyRenderPackData.totalPriceResult.total_amount",0),limitReason:d()(e,"buyRenderPackData.productInfo.limit_reason"),allForbiddenReason:d()(e,"buyRenderPackData.originData.all_forbidden_reason",""),addressModalContainerRef:d()(e,"uiStore.addressModalContainerRef"),showEditAddressModal:d()(e,"addressStore.addressModalStore.showEditAddressModal"),showCreateAddressModal:d()(e,"addressStore.addressModalStore.showCreateAddressModal"),createOrder:d()(e,"createOrder"),showQrCode:0!==d()(e,"buyRenderPackData.originData.identity_info.identity_type"),showPay:d()(e,"handleShowPay"),productId:d()(e,"productId"),authorId:d()(e,"authorId"),awemeId:d()(e,"awemeId"),entranceInfo:d()(e,"entranceInfo"),qrcodeMetaParams:d()(e,"qrcodeMetaParams"),updateSku:d()(e,"skuStore.updateSku"),initAddress:d()(e,"addressStore.initAddress"),confirmContainerRef:d()(e,"uiStore.confirmContainerRef"),addressList:d()(e,"addressStore.addressList",[]),buyNowEntranceButtonRef:d()(e,"buyNowEntranceButtonRef"),queryData:d()(e,"queryData"),abTestData:d()(e,"abTestData"),productName:d()(e,"buyRenderPackData.productInfo.title")})),$=()=>{(0,I.qP)("ecomModuleClick",(0,n._)((0,i._)({},p),{ecom_module_name:"click_create_new_address"})),R()},ee=async e=>{o(!0);let t=await H(!0).catch(e=>{})||[];if((null==t?void 0:t.length)===0)!await G()&&await x({address:{}},B._t.ADDRESS);else if((null==b?void 0:b.id)===(null==e?void 0:e.id)){let e=t.find(e=>(null==e?void 0:e.is_default)===1)||t[0];!await G(e)&&await x({address:e},B._t.ADDRESS)}o(!1)},et=async e=>{o(!0),!await G(e)&&await x({address:e},B._t.ADDRESS),o(!1)},el=e=>{P(e)},ei=e=>{R(),setTimeout(()=>{c.F.info(e,null==E?void 0:E.current)},0)},en=e=>{P(b),setTimeout(()=>{c.F.info(e,null==E?void 0:E.current)},0)},ea=()=>{M({onFail:e=>{c.F.info((null==e?void 0:e.status_msg)||"订单提交失败，请稍后重试",null==s?void 0:s.current)},onSuccess:e=>{let{data:{order_id:t}}=e;(0,v.j4)({orderId:t,originId:null==Q?void 0:Q.origin_id,originType:null==Q?void 0:Q.origin_type,productName:X}).then(e=>{(null==e?void 0:e.status_code)!==0&&(0,I.qP)("ecomApiError",{path:"/aweme/v1/web/ecom/pay/notice/",status_code:null==e?void 0:e.status_code,status_message:null==e?void 0:e.status_message,log_id:null==e?void 0:e.logId})}),O(),(0,L.RI)();let l=(0,L.Ty)();(0,I.qP)("submitOrdersPageStayTime",(0,n._)((0,i._)({},p),{pc_live_action_type:"enter_pay",duration:null==l?void 0:l.duration,page_entrance_button:Y.current})),null==l||l.clear()}})};return(0,a.jsxs)("div",{className:u()(m.default.container,t,{[m.default.miniStyleContainer]:l}),children:[(0,a.jsx)(T,{confirmContainer:V.current,addressList:J,onCreateAddress:$,onEditAddress:el,onSelectAddress:et,onDeleteAddress:ee,currentAddress:b,needIdentify:y,logParams:p,roomId:h,logId:N,miniStyle:l,className:m.default.deliveryAddress}),(0,a.jsx)(f.Z,{className:m.default.submitButton,disabledSubmit:w,interactionDomain:A,totalAmount:C,limitReason:k,allForbiddenReason:S,showQrCode:F,productId:U,authorId:Z,awemeId:W,entranceInfo:z,qrcodeMetaParams:q,address:b,specs:r,buyNowModalContainer:j.current,selectedSpecs:_,commonParams:p,promotionId:g,onAddressAbsent:ei,onAddressError:en,onSubmit:ea})]})}},275617:function(e,t,l){"use strict";l.d(t,{Z:function(){return k}});var i=l("563097"),n=l("88648"),a=l("645260"),o=l.n(a),s=l("713097"),d=l.n(s),r=l("259603"),u=l("520739"),c=l("878389");l("950331");var v=l("709411"),m=l("660816"),f=l("978483"),p=l("66865"),h=l("138378"),g=l("318356"),_=e=>{let{selectedSpecs:t,skuInfo:l,productInfo:a,isInvalid:s,logParams:r,type:_,hideStock:x}=e,{pic:j,bigPic:b,specs:N,stockInfo:y,defaultPic:w}=(0,n.useMemo)(()=>({pic:o()(l,"pic"),bigPic:o()(l,"big_pic"),specs:o()(l,"specs",[]),defaultPic:o()(a,"pic"),stockInfo:o()(a,"stock_info")}),[l,a]),A=(0,n.useMemo)(()=>{let e=(null==t?void 0:t.find(e=>!!(null==j?void 0:j[e])))||"";return{pic:null==j?void 0:j[e],bigPig:null==b?void 0:b[e]}},[t,j,b]),C=(0,n.useMemo)(()=>{let e=(0,h.u_)(N,b);return e.unshift({url:w,subTitle:"默认",type:"image"}),e},[b,N,w]),I=(0,n.useCallback)(()=>{let e=C.findIndex(e=>e.url===A.bigPig);m.Z.open({mediaList:C,currIdx:e>0?e:0,logParams:{source:p.rQ.ProductCard},onSlideChange:()=>{(0,g.qP)("ecomModuleClick",(0,c._)((0,u._)({},r),{ecom_module_name:"click_view_picture",action_type:"click_switch"}))}}),(0,g.qP)("ecomModuleClick",(0,c._)((0,u._)({},r),{ecom_module_name:"click_view_picture",action_type:"click_enter"}))},[A,C,r]);return(0,i.jsxs)("div",{className:v.default.container,children:[(0,i.jsx)(f.S,{scene:"buyNow",onClick:I,selectedSpecs:t,skuInfo:l,productInfo:a,className:d()({[v.default.largeIcon]:"large"===_},{[v.default.smallIcon]:"small"===_})}),!s&&!x&&(0,i.jsxs)("div",{className:v.default.stock,children:[(0,i.jsx)("div",{className:v.default.stockPrefix,children:"库存"}),(0,i.jsx)("div",{className:v.default.stockNum,children:y.num}),(0,i.jsx)("div",{className:v.default.stockSuffix,children:"件"})]})]})},x=l("668772");l("874386");var j=l("905334"),b=l("480200"),N=e=>{let{count:t,isInvalid:l,product:a,className:s,integerClassName:r,decimalClassName:u}=e,c=o()(a,"price",0),[v,m]=(0,n.useMemo)(()=>(0,b.z)(c*t),[c,t]);return(0,i.jsxs)("div",{className:d()(j.default.container,{[j.default.invalid]:l},s),children:["\xa5",(0,i.jsx)("span",{className:d()(j.default.integer,r),children:v}),(0,i.jsxs)("span",{className:u,children:[".",m]})]})},y=l("344997"),w=l("892099"),A=e=>{let{deliveryTimeInfos:t,className:l}=e;return(0,i.jsx)("div",{className:d()(y.default.container,l),children:(0,i.jsx)(w.S,{components:t})})},C=l("307307"),I=l("367567"),k=e=>{let{selectedSpecs:t,skuInfo:l,productInfo:a,isInvalid:s,logParams:u,className:c,type:v="large"}=e,{deliveryTimeInfos:m,selectedSpecInfo:f,serviceTags:p,count:h,limitInfo:g}=(0,n.useMemo)(()=>({deliveryTimeInfos:o()(a,"delivery_time_infos"),selectedSpecInfo:o()(a,"spec_info"),serviceTags:o()(a,"service_tags_v2"),count:o()(a,"buy_num"),limitInfo:o()(a,"limit_reason")}),[a]);return(0,i.jsxs)("div",{className:d()(r.default.container,c,{[r.default.alignStart]:"small"===v}),children:[(0,i.jsx)("div",{className:r.default.headIcon,children:(0,i.jsx)(_,{selectedSpecs:t,skuInfo:l,productInfo:a,isInvalid:s,logParams:u,type:v,hideStock:!0})}),(0,i.jsxs)("div",{className:r.default.textContent,children:[(0,i.jsx)(N,{className:r.default.priceWrap,integerClassName:r.default.integer,decimalClassName:r.default.decimal,isInvalid:s,product:a,count:h}),(0,i.jsxs)("div",{className:d()({[r.default.largeExtraMsg]:"large"===v,[r.default.smallExtraMsg]:"small"===v}),children:[(0,i.jsx)("span",{className:r.default.prefix,children:"已选择 "}),(0,i.jsx)(x.Z,{selectedSpecInfo:f,className:r.default.selectedSku}),!!((null==m?void 0:m.length)&&(null==f?void 0:f.length))&&(0,i.jsx)("div",{className:r.default.splitLine}),(0,i.jsx)(A,{className:r.default.deliveryTime,deliveryTimeInfos:m})]}),s&&(0,i.jsx)("div",{className:r.default.invalidReason,children:g}),(0,i.jsx)(I.Z,{className:r.default.stockTag,product:a}),(0,i.jsx)(C.Z,{serviceTags:p})]})]})}},328785:function(e,t,l){"use strict";l.d(t,{Z:function(){return H}});var i=l("520739"),n=l("878389");l("874386");var a=l("563097"),o=l("88648"),s=l("645260"),d=l.n(s),r=l("399770"),u=l("713097"),c=l.n(u),v=l("243150"),m=l("958461");let f=(e,t)=>(0,a.jsx)("svg",(0,n._)((0,i._)({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.805 11.138a.667.667 0 0 0 0-.943L8.47 4.862a.667.667 0 0 0-.942 0l-5.334 5.333a.667.667 0 1 0 .943.943L8 6.276l4.862 4.862c.26.26.682.26.943 0z",fill:"#161823",fillOpacity:".5"})}));var p=(0,o.forwardRef)(f);let h=(e,t)=>(0,a.jsx)("svg",(0,n._)((0,i._)({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.195 4.862a.667.667 0 0 0 0 .943l5.334 5.333c.26.26.682.26.942 0l5.334-5.333a.667.667 0 1 0-.943-.943L8 9.724 3.138 4.862a.667.667 0 0 0-.943 0z",fill:"#161823",fillOpacity:".5"})}));var g=(0,o.forwardRef)(h),_=e=>{let{title:t,onChange:l,className:i,collapsed:n}=e,s=(0,o.useCallback)(()=>{l(!n)},[n]);return(0,a.jsxs)("div",{className:c()(m.default.container,i),onClick:s,children:[t,(0,a.jsx)(v.Z,{src:n?g:p,width:16,height:16,className:m.default.icon,viewBox:"0 0 16 16"})]})},x=l("700546"),j=l("817252"),b=l("480200"),N=e=>{let{amount:t=0,desc:l,className:i,title:n}=e,[s,d]=(0,o.useMemo)(()=>(0,b.z)(t),[t]);return(0,a.jsxs)("div",{className:c()(j.default.discountItem,i),children:[(0,a.jsxs)("div",{className:j.default.leftContent,children:[(0,a.jsx)("div",{className:j.default.title,children:n}),l&&(0,a.jsx)("div",{className:j.default.desc,children:l})]}),(0,a.jsx)("div",{className:j.default.rightContent,children:(0,a.jsxs)("div",{className:j.default.amount,children:["-\xa5",(0,a.jsx)("span",{className:j.default.integer,children:s}),".",d]})})]})},y=l("645003"),w=l("198959"),A=l("474178");let C=(e,t)=>(0,a.jsx)("svg",(0,n._)((0,i._)({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.646 1.646a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L7.293 6 3.646 2.354a.5.5 0 0 1 0-.708z",fill:"#000"})}));var I=(0,o.forwardRef)(C),k=l("318356"),S=l("757917");let E=e=>{let{availableLength:t,selectedLength:l,amount:i}=e;if(!(t>0))return(0,a.jsx)("span",{className:c()(w.default.desc,w.default.extra),children:"暂无可用"});if(!(l>0))return(0,a.jsxs)("span",{className:c()(w.default.desc,w.default.extra),children:[t,"张优惠券可选"]});{let[e,t]=(0,b.z)(i);return(0,a.jsxs)("span",{className:c()(w.default.desc,w.default.amount),children:["-\xa5",(0,a.jsx)("span",{className:w.default.integer,children:e}),".",t]})}};var P=e=>{let{couponResult:t,totalCouponAmount:l,logParams:s,logId:r,roomId:u,lastSelectedCoupon:m,onChange:f,className:p}=e,{availableCouponIds:h,selectedCouponIds:g,availableCouponInfos:_,couponTip:x}=(0,o.useMemo)(()=>({availableCouponIds:d()(t,"available_coupon_ids",[]),selectedCouponIds:d()(t,"selected_coupon_ids",[]),availableCouponInfos:d()(t,"available_coupon_infos",[]),couponTip:d()(t,"coupon_tip",[])}),[t]),[j,N]=(0,o.useState)(!1),C=(0,o.useMemo)(()=>(null==h?void 0:h.length)||(null==_?void 0:_.length)||0,[h,_]),P=(0,o.useMemo)(()=>{let e="";if(C>0){if((null==g?void 0:g.length)>0){let[t,i]=(0,b.z)(l);e=`-\xa5${t}.${i}`}else e=`${C}张优惠券可选`}else e="暂无可用";return e},[C,g,l]),R=(0,y.x)(()=>{(0,k.qP)("ecomModuleView",(0,n._)((0,i._)({},s),{coupon_text:P,price_amount:String(l),btm:"a1.b7411.c5619",ecom_module_name:"show_coupon"}))}),M=()=>{N(e=>!e),(0,k.qP)("ecomModuleClick",(0,n._)((0,i._)({},s),{coupon_text:P,price_amount:String(l),btm:"a1.b7411.c5619",ecom_module_name:"click_coupon"}))};return(0,a.jsxs)("div",{className:c()(w.default.couponInfo,p),ref:R,children:[(0,a.jsxs)("div",{className:w.default.leftContent,children:[(0,a.jsx)("span",{className:w.default.title,children:"优惠券"}),null==x?void 0:x.map((e,t)=>(0,a.jsx)(S.Z,(0,i._)({className:w.default.tip},e),t))]}),(0,a.jsxs)("div",{className:w.default.rightContent,onClick:M,children:[(0,a.jsx)(E,{availableLength:C,selectedLength:(null==g?void 0:g.length)||0,amount:l}),(0,a.jsx)(v.Z,{className:w.default.rightArrow,width:12,height:12,viewBox:"0 0 12 12",src:I})]}),j&&(0,a.jsx)(A.Z,{onClose:()=>N(!1),logId:r,logParams:s,onChange:f,couponResult:t,roomId:u,lastSelectedCoupon:m})]})},R=l("21898");let M=e=>{let{amount:t=0}=e;if(!t)return(0,a.jsx)("div",{className:R.default.desc,children:"包邮"});{let[e,l]=(0,b.z)(t);return(0,a.jsxs)("div",{className:R.default.desc,children:["\xa5",(0,a.jsx)("span",{className:R.default.integer,children:e}),".",l]})}};var T=e=>{let{amount:t=0,logParams:l,className:o}=e,s=(0,y.x)(()=>{(0,k.qP)("ecomModuleView",(0,n._)((0,i._)({},l),{ecom_module_name:"show_shipping_fee",shipping_amount:String(t),btm:"a1.b7411.c00124"}))});return(0,a.jsxs)("div",{ref:s,className:c()(R.default.freightFee,o),children:[(0,a.jsx)("div",{className:R.default.title,children:"订单运费"}),(0,a.jsx)(M,{amount:t})]})};l("413806"),l("826893");var D=l("902165"),B=l("834432"),L=l("689913"),F=l("196438"),O=l("43841"),U=l("178462"),Z=l("722849"),W=e=>{let{content:t,border:l,color:i,font_weight:n,line_height:o,url:s,type:d,fontsize:r,bg:u,icon_ratio:c=1}=e||{};return d===U.SC.text||d===U.SC.link?(0,a.jsx)("span",{style:{color:i,fontWeight:n,lineHeight:o,fontSize:r,border:l,background:u,cursor:s?"pointer":"auto"},onClick:s?()=>(0,Z.Y)(s):void 0,children:t}):d===U.SC.icon?(0,a.jsx)("span",{className:O.default.imgBox,style:{width:"24px",height:`${24/c}px`,border:l},children:(0,a.jsx)("img",{src:s})}):null},z=e=>{let{title:t,content:l,onCLose:n,insuranceContent:s,insuranceName:r}=(0,o.useMemo)(()=>({title:d()(e,"title"),insuranceContent:d()(e,"insurance_content",[]),insuranceName:d()(e,"insurance_name",[]),content:d()(e,"content",[]),onCLose:d()(e,"onCLose")}),[e]),u=(0,o.useMemo)(()=>(null==s?void 0:s.length)===0&&(null==r?void 0:r.length)===0&&(null==l?void 0:l.length)===0,[s,r,l]);return(0,a.jsx)(L.Z,{title:t?(0,a.jsx)(W,(0,i._)({},t)):"运费险",className:B.default.insuranceModal,onClose:n,children:u?(0,a.jsx)(F.Z,{className:B.default.empty,desc:"暂无可用运费险"}):(0,a.jsxs)("div",{className:B.default.container,children:[(0,a.jsxs)("div",{className:B.default.detail,children:[(0,a.jsx)("div",{className:B.default.name,children:null==r?void 0:r.map((e,t)=>(0,a.jsx)(W,(0,i._)({},e),t))}),(0,a.jsx)("div",{children:null==s?void 0:s.map((e,t)=>(0,a.jsx)(W,(0,i._)({},e),t))})]}),(0,a.jsx)("div",{children:null==l?void 0:l.map((e,t)=>(0,a.jsx)(W,(0,i._)({},e),t))})]})})},q=l("269176"),G=e=>{let[t,l]=(0,o.useState)(!1),{returnInsurance:s,logParams:r,className:u}=(0,o.useMemo)(()=>({returnInsurance:d()(e,"return_insurance"),logParams:d()(e,"logParams"),className:d()(e,"className")}),[e]),{text:m,alertText:f,uiFloatLayer:p}=(0,o.useMemo)(()=>({text:d()(s,"text",""),alertText:d()(s,"alert_text",""),uiFloatLayer:d()(s,"ui_float_layer")}),[s]),h=(0,o.useMemo)(()=>{var e,t;return null==f?void 0:null===(t=f.split)||void 0===t?void 0:null===(e=t.call(f,"。"))||void 0===e?void 0:e.filter(e=>!!e)},[f]),g=(0,y.x)(()=>{(0,k.qP)("ecomModuleView",(0,n._)((0,i._)({},r),{ecom_module_name:"show_shipping_insurance",insurance_text:m,btm:"a1.b7411.c131591"}))}),_=()=>{(0,k.qP)("ecomModuleClick",(0,n._)((0,i._)({},r),{ecom_module_name:"click_shipping_insurance",insurance_text:m,btm:"a1.b7411.c131591"}))};return(0,a.jsxs)("div",{ref:g,className:c()(D.default.shopInsurance,u),children:[(0,a.jsxs)("div",{className:D.default.outer,onClick:_,children:[(0,a.jsxs)("div",{className:D.default.leftContent,children:[(0,a.jsx)("span",{className:D.default.title,children:"运费险"}),(0,a.jsxs)("div",{className:D.default.popover,children:[(0,a.jsx)(v.Z,{src:q.Z,width:16,height:16,viewBox:"0 0 16 16"}),(0,a.jsx)("div",{className:D.default.popContent,children:(0,a.jsx)("ul",{className:D.default.list,children:null==h?void 0:h.map(e=>(0,a.jsxs)("li",{children:[e,"。"]},e))})})]})]}),(0,a.jsxs)("div",{className:D.default.rightContent,onClick:()=>l(!0),children:[(0,a.jsx)("span",{className:D.default.desc,children:m}),(0,a.jsx)(v.Z,{className:D.default.arrow,width:12,height:12,viewBox:"0 0 12 12",src:I})]})]}),t&&(0,a.jsx)(z,(0,n._)((0,i._)({},p),{onCLose:()=>l(!1)}))]})},H=e=>{let{buyRenderPackData:t,currentAddress:l,logParams:s,couponResult:u,logId:c,roomId:v,lastSelectedCoupon:m,totalCouponAmount:f,containerRef:p,onCouponChange:h,buyerWord:g,onBuyerWordChange:j,enableCollapse:y,hideBuyerWord:w=!1}=e,{shopFreightFee:A,shopInsurance:C,totalDeductionAmountMap:I,totalFullReduceAmount:k,totalShopMultiPieceDiscountAmount:S,totalDiscountAmount:E,totalOfficialDeductionInfo:R}=(0,o.useMemo)(()=>({shopFreightFee:d()(t,"shopInfo.shop_freight_fee"),shopInsurance:d()(t,"shopInfo.shop_insurance"),totalDeductionAmountMap:d()(t,"totalPriceResult.total_deduction_amount_map"),totalFullReduceAmount:d()(t,"totalPriceResult.total_full_reduce_amount",0),totalShopMultiPieceDiscountAmount:d()(t,"totalPriceResult.total_shop_discount_detail.total_shop_multi_piece_discount_amount",0),totalDiscountAmount:d()(t,"totalPriceResult.total_discount_amount",0),totalOfficialDeductionInfo:d()(t,"totalPriceResult.total_official_deduction_info",0)}),[t]),[M,D]=(0,o.useState)(!1),{shopNewbieGiftMoney:B,newbieGiftMoney:L}=(0,o.useMemo)(()=>({shopNewbieGiftMoney:d()(I,"shop_newbie_gift_money"),newbieGiftMoney:d()(I,"newbie_gift_money")}),[I]),F=(0,o.useMemo)(()=>A&&!!(null==l?void 0:l.id),[A,l]),{isShowShopNewbieGiftMoney:O,shopNewbieGiftMoneyAmount:U,shopNewbieGiftMoneyDesc:Z}=(0,o.useMemo)(()=>({isShowShopNewbieGiftMoney:(null==B?void 0:B.total_deduction_amount)>0,shopNewbieGiftMoneyAmount:(null==B?void 0:B.total_deduction_amount)||0,shopNewbieGiftMoneyDesc:(null==B?void 0:B.desc)||"店铺新人礼金"}),[B]),{isShowNewbieGiftMoney:W,newbieGiftMoneyAmount:z,newbieGiftMoneyDesc:q}=(0,o.useMemo)(()=>({isShowNewbieGiftMoney:(null==L?void 0:L.total_deduction_amount)>0,newbieGiftMoneyAmount:(null==L?void 0:L.total_deduction_amount)||0,newbieGiftMoneyDesc:(null==L?void 0:L.desc)||"店铺新人礼金"}),[L]),{isShowOfficialDeduction:H,officialDeductionDiscountAmount:V,officialDeductionTitle:J,officialDeductionDesc:Y}=(0,o.useMemo)(()=>({isShowOfficialDeduction:(null==R?void 0:R.discount_amount)>0,officialDeductionDiscountAmount:null==R?void 0:R.discount_amount,officialDeductionTitle:null==R?void 0:R.title,officialDeductionDesc:null==R?void 0:R.discount_rate_desc}),[R]),Q=(0,o.useMemo)(()=>!!(null==C?void 0:C.return_insurance),[C]),K=(0,o.useMemo)(()=>k>0,[k]),X=(0,o.useMemo)(()=>S>0,[S]),$=e=>{D(e)},[ee,et]=(0,b.z)(E);return(0,a.jsxs)("div",{className:r.default.orderInfo,children:[y&&(0,a.jsx)(_,{className:r.default.collapse,collapsed:M,title:(0,a.jsxs)("div",{className:r.default.title,children:["优惠明细",!!E&&(0,a.jsxs)("div",{className:r.default.discountAmount,children:["已优惠 \xa5",ee,".",et]})]}),onChange:$}),(!M||!y)&&(0,a.jsxs)("div",{children:[F&&(0,a.jsx)(T,(0,n._)((0,i._)({className:y?r.default.freightFee:""},A),{logParams:s})),Q&&(0,a.jsx)(G,(0,n._)((0,i._)({className:r.default.shopInsurance},C),{logParams:s})),H&&(0,a.jsx)(N,{className:r.default.discountInfoItem,title:J,desc:Y,amount:V}),(0,a.jsx)(P,{className:r.default.couponInfo,couponResult:u,logParams:s,logId:c,roomId:v,totalCouponAmount:f,lastSelectedCoupon:m,onChange:h}),O&&(0,a.jsx)(N,{className:r.default.discountInfoItem,title:Z,amount:U}),W&&(0,a.jsx)(N,{className:r.default.discountInfoItem,title:q,amount:z}),X&&(0,a.jsx)(N,{className:r.default.discountInfoItem,title:"多件优惠",amount:S}),K&&(0,a.jsx)(N,{className:r.default.discountInfoItem,title:"满减优惠",amount:k}),!w&&(0,a.jsx)(x.Z,{buyerWord:g,onChange:j,logParams:s,containerRef:p})]})]})}},451277:function(e,t,l){"use strict";l.d(t,{Z:function(){return p}});var i=l("563097"),n=l("88648"),a=l("794282"),o=l("520739"),s=l("878389");l("874386"),l("250440");var d=l("713097"),r=l.n(d),u=l("583618"),c=l("843794"),v=l("138378"),m=l("318356"),f=e=>{let{specItem:t,specIndex:l,specName:a,selectedSpecs:d,skuInfo:f,logParams:p,onChange:h}=e,{skus:g,pic:_}=f,x=(0,n.useMemo)(()=>{let e=[...d];return e[l]=t.id,(0,v.ES)(g,e).some(e=>e.can_select)},[d,g,l,t.id]),j=(0,n.useCallback)(()=>{if(!x||(null==d?void 0:d.includes(t.id)))return;let e=[...d];e[l]=t.id,null==h||h(e),(0,m.qP)("ecomModuleClick",(0,s._)((0,o._)({},p),{ecom_module_name:"click_product_sku",sku_name:a}))},[d,x,l,t.id,p,a]),b=d.includes(t.id),N=x?b?c.default.selected:c.default.normal:c.default.disabled;return(0,i.jsxs)("div",{className:r()(c.default.item,N),onClick:j,children:[(null==_?void 0:_[null==t?void 0:t.id])&&(0,i.jsx)(u.x,{src:_[t.id],className:c.default.specPic,imgClass:c.default.specPic,skeletonClass:c.default.skeletonClass}),(0,i.jsx)("div",{className:c.default.text,children:t.name}),!x&&(0,i.jsx)("div",{className:c.default.outOfStock,children:"缺货"})]})},p=e=>{var t;let{spec:l,specIndex:n,selectedSpecs:o,logParams:s,onChange:d,skuInfo:r}=e;return(0,i.jsxs)("div",{className:a.default.container,children:[(0,i.jsx)("div",{className:a.default.specName,children:(null==l?void 0:l.name)||"未知"}),(0,i.jsx)("div",{className:a.default.list,children:null==l?void 0:null===(t=l.spec_items)||void 0===t?void 0:t.map(e=>(0,i.jsx)(f,{skuInfo:r,specItem:e,specIndex:n,specName:null==l?void 0:l.name,selectedSpecs:o,logParams:s,onChange:d},null==e?void 0:e.id))})]})}},668772:function(e,t,l){"use strict";var i=l(563097);l(88648);var n=l(713097),a=l.n(n),o=l(66755);let s=e=>{let{selectedSpecInfo:t=[],className:l}=e;return(0,i.jsx)("div",{className:a()(o.default.container,l),children:null==t?void 0:t.map(e=>null==e?void 0:e.value).join("/")})};t.Z=s},367567:function(e,t,l){"use strict";var i=l(563097),n=l(645260),a=l.n(n),o=l(88648),s=l(713097),d=l.n(s),r=l(843015);let u=e=>{let{product:t,className:l}=e,{stockTags:n}=(0,o.useMemo)(()=>({stockTags:a()(t,"stock_tags",[])}),[t]);return(null==n?void 0:n.length)?(0,i.jsx)("div",{className:d()(r.default.container,l),children:(0,i.jsx)("div",{className:r.default.tag,children:n.map(e=>(null==e?void 0:e.text)||"").join(" \xb7 ")})}):null};t.Z=u},757917:function(e,t,l){"use strict";var i=l(563097),n=l(88648),a=l(713097),o=l.n(a),s=l(645260),d=l.n(s),r=l(701e3),u=l(722849),c=l(130054);let v=e=>{let{type:t,content:l,backgroundColor:a,borderColor:s,color:v,fontSize:m,fontWeight:f,lineHeight:p,url:h,iconRatio:g,iconWidth:_,className:x}=(0,n.useMemo)(()=>({type:d()(e,"type"),content:d()(e,"content"),backgroundColor:d()(e,"bg_color"),borderColor:d()(e,"border_color"),color:d()(e,"font_color"),fontSize:d()(e,"font_size"),fontWeight:d()(e,"font_weight"),lineHeight:d()(e,"line_height"),url:d()(e,"url"),iconWidth:d()(e,"iconWidth",24),iconRatio:d()(e,"icon_ratio",1),className:d()(e,"className")}),[e]);return t===c.Nq.UIElementComponentTypeText||t===c.Nq.UIElementComponentTypeLink?(0,i.jsx)("span",{className:x,style:{color:v,fontWeight:f,lineHeight:p,fontSize:m,borderColor:s,backgroundColor:a,cursor:h?"pointer":"auto"},onClick:h?()=>(0,u.Y)(h):void 0,children:l}):t===c.Nq.UIElementComponentTypeIcon?(0,i.jsx)("span",{className:o()(r.default.imgBox,x),style:{width:`${_}px`,height:`${_/g}px`,borderColor:s,backgroundColor:a},children:(0,i.jsx)("img",{src:h})}):null};t.Z=v},537128:function(e,t,l){"use strict";l.d(t,{Z:function(){return d}});var i=l("563097"),n=l("88648"),a=l("767855");l("874386");let o=e=>e<0?0:Math.ceil(e/1e3);var s=e=>{let t=(0,n.useRef)(e),[l,i]=(0,n.useState)(()=>o(t.current)),a=(0,n.useRef)(Date.now()),s=(0,n.useRef)(),d=(0,n.useCallback)(()=>{if(t.current>0){let e=Date.now();if(t.current-=e-a.current,a.current=e,t.current<=0){t.current=0,i(0);return}i(o(t.current)),s.current=requestAnimationFrame(d)}},[]);return(0,n.useEffect)(()=>{e>0&&(s.current&&cancelAnimationFrame(s.current),t.current=e,d())},[d,e]),(0,n.useEffect)(()=>()=>{s.current&&cancelAnimationFrame(s.current)},[]),l},d=e=>{let{time:t,formatFn:l=a.mr}=e,n=s(t);return(0,i.jsx)(i.Fragment,{children:l(n)})}},777584:function(e,t,l){"use strict";l.d(t,{k:function(){return s}}),l(927234);var i=l(563097),n=l(88648),a=l(222406),o=l(623527);let s=e=>{let{fallback:t,beforeCapture:l,onError:s,componentName:d,pageName:r,children:u,Slardar:c}=e,v=(0,n.useCallback)((e,t)=>{var l;o.oe.event.error({name:o.Mo.EcomErrorBoundary,report:{message:e.message,stack:null!==(l=e.stack)&&void 0!==l?l:"",componentStack:t.toString(),componentName:d,pageName:r}}),null==s||s(e,t)},[]);return(0,i.jsx)(a.SV,{fallback:t,onError:v,beforeCapture:l,Slardar:c||o.oe.getSlardarInstance(),children:u})}},392103:function(e,t,l){"use strict";l.d(t,{h:function(){return K}});var i=l("563097"),n=l("88648"),a=l("713097"),o=l.n(a),s=l("681025"),d=l("520739");l("250440"),l("777180");var r=l("801103"),u=l("276541"),c=l("647571"),v=l("256303"),m=l("176067");function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e}).apply(this,arguments)}var p={update:function(){var e=this,t=e.rtl,l=e.params.pagination;if(l.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var i=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,n=e.pagination.$el,a=e.params.loop?Math.ceil((i-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?((o=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup))>i-1-2*e.loopedSlides&&(o-=i-2*e.loopedSlides),o>a-1&&(o-=a),o<0&&"bullets"!==e.params.paginationType&&(o=a+o)):o=void 0!==e.snapIndex?e.snapIndex:e.activeIndex||0,"bullets"===l.type&&e.pagination.bullets&&e.pagination.bullets.length>0){var o,s,d,r,u=e.pagination.bullets;if(l.dynamicBullets&&(e.pagination.bulletSize=u.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),n.css(e.isHorizontal()?"width":"height",e.pagination.bulletSize*(l.dynamicMainBullets+4)+"px"),l.dynamicMainBullets>1&&void 0!==e.previousIndex&&(e.pagination.dynamicBulletIndex+=o-e.previousIndex,e.pagination.dynamicBulletIndex>l.dynamicMainBullets-1?e.pagination.dynamicBulletIndex=l.dynamicMainBullets-1:e.pagination.dynamicBulletIndex<0&&(e.pagination.dynamicBulletIndex=0)),r=((d=(s=o-e.pagination.dynamicBulletIndex)+(Math.min(u.length,l.dynamicMainBullets)-1))+s)/2),u.removeClass(l.bulletActiveClass+" "+l.bulletActiveClass+"-next "+l.bulletActiveClass+"-next-next "+l.bulletActiveClass+"-prev "+l.bulletActiveClass+"-prev-prev "+l.bulletActiveClass+"-main"),n.length>1)u.each(function(e){var t=(0,v.Z)(e),i=t.index();i===o&&t.addClass(l.bulletActiveClass),l.dynamicBullets&&(i>=s&&i<=d&&t.addClass(l.bulletActiveClass+"-main"),i===s&&t.prev().addClass(l.bulletActiveClass+"-prev").prev().addClass(l.bulletActiveClass+"-prev-prev"),i===d&&t.next().addClass(l.bulletActiveClass+"-next").next().addClass(l.bulletActiveClass+"-next-next"))});else{var c=u.eq(o),m=c.index();if(c.addClass(l.bulletActiveClass),l.dynamicBullets){for(var f=u.eq(s),p=u.eq(d),h=s;h<=d;h+=1)u.eq(h).addClass(l.bulletActiveClass+"-main");if(e.params.loop){if(m>=u.length-l.dynamicMainBullets){for(var g=l.dynamicMainBullets;g>=0;g-=1)u.eq(u.length-g).addClass(l.bulletActiveClass+"-main");u.eq(u.length-l.dynamicMainBullets-1).addClass(l.bulletActiveClass+"-prev")}else f.prev().addClass(l.bulletActiveClass+"-prev").prev().addClass(l.bulletActiveClass+"-prev-prev"),p.next().addClass(l.bulletActiveClass+"-next").next().addClass(l.bulletActiveClass+"-next-next")}else f.prev().addClass(l.bulletActiveClass+"-prev").prev().addClass(l.bulletActiveClass+"-prev-prev"),p.next().addClass(l.bulletActiveClass+"-next").next().addClass(l.bulletActiveClass+"-next-next")}}if(l.dynamicBullets){var _=Math.min(u.length,l.dynamicMainBullets+4),x=(e.pagination.bulletSize*_-e.pagination.bulletSize)/2-r*e.pagination.bulletSize,j=t?"right":"left";u.css(e.isHorizontal()?j:"top",x+"px")}}if("fraction"===l.type&&(n.find("."+l.currentClass).text(l.formatFractionCurrent(o+1)),n.find("."+l.totalClass).text(l.formatFractionTotal(a))),"progressbar"===l.type){b=l.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";var b,N=(o+1)/a,y=1,w=1;"horizontal"===b?y=N:w=N,n.find("."+l.progressbarFillClass).transform("translate3d(0,0,0) scaleX("+y+") scaleY("+w+")").transition(e.params.speed)}"custom"===l.type&&l.renderCustom?(n.html(l.renderCustom(e,o+1,a)),e.emit("paginationRender",n[0])):e.emit("paginationUpdate",n[0]),n[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](l.lockClass)}},render:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var l=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,i=e.pagination.$el,n="";if("bullets"===t.type){for(var a=e.params.loop?Math.ceil((l-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length,o=0;o<a;o+=1)t.renderBullet?n+=t.renderBullet.call(e,o,t.bulletClass):n+="<"+t.bulletElement+' class="'+t.bulletClass+'"></'+t.bulletElement+">";i.html(n),e.pagination.bullets=i.find("."+t.bulletClass.replace(/ /g,"."))}"fraction"===t.type&&(n=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):'<span class="'+t.currentClass+'"></span> / '+('<span class="'+t.totalClass)+'"></span>',i.html(n)),"progressbar"===t.type&&(n=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):'<span class="'+t.progressbarFillClass+'"></span>',i.html(n)),"custom"!==t.type&&e.emit("paginationRender",e.pagination.$el[0])}},init:function(){var e=this,t=e.params.pagination;if(!!t.el){var l=(0,v.Z)(t.el);0!==l.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&l.length>1&&(l=e.$el.find(t.el)),"bullets"===t.type&&t.clickable&&l.addClass(t.clickableClass),l.addClass(t.modifierClass+t.type),"bullets"===t.type&&t.dynamicBullets&&(l.addClass(""+t.modifierClass+t.type+"-dynamic"),e.pagination.dynamicBulletIndex=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&l.addClass(t.progressbarOppositeClass),t.clickable&&l.on("click","."+t.bulletClass.replace(/ /g,"."),function(t){t.preventDefault();var l=(0,v.Z)(this).index()*e.params.slidesPerGroup;e.params.loop&&(l+=e.loopedSlides),e.slideTo(l)}),(0,m.l7)(e.pagination,{$el:l,el:l[0]}))}},destroy:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var l=e.pagination.$el;l.removeClass(t.hiddenClass),l.removeClass(t.modifierClass+t.type),e.pagination.bullets&&e.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&l.off("click","."+t.bulletClass.replace(/ /g,"."))}}},h={name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){var e=this;(0,m.cR)(e,{pagination:f({dynamicBulletIndex:0},p)})},on:{init:function(e){e.pagination.init(),e.pagination.render(),e.pagination.update()},activeIndexChange:function(e){e.params.loop?e.pagination.update():void 0===e.snapIndex&&e.pagination.update()},snapIndexChange:function(e){!e.params.loop&&e.pagination.update()},slidesLengthChange:function(e){e.params.loop&&(e.pagination.render(),e.pagination.update())},snapGridLengthChange:function(e){!e.params.loop&&(e.pagination.render(),e.pagination.update())},destroy:function(e){e.pagination.destroy()},click:function(e,t){e.params.pagination.el&&e.params.pagination.hideOnClick&&e.pagination.$el.length>0&&!(0,v.Z)(t.target).hasClass(e.params.pagination.bulletClass)&&(!0===e.pagination.$el.hasClass(e.params.pagination.hiddenClass)?e.emit("paginationShow"):e.emit("paginationHide"),e.pagination.$el.toggleClass(e.params.pagination.hiddenClass))}}},g=l("271091"),_=l("583618"),x=l("623527"),j=l("607412"),b=l("156001"),N=l("441447");let y=e=>{(0,n.useEffect)(()=>{let t=()=>{setTimeout(()=>{null==e||e.update()},500)},l=N.listen(N.EVENT.pageFullScreen,t);return document.addEventListener("fullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),document.addEventListener("msfullscreenchange",t),()=>{l(),document.removeEventListener("fullscreenchange",t),document.removeEventListener("mozfullscreenchange",t),document.removeEventListener("webkitfullscreenchange",t),document.removeEventListener("msfullscreenchange",t)}},[e])};var w=l("955809"),A=l("596803"),C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAZCAYAAAA4/K6pAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACaSURBVHgBzZRRDYAgEIYvghGIYAQj0EAj0AAaGEEbGMEIRDCCEc5j4wWF7Q548N/+N75vjLsB0DOIaKknVYM0AcI0plUQYqUS92vJ1kNyUAeJZMlIvFQSpnO/JBdVSSRjD4mKUCIBSXISkIaYqVrQdIP4kHVv0DSFwh54LjzjN7xNpEMmA+9c2OZg4KQAOy68tsC6Gi4IWL/yA/6LGqa1XUEeAAAAAElFTkSuQmCC",I=e=>{var t;let{item:l}=e,{combination_jump:n,hot_area_list:a}=(null==l?void 0:l.combinationInfo)||{};return(0,i.jsxs)("div",{className:w.default.matchbuy,children:[(0,i.jsx)("div",{className:`${w.default.bg} blur`,style:{backgroundImage:`url(${null==l?void 0:l.url})`}}),(0,i.jsx)("div",{className:w.default.mainPic,style:{backgroundImage:`url(${null==l?void 0:l.url})`},children:null==a?void 0:null===(t=a.map)||void 0===t?void 0:t.call(a,(e,t)=>(0,i.jsxs)("div",{className:w.default.hotArea,style:{left:`${e.x/A.Do}rem`,top:`${e.y/A.Do}rem`,transform:(null==e?void 0:e.direction)===A.R.Left?"translateX(-100%) translateY(-50%)":"translateY(-50%)"},children:[(null==e?void 0:e.direction)===A.R.Right&&(0,i.jsx)("div",{className:w.default.point,style:{marginRight:`${7/A.Do}rem`}}),(0,i.jsxs)("div",{className:w.default.area,children:[(null==e?void 0:e.icon)&&(0,i.jsx)("img",{className:w.default.icon,src:null==e?void 0:e.icon}),(0,i.jsxs)("div",{className:w.default.text,children:[(0,i.jsx)("span",{children:null==e?void 0:e.text}),(0,i.jsx)("span",{children:null==e?void 0:e.sub_text})]}),(null==e?void 0:e.jump_link)&&(0,i.jsx)("img",{src:C,className:w.default.jump})]}),(null==e?void 0:e.direction)===A.R.Left&&(0,i.jsx)("div",{className:w.default.point,style:{marginLeft:`${7/A.Do}rem`}})]},t))}),(0,i.jsxs)("div",{className:w.default.entry,children:[(0,i.jsx)("img",{src:null==n?void 0:n.icon,className:w.default.icon}),(0,i.jsx)("span",{className:w.default.text,children:null==n?void 0:n.text}),(0,i.jsx)("img",{src:C,className:w.default.jump})]})]})},k=l("147516"),S="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAU/SURBVHgB7VyJdRs3EB2pAnWQVQViOlhXEKWCsIMwFZiuQHYFXFcgdbBMBXIqWHZAdfCDIUAZHuLci8ul/nt4onAOPmZwDkn0gQ90wQ1NBADu1J9HFd5U+HFzc7OjD2hiVHjCKTYqFHStMMR8VmGPMJ6uiqgMYmw0XIbmjERitoaMEFFLmhu4UwkdLzPzL+nSwZ3u0tHZEmWIqQMdYzNbZdSXpYGTRSIxa+g9T5v6Y0TVmOKKp4RaYEBiHO2tI0RtJkEUC6FCNRYxjranS5RqeHUOYhxyMFFfEca4eyjo/cxZiXHIFNPm5EWhD2EahwAcV9CZAT0fujajexoDZqR8aHDG5RbxfVdBQyNC0BEbjKhN0MeYKkGugoZGIkGMBiPscqEXi9SDb0FDw0HQK/TE7MPrEIIhvvdam7bPTtDWim8CAvey1OLnrYAPWybP5K0nQ5CVvgwQxfFLagmEJ+GT890kCbLyhCbNTY6wpr46UB9vFO8c5epJEmTlfURYm6KbN4QnYa6jDJStJ02QVSY0iTcuwaHN6dVT5rBjT2i3vgiCrHIv8OPJ5PG9cry3l9rRiyLIKh+bxH3mxPGPmW3VXQm6pZGhHgQr9eeTCt8dyYUKroPuNxXuVdkXmjq6apCjrgZ+sDmV1BIXqUE2+HlZhXv18Ysj+R+VVqqwpSkBepJc+kauTw0S9f4yF1EPSNUg6BUzbX4TlS4d6bMiyCjDEbVMvxWZ+bxUWlFZq8aF4i/rM2vSk534TpBhdy0K/6D541/x/8qeXmwNkuq1U+ErzR/cR6kI7zcPB4LMXFOITJ/UCvJGM4fp45+kHbeOKI/z71GD/hblvlyTh5fp6zcRfZibbqEvlxZWAjNZ0fWBTU1qUckaVIqML9foH2hMTR5/DgT9ISK/0/VCnvUWTNC9iLyGpd0H2fcHJug3K+Ktxcr1gAn6DxqZFjllTN/t/hettvhw39k0yLyvEXVmy+Gpx3exn9q3nV1Idjbp/Rr6rtmHDVpcK7TpjCjPZ8TngFzLxHr2kqCdqCjJMwPhm0FuJMvsuhCEsPds8k0k9E2GjVeOlPfEyWaCuG9Og/SRyyYIcWcF53NQoD5pGS/HZxUbz5QJxC/kN4iYXQ5BiL+TbWFeVzP7UYl6Vq77nT2Gc7L8HCgbJQhxZ/QGLRcKuJ0yimNiLRKeqCVMJ9bwo4H7Ii5IEOLmxG229mzDqfZsZeMSJXUAMs0OHoKQZk4FdQC0p4jEUmaqpZBdGzb1Jpmdo+3BzEnI53pZ2foySmH46bdP32YEOmtjj/AWopM5WTLdwf28XfgKuFx7+ySJB6FCe3Q2J0sWHzmrWEHXvqbpSzDTRszsXO2X1BOgB8pFTtoVM9yj3KuQpp11hJje/a7hXw2rnHp8JDF6/Yok/GbXmzmZdkJeIxW1Afwj3KCFKx1+rkwnWmFGluPZxEvqEQg7YXV7uUHcw2uZUZdt9zUNDMQP1P18PQHxzVpjNKOI1CPResceaCP1u7EF9Q2krT41tNYtHOVdK2Tn20joAVwhPIhAn1oTEWaNtGWa82yM8DzH+PYeOVcsXMfC1LlJlGP8byEZonL3M0dhXXFFpK3nlm2NS4ynA6wdFbqh8XUEcdORpPAhuaSpAVr9Hw1ZDfJReurdIU4Kt3kwY+oRg/76C/REXZB+veXPD+R20mTsVPjd9ewEvZXYmH85/T/Sb1gctrN6CYb71sCrPVa5O5x7LhkDcD/NDLv0Xgrg/hrTmj6ggdM9UPYLyqyBXw+/zSXMKaP/hplZkZiY6hpc/GaP/wFhWo+8eq+VoAAAAABJRU5ErkJggg==",E=e=>{let{item:t,onContentClick:l}=e;return(0,i.jsxs)("div",{className:k.default.threeD,children:[(0,i.jsx)("div",{className:k.default.mediaViewContent,style:{backgroundImage:`url(${(null==t?void 0:t.url)||""})`}}),(0,i.jsxs)("div",{className:k.default.entry,onClick:()=>l((null==t?void 0:t.jumpLink)||"","3D"),children:[(0,i.jsx)("img",{src:S,className:k.default.icon}),(0,i.jsx)("span",{className:k.default.text,children:(null==t?void 0:t.jumpText)||"3D入口"}),(0,i.jsx)("img",{src:C,className:k.default.jump})]})]})},P=l("923934"),R=l.p+"media/tv.151f3638ed7ab764.png",M=l("528862"),T=e=>{let{isLongContainer:t,buyerShowImageList:l}=e;return(0,i.jsx)("div",{className:o()(P.default.background,t?P.default.longPadding:P.default.normalPadding),children:(0,i.jsxs)("div",{className:P.default.buyershow,children:[(0,i.jsxs)("div",{className:P.default.left,children:[(0,i.jsx)("div",{className:P.default.top,children:(0,i.jsx)("img",{src:(null==l?void 0:l[0])||""})}),(0,i.jsx)("div",{className:P.default.bottom,children:(0,i.jsx)("img",{src:(null==l?void 0:l[1])||""})})]}),(0,i.jsxs)("div",{className:P.default.right,children:[(0,i.jsx)("div",{className:P.default.top,children:(0,i.jsx)("img",{src:(null==l?void 0:l[2])||""})}),(0,i.jsxs)("div",{className:P.default.bottom,children:[(0,i.jsxs)("div",{className:P.default.title,children:[(0,i.jsx)("div",{className:P.default.main,children:"大家都在晒"}),(0,i.jsxs)("div",{className:P.default.sub,children:["去看更多买家秀",(0,i.jsx)("img",{src:M})]})]}),(0,i.jsx)("img",{src:R,className:P.default.icon})]})]})]})})},D=l("378439"),B=e=>{let{commentInfo:t,isLongContainer:l,onContentClick:n}=e,{good_ratio:a,total:s,comment_list:d,link:r}=t||{},u=null==d?void 0:d.slice(0,2);if(null==u?void 0:u.length){var c;return(0,i.jsx)("div",{className:o()(D.default.commentBackground,l?D.default.longPadding:D.default.normalPadding),children:(0,i.jsxs)("div",{className:D.default.comment,children:[(0,i.jsxs)("div",{className:D.default.title,children:[(0,i.jsx)("span",{className:D.default.main,children:"大家的好评"}),(0,i.jsx)("span",{className:D.default.sub,children:`好评率${null==a?void 0:a.toFixed(2)}%｜${s}+评价`})]}),(0,i.jsx)("div",{className:D.default.middle,children:null==u?void 0:null===(c=u.map)||void 0===c?void 0:c.call(u,e=>(0,i.jsxs)("div",{className:D.default.item,children:[(0,i.jsxs)("div",{className:D.default.left,children:[(0,i.jsxs)("div",{className:D.default.userInfo,children:[(0,i.jsx)("img",{src:e.avatar,className:D.default.avatar}),(0,i.jsx)("span",{className:D.default.name,children:e.name})]}),(0,i.jsx)("div",{className:D.default.content,children:e.content.length>36?`${e.content.slice(0,35)}…`:e.content})]}),(0,i.jsx)("div",{className:D.default.right,children:(0,i.jsx)("img",{src:e.image_url})})]},e.name))}),(0,i.jsxs)("div",{className:D.default.bottom,onClick:()=>n(r||""),children:[(0,i.jsx)("span",{className:D.default.text,children:"去看看更多评价"}),(0,i.jsx)("img",{src:M,className:D.default.icon})]})]})})}return null},L=l("368200");l("874386"),l("268917");let F=e=>{var t,{buyerShowImageList:l,commentInfo:i,mediaList:a,skuPicList:o}=e,s=(0,L._)(e,["buyerShowImageList","commentInfo","mediaList","skuPicList"]);let[r,u]=(0,n.useState)(),[c,v]=(0,n.useState)((null==a?void 0:null===(t=a[0])||void 0===t?void 0:t.name)||""),[m,f]=(0,n.useState)(0),[p,h]=(0,n.useMemo)(()=>{var e;let t=0,n=[],s={};return null==a||null===(e=a.forEach)||void 0===e||e.call(a,e=>{var l,i,a;(null==e?void 0:null===(l=e.content_list)||void 0===l?void 0:l.length)>0&&(null==e||null===(a=e.content_list)||void 0===a||null===(i=a.forEach)||void 0===i||i.call(a,l=>{n.push({id:t,type:null==e?void 0:e.type,name:null==e?void 0:e.name,url:null==l?void 0:l.url,height:null==l?void 0:l.height,width:null==l?void 0:l.width,coverUrl:(null==l?void 0:l.cover_url)||"",combinationInfo:null==l?void 0:l.combination_info,jumpLink:null==l?void 0:l.jump_link,jumpText:null==l?void 0:l.jump_text,headVideoSize:null==l?void 0:l.head_video_size,uniqueId:t}),s[null==e?void 0:e.name]?s[e.name]=[...s[e.name],t]:s[null==e?void 0:e.name]=[t],t++}))}),(null==o?void 0:o.length)&&o.map(e=>{n.push({id:t,type:"image",name:A.W9.Sku,url:e.url,height:0,width:0,coverUrl:e.coverUrl,uniqueId:e.id}),s[A.W9.Sku]?s[A.W9.Sku]=[...s[A.W9.Sku],t]:s[A.W9.Sku]=[t],t++}),!s[A.W9.Evaluation]&&(l&&(null==l?void 0:l.length)>0?(s[A.W9.Comment]=[t],t++):!l&&i&&(s[A.W9.Comment]=[t],t++)),[n,s]},[l,i,a,o]),g=(0,n.useMemo)(()=>!!(!h[A.W9.Evaluation]&&(null==l?void 0:l.length)),[l,h]),_=(0,n.useMemo)(()=>!!(!h[A.W9.Evaluation]&&!(null==l?void 0:l.length)&&i),[h,l,i]),x=(0,n.useMemo)(()=>{var e,t;let l=null===(e=h[c])||void 0===e?void 0:e.findIndex(e=>e===m);return -1!==l?`${l+1}/${null===(t=h[c])||void 0===t?void 0:t.length}`:null},[m,p.length,c,h,r]),j=(0,n.useMemo)(()=>!!(p.length>1&&x),[x,p.length]);return(0,d._)({buyerShowImageList:l,commentInfo:i,mediaList:a,swiper:r,setSwiper:u,activeName:c,setActiveName:v,activeIndex:m,setActiveIndex:f,flatMediaList:p,mediaNameMap:h,currentPage:x,shouldShowBuyershow:g,shouldShowCommentInfo:_,shouldShowPagination:j},s)},O=(0,n.createContext)({});var U=e=>{let{children:t}=e,l=F((0,L._)(e,["children"]));return(0,i.jsx)(O.Provider,{value:l,children:t})},Z=l("319175"),W=l("660816"),z=l("318356");l("459903");var q=l("66865");c.Z.use([h,g.Z]);var G=e=>{let{showPagination:t,isLongContainer:l,onContentClick:a}=e,{setActiveIndex:o,mediaNameMap:s,setActiveName:c,flatMediaList:v,setSwiper:m,shouldShowCommentInfo:f,shouldShowBuyershow:p,buyerShowImageList:h,commentInfo:g,activeIndex:N,swiper:w,mediaList:A,productId:C,logParams:k,activeUniqueId:S}=(0,n.useContext)(O),P=(0,n.useRef)(s);(0,n.useEffect)(()=>{let e=v.findIndex(e=>e.uniqueId===S);-1!==e&&setTimeout(()=>{null==w||w.slideToLoop(e)},0)},[S,w]),(0,n.useEffect)(()=>{P.current=s},[s]),(0,n.useEffect)(()=>{W.Z.setBaseLogParams({productId:C})},[C]),y(w),(0,n.useEffect)(()=>{var e;c((null==A?void 0:null===(e=A[0])||void 0===e?void 0:e.name)||"")},[A,c]);let R=e=>{o(e.realIndex),Object.keys(P.current).forEach(t=>{var l;(null===(l=P.current)||void 0===l?void 0:l[t].includes(e.realIndex))&&c(t)})},M=(0,n.useCallback)((e,t)=>{x.oe.event.error({name:x.Mo.EcomHeadFigureMediaError,report:{productId:C,mediaUrl:t,mediaType:e}})},[C]),D=()=>{(0,j.B1)({tag:"head_figure_load_end"});let e=(0,j.L8)("head_figure_load_duration","head_figure_load_start","head_figure_load_end");e&&(0,z.qP)("ecomHeadFigureLoadTime",{duration:Number(e.toFixed(0)),ecom_group_type:null==k?void 0:k.ecom_group_type})},L=(0,n.useCallback)((e,t)=>{if((null==e?void 0:e.type)==="video")return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:`${b.default.video} blur`,style:{backgroundImage:`url(${null==e?void 0:e.coverUrl})`}}),(0,i.jsx)(_.x,{src:null==e?void 0:e.coverUrl,className:b.default.mainPic,onError:()=>{M("image",null==e?void 0:e.coverUrl)},skeletonStyle:{background:"#F5F6F9"},skeletonClass:b.default.skeleton,onHandleImgLoad:()=>{0===t&&D()}}),(0,i.jsx)("img",{src:Z,className:b.default.playIcon})]});if((null==e?void 0:e.type)==="match"&&(null==e?void 0:e.name)==="搭配")return(0,i.jsx)(I,{item:e});if((null==e?void 0:e.type)==="entry")return(0,i.jsx)(E,{item:e,onContentClick:a});return(0,i.jsx)(_.x,{className:b.default.content,src:null==e?void 0:e.url,onError:()=>{M("image",null==e?void 0:e.url)},onHandleImgLoad:()=>{0===t&&D()},skeletonStyle:{background:"#F5F6F9"},skeletonClass:b.default.skeleton})},[a,M]),F=(0,n.useCallback)(()=>{let e=v[N];if((null==e?void 0:e.type)==="image"||(null==e?void 0:e.type)==="video")W.Z.open({mediaList:v.filter(e=>["image","video"].includes(e.type)),currIdx:N,onSlideChange:e=>{null==w||w.slideToLoop(e),(0,z.qP)("clickProductDetailCoverPhoto",(0,d._)({pc_live_action_type:"switch"},k))},logParams:{source:q.Jf.HeadFigure}}),(0,z.qP)("clickProductDetailCoverPhoto",(0,d._)({pc_live_action_type:"view_picture"},k))},[N,v,k,w]);return(0,i.jsx)("div",{className:b.default.mediaView,children:(0,i.jsxs)(r.t,{preloadImages:!1,threshold:10,onSlideChange:R,onSwiper:m,navigation:!!t,pagination:!!t&&{clickable:!0},loop:!0,children:[v.map((e,t)=>(0,i.jsx)(u.o,{onClick:F,children:L(e,t)},null==e?void 0:e.id)),p&&(0,i.jsx)(u.o,{children:(0,i.jsx)(T,{buyerShowImageList:h,isLongContainer:l})}),f&&(0,i.jsx)(u.o,{children:(0,i.jsx)(B,{commentInfo:g,isLongContainer:l,onContentClick:a})})]})})},H=l("167014"),V=()=>{let{currentPage:e,swiper:t,shouldShowPagination:l,logParams:a}=(0,n.useContext)(O),o=(0,n.useCallback)(()=>{null==t||t.slidePrev(),(0,z.qP)("clickProductDetailCoverPhoto",(0,d._)({pc_live_action_type:"switch"},a))},[t,a]),s=(0,n.useCallback)(()=>{null==t||t.slideNext(),(0,z.qP)("clickProductDetailCoverPhoto",(0,d._)({pc_live_action_type:"switch"},a))},[t,a]);return l&&(0,i.jsxs)("div",{className:H.default.paginationCount,children:[(0,i.jsx)("span",{className:H.default.left,onClick:o}),(0,i.jsx)("span",{className:H.default.text,children:e}),(0,i.jsx)("span",{className:H.default.right,onClick:s})]})},J=l("616371"),Y=l("270688"),Q=e=>{let{liveInfo:t,showReflowBanner:l}=e;return t&&!l?(0,i.jsxs)("div",{className:J.default.live,children:[(0,i.jsx)("img",{src:(null==t?void 0:t.icon)||Y,className:J.default.icon}),(0,i.jsx)("span",{className:J.default.text,children:null==t?void 0:t.text})]}):null};let K=n.memo(e=>{let{logParams:t,productId:l,media_list:a,live_info:d,buyer_show_image_list:r,comment_info:u,skuPicList:c,container_size:v,showPagination:m,activeUniqueId:f,className:p}=e||{},h=v===A.bS.ContainerSizeTypeLong,g=(0,n.useCallback)((e,t)=>{},[]);return(0,i.jsx)(U,{logParams:t,mediaList:a,buyerShowImageList:r,commentInfo:u,productId:l,skuPicList:c,activeUniqueId:f,children:(0,i.jsxs)("div",{className:o()(s.default.headFigure,h?s.default.longContainer:s.default.defaultContainer,p),children:[Number(null==a?void 0:a.length)>0&&(0,i.jsx)(G,{showPagination:m,isLongContainer:h,onContentClick:g}),!m&&(0,i.jsx)("div",{className:s.default.operateRow,children:(0,i.jsx)(V,{})}),(0,i.jsx)(Q,{liveInfo:d,showReflowBanner:!0})]})})})},660816:function(e,t,l){"use strict";l.d(t,{Z:function(){return D}});var i=l("520739"),n=l("878389");l("874386");var a=l("563097"),o=l("88648"),s=l("944189"),d=l("735636"),r=l("713097"),u=l.n(r),c=l("583618"),v=l("262648"),m=l("756560"),f=l("221692"),p=l("623527"),h=l("441447"),g=l("245421"),_=l("177485"),x=l("501206"),j=l("679028"),b=e=>{(0,x.O)({onChange:t=>{let{isFullscreen:l}=t;!l&&e()}}),(0,o.useEffect)(()=>{let t=t=>{if(!t.shiftKey&&!t.metaKey&&!t.ctrlKey)"Escape"===t.code&&e()};return j.k.bind("Escape",t),()=>{j.k.remove("Escape",t)}},[e])},N=l("319175"),y=l("368200"),w=e=>{let{defaultComponent:t,onError:l}=e,s=(0,y._)(e,["defaultComponent","onError"]),[d,r]=(0,o.useState)(!1),u=(0,o.useCallback)(e=>{r(!0),null==l||l(e)},[l]);return d?t:(0,a.jsx)("video",(0,n._)((0,i._)({},s),{onError:u}))};let A=(e,t)=>(0,a.jsxs)("svg",(0,n._)((0,i._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,a.jsx)("circle",{cx:18,cy:18,r:18,fill:"#363741"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.895 25.016a1.35 1.35 0 0 1 0-1.91l5.092-5.09-5.092-5.091a1.35 1.35 0 0 1 1.91-1.91l6.045 6.046a1.35 1.35 0 0 1 0 1.91l-6.045 6.045a1.35 1.35 0 0 1-1.91 0z",fill:"#fff",fillOpacity:".8"})]}));var C=(0,o.forwardRef)(A),I=l("75017"),k=l("429721");let{ArrowUp:S,ArrowDown:E,W:P,S:R}=v.bf;function M(){(0,m.o)({pauseCustomShortcut:!0,pauseGlobalShortcut:!0,pausePlayControlShortcut:!0,disableKey:[S,E,P,R].map(e=>e.code)},"ecom/preview")}function T(){(0,m.m)("ecom/preview")}var D=function e(){let e;let t=document.createElement("div"),l=!1,r=document.body,v="",m={productId:"",logId:""},x=()=>{if(!!l)r.removeChild(t),r.style.overflow=v,v="",l=!1,T(),e&&e.unmount()};function j(e){let{mediaList:t,currIdx:l=0,onSlideChange:s,onExit:r,logParams:v}=e,[j,y]=(0,o.useState)(l),A=(0,o.useRef)(null),k=(0,o.useRef)(null),S=(0,o.useRef)("right"),[E,P]=(0,o.useState)(!1);(0,o.useEffect)(()=>{var e,l;let i=null!==(l=null===(e=k.current)||void 0===e?void 0:e.clientWidth)&&void 0!==l?l:0;(null==t?void 0:t.length)*68>i&&P(!0)},[null==t?void 0:t.length]);let R=(0,o.useCallback)(()=>{x(),null==r||r()},[r]);b(R),(0,I.Z)(A,["wheel"],!0),(0,o.useEffect)(()=>{let e=68*j;k.current&&(0,f.X)({top:0,left:e},k.current)},[j]);let M=(0,o.useCallback)(e=>{e.stopPropagation(),y(e=>0===e?t.length-1:e-1),S.current=0===j?"right":"left",null==s||s(0===j?t.length-1:j-1,"click_button")},[s,j,t.length]),T=(0,o.useCallback)(e=>{e.stopPropagation(),y(e=>e===t.length-1?0:e+1),S.current=j===t.length-1?"left":"right",null==s||s(j===t.length-1?0:j+1,"click_button")},[s,j,t.length]),D=(0,o.useCallback)(e=>{if(e!==j)y(e),S.current=e>j?"right":"left",null==s||s(e,"click_pic")},[j,s]),B=(0,o.useCallback)(e=>{e.stopPropagation()},[]),L=(0,o.useCallback)((e,t)=>{p.oe.event.error({name:p.Mo.EcomPreviewMediaError,report:(0,n._)((0,i._)({},m,v),{mediaUrl:t,mediaType:e})})},[v]),F=(0,o.useCallback)(()=>{h.emit(h.EVENT.livePause),h.emit(h.EVENT.videoPause,"PreviewComponent_handleVideoPlay")},[]);return(0,a.jsxs)("div",{className:_.default.fullscreen,ref:A,children:[(0,a.jsxs)("div",{className:_.default.mainWrap,onClick:R,children:[t.map((e,t)=>(0,a.jsx)(d.Z,{in:j===t,timeout:400,classNames:`main-${S.current}`,unmountOnExit:!0,children:(0,a.jsxs)("div",{className:_.default.mainImageWrap,children:["image"===e.type?(0,a.jsx)(c.x,{onClick:B,className:_.default.mainImage,src:e.url,onError:()=>{L("image",e.url)}}):(0,a.jsx)(w,{onClick:B,className:_.default.mainImage,src:e.url,poster:e.coverUrl,autoPlay:!0,muted:!0,controls:!0,controlsList:"nofullscreen nodownload",onError:()=>{L("video",e.url)},disablePictureInPicture:!0,onPlay:F,defaultComponent:(0,a.jsx)("div",{className:_.default.errorVideo,onClick:B,children:"加载失败"})}),e.subTitle&&(0,a.jsx)("div",{className:_.default.name,children:e.subTitle})]})},t)),(null==t?void 0:t.length)>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:u()(_.default.prev),onClick:M,children:(0,a.jsx)(C,{width:36,height:36,viewBox:"0 0 36 36"})}),(0,a.jsx)("span",{className:u()(_.default.next),onClick:T,children:(0,a.jsx)(C,{width:36,height:36,viewBox:"0 0 36 36"})})]}),(0,a.jsx)("span",{className:_.default.close,onClick:R,children:(0,a.jsx)(g.Z,{width:38,height:38,viewBox:"0 0 48 48"})})]}),(0,a.jsx)("div",{className:u()(_.default.shortWrap,{[_.default.morePhoto]:E}),ref:k,children:t.map((e,t)=>(0,a.jsxs)("div",{className:u()(_.default.shortImageWrap,{[_.default.active]:t===j}),onClick:()=>{D(t)},children:[(0,a.jsx)(c.x,{className:_.default.shortImage,src:"image"===e.type?e.url:e.coverUrl,skeletonStyle:{background:"#F5F6F9"}}),"video"===e.type&&(0,a.jsx)("img",{src:N,className:_.default.playIcon})]},e.url))})]})}return{open:n=>{if(!l)M(),(r=(0,k.V)()).appendChild(t),v=r.style.overflow,r.style.overflow="hidden",(e=(0,s.createRoot)(t)).render((0,a.jsx)(j,(0,i._)({},n))),l=!0},close:x,setBaseLogParams:e=>{m=e}}}()},307307:function(e,t,l){"use strict";var i=l(563097);l(88648);var n=l(713097),a=l.n(n),o=l(572231),s=l(178462);let d=e=>{let{serviceTags:t}=e;return(0,i.jsx)("div",{className:o.default.container,children:(t||[]).map((e,t)=>{let l=e.type===s.PH.ICON;return(0,i.jsx)("div",{style:(null==e?void 0:e.border_color)?{border:`0.5px solid ${e.border_color}`}:{},className:a()(o.default.serviceTag,{[o.default.serviceTag]:l||!(null==e?void 0:e.border_color)}),children:l?(0,i.jsx)("img",{src:e.url,style:{width:14*(null==e?void 0:e.icon_ratio),height:14,marginRight:"8px"}}):(0,i.jsx)("div",{style:{color:null==e?void 0:e.font_color,fontSize:null==e?void 0:e.font_size},children:null==e?void 0:e.content})},t)})})};t.Z=d},330462:function(e,t,l){"use strict";l.d(t,{Z:function(){return j}});var i=l("563097"),n=l("88648"),a=l("713097"),o=l.n(a),s=l("583618"),d=l("168355"),r=e=>{var t,l,n;let{girdleData:a}=e;return(0,i.jsxs)("div",{className:d.default.subsidyInfo,style:(null==a?void 0:a.background_image)?{backgroundImage:`url(${null==a?void 0:a.background_image})`}:{},children:[(0,i.jsx)("img",{className:d.default.logo,src:null==a?void 0:a.logo_image,alt:""}),(0,i.jsxs)("div",{className:d.default.priceArea,children:[(0,i.jsx)("div",{className:d.default.title,children:(0,i.jsx)("img",{className:d.default.icon,src:null==a?void 0:a.activity_title,alt:""})}),(0,i.jsxs)("div",{className:d.default.price,children:[(0,i.jsx)("span",{className:d.default.left,children:"￥"}),(null==a?void 0:null===(t=a.price_info)||void 0===t?void 0:t.origin_price)/100,(null==a?void 0:null===(l=a.price_info)||void 0===l?void 0:l.origin_price_desc)?(0,i.jsx)("span",{className:d.default.desc,children:null==a?void 0:null===(n=a.price_info)||void 0===n?void 0:n.origin_price_desc}):null]})]}),(null==a?void 0:a.subsidized_price_desc)||(null==a?void 0:a.market_price_desc)?(0,i.jsxs)("div",{className:d.default.desc,children:[(null==a?void 0:a.subsidized_price_desc)?(0,i.jsx)("div",{className:d.default.subsidizedPrice,children:a.subsidized_price_desc}):null,(null==a?void 0:a.market_price_desc)||(null==a?void 0:a.sub_title)?(0,i.jsxs)("div",{className:d.default.extra,children:[(null==a?void 0:a.market_price_desc)?(0,i.jsx)("span",{className:d.default.marketPrice,children:a.market_price_desc}):null,(null==a?void 0:a.sub_title)?(0,i.jsx)("span",{className:d.default.sale,children:` | ${null==a?void 0:a.sub_title}`}):null]}):null]}):null]})},u=l("405554"),c=e=>{let{girdleData:t}=e;return(0,i.jsxs)("div",{className:u.default.activityInfo,children:[(null==t?void 0:t.activity_title)?(0,i.jsx)("div",{className:u.default.header,children:null==t?void 0:t.activity_title}):null,(null==t?void 0:t.sub_title)?(0,i.jsx)("div",{className:u.default.saleNum,children:null==t?void 0:t.sub_title}):null]})},v=l("317917"),m=e=>{let{priceInfo:t}=e;return(0,i.jsx)("div",{className:v.default.priceInfo,children:(null==t?void 0:t.discount_price_type)==="underline"?(0,i.jsxs)("div",{className:v.default.priceArea,children:[(0,i.jsxs)("span",{className:v.default.left,children:[(0,i.jsx)("span",{className:v.default.symbol,children:"\xa5"}),(null==t?void 0:t.discount_price)/100,(null==t?void 0:t.discount_price_desc)?(0,i.jsx)("span",{className:v.default.desc,children:null==t?void 0:t.discount_price_desc}):null]}),(0,i.jsxs)("span",{className:v.default.rightUnderline,children:[`\xa5${(null==t?void 0:t.origin_price)/100}`,(null==t?void 0:t.origin_price_desc)?(0,i.jsx)("span",{className:v.default.desc,children:` ${null==t?void 0:t.origin_price_desc}`}):null]})]}):(0,i.jsxs)("div",{className:v.default.priceArea,children:[(0,i.jsxs)("span",{className:v.default.left,children:[(0,i.jsx)("span",{className:v.default.symbol,children:"\xa5"}),((null==t?void 0:t.origin_price)||(null==t?void 0:t.discount_price))/100,(null==t?void 0:t.origin_price_desc)?(0,i.jsx)("span",{className:v.default.desc,children:null==t?void 0:t.origin_price_desc}):null]}),(null==t?void 0:t.discount_price)&&(null==t?void 0:t.origin_price)!==0?(0,i.jsxs)("span",{className:v.default.rightBubble,style:(null==t?void 0:t.discount_price_color)?{color:null==t?void 0:t.discount_price_color}:{},children:[(null==t?void 0:t.discount_price_header)?(0,i.jsx)("span",{children:`${null==t?void 0:t.discount_price_header} `}):null,(0,i.jsx)("span",{children:"\xa5"}),(null==t?void 0:t.discount_price)/100,(null==t?void 0:t.discount_price_desc)?(0,i.jsx)("span",{children:` ${null==t?void 0:t.discount_price_desc}`}):null]}):null]})})},f=l("467318"),p=l("326800"),h=l("66865"),g=e=>{var t,l,n,a,o,s,d,r;let{girdleData:u}=e,c=()=>{},v=(e,t)=>{if((null==e?void 0:e.type)===h.Wq.TEXT){let l={color:null==e?void 0:e.color,fontSize:null==e?void 0:e.fontSize,fontWeight:null==e?void 0:e.bold,backgroundColor:null==e?void 0:e.bg};return(0,i.jsx)("span",{style:l,className:p.default.text,children:null==e?void 0:e.text},t)}return null};return(null==u?void 0:null===(l=u.group_info)||void 0===l?void 0:null===(t=l.avatar_list)||void 0===t?void 0:t.length)>0||(null==u?void 0:null===(n=u.group_info)||void 0===n?void 0:n.placeholder)?(0,i.jsxs)("div",{className:p.default.group,children:[(0,i.jsxs)("div",{className:p.default.left,children:[null==u?void 0:null===(o=u.group_info)||void 0===o?void 0:null===(a=o.avatar_list)||void 0===a?void 0:a.map((e,t)=>(0,i.jsx)("div",{className:p.default.item,children:(0,i.jsx)("img",{className:p.default.avatar,src:null==e?void 0:e.url,alt:""})},t)),(0,i.jsx)("div",{className:p.default.desc,children:(null==u?void 0:null===(s=u.group_info)||void 0===s?void 0:s.placeholder)&&(null==u?void 0:null===(r=u.group_info)||void 0===r?void 0:null===(d=r.placeholder)||void 0===d?void 0:d.map((e,t)=>v(e,t)))})]}),(0,i.jsx)("div",{className:p.default.right,onClick:c,children:"活动规则"})]}):null},_=l("800404"),x=l.p+"media/default-activity-girdle.6616affec526ce86.png",j=n.memo(e=>{var t,l;let{girdleData:n}=e;return(null==n?void 0:n.is_subsidy)?(0,i.jsx)(r,{girdleData:n}):(0,i.jsxs)("div",{className:o()(_.default.activityBanner,(null==n?void 0:null===(l=n.group_info)||void 0===l?void 0:null===(t=l.avatar_list)||void 0===t?void 0:t.length)>0?"":_.default.paddingBottom),children:[(0,i.jsx)(s.x,{className:_.default.background,imgClass:_.default.backgroundImg,src:null==n?void 0:n.background_image,skeletonStyle:{background:"#F5F6F9"},renderDefault:(0,i.jsx)("img",{className:_.default.backgroundImg,src:x})}),(0,i.jsxs)("div",{className:_.default.normal,children:[(0,i.jsxs)("div",{className:_.default.left,children:[(0,i.jsx)(c,{girdleData:n}),(0,i.jsx)(m,{priceInfo:null==n?void 0:n.price_info})]}),(0,i.jsxs)("div",{className:_.default.right,children:[(0,i.jsx)("div",{className:_.default.promotionPic,children:(0,i.jsx)("img",{className:_.default.icon,src:(null==n?void 0:n.activity_icon)||(null==n?void 0:n.logo_image)||void 0})}),(0,i.jsx)(f.Z,{girdleData:n})]})]}),(0,i.jsx)(g,{girdleData:n})]})})},423759:function(e,t,l){"use strict";l.d(t,{I:function(){return N}});var i=l("563097"),n=l("88648"),a=l("447942"),o=l("175018"),s=l("787127"),d=l("520739");l("268917"),l("675373"),l("874386"),l("954372"),l("826893"),l("250440"),l("527785"),l("284961");var r=l("767855"),u={GROUP:"Group",TEMPLATE:"Template"},c={REF:"ref"},v={BASE_COUNT_DOWN:"ECDetailSimpleCountdown",ACTIVITY_COUNT_DOWN:"ECDetailActivityCountdown"};let m=async(e,t,l,i)=>{try{l.current&&(l.current.innerHTML=""),f(e,t);let n=await p(t,i);null==n||n.forEach(e=>{var t;return e&&(null===(t=l.current)||void 0===t?void 0:t.appendChild(e))})}catch(e){}};function f(){var e,t,l;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(null==n?void 0:n.slice_type)===u.GROUP&&(null==n?void 0:null===(e=n.slices)||void 0===e?void 0:e.length)?null==n||n.slices.forEach(e=>{var t,l;(null==e?void 0:e.template)||(e.template={}),e.template.type===c.REF&&(e.template.raw=(0,d._)({},i[null!==(l=null==e?void 0:null===(t=e.template)||void 0===t?void 0:t.ref)&&void 0!==l?l:""]||{}))}):(null==n?void 0:n.slice_type)===u.TEMPLATE&&((null==n?void 0:n.template)||(n.template={}),n.template.type===c.REF&&(n.template.raw=(0,d._)({},i[null!==(l=null==n?void 0:null===(t=n.template)||void 0===t?void 0:t.ref)&&void 0!==l?l:""]||{}))),n}async function p(e,t){let l=[];try{var i,n;if((null==e?void 0:e.slice_type)===u.TEMPLATE){let i=await h(e,t);l.push(i)}else(null==e?void 0:e.slice_type)===u.GROUP&&(null==e?void 0:null===(i=e.slices)||void 0===i?void 0:i.length)&&(l=await Promise.all(null==e?void 0:null===(n=e.slices)||void 0===n?void 0:n.map(e=>h(e,t))))}catch(e){}finally{return l}}async function h(e,t){try{var l,i,n,a,o,s,d;let r=await t.createView({elementData:null==e?void 0:null===(l=e.template)||void 0===l?void 0:l.raw,nodeId:null==e?void 0:e.slice_id,name:null==e?void 0:null===(a=e.template)||void 0===a?void 0:null===(n=a.raw)||void 0===n?void 0:null===(i=n.meta)||void 0===i?void 0:i.name,version:null==e?void 0:null===(d=e.template)||void 0===d?void 0:null===(s=d.raw)||void 0===s?void 0:null===(o=s.meta)||void 0===o?void 0:o.version});return r&&(r._slice_id=null==e?void 0:e.slice_id),await t.bindData({view:r,data:(null==e?void 0:e.data)||{},isUpdate:!1,nodeId:null==e?void 0:e.slice_id})}catch(e){return null}}let g=e=>`${e}px`;function _(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l={};return null===(e=Object.keys(t))||void 0===e||e.forEach(e=>{let i=t[e];(null==i?void 0:i.length)===9&&/^#/.test(i)&&(i=`#${null==i?void 0:i.slice(7)}${null==i?void 0:i.slice(1,7)}`,i=(0,r.rW)(i)),["padding","margin","radius"].includes(e)&&(i=null==i?void 0:i.reduce((e,t)=>`${e} ${g(t)}`,"")),["width","height","border_width","left","right","top","bottom","font_size"].includes(e)&&"number"==typeof i&&(i=`${g(i)}`),"bg_img"===e&&(i=`url(${i})`);let n={bg_color:"backgroundColor",radius:"borderRadius",bg_img:"backgroundImage",visibility:"visible"},a=n[e]?n[e]:e;l[a=null==a?void 0:a.replace(/-([a-z])/,(e,t)=>null==t?void 0:t.toUpperCase())]=i}),l}var x=l("134761");l("413806");class j{start(){try{if(clearTimeout(this.timer),this._elements=this.composeComponent(this.formaTime(this.time)),Math.floor(new Date().getTime()/1e3)<=this.time){this.timer=setTimeout(()=>this.start(),1e3);return}}catch(e){}}handleStyle(e){if(!e)return;let t={};t.mainStyle=null==e?void 0:e.mainStyle,t.dayStyle=null==e?void 0:e.dayStyle,t.hourStyle=null==e?void 0:e.hourStyle,t.minuteStyle=null==e?void 0:e.minuteStyle,t.secondStyle=null==e?void 0:e.secondStyle,t.daySplitStyle=null==e?void 0:e.daySplitStyle,t.hourSplitStyle=null==e?void 0:e.hourSplitStyle,t.minuteSplitStyle=null==e?void 0:e.minuteSplitStyle,t.prefixStyle=null==e?void 0:e.prefixStyle,(null==e?void 0:e.timeElementStyle)&&(t.dayStyle=e.timeElementStyle,t.hourStyle=e.timeElementStyle,t.minuteStyle=e.timeElementStyle,t.secondStyle=e.timeElementStyle),(null==e?void 0:e.splitElementStyle)&&(t.daySplitStyle=e.splitElementStyle,t.hourSplitStyle=e.splitElementStyle,t.minuteSplitStyle=e.splitElementStyle),this.style=t}formaTime(e){let t,l,i,n;let a=e-Math.floor(new Date().getTime()/1e3);return a<=0?(n=0,i=0,l=0,t=0):(t=Math.floor(a/86400),a%=86400,l=Math.floor(a/3600),a%=3600,i=Math.floor(a/60),a%=60,n=a),{restDay:t,restHour:l,restMinute:i,restSecond:n}}formatNum(e){return e<10?`0${e}`:`${e}`}composeComponent(e){var t,l,i,n,a,o,s,d,r,u,c,v,m,f,p,h,g,_,x,j,b,N,y,w,A,C,I,k;let{restDay:S,restHour:E,restMinute:P,restSecond:R}=e,{element:M,dayElement:T,hourElement:D,minuteElement:B,secondElement:L,daySplitElement:F,hourSplitElement:O,minuteSplitElement:U,prefixElement:Z}=this._elements;return(null===(t=this._elements)||void 0===t?void 0:t.element)&&S&&!T&&(T=this.composeHTMLElement({tag:"span",style:null===(o=this)||void 0===o?void 0:null===(a=o.style)||void 0===a?void 0:a.dayStyle}),F=this.composeHTMLElement({tag:"span",style:null===(d=this)||void 0===d?void 0:null===(s=d.style)||void 0===s?void 0:s.daySplitStyle,innerText:"天"}),this.insertBefore(this._elements.element,[T,F])),(null===(i=this)||void 0===i?void 0:null===(l=i._elements)||void 0===l?void 0:l.element)&&this.prefix&&!Z&&(Z=this.composeHTMLElement({tag:"span",style:null===(u=this)||void 0===u?void 0:null===(r=u.style)||void 0===r?void 0:r.prefixStyle,innerText:this.prefix}),this.insertBefore(this._elements.element,[Z])),!(null===(n=this._elements)||void 0===n?void 0:n.element)&&(M=this.composeHTMLElement({tag:"span",style:null===(v=this)||void 0===v?void 0:null===(c=v.style)||void 0===c?void 0:c.mainStyle}),this.prefix&&(Z=this.composeHTMLElement({tag:"span",style:null===(w=this)||void 0===w?void 0:null===(y=w.style)||void 0===y?void 0:y.prefixStyle,innerText:this.prefix})),S&&(T=this.composeHTMLElement({tag:"span",style:null===(C=this)||void 0===C?void 0:null===(A=C.style)||void 0===A?void 0:A.dayStyle}),F=this.composeHTMLElement({tag:"span",style:null===(k=this)||void 0===k?void 0:null===(I=k.style)||void 0===I?void 0:I.daySplitStyle,innerText:"天"})),D=this.composeHTMLElement({tag:"span",style:null===(f=this)||void 0===f?void 0:null===(m=f.style)||void 0===m?void 0:m.hourStyle}),O=this.composeHTMLElement({tag:"span",style:null===(h=this)||void 0===h?void 0:null===(p=h.style)||void 0===p?void 0:p.hourSplitStyle,innerText:":"}),B=this.composeHTMLElement({tag:"span",style:null===(_=this)||void 0===_?void 0:null===(g=_.style)||void 0===g?void 0:g.minuteStyle}),U=this.composeHTMLElement({tag:"span",style:null===(j=this)||void 0===j?void 0:null===(x=j.style)||void 0===x?void 0:x.minuteSplitStyle,innerText:":"}),[Z,T,F,D,O,B,U,L=this.composeHTMLElement({tag:"span",style:null===(N=this)||void 0===N?void 0:null===(b=N.style)||void 0===b?void 0:b.secondStyle})].forEach(e=>{e&&M&&M.appendChild(e)})),T&&(T.innerText=this.formatNum(S)),D&&(D.innerText=this.formatNum(E)),B&&(B.innerText=this.formatNum(P)),L&&(L.innerText=this.formatNum(R)),{element:M,prefixElement:Z,dayElement:T,hourElement:D,minuteElement:B,secondElement:L,daySplitElement:F,hourSplitElement:O,minuteSplitElement:U}}composeHTMLElement(e){let{tag:t,style:l,innerText:i}=e||{};if(!t)return;let n=document.createElement(t);return Object.keys(l||{}).forEach(e=>n&&(n.style[e]=null==l?void 0:l[e])),i&&(n.innerText=i),n}insertBefore(e,t){if(e){var l;null==t||null===(l=t.reverse())||void 0===l||l.reduce((e,t)=>{var l;let i=null==e?void 0:null===(l=e.children)||void 0===l?void 0:l[0];return i&&t&&(null==e||e.insertBefore(t,i)),e},e)}return e}constructor(e,t={},l=""){(0,x._)(this,"style",{}),(0,x._)(this,"_elements",{}),(0,x._)(this,"time",0),(0,x._)(this,"timer",void 0),(0,x._)(this,"prefix",void 0),this.time=e,this.prefix=l,this.handleStyle(t),this.start()}}class b{beforeCreateView(e){this.templateData=e}afterBindData(e){let t=(null==e?void 0:e.expire)||0,l=(null==e?void 0:e.prefix)||0;t&&"number"==typeof t&&this.instance&&(this.instance.time=t,this.instance.prefix=l,this.instance.start())}getData(e,t){var l,i;return null==e?void 0:null===(i=e.split("."))||void 0===i?void 0:null===(l=i.slice(1))||void 0===l?void 0:l.reduce((e,t)=>null==e?void 0:e[t],t)}render(){let e=document.createElement("span");if(this.templateData){var t,l,i,n,a,o,s;let d=this.buildInStyle[(null===(t=this.templateData)||void 0===t?void 0:t.type)||""],r=(null===(i=this.templateData)||void 0===i?void 0:null===(l=i.attr)||void 0===l?void 0:l.expire)||0,u=(null===(a=this.templateData)||void 0===a?void 0:null===(n=a.attr)||void 0===n?void 0:n.prefix)||"";this.instance=new j(r,d||{},u),(null===(s=this.instance)||void 0===s?void 0:null===(o=s._elements)||void 0===o?void 0:o.element)&&e.appendChild(this.instance._elements.element)}return e}constructor(){(0,x._)(this,"templateData",void 0),(0,x._)(this,"buildInStyle",{ECDetailSimpleCountdown:{mainStyle:{display:"inline-block",fontSize:"10px",lineHeight:"10px",color:"#161823"}},ECDetailActivityCountdown:{mainStyle:{display:"flex",alignItems:"center"},timeElementStyle:{padding:"0.06rem 0.02rem 0.04rem",textAlign:"center",lineHeight:"10px",backgroundColor:"#fff3",borderRadius:"0.08rem",minWidth:"0.36rem",color:"#fff",fontSize:"10px"},splitElementStyle:{fontSize:"10px",color:"#fff",opacity:.9,margin:"0 0.08rem"},prefixStyle:{fontSize:"10px",color:"#fff",opacity:.9,margin:"0 0.12rem"}}}),(0,x._)(this,"instance",void 0)}}let N=e=>{let{girdleInfoV2:t,templates:l,containerRef:d}=e,r=(0,n.useRef)(),u=(0,n.useRef)(),c=(0,n.useRef)();return(0,n.useEffect)(()=>{if(!u.current){var e,i;u.current=new a.Z({bizCode:"douyin_pc_detail",customDesignType:g,sliceEventPoster:e=>{o.F.info("暂不支持该操作哦",d.current)}}),null===(e=u.current)||void 0===e||e.registerCustomView(v.BASE_COUNT_DOWN,b),null===(i=u.current)||void 0===i||i.registerCustomView(v.ACTIVITY_COUNT_DOWN,b),m(l,t,r,u.current),c.current=_((null==t?void 0:t.style)||{})}},[]),(0,i.jsx)("div",{ref:r,style:c.current,className:s.default.girdleInfoV2})}},453907:function(e,t,l){"use strict";var i=l(520739),n=l(878389),a=l(563097),o=l(88648),s=l(909272),d=l(9236),r=l(938520),u=l(571297),c=l(930846),v=l(859003),m=l(74205);t.Z=o.memo(e=>{var t,l,f;let{price_info:p,price_extra_list:h,top_label_list:g,title_info:_,bottom_label_list:x,hidePrice:j,content_list:b,setCouponModalVisible:N,basicInfoV2:y,hitPriceCut:w}=e,{discountPriceV2:A,priceV2:C}=(0,o.useMemo)(()=>{var e,t,l;let i=null==y?void 0:null===(e=y.slices)||void 0===e?void 0:e.find(e=>(null==e?void 0:e.slice_id)==="BaseInfoPrice");return{discountPriceV2:null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.discount_price,priceV2:null==i?void 0:null===(l=i.data)||void 0===l?void 0:l.base_price}},[y]),{logParams:I}=(0,o.useContext)(m.k),k=-1===Number(null==p?void 0:null===(t=p.price)||void 0===t?void 0:t.min_price);return(0,a.jsxs)("div",{className:s.default.basicInfo,children:[(0,a.jsxs)("div",{className:s.default.priceSet,children:[!j&&(0,a.jsx)(d.Z,{className:s.default.price,priceInfo:(0,n._)((0,i._)({},p),{price:(0,n._)((0,i._)({},null==p?void 0:p.price),{prefix:(null==p?void 0:null===(l=p.price)||void 0===l?void 0:l.prefix)||(null==C?void 0:C.prefix)}),discount_price:(0,n._)((0,i._)({},null==p?void 0:p.discount_price),{prefix:(null==p?void 0:null===(f=p.discount_price)||void 0===f?void 0:f.prefix)||(null==A?void 0:A.prefix)})})}),(0,a.jsx)(v.Z,{className:s.default.couponInfo,contentList:b,logParams:I,onClick:()=>N(!0),hitPriceCut:w})]}),!k&&(null==h?void 0:h.length)>0&&(0,a.jsx)(r.Z,{priceExtraList:h}),(0,a.jsx)(u.Z,{labelList:g}),(0,a.jsx)(c.Z,{titleInfo:_}),(0,a.jsx)(u.Z,{labelList:x})]})})},191275:function(e,t,l){"use strict";l.d(t,{Z:function(){return y}});var i=l("520739"),n=l("563097"),a=l("88648"),o=l("713097"),s=l.n(o),d=l("645260"),r=l.n(d),u=l("583618"),c=l("270226"),v=l("227453"),m=l("721963");let f=e=>{let{text:t,onClick:l,className:i,isShowArrow:a}=e;return(0,n.jsxs)("div",{className:s()(v.default.container,i),onClick:()=>{null==l||l()},children:[(0,n.jsx)("div",{className:v.default.titleLeft,children:(0,n.jsx)("span",{className:v.default.text,children:t})}),a&&(0,n.jsx)("div",{className:v.default.right,children:(0,n.jsx)("img",{src:m,className:v.default.arrow})})]})};var p=l("767855"),h=l("39710"),g=l("319175"),_={Shop:"shop",Product:"product",Goodeval:"goodeval",BuyerShow:"buyerShow"},x=l("66865"),j=l("660816"),b=l("712754");let N=e=>{var t,l,o,d,v,m,N;let{good_comment:y,buyer_show:w,productQA:A,shop_extra_comment:C,good_evaluation:I,container:k,isHidePcPay:S,onCommentClick:E,abTestData:P}=e||{},{goodCommentTitleBar:R,goodTagList:M,commentList:T,goodCommentMediaList:D,buyerShowTitleBar:B,mediaList:L,productQATitleBar:F,questionList:O,shopCommentTitleBar:U,shopTagList:Z,goodEvaluationList:W}=(0,a.useMemo)(()=>({goodCommentTitleBar:r()(y,"title_bar"),goodTagList:r()(y,"tag_list",[]),commentList:r()(y,"comment_list",[]),goodCommentMediaList:r()(y,"media_list",[]),buyerShowTitleBar:r()(w,"title_bar"),mediaList:r()(w,"media_list",[]),productQATitleBar:r()(A,"title_bar"),questionList:r()(A,"question_list",[]),shopCommentTitleBar:r()(C,"title_bar"),shopTagList:r()(C,"tag_list"),goodEvaluationList:r()(I,"evaluation_list",[])}),[y,w,A,C,I]),{productShowEvent:z,singleCommentShowEvent:q,tagListShowEvent:G,shopShowEvent:H,buyerShowEvent:V,goodevalShowEvent:J,commentClickEvent:Y,tagListItemClickEvent:Q,buyerShowClickEvent:K}=(0,h.Z)((0,i._)({},e)),X=e=>{null==E||E(),e===_.Product?Y():e===_.BuyerShow&&K()},$=(e,t)=>{Q(e,t)},ee=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=t.findIndex(t=>{var l,i,n,a;return 1===t.type?(null==t?void 0:null===(l=t.image_info)||void 0===l?void 0:l.url)===(null==e?void 0:null===(i=e.image_info)||void 0===i?void 0:i.url):(null==t?void 0:null===(n=t.video_info)||void 0===n?void 0:n.main_url)===(null==e?void 0:null===(a=e.video_info)||void 0===a?void 0:a.main_url)});j.Z.open({mediaList:t.map(e=>{var t,l,i;return{url:1===e.type?null===(t=e.image_info)||void 0===t?void 0:t.url:null===(l=e.video_info)||void 0===l?void 0:l.main_url,type:1===e.type?"image":"video",coverUrl:null===(i=e.video_info)||void 0===i?void 0:i.poster_url}}),currIdx:l,logParams:{source:x.Jf.CommentInfo}})},et=(null==M?void 0:M.length)>0||(null==T?void 0:T.length)>0||(null==D?void 0:D.length)>0||(null==w?void 0:null===(t=w.media_list)||void 0===t?void 0:t.length)>0||(null==Z?void 0:Z.length)>0||(null==W?void 0:W.length)>0;return(0,n.jsxs)("div",{className:c.default.comment,children:[(0,n.jsx)("div",{ref:z,children:(0,n.jsx)(f,{text:(null==T?void 0:T.length)?`商品评价 (${(0,p.uf)((null==R?void 0:R.sum)||(null==T?void 0:T.length))})`:"暂无商品评价",onClick:()=>{(null==T?void 0:T.length)>0&&X(_.Product)},className:s()(c.default.title,{[c.default.noModule]:!et}),isShowArrow:(null==T?void 0:T.length)>0})}),(null==M?void 0:M.length)>0&&(0,n.jsx)("div",{className:c.default.tagList,ref:G,children:null==M?void 0:M.map((e,t)=>(0,n.jsxs)("div",{className:s()(c.default.item,{[c.default.sentiment]:-1===e.sentiment}),onClick:()=>$(e,t),children:[e.icon_url&&(0,n.jsx)("img",{className:c.default.icon,src:e.icon_url}),(0,n.jsxs)("span",{className:s()(c.default.text),children:[e.text," ",(0,n.jsx)("span",{className:c.default.num,children:(0,p.uf)(null==e?void 0:e.num)})]})]},`${e.text}${t}`))}),(null==T?void 0:T.length)>0&&(null===(o=T.slice(0,1))||void 0===o?void 0:null===(l=o.map)||void 0===l?void 0:l.call(o,(e,t)=>{var l,i,a;return(0,n.jsxs)("div",{className:c.default.goodcomment,ref:q,onClick:()=>{Y()},children:[(null==e?void 0:e.avatar)||(null==e?void 0:e.name)?(0,n.jsxs)("div",{className:c.default.userInfo,children:[(null==e?void 0:e.avatar)?(0,n.jsx)("img",{className:c.default.avatar,src:null==e?void 0:e.avatar,alt:""}):null,(null==e?void 0:e.name)?(0,n.jsx)("span",{className:c.default.name,children:null==e?void 0:e.name}):null,(null==e?void 0:null===(l=e.tag_list)||void 0===l?void 0:l.length)?null==e?void 0:null===(a=e.tag_list)||void 0===a?void 0:null===(i=a.map)||void 0===i?void 0:i.call(a,(e,t)=>(0,n.jsx)("img",{src:null==e?void 0:e.icon_url,className:c.default.tag},t)):null]}):null,(0,n.jsx)("div",{className:c.default.commentText,children:null==e?void 0:e.content})]},e.comment_id)})),(null==D?void 0:D.length)>0&&(0,n.jsx)("div",{className:c.default.commentImgs,children:null==D?void 0:null===(d=D.map)||void 0===d?void 0:d.call(D,(e,t)=>{var l,i;return(0,n.jsx)(b.o,{onClick:()=>{ee(e,D)},poster:(null==e?void 0:e.type)===1?null==e?void 0:null===(l=e.image_info)||void 0===l?void 0:l.thumbnail:null==e?void 0:null===(i=e.video_info)||void 0===i?void 0:i.poster_url,type:(null==e?void 0:e.type)===2?"video":"picture"},t)})}),(null==w?void 0:null===(v=w.media_list)||void 0===v?void 0:v.length)>0&&(0,n.jsxs)("div",{className:c.default.buyerShow,ref:V,children:[(0,n.jsx)("div",{className:c.default.divider}),(0,n.jsx)(f,{text:`买家秀 (${(0,p.uf)((null==B?void 0:B.sum)||(null==L?void 0:L.length))})`,onClick:()=>X(_.BuyerShow),className:c.default.buyerShowTitle,isShowArrow:!!(null==B?void 0:B.link)}),(0,n.jsx)("div",{className:c.default.content,children:null==w?void 0:null===(N=w.media_list)||void 0===N?void 0:null===(m=N.map)||void 0===m?void 0:m.call(N,(e,t)=>{var l,i;return(0,n.jsxs)("div",{className:c.default.item,onClick:()=>{K(),ee(e,null==w?void 0:w.media_list)},children:[(0,n.jsx)(u.x,{src:(null==e?void 0:e.type)===1?null==e?void 0:null===(l=e.image_info)||void 0===l?void 0:l.thumbnail:null==e?void 0:null===(i=e.video_info)||void 0===i?void 0:i.poster_url,iconHeight:40,iconWidth:40,skeletonStyle:{borderRadius:"4px",background:"#F5F6F9"},skeletonClass:c.default.skeleton,imgClass:c.default.img}),(null==e?void 0:e.type)===2&&(0,n.jsx)("img",{src:g,className:c.default.playIcon})]},t)})})]}),(null==Z?void 0:Z.length)>0&&(0,n.jsxs)("div",{className:c.default.shopComment,ref:H,children:[(0,n.jsx)("div",{className:c.default.divider}),(0,n.jsx)(f,{text:`店铺下其他商品评价 (${(0,p.uf)((null==U?void 0:U.sum)||(null==Z?void 0:Z.length))})`,onClick:()=>X(_.Shop),className:c.default.shopTitle}),Z&&(null==Z?void 0:Z.length)>0?(0,n.jsx)("div",{className:c.default.shopTagList,children:null==Z?void 0:Z.map((e,t)=>(0,n.jsxs)("div",{className:s()(c.default.item,{[c.default.sentiment]:-1===e.sentiment}),children:[e.icon_url&&(0,n.jsx)("img",{className:c.default.icon,src:e.icon_url}),(0,n.jsxs)("span",{className:s()(c.default.text),children:[e.text," ",(0,n.jsx)("span",{className:c.default.num,children:(0,p.uf)(null==e?void 0:e.num)})]})]},`${e.text}${t}`))}):null]}),(null==W?void 0:W.length)>0&&(0,n.jsxs)("div",{className:c.default.goodeval,ref:J,children:[(0,n.jsx)("div",{className:c.default.divider}),(0,n.jsx)(f,{text:"好物测评",className:c.default.goodTitle,onClick:()=>X(_.Goodeval)}),W.map((e,t)=>{var l,i,a,o,s,d,r;return(0,n.jsxs)("div",{className:c.default.content,children:[(0,n.jsxs)("div",{className:c.default.left,children:[(0,n.jsxs)("div",{className:c.default.userInfo,children:[(null==e?void 0:e.avatar)?(0,n.jsx)("img",{className:c.default.avatar,src:null==e?void 0:e.avatar,alt:""}):null,(null==e?void 0:e.name)?(0,n.jsx)("span",{className:c.default.name,children:null==e?void 0:e.name}):null]}),(0,n.jsx)("div",{className:c.default.goodEvalComment,children:null==e?void 0:e.content}),(0,n.jsx)("div",{className:c.default.buttons,children:null==e?void 0:null===(i=e.buttons)||void 0===i?void 0:null===(l=i.map)||void 0===l?void 0:l.call(i,(e,t)=>(0,n.jsxs)("div",{className:c.default.buttonItem,children:[(0,n.jsx)("img",{className:c.default.icon,src:e.icon}),(0,n.jsx)("span",{className:c.default.num,children:(0,p.uf)(Number(e.num))})]},t))})]}),(0,n.jsx)("div",{className:c.default.right,onClick:()=>{ee(e.media_info,[e.media_info])},children:(null===(a=e.media_info)||void 0===a?void 0:a.type)===2?(0,n.jsxs)("div",{className:c.default.videoPlayer,children:[(0,n.jsx)(u.x,{src:null===(s=e.media_info)||void 0===s?void 0:null===(o=s.video_info)||void 0===o?void 0:o.poster_url,iconHeight:40,iconWidth:40,skeletonStyle:{borderRadius:"4px",background:"#F5F6F9"},skeletonClass:c.default.skeleton,imgClass:c.default.img}),(0,n.jsx)("img",{src:g,className:c.default.playIcon})]}):(0,n.jsx)(u.x,{className:c.default.imgContainer,imgClass:c.default.img,src:null===(r=e.media_info)||void 0===r?void 0:null===(d=r.image_info)||void 0===d?void 0:d.thumbnail,iconHeight:40,iconWidth:40,skeletonStyle:{borderRadius:"4px",background:"#F5F6F9"},skeletonClass:c.default.skeleton})})]},t)})]})]})};var y=(0,a.memo)(N)},60318:function(e,t,l){"use strict";l.d(t,{v:function(){return m}});var i=l(520739),n=l(878389);l(874386);var a=l(563097);l(88648);var o=l(713097),s=l.n(o),d=l(702526),r=l(712754),u=l(291278),c=l(660816),v=l(66865);let m=e=>{let{append:t,originCommentTime:l,scene:o,className:m}=e,{CommentTime:f,Content:p,Photos:h,Videos:g}=t,_=(0,u.Ti)(l,f),x=e=>{let t=[...Array.isArray(g)?g.map(e=>(0,n._)((0,i._)({},e),{type:"video"})):[],...Array.isArray(h)?h.map(e=>(0,n._)((0,i._)({},e),{type:"image"})):[]],l=t.findIndex(t=>"video"===t.type?t.poster_uri===e.poster_uri:t.uri===e.uri);c.Z.open({mediaList:t.map(e=>({url:"video"===e.type?e.main_url:e.url,type:e.type,coverUrl:"video"===e.type?e.poster_url:e.url})),currIdx:l,logParams:{source:v.Jf.CommentInfo}})};return(0,a.jsxs)("div",{className:s()(d.default.container,m),children:[(0,a.jsxs)("div",{className:s()(d.default.text,{[d.default.mixCard]:"mixCard"===o}),children:[(0,a.jsxs)("span",{className:d.default.bold,children:["用户",_,"追评："]}),(0,a.jsx)("span",{children:p})]}),(0,a.jsxs)("div",{className:d.default.photoAndVideo,children:[null==g?void 0:g.map(e=>(0,a.jsx)(r.o,{className:s()(d.default.media,{[d.default.normal]:"normal"===o}),poster:e.poster_url,type:"video",onClick:()=>{x(e)}},e.poster_uri)),null==h?void 0:h.map(e=>(0,a.jsx)(r.o,{className:s()(d.default.media,{[d.default.normal]:"normal"===o}),poster:e.thumbnail,type:"picture",onClick:()=>{x(e)}},e.uri))]})]})}},110655:function(e,t,l){"use strict";l.d(t,{$:function(){return W}});var i=l("563097"),n=l("88648"),a=l("713097"),o=l.n(a),s=l("175018"),d=l("636972"),r=l("520739"),u=l("878389");l("874386");var c=l("743736"),v=l("123151"),m=l("658677"),f=l("803264"),p=l("127956"),h=l("291278");let g=[{tabName:"全部",statId:f.t.AllLevel},{tabName:"图/视频",statId:f.t.PhotoAndVideo},{tabName:"追评",statId:f.t.WithAppend},{tabName:"好评",statId:f.t.Good},{tabName:"中差评",statId:f.t.MidBad}],_={[f.t.AllLevel]:"Total",[f.t.PhotoAndVideo]:"PhotoVideoCount",[f.t.Good]:"GoodCount",[f.t.MidBad]:"MidBadCount",[f.t.WithAppend]:"AppendsCount"},x=e=>{let{onFirstTabClick:t,aggMap:l,statId:n,className:a,scene:s="normal"}=e;return(0,i.jsx)("div",{className:o()(p.default.container,a,{[p.default.mixCard]:"mixCard"===s}),children:g.map(e=>{let a=null==l?void 0:l[_[e.statId]];return a?(0,i.jsxs)("div",{className:p.default.tab,onClick:()=>t(e.statId),children:[(0,i.jsxs)("span",{className:o()(p.default.text,{[p.default.active]:e.statId===n}),children:[e.tabName," "]}),e.statId!==f.t.AllLevel&&(0,i.jsx)("span",{className:o()(p.default.count,{[p.default.active]:e.statId===n}),children:"normal"===s?(0,h.CZ)(a):`(${(0,h.CZ)(a)})`})]},e.statId):null})})};var j=l("520060");let b=e=>{let{impressionTagList:t,onImpressionTagClick:l,scene:n="normal",impressionTagId:a}=e;return(null==t?void 0:t.length)?(0,i.jsx)("div",{className:o()(j.default.container,{[j.default.mixCard]:"mixCard"===n}),children:t.slice(0,6).map(e=>(0,i.jsxs)("div",{className:o()(j.default.tag,{[j.default.active]:e.Id===a,[j.default.mixCard]:"mixCard"===n}),onClick:()=>{l(e.Id)},children:[(0,i.jsx)("div",{className:j.default.text,children:e.TagName}),(0,i.jsx)("div",{className:j.default.count,children:(0,h.CZ)(Number(e.CountNumber))})]},e.Id))}):null};var N=l("72643"),y=l("318356");let w=e=>{let{handleParamsChange:t,scene:l,productId:a,shopId:s,logParams:d}=e,{getImpressionTagList:p,aggMap:h,impressionTagList:g}=(0,m.u)({productId:a,shopId:s}),[j,w]=(0,n.useState)(f.t.AllLevel),[A,C]=(0,n.useState)(),[I,k]=(0,n.useState)(v.ER.Default);(0,n.useEffect)(()=>{p(f.t.AllLevel)},[]);let S=e=>{if(j!==e)(0,y.qP)("clickProductDetailCommentLabel",(0,u._)((0,r._)({},d),{product_detail_page_status:"mixCard"===l?"full":"mini",label_name:_[e]})),t({statId:e,tagId:null,sortType:I},()=>{w(e),p(e),C(null)})},E=e=>{let i;(0,y.qP)("clickProductDetailCommentLabel",(0,u._)((0,r._)({},d),{product_detail_page_status:"mixCard"===l?"full":"mini"})),A===e?t(i={statId:j,tagId:null,sortType:I},()=>{C(null)}):t(i={statId:j,tagId:e,sortType:I},()=>{C(e)})},P=e=>{t({statId:j,tagId:A,sortType:e},()=>{k(e)})};return(0,i.jsxs)("div",{className:o()(c.default.container,{[c.default.mixCard]:"mixCard"===l}),children:["mixCard"===l&&(0,i.jsxs)("div",{className:c.default.mixCardStatAndSort,children:[(0,i.jsx)(x,{statId:j,onFirstTabClick:S,aggMap:h,scene:"mixCard"}),(0,i.jsx)(N.P,{scene:"mixCard",sort:I,onSortClick:P})]}),"normal"===l&&(0,i.jsx)(x,{className:c.default.NormalStatTabs,statId:j,onFirstTabClick:S,aggMap:h,scene:"normal"}),(0,i.jsx)(b,{impressionTagId:A,impressionTagList:g,onImpressionTagClick:E,scene:l}),"normal"===l&&(0,i.jsx)(N.P,{className:c.default.normalSort,scene:"normal",sort:I,onSortClick:P})]})};var A=l("552098"),C=l("483710"),I=l("243150"),k=l("596854");let S=(e,t)=>(0,i.jsx)("svg",(0,u._)((0,r._)({width:56,height:56,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M56 28c0 15.464-12.536 28-28 28S0 43.464 0 28 12.536 0 28 0s28 12.536 28 28zm-33.25-5.95c0 1.74-1.175 3.15-2.625 3.15S17.5 23.79 17.5 22.05s1.175-3.15 2.625-3.15 2.625 1.41 2.625 3.15zm5.478 9.683c-4.014 0-7.623 1.74-10.057 4.5a1.75 1.75 0 1 0 2.625 2.315c1.784-2.023 4.445-3.315 7.432-3.315 2.993 0 5.66 1.298 7.444 3.329a1.75 1.75 0 0 0 2.629-2.31c-2.435-2.771-6.051-4.519-10.073-4.519zm7.607-6.533c1.45 0 2.625-1.41 2.625-3.15s-1.175-3.15-2.625-3.15-2.625 1.41-2.625 3.15 1.175 3.15 2.625 3.15z",fill:"#161823",fillOpacity:".34"})}));var E=(0,n.forwardRef)(S);let P=e=>{let{onRetry:t}=e;return(0,i.jsxs)("div",{className:k.default.container,children:[(0,i.jsx)(I.Z,{width:56,height:56,viewBox:"0 0 56 56",src:E}),(0,i.jsx)("div",{className:k.default.errorText,children:"加载异常"}),(0,i.jsx)("div",{className:k.default.retry,onClick:t,children:"点击重试"})]})};var R=l("124919"),M=l("840881");let T=()=>(0,i.jsx)("div",{className:M.default.container,children:(0,i.jsx)(R.g,{})});var D=l("48775");function B(e){let{onLoadMore:t,hasMore:l,emptyText:a=null,loadingNode:o=null,onReload:s,loadMoreError:d}=e,r=(0,n.useRef)();return((0,n.useEffect)(()=>{let e=new IntersectionObserver(e=>{e[0].isIntersecting&&t()});return r.current&&e.observe(r.current),()=>{e.disconnect()}},[t]),d)?(0,i.jsx)("div",{className:D.default.reloadWrap,children:(0,i.jsx)("div",{className:D.default.reloadBtn,onClick:()=>{null==s||s()},children:"重新加载"})}):l?(0,i.jsx)("div",{className:D.default.loadMore,ref:r,children:o||(0,i.jsxs)("div",{className:D.default.defaultLoading,children:[(0,i.jsx)(R.g,{}),"加载中"]})}):a}var L=l("189548");let F=(e,t)=>(0,i.jsx)("svg",(0,u._)((0,r._)({width:80,height:80,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.354 24.672l3.303-6.46A4.039 4.039 0 0 1 18.248 16h43.502c1.512 0 2.898.853 3.593 2.211l3.302 6.46a12.376 12.376 0 0 1 1.28 6.975l-3.045 27.895c-.34 3.107-2.937 5.459-6.03 5.459H19.149c-3.092 0-5.69-2.352-6.029-5.459l-3.046-27.895a12.376 12.376 0 0 1 1.28-6.974zm4.959.226c-.758 0-1.246-.811-.899-1.491l1.937-3.789c.174-.34.52-.552.898-.552h43.502c.378 0 .724.213.898.552l1.937 3.789c.347.68-.141 1.49-.898 1.49H16.312zM44.58 36.214c0 1.987 1.644 3.604 3.665 3.604.297 0 .59-.039.876-.107v3.08a6.785 6.785 0 0 1-4.54-1.012v6.166c-.021 3.111-2.588 5.636-5.768 5.636-3.18 0-5.768-2.544-5.768-5.672 0-3.128 2.588-5.672 5.768-5.673.264 0 .525.019.783.053v3.092a2.722 2.722 0 0 0-.783-.114c-1.482 0-2.686 1.185-2.686 2.642 0 1.457 1.205 2.642 2.686 2.642 1.48 0 2.685-1.185 2.685-2.642V35.98h3.082v.235z",fill:"#161823",fillOpacity:".34"})}));var O=(0,n.forwardRef)(F);let U=e=>{let{className:t,text:l}=e;return(0,i.jsxs)("div",{className:o()(L.default.container,t),children:[(0,i.jsx)(I.Z,{src:O,width:80,height:80,viewBox:"0 0 80 80"}),l||"暂无内容"]})};var Z=l("432359");let W=e=>{let{scene:t,productId:l,shopId:a,className:r,container:u,onScrollToComment:c,logParams:v,loadingOrEmptyStyle:m}=e,{handleParamsChange:f,commentList:p,requestStatus:g,init:_,hasMore:x,handleLoadMore:j,editStatus:b,filteredCount:N,handleLoadMoreReload:I,loadMoreError:k}=(0,C.b)({productId:l,shopId:a}),S=(0,n.useRef)(),E=(0,n.useRef)();(0,n.useEffect)(()=>{"normal"===t&&(0,y.qP)("ecomDetailPageCommentView",v)},[t,v]);let R=(e,l,i)=>{f(e,()=>{var e;null==l||l(),"normal"===t&&(null===(e=S.current)||void 0===e||e.scrollTo(0,0)),setTimeout(()=>{var e;null==c||c(null===(e=E.current)||void 0===e?void 0:e.offsetTop)},500)},()=>{s.F.info("网络异常，请稍后重试",u),null==i||i()})},M="mixCard"===t?{position:"sticky",top:-16,background:"#fff",zIndex:2}:{},D=(0,n.useMemo)(()=>{if("mixCard"===t&&"pending"===b){var e;let t=u.clientHeight,{top:l}=null===(e=E.current)||void 0===e?void 0:e.getBoundingClientRect();return l>=0?{height:t-l}:{height:t,top:Math.abs(l)}}return{}},[u,t,b]);return(0,i.jsxs)("div",{className:o()(d.default.container,r),ref:E,style:"success"===g&&p.length>0?{}:m,children:["failure"===g&&(0,i.jsx)(P,{onRetry:_}),"pending"===g&&(0,i.jsx)(T,{}),"success"===g&&(0,i.jsx)(i.Fragment,{children:p.length>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:M,children:(0,i.jsx)(w,{handleParamsChange:R,scene:t,shopId:a,productId:l,logParams:v})}),(0,i.jsxs)("div",{className:d.default.listWrapper,ref:S,children:[p.filter(e=>(0,h.om)(e)).map(e=>(0,i.jsx)(A.s,{scene:t,comment:e},e.Id)),(0,i.jsx)(B,{hasMore:x,onLoadMore:j,loadMoreError:k,emptyText:(0,i.jsx)("div",{className:d.default.emptyText,children:N?`已折叠${N}条对你帮助不大的评论`:"已浏览完全部评价"}),onReload:I})]})]}):(0,i.jsx)(U,{text:"暂无商品评价"})}),"mixCard"===t&&"pending"===b&&(0,i.jsx)(Z.Z,{maskStyle:D}),"normal"===t&&"pending"===b&&(0,i.jsx)(Z.Z,{})]})}},712754:function(e,t,l){"use strict";l.d(t,{o:function(){return r}});var i=l(563097);l(88648);var n=l(713097),a=l.n(n),o=l(583618),s=l(137337),d=l(319175);let r=e=>{let{poster:t,type:l,onClick:n,className:r}=e;return(0,i.jsxs)("div",{className:a()(s.default.item,r),onClick:()=>{null==n||n()},children:[(0,i.jsx)(o.x,{src:t,iconHeight:40,iconWidth:40,skeletonStyle:{borderRadius:"4px",background:"#F5F6F9"},skeletonClass:s.default.skeleton,imgClass:s.default.img}),"video"===l&&(0,i.jsx)("img",{src:d,className:s.default.playIcon})]})}},859003:function(e,t,l){"use strict";var i=l(520739),n=l(563097);l(88648);var a=l(713097),o=l.n(a),s=l(418224),d=l(66865),r=l(596803),u=l(318356),c=l(572590);let v=e=>{let{com:t,renderType:l,index:i}=e;if((null==t?void 0:t.type)===d.Wq.TEXT){if(i>2&&l===r.BF.RewardRenderTypeDefault)return null;let e={color:null==t?void 0:t.color,fontSize:null==t?void 0:t.fontSize,fontWeight:null==t?void 0:t.bold,backgroundColor:null==t?void 0:t.bg};return(null==t?void 0:t.head_icon)?(0,n.jsxs)("div",{className:s.default.coupon,children:[(0,n.jsx)("div",{style:{backgroundImage:`url(${t.head_icon})`},className:s.default.headIcon}),(0,n.jsx)("span",{style:e,className:s.default.posttext,children:null==t?void 0:t.text})]},i):(null==t?void 0:t.header)?(0,n.jsxs)("div",{className:s.default.coupon,children:[(0,n.jsx)("span",{style:e,className:s.default.pretext,children:null==t?void 0:t.header}),(0,n.jsx)("div",{className:s.default.midpoint,children:"\xb7"}),(0,n.jsx)("span",{style:e,className:s.default.posttext,children:null==t?void 0:t.text})]},i):!(null==t?void 0:t.header)&&(null==t?void 0:t.border)?(0,n.jsx)("div",{style:e,className:s.default.coupon,children:(0,n.jsx)("span",{className:s.default.normalText,children:null==t?void 0:t.text})},i):(0,n.jsx)("span",{style:e,className:s.default.comText,children:null==t?void 0:t.text},i)}return(null==t?void 0:t.type)===d.Wq.ICON?(0,n.jsx)("img",{src:null==t?void 0:t.url,className:s.default.comIcon},i):null},m=e=>{var t,l;let{item:i,style:a}=e;if((null==i?void 0:i.coms)&&(null==i?void 0:null===(t=i.coms)||void 0===t?void 0:t.length)>0)return(0,n.jsxs)("div",{className:s.default.uIComponentList,style:a,children:[(0,n.jsx)("div",{className:s.default.main,children:null==i?void 0:null===(l=i.coms)||void 0===l?void 0:l.map((e,t)=>(0,n.jsx)(v,{com:e,renderType:null==i?void 0:i.render_type,index:t},t))}),(0,n.jsx)("img",{src:c,className:s.default.arrow})]})},f=e=>{let{contentList:t,logParams:l,onClick:a,className:d,hitPriceCut:c}=e,v=(e,t)=>{if((null==e?void 0:e.render_type)===r.BF.RewardRenderTypeDefault||(null==e?void 0:e.render_type)===r.BF.RewardRenderTypeIconText)return(0,n.jsx)(m,{item:e},t)},f=()=>{(0,u.qP)("clickProductDetailPromotion",(0,i._)({},l)),null==a||a()};return c?null:(0,n.jsx)("div",{onClick:f,className:o()(s.default.content,d),children:null==t?void 0:t.map((e,t)=>v(e,t))})};t.Z=f},439037:function(e,t,l){"use strict";l.d(t,{Z:function(){return E}});var i=l("520739"),n=l("878389");l("874386");var a=l("563097"),o=l("88648"),s=l("713097"),d=l.n(s),r=l("175018"),u=l("372337"),c=l("689913"),v=l("196438"),m=l("645260"),f=l.n(m),p=l("542098"),h=l("566176"),g=l("725887"),_=l("441447"),x=l("623527"),j=l("685840"),b=l("318356"),N=l("218296"),y={Member:1,1:"Member",ShopFans:2,2:"ShopFans",ShopKolFans:3,3:"ShopKolFans",InterestFree:4,4:"InterestFree",InterestDiscount:5,5:"InterestDiscount",PlatformMemberConsumerCoupon:6,6:"PlatformMemberConsumerCoupon",PlatformMember100YuanCouponPackage:7,7:"PlatformMember100YuanCouponPackage",MultiDeductionCoupon:8,8:"MultiDeductionCoupon",PlatformConsumerCoupon:9,9:"PlatformConsumerCoupon"},w=e=>{let{className:t,couponMetaId:l,credit:n,integerDesc:s,decimalDesc:u,discount:c,thresholdDesc:v,whatCoupon:m,applyType:p,validPeriodDesc:w,actionText:A,hasApplied:C,canContinueApply:I,icon:k,creditDesc:S,couponItemType:E,containerRef:P,shopId:R,updateCouponList:M,setIsLoading:T,authorId:D,roomId:B,logParams:L,userId:F,onCouponReceived:O}=(0,o.useMemo)(()=>({className:f()(e,"className"),couponMetaId:f()(e,"coupon_meta_id"),credit:f()(e,"credit",0),integerDesc:f()(e,"integer_desc","0"),decimalDesc:f()(e,"decimal_desc",""),discount:f()(e,"discount",0),creditDesc:f()(e,"credit_desc","0"),thresholdDesc:f()(e,"threshold_desc","无门槛"),whatCoupon:f()(e,"what_coupon"),applyType:f()(e,"apply_type"),validPeriodDesc:f()(e,"valid_period_desc",""),actionText:f()(e,"action_text","领取"),hasApplied:1===Number(f()(e,"has_applied")),canContinueApply:f()(e,"can_continue_apply",!1),icon:f()(e,"icon"),couponItemType:f()(e,"coupon_item_type"),containerRef:f()(e,"containerRef"),shopId:f()(e,"shopId"),updateCouponList:f()(e,"updateCouponList"),setIsLoading:f()(e,"setIsLoading"),authorId:f()(e,"authorId"),roomId:f()(e,"roomId"),logParams:f()(e,"logParams"),userId:f()(e,"userId"),onCouponReceived:f()(e,"onCouponReceived")}),[e]),U=(0,o.useMemo)(()=>C&&!I,[C,I]),Z=async()=>{if(!U){if((0,b.qP)("receiveProductPromotion",(0,i._)({},L)),E===y.ShopFans||E===y.ShopKolFans){var e;T(!0);let t=await (0,h.m1)({user_id:"0",shop_id:R,scene:"17",kol_id:D,coupon_item_type:E});if((null==t?void 0:t.status_code)===0&&"1"===String(null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.code)){r.F.info({text:"关注成功",duration:1500},null==P?void 0:P.current),await (0,N._)(1500);let e=g.Le.getConfig(g.gI.FollowStatusCache)||{};e[D]={followStatus:1,followerStatus:void 0},g.Le.setConfig(g.gI.FollowStatusCache,e),_.emit(_.EVENT.syncInteractionStatus,{action:"follow",fromUserId:F,toUserId:D}),await (null==M?void 0:M())}else r.F.info((null==t?void 0:t.status_msg)||"关注失败，请重试",null==P?void 0:P.current),(0,b.qP)("ecomApiError",{path:"/aweme/v1/web/ecom/warcraft/api/coupon/commit_follow/",status_code:null==t?void 0:t.status_code,status_message:null==t?void 0:t.status_msg,log_id:null==t?void 0:t.logId}),x.oe.event.error({name:x.Mo.EcomDetailCouponFollowError,report:{logId:null==t?void 0:t.logId,scene:B?"liveDetail":"shopAnchor",reason:null==t?void 0:t.status_msg,couponId:l,coupon:`${v} ${n}${c?"元":"折"} ${m}`,statusCode:null==t?void 0:t.status_code}});T(!1);return}if(I){T(!0);let e=await (0,h.dR)(l);(null==e?void 0:e.status_code)===0?(r.F.info({text:(0,a.jsx)("div",{style:{textAlign:"center"},children:"领取成功"}),duration:1e3},null==P?void 0:P.current),null==O||O(),await (0,N._)(1e3),await (null==M?void 0:M())):(r.F.info((null==e?void 0:e.status_msg)||"领取失败，请重试",null==P?void 0:P.current),(0,b.qP)("ecomApiError",{path:"/aweme/v1/web/ecom/warcraft/api/coupon/manualapply/",status_code:null==e?void 0:e.status_code,status_message:null==e?void 0:e.status_msg,log_id:null==e?void 0:e.logId}),x.oe.event.error({name:x.Mo.EcomDetailCouponRewardError,report:{logId:null==e?void 0:e.logId,scene:B?"liveDetail":"shopAnchor",reason:null==e?void 0:e.status_msg,couponId:l,coupon:`${v} ${n}${c?"元":"折"} ${m}`,statusCode:null==e?void 0:e.status_code}})),T(!1)}}};return(0,a.jsxs)("div",{className:d()(j.default.coupon,t),children:[(0,a.jsxs)("div",{className:j.default.leftContent,children:[!!n&&(0,a.jsxs)("div",{className:j.default.amount,children:[(0,a.jsxs)("span",{className:j.default.number,children:[(0,a.jsx)("span",{className:j.default.integer,children:s}),u&&(0,a.jsxs)("span",{className:j.default.decimal,children:[".",u]})]}),(0,a.jsx)("span",{className:j.default.unit,children:"元"})]}),!!c&&(0,a.jsxs)("div",{className:j.default.discount,children:[(0,a.jsx)("span",{className:j.default.number,children:S}),(0,a.jsx)("span",{className:j.default.unit,children:"折"})]}),(0,a.jsx)("div",{className:j.default.desc,children:v})]}),(0,a.jsxs)("div",{className:j.default.rightContent,children:[(0,a.jsxs)("div",{className:j.default.explaination,children:[(0,a.jsxs)("div",{className:j.default.name,children:[(null==k?void 0:k.url)&&(0,a.jsx)("img",{className:j.default.icon,src:null==k?void 0:k.url,style:{width:k.width,height:k.height}}),m,p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:j.default.divide}),p]})]}),(0,a.jsx)("div",{className:j.default.validTime,children:w})]}),(0,a.jsx)("div",{className:j.default.btnBox,children:(0,a.jsx)("div",{className:d()(j.default.btn,{[j.default.disabled]:U}),onClick:Z,children:A})})]})]})},A=l("635938"),C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAANCAYAAACdKY9CAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABlSURBVHgB1ZArDoAwEAVfqCwIQrbBFw7BRbD0tmg8ElUBhtbyU4QALYp05GYmL1kgHIQoKiKprvfoKdC6b8Gw3EWvUC6bc8RcgZ2njidpHfPMGjMOLn9bKNW+Ah8+yceXfOV/WQFdPxS9+N6VtQAAAABJRU5ErkJggg==",I=e=>{let{tags:t,tagHeaders:l,hint:i,cardType:n,containerRef:s}=(0,o.useMemo)(()=>({tags:f()(e,"tags",[]),tagHeaders:f()(e,"tag_headers",[]),hint:f()(e,"hint",""),cardType:f()(e,"cardType"),containerRef:f()(e,"containerRef")}),[e]),u=(0,o.useMemo)(()=>14===n,[n]),c=(0,o.useMemo)(()=>18===n,[n]),v=()=>{u?r.F.info("当前券暂不支持领取，可以打开抖音app再次尝试~",null==s?void 0:s.current):c&&r.F.info("请打开抖音app查看",null==s?void 0:s.current)};return(0,a.jsxs)("div",{className:d()(A.default.activityCard,{[A.default.cursorPointer]:u||c}),onClick:v,children:[(0,a.jsxs)("div",{className:A.default.desc,children:[(0,a.jsx)("span",{className:A.default.tag,children:l.join(" ")}),(0,a.jsx)("span",{className:A.default.text,children:t.join("，")})]}),i&&(0,a.jsx)("div",{className:A.default.validTime,children:i}),u||c&&(0,a.jsx)("img",{src:C,className:A.default.arrow})]})},k=e=>{var t;let{title:l,cardList:s,className:r,containerRef:u,shopId:c,updateCouponList:v,setIsLoading:m,authorId:h,roomId:g,logParams:_,userId:x,onCouponReceived:j}=(0,o.useMemo)(()=>({title:f()(e,"title",""),cardList:f()(e,"card_list"),className:f()(e,"className"),containerRef:f()(e,"containerRef"),shopId:f()(e,"shopId"),updateCouponList:f()(e,"updateCouponList"),setIsLoading:f()(e,"setIsLoading"),authorId:f()(e,"authorId"),roomId:f()(e,"roomId"),logParams:f()(e,"logParams"),userId:f()(e,"userId"),onCouponReceived:f()(e,"onCouponReceived")}),[e]);return(0,a.jsxs)("div",{className:d()(p.default.couponPanelArea,r),children:[(0,a.jsx)("div",{className:p.default.title,children:l}),null==s?void 0:null===(t=s.map)||void 0===t?void 0:t.call(s,(e,t)=>{var l,s;return(0,a.jsxs)("div",{children:[(null==e?void 0:e.common_activity_card)&&(0,a.jsx)(I,(0,i._)({containerRef:u,cardType:null==e?void 0:e.card_type},null==e?void 0:e.common_activity_card)),(null==e?void 0:e.coupon_list)&&(null==e?void 0:null===(s=e.coupon_list)||void 0===s?void 0:null===(l=s.map)||void 0===l?void 0:l.call(s,e=>(0,o.createElement)(w,(0,n._)((0,i._)({},e),{containerRef:u,className:p.default.coupon,key:null==e?void 0:e.coupon_meta_id,updateCouponList:v,setIsLoading:m,shopId:c,authorId:h,roomId:g,logParams:_,userId:x,onCouponReceived:j}))))]},t)})]})},S=l("798128"),E=e=>{let{onClose:t,shopId:l,canUseArea:s,unUseArea:m,getCouponList:f,authorId:p,roomId:h,logParams:g,userId:_,onCouponReceived:x}=e,[j,b]=(0,o.useState)(!1),N=(0,o.useRef)(),y=(0,o.useMemo)(()=>{var e;return(null==s?void 0:s.card_list)&&(null==s?void 0:null===(e=s.card_list)||void 0===e?void 0:e.length)>0},[s]),w=(0,o.useMemo)(()=>{var e;return(null==m?void 0:m.card_list)&&(null==m?void 0:null===(e=m.card_list)||void 0===e?void 0:e.length)>0},[m]),A=(0,o.useMemo)(()=>!y&&!w,[y,w]);return(0,S.M)("ecom/counponReward"),(0,o.useEffect)(()=>{null==f||f({onError:e=>{r.F.info(e,null==N?void 0:N.current)},onStart:()=>{b(!0)},onEnd:()=>{b(!1)}})},[]),(0,a.jsx)(c.Z,{showLoadingIcon:j,containerRef:N,className:u.default.couponModal,title:"优惠",onClose:t,children:(0,a.jsx)("div",{className:u.default.main,children:A&&!j?(0,a.jsx)(v.Z,{}):(0,a.jsxs)(a.Fragment,{children:[y&&(0,a.jsx)(k,(0,n._)((0,i._)({className:u.default.canUse},s),{shopId:l,containerRef:N,updateCouponList:f,setIsLoading:b,authorId:p,roomId:h,logParams:g,onCouponReceived:x,userId:_})),w&&(0,a.jsx)(k,(0,n._)((0,i._)({className:d()({[u.default.hasSlider]:y})},m),{shopId:l,containerRef:N,updateCouponList:f,setIsLoading:b,authorId:p,roomId:h,logParams:g,userId:_,onCouponReceived:x}))]})})})}},611234:function(e,t,l){"use strict";l(209955);var i=l(563097),n=l(88648),a=l(713097),o=l.n(a),s=l(483312),d=l(339137);let r=e=>{let{className:t,onClickRetry:l}=e;return(0,i.jsx)("div",{className:o()(d.default.container,t),children:(0,i.jsx)(s.nl,{title:"",desc:"页面加载失败",primaryButtonTitle:"点击重试",primaryButtonAction:()=>{null==l||l()},className:"isLight"})})};t.Z=(0,n.memo)(r)},254623:function(e,t,l){"use strict";l.d(t,{Z:function(){return A}});var i=l("520739"),n=l("878389");l("874386"),l("413806"),l("826893"),l("250440");var a=l("563097"),o=l("88648"),s=l("567754"),d=l("645260"),r=l.n(d),u=l("419936"),c=l.n(u),v=l("713097"),m=l.n(v),f=l("175018"),p=l("243150"),h=l("645003"),g=l("406952");let _=(e,t)=>(0,a.jsx)("svg",(0,n._)((0,i._)({width:22,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.639 9.1A4.461 4.461 0 0 1 9.1 4.64h6.31a.64.64 0 1 0 0-1.28H9.1A5.74 5.74 0 0 0 3.36 9.1v8.154c0 .792.734 1.378 1.506 1.202l2.106-.479c.151-.034.306-.052.462-.052h3.55a.64.64 0 1 0 0-1.279h-3.55c-.251 0-.501.028-.746.084l-2.05.466V9.1zm13.97-3.535v-.002c.001-.56.335-.893.74-.893a.64.64 0 0 0 0-1.28c-1.314 0-2.019 1.128-2.019 2.175v.003l.045 7.42v.05c.006.149.03 1.31-.334 2.24a2.65 2.65 0 0 1-.075.173 1.404 1.404 0 0 0-1.6-.37l-.412.172a1.422 1.422 0 0 0 .95 2.677.637.637 0 0 0 .265-.04c.992-.368 1.721-1.273 2.063-2.144.469-1.196.428-2.59.422-2.754v-.013l-.044-7.414zm-8.553 2.147a1.01 1.01 0 0 1 2.02 0V9.42a1.01 1.01 0 0 1-2.02 0V7.712zm3.732.39a1.01 1.01 0 0 1 2.02 0v1.316a1.01 1.01 0 0 1-2.02 0V8.103z",fill:"#161823",fillOpacity:".5"})}));var x=(0,o.forwardRef)(_),j=l("745376"),b=l("282222"),N=l("74205"),y=l("360585"),w=l("318356"),A=e=>{let{footerData:t,className:l,canPay:d,onClickBuy:u,userId:v,reward_content:_,canUseArea:A,listCantBuyReason:C,container:I,getCouponListStatus:k,onCheckPrice:S}=e,[E,P]=(0,o.useState)(!1),[R,M]=(0,o.useState)(!1),{onQueryDataChange:T,logParams:D,handleCouponModalVisible:B,promotionId:L,productId:F,authorId:O,awemeId:U,entranceInfo:Z,qrcodeMetaParams:W,abTestData:z}=(0,o.useContext)(N.k)||{},q=null==t?void 0:t.hit_pc_price_cut,G=C&&!d,{bigBtnText:H,queryData:V,bigBtn:J,canShowbuynow:Y,smallBtn:Q,smallBtnText:K,serviceQRCodeParams:X,canUseCoupon:$,alertInfo:ee}=(0,o.useMemo)(()=>{var e;let l=r()(t,"big_button_list[0].jump_link",""),i=r()(t,"big_button_list[0]",{}),n=r()(t,"small_button_list[0]",null),a=r()(t,"small_button_list[0].jump_link",""),o=s.parse(null===(e=a.split("?"))||void 0===e?void 0:e[1])||{};Object.keys(o).forEach(e=>{if(c()(o[e])){var t;o[e]=null===(t=o[e])||void 0===t?void 0:t[0]}});let u=r()(A,"card_list",[]);return{alertInfo:r()(t,"alert_info_v2",null),smallBtn:n,bigBtn:i,queryData:s.parse(l)||{},serviceQRCodeParams:o,bigBtnText:r()(t,"big_button_list[0].text_info.content","立即购买"),smallBtnText:r()(t,"small_button_list[0].name",""),canShowbuynow:d&&(null==i?void 0:i.button_status)!=="disable",canUseCoupon:u.some(e=>{var t;return(null==e?void 0:null===(t=e.coupon_list)||void 0===t?void 0:t.length)>0})}},[t,A,d]);(0,o.useEffect)(()=>{null==T||T(V)},[V]);let et=(0,o.useCallback)(()=>{if((0,w.qP)("ecomOrderButtonClick",(0,n._)((0,i._)({},D),{is_risk_user:q?"1":"0",is_possible_to_click:!Y||G||(null==J?void 0:J.button_status)==="disable"?"0":"1",cant_click_reason:(Y&&(null==J?void 0:J.button_status)!=="disable"?"":(null==ee?void 0:ee.text)||H)||C,button_name:_&&$?"领券购买":"立即购买"})),(null==J?void 0:J.button_status)==="disable"){(null==ee?void 0:ee.text)&&f.F.info(null==ee?void 0:ee.text,I);return}Y&&((0,y.vZ)(),null==u||u())},[J,Y,u,H,C,ee,I,z,_,$]),el=(0,h.x)(()=>{(0,w.qP)("ecomOrderButtonShow",(0,n._)((0,i._)({},D),{is_risk_user:q?"1":"0",is_possible_to_click:!Y||G||(null==J?void 0:J.button_status)==="disable"?"0":"1",cant_click_reason:(Y&&(null==J?void 0:J.button_status)!=="disable"?"":(null==ee?void 0:ee.text)||H)||C,button_name:_&&$?"领券购买":"立即购买"}))}),ei=()=>{(0,w.qP)("customerServiceButtonClick",(0,i._)({},D))};return(0,a.jsxs)("div",{className:m()(g.default.footer,l),children:[Q&&(0,a.jsxs)("div",{className:g.default.leftButtons,onMouseEnter:()=>{M(!0)},onMouseLeave:()=>{M(!1)},onClick:ei,children:[(0,a.jsxs)("div",{className:g.default.serviceBtn,children:[(0,a.jsx)(p.Z,{src:x,width:22,height:22,viewBox:"0 0 22 22"}),K]}),(0,a.jsx)(b.Z,{className:g.default.serviceQRCode,isShowProps:R,qrcodeParams:X,userId:v})]}),q?(0,a.jsx)("div",{onClick:S,className:g.default.rightButtons,children:(0,a.jsx)("span",{className:g.default.buyBtn,children:"查看价格"})}):["success","fail"].includes(k)&&(0,a.jsx)("div",{className:m()(g.default.rightButtons,{[g.default.disable]:(null==J?void 0:J.button_status)==="disable"||G}),ref:el,children:(0,a.jsxs)("div",{className:g.default.buyBtn,onMouseEnter:()=>{P(!0)},onMouseLeave:()=>{P(!1)},onClick:()=>{et()},children:[(0,a.jsx)(j.Z,{promotionId:L,productId:F,authorId:O,awemeId:U,logParams:D,entranceInfo:Z,qrcodeMetaParams:W,isShowProps:E&&!Y&&(null==J?void 0:J.button_status)!=="disable"&&!G,className:g.default.qrcode,source:"purchase_button",clickPosition:"product_detail"}),_&&$?"领券购买":H]})})]})}},571297:function(e,t,l){"use strict";l.d(t,{Z:function(){return c}}),l("268917"),l("777180"),l("429532");var i=l("563097"),n=l("88648"),a=l("583618"),o=l("116775"),s={DEFAULT:0,0:"DEFAULT",PROCESS:1,1:"PROCESS",COUNT_DOWN:2,2:"COUNT_DOWN"},d={BRAND:1,1:"BRAND",BASE_SELECT:2,2:"BASE_SELECT",GLOBAL_BUY:3,3:"GLOBAL_BUY",ORIGIN_SELECT:14,14:"ORIGIN_SELECT",RANKING:70,70:"RANKING"},r=l("66865"),u=l("537128"),c=e=>{var t;let{labelList:l}=e,c=(0,n.useMemo)(()=>{if(!l)return[];let e=[],t=[];return l.forEach(l=>{l.label_type===d.RANKING?e.push(l):t.push(l)}),t.concat(e)},[l]);function v(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return null==t?void 0:null===(e=t.map)||void 0===e?void 0:e.call(t,(e,t)=>{if((null==e?void 0:e.type)===r.Wq.TEXT){let l={};return(null==e?void 0:e.bg)&&(l.background=null==e?void 0:e.bg),(null==e?void 0:e.color)&&(l.color=null==e?void 0:e.color),(null==e?void 0:e.padding)&&(l.padding=null==e?void 0:e.padding),(null==e?void 0:e.fontSize)&&(l.fontSize=`${null==e?void 0:e.fontSize}px`),(null==e?void 0:e.bold)&&(l.fontWeight=null==e?void 0:e.bold),(null==e?void 0:e.border_radius)&&(l.borderRadius=null==e?void 0:e.border_radius),(0,i.jsx)("span",{className:o.default.uicText,style:l,children:null==e?void 0:e.text},t)}if((null==e?void 0:e.type)===r.Wq.ICON){let l={};return(null==e?void 0:e.bg)&&(l.background=null==e?void 0:e.bg),(null==e?void 0:e.height)&&(l.height=`${null==e?void 0:e.height}px`),(null==e?void 0:e.margin)&&(l.margin=null==e?void 0:e.margin),(null==e?void 0:e.border_radius)&&(l.borderRadius=null==e?void 0:e.border_radius),(0,i.jsx)(a.x,{renderDefault:(0,i.jsx)("div",{}),imgClass:o.default.uicIcon,className:o.default.defaultImgClass,src:null==e?void 0:e.url,style:l},t)}return null})}return(0,i.jsx)("div",{children:null==c?void 0:null===(t=c.map)||void 0===t?void 0:t.call(c,(e,t)=>{var l,n,a,r,c,m,f;if((null==e?void 0:e.render_type)===s.COUNT_DOWN){let s="number"==typeof(null==e?void 0:null===(l=e.count_down)||void 0===l?void 0:l.end_time),d=s&&(null==e?void 0:null===(n=e.count_down)||void 0===n?void 0:n.end_time)?1e3*Number(null==e?void 0:null===(a=e.count_down)||void 0===a?void 0:a.end_time)-new Date().getTime():0;return(null==e?void 0:e.count_down)&&(0,i.jsxs)("div",{className:o.default.labelCount,children:[(0,i.jsx)("span",{className:o.default.tag,children:"竞拍中"}),(0,i.jsxs)("span",{className:o.default.time,children:[(0,i.jsx)("img",{className:o.default.icon,src:"https://p6-piu.byteimg.com/tos-cn-i-8jisjyls3a/bff1a40e251b4a92ab1ed175a5fb8065~tplv-8jisjyls3a-3:0:0:q75.png"}),(0,i.jsx)("span",{className:o.default.text,children:s?(0,i.jsx)(u.Z,{time:d}):null==e?void 0:null===(r=e.count_down)||void 0===r?void 0:r.show_time})]}),v(null==e?void 0:null===(c=e.count_down)||void 0===c?void 0:c.coms)]},t)}return(null==e?void 0:e.render_type)===s.PROCESS?!!(null==e?void 0:null===(m=e.process)||void 0===m?void 0:m.length)&&(0,i.jsx)("div",{className:o.default.labelProcess,children:null==e?void 0:null===(f=e.process)||void 0===f?void 0:f.slice(0,3).map((e,t,l)=>{let n={width:`${(100/l.length).toFixed()}%`};return 0===t&&Object.assign(n,{borderLeft:"none"}),(0,i.jsxs)("div",{className:o.default.item,style:n,children:[(0,i.jsx)("img",{className:o.default.icon,src:null==e?void 0:e.icon}),(0,i.jsx)("span",{className:o.default.value,children:null==e?void 0:e.value}),(0,i.jsx)("span",{className:o.default.name,children:null==e?void 0:e.name})]},t)})},t):(null==e?void 0:e.coms)&&(0,i.jsx)("div",{className:(null==e?void 0:e.label_type)===d.RANKING?o.default.labelRank:o.default.labelBase,children:v(null==e?void 0:e.coms)},t)})})}},607293:function(e,t,l){"use strict";l.d(t,{Z:function(){return u}});var i=l("563097"),n=l("88648"),a=l("204025"),o=l("343902"),s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAASCAYAAACEnoQPAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADkSURBVHgBnZLNDYJAEIVnl9U6tAGTNdHEo5X4U4FaAXYgFdgCVgA3DWIWK4ASuAuMiwmGNQQG32n28OZ9s3kQPKLzVakR/CEWhBF+BsZswQtHSplSzbwaENF+ZUyF6rmimr/JhhCSXOByIWUClGRzJYysnMVd/8GhTQhrK2Pe7a52QMZuXhQzi+9n08mFlmzEwBiLwq2fQk/+4SgQD/RkUz4KcEUvi747B9wuZtIvn1RzqkvkDAWc5rUGUsxebum0hsKIFsREI24qxCYJKiLF7GvETVenTTMBsUlcIx4HAmVfY6k3p2V0PU0Cc4oAAAAASUVORK5CYII=",d=l("849649"),r=(0,n.memo)(e=>{let{flowChartList:t}=e||{};return(0,i.jsx)("div",{className:d.default.flowchart,children:null==t?void 0:t.map((e,l)=>(0,i.jsxs)("div",{className:d.default.wrapper,children:[(0,i.jsxs)("div",{className:d.default.item,children:[(0,i.jsx)("img",{className:d.default.img,src:null==e?void 0:e.icon}),(0,i.jsx)("div",{className:d.default.text,children:null==e?void 0:e.text})]}),l!==(null==t?void 0:t.length)-1&&(0,i.jsx)("div",{className:d.default.dashLine}),l!==(null==t?void 0:t.length)-1&&(0,i.jsx)("img",{className:d.default.dashLineImage,src:s})]},l))})}),u=(0,n.memo)(e=>{let{title:t,content_list:l=[],logistics_extra_content:n}=e||{};return(null==l?void 0:l.length)?(0,i.jsxs)("div",{className:o.default.logistics,children:[(0,i.jsx)("div",{className:o.default.title,children:(0,i.jsx)("div",{className:o.default.text,children:t||"物流"})}),(0,i.jsxs)("div",{className:o.default.content,children:[null==l?void 0:l.map((e,t)=>(0,i.jsx)(a.Z,{item:e,index:t},t)),n&&(0,i.jsx)("div",{className:o.default.extra,children:(0,i.jsx)(r,{flowChartList:n})})]})]}):null})},613604:function(e,t,l){"use strict";l.d(t,{Z:function(){return g}});var i=l("520739"),n=l("563097"),a=l("88648"),o=l("713097"),s=l.n(o),d=l("422585"),r=l("744620"),u=l("66865"),c=l("660816");let v=e=>{var t;let{className:l,imgList:i}=e,o=(0,a.useRef)(null);function d(e){if(!(null==e?void 0:e.minImgUrl))return;let t=i.findIndex(t=>t.id===e.id);c.Z.open({mediaList:i.map(e=>({url:e.minImgUrl,type:"image"})),currIdx:t,logParams:{source:u.Jf.PackDetail}})}return(0,n.jsx)("div",{className:s()(r.default.container,l),ref:o,children:null==i?void 0:null===(t=i.map)||void 0===t?void 0:t.call(i,(e,t)=>{var l;return(0,n.jsx)("img",{className:r.default.img,src:null==e?void 0:e.minImgUrl,onClick:()=>d(e)},null!==(l=null==e?void 0:e.id)&&void 0!==l?l:t)})})};l("602157");var m=l("631556");let f=e=>{var t;let{className:l,titleInfo:i,noteInfoList:a}=e,{titleText:o="报名须知"}=i||{};return(0,n.jsxs)("div",{className:s()(m.default.container,l),children:[(0,n.jsx)("div",{className:m.default.title,children:(0,n.jsx)("div",{className:m.default.text,children:o})}),(0,n.jsx)("div",{className:m.default.notes,children:null==a?void 0:null===(t=a.map)||void 0===t?void 0:t.call(a,(e,t)=>{var l,i,a;return(0,n.jsxs)("div",{className:m.default.item,children:[(0,n.jsx)("div",{className:m.default.title,children:null==e?void 0:e.titleText}),null==e?void 0:null===(i=e.noteList)||void 0===i?void 0:null===(l=i.map)||void 0===l?void 0:l.call(i,(e,t)=>{var l;return(0,n.jsx)("div",{className:m.default.note,children:`${null==e?void 0:e.description}`},null!==(l=null==e?void 0:e.id)&&void 0!==l?l:t)})]},null!==(a=null==e?void 0:e.id)&&void 0!==a?a:t)})})]})};var p=l("820195");let h=e=>{let{imgList:t,applicationNotes:l,fullyCollapseBarInfoList:a,className:o}=e;return(0,n.jsxs)("div",{className:s()(d.default.container,o),children:[(null==t?void 0:t.length)>0&&(0,n.jsx)(v,{imgList:t,className:d.default.bigImgList}),l&&(0,n.jsx)(f,(0,i._)({},l)),(null==a?void 0:a.length)>0&&(0,n.jsx)(p.N,{fullyCollapseBarInfoList:a})]})};var g=(0,a.memo)(h)},9236:function(e,t,l){"use strict";l(874386);var i=l(563097);l(88648);var n=l(713097),a=l.n(n),o=l(607409),s=l(480200);let d=e=>{var t,l,n;let{priceInfo:d,className:r}=e,u=-1===Number(null==d?void 0:null===(t=d.price)||void 0===t?void 0:t.min_price),c=()=>{var e,t,l,n,a;let[r,u]=(0,s.m)(String((null==d?void 0:null===(e=d.price)||void 0===e?void 0:e.min_price)||0)),[c,v]=(0,s.m)(String((null==d?void 0:null===(t=d.price)||void 0===t?void 0:t.max_price)||0));return(0,i.jsxs)("div",{className:o.default.price,children:[(0,i.jsx)("div",{className:o.default.prefix,children:null==d?void 0:null===(l=d.price)||void 0===l?void 0:l.prefix}),(0,i.jsx)("div",{className:o.default.symbol,children:"￥"}),(0,i.jsxs)("div",{className:o.default.amount,children:[r,u&&(0,i.jsxs)("span",{className:o.default.decimal,children:[".",u]}),!!(null==d?void 0:null===(n=d.price)||void 0===n?void 0:n.max_price)&&(0,i.jsxs)("span",{children:["-",c,v&&(0,i.jsxs)("span",{className:o.default.decimal,children:[".",v]})]})]}),(0,i.jsx)("div",{className:o.default.suffix,children:null==d?void 0:null===(a=d.price)||void 0===a?void 0:a.suffix})]})},v=()=>{let[e,t]=(0,s.m)(String(d.discount_price.min_price));return(0,i.jsxs)("div",{className:o.default.discountPrice,children:[(0,i.jsx)("span",{className:o.default.prefix,children:d.discount_price.prefix}),(0,i.jsx)("span",{className:o.default.symbol,children:"￥"}),(0,i.jsxs)("span",{className:o.default.amount,children:[e,t&&(0,i.jsxs)("span",{className:o.default.decimal,children:[".",t]})]}),(0,i.jsx)("span",{className:o.default.suffix,children:d.discount_price.suffix})]})};return u?null:(0,i.jsxs)("div",{className:a()(o.default.priceLine,r),children:[(0,i.jsxs)("div",{className:o.default.priceContainer,children:[(0,i.jsxs)("div",{className:o.default.combine,children:[(null==d?void 0:d.price)&&c(),!!(null==d?void 0:null===(l=d.market_price)||void 0===l?void 0:l.min_price)&&(0,i.jsxs)("div",{className:o.default.marketPrice,children:[(0,i.jsx)("span",{className:o.default.prefix,children:d.market_price.prefix}),(0,i.jsx)("span",{className:o.default.symbol,children:"￥"}),(0,i.jsx)("span",{className:o.default.amount,children:d.market_price.min_price}),(0,i.jsx)("span",{className:o.default.suffix,children:d.market_price.suffix})]})]}),!!(null==d?void 0:null===(n=d.discount_price)||void 0===n?void 0:n.min_price)&&v()]}),(null==d?void 0:d.sale_num_v2)?(0,i.jsx)("div",{className:o.default.sales,children:null==d?void 0:d.sale_num_v2}):null]})};t.Z=d},938520:function(e,t,l){"use strict";l.d(t,{Z:function(){return o}});var i=l("563097");l("88648");var n=l("225"),a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAfCAYAAADwbH0HAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAT1SURBVHgBxVfrThtXED57822j2g7BBmyKiwqCGKiqurgkkepIFWoJVGrV/qjyo+IN0idweQFeAVWKVClBTSskWpFKhSZtaoLUFNtIxSkYxSbYsbAhrG97686a3fiyaxv+5JMs79mdc76ZOTNz5iD0moCJooih1wBS+uHojJidm6NSoZABnp1+f3khGGTRGQEWE62EgOjh7SVXic+7eE6wSdPoWgmcIUgxZyQsyVhsI47aQFNiIFz7bnGwUGYHcRyjUFvAGSOJx3d2wlF0HuJh/0e24+eJq4p1giCyBEFkSSO+77Q70x0dBtm9e5mCpVx4SZeOJG8g0fVqBYLpHXlz9a/lZaZtYq/3muvwKDOuWGm0WKJff/XpdrDJXvI8j6anZ+itWGqAK+cH5cUxkbW/4QyFw2v7LYkrliYnKyOccXd3/xEK/ZpDbaKiwDS9Gd0NKN5yd7tW6teoIf5gaop+Ftk5nYAz74z0rS7XuUrZdw7xNoHHKBLD97su9yarXVpPDpa7vf0r1TI1xG7P2LgosB49UvBGLpm43hhoBHPR2vF3tUsV8ifh3UmQxzA8ndiLrirf1Ry+7PM5KqQIWazmaD0peEMhhUAzG6htCqfiCImSHE9nj1N+kFFVIQh0796PDG13hGAsioJjZOR6ZwPxcaYsk+IEno2FG3MxsZXwVizFmXfH+leePt18Eo9vro9531oFcqkAUs+3EwPVc0wmI1pf+2kfrIVx7mXaW0M8OztHKdaaLphjSAMCz1vhnzbhsWpvLC4uMpSJlOdwZcFVP89kMiGzwRyvjHg7xIhKHAov2RXBa1/MJLWIcRzJqcRTRs28lJUTRVaLeGLiE3lN8Mrvd5ccKnHxsCT7HlyiV3fHvH2PIS3+i27UKFYolFC5IPbBM0kK+UaFMTQ//w0ringWxkS5JMcBKWsqcPIAwwUO6UArrdbvLDmOTgoDGCbIHrPSXf9qzSVJAhkI4YgVkJ1lcatKrAogQwm1AYiJX+5/P12dVkbSEo1EfnuB2gSJzoFUKmRQSGF7bE5HNLKuTyrVCiSAvCCq7yrpZCDlclbkODs6I2Dvm5GqxLyiaCUOZGLadkneeBwTbEq4twtoBJp9l4oNunVrnoICAmOL5VJaJR73BnJQjeAZDnzUAhBoFiu9Dr9W3UexWESPHv2srvn+lwHZu/IeLywEWXffnSxoVSgXPNKrOGoBvXyvRz5fQEwRIl/aUcKwqyiqBpdVCpDcwYEDyEdHP+zROkMV+Hw+e/LgJCCVYzRyd/WhXjQD6cTEpEdJN5q+GFe+qbU6KgWIUlPrC349Dg9LPRDVUIny+YxDS4aTTqfA55/R+dKJXJ/B2moFazpMiFDYa1jwWWQvoEfe2elMwsEAskNDvXEt0is3btDJrXigcrYTzPCwa6tapqED8UtnbqKqA+mVzmW9vkkLLMuisasf248PkldOOxBRKrX3m3YgCt6W9pjJpvxKkSAxarvb6441U0A6INBs8Fvqwe0fBkscJ7tXEFC5o+vS48jGg4ZA1O0ypyQ3/6O2QRUQJJaE3pmiUN7jcchKpNNpQyZT6uREoUfqOuyvyihx4u7u+lOvX2vZ0PcPvect5RlPYxOvY7mAWPMFy3arrrStmwRgYNTnqfTOWjcJkTEQxjRFUS9u3pxJBtu40rRNXI05qayGTu9OfqlkBs9xd/ofetyRoYJM9K4AAAAASUVORK5CYII=",o=e=>{let{priceExtraList:t}=e;return(0,i.jsx)("div",{className:n.default.priceExtra,children:null==t?void 0:t.map((e,t)=>(0,i.jsx)("div",{className:n.default.item,children:(0,i.jsxs)("div",{className:n.default.block,children:[(0,i.jsx)("span",{className:n.default.text,children:null==e?void 0:e.text},t),(null==e?void 0:e.url)&&(0,i.jsx)("img",{src:a,className:n.default.icon})]})},t))})}},744164:function(e,t,l){"use strict";l.d(t,{Z:function(){return w}});var i=l("520739");l("874386"),l("268917");var n=l("563097"),a=l("88648"),o=l("713097"),s=l.n(o),d=l("645260"),r=l.n(d),u=l("175018"),c=l("435897"),v=l("907863"),m=l("803887"),f=l("908291"),p=l("987816"),h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN/SURBVHgB7ZhLTBNBHIf/M7ttLSJUQQkBaRQfwSiCB/Rg4EQ8lUg8oyYCB4PxQjQxGELgIjcDKhGJBLx5IPQoF6maiK9YYhRDStIGYxQfpS2Q0u6OO5VqqfuY3S4EE75k2bQ7s3z97czszABsYi6IEILpGTY2hJf+4JVjIyNudME/8GAiM4OXnbAUcUW8r+YtOQWesu5HfjAJ2kaTj9+Y3J3maiEWrUNA6ggBJ/0u8vZF8vaTGONxbMtyH7n90gPGEXWL+oY7HDgccAkxoY4gUg2EONLL/BVNAUEQCOfhbLzbQNpsoonU4ss1IEpiQA91ZEX/QUqb50axxe5hSFteNJlaLB6vkcYtl1xqmYumOiM/IOzhLDb31sLDntL2oWBaCflej8Ozrngsdk/6FQ16JQ1BiBNEoUGILj5c+Ox1yRX5b4anTVGz2RRVgsvaBtkHq8CaX6SrnqmvUC2o3P6rQ4nz8rdPMNV+GoTFMFPddUs0VTL52V5Sxlx/XUTTJSk00cgU+4thzUWVJKdvnAU96Gqjlpx8KKhtAntxGfx4PgLfJ0bAqCQ960E2UQFgXv4fOxOSlB0n6iHveD2YLom4ILCKYrDKTsHE5YVVn5VkM0lSxPYAyDrJQAp3yYouzU7Bl7G7oCZLm0cmj7vi1jMvsIqW1rdL8SPZOWLo/VNFWSpZfOaaYUmE0LjSNcXOhDk8LgpCtZIspaC2eZWso/IUSMsOQ5K/RfGk0jXF4QlxdtVZt1yymUhSyBbHsNI11aXI9M1zY1pLj5xDJ1cla1RSUvFX3v9wQOGi+rqe4/lR0CA92VhoztA4yfHWTrXrqon6RjocYmDmo5Sq5nLEtrNEOpwQ8b2G0MRj0IdqmhT1RGnv5zlrKzAQnQtI6T4BMboIetFKk6L5rt/T0j+sNFSZAcJovLzfO6xVjmlSwuUWNEq3DILpIL8tb3cTS0km0b3nu/3IYmW6oR44m72VdceEeZq372K/G3MWzbbECub5zvK+N27m8qCD0paBLjNkqeTR/ndduuqAThKy2NJqsM0GOZutUa8kxdAMv/TSQI/UwaqkbUYdO3LIb9meX1vep93DZWtnuj/q673QJgqx66nfpW2SBaVH3ZNdfKxXZvOLFTFjUcrM4BWnGP7aRkRSR99iK6JmCJormoQKo8jP6tDkRG52UcUDEwSTmCu6hoi/AI1CpQCI7qqSAAAAAElFTkSuQmCC",g=l("410594");let _=e=>{var t,l;let{paramsList:i=[],horizontalStyle:a=!1,className:o}=e;return(0,n.jsx)("div",{className:s()(f.default.container,o),children:null==i?void 0:null===(l=i.slice(0,1))||void 0===l?void 0:null===(t=l.map)||void 0===t?void 0:t.call(l,(e,t)=>{var l,i,o,d;return(0,n.jsxs)("div",{className:s()(f.default.item,{[f.default.horizontalItem]:a}),children:[(null==e?void 0:e.group_name)&&(0,n.jsxs)("div",{className:f.default.title,children:[(0,n.jsx)("span",{className:f.default.name,children:null==e?void 0:e.group_name}),(0,n.jsxs)("span",{className:f.default.count,children:["x ",null==e?void 0:e.combining_num]})]}),(0,n.jsx)("div",{className:s()(f.default.content,{[f.default.horizontalContent]:a}),children:null==e?void 0:null===(d=e.format)||void 0===d?void 0:null===(o=d.slice)||void 0===o?void 0:null===(i=o.call(d,0,5))||void 0===i?void 0:null===(l=i.map)||void 0===l?void 0:l.call(i,(e,t)=>{var l,i;return(0,n.jsxs)("div",{className:f.default.row,children:[(0,n.jsx)("span",{className:f.default.key,children:null==e?void 0:e.name}),(0,n.jsxs)("div",{className:f.default.value,children:[null==e?void 0:null===(i=e.message)||void 0===i?void 0:null===(l=i.map)||void 0===l?void 0:l.call(i,(t,l)=>{var i,a,o,d;return(0,n.jsx)("div",{className:s()(f.default.desc,{[f.default.descMarginTop0]:0===l}),children:(0,n.jsxs)("span",{className:f.default.text,children:[0===l&&(null==e?void 0:null===(a=e.logo)||void 0===a?void 0:null===(i=a.url_list)||void 0===i?void 0:i[0])&&(0,n.jsx)("img",{className:f.default.icon,src:null==e?void 0:null===(d=e.logo)||void 0===d?void 0:null===(o=d.url_list)||void 0===o?void 0:o[0]}),null==t?void 0:t.desc]})},l)}),!!((null==e?void 0:e.context)||(null==e?void 0:e.certification_url))&&(0,n.jsxs)("div",{className:f.default.intro,children:[(null==e?void 0:e.context)&&(0,n.jsxs)("div",{className:f.default.type,children:[(0,n.jsx)("img",{className:f.default.icon,src:h}),(0,n.jsx)("span",{className:f.default.text,children:null==e?void 0:e.context})]}),(0,g.j)(null==e?void 0:e.certification_url)&&(0,n.jsxs)("div",{className:f.default.certification,children:[(0,n.jsx)("a",{className:f.default.text,href:null==e?void 0:e.certification_url,target:"_blank",rel:"noreferrer",children:"查看资质"}),(0,n.jsx)("img",{className:f.default.icon,src:p})]})]})]})]},t)})})]},t)})})};var x=l("479962"),j=l("67145"),b=l.p+"media/shield.ea9987e3656e819d.png";let N=e=>{let{certificateInfo:t,className:l,onCertificationClick:i}=e;return(0,n.jsxs)("div",{className:s()(x.default.certificateBar,l),children:[(0,n.jsxs)("div",{className:x.default.left,children:[(0,n.jsx)("img",{className:x.default.greenCheckIcon,src:j}),(0,n.jsx)("div",{className:x.default.desc,children:null==t?void 0:t.certificateDesc})]}),(0,g.j)(null==t?void 0:t.certificateDetailPageUrl)?(0,n.jsx)("a",{href:null==t?void 0:t.certificateDetailPageUrl,target:"_blank",rel:"noreferrer",className:x.default.right,children:"查看报告"}):(0,n.jsx)("div",{onClick:i,className:x.default.right,children:"查看报告"}),(0,n.jsx)("img",{className:x.default.shieldIcon,src:b})]})},y=e=>{var t,l,o,d,f,p;let{titleImage:h,certificateInfo:g,lovelyInfo:x,detailInfo:j,container:b,isHidePcPay:y,paramListHorizontal:w=!1,className:A,paramsClassName:C}=e,{skus:I,productFormats:k,productFormat:S,combiningProperties:E,tagCard:P}=(0,a.useMemo)(()=>({combiningProperties:r()(j,"combining_properties"),tagCard:r()(j,"tag_card"),productFormat:r()(j,"product_format"),skus:r()(j,"combining_properties.skus",[]),productFormats:r()(j,"combining_properties.product_formats",{})}),[j]),[R,M]=(0,a.useState)(0),[T,D]=(0,a.useState)((null==I?void 0:null===(t=I[0])||void 0===t?void 0:t.id)||""),[B,L]=(0,a.useState)(),F=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=[];if(E){var t,l;let n=(null==I?void 0:I.length)===1?null==I?void 0:I[0]:null==I?void 0:null===(t=I.find)||void 0===t?void 0:t.call(I,e=>(null==e?void 0:e.id)===T),a=null==n?void 0:n.sub_products;null==a||null===(l=a.forEach)||void 0===l||l.call(a,t=>{var l;return null==e?void 0:null===(l=e.push)||void 0===l?void 0:l.call(e,(0,i._)({combining_num:null==t?void 0:t.combining_num},null==k?void 0:k[null==t?void 0:t.product_id]))})}else e=S;L(e)},[E,T,S,k,I]);let O=(0,a.useCallback)(()=>{y&&u.F.info("「立即购买」扫码查看详情",b)},[b,y]),U=(0,a.useCallback)(e=>{y&&u.F.info("「立即购买」扫码查看详情",b)},[b,y]);return h||(null==P?void 0:null===(o=P.tag_img)||void 0===o?void 0:null===(l=o.url_list)||void 0===l?void 0:l.length)>0||g||(null==x?void 0:x.lovelyDesc)||(null==B?void 0:B.length)?(0,n.jsxs)("div",{className:s()(c.default.container,A),children:[!!h&&!w&&(0,n.jsx)("img",{className:c.default.titleImg,src:h}),!!g&&(0,n.jsx)(N,{certificateInfo:g,onCertificationClick:O}),!!(null==x?void 0:x.lovelyDesc)&&(0,n.jsx)(v.p,{lovelyInfo:x}),!!(null==B?void 0:B.length)&&(0,n.jsxs)("div",{className:s()(c.default.params,C),ref:F,children:[(0,n.jsx)("div",{className:s()(c.default.title,{[c.default.horizontalTitle]:w}),children:"产品参数"}),(null==I?void 0:I.length)>1&&(0,n.jsx)(m.O,{showPicTag:!!(null==I?void 0:null===(p=I[0])||void 0===p?void 0:null===(f=p.pic)||void 0===f?void 0:null===(d=f.url_list)||void 0===d?void 0:d[0]),skus:I,activeIndex:R,onTabClick:e=>{let{index:t,id:l}=e;M(t),D(l)}}),(0,n.jsx)(_,{horizontalStyle:w,paramsList:B,onCertificationClick:U})]})]}):null};var w=(0,a.memo)(y)},716185:function(e,t,l){"use strict";l.d(t,{Z:function(){return P}});var i=l("520739"),n=l("878389");l("874386");var a=l("563097"),o=l("88648"),s=l("756560"),d=l("46195"),r=l("950773"),u=l("586989"),c=l("607293"),v=l("713097"),m=l.n(v),f=l("736712"),p=(0,o.memo)(e=>{let t=(0,o.useRef)(null),{title:l,closePopup:i,isShow:n}=e||{};return(0,a.jsxs)("div",{className:m()(f.default.popup,{[f.default.show]:n}),children:[(0,a.jsxs)("div",{className:m()(f.default.wrapper,{[f.default.show]:n}),ref:t,children:[(0,a.jsx)("div",{className:f.default.title,children:l}),(0,a.jsx)("div",{className:f.default.content,children:null==e?void 0:e.children}),(0,a.jsx)("div",{onClick:i,className:f.default.closeBtn})]}),(0,a.jsx)("div",{className:f.default.overlay,onClick:i})]})}),h=l("197880"),g=(0,o.memo)(e=>{let{title:t,popupContentList:l,isShow:i,closePopup:n,popupTitle:o,openQualification:s}=e;return(0,a.jsx)(p,{title:t,isShow:i,closePopup:n,children:(0,a.jsx)(h.Z,{safetyTitle:o,safetyContentList:l,openQualification:s})})}),_=l("595196"),x=l("645260"),j=l.n(x),b=l("175018"),N=l("68498"),y=l("721963"),w=l("745376"),A=l("360585"),C=l("754752"),I=e=>{let{skuInfo:t,onClick:l,promotionId:i,productId:n,awemeId:s,authorId:d,logParams:r,entranceInfo:u,qrcodeMetaParams:c,footerData:v,canPay:m,listCantBuyReason:f,container:p,scrollWrapContainer:h}=e,g=(0,o.useRef)(),_=f&&!m,{specInfo:x,specList:I,canShowbuynow:k,bigBtn:S,alertInfo:E,bigBtnText:P}=(0,o.useMemo)(()=>{let e=j()(v,"big_button_list[0]",{});return{alertInfo:j()(v,"alert_info_v2",null),specInfo:j()(t,"specs[0]"),specList:j()(t,"specs[0].spec_items"),canShowbuynow:m&&(null==e?void 0:e.button_status)!=="disable",bigBtnText:j()(v,"big_button_list[0].text_info.content","立即购买"),bigBtn:e}},[t]),[R,M]=(0,o.useState)(!1),{isQrCodeBottom:T,computeQrCodePlace:D}=(0,C.Z)({targetElement:g.current,scrollWrapContainer:h}),B=(0,o.useCallback)(()=>{if((null==S?void 0:S.button_status)==="disable"){(null==E?void 0:E.text)&&b.F.info(null==E?void 0:E.text,p);return}k&&((0,A.vZ)(),null==l||l())},[S,k,l,P,f,E,p]);return(0,a.jsxs)("div",{className:N.default.container,onClick:B,onMouseEnter:()=>{M(!0),k||D()},onMouseLeave:()=>{M(!1)},ref:g,children:[(0,a.jsx)("div",{className:N.default.title,children:"选择"}),(0,a.jsx)("div",{className:N.default.specList,children:null==I?void 0:I.map(e=>(0,a.jsx)("div",{className:N.default.specItem,children:e.name},e.id))}),(0,a.jsxs)("div",{className:N.default.suffix,children:[(0,a.jsxs)("div",{className:N.default.tip,children:["共",I.length,"种",x.name,"可选"]}),(0,a.jsx)("img",{src:y,className:N.default.arrow})]}),(0,a.jsx)(w.Z,{promotionId:i,productId:n,authorId:d,awemeId:s,logParams:r,entranceInfo:u,qrcodeMetaParams:c,isShowProps:R&&!k&&(null==S?void 0:S.button_status)!=="disable"&&!_,className:T?N.default.qrcodeBottom:N.default.qrcode,source:"purchase_button",clickPosition:"product_detail"})]})},k=l("439037"),S=l("689913"),E=l("74205"),P=(0,o.memo)(e=>{let{safety_content:t,reward_content:l,logistics_content:v,container:m,shopId:f,canUseArea:p,unUseArea:h,getCouponList:x,isHidePcPay:j,skuInfo:b,footerData:N,onClickSku:y,canPay:w,scrollWrapContainer:A}=e||{},[C,P]=(0,o.useState)(!1),[R,M]=(0,o.useState)(!1),[T,D]=(0,o.useState)(""),{logParams:B,productId:L,couponModalVisible:F,handleCouponModalVisible:O,promotionId:U,awemeId:Z,authorId:W,entranceInfo:z,qrcodeMetaParams:q,roomId:G,userId:H,handleCouponReceived:V}=(0,o.useContext)(E.k),J=(0,o.useMemo)(()=>(0,n._)((0,i._)({},B),{EVENT_ORIGIN_FEATURE:"TEMAI",product_id:L}),[B,L]),Y=()=>{P(!0)},Q=()=>{P(!1)},K=e=>{let{isShow:t,id:l}=e;M(t),D(l)};(0,o.useEffect)(()=>(R&&(0,s.o)({pauseCustomShortcut:!0,pauseGlobalShortcut:!0,pausePlayControlShortcut:!0},"ecom/shop/qualification"),()=>{(0,s.m)("ecom/shop/qualification")}),[R]);let X=()=>{null==y||y()};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:d.default.productSupport,children:[t&&(0,a.jsx)(r.Z,(0,n._)((0,i._)({},t),{logParams:J,showPopup:Y})),b&&(0,a.jsx)(I,{container:m,canPay:w,footerData:N,qrcodeMetaParams:q,entranceInfo:z,logParams:J,skuInfo:b,onClick:X,promotionId:U,productId:L,awemeId:Z,authorId:W,scrollWrapContainer:A}),l&&(0,a.jsx)(u.Z,(0,n._)((0,i._)({},l),{logParams:J,container:m,showCouponModal:()=>O(!0),isHidePcPay:j})),v&&(0,a.jsx)(c.Z,(0,i._)({},v))]}),(0,a.jsx)(g,{title:"保障说明",isShow:C,closePopup:()=>Q(),popupContentList:null==t?void 0:t.safety_popup_content,popupTitle:null==t?void 0:t.safety_popup_title,openQualification:K}),F&&(0,a.jsx)(k.Z,{shopId:f,onClose:()=>O(!1),canUseArea:p,unUseArea:h,getCouponList:x,authorId:W,roomId:G,logParams:J,userId:H,onCouponReceived:V}),R&&(0,a.jsx)(S.Z,{onClose:()=>K({isShow:!1}),className:d.default.modalContainer,title:"商家资质",children:(0,a.jsx)(_.Z,{id:T})})]})})},586989:function(e,t,l){"use strict";l.d(t,{Z:function(){return h}});var i=l("520739");l("250440");var n=l("563097"),a=l("88648");l("874386");var o=l("38127"),s=l("955050"),d=l("404125"),r=l("644704"),u=l("726723"),c=l("537128");let v=e=>{let{item:t,style:l}=e;if(null==t?void 0:t.banner_info){var a,o,r;return(0,n.jsxs)("div",{className:s.default.banner,style:(0,i._)({backgroundColor:null==t?void 0:null===(a=t.banner_info)||void 0===a?void 0:a.background},l),children:[(0,n.jsxs)("div",{className:s.default.left,children:[(0,n.jsx)("img",{className:s.default.icon,src:null==t?void 0:null===(o=t.banner_info)||void 0===o?void 0:o.icon}),(0,n.jsx)("span",{className:s.default.text,children:null==t?void 0:null===(r=t.banner_info)||void 0===r?void 0:r.text})]}),(0,n.jsx)("img",{className:s.default.arrow,src:d})]})}},m=e=>{var t,l,d,v,m,f,p,h;let{item:g,style:_}=e,x=(0,r.Z)({maxWidth:58}),j=(0,u.Z)({ratio:882/156}),[b,N]=(0,a.useMemo)(()=>{var e;let t=null==g?void 0:null===(e=g.coupon_info)||void 0===e?void 0:e.end_time,l="number"==typeof t;if(!t||!l)return[0,l];let i=1e3*Number(t)-new Date().getTime();return[i>0?i:0,l]},[null==g?void 0:null===(t=g.coupon_info)||void 0===t?void 0:t.end_time]),y=(0,a.useMemo)(()=>{var e,t;return!!((null==g?void 0:null===(e=g.coupon_info)||void 0===e?void 0:e.end_time)||(null==g?void 0:null===(t=g.coupon_info)||void 0===t?void 0:t.count_down))},[null==g?void 0:null===(l=g.coupon_info)||void 0===l?void 0:l.end_time,null==g?void 0:null===(d=g.coupon_info)||void 0===d?void 0:d.count_down]);if(null==g?void 0:g.coupon_info)return(0,n.jsxs)("div",{ref:j,style:(0,i._)({backgroundImage:`url(${o})`},_),className:s.default.couponInfo,children:[(0,n.jsx)("div",{className:s.default.head,children:(0,n.jsxs)("div",{ref:x,className:s.default.container,children:[(0,n.jsx)("div",{className:s.default.num,children:null==g?void 0:null===(v=g.coupon_info)||void 0===v?void 0:v.credit}),(0,n.jsx)("div",{className:s.default.desc,children:"元"})]})}),(0,n.jsxs)("div",{className:s.default.couponContent,children:[(0,n.jsx)("div",{className:s.default.top,children:null==g?void 0:null===(m=g.coupon_info)||void 0===m?void 0:m.name}),(0,n.jsxs)("div",{className:s.default.bottom,children:[(0,n.jsx)("span",{children:null==g?void 0:null===(f=g.coupon_info)||void 0===f?void 0:f.pre_msg}),y&&(0,n.jsx)("span",{className:s.default.time,children:N?(0,n.jsx)(c.Z,{time:b}):null==g?void 0:null===(p=g.coupon_info)||void 0===p?void 0:p.count_down}),(0,n.jsx)("span",{className:s.default.after,children:null==g?void 0:null===(h=g.coupon_info)||void 0===h?void 0:h.aft_msg})]})]})]})};var f=l("596803"),p=l("318356"),h=(0,a.memo)(e=>{let{title:t,content_list:l=[],container:a,logParams:o={},showCouponModal:d,isHidePcPay:r}=e||{},u=(e,t)=>(null==e?void 0:e.render_type)===f.BF.RewardRenderTypeBanner?(0,n.jsx)(v,{item:e},t):(null==e?void 0:e.render_type)===f.BF.RewardRenderTypeCoupon?(0,n.jsx)(m,{item:e},t):null,c=()=>{(0,p.qP)("clickProductDetailPromotion",(0,i._)({},o)),null==d||d()};return(null==l?void 0:l.length)?l.some(e=>[f.BF.RewardRenderTypeBanner,f.BF.RewardRenderTypeCoupon].includes(null==e?void 0:e.render_type))?(0,n.jsxs)("div",{className:s.default.reward,onClick:c,children:[(0,n.jsx)("div",{className:s.default.title,children:(0,n.jsx)("div",{className:s.default.text,children:t||"活动"})}),(0,n.jsx)("div",{className:s.default.content,children:null==l?void 0:l.map((e,t)=>u(e,t))})]}):null:null})},572083:function(e,t,l){"use strict";var i=l(563097),n=l(88648),a=l(713097),o=l.n(a),s=l(551595),d=l(66865);let r=e=>{let{className:t,wrapperStyle:l,contentList:n}=e||{};function a(){var e;return null==n?void 0:null===(e=n.map)||void 0===e?void 0:e.call(n,(e,t)=>{let{type:l,text:n,linkUrl:a,fontSize:o,color:s,backgroundColor:r,contentStyle:u}=e||{},c=u||{fontSize:o,color:s,backgroundColor:r},v=null;return l===d.XH.text?v=(0,i.jsxs)("span",{style:c,children:[n," "]},t):l===d.XH.linkText&&(v=(0,i.jsx)("a",{style:c,href:a,children:n},t)),v})}return(0,i.jsx)("p",{className:o()(s.default.container,t),style:l,children:a()})};t.Z=(0,n.memo)(r)},998803:function(e,t,l){"use strict";var i=l(563097),n=l(88648),a=l(197880),o=l(689913);let s=(0,n.memo)(e=>{let{title:t,popupContentList:l,isShow:n,closePopup:s,popupTitle:d,openQualification:r}=e;return n?(0,i.jsx)(o.Z,{title:t,onClose:s,children:(0,i.jsx)(a.Z,{safetyTitle:d,safetyContentList:l,openQualification:r})}):null});t.Z=s},282222:function(e,t,l){"use strict";l(874386),l(779788);var i=l(563097),n=l(88648),a=l(379788),o=l(166218);let s=(0,n.memo)(e=>{let{className:t,isShowProps:l,qrcodeParams:s={},userId:d,hasHoverSpace:r=!0}=e,[u,c]=(0,n.useState)(""),v=(0,n.useCallback)(async()=>{let e="1",t="";try{t=encodeURIComponent(encodeURIComponent(JSON.stringify(s)))}catch(e){}let l=await (0,a.ep)(e,{schema:`share_scene=aweme_customer_service_dialog&schema_type=57&object_id=${e}&meta_params=${t}`});if((null==l?void 0:l.statusCode)===0){let{qrcodeUrl:e}=l||{};c(e)}},[d,s]);return(0,n.useEffect)(()=>{!u&&l&&v()},[l,u]),(0,n.useEffect)(()=>{v()},[s]),(0,i.jsx)(o.Z,{hasHoverSpace:r,isShowProps:l,className:t,qrCodeUrl:u,onRefresh:v,tips:"请打开抖音APP扫描二维码 去咨询客服"})});t.Z=s},134159:function(e,t,l){"use strict";var i=l(563097);l(88648);var n=l(278157);let a=e=>{let{score:t}=e||{};return(0,i.jsxs)("div",{className:n.default.score,children:[(0,i.jsx)("span",{className:n.default.text,children:t}),[1,2,3,4,5].map(e=>{let l="grey";return t>=e?l="all":t<e&&t>e-1&&(l="half"),(0,i.jsx)("div",{className:n.default.item,children:(0,i.jsx)("div",{className:n.default[`${l}Star`]})},e)})]})};t.Z=a},666472:function(e,t,l){"use strict";l.d(t,{Z:function(){return N}});var i=l("520739");l("874386"),l("602157"),l("413806"),l("826893");var n=l("563097"),a=l("88648"),o=l("645260"),s=l.n(o),d=l("645003"),r=l("583618"),u=l("134159"),c=l("125648"),v=e=>{let{attention_num:t,sale_num:l,sub_score:i}=e||{};return(0,n.jsxs)("div",{className:c.default.subScore,children:[(0,n.jsxs)("div",{className:c.default.container,children:[(0,n.jsx)("div",{className:c.default.topNum,children:t||"暂无"}),(0,n.jsx)("div",{className:c.default.bottomTitle,children:"关注人数"})]}),(0,n.jsx)("div",{className:c.default.split}),(0,n.jsxs)("div",{className:c.default.container,children:[(0,n.jsx)("div",{className:c.default.topNum,children:l||"暂无"}),(0,n.jsx)("div",{className:c.default.bottomTitle,children:"店铺销量"})]}),(0,n.jsx)("div",{className:c.default.split}),(0,n.jsx)("div",{className:c.default.container,children:(0,n.jsx)("div",{children:null==i?void 0:i.map((e,t)=>(0,n.jsxs)("div",{className:c.default.subContainer,children:[(0,n.jsx)("span",{className:c.default.title,children:e.title}),(0,n.jsx)("span",{className:c.default.score,children:e.score}),(0,n.jsx)("span",{className:c.default.level,children:e.level})]},t))})})]})},m=l("662711"),f=e=>{let{scoreColloquial:t}=e||{};return(0,n.jsx)("div",{className:m.default.scoreColloquial,children:null==t?void 0:t.map((e,t)=>(0,n.jsxs)("div",{className:m.default.container,children:[(0,n.jsxs)("div",{className:m.default.top,children:[(0,n.jsx)("span",{children:e.title}),e.great_icon&&(0,n.jsx)("img",{src:e.great_icon,className:m.default.img})]}),(0,n.jsx)("div",{className:m.default.bottom,children:e.description||"暂无描述"}),0!==t&&(0,n.jsx)("div",{className:m.default.split})]},t))})},p=l("945265"),h=l("722849"),g=l("318356"),_={ShopStatusIconTypeLive:1,1:"ShopStatusIconTypeLive",ShopStatusIconTypeDou:2,2:"ShopStatusIconTypeDou"},x=l("745376"),j=l("74205"),b=l("754752"),N=(0,a.memo)(e=>{let{basic_info:t,scrollWrapContainer:l}=e||{},{shop_logo:o,shop_name:c,shop_link_button:m,brand_icon:N,new_brand_icon:y,grade_info:w,shop_icon_list:A,background:C,account_name:I,status_icon_info:k,score_colloquial:S,shop_extra_info:E,shop_score_info:P,promotion_info:R,shop_ranking:M}=(0,a.useMemo)(()=>({shop_logo:s()(t,"shop_logo"),shop_name:s()(t,"shop_name"),shop_link_button:s()(t,"shop_link_button"),brand_icon:s()(t,"brand_icon"),new_brand_icon:s()(t,"new_brand_icon"),grade_info:s()(t,"grade_info"),shop_icon_list:s()(t,"shop_icon_list",[]),background:s()(t,"background",""),account_name:s()(t,"account_name",""),account_url:s()(t,"account_url",""),status_icon_info:s()(t,"status_icon_info"),score_colloquial:s()(t,"score_colloquial"),shop_extra_info:s()(t,"shop_extra_info"),shop_score_info:s()(t,"shop_score_info"),promotion_info:s()(t,"promotion_info"),shop_ranking:s()(t,"shop_ranking")}),[t]),{logParams:T,promotionId:D,productId:B,authorId:L,awemeId:F,entranceInfo:O,qrcodeMetaParams:U}=(0,a.useContext)(j.k),[Z,W]=(0,a.useState)(!1),z=A&&(null==A?void 0:A.length)>0,q=E&&(null==E?void 0:E.length)>0,G=M&&(M.rank_icon||M.text)&&M.url,H=R&&(null==R?void 0:R.length)>0,V=(0,d.x)(()=>{}),J=(0,d.x)(()=>{}),{computeQrCodePlace:Y,isQrCodeBottom:Q}=(0,b.Z)({scrollWrapContainer:l.current,targetElement:V.current}),K=e=>{let{e:t,source:l,iconType:i,link:n}=e;(!i||i===_.ShopStatusIconTypeDou)&&t.stopPropagation(),(0,h.Y)(n)};return(0,n.jsxs)("div",{className:p.default.shop,style:{backgroundImage:`url(${C||""})`},ref:V,children:[(0,n.jsxs)("div",{className:p.default.shopContent,onClick:e=>K({e,source:"entry"}),children:[(0,n.jsxs)("div",{className:p.default.logo,children:[(0,n.jsx)(r.x,{mainStyle:{borderRadius:"50%",overflow:"hidden"},iconWidth:40,iconHeight:40,src:o}),k&&(0,n.jsx)("img",{className:p.default.liveIcon,src:k.icon})]}),(0,n.jsxs)("div",{className:p.default.basicInfo,children:[(0,n.jsxs)("div",{className:p.default.titleArea,children:[(0,n.jsx)("div",{className:p.default.name,children:c}),N&&(0,n.jsx)("img",{className:p.default.brand,src:N})]}),(0,n.jsxs)("div",{className:p.default.rateInfo,ref:J,children:[y&&(0,n.jsx)("img",{className:p.default.brand,src:y}),(null==w?void 0:w.score)&&(null==w?void 0:w.is_new_style)?(0,n.jsx)(u.Z,{score:null==w?void 0:w.score}):(0,n.jsx)("span",{className:p.default.noScore,children:(null==w?void 0:w.score)?`店铺评分${null==w?void 0:w.score}`:"暂无店铺评分"}),(null==w?void 0:w.desc)&&(0,n.jsxs)("div",{className:p.default.description,children:[(0,n.jsx)("span",{className:p.default.split}),w.desc]})]}),z&&(0,n.jsx)("div",{className:p.default.iconArea,children:null==A?void 0:A.map((e,t)=>(0,n.jsx)("div",{children:(0,n.jsx)("img",{className:p.default.iconItem,src:e})},t))}),q&&(0,n.jsx)("div",{className:p.default.extraInfo,children:null==E?void 0:E.map((e,t)=>(0,n.jsxs)("div",{className:p.default.text,style:{maxWidth:`${100/E.length}%`},children:[e,t!==E.length-1&&(0,n.jsx)("span",{className:p.default.split})]},t))})]}),(0,n.jsxs)("div",{className:p.default.jumpButton,style:{background:(null==m?void 0:m.background)||void 0},onClick:e=>K({e,source:"stroll"}),onMouseEnter:()=>{(0,g.qP)("clickProductDetailStore",(0,i._)({},T)),W(!0),Y()},onMouseLeave:()=>{W(!1)},children:[(null==m?void 0:m.text)||"进店",(0,n.jsx)(x.Z,{promotionId:D,productId:B,authorId:L,awemeId:F,logParams:T,entranceInfo:O,qrcodeMetaParams:U,isShowProps:Z,className:Q?p.default.qrcodeBottom:p.default.qrcode,source:"click_product_detail_store",clickPosition:"product_detail"})]})]}),P&&(0,n.jsx)(v,(0,i._)({},P)),S&&(0,n.jsx)(f,{scoreColloquial:S}),H&&(0,n.jsx)("div",{className:p.default.promotionContainer,children:null==R?void 0:R.map((e,t)=>(0,n.jsxs)("div",{className:p.default.promotionInfo,children:[(0,n.jsx)("div",{className:p.default.title,children:null==e?void 0:e.title}),(0,n.jsx)("div",{className:p.default.split}),(0,n.jsx)("div",{className:p.default.text,children:null==e?void 0:e.text})]},t))}),G&&(0,n.jsx)("div",{className:p.default.shopRanking,children:(0,n.jsxs)("div",{className:p.default.left,children:[(0,n.jsx)("img",{src:M.rank_icon,className:p.default.icon}),(0,n.jsx)("span",{className:p.default.text,children:M.text})]})}),I&&(0,n.jsx)("div",{className:p.default.accountInfo,children:(0,n.jsxs)("div",{className:p.default.accountName,children:[(0,n.jsx)("span",{className:p.default.title,children:"抖音号"}),(0,n.jsx)("span",{className:p.default.name,children:I})]})})]})})},595196:function(e,t,l){"use strict";l(874386),l(673554),l(784246);var i=l(563097),n=l(88648),a=l(713097),o=l.n(a),s=l(526425),d=l(513811);let r=(0,n.memo)(e=>{let{id:t}=e||{},[l,a]=(0,n.useState)(!1),[r,u]=(0,n.useState)([]);return(0,n.useEffect)(()=>{(async()=>{if(t){let e=await (0,s.fT)({id:t});if(0===e.statusCode){let t=(e.data||[]).filter(e=>e.show_business).map(e=>e.businessImgList).flat(2).filter(e=>"image"===e.type||void 0===e.type);t.length>0&&(a(!0),u(t))}}})()},[t]),(0,i.jsxs)("div",{className:o()(d.default.container),children:[l&&(0,i.jsx)("div",{className:d.default.desc,children:"根据国家相关政策要求对网站经营者资质信息公示如下："}),!l&&(0,i.jsx)("div",{className:d.default.desc,children:"该店铺属于依照《电子商务法》第十条规定不需要办理市场主体登记情形"}),(0,i.jsx)("div",{className:d.default.imgList,children:r.map(e=>{var t,l,n,a;return(0,i.jsxs)(i.Fragment,{children:[("image"===e.type||void 0===e.type)&&(0,i.jsxs)("div",{className:d.default.imgItem,children:[(0,i.jsx)("div",{className:d.default.imgItemDesc,children:e.title}),null===(l=e.imgs)||void 0===l?void 0:null===(t=l.map)||void 0===t?void 0:t.call(l,e=>(0,i.jsx)("img",{src:e,className:d.default.imgPic},e))]},e.title),"text"===e.type&&(0,i.jsxs)("div",{className:d.default.textItem,children:[(0,i.jsx)("div",{className:d.default.textKey,children:null==e?void 0:null===(n=e.content)||void 0===n?void 0:n[0]}),(0,i.jsx)("div",{className:d.default.textValue,children:null==e?void 0:null===(a=e.content)||void 0===a?void 0:a[1]})]})]})})}),l&&(0,i.jsx)("div",{className:o()(d.default.desc,d.default.top),children:"以上经营信息由卖家自行申报填写。 如需进一步核实,请联系当地工商行政管理部门。"})]})});t.Z=r},942712:function(e,t,l){"use strict";l.d(t,{Z:function(){return m}});var i=l("563097");l("88648");var n=l("713097"),a=l.n(n),o=l("110531"),s=()=>(0,i.jsx)("div",{className:o.default.container}),d=l("276373"),r=()=>(0,i.jsxs)("div",{className:d.default.container,children:[(0,i.jsx)("div",{className:d.default.price}),(0,i.jsx)("div",{className:d.default.title}),(0,i.jsxs)("div",{className:d.default.labelWrap,children:[(0,i.jsx)("div",{className:d.default.label1}),(0,i.jsx)("div",{className:d.default.label2})]})]}),u=l("644291"),c=()=>(0,i.jsxs)("div",{className:u.default.container,children:[(0,i.jsxs)("div",{className:u.default.line,children:[(0,i.jsx)("div",{className:u.default.short}),(0,i.jsx)("div",{className:u.default.long,style:{width:"calc(100% - 40px - 22px - 20%)"}})]}),(0,i.jsxs)("div",{className:u.default.line,children:[(0,i.jsx)("div",{className:u.default.short}),(0,i.jsx)("div",{className:u.default.long,style:{width:"calc(100% - 40px - 22px - 10%)"}})]}),(0,i.jsxs)("div",{className:a()(u.default.line,u.default.lastLine),children:[(0,i.jsx)("div",{className:u.default.short}),(0,i.jsx)("div",{className:u.default.long,style:{width:"calc(100% - 40px - 22px - 50%)"}})]})]}),v=l("958980"),m=e=>{let{className:t}=e;return(0,i.jsxs)("div",{className:a()(t),children:[(0,i.jsx)(s,{}),(0,i.jsx)(r,{}),(0,i.jsxs)("div",{className:v.default.main,children:[(0,i.jsx)(c,{}),(0,i.jsx)(c,{}),(0,i.jsx)(c,{})]})]})}},930846:function(e,t,l){"use strict";l(874386);var i=l(563097),n=l(88648),a=l(713097),o=l.n(a),s=l(713194);let d=e=>{var t,l;let{titleInfo:a}=e,d=(0,n.useRef)(),r=(0,n.useRef)(),[u,c]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{var e,t,l,i;let n=(null===(t=d.current)||void 0===t?void 0:null===(e=t.getBoundingClientRect())||void 0===e?void 0:e.height)||0;c(((null===(i=r.current)||void 0===i?void 0:null===(l=i.getBoundingClientRect())||void 0===l?void 0:l.height)||0)>n+20)},[]),(0,i.jsxs)("div",{className:s.default.titleInfo,ref:d,children:[null==a?void 0:null===(l=a.head_icons)||void 0===l?void 0:null===(t=l.map)||void 0===t?void 0:t.call(l,e=>(0,i.jsx)("img",{className:s.default.icon,src:e},e)),(0,i.jsx)("span",{className:o()(s.default.text,{[s.default.textOverflow]:u}),ref:r,title:u?null==a?void 0:a.title:"",children:null==a?void 0:a.title})]})};t.Z=d},38381:function(e,t,l){"use strict";l.d(t,{Z:function(){return c}});var i=l("563097"),n=l("88648"),a=l("520739"),o=l("878389");let s=(e,t)=>(0,i.jsx)("svg",(0,o._)((0,a._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,i.jsx)("path",{d:"M12.5 2.5h5v5M7.5 17.5h-5v-5M17.5 2.5l-5.416 5.417M7.917 12.086L2.5 17.503",stroke:"#fff",strokeWidth:1.667,strokeLinecap:"round",strokeLinejoin:"round"})}));var d=(0,n.forwardRef)(s);let r=(e,t)=>(0,i.jsxs)("svg",(0,o._)((0,a._)({width:56,height:56,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,i.jsxs)("g",{filter:"url(#zoom-out_svg__filter0_b_4267_253132)",fill:"#fff",children:[(0,i.jsx)("rect",{width:56,height:56,rx:28,fillOpacity:".1"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.335 26.666a2 2 0 1 0 0-4h-3.172l5.252-5.252a2 2 0 0 0-2.828-2.828l-5.252 5.251v-3.17a2 2 0 1 0-4 0v7.935a1.995 1.995 0 0 0 .585 1.479c.39.39.903.586 1.415.585h8zM26.666 31.387a1.994 1.994 0 0 0-.585-1.464 1.995 1.995 0 0 0-1.547-.581h-7.868a2 2 0 1 0 0 4h3.168l-5.248 5.248a2 2 0 0 0 2.828 2.828l5.252-5.252v3.176a2 2 0 1 0 4 0v-7.955z",fillOpacity:".75"})]}),(0,i.jsx)("defs",{children:(0,i.jsxs)("filter",{id:"zoom-out_svg__filter0_b_4267_253132",x:-77.778,y:-77.778,width:211.556,height:211.556,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,i.jsx)("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:38.889}),(0,i.jsx)("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_4267_253132"}),(0,i.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_backgroundBlur_4267_253132",result:"shape"})]})})]}));var u=(0,n.forwardRef)(r),c=e=>{let{className:t,onClick:l,type:n}=e;return"in"===n?(0,i.jsx)(d,{className:t,onClick:()=>{null==l||l()}}):(0,i.jsx)(u,{className:t,onClick:()=>{null==l||l()}})}},335540:function(e,t,l){"use strict";l.d(t,{Z:function(){return h}}),l("874386");var i=l("563097"),n=l("88648"),a=l("713097"),o=l.n(a),s=l("243150"),d=l("673200"),r=l("520739"),u=l("878389");let c=(e,t)=>(0,i.jsxs)("svg",(0,u._)((0,r._)({width:56,height:56,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,i.jsx)("rect",{width:56,height:56,rx:28,fill:"#F9F9FA"}),(0,i.jsx)("path",{d:"M28.001 41.33c7.364 0 13.334-5.969 13.334-13.333 0-7.363-5.97-13.333-13.334-13.333s-13.333 5.97-13.333 13.333c0 7.364 5.97 13.334 13.333 13.334z",stroke:"#333",strokeWidth:2,strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M28.005 20l-.001 8.006 5.653 5.653",stroke:"#333",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})]}));var v=(0,n.forwardRef)(c),m=l("480200"),f=l("537128");let p=e=>{let{className:t,price:l,countdown:n=-1}=e,[a,r]=(0,m.z)(l);return(0,i.jsxs)("div",{className:o()(t,d.default.container),children:[(0,i.jsx)(s.Z,{src:v,height:56,width:56,viewBox:"0 0 56 56",className:d.default.icon}),(0,i.jsxs)("div",{className:d.default.text,children:[(0,i.jsxs)("div",{className:d.default.mainTitle,children:["订单已提交，待付款",(0,i.jsxs)("span",{className:d.default.price,children:[(0,i.jsx)("span",{className:d.default.price2,children:"\xa5"}),a,(0,i.jsxs)("span",{className:d.default.price2,children:[".",r]})]})]}),(0,i.jsxs)("div",{className:d.default.subTitle,children:[n<0&&"一定时间内未付款将自动取消订单",n>=0&&(0,i.jsxs)("div",{children:["剩",(0,i.jsx)("span",{className:d.default.countdown,children:(0,i.jsx)(f.Z,{time:n})}),"支付关闭"]})]})]})]})};var h=(0,n.memo)(p)},458848:function(e,t,l){"use strict";l.d(t,{Z:function(){return w}});var i=l("563097"),n=l("88648"),a=l("713097"),o=l.n(a),s=l("934188"),d=l("781741"),r=l("645260"),u=l.n(r),c=l("634382"),v=l("874015"),m=e=>{let{shopInfo:t,recommendInfo:l}=e,{logo:a,shopName:o,brandTagUrl:s,nickName:d}=(0,n.useMemo)(()=>({nickName:u()(l,"nick_name",""),logo:u()(t,"shop_info.logo",""),shopName:u()(t,"shop_info.shop_name",""),brandTagUrl:u()(t,"shop_info.brand_tag_url","")}),[t,l]),r=(0,n.useCallback)(()=>{},[]);return(0,i.jsxs)("div",{className:v.default.container,children:[(0,i.jsxs)("div",{className:v.default.shop,onClick:r,children:[(0,i.jsx)("img",{className:v.default.logo,src:a}),(0,i.jsx)("span",{className:v.default.name,children:o}),s?(0,i.jsx)("img",{className:v.default.brand,src:s}):null]}),d?(0,i.jsxs)("div",{className:v.default.recommender,children:[(0,i.jsx)("div",{className:v.default.divider}),(0,i.jsxs)("span",{className:v.default.name,children:["@",d]}),(0,i.jsx)("span",{className:v.default.text,children:"推荐"})]}):null]})},f=l("668772"),p=l("367567"),h=l("978483"),g=l("733783"),_=e=>{let{activityTagIcon:t,isLimited:l,title:n}=e;return(0,i.jsxs)("div",{className:o()(g.default.container,{[g.default.disabled]:l}),children:[t?(0,i.jsx)("img",{src:t,className:g.default.icon}):null,(0,i.jsx)("span",{className:g.default.title,children:(n||"").trim()})]})},x=l("307307"),j=l("776138");let b=e=>{var t,l;let{className:n}=e,{productInfo:a,shopInfo:s,selectedSpecs:d,skuInfo:r,selectedSpecInfo:v}=(0,j.V)(e=>({productInfo:u()(e,"buyRenderPackData.productInfo"),selectedSpecs:u()(e,"skuStore.selectedSpecs"),selectedSpecInfo:u()(e,"buyRenderPackData.productInfo.spec_info"),skuInfo:u()(e,"skuStore.skuInfo"),shopInfo:u()(e,"buyRenderPackData.shopInfo"),skuStore:u()(e,"skuStore")}));return(0,i.jsxs)("div",{className:o()(n,c.default.container),children:[s&&(0,i.jsx)(m,{shopInfo:s,recommendInfo:null==a?void 0:a.recommender_info}),(0,i.jsxs)("div",{className:c.default.product,children:[(0,i.jsx)(h.S,{selectedSpecs:d,skuInfo:r,productInfo:a,scene:"pay"}),(0,i.jsxs)("div",{className:c.default.textMessage,children:[(0,i.jsx)(_,{title:null==a?void 0:a.title,activityTagIcon:null==a?void 0:null===(l=a.activity_tags)||void 0===l?void 0:null===(t=l[0])||void 0===t?void 0:t.icon,isLimited:null==a?void 0:a.is_limited}),(0,i.jsx)(f.Z,{selectedSpecInfo:v}),(0,i.jsx)(p.Z,{product:a}),(0,i.jsx)(x.Z,{serviceTags:(null==a?void 0:a.service_tags_v2)||[]})]})]})]})};var N=(0,n.memo)(b);let y=e=>{let{className:t,isShowDetailTip:l,orderId:n,orderTime:a}=e;return(0,i.jsxs)("div",{className:o()(t,s.default.container),children:[l&&(0,i.jsx)("div",{className:s.default.detailInfo,children:"可前往「抖音APP」商城查看订单详情"}),(0,i.jsx)(N,{}),(0,i.jsx)("div",{className:s.default.divider}),(0,i.jsx)(d.Z,{orderId:n,orderTime:a})]})};var w=(0,n.memo)(y)},924820:function(e,t,l){"use strict";var i=l(563097);l(88648);var n=l(243150),a=l(511739),o=l(269176);let s=()=>(0,i.jsxs)("div",{className:a.default.container,children:["手机将同步收到支付通知，点击立即支付",(0,i.jsxs)("div",{className:a.default.tip,children:[(0,i.jsx)(n.Z,{className:a.default.questionIcon,src:o.Z,width:16,height:16,viewBox:"0 0 16 16"}),(0,i.jsx)("div",{className:a.default.popContent,children:"如果没收到通知，请检查抖音App设置-其他通知-其他类型-交易与物流通知是打开状态"})]})]});t.Z=s},620970:function(e,t,l){"use strict";l.d(t,{Z:function(){return S}}),l("874386"),l("250440");var i=l("563097"),n=l("88648"),a=l("713097"),o=l.n(a),s=l("645260"),d=l.n(s),r=l("124919"),u=l("243150"),c=l("623527"),v=l("785119"),m=l("520739"),f=l("878389");let p=(e,t)=>(0,i.jsxs)("svg",(0,f._)((0,m._)({width:48,height:48,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,i.jsx)("path",{d:"M24.001 44.992c11.552 0 21-9.447 21-21 0-11.552-9.448-21-21-21s-21 9.448-21 21 9.448 21 21 21z",fill:"#13C15A",stroke:"#fff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M15.499 24.004l5.66 5.66 11.34-11.32",stroke:"#fff",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"})]}));var h=(0,n.forwardRef)(p),g="data:image/png;base64,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",_="data:image/png;base64,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",x="data:image/png;base64,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";let j=(e,t)=>(0,i.jsxs)("svg",(0,f._)((0,m._)({width:50,height:51,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,i.jsxs)("g",{filter:"url(#icon_refresh_svg__filter0_d_4050_113083)",shapeRendering:"crispEdges",children:[(0,i.jsx)("path",{d:"M25.001 45.992c11 0 20-9 20-20s-9-20-20-20-20 9-20 20 9 20 20 20z",fill:"#fff"}),(0,i.jsx)("path",{d:"M25.001 46.492c11.276 0 20.5-9.224 20.5-20.5s-9.224-20.5-20.5-20.5-20.5 9.224-20.5 20.5 9.224 20.5 20.5 20.5z",stroke:"#000",strokeOpacity:".1",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,i.jsx)("path",{d:"M30.303 31.303a7.5 7.5 0 1 1 0-10.607c.691.691 2.197 2.387 2.197 2.387",stroke:"#333",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M32.5 19.336v3.75h-3.75",stroke:"#333",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("filter",{id:"icon_refresh_svg__filter0_d_4050_113083",x:".001",y:".992",width:50,height:50,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{}),(0,i.jsx)("feGaussianBlur",{stdDeviation:2}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,i.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_4050_113083"}),(0,i.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_4050_113083",result:"shape"})]})})]}));var b=(0,n.forwardRef)(j),N=l("776138"),y=l("526425"),w=l("218296"),A=l("318356");let C=29e4,I=()=>{let[e,t]=(0,n.useState)(!1),l=(0,n.useRef)(),i=async e=>{let{orderId:i,payRiskInfo:n,payInfo:a,onSuccess:o}=e,s=await (0,y.Bd)({orderId:i,payRiskInfo:n,payInfo:a});return 0===s.statusCode?(null==o||o(s),await (0,w._)(300),t(!1),l.current&&clearTimeout(l.current),l.current=setTimeout(async()=>{t(!0),clearInterval(l.current),l.current=null},C)):(0,A.qP)("ecomApiError",{log_id:(null==s?void 0:s.logId)||(null==s?void 0:s.logPb),status_code:null==s?void 0:s.statusCode,path:"/aweme/v1/web/ecom/order/pay/refresh/"}),s};return(0,n.useEffect)(()=>(l.current=setTimeout(async()=>{t(!0),clearInterval(l.current),l.current=null},C),()=>{clearTimeout(l.current),l.current=null}),[]),{isExpire:e,refresh:i}},k=e=>{let{className:t,qrcodeUrl:l,isPaySuccess:a}=e,[s,m]=(0,n.useState)(l),[f,p]=(0,n.useState)(!1),j={bytepay:"抖音",wx:"微信",alipay:"支付宝"},{roomId:y,promotionId:w,logId2:A,payMethodList:C=[],orderId:k,riskInfo:S}=(0,N.V)(e=>{let t=d()(e,"apiRespStore.createOrderData.data.data.sdk_info.pay_type_list","[]");return{roomId:d()(e,"roomId",""),promotionId:d()(e,"promotion_id",""),logId2:d()(e,"apiRespStore.createOrderData.logId",""),payMethodList:JSON.parse(t)||[],orderId:d()(e,"apiRespStore.createOrderData.data.order_id",""),riskInfo:d()(e,"apiRespStore.buyRenderEditData.data.pay_method.risk_info","")||d()(e,"apiRespStore.buyRenderData.data.pay_method.risk_info","")}}),E=(0,n.useCallback)(e=>{c.oe.event.error({name:c.Mo.EcomPayCodeError,report:{reason:e,scene:y?"liveDetail":"shopAnchor",promotionId:w,logId:A,qrcodeUrl:s}})},[w,A,s,y]),{isExpire:P,refresh:R}=I();(0,n.useEffect)(()=>{!s&&E("")},[s]);let M=(0,n.useMemo)(()=>{let e=C.map(e=>j[e]);return e.length>1?e.join("、"):e[0]},[C]);return(0,n.useEffect)(()=>{k&&(0===C.length||C.every(e=>!j[e]))&&c.oe.event.error({name:c.Mo.EcomPayMethodError,report:{payMethods:C.join(","),scene:y?"liveDetail":"shopAnchor",promotionId:w,logId:A}})},[k,C]),(0,i.jsxs)("div",{className:o()(t,v.default.container),children:[(0,i.jsxs)("div",{className:v.default.qrcode,children:[(0,i.jsx)("img",{src:s,onError:e=>{E(`${e.type}${null==e?void 0:e.message}`)}}),P&&(0,i.jsx)("div",{className:v.default.expireMask,onClick:async()=>{if(!f)p(!0),await R({orderId:k,payRiskInfo:S,onSuccess:e=>{var t,l,i,n,a,o;(null==e?void 0:e.statusCode)===0&&(null==e?void 0:null===(i=e.data)||void 0===i?void 0:null===(l=i.data)||void 0===l?void 0:null===(t=l.sdk_info)||void 0===t?void 0:t.code_img_url)&&m(null==e?void 0:null===(o=e.data)||void 0===o?void 0:null===(a=o.data)||void 0===a?void 0:null===(n=a.sdk_info)||void 0===n?void 0:n.code_img_url)}}),p(!1)},children:f?(0,i.jsx)(r.g,{}):(0,i.jsxs)("div",{className:v.default.expireCode,children:[(0,i.jsx)(u.Z,{src:b,width:50,height:51,viewBox:"0 0 50 51"}),(0,i.jsx)("p",{className:v.default.line1,children:"二维码已过期"}),(0,i.jsx)("p",{children:"点击刷新"})]})}),a&&(0,i.jsxs)("div",{className:v.default.paySuccess,children:[(0,i.jsx)(u.Z,{src:h,width:48,height:48,viewBox:"0 0 48 48",className:v.default.payIcon}),(0,i.jsx)("p",{className:v.default.tip,children:"扫码成功"})]})]}),(0,i.jsxs)("div",{className:v.default.icons,children:[C.includes("bytepay")&&(0,i.jsx)("img",{src:g}),C.includes("alipay")&&(0,i.jsx)("img",{src:_}),C.includes("wx")&&(0,i.jsx)("img",{src:x})]}),(0,i.jsxs)("div",{className:v.default.text,children:["使用",M,"App扫码支付"]})]})};var S=(0,n.memo)(k)},596803:function(e,t,l){"use strict";l.d(t,{Do:function(){return i},BF:function(){return c},k:function(){return u},bS:function(){return n},W9:function(){return a},R:function(){return o}});l("49659");let i=50;var n={ContainerSizeTypeDefault:0,0:"ContainerSizeTypeDefault",ContainerSizeTypeLong:1,1:"ContainerSizeTypeLong"},a={Product:"商品",Size:"尺码",Match:"搭配",ThreeD:"3D",Ar:"AR",Comment:"评价",Evaluation:"测评",Sku:"规格"},o={Left:"left",Right:"right"};let s="shop",d="im",r="cart";var u={SafetyRenderTypeDefault:0,0:"SafetyRenderTypeDefault",SafetyRenderTypeBrand:1,1:"SafetyRenderTypeBrand"},c={RewardRenderTypeDefault:0,0:"RewardRenderTypeDefault",RewardRenderTypeBanner:1,1:"RewardRenderTypeBanner",RewardRenderTypeCoupon:2,2:"RewardRenderTypeCoupon",RewardRenderTypeIconText:3,3:"RewardRenderTypeIconText"};let v="1128",m="2329"},456711:function(e,t,l){"use strict";l.d(t,{l:function(){return i}});let i=(0,l(88648).createContext)({})},74205:function(e,t,l){"use strict";l.d(t,{k:function(){return i}});let i=(0,l(88648).createContext)({})},776138:function(e,t,l){"use strict";l.d(t,{V:function(){return a}});var i=l(88648),n=l(456711);function a(e){let t=(0,i.useContext)(n.l);return(0,i.useMemo)(()=>null==e?void 0:e(t),[t,e])}},410578:function(e,t,l){"use strict";l.d(t,{v:function(){return s}});var i=l(88648),n=l(106606),a=l(370440),o=l(66865);let s=e=>{let{buyRenderPackData:t,getStatus:l,editLoading:s,promotionId:d}=e;(0,i.useEffect)(()=>{if("success"===l&&!s)(0,n.G)({pageName:a.GE.BuyNow,componentName:o.rQ.ProductCard,data:t,requiredList:["productInfo.title","productInfo.pic","productInfo.price","shopInfo.shop_info.shop_name","shopInfo.shop_info.logo"],promotionId:d})},[t,l,s])}},346876:function(e,t,l){"use strict";l.d(t,{i:function(){return m}});var i=l(520739),n=l(878389),a=l(88648),o=l(645260),s=l.n(o),d=l(607412),r=l(776138),u=l(318356),c=l(360585),v=l(332383);let m=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{roomId:t,buyNowEnterSourceRef:l,commonParams:o,logId2:m,buyNowEntranceButtonRef:f}=(0,r.V)(e=>({roomId:s()(e,"roomId"),buyNowEnterSourceRef:s()(e,"buyNowEnterSourceRef"),commonParams:s()(e,"logParams"),logId2:s()(e,"apiRespStore.buyRenderData.logId"),buyNowEntranceButtonRef:s()(e,"buyNowEntranceButtonRef")})),p=(0,a.useRef)(!1),h=(0,a.useRef)(!1);(0,a.useEffect)(()=>{if(e&&!p.current){(0,d.B1)({tag:v.ar.buyNow.buyNowRenderEnd,once:!0}),(0,c.Do)();let e=(0,c.s1)();return(null==e?void 0:e.duration)&&(0,u.qP)("submitOrdersPageLoadDuration",(0,n._)((0,i._)({},o),{load_duration:e.duration,page_entrance_button:f.current})),p.current=!0,()=>{null==e||e.clear()}}},[e,o]),(0,a.useEffect)(()=>{e&&!h.current&&((0,u.qP)("submitOrdersPageView",(0,n._)((0,i._)({},o),{ecom_group_type:t?"live":"video",page_enter_source:l.current,page_entrance_button:f.current,log_id2:m})),h.current=!0,(0,c.TZ)())},[e,o,t,l])}},200430:function(e,t,l){"use strict";l.d(t,{P:function(){return n}}),l(874386);var i=l(88648);function n(){let{delayDisappear:e=200,delayShow:t=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[l,n]=(0,i.useState)(""),a=(0,i.useRef)(0),o=(0,i.useRef)(0),s=function(e){clearTimeout(a.current),t?o.current=window.setTimeout(()=>{n(e)},t):n(e)},d=function(){a.current=window.setTimeout(()=>{n("")},e),clearTimeout(o.current)},r=function(e,t){t?n(e):e?s(e):d()},u=()=>clearTimeout(o.current),c=()=>clearTimeout(a.current);return{type:l,setType:n,changeType:r,showTimer:o,disappearTimer:a,clearShowTimer:u,clearDisappearTimer:c}}},74952:function(e,t,l){"use strict";l.d(t,{a:function(){return m}});var i=l("88648"),n=l("607412"),a=l("332383"),o=l("318356"),s=l("857404");let d=e=>{let t=(0,n.J1)(a.Iy),l=(0,n.J1)(e);return l?(0,s.U)(l-t):0},r=()=>(0,n.B1)({tag:a.Iy}),u=()=>{Object.keys(a.ar).forEach(e=>{Object.keys(a.ar[e]).forEach(t=>{(0,n.tl)(a.ar[e][t])})}),(0,n.tl)(a.Iy)},c=()=>{let e={};return Object.keys(a.ar).forEach(t=>{Object.keys(a.ar[t]).forEach(l=>{e[a.ar[t][l]]=d(a.ar[t][l])})}),e},v=()=>{let e=c();(0,o.qP)("ecomPerfTiming",e),u()},m=()=>{let e=(0,i.useRef)(!1);!e.current&&(r(),e.current=!0),(0,i.useEffect)(()=>()=>{v(),e.current=!1},[])}},754752:function(e,t,l){"use strict";l.d(t,{Z:function(){return n}}),l(874386);var i=l(88648);function n(e){let{scrollWrapContainer:t,targetElement:l}=e,[n,a]=(0,i.useState)(!1);return{isQrCodeBottom:n,computeQrCodePlace:(0,i.useCallback)(()=>{let e=null==t?void 0:t.scrollTop,i=null==l?void 0:l.offsetTop;i-e<160?a(!0):a(!1)},[l,t])}}},904246:function(e,t,l){"use strict";var i=l(88648),n=l(23902),a=l.n(n),o=l(106606),s=l(370440),d=l(66865);let r=e=>{let{promotionPackInfo:t,requestStatus:l,queryData:n,logId:r}=e;(0,i.useEffect)(()=>{var e,i,u,c,v,m,f,p,h,g,_,x;if("success"===l)(0,o.G)({pageName:s.GE.Detail,componentName:d.Jf.CommentInfo,data:null==t?void 0:t.comment_data,requiredList:["good_comment"],promotionId:null==t?void 0:null===(i=t.page_meta)||void 0===i?void 0:null===(e=i.common_meta)||void 0===e?void 0:e.promotion_id,logId:r}),(0,o.G)({pageName:s.GE.Detail,componentName:d.Jf.BasicInfo,data:null==t?void 0:t.basic_info_data,requiredList:["price_info","title_info"],promotionId:null==t?void 0:null===(c=t.page_meta)||void 0===c?void 0:null===(u=c.common_meta)||void 0===u?void 0:u.promotion_id,logId:r}),(0,o.G)({pageName:s.GE.Detail,componentName:d.Jf.HeadFigure,data:null==t?void 0:t.head_figure_data,requiredList:["media_list"],promotionId:null==t?void 0:null===(m=t.page_meta)||void 0===m?void 0:null===(v=m.common_meta)||void 0===v?void 0:v.promotion_id,logId:r}),(0,o.G)({pageName:s.GE.Detail,componentName:d.Jf.ProductSupportInfo,data:null==t?void 0:t.product_support_info_data,requiredList:["safety_content","logistics_content"],promotionId:null==t?void 0:null===(p=t.page_meta)||void 0===p?void 0:null===(f=p.common_meta)||void 0===f?void 0:f.promotion_id,logId:r}),(0,o.G)({pageName:s.GE.Detail,componentName:d.Jf.Shop,data:null==t?void 0:t.shop_info,requiredList:["basic_info"],promotionId:null==t?void 0:null===(g=t.page_meta)||void 0===g?void 0:null===(h=g.common_meta)||void 0===h?void 0:h.promotion_id,logId:r}),!a()(n)&&(0,o.G)({requiredList:["origin_type","origin_id","buyin_track","c_biz_combo"],data:n,promotionId:null==t?void 0:null===(x=t.page_meta)||void 0===x?void 0:null===(_=x.common_meta)||void 0===_?void 0:_.promotion_id,logId:r},"meta")},[l])};t.Z=r},159990:function(e,t,l){"use strict";l.d(t,{Z:function(){return u}});var i=l("520739"),n=l("878389"),a=l("88648"),o=l("645260"),s=l.n(o),d={Unknown:-1,"-1":"Unknown",Seckill:0,0:"Seckill",Group:1,1:"Group",PRE_SALE:2,2:"PRE_SALE",AUCTION:3,3:"AUCTION",MULTICHANNEL:4,4:"MULTICHANNEL",PLATFORM_GOODS_SUBSIDY:5,5:"PLATFORM_GOODS_SUBSIDY",ALLOWANCE:6,6:"ALLOWANCE",MemberSample:7,7:"MemberSample"};let r=e=>({[d.Seckill]:"seckill",[d.Group]:"groupbuying",[d.AUCTION]:"auction",[d.PRE_SALE]:"upfront_presell"})[e]||"";var u=e=>{let{transparentLogParams:t,pageMeta:l,withCoupon:o,canPay:d,footerData:u,listCantBuyReason:c,abTestData:v,rewardContent:m,canUseArea:f}=e,p=(0,a.useMemo)(()=>{var e;let{common_meta:t,track_meta:a}=l||{},s=(null==t?void 0:t.shop_id)||(null==a?void 0:a.shop_id),d=(null==t?void 0:t.live_room_id)||(null==a?void 0:a.room_id),c=(null==t?void 0:t.product_id)||(null==a?void 0:a.product_id),v=null==a?void 0:a.is_under_stock,m=null==a?void 0:a.insurance_commodity_flag,f=(null==t?void 0:t.with_sku)||(null==a?void 0:a.with_sku),p=r((null==t?void 0:t.campaign_type)||(null==a?void 0:a.campaign_type)),h=null==t?void 0:null===(e=t.kol_user_tags)||void 0===e?void 0:e[0],g=null==a?void 0:a.coupon_type;return(0,n._)((0,i._)({},d&&{_param_live_platform:"live"}),{shop_id:s,product_id:c,is_under_stock:v,insurance_commodity_flag:m,with_sku:f,campaign_type:p,kol_user_tag:h,with_coupon:o?"1":"0",is_show:g,is_risk_user:(null==u?void 0:u.hit_pc_price_cut)?"1":"0"})},[l,o,u]),h=c&&!d,g=(0,a.useMemo)(()=>{let e=s()(u,"big_button_list[0]",{}),t=d&&(null==e?void 0:e.button_status)!=="disable",l=s()(u,"alert_info_v2",null),i=s()(u,"big_button_list[0].text_info.content","立即购买"),n=s()(f,"card_list",[]).some(e=>{var t;return(null==e?void 0:null===(t=e.coupon_list)||void 0===t?void 0:t.length)>0}),a=!t||h||(null==e?void 0:e.button_status)==="disable"?"0":"1",o=(t&&(null==e?void 0:e.button_status)!=="disable"?"":(null==l?void 0:l.text)||i)||c;return{is_possible_to_click:a,cant_click_reason:o,button_name:m&&n?"领券购买":"立即购买"}},[u,d,h,v,m,f]);return(0,a.useMemo)(()=>(0,i._)({EVENT_ORIGIN_FEATURE:"TEMAI"},t,p,g),[t,p,o,g])}},988815:function(e,t,l){"use strict";l.d(t,{y:function(){return u}});var i=l(520739),n=l(878389),a=l(88648),o=l(607412),s=l(318356),d=l(332383),r=l(857404);let u=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3?arguments[3]:void 0,c=(0,a.useRef)(!1);(0,a.useEffect)(()=>{if("success"!==e||c.current||(null==u?void 0:u.current)||!t)"error"===e&&(c.current=!0);else{(0,o.B1)({tag:d.ar.detail.detailRenderEnd,once:!0}),(0,o.B1)({tag:"ecom_load_end"});let e=(0,o.L8)("ecom_load_duration","ecom_load_start","ecom_load_end");(0,s.qP)("ecomDetailLoadTime",(0,n._)((0,i._)({},t),{duration:(0,r.U)(String(e)),is_first:l?1:0})),u.current=!0,(0,s.qP)("ecomDetailPageView",t),(0,o.tl)("ecom_load_start"),(0,o.tl)("ecom_load_end"),(0,o.B1)({tag:"head_figure_load_start"})}},[e,t])}},220829:function(e,t,l){"use strict";var i=l(520739);l(874386),l(779788);var n=l(88648),a=l(526425),o=l(607412),s=l(623527),d=l(318356),r=l(332383);let u=e=>{let{authorId:t,productId:l,roomId:u}=e,[c,v]=(0,n.useState)(),m=(0,n.useCallback)(async()=>{let e;try{(0,o.B1)({tag:r.ar.detail.detailSkuDataStart,once:!0});let s=await (0,a.d6)((0,i._)({},t&&{author_id:t},l&&{product_id:l},u&&{meta_param:JSON.stringify({room_id:u})}));if((0,o.B1)({tag:r.ar.detail.detailSkuDataEnd,once:!0}),e=null==s?void 0:s.status_code,(null==s?void 0:s.status_code)!==0){var n;(0,d.qP)("ecomApiError",{path:"/aweme/v1/web/ecom/product/sku/list/",status_code:null==s?void 0:s.status_code,status_message:null==s?void 0:s.status_msg,log_id:null==s?void 0:null===(n=s.log_pb)||void 0===n?void 0:n.impr_id})}let c=s.data;v(c)}catch(t){throw s.oe.event.error({name:s.Mo.EcomBuyNowSkuDataError,report:{scene:u?"liveDetail":"shopAnchor",type:"init",error:null==t?void 0:t.message,statusCode:e}}),t}},[t,l,u]);return(0,n.useEffect)(()=>{!c&&m()},[c,m]),{skuInfo:c,setSkuInfo:v}};t.Z=u},636712:function(e,t,l){"use strict";let i;l.d(t,{Z:function(){return T}});var n=l("520739"),a=l("368200"),o=l("563097"),s=l("88648"),d=l("456711"),r=l("878389");l("981168"),l("209955"),l("675373"),l("874386");var u=l("645260"),c=l.n(u),v=l("175018"),m=l("623527"),f=l("607412");l("779788"),l("413806"),l("826893");var p=l("890896"),h=l.n(p),g=l("526425"),_=l("178462"),x=l("318356"),j=l("138378");function b(e){let{authorId:t,queryData:l,productId:i,roomId:a,updateBuyNowData:o,buyNowModalContainerRef:d,updateSkuData:u,buyNowEnterSourceRef:c,buyNowEntranceButtonRef:f,logParams:p,promotionId:b}=e,[N,y]=(0,s.useState)(),[w,A]=(0,s.useState)([]),C=(0,s.useMemo)(()=>{var e;return null==N?void 0:null===(e=N.skus)||void 0===e?void 0:e[null==w?void 0:w.join("_")]},[w,null==N?void 0:N.skus]),I=(0,s.useCallback)((e,t)=>{y(e),A(t)},[]),k=(0,s.useCallback)(async()=>{let e;try{var o,s,h,_,N,y,A;let C=await (0,g.d6)((0,n._)({},t&&{author_id:t},((null==l?void 0:l.id)||i)&&{product_id:(null==l?void 0:l.id)||i},a&&{meta_param:JSON.stringify({room_id:a})}));if(u(C),e=null==C?void 0:C.status_code,(null==C?void 0:C.status_code)!==0)throw(0,x.qP)("submitOrdersPageLoadFail",(0,r._)((0,n._)({},p),{ecom_group_type:a?"live":"video",fail_reason_type:"sku",page_enter_source:c.current,page_entrance_button:f.current,log_id:null==C?void 0:null===(h=C.log_pb)||void 0===h?void 0:h.impr_id,st:null==C?void 0:C.status_code})),(0,x.qP)("ecomApiError",{path:"/aweme/v1/web/ecom/product/sku/list/",status_code:null==C?void 0:C.status_code,status_message:null==C?void 0:C.status_msg,log_id:null==C?void 0:null===(_=C.log_pb)||void 0===_?void 0:_.impr_id}),Error((null==C?void 0:C.status_msg)||"数据获取失败，请稍后重试");let k=C.data;if(null==w?void 0:w.length){if(null==k?void 0:null===(y=k.skus)||void 0===y?void 0:null===(N=y[w.join("_")])||void 0===N?void 0:N.can_select)return{skuId:(null==k?void 0:null===(A=k.skus)||void 0===A?void 0:A[w.join("_")].sku_id)||""};v.F.info("所选规格信息已失效，请重新选择",null==d?void 0:d.current)}let S=(0,j.xB)(null==k?void 0:k.skus),E=(null==k?void 0:null===(s=k.skus)||void 0===s?void 0:null===(o=s[S])||void 0===o?void 0:o.sku_id)||"";return E||m.oe.event.error({name:m.Mo.EcomBuyNowSkuUnselectable,report:{scene:a?"liveDetail":"shopAnchor",promotionId:b,logId:C.log_pb.impr_id,statusCode:e}}),I(k,(null==S?void 0:S.split("_"))||[]),{skuId:E}}catch(t){throw m.oe.event.error({name:m.Mo.EcomBuyNowSkuDataError,report:{scene:a?"liveDetail":"shopAnchor",type:"init",error:null==t?void 0:t.message,statusCode:e}}),t}},[I,t,i,null==l?void 0:l.id,a,c,p]),S=(0,s.useCallback)(async function(e){let s;try{var r,c,f,p,N;let A=await (0,g.d6)((0,n._)({address_info:h()(e,e=>!e)},t&&{author_id:t},((null==l?void 0:l.id)||i)&&{product_id:(null==l?void 0:l.id)||i},a&&{meta_param:JSON.stringify({room_id:a})}));if(u(A),s=null==A?void 0:A.status_code,(null==A?void 0:A.status_code)!==0)return v.F.info("规格列表信息更新失败",null==d?void 0:d.current),m.oe.event.error({name:m.Mo.EcomBuyNowSkuDataError,report:{addressId:e.id,scene:a?"liveDetail":"shopAnchor",message:A.status_msg,logId:A.log_pb.impr_id,type:"edit",statusCode:s}}),(0,x.qP)("ecomApiError",{path:"/aweme/v1/web/ecom/product/sku/list/",status_code:null==A?void 0:A.status_code,status_message:null==A?void 0:A.status_msg,log_id:null==A?void 0:null===(f=A.log_pb)||void 0===f?void 0:f.impr_id}),!1;let C=A.data;if(null==C?void 0:null===(c=C.skus)||void 0===c?void 0:null===(r=c[w.join("_")])||void 0===r?void 0:r.can_select)return y(C),!1;{v.F.info("所选规格信息已失效，请重新选择",null==d?void 0:d.current);let t=(0,j.xB)(null==C?void 0:C.skus),l=(null==C?void 0:null===(N=C.skus)||void 0===N?void 0:null===(p=N[t])||void 0===p?void 0:p.sku_id)||"";return l||m.oe.event.error({name:m.Mo.EcomBuyNowSkuUnselectable,report:{scene:a?"liveDetail":"shopAnchor",promotionId:b,logId:A.log_pb.impr_id,statusCode:s}}),await o({skuId:l,address:e},_._t.ALL),I(C,t.split("_")),!0}}catch(t){return v.F.info("规格信息更新失败",null==d?void 0:d.current),m.oe.event.error({name:m.Mo.EcomBuyNowSkuDataError,report:{addressId:e.id,scene:a?"liveDetail":"shopAnchor",type:"edit",error:null==t?void 0:t.message,statusCode:s}}),!1}},[t,d,I,i,null==l?void 0:l.id,a,w,o]);return{selectedSpecs:w,setSelectedSpecs:A,selectedSkuItem:C,skuInfo:N,updateSku:S,initSkuData:k}}let N=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{toastRef:t,scene:l,userId:i,onInitAddress:a,logParams:o,buyNowEnterSourceRef:d,buyNowEntranceButtonRef:u}=e,[c,f]=(0,s.useState)(),[p,h]=(0,s.useState)([]),[_,j]=(0,s.useState)(!1),[b,N]=(0,s.useState)("create"),[y,w]=(0,s.useState)({}),A=(0,s.useCallback)(()=>{w({}),N("create"),j(!0)},[]),C=(0,s.useCallback)(e=>{w(e),N("edit"),j(!0)},[]),I=(0,s.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=await (0,g.mZ)();if(null==a||a(s),(null==s?void 0:s.status_code)===0){let t=(null==s?void 0:s.data)||[];return h(t),(null==t?void 0:t.length)===0&&(m.oe.event.info({name:m.Mo.EcomBuyNowAddressListEmpty,report:{logId:null==s?void 0:s.logId,scene:l,userId:i,statusCode:0}}),!e&&(null==A||A())),t}throw h([]),m.oe.event.error({name:m.Mo.EcomBuyNowAddressListEmpty,report:{logId:null==s?void 0:s.logId,scene:l,userId:i,statusCode:null==s?void 0:s.status_code}}),v.F.info("获取地址列表失败，请重试",null==t?void 0:t.current),(0,x.qP)("submitOrdersPageLoadFail",(0,r._)((0,n._)({},o),{fail_reason_type:"address",page_enter_source:d.current,page_entrance_button:u.current,log_id:null==s?void 0:s.logId,st:null==s?void 0:s.status_code})),(0,x.qP)("ecomApiError",{path:"/aweme/v1/web/address/getlist/",status_code:null==s?void 0:s.status_code,status_message:null==s?void 0:s.status_msg,log_id:null==s?void 0:s.logId}),Error(null==s?void 0:s.status_msg)},[A,t]),k=(0,s.useMemo)(()=>({visible:_,setVisible:j,type:b,setType:N,defaultAddress:y,setDefaultAddress:w,showCreateAddressModal:A,showEditAddressModal:C}),[_,j,b,N,y,w,A,C]);return(0,s.useMemo)(()=>({currentAddress:c,setCurrentAddress:f,addressList:p,setAddressList:h,addressModalStore:k,initAddress:I}),[c,f,p,h,k,I])},y=()=>{let[e,t]=(0,s.useState)([]),[l,i]=(0,s.useState)(""),[n,a]=(0,s.useState)(),[o,d]=(0,s.useState)(0);return(0,s.useMemo)(()=>({buyerWord:l,setBuyerWord:i,lastSelectedCoupon:e,setLastSelectedCoupon:t,bestCouponIds:n,setBestCouponIds:a,shopFreightFeeAmount:o,setShopFreightFeeAmount:d}),[l,i,e,t,n,a,o,d])},w=()=>{let[e,t]=(0,s.useState)(!1),[l,i]=(0,s.useState)(),n=(0,s.useRef)(null),a=(0,s.useRef)(null),o=(0,s.useRef)(null);return{editLoading:e,getDataStatus:l,setEditLoading:t,setGetDataStatus:i,buyNowModalContainerRef:n,miniBuyNowContainerRef:a,addressModalContainerRef:o,confirmContainerRef:(0,s.useRef)(null)}},A=()=>{let e=(0,s.useRef)(),t=(0,s.useRef)(),l=(0,s.useRef)(),i=(0,s.useRef)(),n=(0,s.useRef)();return{buyRenderData:e.current,buyRenderEditData:t.current,addressData:l.current,skuData:i.current,createOrderData:n.current,updateBuyRenderData:t=>{e.current=t},updateBuyRenderEditData:e=>{t.current=e},updateAddressData:e=>{l.current=e},updateSkuData:e=>{i.current=e},updateCreateOrderData:e=>{n.current=e}}};var C=l("480200"),I=l("770731");async function k(e){var t;let{firstEnter:l=!1,address:i,skuId:a,queryData:o={},authorId:s="",roomId:d="",promotionId:u,entranceInfo:c={},autoApplyCoupon:v=1}=e,m=(0,r._)((0,n._)({address:i,first_enter:l,shape:0,forbid_redpack:!0,support_redpack:!1,use_marketing_combo:!1,auto_select_best_coupons:!0,auto_apply_coupon:v,cj_sdk:(null==o?void 0:null===(t=o.cjInfo)||void 0===t?void 0:t.cj_sdk)||"",source_type:String((null==o?void 0:o.source_type)||1)},(null==o?void 0:o.receive_type)&&{receive_type:null==o?void 0:o.receive_type}),{marketing_channel:(null==o?void 0:o.marketing_channel)||"",entrance_params:c&&JSON.stringify(c),shop_requests:[{shop_id:o.shop_id,product_requests:[(0,r._)((0,n._)({product_id:o.id,sku_id:String(a),sku_num:Number(o.combo_num||1)},((null==c?void 0:c.room_id)||d)&&{room_id:String(c.room_id||d)},((null==c?void 0:c.anchor_id)||(null==c?void 0:c.author_id)||s)&&{author_id:String((null==c?void 0:c.anchor_id)||(null==c?void 0:c.author_id)||s)},d?{content_id:d}:{content_id:String(null==c?void 0:c.group_id)},((null==c?void 0:c.promotion_id)||u)&&{promotion_id:String(c.promotion_id||u)},(null==c?void 0:c.ecom_scene_id)&&{ecom_scene_id:String(c.ecom_scene_id)},(null==o?void 0:o.given_product_campaign_id)&&(null==o?void 0:o.given_product_list)?{given_product_campaign_id:o.given_product_campaign_id,given_product_request_list:decodeURIComponent(o.given_product_list||"").split(",").map(e=>({sku_id:e}))}:{},(0,j.uj)(o)),{extra:JSON.stringify({})})]}]});return await (0,g.YU)(m)}async function S(e){var t;let{address:l,editType:i,renderTrackId:a,skuId:o,skuNum:s,autoSelectBestCoupons:d=!1,coupons:u,shopInfo:c,queryData:v,bestCouponIds:m,authorId:f,roomId:p,promotionId:h,entranceInfo:x}=e,{shopCouponId:b,platformCouponId:N,kolCouponId:y}=(null==u?void 0:u.reduce((e,t)=>{switch(t.couponType){case _.sp.PLATFORM:return(0,r._)((0,n._)({},e),{platformCouponId:t.couponId});case _.sp.SHOP:return(0,r._)((0,n._)({},e),{shopCouponId:t.couponId});case _.sp.KOL:return(0,r._)((0,n._)({},e),{kolCouponId:t.couponId});default:return e}},{shopCouponId:"",platformCouponId:"",kolCouponId:""}))||{shopCouponId:"",platformCouponId:"",kolCouponId:""},w=(0,n._)((0,r._)((0,n._)((0,r._)((0,n._)((0,r._)((0,n._)({},(null==l?void 0:l.id)&&{address:l}),{first_enter:!1,shape:0,edit_type:i,render_track_id:a,forbid_redpack:!0,support_redpack:!1,use_marketing_combo:!1,auto_select_best_coupons:d}),m&&{best_coupon_ids:m}),{cj_sdk:(null==v?void 0:null===(t=v.cjInfo)||void 0===t?void 0:t.cj_sdk)||"",source_type:String((null==v?void 0:v.source_type)||1)}),(null==v?void 0:v.receive_type)&&{receive_type:null==v?void 0:v.receive_type}),{marketing_channel:(null==v?void 0:v.marketing_channel)||"",entrance_params:x&&JSON.stringify(x),shop_requests:[(0,r._)((0,n._)({},c,b?{shop_coupon_id:b}:{}),{product_requests:[...c.invalid_product_cards,...c.valid_product_cards].map(e=>(0,n._)((0,r._)((0,n._)({},e),{sku_id:String(o),sku_num:s}),((null==x?void 0:x.room_id)||p)&&{room_id:String(x.room_id||p)},((null==x?void 0:x.anchor_id)||(null==x?void 0:x.author_id)||f)&&{author_id:String((null==x?void 0:x.anchor_id)||(null==x?void 0:x.author_id)||f)},p?{content_id:p}:{content_id:String(null==x?void 0:x.group_id)},((null==x?void 0:x.promotion_id)||h)&&{promotion_id:String(x.promotion_id||h)},(null==x?void 0:x.ecom_scene_id)&&{ecom_scene_id:String(x.ecom_scene_id)},(0,j.uj)(v)))})]}),N?{platform_coupon_id:N}:{},y?{kol_coupon_id:y}:{});return await (0,g.EF)(w)}async function E(e){var t;let{address:l,renderToken:i,renderTrackId:a,shopInfo:o,skuId:s,buyNum:d,product:u,skuInsuranceMap:c,queryData:v,buyWord:m,entranceInfo:f={},totalPriceResult:p}=e,h=null==c?void 0:c[s],_=(0,r._)((0,n._)({win_record_info:{win_record_id:(null==v?void 0:v.win_record_id)||"",win_record_type:(null==v?void 0:v.win_record_type)||""},post_addr:{province:{id:null==l?void 0:l.prov_id,name:null==l?void 0:l.prov},city:{id:null==l?void 0:l.city_id,name:null==l?void 0:l.city},town:{id:null==l?void 0:l.area_id,name:null==l?void 0:l.area},street:{id:Number(null==l?void 0:l.street_id)?l.street_id:"",name:(null==l?void 0:l.street)||""},detail:null==l?void 0:l.detail,tag:null==l?void 0:l.tag},post_receiver:null==l?void 0:l.name,post_tel:null==l?void 0:l.mobile,pay_type:16,sub_way:13,address_id:(null==l?void 0:l.id)||"0",price_info:{origin:(null==p?void 0:p.total_origin_amount)||0,freight:(null==p?void 0:p.total_freight_amount)||0,coupon:(null==p?void 0:p.total_coupon_amount)||0,pay:(null==p?void 0:p.total_amount)||0,packing_charge_amount:(null==p?void 0:p.total_packing_charge_amount)||0},marketing_channel:(null==v?void 0:v.marketing_channel)||"",render_token:i,render_track_id:a,entrance_params:JSON.stringify(f),origin_id:null==v?void 0:v.origin_id,origin_type:null==v?void 0:v.origin_type,c_biz_combo:null==v?void 0:v.c_biz_combo,buyin_track:null==v?void 0:v.buyin_track,shop_id:null==v?void 0:v.shop_id,combo_id:String(s),combo_num:d,product_id:null==u?void 0:u.product_id,buyer_words:m},(null==u?void 0:u.stock_info)&&{stock_info:u.stock_info.stock_items},(null==u?void 0:u.stock_info)&&{warehouse_id:u.stock_info.warehouse_id}),{shop_user_id:(null==u?void 0:null===(t=u.recommender_info)||void 0===t?void 0:t.shop_user_id)||"",room_id:(null==f?void 0:f.room_id)||"",author_id:(null==f?void 0:f.anchor_id)||"",content_id:(null==f?void 0:f.room_id)||(null==v?void 0:v.room_id)||(null==f?void 0:f.group_id)||(null==v?void 0:v.group_id)||"",promotion_id:(null==f?void 0:f.promotion_id)||"",ecom_scene_id:(null==f?void 0:f.ecom_scene_id)||"",freight_insurance:!!(h&&h.return_insurance),cert_insurance:!!(h&&h.cert_insurance),allergy_insurance:!!(h&&h.allergy_insurance),campaign_id:(null==v?void 0:v.activity_id)||""});return(0,g.LV)(_)}l("527785");var P=l("242245"),R=l("332383");let M=e=>{let{productId:t,promotionId:l,userId:a,roomId:o,queryData:d={},authorId:u,logParams:p,buyNowEnterSourceRef:h,entranceInfo:g={},buyNowEntranceButtonRef:_}=e,M=A(),{updateBuyRenderData:T,updateCreateOrderData:D,updateAddressData:B,updateSkuData:L,updateBuyRenderEditData:F,buyRenderData:O,buyRenderEditData:U}=M,Z=w(),{setEditLoading:W,setGetDataStatus:z,buyNowModalContainerRef:q,miniBuyNowContainerRef:G}=Z,H=y(),V=(0,s.useMemo)(()=>{let e=(null==U?void 0:U.data)||(null==O?void 0:O.data),t=(0,j.NB)(e);return(0,r._)((0,n._)({originData:(0,n._)({},e),couponResult:c()(e,"coupon_result")},t),{shopInfo:c()(t,"shopProductCardsShow[0]"),productInfo:c()(t,"shopProductCardsShow[0].valid_product_cards[0]",c()(t,"shopProductCardsShow[0].invalid_product_cards[0]")),invalidProductList:c()(t,"invalidProductList"),disableSubmit:c()(e,"all_forbidden",!0),interactionDomain:c()(e,"interaction_domain"),totalPriceResult:c()(e,"total_price_result")})},[U,O]),J=(0,s.useMemo)(()=>{var e;return(0,r._)((0,n._)({},p),{enter_from:"submit_orders",log_id:null==V?void 0:null===(e=V.originData)||void 0===e?void 0:e.render_track_id,log_id2:""})},[p,V]),Y=N({toastRef:q.current?q:G,scene:o?"liveDetail":"shopAnchor",userId:a,buyNowEnterSourceRef:h,buyNowEntranceButtonRef:_,logParams:J,onInitAddress:B}),{initAddress:Q}=Y,K=(0,s.useCallback)((e,t)=>{((null==e?void 0:e.all_forbidden_reason)||(null==e?void 0:e.tip))&&(null==i||i(),i=v.F.info(e.all_forbidden_reason||e.tip,(null==q?void 0:q.current)||(null==G?void 0:G.current)),m.oe.event.error({name:m.Mo.EcomBuyRenderToast,report:{scene:o?"liveDetail":"shopAnchor",promotionId:l,logId:t,toastMsg:e.all_forbidden_reason||e.tip}}))},[q,G]),X=(e,t)=>{H.setLastSelectedCoupon(()=>(null==t?void 0:t.map(t=>{let l=null==e?void 0:e.find(e=>(null==e?void 0:e.id)===t);return{couponId:t,couponType:null==l?void 0:l.type}}))||[])},$=e=>{let{stockNum:t,max:i,min:n,logId:a}=e;m.oe.event.error({name:m.Mo.EcomBuyNowLimitError,report:{stockNum:t,upLimit:i,downLimit:n,promotionId:l,logId:a}})},ee=(0,s.useCallback)(async function(e){let t,s=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{(0,f.B1)({tag:R.ar.buyNow.buyNowConfirmDataStart,once:!0});let y=await k((0,r._)((0,n._)({firstEnter:s,queryData:d},e),{authorId:u,roomId:o,promotionId:l,entranceInfo:g}));if((0,f.B1)({tag:R.ar.buyNow.buyNowConfirmDataEnd,once:!0}),T(y),t=null==y?void 0:y.status_code,(null==y?void 0:y.status_code)===0){K(y.data,y.logId);let{setShopFreightFeeAmount:e,setBestCouponIds:t}=H,{address:l,coupon_result:n}=y.data||{},{best_coupon_ids:s,is_best_discount:d,available_coupon_infos:r,selected_coupon_ids:u}=n,{setAddressList:f,setCurrentAddress:h}=Y;null==h||h(l),3===c()(l,"valid")&&m.oe.event.error({name:m.Mo.EcomBuyNowAddressInValid,report:{scene:o?"liveDetail":"shopAnchor",logId:y.logId,address:(0,P.Ed)(l),userId:a}}),f(e=>{var t;return(null==e?void 0:null===(t=e.findIndex)||void 0===t?void 0:t.call(e,e=>(null==e?void 0:e.id)===(null==l?void 0:l.id)))>=3?e.sort((e,t)=>(null==e?void 0:e.id)===(null==l?void 0:l.id)?-1:0):e});let g=(0,j.NB)(y.data),_=c()(g,"shopProductCardsShow[0].valid_product_cards[0]",c()(g,"shopProductCardsShow[0].invalid_product_cards[0]")),{stockNum:x,max:w,min:A}={stockNum:c()(_,"stock_info.num"),max:c()(_,"limit_info.max"),min:c()(_,"limit_info.min")};(x<w||x<A)&&$({stockNum:x,max:w,min:A,logId:y.logId});let C=null==_?void 0:_.is_limited;if(!C){var p,b,N;let t=(null==g?void 0:null===(N=g.shopProductCardsShow)||void 0===N?void 0:null===(b=N[0])||void 0===b?void 0:null===(p=b.shop_freight_fee)||void 0===p?void 0:p.amount)||0;e(t)}!C&&d&&s&&(null==s?void 0:s.length)>0&&(null==i||i(),i=v.F.info("已为你自动选择最佳优惠",(null==q?void 0:q.current)||(null==G?void 0:G.current)),t(s)),X(r,u)}else throw(0,x.qP)("submitOrdersPageLoadFail",(0,r._)((0,n._)({},J),{ecom_group_type:o?"live":"video",fail_reason_type:"render",page_enter_source:h.current,page_entrance_button:_.current,log_id:null==y?void 0:y.logId,st:null==y?void 0:y.status_code})),(0,x.qP)("ecomApiError",{path:"/aweme/v1/web/ecom/order/confirm/",status_code:null==y?void 0:y.status_code,status_message:null==y?void 0:y.status_msg,log_id:null==y?void 0:y.logId}),Error(y.status_msg)}catch(e){throw m.oe.event.error({name:m.Mo.EcomBuyNowDataError,report:{promotion:l,queryData:d,scene:o?"liveDetail":"shopAnchor",error:null==e?void 0:e.message,logId:O.logId,statusCode:t}}),e}},[Y,l,d,o,q,G,H,K,u,h,_,J,g,O]),et=async function(e,t){let a;try{let{lastSelectedCoupon:_,bestCouponIds:b,shopFreightFeeAmount:N,setShopFreightFeeAmount:y,setBestCouponIds:w}=H,A=await S((0,r._)((0,n._)({skuId:null==ei?void 0:ei.sku_id,skuNum:c()(V,"productInfo.buy_num"),address:Y.currentAddress,coupons:_,autoSelectBestCoupons:(null==_?void 0:_.length)===0,bestCouponIds:b},e),{renderTrackId:c()(V,"originData.render_track_id"),shopInfo:c()(V,"originData.shop_product_cards[0]"),editType:t,queryData:d,authorId:u,roomId:o,promotionId:l,entranceInfo:g}));if(F(A),a=null==A?void 0:A.status_code,(null==A?void 0:A.status_code)===0){var s,f,p,h;K(A.data,A.logId);let e=(0,j.NB)(A.data),t=c()(e,"shopProductCardsShow[0].valid_product_cards[0]",c()(e,"shopProductCardsShow[0].invalid_product_cards[0]")),l=null==t?void 0:t.is_limited,{stockNum:n,max:a,min:o}={stockNum:c()(t,"stock_info.num"),max:c()(t,"limit_info.max"),min:c()(t,"limit_info.min")};(n<a||n<o)&&$({stockNum:n,max:a,min:o,logId:A.logId});let d=(null==e?void 0:null===(p=e.shopProductCardsShow)||void 0===p?void 0:null===(f=p[0])||void 0===f?void 0:null===(s=f.shop_freight_fee)||void 0===s?void 0:s.amount)||0;if(!l&&d!==N){y(d);let e=0===d?"当前地区包邮":`运费变为\xa5${(0,C.z)(d).join(".")}`;null==i||i(),i=v.F.info(e,(null==q?void 0:q.current)||(null==G?void 0:G.current))}let{address:r,coupon_result:u}=A.data||{},{best_coupon_ids:m,is_best_discount:g,available_coupon_infos:_,selected_coupon_ids:x}=u;X(_,x),null==Y||null===(h=Y.setCurrentAddress)||void 0===h||h.call(Y,r),!l&&g&&m&&(null==m?void 0:m.length)>0&&w(m)}else null==i||i(),i=v.F.info((null==A?void 0:A.status_msg)||"数据更新失败，请重试",(null==q?void 0:q.current)||(null==G?void 0:G.current)),m.oe.event.error({name:m.Mo.EcomBuyNowEditError,report:{promotion:l,queryData:d,scene:o?"liveDetail":"shopAnchor",message:A.status_msg,logId:A.logId,statusCode:a}}),(0,x.qP)("ecomApiError",{path:"/aweme/v1/web/ecom/order/confirm/edit/",status_code:a,status_message:null==A?void 0:A.status_msg,log_id:null==A?void 0:A.logId})}catch(e){v.F.info("数据更新失败，请重试",(null==q?void 0:q.current)||G.current),m.oe.event.error({name:m.Mo.EcomBuyNowEditError,report:{promotion:l,queryData:d,scene:o?"liveDetail":"shopAnchor",error:null==e?void 0:e.message,statusCode:a}})}},el=b({authorId:u,roomId:o,queryData:d,productId:t,updateBuyNowData:et,buyNowModalContainerRef:q.current?q:G,updateSkuData:L,buyNowEnterSourceRef:h,buyNowEntranceButtonRef:_,logParams:J,promotionId:l}),{selectedSkuItem:ei,initSkuData:en}=el,ea=async e=>{let t,{onFail:l,onSuccess:i}=e;try{var a,s,u,v,p,h;W(!0),(0,f.B1)({tag:R.ar.buyNow.buyNowOrderCreateStart,once:!0});let e=await E({address:Y.currentAddress,renderToken:c()(V,"originData.render_token"),renderTrackId:c()(V,"originData.render_track_id"),shopInfo:c()(V,"originData.shop_product_cards[0]"),skuId:null==ei?void 0:ei.sku_id,buyNum:null===(a=V.productInfo)||void 0===a?void 0:a.buy_num,product:V.productInfo,skuInsuranceMap:c()(V,"originData.sku_insurance_map"),queryData:d,buyWord:c()(H,"buyerWord",""),entranceInfo:g,totalPriceResult:V.totalPriceResult});(0,f.B1)({tag:R.ar.buyNow.buyNowOrderCreateEnd,once:!0}),D(e),t=null==e?void 0:e.status_code,(null==e?void 0:e.status_code)!==0?(null==l||l(e),W(!1),(0,x.qP)("createOrderFail",(0,r._)((0,n._)({},J),{with_sku:(null===(s=Object.keys(null==el?void 0:null===(u=el.skuInfo)||void 0===u?void 0:u.skus))||void 0===s?void 0:s.length)>1?"1":"0",is_under_stock:(null==V?void 0:null===(p=V.productInfo)||void 0===p?void 0:null===(v=p.stock_info)||void 0===v?void 0:v.num)>0?"1":"0",pay_amount:null==V?void 0:null===(h=V.totalPriceResult)||void 0===h?void 0:h.total_amount,fail_reason:null==e?void 0:e.status_msg,log_id2:e.logId,st:null==e?void 0:e.status_code})),(0,x.qP)("ecomApiError",{path:"/aweme/v1/web/ecom/order/create/",status_code:null==e?void 0:e.status_code,status_message:null==e?void 0:e.status_msg,log_id:null==e?void 0:e.logId})):(W(!1),null==i||i(e))}catch(e){null==l||l(),W(!1),m.oe.event.error({name:m.Mo.EcomBuyNowCreateOrderError,report:{queryData:d,scene:o?"liveDetail":"shopAnchor",error:null==e?void 0:e.message,statusCode:t}})}},eo=(0,s.useCallback)(async()=>{(0,f.B1)({tag:R.ar.buyNow.buyNowAddressSkuDataStart,once:!0});let e=await Promise.all([Q(),en()]);return(0,f.B1)({tag:R.ar.buyNow.buyNowAddressSkuDataEnd,once:!0}),(null==e?void 0:e[1])||{}},[Q,en]);return{addressStore:Y,skuStore:el,buyRenderPackData:V,uiStore:Z,init:(0,s.useCallback)(async function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{z("pending");let l=(0,I.P)(eo,l=>ee((0,n._)({},l,t),e));await l(),(0,f.B1)({tag:R.ar.buyNow.buyNowRenderStart,once:!0}),z("success")}catch(e){z("fail")}},[eo,ee,z]),updateBuyNowData:et,createOrder:ea,extraStore:H,apiRespStore:M,logParams:J}};var T=e=>{var{children:t}=e,l=(0,a._)(e,["children"]);let i=M(l);return(0,o.jsx)(d.l.Provider,{value:(0,n._)({},l,i),children:t})}},784834:function(e,t,l){"use strict";l.d(t,{Z:function(){return eb}});var i=l("520739"),n=l("878389"),a=l("563097"),o=l("88648"),s=l("645260"),d=l.n(s),r=l("720573"),u=l("767943");l("874386"),l("209955");var c=l("713097"),v=l.n(c),m=l("645003"),f=l("15174"),p=l("74205");l("407507");var h=l("457389"),g=()=>(0,a.jsxs)("div",{className:h.default.container,children:[(0,a.jsx)("div",{className:h.default.shop}),(0,a.jsxs)("div",{className:h.default.product,children:[(0,a.jsx)("div",{className:h.default.swiper}),(0,a.jsxs)("div",{className:h.default.content,children:[(0,a.jsxs)("div",{className:h.default.title,children:[(0,a.jsx)("div",{className:v()(h.default.first,h.default.common)}),(0,a.jsx)("div",{className:v()(h.default.second,h.default.common)})]}),(0,a.jsxs)("div",{className:h.default.price,children:[(0,a.jsx)("div",{className:v()(h.default.first,h.default.common)}),(0,a.jsx)("div",{className:v()(h.default.second,h.default.common)})]}),(0,a.jsxs)("div",{className:h.default.productSupportInfo,children:[(0,a.jsx)("div",{className:v()(h.default.first,h.default.common)}),(0,a.jsx)("div",{className:v()(h.default.second,h.default.common)})]})]})]}),(0,a.jsxs)("div",{className:h.default.tabs,children:[(0,a.jsx)("div",{className:v()(h.default.first,h.default.common)}),(0,a.jsx)("div",{className:v()(h.default.second,h.default.common)})]}),(0,a.jsx)("div",{className:h.default.divider}),(0,a.jsxs)("div",{className:h.default.tabContent,children:[(0,a.jsx)("div",{className:v()(h.default.first,h.default.common)}),(0,a.jsx)("div",{className:v()(h.default.second,h.default.common)})]})]}),_=l("611234");l("602157"),l("413806"),l("826893");var x=l("583618"),j=l("91714"),b=l("134159"),N=l("419936"),y=l.n(N),w=l("567754"),A=l("402324"),C=l("37026"),I=l("282222"),k=l("318356"),S=l("200430"),E=e=>{let{userId:t,footerData:l,logParams:n}=e,s=(0,o.useMemo)(()=>{var e;let t=d()(l,"small_button_list[0].jump_link",""),i=w.parse(null===(e=t.split("?"))||void 0===e?void 0:e[1])||{};return Object.keys(i).forEach(e=>{if(y()(i[e])){var t;i[e]=null===(t=i[e])||void 0===t?void 0:t[0]}}),i},[l]),{type:r,setType:u}=(0,S.P)({delayDisappear:800}),c=()=>{(0,k.qP)("customerServiceButtonClick",(0,i._)({},n))};return(0,a.jsxs)("div",{className:A.default.customerService,onMouseEnter:()=>{u(!0)},onMouseLeave:()=>{u(!1)},onClick:c,children:[(0,a.jsx)("img",{src:C,className:A.default.icon}),(0,a.jsx)("span",{children:"客服"}),(0,a.jsx)(I.Z,{hasHoverSpace:!1,className:A.default.serviceQRCode,isShowProps:r,qrcodeParams:s,userId:t})]})},P=l("174811"),R=l("846617"),M=l("745376"),T=e=>{let{logParams:t,promotionId:l,productId:n,authorId:o,awemeId:s,entranceInfo:d,qrcodeMetaParams:r}=e,{type:u,setType:c}=(0,S.P)({delayDisappear:800});return(0,a.jsxs)("div",{className:P.default.shopEntrance,onMouseEnter:()=>{c(!0),(0,k.qP)("clickProductDetailStore",(0,i._)({},t))},onMouseLeave:()=>{c(!1)},children:[(0,a.jsx)("img",{src:R,className:P.default.icon}),(0,a.jsx)("span",{children:"进店逛逛"}),(0,a.jsx)(M.Z,{promotionId:l,productId:n,authorId:o,awemeId:s,logParams:t,entranceInfo:d,qrcodeMetaParams:r,isShowProps:u,className:P.default.qrcodeBottom,source:"click_product_detail_store",hasHoverSpace:!1,clickPosition:"product_detail_full_page"})]})},D=e=>{let{basic_info:t,userId:l,footerData:i,logParams:n,promotionId:s,productId:r,authorId:u,awemeId:c,entranceInfo:f,qrcodeMetaParams:p,className:h}=e||{},{shop_logo:g,shop_name:_,brand_icon:N,new_brand_icon:y,grade_info:w,shop_icon_list:A,status_icon_info:C,shop_extra_info:I,small_btn:k}=(0,o.useMemo)(()=>({shop_logo:d()(t,"shop_logo"),shop_name:d()(t,"shop_name"),brand_icon:d()(t,"brand_icon"),new_brand_icon:d()(t,"new_brand_icon"),grade_info:d()(t,"grade_info"),shop_icon_list:d()(t,"shop_icon_list",[]),account_url:d()(t,"account_url",""),status_icon_info:d()(t,"status_icon_info"),shop_extra_info:d()(t,"shop_extra_info"),small_btn:d()(i,"small_button_list[0]",null)}),[t,i]),S=A&&(null==A?void 0:A.length)>0,P=I&&(null==I?void 0:I.length)>0,R=(0,m.x)(()=>{}),M=(0,m.x)(()=>{});return(0,a.jsxs)("div",{className:v()(j.default.container,h),ref:R,children:[(0,a.jsxs)("div",{className:j.default.basicInfo,children:[(0,a.jsxs)("div",{className:j.default.logo,children:[(0,a.jsx)(x.x,{mainStyle:{borderRadius:"50%",overflow:"hidden"},iconWidth:40,iconHeight:40,src:g}),C&&(0,a.jsx)("img",{className:j.default.liveIcon,src:C.icon})]}),(0,a.jsxs)("div",{className:j.default.titleArea,children:[(0,a.jsx)("div",{className:j.default.name,children:_}),N&&(0,a.jsx)("img",{className:j.default.brand,src:N})]}),(0,a.jsxs)("div",{className:j.default.rateInfo,ref:M,children:[y&&(0,a.jsx)("img",{className:j.default.brand,src:y}),(null==w?void 0:w.score)&&(null==w?void 0:w.is_new_style)?(0,a.jsx)(b.Z,{score:null==w?void 0:w.score}):(0,a.jsx)("span",{className:j.default.noScore,children:(null==w?void 0:w.score)?`店铺评分${null==w?void 0:w.score}`:"暂无店铺评分"}),(null==w?void 0:w.desc)&&(0,a.jsxs)("div",{className:j.default.description,children:[(0,a.jsx)("span",{className:j.default.split}),w.desc]})]}),S&&(0,a.jsx)("div",{className:j.default.iconArea,children:null==A?void 0:A.map((e,t)=>(0,a.jsx)("div",{children:(0,a.jsx)("img",{className:j.default.iconItem,src:e})},t))}),P&&(0,a.jsx)("div",{className:j.default.extraInfo,children:null==I?void 0:I.map((e,t)=>(0,a.jsxs)("div",{className:j.default.text,style:{maxWidth:`${100/I.length}%`},children:[e,t!==I.length-1&&(0,a.jsx)("span",{className:j.default.split})]},t))})]}),(0,a.jsxs)("div",{className:j.default.rightContent,children:[k&&(0,a.jsx)(E,{userId:l,logParams:n,footerData:i}),(0,a.jsx)(T,{logParams:n,promotionId:s,productId:r,awemeId:c,authorId:u,qrcodeMetaParams:p,entranceInfo:f})]})]})},B=l("423759"),L=l("330462"),F=l("624426"),O=l("571297"),U=l("930846"),Z=l("9236"),W=l("938520"),z=l("859003"),q=o.memo(e=>{var t,l,s;let{price_info:d,price_extra_list:r,top_label_list:u,title_info:c,bottom_label_list:v,hidePrice:m,content_list:f,setCouponModalVisible:p,logParams:h,basicInfoV2:g,hitPriceCut:_}=e,{discountPriceV2:x,priceV2:j}=(0,o.useMemo)(()=>{var e,t,l;let i=null==g?void 0:null===(e=g.slices)||void 0===e?void 0:e.find(e=>(null==e?void 0:e.slice_id)==="BaseInfoPrice");return{discountPriceV2:null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.discount_price,priceV2:null==i?void 0:null===(l=i.data)||void 0===l?void 0:l.base_price}},[g]),b=-1===Number(null==d?void 0:null===(t=d.price)||void 0===t?void 0:t.min_price);return(0,a.jsxs)("div",{className:F.default.basicInfo,children:[(0,a.jsx)(O.Z,{labelList:u}),(0,a.jsx)(U.Z,{titleInfo:c}),(0,a.jsx)(O.Z,{labelList:v}),(0,a.jsxs)("div",{className:F.default.priceSet,children:[!m&&(0,a.jsx)(Z.Z,{className:F.default.price,priceInfo:(0,n._)((0,i._)({},d),{price:(0,n._)((0,i._)({},null==d?void 0:d.price),{prefix:(null==d?void 0:null===(l=d.price)||void 0===l?void 0:l.prefix)||(null==j?void 0:j.prefix)}),discount_price:(0,n._)((0,i._)({},null==d?void 0:d.discount_price),{prefix:(null==d?void 0:null===(s=d.discount_price)||void 0===s?void 0:s.prefix)||(null==x?void 0:x.prefix)})})}),(0,a.jsx)(z.Z,{className:F.default.couponInfo,contentList:f,logParams:h,onClick:()=>p(!0),hitPriceCut:_})]}),!b&&(null==r?void 0:r.length)>0&&(0,a.jsx)(W.Z,{priceExtraList:r})]})}),G=l("560992"),H=l("110655"),V=l("744164"),J=l("613604"),Y=l("66865"),Q=l("370440"),K=l("777584"),X=l("776138"),$=l("904246"),ee=l("75017"),et=l("159990"),el=l("988815"),ei=l("392103"),en=l("138378"),ea=l("291278"),eo=l("360585");let es=e=>{var t,l,s,r,u,c,h,x,j,b,N,y,w,A,C,I,S,E,P,R,M,T;let{className:F,listCantBuyReason:O,defaultSelectedTab:U="detail"}=e,{promotionId:Z,productId:W,authorId:z,awemeId:es,logParams:ed,originLogParams:er,roomId:eu,secAuthorId:ec,userId:ev,onLogParamsChange:em,showBuynowByTcc:ef,queryData:ep,handleCouponModalVisible:eh,isFirstLoad:eg,entranceInfo:e_,qrcodeMetaParams:ex,onMixBuyNowQrCodeShowChange:ej,promotionPackInfo:eb,status:eN,logId:ey,getDetailData:ew,promotionDetailInfo:eA,abTestData:eC,unUseArea:eI,canUseArea:ek,getCouponList:eS,detailExposeReportedRef:eE}=(0,o.useContext)(p.k),eP=null==eb?void 0:null===(t=eb.footer_data)||void 0===t?void 0:t.hit_pc_price_cut,[eR,eM]=(0,o.useState)(U),eT=(null==eb?void 0:null===(l=eb.footer_data)||void 0===l?void 0:l.is_hide_pc_pay)===!1&&ef,{skuInfo:eD,activeUniqueId:eB,mixBuyNowContainer:eL,mixBuyNowContainerRef:eF}=(0,X.V)(e=>{let t=d()(e,"skuStore.selectedSpecs"),l=d()(e,"skuStore.skuInfo.pic"),i=(null==t?void 0:t.find(e=>!!(null==l?void 0:l[e])))||"";return{skuInfo:d()(e,"skuStore.skuInfo"),activeUniqueId:i,mixBuyNowContainer:d()(e,"uiStore.buyNowModalContainerRef.current"),mixBuyNowContainerRef:d()(e,"uiStore.buyNowModalContainerRef")}}),eO=(0,o.useMemo)(()=>(0,en.u_)(null==eD?void 0:eD.specs,null==eD?void 0:eD.big_pic),[eD]),eU=(0,m.x)(()=>{}),eZ=(0,o.useRef)(null);(0,$.Z)({promotionPackInfo:eb,requestStatus:eN,queryData:ep,logId:ey}),(0,ee.Z)(eU,["wheel"]);let eW=(0,et.Z)({transparentLogParams:er,pageMeta:null==eb?void 0:eb.page_meta,withCoupon:!!((null==ek?void 0:null===(r=ek.card_list)||void 0===r?void 0:null===(s=r.some)||void 0===s?void 0:s.call(r,e=>{var t;return(null==e?void 0:null===(t=e.coupon_list)||void 0===t?void 0:t.length)>0}))&&(null==eb?void 0:null===(u=eb.product_support_info_data)||void 0===u?void 0:u.reward_content)),canPay:eT,footerData:null==eb?void 0:eb.footer_data,listCantBuyReason:O,abTestData:eC,canUseArea:ek,rewardContent:null==eb?void 0:eb.product_support_info_data.reward_content});(0,o.useEffect)(()=>{"success"===eN&&em(eW)},[eW,eN]),(0,el.y)(eN,ed,eg,eE),(0,o.useEffect)(()=>{(0,eo.vZ)()},[]);let ez=(null==eb?void 0:null===(x=eb.comment_data)||void 0===x?void 0:null===(h=x.good_comment)||void 0===h?void 0:null===(c=h.title_bar)||void 0===c?void 0:c.sum)||(null==eb?void 0:null===(N=eb.comment_data)||void 0===N?void 0:null===(b=N.good_comment)||void 0===b?void 0:null===(j=b.comment_list)||void 0===j?void 0:j.length),eq=e=>{var t,l;if(!((null===(t=eZ.current)||void 0===t?void 0:t.scrollTop)<e))null===(l=eZ.current)||void 0===l||l.scrollTo(0,e)};return(0,a.jsxs)("div",{className:v()(f.default.container,F),ref:eU,children:["request"===eN&&(0,a.jsx)(g,{}),"error"===eN&&(0,a.jsx)(_.Z,{onClickRetry:()=>{ew()}}),"success"===eN&&(0,a.jsxs)("div",{className:f.default.wrapper,ref:eZ,children:[(null==eb?void 0:eb.shop_info)&&(0,a.jsx)(K.k,{componentName:Y.Jf.Shop,pageName:Q.GE.Detail,children:(0,a.jsx)(D,(0,n._)((0,i._)({className:f.default.shop},null==eb?void 0:eb.shop_info),{promotionId:Z,productId:W,authorId:z,awemeId:es,userId:ev,logParams:ed,entranceInfo:e_,qrcodeMetaParams:ex,footerData:null==eb?void 0:eb.footer_data}))}),(0,a.jsxs)("div",{className:f.default.productBasic,children:[(0,a.jsxs)("div",{className:f.default.headFigureBlock,children:[(0,a.jsx)(K.k,{componentName:Y.Jf.HeadFigure,pageName:Q.GE.Detail,children:(0,a.jsx)(ei.h,(0,n._)((0,i._)({},null==eb?void 0:eb.head_figure_data),{logParams:ed,productId:W,skuPicList:eO,activeUniqueId:eB,className:f.default.headFigure}))}),!eP&&(null==eb?void 0:eb.girdle_info_v2)&&(0,a.jsx)(B.I,{girdleInfoV2:null==eb?void 0:eb.girdle_info_v2,templates:null==eb?void 0:eb.templates,containerRef:eF}),!eP&&(null==eb?void 0:eb.activity_girdle_data)&&!(null==eb?void 0:eb.girdle_info_v2)&&(0,a.jsx)(K.k,{componentName:Y.Jf.ActivityGirdle,pageName:Q.GE.Detail,children:(0,a.jsx)(L.Z,{girdleData:null==eb?void 0:eb.activity_girdle_data})})]}),(0,a.jsxs)("div",{className:f.default.messageBlock,children:[(0,a.jsx)(K.k,{componentName:Y.Jf.BasicInfo,pageName:Q.GE.Detail,children:(0,a.jsx)(q,(0,n._)((0,i._)({},null==eb?void 0:eb.basic_info_data),{hidePrice:!!((null==eb?void 0:eb.activity_girdle_data)&&!(null==eb?void 0:eb.girdle_info_v2)),content_list:null==eb?void 0:null===(w=eb.product_support_info_data)||void 0===w?void 0:null===(y=w.reward_content)||void 0===y?void 0:y.content_list,setCouponModalVisible:eh,logParams:ed,basicInfoV2:null==eb?void 0:eb.basic_info_v2,hitPriceCut:eP}))}),(0,a.jsx)("div",{className:f.default.divider}),(null==eb?void 0:eb.product_support_info_data)&&(0,a.jsx)(K.k,{componentName:Y.Jf.ProductSupportInfo,pageName:Q.GE.Detail,children:(0,a.jsx)(G.Z,(0,n._)((0,i._)({},null==eb?void 0:eb.product_support_info_data),{container:eL,shopId:null==eb?void 0:null===(C=eb.page_meta)||void 0===C?void 0:null===(A=C.common_meta)||void 0===A?void 0:A.shop_id,productMinPrice:null==eb?void 0:null===(S=eb.page_meta)||void 0===S?void 0:null===(I=S.common_meta)||void 0===I?void 0:I.product_min_price,discountMinPrice:null==eb?void 0:null===(P=eb.page_meta)||void 0===P?void 0:null===(E=P.common_meta)||void 0===E?void 0:E.discount_min_price,getCouponList:eS,canUseArea:ek,unUseArea:eI,isHidePcPay:!eT,skuInfo:eD,canPay:eT,footerData:null==eb?void 0:eb.footer_data,scrollWrapContainer:eZ.current}))})]})]}),(0,a.jsxs)("div",{className:f.default.tabs,children:[(0,a.jsxs)("div",{className:f.default.tabTitle,children:[(0,a.jsx)("div",{onClick:()=>{eM("detail")},className:v()(f.default.productDetail,{[f.default.selected]:"detail"===eR}),children:"商品详情"}),(0,a.jsxs)("div",{onClick:()=>{(0,k.qP)("clickProductDetailCommentTab",(0,n._)((0,i._)({},ed),{product_detail_page_status:"full"})),eM("comment")},className:v()(f.default.comment,{[f.default.selected]:"comment"===eR}),children:["商品评价",ez?`(${(0,ea.CZ)(ez)})`:""]})]}),(0,a.jsxs)("div",{className:f.default.tabContent,children:["comment"===eR&&(0,a.jsx)(K.k,{componentName:Y.Jf.CommentInfo,pageName:Q.GE.Detail,children:(0,a.jsx)(H.$,{scene:"mixCard",shopId:null==eb?void 0:null===(M=eb.page_meta)||void 0===M?void 0:null===(R=M.common_meta)||void 0===R?void 0:R.shop_id,productId:W,container:eU.current,onScrollToComment:eq,logParams:ed,loadingOrEmptyStyle:{height:`calc(100% + ${(null===(T=eZ.current)||void 0===T?void 0:T.scrollTop)||0}px)`}})}),"detail"===eR&&(0,a.jsxs)(a.Fragment,{children:[(null==eA?void 0:eA.productParamProps)&&(0,a.jsx)(K.k,{componentName:Y.Jf.ProductParam,pageName:Q.GE.Detail,children:(0,a.jsx)(V.Z,(0,n._)((0,i._)({titleImage:null==eA?void 0:eA.titleImage},null==eA?void 0:eA.productParamProps),{container:eU.current,isHidePcPay:!eT,paramListHorizontal:!0,className:f.default.productParam,paramsClassName:f.default.param}))}),eA&&(0,a.jsx)(K.k,{componentName:Y.Jf.PackDetail,pageName:Q.GE.Detail,children:(0,a.jsx)(J.Z,{imgList:null==eA?void 0:eA.imgList,applicationNotes:null==eA?void 0:eA.applicationNotes,fullyCollapseBarInfoList:null==eA?void 0:eA.fullyCollapseBarInfoList})})]})]})]})]})]})};var ed=l("689913"),er=l("38381"),eu=l("479201");let ec=(e,t)=>(0,a.jsxs)("svg",(0,n._)((0,i._)({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,a.jsx)("g",{filter:"url(#back_svg__filter0_d_4267_253130)",clipPath:"url(#back_svg__clip0_4267_253130)",children:(0,a.jsx)("path",{d:"M16 4l-8 8.14L16 20",stroke:"#fff",strokeOpacity:".75",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",shapeRendering:"crispEdges"})}),(0,a.jsxs)("defs",{children:[(0,a.jsxs)("filter",{id:"back_svg__filter0_d_4267_253130",x:2,y:-2,width:20,height:28,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,a.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,a.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,a.jsx)("feOffset",{}),(0,a.jsx)("feGaussianBlur",{stdDeviation:2}),(0,a.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,a.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,a.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_4267_253130"}),(0,a.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_4267_253130",result:"shape"})]}),(0,a.jsx)("clipPath",{id:"back_svg__clip0_4267_253130",children:(0,a.jsx)("path",{fill:"#fff",transform:"rotate(-180 12 12)",d:"M0 0h24v24H0z"})})]})]}));var ev=(0,o.forwardRef)(ec),em=l("798128"),ef=l("429721"),ep=l("725090"),eh=l("851190"),eg=l("115627"),e_=l("314757"),ex=l("924470");let ej=(0,o.memo)(e=>{let{onClose:t,onAgree:l}=e;return(0,a.jsx)("div",{className:ex.default.agreement,children:(0,a.jsxs)("div",{className:ex.default.content,children:[(0,a.jsx)("div",{className:ex.default.title,children:"使用须知"}),(0,a.jsxs)("div",{className:ex.default.desc,children:["已阅读并同意",(0,a.jsx)("a",{className:ex.default.link,href:"https://school.jinritemai.com/doudian/web/article/104868?rank=0&fromPage=search_result&searchInfo=&query=%E5%B0%8F%E5%BA%97%E7%94%A8%E6%88%B7%E5%8D%8F%E8%AE%AE&resultType=%E8%A7%84%E5%88%99",target:"_blank",rel:"noreferrer",children:"《平台用户协议》"}),"和",(0,a.jsx)("a",{className:ex.default.link,href:"https://school.jinritemai.com/doudian/web/article/104870?rank=0&fromPage=search_result&searchInfo=&query=%E5%B0%8F%E5%BA%97%E9%9A%90%E7%A7%81%E6%94%BF%E7%AD%96&resultType=%E8%A7%84%E5%88%99",target:"_blank",rel:"noreferrer",children:"《平台隐私政策》"}),"，并同意抖音小店获取你的抖音账号信息（昵称、头像信息）"]}),(0,a.jsx)(eh.zx,{className:ex.default.agreeBtn,onClick:l,children:"同意"}),(0,a.jsx)("div",{className:ex.default.close,onClick:t,children:(0,a.jsx)(eg.Z,{className:ex.default.icon,src:e_.Z,width:36,height:36,viewBox:"0 0 36 36"})})]})})});var eb=e=>{var t;let{onCloseMixBuyNow:l,setBuyNowUpdateFn:s,onCloseEcom:c,defaultSelectedTab:v}=e,{buyNowModalContainerRef:m,commonParams:f,isFullscreen:h,roomId:g,buyNowEntranceButtonRef:_,isShowAgreement:x,onAgreementAgreed:j,onAgreementClose:b,abTestData:N,getDataStatus:y,init:w}=(0,X.V)(e=>({roomId:d()(e,"roomId"),buyNowModalContainerRef:d()(e,"uiStore.buyNowModalContainerRef"),commonParams:d()(e,"logParams"),isFullscreen:d()(e,"isFullscreen"),buyNowEntranceButtonRef:d()(e,"buyNowEntranceButtonRef"),isShowAgreement:d()(e,"isShowAgreement"),onAgreementAgreed:d()(e,"onAgreementAgreed"),onAgreementClose:d()(e,"onAgreementClose"),abTestData:d()(e,"abTestData"),init:d()(e,"init"),getDataStatus:d()(e,"uiStore.getDataStatus")})),{logParams:A,entranceInfo:C,qrcodeMetaParams:I,promotionId:S,productId:E,authorId:P,awemeId:R,mixBuyNowQrCodeShow:T,promotionPackInfo:D,getDetailData:B,status:L}=(0,o.useContext)(p.k),F=null==D?void 0:null===(t=D.footer_data)||void 0===t?void 0:t.hit_pc_price_cut;(0,em.M)("ecom/MixBuyNow");let O=()=>{(0,eo.RI)();let e=(0,eo.Ty)();(0,k.qP)("submitOrdersPageStayTime",(0,n._)((0,i._)({},f),{pc_live_action_type:"close_submit",duration:null==e?void 0:e.duration,page_entrance_button:_.current})),null==e||e.clear()},U=()=>{(0,k.qP)("exitFullSubmitOrdersPage",A),O(),null==l||l()},Z=()=>{(0,k.qP)("exitFullSubmitOrdersPage",A),O(),null==c||c()};return(0,a.jsxs)(ed.Z,{className:u.default.modal,hideClose:!0,containerRef:m,multiMask:!!(!h&&g),topElement:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:u.default.zoomOut,onClick:U,children:(0,a.jsx)(er.Z,{type:"out"})}),(0,a.jsx)("div",{className:u.default.back,onClick:Z,children:(0,a.jsx)(ev,{})})]}),children:[(0,a.jsxs)("div",{className:u.default.container,"data-bytereplay-mask":"strict",children:[(0,a.jsx)(es,{className:u.default.detail,defaultSelectedTab:v}),F?(0,a.jsx)("div",{className:u.default.buyNow,children:(0,a.jsx)(eu.C,{className:u.default.checkPriceNotice,whiteBg:!0,promotionId:S,productId:E,authorId:P,awemeId:R,logParams:A,entranceInfo:C,qrcodeMetaParams:I,clickPosition:"product_detail_full_page"})}):T?(0,a.jsx)("div",{className:u.default.buyNow,children:(0,a.jsx)(M.Z,{promotionId:S,productId:E,authorId:P,awemeId:R,logParams:A,entranceInfo:C,qrcodeMetaParams:I,isShowProps:!0,className:u.default.qrcode,source:"purchase_button",clickPosition:"product_detail_full_page"})}):(0,a.jsx)(ep.Z,{className:u.default.buyNow,hideClose:!0,setBuyNowUpdateFn:s})]}),x&&(0,a.jsx)(r.h,{className:u.default.agreementModal,getContainer:(0,ef.V)(),children:(0,a.jsx)(ej,{onAgree:j,onClose:b})})]})}},96676:function(e,t,l){"use strict";l.d(t,{Z:function(){return T}});var i=l("520739"),n=l("878389"),a=l("563097"),o=l("88648"),s=l("567754"),d=l("645260"),r=l.n(d),u=l("74205");l("874386"),l("675373");var c=l("784492"),v=l("255288"),m=l("986501"),f=l("623527"),p=l("607412");l("268917");let h=e=>{var t,l;return(null==e?void 0:null===(t=e.url_list)||void 0===t?void 0:t.length)?null==e?void 0:null===(l=e.url_list)||void 0===l?void 0:l[0]:""},g=e=>{var t,l,i,n,a,o,s,d,r,u,c;let v=null,m=null,f=null==e?void 0:e.detail_top_tag_component;return(null==f?void 0:null===(l=f.tags)||void 0===l?void 0:null===(t=l[0])||void 0===t?void 0:t.banner_type)===31&&(m={lovelyDesc:{contentList:null==f?void 0:null===(s=f.tags)||void 0===s?void 0:null===(o=s[0])||void 0===o?void 0:null===(a=o.banner_items)||void 0===a?void 0:a.map(e=>({type:"text",text:null==e?void 0:e.content,color:null==e?void 0:e.content_color}))}}),(null==f?void 0:null===(n=f.tags)||void 0===n?void 0:null===(i=n[0])||void 0===i?void 0:i.banner_type)===32&&(v={certificateDesc:(null==f?void 0:null===(r=f.tags)||void 0===r?void 0:null===(d=r[0])||void 0===d?void 0:d.content)||"",certificateDetailPageUrl:(null==f?void 0:null===(c=f.tags)||void 0===c?void 0:null===(u=c[0])||void 0===u?void 0:u.url)||""}),{detailInfo:e,lovelyInfo:m,certificateInfo:v}},_=e=>e?e.map((e,t)=>{var l;return{id:t,minImgUrl:(null==e?void 0:null===(l=e.url_list)||void 0===l?void 0:l[0])||""}}):[],x=e=>{if(e&&(null==e?void 0:e.introduction_info)){var t;return{noteInfoList:null==e?void 0:null===(t=e.introduction_info)||void 0===t?void 0:t.map((e,t)=>{var l;return{id:t,titleText:null==e?void 0:e.title,noteList:null==e?void 0:null===(l=e.contents)||void 0===l?void 0:l.map((e,t)=>({id:t,description:e}))}})}}return null},j=e=>{let t=[],l=0;return e&&(null==e?void 0:e.length)>0&&(null==e||e.forEach(e=>{var i,n;(null==e?void 0:e.main_content)&&(null==e?void 0:null===(i=e.main_content)||void 0===i?void 0:i.length)>0&&(null==e||null===(n=e.main_content)||void 0===n||n.forEach(e=>{var i;t.push({id:l,title:null==e?void 0:e.title,on:0===l,descInfoList:null==e?void 0:null===(i=e.content)||void 0===i?void 0:i.map((t,l)=>{var i,n,a;return{id:l,desc:t,shouldLink:!!(null==e?void 0:null===(i=e.links)||void 0===i?void 0:i.find(e=>(null==e?void 0:e.key)===t)),linkUrl:(null==e?void 0:null===(a=e.links)||void 0===a?void 0:null===(n=a.find(e=>(null==e?void 0:e.key)===t))||void 0===n?void 0:n.link)||""}})}),l++}))})),t},b=e=>{let{epData:t,detailInfo:l}=e||{},i=h(null==l?void 0:l.title_image),n=g(l),a=_(null==l?void 0:l.detail_imgs),o=t?x(t):null;return{titleImage:i,productParamProps:n,imgList:a,applicationNotes:o,fullyCollapseBarInfoList:j(null==l?void 0:l.detail_config)}};var N=l("725887"),y=l("737271"),w=l("596161");function A(e){let t={host:"//verify.zijieapi.com/",showMode:"mask",autoClose:!0},l={commonOptions:{aid:w.APP_ID,did:"0",iid:"0"},captchaOptions:t},i=function(){},n=function(e){};e.init(l,i,n)}let C=e=>{let t="/ecom/product/detail/saas/pc";f.oe.event.warn({name:f.Mo.CheckCapture,report:{url:t,status:e}})},I=async e=>{let{packData:t,onSuccessCb:i}=e;if(null==t?void 0:t.bdturing){var n;C("enter");let e=await l.e("5595").then(l.bind(l,351268));A(e);let a=(null===(n=N.Le.getConfig(N.gI.IsInModalVideo))||void 0===n?void 0:n.isInModal)||!1;return e.render({verify_data:null==t?void 0:t.bdturing,captchaOptions:{ele:(0,y.r)()&&(a?"modal_fullscreen_capture":"fullscreen_capture"),feedbackEle:(0,y.r)()&&(a?"modal_fullscreen_capture_feedback":"fullscreen_capture_feedback"),host:"//verify.zijieapi.com/",successCb:async e=>{C("success"),await (null==i?void 0:i())},errorCb:e=>{C("error")},closeCb:()=>{C("close")}}}),!0}return!1};var k=l("318356"),S=l("332383"),E=e=>{let{promotionId:t,originType:l,secAuthorId:i,roomId:n,itemId:a,abTestData:s}=e,[d,r]=(0,o.useState)(null),[u,h]=(0,o.useState)(null),[g,_]=(0,o.useState)("request"),[x,j]=(0,o.useState)(""),N=(0,o.useCallback)(async function(){let e,o,s=!(arguments.length>0)||void 0===arguments[0]||arguments[0];_("request");let d=v.U_.getPrefetchCtx({scene:"ecomDetail",reqKey:t}),u=null==d?void 0:d.promise;u?([e,o]=await u,v.U_.resetPrefetchCtx("ecomDetail")):[e,o]=await Promise.all([(0,m.y3)({promotionId:t,originType:l,secAuthorId:i,roomId:n,itemId:a}),(0,m.$P)({promotionId:t,originType:l})]);let c=null==e?void 0:e.promotion_h5,p=b({detailInfo:null==o?void 0:o.detail_info});return await I({packData:e,onSuccessCb:()=>{N()}}),j(null==e?void 0:e.log_pb),c&&(null==e?void 0:e.status_code)===0?(_("success"),s&&(r(c),h(p))):(f.oe.event.error({name:f.Mo.EcomDetailNotReady,report:{promotion:t,scene:n?"liveDetail":"shopAnchor",logId:null==e?void 0:e.log_pb,statusCode:null==e?void 0:e.status_code}}),(0,k.qP)("ecomApiError",{path:"/ecom/product/detail/saas/pc/",status_code:null==e?void 0:e.status_code,log_id:null==e?void 0:e.log_pb}),_("error")),{packInfo:c,detailInfo:p}},[t,l,i,n]);return(0,o.useEffect)(()=>{(async()=>{t&&((0,p.B1)({tag:S.ar.detail.detailDataStart,once:!0}),await N(),(0,p.B1)({tag:S.ar.detail.detailDataEnd,once:!0}),(0,p.B1)({tag:S.ar.detail.detailRenderStart,once:!0}))})()},[]),(0,c.Z)(()=>{let e=!1;return(async()=>{(0,p.B1)({tag:S.ar.detail.detailDataStart,once:!0});let{packInfo:t,detailInfo:l}=await N(!1);(0,p.B1)({tag:S.ar.detail.detailDataEnd,once:!0}),!e&&(r(t),h(l),(0,p.B1)({tag:S.ar.detail.detailRenderStart,once:!0}))})(),()=>{e=!0}},[t]),{promotionPackInfo:d,promotionDetailInfo:u,status:g,getDetailData:N,logId:x}},P=l("909211"),R=l("566176");let M=e=>{let{productId:t,shopId:l,productMinPrice:i,discountMinPrice:n,secAuthorId:a,authorId:s,roomId:d,hitPriceCut:r}=e,[u,c]=(0,o.useState)(),[v,m]=(0,o.useState)(),[h,g]=(0,o.useState)(),_=async e=>{let{onError:o,onSuccess:r,onStart:u,onEnd:v}=e||{};null==u||u(),g("pending"),(0,p.B1)({tag:S.ar.detail.detailCouponDataStart,once:!0});let h=await (0,R.$K)({product_id:t,shop_id:l,price:i,price_sku:Number(n)>0&&Number(n)<Number(i)?n:i,author_id:s,sec_author_id:a,marketing_channel:"",kolid:s||"0",scene:"17",live_room_id:d||"0",channel_type:"0",channel_id:"0"});if((0,p.B1)({tag:S.ar.detail.detailCouponDataEnd,once:!0}),(null==h?void 0:h.status_code)===0){var _,x;let{can_use_area:e,un_use_area:t}=(null==h?void 0:h.data)||{};g("success"),null==r||r(h),e&&c(e),t&&m(t),(null==e?void 0:null===(_=e.card_list)||void 0===_?void 0:_.length)===0&&(null==t?void 0:null===(x=t.card_list)||void 0===x?void 0:x.length)===0&&f.oe.event.info({name:f.Mo.EcomDetailCouponRewardPannelNull,report:{logId:null==h?void 0:h.logId,scene:d?"liveDetail":"shopAnchor",reason:"empty",statusCode:0}})}else g("fail"),(0,k.qP)("ecomApiError",{path:"/aweme/v1/web/ecom/warcraft/api/coupon/couponlist/v2/",status_code:null==h?void 0:h.status_code,status_message:null==h?void 0:h.status_msg,log_id:null==h?void 0:h.logId}),f.oe.event.error({name:f.Mo.EcomDetailCouponRewardPannelNull,report:{logId:null==h?void 0:h.logId,scene:d?"liveDetail":"shopAnchor",reason:null==h?void 0:h.status_msg,statusCode:null==h?void 0:h.status_code}}),null==o||o((null==h?void 0:h.status_msg)||"获取优惠信息失败，请重试");null==v||v()};return(0,o.useEffect)(()=>{l&&!r&&_()},[l]),{getCouponList:_,canUseArea:u,unUseArea:v,requestStatus:h}};var T=e=>{var t,l,d,c,v,m,f;let{children:p,promotionId:h,awemeId:g,secAuthorId:_,roomId:x,productId:j,authorId:b,onMixBuyNowQrCodeShowChange:N,showBuynowByTcc:y,onQueryDataChange:w,abTestData:A}=e,C=E({promotionId:h,originType:"0"===g?P.rO.Live:P.rO.Video,secAuthorId:_,roomId:x,itemId:g,abTestData:A}),{promotionPackInfo:I,status:k}=C,{unUseArea:S,canUseArea:R,getCouponList:T,requestStatus:D}=M({productId:j,shopId:null==I?void 0:null===(l=I.page_meta)||void 0===l?void 0:null===(t=l.common_meta)||void 0===t?void 0:t.shop_id,productMinPrice:null==I?void 0:null===(c=I.page_meta)||void 0===c?void 0:null===(d=c.common_meta)||void 0===d?void 0:d.product_min_price,discountMinPrice:null==I?void 0:null===(m=I.page_meta)||void 0===m?void 0:null===(v=m.common_meta)||void 0===v?void 0:v.discount_min_price,secAuthorId:_,authorId:b,roomId:x}),B=(null==I?void 0:null===(f=I.footer_data)||void 0===f?void 0:f.is_hide_pc_pay)===!1&&y;return(0,o.useEffect)(()=>{if("success"===k){let e=r()(I,"footer_data.big_button_list[0]",{}),t=r()(e,"jump_link",""),l=s.parse(t)||{};null==N||N(!B||(null==e?void 0:e.button_status)==="disable"),w(l)}},[I,k,B]),(0,a.jsx)(u.k.Provider,{value:(0,n._)((0,i._)({},e,C),{unUseArea:S,canUseArea:R,getCouponList:T,requestStatus:D}),children:p})}},448642:function(e,t,l){"use strict";l.d(t,{Z:function(){return G}});var i=l("520739"),n=l("878389");l("874386");var a=l("563097"),o=l("88648"),s=l("645260"),d=l.n(s),r=l("713097"),u=l.n(r),c=l("485498"),v=l("689913"),m=l("243150"),f=l("645003"),p=l("623527"),h=l("205851");let g=(e,t)=>(0,a.jsxs)("svg",(0,n._)((0,i._)({width:56,height:56,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,a.jsx)("rect",{width:56,height:56,rx:28,fill:"#E8FFED"}),(0,a.jsx)("path",{d:"M38 16H18a2 2 0 0 0-2.001 2v20a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2V18a2 2 0 0 0-2-2z",stroke:"#13C15A",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M26 32.664l3.333 2.667 5.334-6.667M21.332 22h13.334M21.332 27.328h5.334",stroke:"#13C15A",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})]}));var _=(0,o.forwardRef)(g);let x=(e,t)=>(0,a.jsxs)("svg",(0,n._)((0,i._)({width:56,height:56,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,a.jsx)("rect",{width:56,height:56,rx:28,fill:"#F9F9FA"}),(0,a.jsxs)("g",{clipPath:"url(#ic_order_expire_svg__clip0_3753_111614)",stroke:"#292D32",strokeWidth:2,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M30.667 33.553l-5.28-5.28M30.613 28.32l-5.28 5.28M25.334 19.997h5.333c2.667 0 2.667-1.333 2.667-2.666 0-2.667-1.334-2.667-2.667-2.667h-5.333c-1.334 0-2.667 0-2.667 2.667 0 2.666 1.333 2.666 2.667 2.666z"}),(0,a.jsx)("path",{d:"M33.333 17.367c4.44.24 6.667 1.88 6.667 7.973v8c0 5.334-1.333 8-8 8h-8c-6.667 0-8-2.666-8-8v-8c0-6.08 2.227-7.733 6.667-7.973"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"ic_order_expire_svg__clip0_3753_111614",children:(0,a.jsx)("path",{fill:"#fff",transform:"translate(12 12)",d:"M0 0h32v32H0z"})})})]}));var j=(0,o.forwardRef)(x);let b=(e,t)=>(0,a.jsx)("svg",(0,n._)((0,i._)({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{d:"M4.17 5.333a4.667 4.667 0 1 1-.497 4.417.667.667 0 0 0-1.237.5A6.002 6.002 0 0 0 14 8 6 6 0 0 0 3.333 4.229v-.896a.667.667 0 1 0-1.333 0V6c0 .368.298.667.667.667h2.666a.667.667 0 0 0 0-1.334H4.17z",fill:"#161823"})}));var N=(0,o.forwardRef)(b),y=l("480200"),w=l("318356"),A=l("458848"),C=l("776138"),I=l("526425"),k=l("607412"),S=l("218296"),E=l("332383");let P=e=>{let{delayTime:t,orderId:l,roomId:i,promotionId:n}=e,[a,s]=(0,o.useState)({}),r=(0,o.useCallback)(async e=>{let t=await (0,I.dz)({orderId:e});return(null==t?void 0:t.statusCode)===0?t:(p.oe.event.error({name:p.Mo.EcomOrderDetailError,report:{scene:i?"liveDetail":"shopAnchor",logId:(null==t?void 0:t.logId)||(null==t?void 0:t.logPb),promotionId:n,statusCode:null==t?void 0:t.statusCode}}),(0,w.qP)("ecomApiError",{log_id:(null==t?void 0:t.logId)||(null==t?void 0:t.logPb),status_message:n,status_code:null==t?void 0:t.statusCode,path:"/aweme/v1/web/ecom/order/detail/"}),{statusCode:null==t?void 0:t.statusCode,data:{}})},[]);return(0,o.useEffect)(()=>{let e=!1;return(async()=>{if(l){await (0,S._)(t),(0,k.B1)({tag:E.ar.pay.payDataStart,once:!0});let i=await r(l);(0,k.B1)({tag:E.ar.pay.payDataEnd,once:!0}),!e&&0===d()(i,"statusCode",0)&&s(null==i?void 0:i.data)}})(),()=>{e=!0}},[l]),{detail:a}},R=e=>{let{className:t,totalAmount:l,orderId:s,orderTime:r}=e,{logId2:c,logParams:v,roomId:p,promotionId:g,entranceInfo:x}=(0,C.V)(e=>({entranceInfo:d()(e,"entranceInfo",{}),roomId:d()(e,"roomId",""),promotionId:d()(e,"promotionId",""),logParams:d()(e,"logParams",{}),logId2:d()(e,"apiRespStore.createOrderData.logId","")})),{detail:j}=P({delayTime:0,orderId:s,roomId:p,promotionId:g}),{statusDesc:b,statusDetail:N,totalPayAmount:I}=(0,o.useMemo)(()=>({statusDesc:d()(j,"shop_order.shop_order_status.status_desc","支付成功"),statusDetail:d()(j,"shop_order.shop_order_status.status_detail",""),totalPayAmount:d()(j,"shop_order.order_detail.price_info.total_pay_amount",l)}),[j]),[k,S]=(0,y.z)(I),E=(0,f.x)(()=>{(0,w.qP)("ecomModuleView",(0,n._)((0,i._)({},v),{entrance_info:(0,n._)((0,i._)({},x),{log_id:c,order_id:s}),order_id:s,ecom_module_name:"order_pay_result",pay_amount:I,pay_status:"success",log_id2:c}))});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:u()(t,h.default.container),ref:E,children:[(0,a.jsx)(m.Z,{src:_,height:56,width:56,viewBox:"0 0 56 56",className:h.default.icon}),(0,a.jsx)("div",{className:h.default.text,children:(0,a.jsxs)("div",{className:h.default.mainTitle,children:[b,(0,a.jsxs)("span",{className:h.default.price,children:[(0,a.jsx)("span",{className:h.default.price2,children:"\xa5"}),k,(0,a.jsxs)("span",{className:h.default.price2,children:[".",S]})]})]})})]}),(0,a.jsx)(A.Z,{className:h.default.shop,isShowDetailTip:!0,orderTime:r,orderId:s})]})},M=e=>{let{className:t,orderId:l,orderTime:s,totalAmount:r,isCountdownEnd:c}=e,{handleShowBuyNow:v,roomId:g,promotionId:_,logParams:x,logId2:b,entranceInfo:y}=(0,C.V)(e=>({handleShowBuyNow:d()(e,"handleRetryBuynow"),entranceInfo:d()(e,"entranceInfo",{}),roomId:d()(e,"roomId",""),promotionId:d()(e,"promotionId",""),logParams:d()(e,"logParams",{}),logId2:d()(e,"apiRespStore.createOrderData.logId","")})),I=(0,f.x)(()=>{(0,w.qP)("ecomModuleView",(0,n._)((0,i._)({},x),{entrance_info:(0,n._)((0,i._)({},y),{log_id:b,order_id:l}),order_id:l,ecom_module_name:"order_pay_result",pay_amount:r,pay_status:"failed",log_id2:b}))}),{detail:k}=P({delayTime:0,orderId:l,roomId:g,promotionId:_}),{statusDesc:S,statusDetail:E}=(0,o.useMemo)(()=>({statusDesc:d()(k,"shop_order.shop_order_status.status_desc","订单已取消"),statusDetail:d()(k,"shop_order.shop_order_status.status_detail","")}),[k]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:u()(t,h.default.container),ref:I,children:[(0,a.jsx)(m.Z,{src:j,height:56,width:56,viewBox:"0 0 56 56",className:h.default.icon}),(0,a.jsxs)("div",{className:h.default.text,children:[(0,a.jsx)("div",{className:h.default.mainTitle,children:S}),(0,a.jsx)("div",{className:h.default.subTitle,children:c?"订单支付超时":E})]})]}),(0,a.jsx)(A.Z,{className:h.default.shop,isShowDetailTip:!1,orderTime:s,orderId:l}),(0,a.jsxs)("div",{className:h.default.buynowBtn,onClick:()=>{null==v||v(),p.oe.event.info({name:p.Mo.EcomOrderExpiredRetry,report:{scene:g?"liveDetail":"shopAnchor",promotionId:_,logId:b}})},children:[(0,a.jsx)(m.Z,{src:N,height:16,width:16,viewBox:"0 0 16 16"}),"重新提单购买"]})]})};var T=l("705344");l("675373");var D=l("242818");let B=e=>{let{orderId:t,isCountdownEnd:l}=e,[i,n]=(0,o.useState)(D.K.Polling),a=(0,o.useRef)(!1),s=(0,o.useRef)(),r=(0,o.useRef)(!1),u=(0,o.useCallback)(()=>{clearInterval(s.current)},[]),c=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!r.current||!!e)r.current=!0,(0,I.ZC)({orderId:t}).then(e=>{let{statusCode:t,data:l}=e,i=d()(l,"order_status",0);0===t?(2===i&&(a.current=!0,n(D.K.Success),u()),4===i&&(n(D.K.Expired),u()),r.current=!1):(r.current=!1,(0,w.qP)("ecomApiError",{log_id:(null==e?void 0:e.logId)||(null==e?void 0:e.logPb),status_code:null==e?void 0:e.statusCode,path:"/aweme/v1/web/ecom/order/pay/status/"}))}).catch(()=>{r.current=!1})},[t]);return(0,o.useEffect)(()=>(s.current=setInterval(()=>{try{t&&c()}catch(e){}},1500),()=>{u()}),[t]),(0,o.useEffect)(()=>{let e=()=>{c(!0)};return window.addEventListener("visibilitychange",e),()=>{window.removeEventListener("visibilitychange",e)}},[]),(0,o.useEffect)(()=>{l&&(u(),n(D.K.Expired))},[l]),{scanStatus:i}},L=()=>{let[e,t]=(0,o.useState)(!1);return{showConfirm:e,setShowConfirm:t}};var F=l("798128"),O=l("614956");let U=e=>{let{className:t}=e;return(0,a.jsxs)("div",{className:u()(O.default.infoContainer,t),children:[(0,a.jsxs)("div",{className:O.default.line1,children:[(0,a.jsx)("div",{className:O.default.line1_1}),(0,a.jsx)("div",{className:O.default.line1_2})]}),(0,a.jsxs)("div",{className:O.default.line2,children:[(0,a.jsx)("div",{className:O.default.line2_1}),(0,a.jsxs)("div",{className:O.default.line2_2,children:[(0,a.jsx)("div",{className:O.default.line2_2_1}),(0,a.jsx)("div",{className:O.default.line2_2_2}),(0,a.jsx)("div",{className:O.default.line2_2_3})]})]}),(0,a.jsx)("div",{className:O.default.divider}),(0,a.jsxs)("div",{className:O.default.line3,children:[(0,a.jsx)("div",{className:O.default.line3_1}),(0,a.jsx)("div",{className:O.default.line3_2})]}),(0,a.jsxs)("div",{className:O.default.line3,children:[(0,a.jsx)("div",{className:O.default.line3_1}),(0,a.jsx)("div",{className:O.default.line3_2})]}),(0,a.jsxs)("div",{className:O.default.line3,children:[(0,a.jsx)("div",{className:O.default.line3_1}),(0,a.jsx)("div",{className:O.default.line3_2})]})]})},Z=e=>{let{className:t}=e;return(0,a.jsx)("div",{className:u()(O.default.headerContainer,t),children:(0,a.jsxs)("div",{className:O.default.line1,children:[(0,a.jsx)("div",{className:O.default.line1_1}),(0,a.jsxs)("div",{className:O.default.line1_2,children:[(0,a.jsx)("div",{className:O.default.line1_2_1}),(0,a.jsx)("div",{className:O.default.line1_2_2})]})]})})},W=e=>{let{className:t}=e;return(0,a.jsxs)("div",{className:u()(O.default.codeContainer,t),children:[(0,a.jsx)("div",{className:O.default.line1,children:(0,a.jsx)("div",{className:O.default.line1_1})}),(0,a.jsxs)("div",{className:O.default.line2,children:[(0,a.jsx)("div",{className:O.default.line2_1}),(0,a.jsx)("div",{className:O.default.line2_1}),(0,a.jsx)("div",{className:O.default.line2_1})]}),(0,a.jsx)("div",{className:O.default.line3})]})},z=e=>{let{className:t}=e;return(0,a.jsxs)("div",{className:u()(O.default.payContainer,t),children:[(0,a.jsx)(Z,{}),(0,a.jsxs)("div",{className:O.default.body,children:[(0,a.jsx)(U,{}),(0,a.jsx)(W,{className:O.default.code})]})]})};var q=l("617010"),G=e=>{let{onClose:t}=e,[l,s]=(0,o.useState)(!1),r=(0,o.useRef)(),{roomId:m,promotionId:f,totalAmount:p,orderId:h,createTime:g,logParams:_,logId2:x,logId:j,isFullscreen:b}=(0,C.V)(e=>({roomId:d()(e,"roomId",""),promotionId:d()(e,"promotionId",""),logParams:d()(e,"logParams",{}),logId:d()(e,"apiRespStore.buyRenderData.logId",""),logId2:d()(e,"apiRespStore.createOrderData.logId",""),totalAmount:d()(e,"buyRenderPackData.totalPriceResult.total_amount",0),orderId:d()(e,"apiRespStore.createOrderData.data.order_id",""),createTime:1e3*Number(d()(e,"apiRespStore.createOrderData.data.create_time",new Date().getTime()/1e3)),payData:d()(e,"apiRespStore.createOrderData.data.pay_data",{}),isFullscreen:d()(e,"isFullscreen")})),N=(0,o.useRef)(new Date().getTime()),{showConfirm:y,setShowConfirm:A}=L(),{scanStatus:I}=B({orderId:h,isCountdownEnd:l}),{detail:k}=P({delayTime:3e3,orderId:h,roomId:m,promotionId:f}),{countdown:S=-1}=(0,o.useMemo)(()=>{let e=d()(k,"shop_order.shop_order_status.count_down_deadline",0);return{countdown:(e-d()(k,"shop_order.shop_order_status.count_down_now",new Date().getTime()/1e3))*1e3}},[k]);if((0,F.M)("ecom/Pay"),(0,o.useEffect)(()=>(S>0&&(r.current=setTimeout(()=>{s(!0)},S+15e3)),()=>{clearTimeout(r.current)}),[S]),(0,o.useEffect)(()=>{if(I===D.K.Expired||I===D.K.Success){clearTimeout(r.current);let e=new Date().getTime()-N.current;(0,w.qP)("orderPayWindowDuration",(0,n._)((0,i._)({},_),{log_id:j,log_id2:x,duration:e,order_id:h,pay_amount:p,pay_status:I===D.K.Expired?"failed":"success"}))}},[I]),!h)return(0,a.jsx)(v.Z,{onClose:t,className:c.default.container,multiMask:!!(!b&&m),children:(0,a.jsx)(z,{})});let E=()=>{A(!1),null==t||t(),I===D.K.Polling&&(0,w.qP)("orderPayWindowDuration",(0,n._)((0,i._)({},_),{log_id:j,log_id2:x,duration:new Date().getTime()-N.current,order_id:h,pay_amount:p,pay_status:"close_page"}))};return(0,a.jsxs)(v.Z,{onClose:()=>{if(I===D.K.Polling){A(!0);return}E()},className:u()(c.default.container,{[c.default.success]:I!==D.K.Polling}),multiMask:!!(!b&&m),children:[I===D.K.Expired&&(0,a.jsx)(M,{totalAmount:p,orderTime:Number(g),orderId:h}),I===D.K.Success&&(0,a.jsx)(R,{totalAmount:p,orderTime:Number(g),orderId:h}),I===D.K.Polling&&(0,a.jsx)(q.Z,{countdown:S}),y&&(0,a.jsx)(T.Z,{okText:"继续付款",cancleText:"放弃",onCancle:E,onOk:()=>{A(!1)},title:"确认放弃支付？",content:"放弃支付后可在「抖音app首页 - 商城 - 我的订单」中查看订单详情"})]})}},178462:function(e,t,l){"use strict";l.d(t,{PH:function(){return n},RR:function(){return a},SC:function(){return o},_t:function(){return i},sp:function(){return s}});var i={ALL:1,1:"ALL",ADDRESS:2,2:"ADDRESS",INCREASE_SKU_NUM:3,3:"INCREASE_SKU_NUM",COUPON:4,4:"COUPON",RED_PACK:5,5:"RED_PACK",DECREASE_SKU_NUM:6,6:"DECREASE_SKU_NUM",SKU:7,7:"SKU"},n={TEXT:1,1:"TEXT",ICON:2,2:"ICON",LINK:3,3:"LINK"},a={SecondSkill:7,7:"SecondSkill",ShopFullDiscount:100,100:"ShopFullDiscount",PlatformFullDiscount:110,110:"PlatformFullDiscount",SpellGroup:120,120:"SpellGroup",MultiPhase:10,10:"MultiPhase",deduction:150,150:"deduction"},o={text:"text",icon:"icon",link:"link"},s={PLATFORM:1,1:"PLATFORM",SHOP:2,2:"SHOP",KOL:3,3:"KOL"}},803264:function(e,t,l){"use strict";l.d(t,{t:function(){return i}});var i={AllLevel:1,1:"AllLevel",PhotoAndVideo:2,2:"PhotoAndVideo",WithAppend:5,5:"WithAppend",Good:3,3:"Good",MidBad:8,8:"MidBad"}},66865:function(e,t,l){"use strict";l.d(t,{Jf:function(){return a},Wq:function(){return n},XH:function(){return i},rQ:function(){return o}});var i={text:"text",linkText:"linkText"},n={TEXT:"text",ICON:"icon"},a={Footer:"footer",ProductSupportInfo:"productSupportInfo",Shop:"shop",CommentInfo:"commentInfo",ProductParam:"productParam",PackDetail:"packDetail",HeadFigure:"headFigure",BasicInfo:"basicInfo",ActivityGirdle:"activityGirdle"},o={AddressInfo:"addressInfo",BottomBar:"bottomBar",ProductCard:"productCard",SkuCard:"skuCard",RightsInfo:"RightsInfo",AddressModal:"addressModal"}},242801:function(e,t,l){"use strict";l.d(t,{Nf:function(){return i}});var i={LogisticsLabelTypeSender:1,1:"LogisticsLabelTypeSender",LogisticsLabelTypeReceiverIll:2,2:"LogisticsLabelTypeReceiverIll",LogisticsLabelTypeSenderIll:3,3:"LogisticsLabelTypeSenderIll",LogisticsLabelTypeReceiver:4,4:"LogisticsLabelTypeReceiver",LogisticsLabelTypeTrace:5,5:"LogisticsLabelTypeTrace"}},480200:function(e,t,l){"use strict";l.d(t,{m:function(){return n},z:function(){return i}}),l(777180),l(874386),l(413806),l(826893);let i=e=>{let[t,l]=(e/100).toFixed(2).split(".");return[t,l]},n=e=>null==e?void 0:e.split(".")},138378:function(e,t,l){"use strict";l.d(t,{ES:function(){return u},NB:function(){return r},u_:function(){return v},uj:function(){return m},xB:function(){return c}});var i=l(520739),n=l(878389);l(268917),l(874386),l(242079),l(851912),l(826893),l(927234),l(954372),l(673554),l(784246);var a=l(23902),o=l.n(a),s=l(178462),d=l(857404);let r=e=>{if(!(null==e?void 0:e.shop_product_cards))return{isSingle:!0,productNumCollect:{},shopProductCardsShow:[],invalidProductList:[]};let{shop_product_cards:t,shop_info_map:l,sku_campaign_info_map:a,sku_insurance_map:o,total_price_result:d}=e,r={[s.RR.SecondSkill]:"secondKill",[s.RR.ShopFullDiscount]:"shopFullDiscount",[s.RR.PlatformFullDiscount]:"platformFullDiscount",[s.RR.SpellGroup]:"spellGroup",[s.RR.MultiPhase]:"multiPhase"},u=0,c={},v=[];try{let e=t.map(e=>{var t,s,m,f,p,h;let{shop_id:g,valid_product_cards:_,invalid_product_cards:x}=e,j=_?_.map(e=>{var t,l,s,u;let{sku_id:v,buy_num:m}=e;c[v]=m;let f={};return null==a||null===(t=a[v])||void 0===t||t.forEach(e=>{let t=r[e.stype];t&&(f[t]=e)}),(0,n._)((0,i._)({},e),{sku_campaign_info:f,sku_price:null==d?void 0:null===(u=d.shop_sku_map)||void 0===u?void 0:null===(s=u[g])||void 0===s?void 0:null===(l=s.sku_list)||void 0===l?void 0:l[v],sku_insurance:null==o?void 0:o[v]})}):[],b=(null==x?void 0:x.length)?x.map(e=>{var t,l,s,u;let{sku_id:v,buy_num:m}=e;c[v]=m;let f={};return null==a||null===(t=a[v])||void 0===t||t.forEach(e=>{let t=r[null==e?void 0:e.stype];t&&(f[t]=e)}),(0,n._)((0,i._)({},e),{sku_campaign_info:f,sku_price:null==d?void 0:null===(u=d.shop_sku_map)||void 0===u?void 0:null===(s=u[g])||void 0===s?void 0:null===(l=s.sku_list)||void 0===l?void 0:l[v],sku_insurance:null==o?void 0:o[v]})}):[];return v.push(...b),u+=j.length+b.length,(0,n._)((0,i._)({},e),{shop_info:null==l?void 0:l[g],shop_discount_detail:null==d?void 0:null===(s=d.shop_sku_map)||void 0===s?void 0:null===(t=s[g])||void 0===t?void 0:t.shop_discount_detail,shop_freight_fee:null==d?void 0:null===(f=d.shop_sku_map)||void 0===f?void 0:null===(m=f[g])||void 0===m?void 0:m.shop_freight_fee,shop_tax_amount:null==d?void 0:null===(h=d.shop_sku_map)||void 0===h?void 0:null===(p=h[g])||void 0===p?void 0:p.shop_tax_amount,valid_product_cards:j,invalid_product_cards:b})});return{isSingle:1===u,productNumCollect:c,shopProductCardsShow:e,invalidProductList:v}}catch(e){return{isSingle:!0,productNumCollect:{},shopProductCardsShow:[],invalidProductList:[]}}},u=(e,t)=>{if(!e||!t)return[];let l=new RegExp(t.map(e=>e||".*?").join("_"));return Object.keys(e).filter(e=>l.test(e)).map(t=>e[t])},c=function(e){if(!e||o()(e))return"";let t=Object.keys(e).find(t=>{var l;return null===(l=e[t])||void 0===l?void 0:l.can_select});return t?String(t):Object.keys(e)[0]},v=(e,t)=>{var l;return null==e?void 0:null===(l=e.map(e=>e.spec_items.map(e=>(null==t?void 0:t[null==e?void 0:e.id])?{url:null==t?void 0:t[null==e?void 0:e.id],subTitle:null==e?void 0:e.name,type:"image",id:null==e?void 0:e.id}:"").filter(e=>e)))||void 0===l?void 0:l.flat()},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,d.A)(e.entrance_info);return(0,i._)({origin_id:e.origin_id,origin_type:e.origin_type,new_source_type:e.new_source_type||t.new_source_type},e.buyin_track&&{buyin_track:e.buyin_track},e.activity_id&&{activity_id:e.activity_id},e.spell_group_id&&{group_id:e.spell_group_id},e.order_id&&{order_id:e.order_id},e.phase_order_id&&{phase_order_id:e.phase_order_id})}},728160:function(e,t,l){"use strict";l.d(t,{Ol:function(){return i},Op:function(){return o},YN:function(){return a},gG:function(){return n}}),l(954372),l(826893);let i=e=>e?"":"请填写收货人",n=e=>e?/^1\d{10}$/.test(e)?"":"请填写正确的手机号码":"请填写手机号码",a=e=>{let{prov_id:t,city_id:l,area_id:i,street_id:n}=e||{};return t?l?i?"":"请选择地区":"请选择城市":"请选择省份"},o=e=>e?(null==e?void 0:e.length)<2||(null==e?void 0:e.length)>50?"详细地址请填写2-50字":"":"请填写详细地址"},106606:function(e,t,l){"use strict";l.d(t,{G:function(){return o}}),l(268917),l(927234);var i=l(645260),n=l.n(i),a=l(623527);let o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"render",{componentName:l,pageName:i,data:o,requiredList:s,promotionId:d,logId:r}=e,u=[];return null==s||s.forEach(e=>{void 0===n()(o,e)&&u.push(e)}),(null==u?!void 0:!u.length)||("render"===t?a.oe.event.error({name:a.Mo.EcomDetailDataError,report:{componentName:l,pageName:i,fieldList:u.toString(),promotionId:d,logId:r}}):a.oe.event.error({name:a.Mo.EcomCommissionOrAttributionFieldMissed,report:{fieldList:u.toString(),promotionId:d,logId:r}}),!1)}},291278:function(e,t,l){"use strict";l.d(t,{CZ:function(){return u},T4:function(){return d},Ti:function(){return r},om:function(){return c}}),l(777180);var i=l(439837),n=l.n(i),a=l(577603),o=l.n(a);n().extend(o());let s=(e,t)=>{let l=n()(e),i=n()(t).diff(l),a=n().duration(i);return{year:a.years(),month:a.months(),day:a.days()}},d=e=>{let t=n()().format("YYYY-MM-DD HH:mm:ss"),{year:l,month:i,day:a}=s(e,t),o=n()(t).startOf("day"),d=n()(e).startOf("day"),r=o.diff(d,"day");return 0===l&&0===i?0===r?"今天":`${r}天前`:0===l?a>=15?`${i+1}个月前`:`${i}个月前`:`${l}年前`},r=(e,t)=>{let{year:l,month:i,day:a}=s(e,t),o=n()(t).startOf("day"),d=n()(e).startOf("day"),r=o.diff(d,"day");return 0===l&&0===i?0===r?"当天":`${r}天后`:0===l?a>=15?`${i+1}个月后`:`${i}个月后`:`${l}年后`},u=e=>e?e<1e4?`${e}`:e<1e8?`${(e/1e4).toFixed(1)}万`:`${(e/1e8).toFixed(1)}亿`:"",c=e=>{var t,l,i;return(null==e?void 0:e.Content)||(null==e?void 0:null===(t=e.Videos)||void 0===t?void 0:t.length)>0||(null==e?void 0:null===(l=e.Photos)||void 0===l?void 0:l.length)>0||(null==e?void 0:null===(i=e.Appends)||void 0===i?void 0:i.length)>0}},767855:function(e,t,l){"use strict";l.d(t,{mr:function(){return i},rW:function(){return a},uf:function(){return n}}),l(777180),l(954372),l(826893),l(250440);let i=e=>{let t=Math.floor(e/86400),l=Math.floor(e/3600%24),i=Math.floor(e/60%60),n=Math.floor(e%60),a=l<=9?`0${l}`:`${l}`,o=i<=9?`0${i}`:`${i}`,s=n<=9?`0${n}`:`${n}`;return t>0?`${t} 天 ${a} : ${o} : ${s}`:`${a} : ${o} : ${s}`},n=e=>{let t=Number(e);if(!t)return"";let l=1e4;if(t>=1e4){let e=Math.floor(Math.log(t)/Math.log(l)),i=(t/Math.pow(l,e)).toFixed(1);return`${String(i)}w`}return String(t)};function a(e){try{var t,l,i,n;if(!/^\#.*/.test(e)||![4,7,9].includes(null==e?void 0:e.length))return e;let a=255,o=255,s=255,d=1;return(null==e?void 0:e.length)===4?(a=Number(`0x${null==e?void 0:null===(t=e.slice(1,2))||void 0===t?void 0:t.repeat(2)}`),o=Number(`0x${null==e?void 0:null===(l=e.slice(2,3))||void 0===l?void 0:l.repeat(2)}`),s=Number(`0x${null==e?void 0:null===(i=e.slice(3,4))||void 0===i?void 0:i.repeat(2)}`)):(a=Number(`0x${null==e?void 0:e.slice(1,3)}`),o=Number(`0x${null==e?void 0:e.slice(3,5)}`),s=Number(`0x${null==e?void 0:e.slice(5,7)}`),(null==e?void 0:e.length)===9&&(d=Number((n=Number(`0x${null==e?void 0:e.slice(7,9)}`)/255,void 0===n)?void 0:n.toFixed(2)))),`rgba(${a},${o},${s},${d})`}catch(t){return e}}},857404:function(e,t,l){"use strict";l.d(t,{A:function(){return i},U:function(){return n}}),l(897860);let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0;if(!e)return t;try{if(l&&l.ignoreDecode)return JSON.parse(e);return JSON.parse(decodeURIComponent(e))}catch(e){return t}},n=e=>{let t=parseInt(e,10);return Number.isNaN(t)?0:t}},360585:function(e,t,l){"use strict";l.d(t,{TZ:function(){return m},s1:function(){return v},Ty:function(){return p},Do:function(){return c},vZ:function(){return u},RI:function(){return f}});let i="submit_orders_page_load_duration_start",n="submit_orders_page_load_duration_end",a="submit_orders_page_stay_time_start",o="submit_orders_page_stay_time_end",s={},d=e=>{s[e]=new Date().getTime()},r=(e,t)=>s[t]&&s[e]?{duration:s[t]-s[e],clear:()=>{delete s[e],delete s[t]}}:null,u=()=>d(i),c=()=>d(n),v=()=>r(i,n),m=()=>d(a),f=()=>d(o),p=()=>r(a,o)},410594:function(e,t,l){"use strict";l.d(t,{j:function(){return i}}),l(242079),l(851912),l(826893),l(927234),l(954372);let i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new RegExp(/^http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&=]*)?/).test(e)}},722849:function(e,t,l){"use strict";l.d(t,{Y:function(){return n}});var i=l(410594);let n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"noopener";(0,i.j)(e)&&window.open(e,t,l)}},526425:function(e,t,l){"use strict";l.d(t,{Bd:function(){return c},Bq:function(){return N},EF:function(){return p},LV:function(){return g},Mw:function(){return j},RT:function(){return w},YU:function(){return f},ZC:function(){return r},d6:function(){return h},d9:function(){return A},dz:function(){return v},fT:function(){return u},j4:function(){return m},mZ:function(){return _},tg:function(){return b},v2:function(){return x},vz:function(){return y}});var i=l(520739),n=l(878389);l(675373),l(779788);var a=l(576660),o=l(66863),s=l(679584);let{COMMON_SEARCH_PARAMS:d}=a;async function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{orderId:l}=e||{},a=await (0,o.v_)("/aweme/v1/web/ecom/order/pay/status/",(0,n._)((0,i._)({},d,(0,s.F)({})),{device_platform:"webapp"}),{shop_order_id_list:l},void 0,t);return{data:a.data,statusCode:a.status_code,logPb:a.log_pb}}async function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{id:l}=e||{},a=await (0,o.U2)("/shop/getBusListFull",(0,n._)((0,i._)({},d,(0,s.F)({})),{device_platform:"webapp",id:l}),{},void 0,t);return{data:a.data,statusCode:a.st,logPb:a.log_pb}}async function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{orderId:l,payRiskInfo:a="",payInfo:r=""}=e||{},u=await (0,o.v_)("/aweme/v1/web/ecom/order/pay/refresh/",(0,n._)((0,i._)({},d,(0,s.F)({})),{device_platform:"webapp"}),{pay_type:16,sub_way:13,order_id:l,pay_risk_info:a,pay_info:r},void 0,t);return{data:u.data,statusCode:u.status_code,logPb:u.log_pb}}async function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{orderId:l}=e||{},a=await (0,o.v_)("/aweme/v1/web/ecom/order/detail/",(0,n._)((0,i._)({},d,(0,s.F)({})),{device_platform:"webapp"}),{shop_order_id:l},void 0,t);return{data:a.data,statusCode:a.status_code,logPb:a.log_pb}}async function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{orderId:l,originId:a,originType:r,productName:u}=e;return await (0,o.v_)("/aweme/v1/web/ecom/pay/notice/",(0,n._)((0,i._)({},d,(0,s.F)({})),{device_platform:"webapp"}),{order_id:l,origin_id:a,origin_type:r,enter_from:"douyin_pc_pay",product_name:u},void 0,t)}async function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await (0,o.v_)("/aweme/v1/web/ecom/order/confirm/",(0,n._)((0,i._)({},d,(0,s.F)({})),{device_platform:"webapp"}),{json_form:JSON.stringify(e)},{},t)}async function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await (0,o.v_)("/aweme/v1/web/ecom/order/confirm/edit/",(0,n._)((0,i._)({},d,(0,s.F)({})),{device_platform:"webapp"}),{json_form:JSON.stringify(e)},void 0,t)}async function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await (0,o.v_)("/aweme/v1/web/ecom/product/sku/list/",(0,n._)((0,i._)({},d,(0,s.F)({})),{device_platform:"webapp"}),e,{headers:{"Content-Type":"application/json"},isDataUseJson:!0},t)}async function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await (0,o.v_)("/aweme/v1/web/ecom/order/create/",(0,n._)((0,i._)({},d,(0,s.F)({})),{device_platform:"webapp"}),{json_form:JSON.stringify(e)},void 0,t)}async function _(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return await (0,o.U2)("/aweme/v1/web/address/getlist/",(0,n._)((0,i._)((0,n._)((0,i._)({},d),{source_page:"pc_pay"}),(0,s.F)({})),{device_platform:"webapp"}),{},void 0,e)}async function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await (0,o.v_)("/aweme/v1/web/address/report/",(0,n._)((0,i._)({},d,(0,s.F)({})),{device_platform:"webapp"}),{address_selected_payload_str:JSON.stringify({addr_id:e,source_page:"pc_pay"}),address_event:"AddressSelected"},void 0,t)}async function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await (0,o.v_)("/aweme/v1/web/address/save/",(0,n._)((0,i._)({},d,(0,s.F)({})),{device_platform:"webapp"}),(0,i._)({adapt:1,scene:"double_address"},e),void 0,t)}async function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await (0,o.v_)("/aweme/v1/web/address/disable/",(0,n._)((0,i._)({},d,(0,s.F)({})),{device_platform:"webapp",add_id:e}),{},void 0,t)}async function N(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return await (0,o.U2)("/aweme/v1/web/area/province/list/",(0,n._)((0,i._)((0,n._)((0,i._)({},d),{district_version:-1}),(0,s.F)({})),{device_platform:"webapp"}),{},void 0,e)}async function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await (0,o.U2)("/aweme/v1/web/area/city/list/",(0,n._)((0,i._)((0,n._)((0,i._)({},d),{district_version:-1,id:e}),(0,s.F)({})),{device_platform:"webapp"}),{},void 0,t)}async function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await (0,o.U2)("/aweme/v1/web/area/area/list/",(0,n._)((0,i._)((0,n._)((0,i._)({},d),{district_version:-1,id:e}),(0,s.F)({})),{device_platform:"webapp"}),{},void 0,t)}async function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await (0,o.U2)("/aweme/v1/web/area/street/list/",(0,n._)((0,i._)((0,n._)((0,i._)({},d),{district_version:-1,id:e}),(0,s.F)({})),{device_platform:"webapp"}),{},void 0,t)}},566176:function(e,t,l){"use strict";l.d(t,{$K:function(){return s},dR:function(){return d},m1:function(){return r}});var i=l(520739),n=l(878389);l(675373);var a=l(66863),o=l(679584);async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await (0,a.U2)("/aweme/v1/web/ecom/warcraft/api/coupon/couponlist/v2/",(0,i._)((0,n._)((0,i._)({},(0,o.F)({})),{device_platform:"webapp"}),e),{},void 0,t)}async function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await (0,a.v_)("/aweme/v1/web/ecom/warcraft/api/coupon/manualapply/",{},(0,n._)((0,i._)({},(0,o.F)({})),{device_platform:"webapp",coupon_meta_id:e,scene:"17"}),void 0,t)}async function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await (0,a.v_)("/aweme/v1/web/ecom/warcraft/api/coupon/commit_follow/",{},(0,i._)((0,n._)((0,i._)({},(0,o.F)({})),{device_platform:"webapp",scene:"17"}),e),void 0,t)}},269176:function(e,t,l){"use strict";var i=l(520739),n=l(878389),a=l(563097),o=l(88648);let s=(e,t)=>(0,a.jsxs)("svg",(0,n._)((0,i._)({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,a.jsx)("path",{d:"M8 14.67A6.667 6.667 0 1 0 8 1.335a6.667 6.667 0 0 0 0 13.333zm0-1A5.667 5.667 0 1 1 8 2.335a5.667 5.667 0 0 1 0 11.333z",fill:"#161823",fillOpacity:".5"}),(0,a.jsx)("path",{d:"M7.326 6.278c-.156.426-.337.528-.67.528a.667.667 0 0 1-.666-.667c0-1.007 1.314-1.603 2.166-1.603 1.392 0 2.177.886 2.177 1.875 0 .658-.49 1.005-.942 1.325-.36.255-.695.492-.74.855-.06.488-.314.615-.665.615a.667.667 0 0 1-.666-.667c0-.62.5-.933.954-1.217.374-.234.716-.448.716-.797 0-.45-.438-.656-.834-.656-.296 0-.702.057-.83.41zM7.99 11.336a.733.733 0 1 0 0-1.467.733.733 0 0 0 0 1.467z",fill:"#161823",fillOpacity:".5"})]})),d=(0,o.forwardRef)(s);t.Z=d},687971:function(e,t,l){"use strict";var i=l(520739),n=l(878389),a=l(563097),o=l(88648);let s=(e,t)=>(0,a.jsx)("svg",(0,n._)((0,i._)({width:8,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{d:"M7 13L1 7l6-6",stroke:"#fff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})),d=(0,o.forwardRef)(s);t.Z=d},457471:function(e,t,l){"use strict";var i=l(520739),n=l(878389),a=l(563097),o=l(88648);let s=(e,t)=>(0,a.jsx)("svg",(0,n._)((0,i._)({width:16,height:17,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("g",{fill:"#FE2C55",children:(0,a.jsx)("path",{d:"M7.447 3.194c.069-.79.72-1.457 1.554-1.457.825 0 1.514.674 1.473 1.525-.023.49-.066 1.102-.145 1.693a9.766 9.766 0 0 1-.167.932h2.743a1.833 1.833 0 0 1 1.798 2.192l-.88 4.413a2.5 2.5 0 0 1-2.452 2.01H5.8a.133.133 0 0 1-.133-.133V6.39c0-.06.04-.112.097-.13.771-.244 1.357-.842 1.494-1.62.097-.55.155-1.046.19-1.445zM4.667 6.512a.133.133 0 0 0-.134-.133H3.198c-.666 0-1.205.54-1.204 1.205l.005 5.753c.001.644.523 1.165 1.167 1.165h1.367c.074 0 .134-.06.134-.133V6.512z"})})})),d=(0,o.forwardRef)(s);t.Z=d},899961:function(e,t,l){"use strict";var i=l(520739),n=l(878389),a=l(563097),o=l(88648);let s=(e,t)=>(0,a.jsx)("svg",(0,n._)((0,i._)({width:16,height:17,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{d:"M9.032 1.637c-1.237 0-2.19.99-2.316 2.137-.032.294-.076.62-.135.966-.15.876-.978 1.519-2.01 1.519H3.266a1.37 1.37 0 0 0-1.37 1.372l.005 5.572c.001.774.629 1.4 1.402 1.4h7.993a2.7 2.7 0 0 0 2.648-2.171l.858-4.299a2.051 2.051 0 0 0-2.011-2.453h-1.804c.114-.597.175-1.245.21-1.774.085-1.274-.951-2.269-2.166-2.269zm-.82 2.303c.051-.469.431-.798.82-.798.407 0 .687.32.664.664-.06.898-.182 1.846-.389 2.333A.752.752 0 0 0 10 7.185h2.792c.344 0 .603.316.536.654l-.858 4.298c-.112.56-.603.962-1.173.962H6V7.486c1.03-.416 1.858-1.284 2.064-2.493.065-.378.113-.734.148-1.053zM4.5 7.764v5.335H3.407l-.005-5.335H4.5z",fill:"#161823",fillOpacity:".34"})})),d=(0,o.forwardRef)(s);t.Z=d},447942:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return SliceRender}});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(101380);function translateH5Attr(e){var t,l;let i={for:e.for},n={};return(e[":click_action"]||(null===(t=null==e?void 0:e.click_action)||void 0===t?void 0:t[":type"])||(null===(l=null==e?void 0:e.click_action)||void 0===l?void 0:l[":disable"]))&&(i.click_action=(null==e?void 0:e.click_action)||e[":click_action"]),Object.keys(e.attr||{}).forEach(t=>{/^\:(.*)/.test(t)?i[RegExp.$1]=e.attr[t]:n[t]=e.attr[t]}),{staticAttr:n,bindAttr:i}}let info=(...e)=>{},warn=(...e)=>{},error=(...e)=>{},success=(...e)=>{};var logger={info:info,warn:warn,error:error},isArray=Array.isArray,isArray$1=isArray,freeGlobal="object"==typeof window&&window&&window.Object===Object&&window,freeGlobal$1=freeGlobal,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal$1||freeSelf||Function("return this")(),root$1=root,Symbol=root$1.Symbol,Symbol$1=Symbol,objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty,nativeObjectToString$1=objectProto$4.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(e){var t=hasOwnProperty$3.call(e,symToStringTag$1),l=e[symToStringTag$1];try{e[symToStringTag$1]=void 0;var i=!0}catch(e){}var n=nativeObjectToString$1.call(e);return i&&(t?e[symToStringTag$1]=l:delete e[symToStringTag$1]),n}var objectProto$3=Object.prototype,nativeObjectToString=objectProto$3.toString;function objectToString(e){return nativeObjectToString.call(e)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString(e)}function isObjectLike(e){return null!=e&&"object"==typeof e}var symbolTag="[object Symbol]";function isSymbol(e){return"symbol"==typeof e||isObjectLike(e)&&baseGetTag(e)==symbolTag}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(e,t){if(isArray$1(e))return!1;var l=typeof e;return!("number"!=l&&"symbol"!=l&&"boolean"!=l&&null!=e&&!isSymbol(e))||reIsPlainProp.test(e)||!reIsDeepProp.test(e)||null!=t&&e in Object(t)}function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(e){if(!isObject(e))return!1;var t=baseGetTag(e);return t==funcTag||t==genTag||t==asyncTag||t==proxyTag}var uid,coreJsData=root$1["__core-js_shared__"],coreJsData$1=coreJsData,maskSrcKey=(uid=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||""),uid?"Symbol(src)_1."+uid:"");function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(e){if(null!=e){try{return funcToString$1.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$2=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$2=objectProto$2.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$2).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(e){return!(!isObject(e)||isMasked(e))&&(isFunction(e)?reIsNative:reIsHostCtor).test(toSource(e))}function getValue(e,t){return null==e?void 0:e[t]}function getNative(e,t){var l=getValue(e,t);return baseIsNative(l)?l:void 0}var nativeCreate=getNative(Object,"create"),nativeCreate$1=nativeCreate;function hashClear(){this.__data__=nativeCreate$1?nativeCreate$1(null):{},this.size=0}function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function hashGet(e){var t=this.__data__;if(nativeCreate$1){var l=t[e];return l===HASH_UNDEFINED$1?void 0:l}return hasOwnProperty$1.call(t,e)?t[e]:void 0}var objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function hashHas(e){var t=this.__data__;return nativeCreate$1?void 0!==t[e]:hasOwnProperty.call(t,e)}var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(e,t){var l=this.__data__;return this.size+=this.has(e)?0:1,l[e]=nativeCreate$1&&void 0===t?HASH_UNDEFINED:t,this}function Hash(e){var t=-1,l=null==e?0:e.length;for(this.clear();++t<l;){var i=e[t];this.set(i[0],i[1])}}function listCacheClear(){this.__data__=[],this.size=0}function eq(e,t){return e===t||e!=e&&t!=t}function assocIndexOf(e,t){for(var l=e.length;l--;)if(eq(e[l][0],t))return l;return -1}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet;var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(e){var t=this.__data__,l=assocIndexOf(t,e);return!(l<0)&&(l==t.length-1?t.pop():splice.call(t,l,1),--this.size,!0)}function listCacheGet(e){var t=this.__data__,l=assocIndexOf(t,e);return l<0?void 0:t[l][1]}function listCacheHas(e){return assocIndexOf(this.__data__,e)>-1}function listCacheSet(e,t){var l=this.__data__,i=assocIndexOf(l,e);return i<0?(++this.size,l.push([e,t])):l[i][1]=t,this}function ListCache(e){var t=-1,l=null==e?0:e.length;for(this.clear();++t<l;){var i=e[t];this.set(i[0],i[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet;var Map=getNative(root$1,"Map"),Map$1=Map;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function getMapData(e,t){var l=e.__data__;return isKeyable(t)?l["string"==typeof t?"string":"hash"]:l.map}function mapCacheDelete(e){var t=getMapData(this,e).delete(e);return this.size-=t?1:0,t}function mapCacheGet(e){return getMapData(this,e).get(e)}function mapCacheHas(e){return getMapData(this,e).has(e)}function mapCacheSet(e,t){var l=getMapData(this,e),i=l.size;return l.set(e,t),this.size+=l.size==i?0:1,this}function MapCache(e){var t=-1,l=null==e?0:e.length;for(this.clear();++t<l;){var i=e[t];this.set(i[0],i[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError(FUNC_ERROR_TEXT);var l=function(){var i=arguments,n=t?t.apply(this,i):i[0],a=l.cache;if(a.has(n))return a.get(n);var o=e.apply(this,i);return l.cache=a.set(n,o)||a,o};return l.cache=new(memoize.Cache||MapCache),l}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(e){var t=memoize(e,function(e){return l.size===MAX_MEMOIZE_SIZE&&l.clear(),e}),l=t.cache;return t}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(rePropName,function(e,l,i,n){t.push(i?n.replace(reEscapeChar,"$1"):l||e)}),t}),stringToPath$1=stringToPath;function arrayMap(e,t){for(var l=-1,i=null==e?0:e.length,n=Array(i);++l<i;)n[l]=t(e[l],l,e);return n}var INFINITY$1=1/0,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(e){if("string"==typeof e)return e;if(isArray$1(e))return arrayMap(e,baseToString)+"";if(isSymbol(e))return symbolToString?symbolToString.call(e):"";var t=e+"";return"0"==t&&1/e==-INFINITY$1?"-0":t}function toString(e){return null==e?"":baseToString(e)}function castPath(e,t){return isArray$1(e)?e:isKey(e,t)?[e]:stringToPath$1(toString(e))}var RenderType,TagType,RenderTagType,RenerScaleType,INFINITY=1/0;function toKey(e){if("string"==typeof e||isSymbol(e))return e;var t=e+"";return"0"==t&&1/e==-INFINITY?"-0":t}function baseGet(e,t){for(var l=0,i=(t=castPath(t,e)).length;null!=e&&l<i;)e=e[toKey(t[l++])];return l&&l==i?e:void 0}function get(e,t,l){var i=null==e?void 0:baseGet(e,t);return void 0===i?l:i}function resolveClickAction({dom:dom,data:originData,bindProps:bindProps,forData:forData,key:key}){let bindDataAttr=bindProps||dom._bindAttr,clickActionKey=bindDataAttr[key],hasItem=clickActionKey.includes("item"),_data=hasItem&&forData?forData:originData,data=createProxy(_data),value={};window[hasItem?"item":"data"]=data;try{value=eval(clickActionKey.replace(/index/g,"window.index").replace(/item/g,"window.item").replace(/data/g,"window.data").replace(/\=\=/g,"===").replace(/\!\=/g,"!=="))}catch(e){logger.error(e)}return value}function resolveClickActionItem({dom:dom,data:originData,bindProps:bindProps,forData:forData,key:key}){let bindDataAttr=bindProps||dom._bindAttr,actionObj=bindDataAttr[key],dynamicProps={},resultActionObj={};return Object.keys(actionObj).forEach(e=>{/^\:(.*)/.test(e)?dynamicProps[RegExp.$1]=actionObj[e]:resultActionObj[e]=actionObj[e]}),Object.keys(dynamicProps).forEach(item=>{try{let dynamicKey=dynamicProps[item],hasItem=dynamicKey.includes("item"),_data=hasItem&&forData?forData:originData,data=createProxy(_data);window[hasItem?"item":"data"]=data;let value=eval(dynamicKey.replace(/index/g,"window.index").replace(/item/g,"window.item").replace(/data/g,"window.data").replace(/\=\=/g,"===").replace(/\!\=/g,"!=="));resultActionObj[item]=value}catch(e){logger.error(e)}}),resultActionObj}function bindEvent({dom:e,data:t,bindProps:l,sliceEventPoster:i,forData:n,nodeId:a,key:o}){if(i){let s=l||e._bindAttr,d=s[o]&&"object"!=typeof s[o],r=d?resolveClickAction({dom:e,data:t,bindProps:l,forData:n,key:o}):resolveClickActionItem({dom:e,data:t,bindProps:l,forData:n,key:o});if(r.type){let l=s[o],u=(d?l.includes("item"):Object.keys(l).some(e=>!!/^\:(.*)/.test(e)&&l[e].includes("item")))&&n?n:t;e.onclick=t=>{t.stopPropagation(),"boolean"==typeof r.disable&&r.disable||i({triggerType:r.type,nodeId:a,extra:{clickAction:r.click_action,dom:e,data:u}})}}}}function bindAttr({dom:dom,data:originData,bindProps:bindProps,sliceEventPoster:sliceEventPoster,forData:forData,nodeId:nodeId}){let bindDataAttr=bindProps||dom._bindAttr,resultData={};return bindDataAttr&&Object.keys(bindDataAttr).forEach(item=>{var _a,_b;if("click_action"!==item){if(bindDataAttr[item]){let dataPath=bindDataAttr[item].split("."),path=dataPath.slice(1),originPath=null===(_b=null===(_a=null==dataPath?void 0:dataPath.slice)||void 0===_a?void 0:_a.call(dataPath,0,1))||void 0===_b?void 0:_b[0],isFor=originPath.includes("item")&&forData,_data=isFor?forData:originData;try{let value;if(/(option\(|len\(|strcat\()|\+|\-|\*|\/|>|<|\=|\!/.test(bindDataAttr[item])){let data=createProxy(_data);window[isFor?"item":"data"]=data,value=eval(bindDataAttr[item].replace(/index/g,"window.index").replace(/item/g,"window.item").replace(/data/g,"window.data").replace(/\=\=/g,"===").replace(/\!\=/g,"!=="))}else value=0===path.length?_data:get(_data,path.join("."));if(!value)return;"text"!==item||dom._customId?dom.getAttribute(item)!==value&&"text"!==item&&dom.setAttribute(item,value):dom.innerText=value,resultData[item]=value}catch(e){logger.error(e)}}}else bindEvent({dom:dom,data:originData,bindProps:bindProps,sliceEventPoster:sliceEventPoster,forData:forData,nodeId:nodeId,key:item})}),resultData}!function(e){e.H5="H5"}(RenderType||(RenderType={})),function(e){e.View="View",e.Scroll="Scroll",e.Text="Text",e.InlineText="InlineText",e.Input="TextInput",e.Image="Image",e.InlineImage="InlineImage"}(TagType||(TagType={})),function(e){e.View="div",e.Scroll="div",e.Text="div",e.InlineText="span",e.Input="input",e.Image="img",e.InlineImage="img"}(RenderTagType||(RenderTagType={})),function(e){e.fit_center="contain",e.fit_xy="fill",e.center_crop="cover"}(RenerScaleType||(RenerScaleType={}));let autoPrefixProps={"flex-grow":["-webkit-box-flex"]},autoPrefixValue={display:{flex:["-webkit-box"]}},autoPrefixPropsAndValue={"flex-direction":{row:["-webkit-box-orient","horizontal","-webkit-box-direction","normal","-webkit-flex-direction","row"],"row-reverse":["-webkit-box-orient","horizontal","-webkit-box-direction","reverse","-webkit-flex-direction","row-reverse"],column:["-webkit-box-orient","vertical","-webkit-box-direction","normal","-webkit-flex-direction","reverse"],"column-reverse":["-webkit-box-orient","vertical","-webkit-box-direction","reverse","-webkit-flex-direction","column-reverse"],inherit:["-webkit-box-orient","inherit","-webkit-box-direction","inherit","-webkit-flex-direction","inherit"],initial:["-webkit-box-orient","initial","-webkit-box-direction","initial","-webkit-flex-direction","inherit"],revert:["-webkit-box-orient","vertical","-webkit-box-direction","normal","-webkit-flex-direction","revert"],"revert-layer":["-webkit-box-orient","vertical","-webkit-box-direction","normal","-webkit-flex-direction","revert-layer"],unset:["-webkit-box-orient","unset","-webkit-box-direction","unset","-webkit-flex-direction","unset"]},"justify-content":{center:["-webkit-box-pack","center"],start:["-webkit-box-pack","start"],end:["-webkit-box-pack","end"],left:["-webkit-box-pack","left"],right:["-webkit-box-pack","right"],normal:["-webkit-box-pack","normal"],stretch:["-webkit-box-pack","stretch"],"flex-start":["-webkit-box-pack","start"],"flex-end":["-webkit-box-pack","end"],"space-between":["-webkit-box-pack","justify"],"space-evenly":["-webkit-box-pack","space-evenly"]},"align-items":{center:["-webkit-box-align","center"],start:["-webkit-box-align","start"],end:["-webkit-box-align","end"],normal:["-webkit-box-align","normal"],stretch:["-webkit-box-align","stretch"],baseline:["-webkit-box-align","baseline"],inherit:["-webkit-box-align","inherit"],initial:["-webkit-box-align","initial"],revert:["-webkit-box-align","revert"],unset:["-webkit-box-align","unset"],"first baseline":["-webkit-box-align","first baseline"],"last baseline":["-webkit-box-align","last baseline"],"unsafe center":["-webkit-box-align","unsafe center"],"safe center":["-webkit-box-align","safe center"],"flex-start":["-webkit-box-align","start"],"flex-end":["-webkit-box-align","end"],"revert-layer":["-webkit-box-align","revert-layer"]}};function realUnit(e){let t=e.px,l=e.designWidth,i=e.customDesignType;return 0===Number(t)?"0px":i?i(t):t/l*100+"vw"}function transformPercentOrRem(e){if(!e||void 0===e.value)return;let t=e.value,l=e.designWidth,i=e.customDesignType;if(0===Number(t))return"0px";if(Array.isArray(t))return t.map(e=>e?"number"==typeof e?realUnit({px:Number(e),designWidth:l,customDesignType:i}):e.includes("%")||"auto"===e?e:"stretch"===e?"100%":realUnit({px:Number(e),designWidth:l,customDesignType:i}):"0px").join(" ");if("string"==typeof t){if("stretch"===t)return"100%";if(t.includes("%")||"auto"===t)return t}return realUnit({px:Number(t),designWidth:l,customDesignType:i})}function transformColor(e){if(e){if(9===e.length){let t=parseInt(`0x${e.slice(1,3)}`,16)/255;return`rgba(${parseInt(`0x${e.slice(3,5)}`,16)},${parseInt(`0x${e.slice(5,7)}`,16)},${parseInt(`0x${e.slice(7,9)}`,16)},${t})`}return`rgb(${parseInt(`0x${e.slice(1,3)}`,16)},${parseInt(`0x${e.slice(3,5)}`,16)},${parseInt(`0x${e.slice(5,7)}`,16)})`}}function generatorStandStyleMap(e){if(!e.style)return{};let t=e.style,l=e.designWidth,i=e.customDesignType,n={width:transformPercentOrRem({value:t.width,designWidth:l,customDesignType:i}),"max-width":transformPercentOrRem({value:t.max_width,designWidth:l,customDesignType:i}),height:transformPercentOrRem({value:t.height,designWidth:l,customDesignType:i}),"max-height":transformPercentOrRem({value:t.max_height,designWidth:l,customDesignType:i}),padding:transformPercentOrRem({value:t.padding,designWidth:l,customDesignType:i}),margin:transformPercentOrRem({value:t.margin,designWidth:l,customDesignType:i}),"border-radius":transformPercentOrRem({value:t.radius,designWidth:l,customDesignType:i}),"border-color":transformColor(t.border_color),"border-style":t.border_style,"border-width":transformPercentOrRem({value:t.border_width,designWidth:l,customDesignType:i}),"background-color":t.bg_img?void 0:transformColor(t.bg_color),"background-image":t.bg_img?`url(${t.bg_img})`:void 0,visibility:t.visibility,"flex-direction":t.flex_direction,"justify-content":t.justify_content,"align-content":t.align_content,"align-items":t.align_items,"flex-wrap":t.flex_wrap,"flex-basis":t.flex_basis,"flex-grow":t.flex_grow,"flex-shrink":t.flex_shrink,"align-self":t.align_self,position:t.position,top:transformPercentOrRem({value:t.top,designWidth:l,customDesignType:i}),left:transformPercentOrRem({value:t.left,designWidth:l,customDesignType:i}),right:transformPercentOrRem({value:t.right,designWidth:l,customDesignType:i}),bottom:transformPercentOrRem({value:t.bottom,designWidth:l,customDesignType:i}),"font-size":transformPercentOrRem({value:t.font_size,designWidth:l,customDesignType:i}),"font-weight":t.font_weight,"text-align":t.text_align,color:transformColor(t.font_color),display:t.display,"vertical-align":t.vertical_align,"line-height":t.line_height,"-webkit-line-clamp":t.line||1,"text-overflow":t.text_overflow,"white-space":t.white_space,"-webkit-box-orient":t.box_orient,overflow:t.overflow,"bacground-position":t.bacground_position,"background-size":t.background_size},a={};return Object.keys(n).forEach(e=>{(n[e]||0===n[e])&&(a[e]=n[e])}),a}function autoPrefixerCss(e,t){var l,i;if(autoPrefixProps[e])return`${autoPrefixProps[e].reduce((e,l)=>`${e}${l}: ${t};`,"")}${e}: ${t};`;if(null===(l=autoPrefixValue[e])||void 0===l?void 0:l[t])return`${autoPrefixValue[e][t].reduce((t,l)=>`${t}${e}: ${l};`,"")}${e}: ${t};`;if(null===(i=autoPrefixPropsAndValue[e])||void 0===i?void 0:i[t]){let l="",i=autoPrefixPropsAndValue[e][t];for(let e=0;e<i.length;e+=2)l+=`${i[e]}: ${i[e+1]};`;return`${l}${e}: ${t};`}return""}function bindStyle(params){let dom=params.dom,originData=params.data,designWidth=params.designWidth,customDesignType=params.customDesignType,bindProps=params.bindProps,forData=params.forData,bindStyles=bindProps||dom._bindStyle;if(bindStyles){let tempStyle=Object.keys(bindStyles).reduce((result,item)=>{var _a,_b;if(bindStyles[item]){if(bindStyles[item].includes("[")){let data=createProxy(originData);window.data=data;try{return result[item]=eval(bindStyles[item].replace(/index/g,"window.index").replace(/item/g,"window.item").replace(/data/g,"window.data").replace(/\=\=/g,"===").replace(/\!\=/g,"!==")),window.data=void 0,result}catch(e){return logger.error(e),window.data=void 0,result}}let dataPath=bindStyles[item].split("."),path=dataPath.slice(1),originPath=null===(_b=null===(_a=null==dataPath?void 0:dataPath.slice)||void 0===_a?void 0:_a.call(dataPath,0,1))||void 0===_b?void 0:_b[0],isFor=originPath.includes("item"),_data=isFor?forData:originData;isFor&&(window.item=createProxy(forData)),window.data=createProxy(originData);let value=path.length?get(_data,path.join(".")):_data;try{/(option\(|len\(|strcat\()|\+|\-|\*|\/|>|<|\=|\!/.test(bindStyles[item])?result[item]=eval(bindStyles[item].replace(/index/g,"window.index").replace(/item/g,"window.item").replace(/data/g,"window.data").replace(/\=\=/g,"===").replace(/\!\=/g,"!==")):result[item]=value}catch(e){logger.error(e)}}return result},{}),standStyle=generatorStandStyleMap({style:tempStyle,designWidth:designWidth,customDesignType:customDesignType}),cssText=Object.keys(standStyle).reduce((e,t)=>{let l=autoPrefixerCss(t,standStyle[t]);return l?`${e}${l}`:e+`${t}: ${standStyle[t]};`},"");dom._styles=Object.assign(Object.assign({},dom._styles),standStyle),dom.style.cssText+=cssText}}function setCustomId(e){let t=e.oldNode,l=e.newNode,i=[...l.childNodes].filter(e=>e.nodeType===Node.ELEMENT_NODE),n=[...t.childNodes].filter(e=>e.nodeType===Node.ELEMENT_NODE);t&&l&&(i.forEach((e,t)=>{setCustomId({oldNode:n[t],newNode:e}),e._customId=n[t]._customId}),l._customId=t._customId)}function renderForNodeChildren(e){let t=e||{},l=t.nodes,i=t.oldNodes,n=t.data,a=t.forData,o=t.designWidth,s=t.nodeId,d=void 0===s?"":s,r=t.customDesignType,u=t.customInstanceMap,c=t.isUpdate,v=t.sliceEventPoster;try{null==l||l.forEach((e,t)=>{var l,s,m,f,p,h,g,_;if(e.nodeType!==Node.ELEMENT_NODE)return;e._customId&&(null===(s=null===(l=null==u?void 0:u[e._customId])||void 0===l?void 0:l[c?"beforeDataUpdate":"beforeBindData"])||void 0===s||s.call(l,n,e)),bindStyle({dom:e,data:n,bindProps:null===(m=null==i?void 0:i[t])||void 0===m?void 0:m._bindStyle,designWidth:o,customDesignType:r,forData:a});let x=bindAttr({dom:e,data:n,nodeId:d,sliceEventPoster:v,bindProps:Object.assign(Object.assign({},(null===(f=null==i?void 0:i[t])||void 0===f?void 0:f._bindAttr)||[]),{for:void 0}),forData:a});e._customId&&(null===(h=null===(p=null==u?void 0:u[e._customId])||void 0===p?void 0:p[c?"afterDataUpdate":"afterBindData"])||void 0===h||h.call(p,x,e)),(null===(g=null==e?void 0:e.childNodes)||void 0===g?void 0:g.length)&&renderForNodeChildren({nodes:[...(null==e?void 0:e.childNodes)||[]],oldNodes:[...(null===(_=null==i?void 0:i[t])||void 0===_?void 0:_.childNodes)||[]],data:n,forData:a,designWidth:o,nodeId:d,isUpdate:c,customInstanceMap:u,customDesignType:r})})}catch(e){logger.error(e)}}function renderNode(e,t){var l,i,n,a,o,s,d;try{let r=e.curDom,u=e.designWidth,c=e.customDesignType,v=e.data,m=e.nodeId,f=e.customInstanceMap,p=e.isUpdate,h=r.parentNode,g=[...r.childNodes].filter(e=>e.nodeType===Node.ELEMENT_NODE),_=get(e,get(r._bindAttr,"for.items"))||[];for(let x=null!==(l=null!=t?t:r._bindAttr.for.start)&&void 0!==l?l:0;x<get(r._bindAttr,"for.end",_.length);x++){r._customId&&(null===(n=null===(i=null==f?void 0:f[r._customId])||void 0===i?void 0:i.beforeBindData)||void 0===n||n.call(i,v,r));let t=r.cloneNode(!0),l=[...t.childNodes].filter(e=>e.nodeType===Node.ELEMENT_NODE);setCustomId({newNode:t,oldNode:r}),t.removeAttribute("data-my-display"),window.index=x,r._customId&&(null===(o=null===(a=null==f?void 0:f[r._customId])||void 0===a?void 0:a[p?"beforeDataUpdate":"beforeBindData"])||void 0===o||o.call(a,v,r)),bindStyle({dom:t,data:v,bindProps:r._bindStyle,designWidth:u,customDesignType:c,forData:null==_?void 0:_[x]});let j=bindAttr({dom:t,data:v,nodeId:m,sliceEventPoster:e.sliceEventPoster,bindProps:Object.assign(Object.assign({},r._bindAttr),{for:void 0}),forData:null==_?void 0:_[x]});r._customId&&(null===(d=null===(s=null==f?void 0:f[r._customId])||void 0===s?void 0:s[p?"afterDataUpdate":"afterBindData"])||void 0===d||d.call(s,j,r)),renderForNodeChildren({nodes:l,oldNodes:g,data:v,forData:_[x],designWidth:u,nodeId:m,isUpdate:p,customInstanceMap:f,sliceEventPoster:e.sliceEventPoster,customDesignType:c}),window.index=void 0,t.style.display=r.dataset.display,t._bindAttr=Object.assign(Object.assign({},r._bindAttr),{for:void 0}),t._bindStyle=r._bindStyle,t._customId=r._customId,t._isCloneNode=!0,h.insertBefore(t,r)}}catch(e){logger.error(e)}}function renderFor(e){let t=e.curDom,l=e.customInstanceMap,i=e.data,n=e.designWidth,a=e.customDesignType,o=e.nodeId,s=[],d=[t];[...t.childNodes].forEach(e=>{var t;e.nodeType===Node.ELEMENT_NODE&&((null===(t=e._bindAttr)||void 0===t?void 0:t.for)?s.push(e):d.push(e))}),s.forEach(t=>{renderNode(Object.assign(Object.assign({},e),{curDom:t})),t.setAttribute("data-my-display",t.style.display),t.style.display="none"}),d.forEach(t=>{var s,d,r,u;t._customId&&(null===(d=null===(s=null==l?void 0:l[t._customId])||void 0===s?void 0:s.beforeBindData)||void 0===d||d.call(s,i,t)),bindStyle({dom:t,data:i,bindProps:t._bindStyle,designWidth:n,customDesignType:a});let c=bindAttr({dom:t,data:i,nodeId:o,sliceEventPoster:e.sliceEventPoster,bindProps:Object.assign(Object.assign({},t._bindAttr),{for:void 0})});t._customId&&(null===(u=null===(r=null==l?void 0:l[t._customId])||void 0===r?void 0:r.afterBindData)||void 0===u||u.call(r,c,t))})}function updateFor(e){let t=e.curDom,l=e.customInstanceMap,i=e.nodeId,n=e.data,a=e.designWidth,o=e.customDesignType,s=[],d=[t],r=[];[...t.childNodes].forEach(e=>{var t,l;e.nodeType===Node.ELEMENT_NODE&&((null==e?void 0:e._isCloneNode)?r.push(e):(null===(t=null==e?void 0:e._bindAttr)||void 0===t?void 0:t.for)?(null===(l=null==e?void 0:e._bindAttr)||void 0===l?void 0:l.for)&&s.push(e):d.push(e))}),r.forEach(e=>{t.removeChild(e)}),s.forEach(t=>{let l=t.getAttribute("data-my-display");l&&(t.style.display=l),renderNode(Object.assign(Object.assign({},e),{isUpdate:!0,curDom:t})),t.style.display="none"}),d.forEach(t=>{var s,d,r,u;t._customId&&(null===(d=null===(s=null==l?void 0:l[t._customId])||void 0===s?void 0:s.beforeDataUpdate)||void 0===d||d.call(s,n,t)),bindStyle({dom:t,data:n,bindProps:t._bindStyle,designWidth:a,customDesignType:o});let c=bindAttr({dom:t,data:n,nodeId:i,sliceEventPoster:e.sliceEventPoster,bindProps:Object.assign(Object.assign({},t._bindAttr),{for:void 0})});t._customId&&(null===(u=null===(r=null==l?void 0:l[t._customId])||void 0===r?void 0:r.beforeDataUpdate)||void 0===u||u.call(r,c,t))})}let dataMap={},requestMap={};function jsonLoader(e){if(dataMap[e])return dataMap[e];if(requestMap[e])return requestMap[e];let t=fetch(e,{credentials:"same-origin",mode:"cors"}).then(t=>{let l=t.json();return dataMap[e]=l,l}).catch(t=>(logger.error(`load template fail: ${e}`),Promise.reject(t)));return requestMap[e]=t,t}function translateH5Style(e,t,l){let i={"box-sizing":"border-box",position:"relative","border-style":"solid","border-width":"0px",overflow:"hidden",display:"flex","background-size":"cover","align-content":"flex-start"},n={},a=e.style,o=[TagType.InlineText,TagType.InlineImage].includes(e.type);return e.type===TagType.Scroll&&(i["overflow-x"]="scroll",i["overflow-y"]="hidden"),(e.type===TagType.Image||e.type===TagType.InlineImage)&&a&&(i["object-fit"]=RenerScaleType[a.scale_type]||RenerScaleType.fit_center),o&&(i.display="inline"),i=Object.assign(Object.assign({},i),generatorStandStyleMap({style:a,designWidth:t,customDesignType:l})),Object.keys(a||{}).forEach(e=>{/^\:(.*)/.test(e)&&(n[RegExp.$1]=a[e])}),{staticStyle:i,bindStyle:n}}function translateH5Tag(e){return document.createElement(RenderTagType[e])}function setStaticAttrs(e){let t=e.dom,l=e.style,i=e.attrs;l&&(t.style.cssText=Object.keys(l.staticStyle).reduce((e,t)=>{let i=autoPrefixerCss(t,l.staticStyle[t]);return i?`${e}${i}`:`${e}${t}: ${l.staticStyle[t]};`},""),t._bindStyle=l.bindStyle,t._styles=l.staticStyle),i&&(Object.keys(i.staticAttr).forEach(e=>{let l=i.staticAttr[e];l&&("text"!==e?t.setAttribute(e,l):t.innerText=l)}),t._bindAttr=i.bindAttr)}let falseProxyObject=new Proxy({__falseProxyObject:"__falseProxyObject"},{get:(e,t,l)=>l});function addSubProxy(e){return new Proxy(e,{get:(e,t,l)=>null===e[t]||void 0===e[t]?falseProxyObject:("object"==typeof e[t]&&addSubProxy(e[t]),Reflect.get(e,t,l))})}function createProxy(e){return e&&"object"==typeof e?addSubProxy(e):e}let id=0;function h5Translator(e){var t,l;let i;let n=e||{},a=n.resultData,o=n.customDesignType,s=n.designWidth,d=n.sliceEventPoster,r=n.nodeId,u=n.customFnMap,c=n.customInstanceMap,v=n.rootDom;if(!a)return;let m=translateH5Style(a,s,o),f=translateH5Attr(a);if(u[a.type]){let e=new u[a.type]((e,t)=>{d&&d({triggerType:e,nodeId:r,extra:{args:t}})});null===(t=e.beforeCreateView)||void 0===t||t.call(e,a),i=e.render(),null===(l=e.afterCreateView)||void 0===l||l.call(e,a),i._customId=`${r}_${id}`,c[`${r}_${id}`]=e,id++}else i=translateH5Tag(a.type);if(setStaticAttrs({dom:i,style:m,attrs:f}),a.click_action&&a.click_action.type&&!a.click_action[":disable"]&&d&&i){let e=a.click_action.disable;i.onclick=t=>{t.stopPropagation(),e||d({triggerType:a.click_action.type,nodeId:r,extra:{triggerType:a.click_action,data:a,dom:i,rootDom:v||i}})}}return a.elements&&a.elements.length&&a.elements.forEach(e=>i.appendChild(h5Translator({resultData:e,designWidth:s,customDesignType:o,sliceEventPoster:d,nodeId:r,customInstanceMap:c,customFnMap:u,parentData:a,rootDom:v||i}))),i}function optionFn(e,t,l){return e&&"object"==typeof e?e.__falseProxyObject?l:t:e?t:l}function lenFn(e){return e?Array.isArray(e)||"string"==typeof e?e.length:e.__falseProxyObject?0:Object.keys(e).length:0}function strcatFn(){return[...arguments].reduce((e,t)=>"string"==typeof t?e+t:e,"")}var name="@byted/slice-sdk",version="1.5.4",description="Project created by Eden",author="丰崇修",main="dist/index.cjs.js",module="dist/index.es.js",typings="dist/src/index.d.ts",scripts={build:"eden-lib build","build:docs":"npm run build && eden-ts-documenter generate",start:"eden-lib start",test:"eden-test"},keywords=["eden","utils"],license="ISC",devDependencies={"@ies/eden-lib-build":"^1.0.0","@ies/eden-test":"^1.2.1","@ies/eden-ts-documenter":"1.3.5","@types/jest":"^27.0.1","@types/lodash-es":"^4.17.6","lodash-es":"^4.17.21",typescript:"^4.5.2"},peerDependencies={"@types/lodash-es":">=4.17.6","lodash-es":">=4.17.21"},dependencies={tslib:"^2.3.1"},pkg={version:version};let translators={[RenderType.H5]:h5Translator};class SliceRender{constructor(e){this._translator=h5Translator,this._designWidth=375,this._customFnMap={},this._customInstanceMap={};let t=e||{},l=t.renderType,i=void 0===l?RenderType.H5:l,n=t.designWidth,a=void 0===n?375:n,o=t.bizCode,s=void 0===o?"":o,d=t.customDesignType,r=t.sliceEventPoster,u=t.trackService;s||logger.warn("bizCode is empty"),this._translator=translators[i],this._designWidth=a,this._bizCode=s,this._customDesignType=d,this._sliceEventPoster=r,this._trackService=u,window.len=lenFn,window.option=optionFn,window.strcat=strcatFn,logger.info(`sdk init success bizCode: ${this._bizCode}`)}createView(e){var t,l;return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.mG)(this,void 0,void 0,function*(){let i=e.templateUrl,n=e.elementData,a=e.nodeId,o=e.name,s=e.version;if(!i&&!n||!a)throw logger.error("createView error: params illegal"),Error("createView参数不合法");let d=n;if(e.templateUrl)try{d=yield jsonLoader(e.templateUrl)}catch(e){return document.createElement("span")}let r=Date.now(),u=this._translator({resultData:d,customFnMap:this._customFnMap,designWidth:this._designWidth,sliceEventPoster:this._sliceEventPoster,customDesignType:this._customDesignType,customInstanceMap:this._customInstanceMap,nodeId:a});return u&&(u._templateName=o,u._templateVersion=s),null===(l=null===(t=this._trackService)||void 0===t?void 0:t.sendEvent)||void 0===l||l.call(t,{eventName:"slice_create_view",params:{biz:this._bizCode,total_time:Date.now()-r,platform:"h5",template_name:o,template_ver:s,slice_version:pkg.version}}),u})}bindData({view:e,data:t,isUpdate:l=!1,nodeId:i}){var n,a,o,s,d,r,u,c;if(!e)throw logger.error((l?"updateData":"bindData")+" error: params illegal"),Error("bindData参数不合法");let v=[e],m=Date.now();for(;v.length;){let e=v.shift(),u=[...e.childNodes].filter(e=>e.nodeType===Node.ELEMENT_NODE),c=u.some(e=>{var t;return!!(null===(t=null==e?void 0:e._bindAttr)||void 0===t?void 0:t.for)});if(c||v.push(...u),c)l?updateFor({curDom:e,data:t,designWidth:this._designWidth,customDesignType:this._customDesignType,sliceEventPoster:this._sliceEventPoster,customInstanceMap:this._customInstanceMap,nodeId:i}):renderFor({curDom:e,data:t,designWidth:this._designWidth,customDesignType:this._customDesignType,sliceEventPoster:this._sliceEventPoster,customInstanceMap:this._customInstanceMap,nodeId:i});else{e._customId&&(null===(o=null===(a=null===(n=this._customInstanceMap)||void 0===n?void 0:n[e._customId])||void 0===a?void 0:a[l?"beforeDataUpdate":"beforeBindData"])||void 0===o||o.call(a,t,e)),bindStyle({dom:e,data:t,designWidth:this._designWidth,customDesignType:this._customDesignType});let u=bindAttr({dom:e,data:t,nodeId:i,sliceEventPoster:this._sliceEventPoster});e._customId&&(null===(r=null===(d=null===(s=this._customInstanceMap)||void 0===s?void 0:s[e._customId])||void 0===d?void 0:d[l?"afterDataUpdate":"afterBindData"])||void 0===r||r.call(d,u,e))}}return null===(c=null===(u=this._trackService)||void 0===u?void 0:u.sendEvent)||void 0===c||c.call(u,{eventName:"slice_bind_data",params:{biz:this._bizCode,platform:"h5",total_time:Date.now()-m,template_name:e._templateName,template_ver:e._templateVersion,slice_version:pkg.version}}),e}updateView({view:e,data:t,nodeId:l}){var i,n;if(!e)throw logger.error("updateView error: prarms illegal"),Error("updateView参数不合法");let a=Date.now(),o=this.bindData({view:e,data:t,isUpdate:!0,nodeId:l});return null===(n=null===(i=this._trackService)||void 0===i?void 0:i.sendEvent)||void 0===n||n.call(i,{eventName:"slice_update_template",params:{biz:this._bizCode,platform:"h5",total_time:Date.now()-a,template_name:e._templateName,template_ver:e._templateVersion,slice_version:pkg.version}}),o}registerCustomView(e,t){this._customFnMap[e]=t}}},458242:function(e,t,l){var i=l(928686);(function(){var t,l,n,a,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=i&&i.hrtime?(e.exports=function(){return(t()-o)/1e6},l=i.hrtime,a=(t=function(){var e;return 1e9*(e=l())[0]+e[1]})(),o=a-1e9*i.uptime()):Date.now?(e.exports=function(){return Date.now()-n},n=Date.now()):(e.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(this)},528260:function(e,t,l){for(var i=l(458242),n=window,a=["moz","webkit"],o="AnimationFrame",s=n["request"+o],d=n["cancel"+o]||n["cancelRequest"+o],r=0;!s&&r<a.length;r++)s=n[a[r]+"Request"+o],d=n[a[r]+"Cancel"+o]||n[a[r]+"CancelRequest"+o];if(!s||!d){var u=0,c=0,v=[],m=1e3/60;s=function(e){if(0===v.length){var t=i(),l=Math.max(0,m-(t-u));u=l+t,setTimeout(function(){var e=v.slice(0);v.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout(function(){throw e},0)}},Math.round(l))}return v.push({handle:++c,callback:e,cancelled:!1}),c},d=function(e){for(var t=0;t<v.length;t++)v[t].handle===e&&(v[t].cancelled=!0)}}e.exports=function(e){return s.call(n,e)},e.exports.cancel=function(){d.apply(n,arguments)},e.exports.polyfill=function(e){!e&&(e=n),e.requestAnimationFrame=s,e.cancelAnimationFrame=d}},420608:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},n=function(){function e(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,l,i){return l&&e(t.prototype,l),i&&e(t,i),t}}(),a=l(88648),o=r(a),s=r(l(201845)),d=r(l(528260));function r(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function v(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){u(this,t);for(var e,l,i,n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return l=i=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),i.events=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],i.subscribers=[],i.rafHandle=null,i.subscribe=function(e){i.subscribers=i.subscribers.concat(e)},i.unsubscribe=function(e){i.subscribers=i.subscribers.filter(function(t){return t!==e})},i.notifySubscribers=function(e){if(!i.framePending){var t=e.currentTarget;i.rafHandle=(0,d.default)(function(){i.framePending=!1;var e=i.node.getBoundingClientRect(),l=e.top,n=e.bottom;i.subscribers.forEach(function(e){return e({distanceFromTop:l,distanceFromBottom:n,eventSource:t===window?document.body:i.node})})}),i.framePending=!0}},i.getParent=function(){return i.node},c(i,l)}return v(t,e),n(t,[{key:"getChildContext",value:function(){return{subscribe:this.subscribe,unsubscribe:this.unsubscribe,getParent:this.getParent}}},{key:"componentDidMount",value:function(){var e=this;this.events.forEach(function(t){return window.addEventListener(t,e.notifySubscribers)})}},{key:"componentWillUnmount",value:function(){var e=this;this.rafHandle&&(d.default.cancel(this.rafHandle),this.rafHandle=null),this.events.forEach(function(t){return window.removeEventListener(t,e.notifySubscribers)})}},{key:"render",value:function(){var e=this;return o.default.createElement("div",i({},this.props,{ref:function(t){return e.node=t},onScroll:this.notifySubscribers,onTouchStart:this.notifySubscribers,onTouchMove:this.notifySubscribers,onTouchEnd:this.notifySubscribers}))}}]),t}(a.PureComponent);m.childContextTypes={subscribe:s.default.func,unsubscribe:s.default.func,getParent:s.default.func},t.default=m},507929:function(e,t,l){"use strict";i={value:!0},t.StickyContainer=i=void 0;var i,n=o(l(204879)),a=o(l(420608));function o(e){return e&&e.__esModule?e:{default:e}}i=n.default,t.StickyContainer=a.default,n.default}}]);