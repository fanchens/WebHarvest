"use strict";(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["31689"],{615843:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAYAAACPZlfNAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPDSURBVHgB7d2vbxNhHMfxb4GQkDQhQU1h2B9Qzzz1m9/M1GaqhsESUDNDzTCFYQqzKQz1+wPAoKpQTUhIyPh+d8+Fy/VJuNLc93me9v1KnpRdzdFP7/l9VxEAAAAAAAAAAAAAAAAAALI1kARub2+H+jLW8kzLlqQx1zLVcjMYDGZSCNfAQlC7Wva0DCUf7zW0CymAW2AhrFMt25KnKw3trWTunvg5knzDMmP9Uh1J5h6IA/0grL0aR96yduSrpGFfnna1vKfnOtUr7UYy5RKYehE5dilV2zGXBDQY6+zsy+IXyY5lG1jvVWJou0atw9ca1FmqsIz1DEOb1Q4n52rbpQ2LfQBfJB/T1t/DcPVlybPT0ZTsyorI6Vz+KVVg+E8EVhgCKwyBFcYjMBsYNxv2maQbLBev94GzjbW0m3wo1dSUBXeZcvxVOpeZjrB88UqwMtqwwhBY1aY2zSXjwfTGBxZm5m3xsg7qHW0symMTqmHmvkh67iMtJ2Ftb73pf3Jfy+dQ9qUwes7bjfO3ciKJeKyH2fLKQePQQThWkp3W3+NUoXl0OoYdj+UstgJtoZ17V/N06zsIPcnYjiqrKU49QyOwjjS0K32xKbZ2l99CO/dapSawJWhoNmk9kcXQLKxTj9C8dk25CdVTn1WUhWXzoq+1PNbyO5Q6tEmfW7/XKjD9sGxn8Uh8PJSqOrTXn1ItGfUe2tpUiWFA6xWW+SVVSPb6SMuTcPwuNOkJbdhqLKzv4d/3G8e3+mrP1ikw2+vovZJt1eFTqYL70Tg+66tKXJs2LMywHzpuArX2yzoedbVYs6Am0pO16yV63JwXptZsaqruIdbuwqKXmBENy27sOJbFocPdGK3vtTQCW0II62XkLZewDIF1pGHZrb7HkbeutbjdiUNgHYQ2KxqWBvVGHBFYNzuRY7a/8kycMXDupr0edpEiLMMV1oGth4Xdy3alzcJSSxIE1lFYWkl+TwBVYmEITKouu5ZPWj5o2ZGMbXxgtt9Q/s5c2DzkSc77J7nCFh9O1veK9UoIrDAEVhgCKwyBFYbACkNghSGwwhBYYTwCi63E5jQwLerWJ4/AYjuIdiUf7XOZ5/xY9N4DC3sd2guAo9S3ztp8YXgoc3tqaioZc3kMephgje03T/WQ5nqiN1YdTjb+Ic1hxdY+hPbNCrHnAad0mXNYxrOXaPdU5fwUt+tU+zSW4f7bK3qlHUj1qPFcWLVsm2o+SgFS/ViOtR9WFT6XdN1q6wl+k+onPHhUEQAAAAAAAAAAAAAAAAAAq/sD8yo9dtBIeMsAAAAASUVORK5CYII="},243773:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAR6SURBVHgB7ZuLkdowEIZ/MimAdOAOoINTKsiV4FQAqQCoADqAqyBJBXYqgKvA7gA62GjP4uIRkoxky+Ym/mY0vrONtFqtVquHgQEgIkF2BAbgE0beGBWhGBWhGBWhGBWh6F0RclSYysvU8UqCAZggMqric5m+yfSM+yt6Uum3TPlkMrngI6Jihb1MZ+qG/VAxRhBKARnFI3tohUjhEoqrAJ09l4mO6MRHSIEW8rKG2wky3Of/qGupUp1E5SFkmqmrC/YbP6T/OGBopBK2DS2XybSkymn65s1WlspUNJSxxVBwxcjdFfiZQEdQ5XuOjvKOIcpuK9TUIRSPEiki0WAh/SrDoYSMOnRgjvJdjjlDH5DdJ+zQM7LMtUWWuD5DmaWJNQbCoYwlYqDM8fxISqjJtjPIxbIm6BqqAhidfvrjHZDZZ3QrH5nXGAvqwTHei8NiBbrCou0UDwaZfVg3VmGxhiMeFEujCbSFzL5BoAVKuTwMH1UXK1QFth3lrbNHG6iKIHUKBEL3T9ELmeYIxFAG+47wiFP++NkgZIoA5O9W5M8KAVA1ydMRrt98bsjzm+FeDn/BuELr+r3L5YKXlxecTidMp1PM53M8PT0hSZL6axwsQU6zN/DjIJMeXfIyYY4Q6HZO4e2B2cTrGZzPZ1oul8SPTImf8Ts+rXmn7MFdGgbz8p5PUG2myBWULW9VwjXxO5oyQhrAFG1a/cRnh7YTw70cfsKIej6bzeatKzTB7/C72+27dbOTFbKL5LgfU0Gcz8UmrA8CHtRbpSiKRkvQk2YVXtZI7h33G3w3eEr4Mbv+kec5fGFnWuMJfpQ+L8fe6Uquf7y+vsIXrRtFXXnqbcuPh0tfeFjti9iKeK89xwm+zGaz+r8lYkJ+CM+8350lOz54Okt2sH05S44sv1ryYrv8qd1L4McvmRZvmUkzl8ESdrv76rNYLPQo8xf8MPWr7/C1LDJPuEICqqxuFYEBlXdUSIaACqHQ7f6B9zqEbqJNIba0BFOI7e1g6HYG6pR90pAZW8BCu/3F96wCVQu8q/q9sizfYgseVnlEYceYpqlppNjI8tbwgKolRN2KDjKf7wiBzA4naJmc7MvuLtYIgMxLds8IhSo/odtphkComokW1ExGLVaqLGW0C0pkBgdDpgItoMrSdqrChUpHdU+gBRRjqc6RcbBVxIbM+7ICXUDjcv57ASariLOlFghVGzxFNGuoFZRF1XZLLPK19w2GgmxbasMd2/kn24r6tFgyL5MzQcvuHcm0ssiUIiZkXhQdRBk09KEVchzboeGPDvW3L0vuw2QFxT9MZjvW/HAn665CCXQENe+bZr0rQRNwR24K1YoJPFHKXlLzxnFrn9DVEeQU1V5jU4vk+HcMmafypfY8Uel6/LhpHYLz4Gl67yf6rFDlwA7UHxk9UGR7A/3vnynoKIV0ZSE8SuxjKqCvT5kEqvMJ3PfvXX8sUX3GxKvXpw/7KZMLsp/gZZ5pgGFwqM8dS8ezyxCtP373qRgVoRgVoRgVoRgVofgLFdGsjoi/CpMAAAAASUVORK5CYII="},622246:function(e,t,i){i.d(t,{Ep:function(){return a},J2:function(){return u},dD:function(){return d},mZ:function(){return r}});var o=i(818597),n=i(505575),l=i(850670);let r=e=>{let t=(0,o.o)();return e?e:(null==t?void 0:t.vrStore)?t:{}},a=e=>{let t=(0,n.n)();return e.playerInstance?e.playerInstance:null==t?void 0:t.player},u=()=>{var e;return null===l.o||void 0===l.o?void 0:null===(e=l.o.isVRSupported)||void 0===e?void 0:e.call(l.o)},d=e=>{var t;let i=r(e.store);return(null==i?void 0:null===(t=i.playerStore)||void 0===t?void 0:t.isFullScreen)||e.isFullScreen}},88506:function(e,t,i){i.d(t,{B5:function(){return f},U0:function(){return _},Wr:function(){return u},c9:function(){return d},dL:function(){return m},dh:function(){return h},iF:function(){return s},t4:function(){return v},ys:function(){return c},zq:function(){return a}});var o=i(520739),n=i(878389),l=i(796591),r=i(967747);let a=e=>{window.collectEvent("livesdk_live_paidlive_try_button_show",(0,n._)((0,o._)({},(0,r.K4)(),(0,l.aV)(),(0,l.Nu)(),(0,l.UV)()),{watch_type:e}))},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.collectEvent("livesdk_live_paidlive_try_button_show",(0,o._)({},e))},d=e=>{window.collectEvent("livesdk_paidlive_buyticket_icon_click",(0,n._)((0,o._)({},(0,r.K4)(),(0,l.aV)(),(0,l.Nu)(),(0,l.UV)(),(0,r.xA)()),{room_type:"live",watch_type:e}))},s=e=>{window.collectEvent("livesdk_paidlive_buyticket_toolbar_show",(0,n._)((0,o._)({},(0,r.K4)(),(0,r.xA)(),(0,l.UV)(),(0,r.Yi)()),{room_type:"live",watch_type:e}))},c=e=>{window.collectEvent("livesdk_paidlive_buyticket_toast_show",(0,o._)((0,n._)((0,o._)({},(0,r.K4)(),(0,r.xA)(),(0,l.UV)(),(0,r.Yi)()),{room_type:"live"}),e||{}))},v=()=>{window.collectEvent("livesdk_live_paidlive_tryend_show",(0,o._)({},(0,r.K4)(),(0,l.aV)(),(0,l.Nu)(),(0,l.UV)()))},_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.collectEvent("livesdk_live_paidlive_window_play",(0,o._)({},e))},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.collectEvent("livesdk_live_paidlive_window_duration",(0,o._)({},e))},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.collectEvent("livesdk_live_window_paidlive_tryend_show",(0,o._)({},e))},h=e=>{window.collectEvent("livesdk_rec_live_play",(0,o._)({},e))}},32754:function(e,t,i){i.d(t,{_:function(){return n},m:function(){return o}});let o={HOT_LIVE:"/hot_live",HOME:"/",ERROR:"/error/:errorCode",LIVING:"/:webRid",DOUYIN_LIVING:"/live/:webRid",DOUYIN_RECOMMEND_LIVING:"/root/live/:webRid",DOUYIN_FOLLOW_LIVING:"/follow/live/:webRid",LIVING_COMMENT:"/comment/:roomid",CATEGORY:"/category/:categoryId",CATEGORY_NEW:"/categorynew/:categoryId",IFRAME:"/iframe/:webRid",VIDEO_DOMAIN_IFRAME:"/live/iframe/:webRid"},n=[{path:o.CATEGORY,end:!0},{path:o.HOT_LIVE,end:!0},{path:o.HOME,end:!0},{path:o.ERROR,end:!0},{path:o.IFRAME,end:!0},{path:o.VIDEO_DOMAIN_IFRAME,end:!0},{path:o.LIVING,end:!0},{path:o.LIVING_COMMENT,end:!0},{path:o.DOUYIN_LIVING,end:!0},{path:o.DOUYIN_FOLLOW_LIVING,end:!0},{path:o.DOUYIN_RECOMMEND_LIVING,end:!0}]},617463:function(e,t,i){i.d(t,{EE:function(){return s},MP:function(){return u},hg:function(){return d}});var o=i(520739),n=i(878389);i(950331);var l=i(645260),r=i.n(l),a=i(618360);let u=(e,t)=>{var i,o;if(!(null==e?void 0:null===(i=e.room)||void 0===i?void 0:i.stream_url)&&!t)return{};let n=(null==t?void 0:t.pull_datas)||((null==e?void 0:null===(o=e.room)||void 0===o?void 0:o.stream_url)?e.room.stream_url.pull_datas:{})||{},l=Object.keys(n)[0];return n[l]},d=e=>{var t;let i=r()(e,"room.stream_url"),o=(null===(t=r()(e,"web_stream_url",null))||void 0===t?void 0:t.live_core_sdk_data)?r()(e,"web_stream_url"):i,n=r()(o,"live_core_sdk_data.pull_data",{}),l=r()(i,"live_core_sdk_data.pull_data",{}),a=u(e),d=u(e,o),s=(null==n?void 0:n.stream_data)?JSON.parse(n.stream_data):null,c=(null==l?void 0:l.stream_data)?JSON.parse(l.stream_data):null,v=(null==a?void 0:a.stream_data)?JSON.parse(a.stream_data):null,_=(null==d?void 0:d.stream_data)?JSON.parse(d.stream_data):null;return{H265_streamData:{options:r()(n,"options",null),common:r()(s,"common",null),stream:r()(s,"data",null)},H264_streamData:{options:r()(l,"options",null),common:r()(c,"common",null),stream:r()(c,"data",null)},UGC_streamData:{options:r()(a,"options",null),common:r()(v,"common",null),stream:r()(v,"data",null)},H265_UGC_streamData:{options:r()(d,"options",null),common:r()(_,"common",null),stream:r()(_,"data",null)}}},s=e=>{var t,i,l,u;let d=r()(e,"room",{}),s=r()(d,"episode_extra",{}),c=r()(s,"camera_infos",[]),v={id:null==d?void 0:d.id_str,title:(null==s?void 0:s.main_camera_title)||(null==s?void 0:s.title),cover:(null==s?void 0:s.main_camera_cover)||(null==s?void 0:s.cover),isMainCamera:!0,h264Stream:null==d?void 0:d.stream_url,h265Stream:null==e?void 0:e.web_stream_url,matchId:null==s?void 0:null===(t=s.main_camera_match_info)||void 0===t?void 0:t.match_id_str,cameraId:null==s?void 0:s.episode_id_str,groupId:null==s?void 0:s.group_id_str,hasMatchStats:(null==s?void 0:null===(l=s.main_camera_match_info)||void 0===l?void 0:null===(i=l.event_ids)||void 0===i?void 0:i.length)===1},_=null==c?void 0:null===(u=c.map)||void 0===u?void 0:u.call(c,t=>{var i,l,u,d,s,c;let{paid_live_type:v}=t,_=null===(u=e.room)||void 0===u?void 0:null===(l=u.episode_extra)||void 0===l?void 0:null===(i=l.privilege_info_v2)||void 0===i?void 0:i[a.xc.EQUITABLE_CAMERA_POSITION],m=v===a.xc.EQUITABLE_CAMERA_POSITION?{max_duration:r()(_,"paid_live_info.max_duration",180),paid_live_base_info:{duration:r()(_,"paid_live_info.duration",0),view_right:r()(_,"paid_live_info.view_right",0),ticket_session_id_str:r()(_,"entity_id_str")},paid_live_biz_extra:{prepay_cashier_jump_url:r()(_,"privilege_url.prepay_cashier_jump_url","")}}:null==t?void 0:t.camera_paid_info;return(0,n._)((0,o._)({},t),{camera_paid_info:m,id:null==t?void 0:t.camera_id_str,title:null==t?void 0:t.title,cover:null==t?void 0:t.cover,isMainCamera:!1,h264Stream:null==t?void 0:t.stream_info,h265Stream:{},matchId:null==t?void 0:null===(d=t.camera_match_info)||void 0===d?void 0:d.match_id_str,cameraId:null==t?void 0:t.camera_id_str,groupId:null==t?void 0:t.group_id_str,hasMatchStats:(null==t?void 0:null===(c=t.camera_match_info)||void 0===c?void 0:null===(s=c.event_ids)||void 0===s?void 0:s.length)===1})});return _.unshift(v),{mainCameraInfo:v,cameraInfoList:_}}},967747:function(e,t,i){i.d(t,{K4:function(){return c},V:function(){return d},Yi:function(){return v},m6:function(){return s},oD:function(){return u},xA:function(){return _}}),i(779788);var o=i(396169),n=i(618360),l=i(987475),r=i(645260),a=i.n(r);let u=e=>{switch(e){case n.ku.TRY_WATCH_ING:return"try";case n.ku.TRT_WATCH_FINISH:return"try_end";case n.ku.NORMAL_WATCH:default:return"regular"}},d=e=>{document.cookie=(0,o.serialize)(l.CookieKeys.PaidLiveDuration,JSON.stringify(e),{domain:".douyin.com",path:"/"})},s=()=>{var e,t;let i=a()(window,"__STORE__.paidLiveStore.paidLiveData.paid_type",0),o=a()(window,"__STORE__.paidLiveStore.viewType",n.ku.BAN),l=null===(t=window)||void 0===t?void 0:null===(e=t.__INVISIBLE_QUERY__)||void 0===e?void 0:e.entrance_form;return{is_paidlive:Number(i),watch_paidlive_status:u(o),entrance_form:l}},c=e=>({is_paidlive:1}),v=()=>{var e,t;let i;let o=null===(t=window)||void 0===t?void 0:null===(e=t.__STORE__)||void 0===e?void 0:e.paidLiveStore;switch(null==o?void 0:o.viewType){case n.ku.TRY_WATCH_ING:i="try_toolbar";case n.ku.TRT_WATCH_FINISH:i="tryend_toolbar";default:i="regular"}return{watch_type:i}},_=e=>{try{var t;let{title:i="",ticket_session_id_str:o=""}=null!==(t=null!=e?e:window.__STORE__.paidLiveStore.paidLiveData.ticket_session)&&void 0!==t?t:{};return{ticket_name:i,ticket_id:o}}catch(e){return{ticket_name:"",ticket_id:""}}}},744612:function(e,t,i){i.d(t,{EF:function(){return a},PQ:function(){return r},k2:function(){return o},vK:function(){return l},ve:function(){return n}});let o=()=>{var e;return null!==(e=Array.from(document.querySelectorAll("#playerPopup")).find(e=>e.getBoundingClientRect().height>0))&&void 0!==e?e:null},n=()=>{var e;return null!==(e=Array.from(document.querySelectorAll('[data-e2e="living-container"]')).find(e=>{var t;return(null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.height)>0}))&&void 0!==e?e:null},l=()=>{var e;return null!==(e=Array.from(document.querySelectorAll("#comment-textarea")).find(e=>{var t;return(null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.height)>0}))&&void 0!==e?e:null},r=()=>{var e;return null!==(e=Array.from(document.querySelectorAll("#user_control_panel")).find(e=>e.getBoundingClientRect().height>0))&&void 0!==e?e:null},a=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return null!==(e=Array.from(document.querySelectorAll(`#${t}`)).find(e=>e.getBoundingClientRect().height>0))&&void 0!==e?e:null}},472434:function(e,t,i){i.d(t,{he:function(){return a},v2:function(){return u},zA:function(){return r}}),i(675373),i(874386),i(819117);var o=i(441447),n=i(223526);let l=Promise.resolve(),r=()=>{l=new Promise(e=>{o.listen(o.EVENT.afterVideoPlayed,()=>{e()})})},a=e=>{let{callback:t,timeout:i=1e4}=e,o=null;Promise.race([l,new Promise(e=>{o=setTimeout(()=>{e()},i)})]).finally(()=>{n.p.postTask({task:()=>{t()},priority:"user-visible"}),o&&clearTimeout(o)})},u=e=>{let t=null,{timeout:i=1e4}=e||{};return Promise.race([l,new Promise(e=>{t=setTimeout(()=>{e()},i)})]).finally(()=>{t&&clearTimeout(t)})}},505575:function(e,t,i){i.d(t,{n:function(){return r}});var o=i(818597),n=i(850634),l=i(88648);let r=()=>{var e,t;let i=(0,o.o)(),r=null==i?void 0:null===(e=i.playerStore)||void 0===e?void 0:e.playerInstance,a=null==i?void 0:null===(t=i.playerStore)||void 0===t?void 0:t.playerLoggerInstance,{playerRef:u,loggerRef:d}=l.useContext(n.ET)||{};return{player:r||(null==u?void 0:u.current),logger:a||(null==d?void 0:d.current)}}},796591:function(e,t,i){i.d(t,{Nu:function(){return v},UV:function(){return s},aV:function(){return c},wY:function(){return d}});var o=i(343049),n=i(645260),l=i.n(n),r=i(674379),a=i(867204),u=i(618618);let d=()=>{try{var e,t,i,o;let{roomInfo:n={}}=null===(t=window)||void 0===t?void 0:null===(e=t.__STORE__)||void 0===e?void 0:e.roomStore;if((null===(o=window)||void 0===o?void 0:null===(i=o.__INVISIBLE_QUERY__)||void 0===i?void 0:i.enter_from_merge)==="web_share_link"&&(null==n?void 0:n.enter_mode)===u.gE.APP)return a.R5.QRCODE;return(null===a.FO||void 0===a.FO?void 0:a.FO[l()(n,"room.stream_url.stream_orientation")])||""}catch(e){return a.R5.VERTICAL}},s=()=>{var e;if(!window.__STORE__)return{};let{homeStore:{selectedRoom:t},roomStore:{roomInfo:i}}=window.__STORE__,o=(0,r.C$)()?l()(t,"room.owner.id_str",""):l()(i,"anchor.id_str",""),n=(0,r.C$)()?l()(t,"room.id_str",""):l()(i,"roomId","");return{anchor_id:o,room_id:n,game_name:(0,r.C$)()?l()(t,"tag_name",""):null===(e=window.__INVISIBLE_QUERY__)||void 0===e?void 0:e.game_name}},c=()=>{var e,t,i,o,n;return{live_type:"game",game_live_source:"game_web",is_aweme_tied:(null===(i=window)||void 0===i?void 0:null===(t=i.__STORE__)||void 0===t?void 0:null===(e=t.userStore)||void 0===e?void 0:e.userInfo.id_str)?1:0,url:location.href,url_path:location.pathname,_is_new_version:null===(o=window)||void 0===o?void 0:o.isNewVersionFirstOpen,_live_version:null===(n=window)||void 0===n?void 0:n.version,stream_type:d()}},v=()=>{var e;let{web_live_page:t="",web_live_tab:i="",web_live_tab_2:n="",web_live_tab_3:a="",more_detail:u="",game_name:s="",enter_from_merge:c="",enter_method:v="",title_type:_="",cover_type:m="",is_recommend:f="",stream_type:h="",search_params:p="",action_type:g="click",evening_type:w="",previous_page:y="",live_type:b="",function_type:S="",function_type2:I="",seat_fit_status:E="",request_id:A="",insert_task_id:N="",group_id:k="",is_livehead_preview_mini_window_show:L="",enter_method_temai:T="click_other_area",show_rank:C,show_cnt:R,mini_window_show_type:M,search_tab:x,enter_live_detail_method:P,live_position:O="",url_source:B,preview_type:F,web_card_rank:G=""}=window.__INVISIBLE_QUERY__||{},{homeStore:{selectedRoom:D},roomStore:{roomInfo:V},pkStore:{pkAppData:U,pkTeamCount:j,pkPlayMode:H,pkId:Y,pkStatus:Z}}=window.__STORE__,W=l()(window,"__STORE__.roomStore.roomInfo.roomId"),q=(0,r.C$)()?l()(D,"room.owner.id_str",""):l()(V,"anchor.id_str",""),Q=p;try{Q&&"String"===(0,o.tQ)(Q)&&(Q=JSON.parse(p))}catch(e){}return{anchor_id:q,room_id:W,enter_from_merge:c,enter_method:v,web_live_page:t,web_live_tab:i,web_live_tab_2:n,web_live_tab_3:a,more_detail:u,game_name:s,title_type:_,cover_type:m,is_recommend:f,stream_type:h||d(),evening_type:w,previous_page:y,function_type:S,seat_fit_status:E,search_params:Q,search_type:null==Q?void 0:Q.search_type,search_id:null==Q?void 0:Q.search_id,action_type:g,request_id:A,insert_task_id:N,video_id:"web_video_head"===v?k:W,is_livehead_preview_mini_window_show:L,enter_method_temai:T,show_rank:C,show_cnt:R,mini_window_show_type:M,search_tab:x,enter_live_detail_method:P,live_position:O,url_source:B,channel_id:null==U?void 0:U.channelId,invite_mode:H,anchor_connect_status:(null==U?void 0:null===(e=U.grids)||void 0===e?void 0:e.length)||-1,pk_team_count:j,pk_id:Y,preview_type:F,web_card_rank:G}}},66563:function(e,t,i){var o=i(563097);i(88648);var n=i(950758),l=i(713097),r=i.n(l);t.Z=e=>{let{val:t,className:i,style:l}=e;return(0,o.jsx)("div",{style:l,className:r()(n.default.key_btn,{[null!=i?i:""]:i}),children:t})}},794848:function(e,t,i){var o=i(563097);i(88648);var n=i(410070),l=i(66563),r=i(713097),a=i.n(r);t.Z=e=>{let{info:t,btn:i,keyClassName:r}=e;return(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:n.default.info,children:t}),(0,o.jsx)(l.Z,{className:a()(n.default.btn,r),val:i})]})}},29695:function(e,t,i){i.d(t,{I:function(){return _}}),i("675373");var o=i("520739"),n=i("878389");i("413806"),i("826893"),i("284961"),i("429532"),i("338172"),i("882732"),i("544943"),i("874386"),i("779788");var l=i("567754"),r=i("742401"),a=i("119566"),u=i("205832");let d=e=>e.split("?")[0].replace(/\//g,"_"),s=(e,t)=>{let i=(0,l.parse)(t.split("?")[1]),n=t.split("?")[0],d=(0,o._)({aid:6383,device_platform:"web"},i);!r.s&&Object.assign(d,(0,a.f)());let s=(0,l.stringify)(d);return n.startsWith("http")?`${n}?${s}`:r.s&&!u.r8?`consul:${e}${n}?${s}`:`${(0,u.iE)().API_DOMAIN+n}?${s}`},c={"Content-type":"application/x-www-form-urlencoded"},v=async function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"webcast.web.api",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=s(l,t);if(null==e||e.logger.info("request path:",a),!e)return window.fetch(a,(0,n._)((0,o._)({credentials:"same-origin"},i),{headers:(0,o._)({},c,i.headers)}));{var u,v,_,m,f,h;let l=(0,o._)((0,n._)((0,o._)({handleMethod:d(t)},i),{metrics:e.metrics,headers:(0,o._)((0,n._)((0,o._)({},null!==(u=e.app.config.fetch.headers)&&void 0!==u?u:{}),{Cookie:e.headers.cookie,"user-agent":e.headers["user-agent"],"x-use-ppe":null!==(v=e.headers["x-use-ppe"])&&void 0!==v?v:"","x-use-boe":null!==(_=e.headers["x-use-boe"])&&void 0!==_?_:"","x-tt-env":null!==(m=e.headers["x-tt-env"])&&void 0!==m?m:"","X-Real-IP":e.headers["x-real-ip"],"X-Forwarded-For":e.header["x-forwarded-for"]}),c,i.headers)}),null!=r?r:{});e.headers["x-tt-stress"]&&(l.headers["x-tt-stress"]=e.headers["x-tt-stress"]);try{e.measureTime("fetch");let t=await e.fetch(a,l);return e.measureTimeEnd("fetch",{url:new URL(a).pathname,status:t.status,retry:0,error:0}),t}catch(i){null===(h=e.metrics)||void 0===h||null===(f=h.emitCounter)||void 0===f||f.call(h,"isomorphic_request.retry",1,e.app.config.psm,{url:a});let t=await e.fetch(a,l).catch(t=>{throw e.measureTimeEnd("fetch",{url:new URL(a).pathname,status:-1,retry:1,error:1}),t});return e.measureTimeEnd("fetch",{url:new URL(a).pathname,status:t.status,retry:1,error:0}),t}}};async function _(e,t,i){var o,n,r,a,u,d,s,c;let _=await v(i,`/webcast/web/conf/skin/?${(0,l.stringify)({room_id:e,anchor_id:t})}`,{method:"GET"}),m=_.headers.get("x-tt-logid");if(200!==_.status)return null==i||null===(o=i.logger)||void 0===o||o.error("[getTheme] not 200",m),null==i||null===(r=i.metrics)||void 0===r||null===(n=r.emitCounter)||void 0===n||n.call(r,"get_theme_error",1,""),{};let{data:f={}}=null!==(a=await _.json())&&void 0!==a?a:{};try{return JSON.parse(null==f?void 0:null===(u=f.skin)||void 0===u?void 0:u.conf)}catch(e){return null==i||null===(d=i.logger)||void 0===d||d.error("[getTheme]",e,m),null==i||null===(c=i.metrics)||void 0===c||null===(s=c.emitCounter)||void 0===s||s.call(c,"parse_theme_error",1,""),{}}}},863062:function(e,t,i){i.d(t,{q:function(){return o}});let o="gift-icon-id"},880257:function(e,t,i){i.d(t,{w:function(){return o}});var o={StarfansUser:"sslocal://lynxview?url=https%3A%2F%2Flf-webcast-gr-sourcecdn.bytegecko.com%2Fobj%2Fbyte-gurd-source-gr%2Fwebcast%2Fmono%2Flynx_pc%2Fstarfans_lynx_pc%2Fpages%2Fstarfans_user.js&type=popup_pia_=1&gravity=bottom&height_percent=73&rate_height=600&horizontal_width=375&use_pia=1&enable_preload=main",Exhibition:"https://lf-webcast-gr-sourcecdn.bytegecko.com/obj/byte-gurd-source-gr/webcast/mono/lynx/revenue_gift_exhibition_hall_lynx3_douyin_rspeedy/pages/gift_list_rspeedy.json?_pia_=1&web_bg_color=ff060a19&sponsor_status=normal_sponsor&showPcClose=true"}},165153:function(e,t,i){i.d(t,{CL:function(){return r},MA:function(){return l},OL:function(){return u}});var o=i(678315),n=i(455499),l={BasicPlayer:"living-basic-player",Background:"living-background"};let r="living-pip-id",a=()=>(0,o.IT)(r),u=()=>a()||(0,n.DJ)()?1:0},157818:function(e,t,i){i.d(t,{GZ:function(){return G},ng:function(){return B},ds:function(){return O}});var o=i("520739"),n=i("878389");i("874386"),i("250440");var l=i("563097"),r=i("88648"),a=i("879214"),u=i("678315"),d=i("308910"),s=i("694872");let c=(0,r.forwardRef)((e,t)=>(0,l.jsx)("svg",(0,n._)((0,o._)({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,l.jsx)("path",{d:"M22.707 10.707a1 1 0 0 0-1.414-1.414L16 14.586l-5.293-5.293a1 1 0 0 0-1.414 1.414L14.586 16l-5.293 5.293a1 1 0 1 0 1.414 1.414L16 17.414l5.293 5.293a1 1 0 0 0 1.414-1.414L17.414 16l5.293-5.293z",fill:"#fff"})})));var v=i("582746"),_=i("828782"),m=i("63405"),f=i("797973"),h=i("434739"),p=i("297517"),g=i("983096"),w=i("419631"),y=i.n(w);let b=e=>{let{video:t}=e;if(t instanceof HTMLVideoElement){let{clientHeight:e,clientWidth:i,videoHeight:o,videoWidth:n}=t,l=t.getBoundingClientRect().width-i>10?e/i:o/n;if(Math.abs(l-512/300)<Math.abs(l-.5859375))return{height:512,width:300}}return{width:512,height:300}},S=y()(()=>{let e=e=>{let{key:t,validRes:i=Boolean}=e,o=document[t];return{key:t,originFn:o,mergedFn:function(){for(var e,n,l=arguments.length,r=Array(l),a=0;a<l;a++)r[a]=arguments[a];let u=o.call(document,...r);try{let o=null===(n=window.documentPictureInPicture)||void 0===n?void 0:null===(e=n.window)||void 0===e?void 0:e.document;if(!o||i(u))return u;return o[t].call(o,...r)}catch(e){return u}}}};return[e({key:"getElementById"}),e({key:"querySelector"}),e({key:"querySelectorAll",validRes:e=>!!e.length}),e({key:"getElementsByName",validRes:e=>!!e.length}),e({key:"getElementsByClassName",validRes:e=>!!e.length}),e({key:"getElementsByTagName",validRes:e=>!!e.length})]});function I(e){S().forEach(t=>{let{key:i,mergedFn:o,originFn:n}=t;document[i]=e?o:n})}var E=i("309931"),A=i("713097"),N=i.n(A),k=i("773109"),L=i("754089"),T=i("165153"),C=i("618618"),R=i("263893");function M(){let{isLivingPip:e}=O(),{singletonStore:{player:t}}=(0,v.Z)(),i=(0,r.useRef)(null),o=(0,r.useRef)(null);return(0,r.useEffect)(()=>{try{if(!t)return()=>{};let e=0,n=()=>{cancelAnimationFrame(e)},l=()=>{var r;n();let a=null===(r=t.video)||void 0===r?void 0:r.flyVideo,u=o.current;if(!a||!u||!i.current)return;let{videoWidth:d,videoHeight:s}=a,c=u.getContext("2d");if(u.width=d,u.height=s,c.drawImage(a,0,0,u.width,u.height),!t.paused)e=requestAnimationFrame(l)};return t.on("pause",n),t.on("play",l),l(),()=>{n(),t.off("play",l),t.off("pause",n)}}catch(e){}},[e,t]),(0,l.jsx)("div",{ref:i,className:R.default.doubleScreenVideoWrap,children:(0,l.jsx)("canvas",{ref:o})})}var x=i("781659"),P=i("774438");let O=()=>{let{pipInfo:e,closePipWindow:t,openPipWindow:i}=(0,a.fl)(),{singletonStore:{player:l}}=(0,v.Z)(),r=(null==e?void 0:e.pipId)===T.CL,u=(0,f.Z)(()=>i((0,n._)((0,o._)({},b(l)),{pipId:T.CL})).then(e=>{var t;let i=null==e?void 0:null===(t=e.pipInfo)||void 0===t?void 0:t.window;if(!!i)"true"===document.documentElement.getAttribute("dark")&&(i.document.documentElement.setAttribute("dark","true"),i.document.body.setAttribute("theme-mode","dark"))})),d=(0,f.Z)(e=>{if(!!r)e&&window.focus(),(0,_.DT)()&&e&&m.invoke("pipParentWinShow"),t(T.CL)});return{isLivingPip:r,pipWin:r?e.window:null,closeLivingPip:d,openLivingPip:u}},B=()=>{let{isSupported:e}=(0,a.fl)();return(0,_.DT)(),e},F=(0,r.memo)(e=>{let{isDoubleScreen:t,className:i}=e,[o,n]=(0,r.useState)(!1),[a,_]=(0,r.useState)(!1),m=(0,r.useRef)(null),w=(0,r.useRef)(null),y=(0,r.useRef)(!1),{isLivingPip:b,closeLivingPip:S,pipWin:A}=O(),{innerFeedOn:R}=(0,P.P)(),{singletonStore:{player:B,message:F},eventStore:{playerEvent:G},linkmicStore:{linkMicLayout:D},pkStore:{pkStatus:V}}=(0,v.Z)(),U=(0,f.Z)(()=>{b&&n((0,u.nz)())});(0,h.Z)("resize",()=>U(),{target:A}),(0,h.Z)("pagehide",()=>y.current=!(null==B?void 0:B.paused),{target:A}),(0,p.Z)(()=>U(),b?50:void 0),(0,r.useEffect)(()=>F.on("MemberMessage",e=>{(null==e?void 0:e.some(e=>{var t;return[C.WU.KICK_OUT,C.WU.BLOCK].includes(Number(null==e?void 0:null===(t=e.payload)||void 0===t?void 0:t.action))}))&&S(!1)}),[F,S]),(0,r.useEffect)(()=>(I(b),()=>{I(!1)}),[b]);let j=(0,r.useMemo)(()=>void 0===D&&!V&&!0,[D,V]),H=(0,r.useRef)(!1);(0,r.useEffect)(()=>{if(!!B)try{var e,t,i,o,n,l,r,a;let u=()=>{let e=requestAnimationFrame(()=>{var e,t;return null===(t=B.plugins.dynamicbg)||void 0===t?void 0:null===(e=t.renderOnce)||void 0===e?void 0:e.call(t)});return()=>{cancelAnimationFrame(e)}};if(b){;return H.current=!0,null===(e=B.plugins.danmu)||void 0===e||e.hide(),null===(t=B.plugins.rotate)||void 0===t||t.hide(),null===(i=B.plugins.fullscreen)||void 0===i||i.hide(),B.paused&&(null===(o=B.config)||void 0===o?void 0:o.url)&&B.play(),u()}if(H.current){;return H.current=!1,null===(n=B.plugins.danmu)||void 0===n||n.show(),j&&(null===(l=B.plugins.rotate)||void 0===l||l.show()),null===(r=B.plugins.fullscreen)||void 0===r||r.show(),y.current&&B.paused&&(null===(a=B.config)||void 0===a?void 0:a.url)&&B.play(),u()}}catch(e){}},[b,B,j]),(0,g.Z)(()=>{if(R&&B){var e,t,i,o,n,l,r;H.current=!1,null===(t=B.plugins)||void 0===t||null===(e=t.danmu)||void 0===e||e.show(),j&&(null===(o=B.plugins)||void 0===o||null===(i=o.rotate)||void 0===i||i.show()),null===(l=B.plugins)||void 0===l||null===(n=l.fullscreen)||void 0===n||n.show(),B.paused&&(null===(r=B.config)||void 0===r?void 0:r.url)&&B.play()}S()});let Y=()=>S(!0);return(0,L.Z)(k.Hq,Y),(0,L.Z)(k.qo,Y),(0,L.Z)(k.fC,Y),(0,L.Z)(k.Fg,Y),(0,l.jsx)(d.F6,{pipId:T.CL,children:(0,l.jsxs)("div",{className:N()(x.default.wrap,i),ref:m,onMouseOver:()=>_(!1),onMouseLeave:e=>{if(!w.current||!e)return;let{pageX:t,pageY:i}=e,{left:o,top:n,width:l,height:r}=w.current.getBoundingClientRect();t>=o&&t<=o+l&&i>=n&&i<=n+r&&_(!0)},children:[(null==B?void 0:B.topBar)&&!o?(0,E.createPortal)((0,l.jsxs)("div",{className:x.default.headerIcons,children:[(0,l.jsx)("div",{className:x.default.dragBar,ref:w}),(0,l.jsx)("span",{className:x.default.headerIcon,onClick:()=>{S(!0),G.livesdkMiniWindowExit({click_position:"mini_window_exit"})},children:(0,l.jsx)(s.Z,{})}),(0,l.jsx)("span",{className:x.default.headerIcon,onClick:()=>{S(!1),G.livesdkMiniWindowExit({click_position:"mini_window_exit"})},children:(0,l.jsx)(c,{})})]}),B.topBar):null,(0,l.jsxs)("div",{className:x.default.content,children:[(0,l.jsx)(d.pu,{pipAnchorId:T.MA.BasicPlayer,className:a?x.default.forceShowControl:""}),t&&(0,l.jsx)(M,{}),(0,l.jsx)(d.pu,{pipAnchorId:T.MA.Background,className:N()(x.default.background,"livingPipBackground")})]})]})})}),G=e=>B()?(0,l.jsx)(F,(0,o._)({},e)):null},158879:function(e,t,i){i.d(t,{S:function(){return l}});var o=i(509090),n=i(88506);let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"购买门票后可使用该功能";(0,n.ys)(e),o.F.info(t)}},801887:function(e,t,i){i.d(t,{V:function(){return a}}),i(209955);var o=i(201308),n=i(612774),l=i(88648);let{Currency:r}=n;function a(){let e=(0,l.useContext)(r);if(void 0===e)throw(0,o.g)("Currency"),Error("Currency must be used within Provider");return e}},517997:function(e,t,i){i.d(t,{Z:function(){return D}});var o=i("520739"),n=i("878389"),l=i("368200");i("675373"),i("779788"),i("250440"),i("981168");var r=i("88648"),a=i("645260"),u=i.n(a),d=i("40335"),s=i("509090"),c=i("801887"),v=i("805591"),_=i("611243"),m=i("797973"),f=i("544406"),h=i("623582"),p=i("987475"),g=i("472434"),w=i("737271"),y=i("742740"),b=i("725887"),S=i("434144"),I=i("565024"),E=i("623527"),A=i("828782"),N=i("847191"),k=i("441447"),L=i("709606"),T=i("760640"),C=i("755012"),R=i("578580"),M=i("874005"),x=i("582746");i("563097"),i("713097");let P=e=>{let{balance:t,giftImg:i,giftName:o,coinName:n,isEnoughMoney:l=!0}=e;return l?`
    <div style="height: 22px;font-size: 14px;line-height: 22px;display: flex;align-items: center;">
      充值后自动送出
      <img
        style="width: 28px;height: 28px;margin: 0 6px;"
        src="${i}"
      />
      <span>${o}<span>
      （还差${t}${n}）
    </div>
  `:`
      <div style="height: 22px;font-size: 14px;line-height: 22px;display: flex;align-items: center;">
        充值金额不够无法送出
        <img
          style="width: 28px;height: 28px;margin: 0 6px;"
          src="${i}"
        />
        <span>${o}<span>
        （仅作为${n}充值）
      </div>`};var O=i("165153"),B=i("784492"),F=i("774438");let G=()=>{if(!(0,w.r)())return Array.from(document.querySelectorAll(".giftRechargeContaner")).find(e=>e.getBoundingClientRect().x>0)};var D=e=>{let{isInit:t=!1,processAfterFirstFrame:i=!1}=e||{},{userStore:{userInfo:a},roomStore:{roomInfo:w},linkmicStore:{choosePeopleArr:D,useChoosePeopleFunc:V,eggModeInfo:U},giftStore:{giftStatus:j,giftList:H,effectList:Y,balance:Z,giftPanelShowFrom:W,setGiftComboHint:q,setGiftMessages:Q,setGiftPages:K,setEffectList:z,setBalance:X,setGiftExtra:$,setGiftLayer:J,setPaygrade:ee},rechargeStore:{rechargeAuthStatus:et},eventStore:{giftEvent:ei,slardarEvent:eo},feedStore:{isChangePending:en}}=(0,x.Z)(),{name:el}=(0,c.V)(),{showRecharge:er,hideRecharge:ea,updateRecharge:eu,hideOtherRecharge:ed}=(0,_.y)({container:G}),{player:es}=(0,v.n)(),ec=u()(a,"id_str",""),ev=!!ec,e_=u()(w,"roomId",""),em=u()(w,"anchor.sec_uid",""),ef=u()(w,"anchor.id_str",""),eh=u()(w,"room.episode_extra"),ep=u()(eh,"episode_id_str",0)||0,eg=u()(eh,"mod.episode_stage"),ew=u()(L.$F,eg,L.dq.NORMAL),ey=u()(w,"room.others.group_live_data.is_group_live",0),{innerFeedOn:eb}=(0,F.P)(),{rechargeConfig:eS}=(0,d.K)(),eI=(0,r.useCallback)(async function(){var e,t,i,l,r,a;let u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{type:d="recharge",balance:c=0,amount:v=0,sendGiftParams:_}=u,m={enter_from_merge:(0,y.yW)(),show_reason:null!==(r=L.St[d])&&void 0!==r?r:"other",live_window_type:null!==(a=null===(e=b.Le.getConfig(b.gI.LiveWindowStatus))||void 0===e?void 0:e.type)&&void 0!==a?a:"no_live_window",if_live_play:1,room_id:e_,anchor_id:ef,follow_status:(0,T.qZ)(null==w?void 0:null===(i=w.anchor)||void 0===i?void 0:null===(t=i.follow_info)||void 0===t?void 0:t.follow_status)?1:0},g=H.find(e=>e.id===(null==_?void 0:_.gift_id));null==ed||ed(),er({requestPublicParams:await (null===(l=f.a.getIAPRechargeParams)||void 0===l?void 0:l.call(f.a)),type:d,balance:c,amount:v,additionalLogParams:m,onClose:e=>{h.logInstance.sendLog("livesdkRechargeShowDuration",(0,n._)((0,o._)({},m),{charge_reason:d,duration:(null==e?void 0:e.duration)||0,if_recharge_success:(null==e?void 0:e.isSuccess)?1:0}))},theme:(0,S.Dr)(I.Q.getItem({sKey:p.CookieKeys.Theme})),onAutoNextChange:e=>{_&&h.logInstance.sendLog("rechargeSendGiftClick",(0,n._)((0,o._)({},m),{status:e?"on":"off"}))},autoNext:!0,autoNextHtml:_?P({giftImg:null==g?void 0:g.icon,giftName:null==g?void 0:g.name,balance:c,coinName:(null==eS?void 0:eS.name)||"抖币",isEnoughMoney:!0}):void 0,onCombosItemClick:e=>{let{type:t,combo:i={}}=e||{};_&&"manual"===t&&eu({autoNextHtml:P({giftImg:null==g?void 0:g.icon,giftName:null==g?void 0:g.name,balance:c,coinName:(null==eS?void 0:eS.name)||"抖币",isEnoughMoney:Number(i.diamond_count)>=c})})},showRechargeResult:!1,onSuccess:e=>{let{autoNext:t,balance:i=0}=e;ea(),eC(),t&&_&&i>=v?eR((0,n._)((0,o._)({},_),{isAutoNext:!0})):s.F.info("充值成功")}}),(0,C.rp)(es)},[es,er,ef,e_,w,eS,H]),eE=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};M.JL((0,o._)({from_room_id:e_,to_room_id:e_,from_anchor_id:ef,to_user_id:ef,gift_ids:null==e?void 0:e.gift_id},e)).then(t=>{let{data:i,logId:o}=t;if(0!==u()(i,"status_code"))return R.kg.error("获取礼物额外信息失败",i,o),Promise.reject(i);{let t=u()(i,"data.gift_extra",[]);return t.length>0&&$(Number(null==e?void 0:e.gift_id),t),Promise.resolve(t)}})},[e_,ef,$]),eA=(0,r.useCallback)(e=>M.Hv((0,o._)({},e)).then(e=>{let{data:t,logId:i}=e;if(0!==u()(t,"status_code"))return R.kg.error("获取送礼消费分层失败",t,i),Promise.reject(t);{let e=u()(t,"data.gift_layer",0);return J(e),Promise.resolve(e)}}),[]),eN=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return M.JL((0,o._)({from_room_id:e_,to_room_id:e_,from_anchor_id:ef,to_user_id:ef,gift_ids:null==e?void 0:e.gift_id},e)).then(e=>{let{data:t,logId:i}=e;return 0===u()(t,"status_code")?Promise.resolve(u()(t,"data.gift_extra",[])):(R.kg.error("获取礼物额外信息失败",t,i),Promise.reject(t))})},[e_,ef,$]),ek=(0,m.Z)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return M.Xq((0,o._)({room_id:e_,to_room_id:e_,sec_anchor_id:em,sec_to_user_id:em,gift_scene:ew,to_episode_id:ep,fetch_giftlist_from:3},e)).then(async e=>{var t,i;let{data:o,logId:n}=e,l=u()(o,"status_code"),r=(null==o?void 0:null===(t=o.data)||void 0===t?void 0:t.pages)||[];return 0===l?(K((0,C.Zk)({rawGiftPages:r,giftScene:ew})),await (0,g.v2)(),K((0,C.BU)(r)),Promise.resolve(o)):(s.F.info(u()(o,"data.prompts","获取礼物失败，请稍后重试")),R.ZN.error(E.Mo.LiveGiftListError,{content:{statusCode:l,message:(null==o?void 0:null===(i=o.data)||void 0===i?void 0:i.prompts)||"",logId:null!=n?n:"",is_client:(0,A.DT)(),data:o}}),Promise.reject(o))})}),eL=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i&&await (0,g.v2)(),M.ao((0,o._)({is_living:!1,download_assets_from:3,channel:"test"},e)).then(e=>{var t;let{data:i,logId:o}=e,n=u()(i,"status_code");if(0===n){let e=u()(i,"data.assets",[]);return z((0,C.Js)(e)),Promise.resolve(i)}return s.F.info(u()(i,"data.prompts","获取特效失败，请稍后重试")),R.ZN.error(E.Mo.LiveGiftEffectError,{content:{statusCode:n,message:(null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.prompts)||"",logId:null!=o?o:"",is_client:(0,A.DT)(),data:i}}),Promise.reject(i)})},[z]),eT=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return M.ao((0,o._)({is_living:!1,download_assets_from:3},e)).then(e=>{var t;let{data:i,logId:o}=e,n=u()(i,"status_code");if(0===n){let e=u()(i,"data.assets",[]);return Promise.resolve((0,C.Js)(e)[0])}return R.ZN.error(E.Mo.LiveSingleEffectError,{content:{statusCode:n,message:(null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.prompts)||"",logId:null!=o?o:"",is_client:(0,A.DT)(),data:i}}),Promise.reject()})},[]),eC=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ev?M.sb((0,o._)({},e)).then(e=>{let{data:t,logId:i}=e,n=u()(t,"status_code");return 0===n?(X(u()(t,"data.diamond",0)),Promise.resolve(t)):(R.kg.event(`[${E.Tn.Error}]${E.Mo.LiveBalanceError}`,(0,o._)({statusCode:n,logId:null!=i?i:"",is_client:(0,A.DT)()},t)),s.F.info(u()(t,"data.prompts",`获取${el}余额失败，请稍后重试`)),R.kg.error(`获取${el}余额失败`,t,i),Promise.reject(t))}):0},[ev,el,X]),eR=(0,r.useCallback)(async function(){var e,t,i,n,r,d,c,v,_,m,f;let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!ev)return await (0,C.m8)("登录后即可送礼","live_gift"),(0,C.rp)(es),Promise.reject();if(!j)return s.F.info("暂无送礼权限，请稍后重试"),(0,C.rp)(es),Promise.reject();if(ec===ef)return s.F.info("不可为自己送礼"),(0,C.rp)(es),Promise.reject();let{isToAnchor:w,giftSource:y,pageType:b,isAutoNext:S,isFromContainer:I=0}=h,x=(0,l._)(h,["isToAnchor","giftSource","pageType","isAutoNext","isFromContainer"]);if(null==eo||null===(e=eo.sendGiftApiEvent)||void 0===e||e.call(eo,{params:h}),V&&!w){let{count:e,price:t}=h;if(t*e*(null!==(d=null==D?void 0:D.length)&&void 0!==d?d:0)>L.sF)return s.F.info("该礼物不支持成组送全麦"),h.count>1&&(null==ei||null===(c=ei.liveGiftGroupClick)||void 0===c||c.call(ei,{peopleCount:null!==(v=null==D?void 0:D.length)&&void 0!==v?v:1,giftId:null==h?void 0:h.gift_id,pageType:b,result:"fail"})),Promise.reject()}let P="request_song_list"===y?[]:V&&!w&&null!==(_=null==D?void 0:D.map(e=>e))&&void 0!==_?_:[ef];return e_?M.hF((0,o._)({room_id:e_,to_room_id:e_,to_user_id:V&&!w&&(null==P?void 0:P.length)===1?null==P?void 0:P[0]:ef,to_user_ids:V&&!w&&(null==P?void 0:P.length)!==1?JSON.stringify(P):"",room_anchor_id:ef,to_episode_id:ep,send_type:4,send_scene:ey?128:V&&!w?2:1,gift_source:0,buff_level:0,tags_extra:JSON.stringify({gift_source:y,enter_from_merge:null!==(m=null===(i=window)||void 0===i?void 0:null===(t=i.__INVISIBLE_QUERY__)||void 0===t?void 0:t.enter_from_merge)&&void 0!==m?m:"",enter_method:null!==(f=null===(r=window)||void 0===r?void 0:null===(n=r.__INVISIBLE_QUERY__)||void 0===n?void 0:n.enter_method)&&void 0!==f?f:""})},x)).then(async e=>{var t,i,n,l,r,d,c,v,_,m,f,w,M;let B;let{data:F,logId:G}=e,V=u()(F,"status_code"),j=h.price*h.count;null==eo||null===(t=eo.sendGiftApiCbEvent)||void 0===t||t.call(eo,{params:h,data:F}),h.count>1&&(null==ei||null===(i=ei.liveGiftGroupClick)||void 0===i||i.call(ei,{peopleCount:null!==(n=null==D?void 0:D.length)&&void 0!==n?n:1,giftId:u()(F,"data.gift_id"),pageType:b,result:0===V?"success":"fail"}));try{let e=u()(F,"data.diy_item_info","[]");e&&(B=JSON.parse(e))}catch(e){}if(0===V){let e=(0,C.mL)(u()(F,"data"),H,Y,a,B,u()(x,"count"));(null==F?void 0:null===(l=F.data)||void 0===l?void 0:l.combo_hint)&&(null==F?void 0:null===(r=F.data)||void 0===r?void 0:r.gift_id)&&q({[F.data.gift_id]:{comboHint:null==F?void 0:null===(_=F.data)||void 0===_?void 0:_.combo_hint,curCount:null==F?void 0:null===(m=F.data)||void 0===m?void 0:m.combo_count}}),ee(2);let t=null===(d=null!==(f=null==U?void 0:null===(v=U.egg_info)||void 0===v?void 0:null===(c=v.teamfight_egg_info)||void 0===c?void 0:c.team_egg_map)&&void 0!==f?f:{})||void 0===d?void 0:d[`${e_}`];(0,N.qQ)(p.LocalStorageKeys.SendGiftTime,new Date().getTime()),Q(e),eC(),P.forEach(e=>{var i,n,l,r,a,d,s,c;null==ei||null===(r=ei.liveGiftSendEvent)||void 0===r||r.call(ei,(0,o._)({gift_id:u()(F,"data.gift_id"),combo_cnt:u()(F,"data.combo_count"),group_cnt:u()(F,"data.group_count"),gift_source:y,money_per_unit:u()(F,"data.gift_struct.diamond_count"),gift_cnt:h.count,money:h.count*u()(F,"data.gift_struct.diamond_count"),is_fans_club_gift:(0,T.dU)(u()(F,"data.gift_id"))?"1":"0",to_user_id:String(e),full_seats_cnt:P.length,is_from_container:I,gift_show_from:W,if_gold_series:(null==h?void 0:h.buff_level)>0||(null==h?void 0:h.plugin_id)?1:0,customize:(null==h?void 0:h.buff_level)>0||(null==h?void 0:h.plugin_id)?2:0,price:h.originPrice,customize_price:h.price-h.originPrice,pageType:b,tab_name:L.BS[b]||b,if_mini_window:(0,O.OL)(),mission_period:(null==t?void 0:t.status)?[2,3,4,5].includes(null==t?void 0:t.status)?"challenge":(null==t?void 0:t.status)===6?"buff":"":"",mission_id:null!==(a=null==t?void 0:t.egg_id)&&void 0!==a?a:"",mission_type:(null==t?void 0:t.egg_type)?(null==t?void 0:t.egg_type)===1?"moneymission":"cntmission":"",mission_target:null!==(d=null==t?void 0:null===(i=t.task_info)||void 0===i?void 0:i.target_score)&&void 0!==d?d:"",mission_time:null!==(s=null==t?void 0:null===(n=t.task_info)||void 0===n?void 0:n.task_duration)&&void 0!==s?s:"",mission_start_from_pkend:null!==(c=null==t?void 0:null===(l=t.task_info)||void 0===l?void 0:l.task_begin_relative_battle_end_time)&&void 0!==c?c:"",gift_position:null==h?void 0:h.sort,combo_position:null==h?void 0:h.combo_position,is_hotkey:null==h?void 0:h.is_hotkey},b===L.kQ.GIFT&&h.sortType?{order_type:h.sortType}:{}))}),S&&k.emit(k.EVENT.RechargeAutoSuccess,{giftId:u()(F,"data.gift_id")}),ei.liveConsumeEvent({statusCode:V,amount:j,is_client:(0,A.DT)(),type:"gift_send"})}else 20003===V?await (0,C.m8)("登录后即可送礼","live_gift"):40001===V?g&&(et?(s.F.info(`${el}余额不足`),eI({type:"balance",balance:j-Z,amount:j,sendGiftParams:h})):s.F.info(`${el}余额不足，请充值后再试`)):42201===V?s.F.info("为保障账号和资金安全，请先前往抖音app完成身份验证"):42202===V?s.F.info("为保障账号和资金安全，请先前往抖音app完成身份核对"):(s.F.info(u()(F,"data.prompts","送礼失败，请稍后重试")),R.ZN.fatal(E.Mo.LiveSendGiftError,{content:{statusCode:V,message:(null==F?void 0:null===(w=F.data)||void 0===w?void 0:w.prompts)||"",logId:null!=G?G:"",is_client:(0,A.DT)(),data:F}}));return 0===V?Promise.resolve(F):(R.ZN.error(E.Mo.LiveGiftSendCodeNotZero,{content:{statusCode:V,message:(null==F?void 0:null===(M=F.data)||void 0===M?void 0:M.prompts)||"",logId:null!=G?G:"",is_client:(0,A.DT)(),data:F}}),(0,C.rp)(es),Promise.reject(F))}):Promise.reject()},[ev,j,a,e_,ep,H,Y,Z,es,eC,Q,eI,D,W,V,ef,ei,eo,el,et,ec,ee]),eM=t&&j;(0,r.useEffect)(()=>{eM&&e_&&(ek(),eL())},[eM]),(0,B.Z)(()=>{eb&&!en&&eM&&ek()},[eb,en]);let ex=t&&ev;return(0,r.useEffect)(()=>{ex&&eC()},[ex]),{getGifts:ek,getEffects:eL,getSingleEffect:eT,getBalance:eC,sendGift:eR,handleRecharge:eI,giftScene:ew,getGiftExtra:eE,getMultiGiftExtra:eN,getGiftLayer:eA}}},802693:function(e,t,i){i.d(t,{Y:function(){return f},Z:function(){return h}}),i("88648");var o=i("582746"),n=i("563097"),l=i("309931"),r=i("734123"),a=i("713097"),u=i.n(a),d=i("851190"),s=i("28811"),c=i("971260");let v=e=>{let{title:t,content:i,confirmBtnText:o="确定",closeBtnText:l="取消",onConfirm:r,onClose:a,className:v}=e;return(0,n.jsx)(s.Z,{visible:!0,className:u()({[c.default.mask]:!0,[v]:!!v}),title:t,onCancel:a,closeable:!1,children:(0,n.jsxs)("div",{className:c.default.wrap,children:[(0,n.jsx)("div",{className:c.default.content,children:i}),(0,n.jsxs)("div",{className:c.default.operation,children:[(0,n.jsx)(d.zx,{type:d.L$.secondary,onClick:()=>{a&&a()},children:l}),(0,n.jsx)(d.zx,{onClick:()=>{r&&r()},children:o})]})]})})},_=function(){let e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{elementClass:o="confirm-modal"}=i,a=()=>{e&&t&&(r.Util.removeClass(t,o),l.unmountComponentAtNode(t),e.removeChild(t),e.style.overflow="")};return{showModal:function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{title:u,content:d,confirmBtnText:s,closeBtnText:c,onConfirm:_,onClose:m,className:f}=i,h=async()=>{_&&await _(),a()},p=async()=>{m&&await m(),a()};e=document.body,!(t=r.Util.findDom(e,`.${o}`))&&(t=document.createElement("div"),r.Util.addClass(t,o),e.appendChild(t),e.style.overflow="hidden",l.render((0,n.jsx)(v,{title:u,content:d,confirmBtnText:s,closeBtnText:c,onConfirm:h,onClose:p,className:f}),t))},destroyModal:a}};var m=i("529907"),f={Red:"1",Blue:"2"},h=()=>{let{linkmicStore:{teamfightInfo:e,linkMicSeats:t}}=(0,o.Z)(),{isGroupFight:i,isRoomBattle:n,statusTexting:l,pickEmptySeatPositionByGroup:r,groupMemberCnts:a,willInterruptWithPosQuit:u,leftTeamScore:d,rightTeamScore:s,status:c,countDown:v,isInPunish:f,isGroupPlaying:h,redGroupSeats:p,blueGroupSeats:g}=(0,m.Z)({teamfightInfo:e,linkMicSeats:t}),{showModal:w}=_();return{isGroupFight:i,isRoomBattle:n,statusTexting:l,pickEmptySeatPositionByGroup:r,groupMemberCnts:a,willInterruptWithPosQuit:u,exitGameConfirm:(e,t)=>{if(!t)return;let i="1"===String(t)?"红队":"蓝队";w({title:`确认退出${i}吗`,content:`退出后${i}人数为 0，团战将自动结束`,onConfirm:()=>{e()}})},leftTeamScore:d,rightTeamScore:s,status:c,countDown:v,isInPunish:f,isGroupPlaying:h,redGroupSeats:p,blueGroupSeats:g}}},459555:function(e,t,i){i.d(t,{R:function(){return o}});function o(){return!0}},459755:function(e,t,i){i.d(t,{d:function(){return v}}),i(874386),i(527785),i(250440);var o=i(88648),n=i(645260),l=i.n(n),r=i(524852),a=i(582746),u=i(158879),d=i(618360),s=i(632766),c=i(497364);let v=e=>{let{paidLiveStore:{paidLiveAuth:t,paidLiveData:i}}=(0,a.Z)(),o=(null==t?void 0:t[e])===r.Bp.OPEN;return{ticketInfo:u.S,isCanView:o}};t.Z=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let{singletonStore:{container:e,setPaidLiveQRCodeVisible:t},paidLiveStore:{paidLiveData:i,setQrcodeVisible:n}}=(0,a.Z)(),[r,u]=(0,o.useState)("https://lf-dy-gr-sourcecdn.bytegecko.com/obj/byte-gurd-source-gr/webcast/mono/h5/vs_paid_live_audience_pc_buy_ticket_h5_douyin/pages/ticket_pc/index.html"),v=()=>{t(!0)};return(0,o.useEffect)(()=>{var e,t;if((null==i?void 0:i.paid_type)!==d.xc.COMMON)(null===(t=window)||void 0===t?void 0:null===(e=t.__INVISIBLE_QUERY__)||void 0===e?void 0:e.if_paid_live_card)&&(v(),window.__INVISIBLE_QUERY__.if_paid_live_card=void 0)},[v]),(0,o.useEffect)(()=>{try{(async()=>{let e=await (0,s.ZP)({service_name:"webcast.douyin.live_pc",key:"hybrid_schema"}),t=l()(e,"paid_live_ticket_panel","");t&&u(t)})()}catch(e){}},[]),{openTicketInfo:function(){let{query:t={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=Object.keys(t).reduce((e,i)=>{let o=`${i}=${t[i]}`;return`${e}&${o}`},""),o=`${r}${i?`?${i}`:""}`;if(e._containerList.keys()){for(let t of e._containerList.keys())if(t.includes("https://lf-webcast-gr-sourcecdn.bytegecko.com/obj/byte-gurd-source-gr/webcast/mono/h5/pc_live_pay_order_douyin/pages/cashier/index.html"))return}e.open(o,c.ov.RIGHT_PANEL,{hideClose:!0})},openQRPanel:v,closeQRPanel:()=>{t(!1)}}}},74618:function(e,t,i){i.d(t,{m:function(){return p},Z:function(){return w}});var o=i("563097"),n=i("88648"),l=i("520739"),r=i("878389"),a=i("368200"),u=i("713097"),d=i.n(u),s=i("911208"),c=e=>{var{className:t,children:i}=e,n=(0,a._)(e,["className","children"]);return(0,o.jsx)("div",(0,r._)((0,l._)({},n),{className:d()(s.default.buttonGroup,t),children:i}))};let v=(0,n.forwardRef)((e,t)=>(0,o.jsx)("svg",(0,r._)((0,l._)({width:6,height:10,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.646.646a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 1 1-.708-.708L4.293 5 .646 1.354a.5.5 0 0 1 0-.708z",fill:"#fff"})}))),_=e=>{var{className:t,children:i,showMore:u,dontUseChildren:c=!1,icon:_,text:m,imgProps:f}=e,h=(0,a._)(e,["className","children","showMore","dontUseChildren","icon","text","imgProps"]);return(0,o.jsxs)("button",(0,r._)((0,l._)({type:"button",role:"button"},h),{className:d()(s.default.button,t,s.default.force),children:[(0,n.isValidElement)(i)&&!c?i:null,!(0,n.isValidElement)(i)||c?(0,o.jsxs)(o.Fragment,{children:["string"==typeof _?(0,o.jsx)("img",(0,r._)((0,l._)({},f),{className:d()(s.default.button_icon,"operate-icon"),src:_,alt:"string"==typeof m?m:""})):_,(0,o.jsxs)("div",{className:d()(s.default.button_text,"operate-text"),style:{color:"rgba(255, 255, 255, 0.75)"},children:["string"==typeof m?(0,o.jsx)("span",{children:m}):m,u?(0,o.jsx)(v,{}):null]})]}):null]}))};_.Group=c;var m=i("670819"),f=i("774444"),h=i("459555");let p=e=>{let{className:t,children:i}=e,{isInPreview:n,isInPreviewEnter:l}=(0,f.DQ)(),r=(0,h.R)();return(0,o.jsx)("div",{className:d()(m.default["operating-bar-container"],t,{[m.default.isInPreview]:n,[m.default.isInPreviewEnter]:l,[m.default.newSkeleton]:r}),children:i})},g=(0,n.memo)(p);g.Button=_,g.ButtonGroup=c;var w=g},264961:function(e,t,i){i.d(t,{gE:function(){return B},NM:function(){return G},Z4:function(){return j},yG:function(){return x},zS:function(){return M},L4:function(){return F},BC:function(){return V},sk:function(){return U},B7:function(){return H}}),i("874386");var o=i("563097"),n=i("88648"),l=i("737074"),r=i("158041"),a=i("110479"),u=i("949905"),d=i("96008"),s=i.n(d),c=i("797973"),v=i("38555"),_=i("90072"),m=i("582746"),f=i("520739"),h=i("309931"),p=i("863062"),g=i("157818"),w=i("713097"),y=i.n(w),b=i("538346"),S=i("744612");function I(){var e,t;let{singletonStore:{message:i},eventStore:{pkEvent:l}}=(0,m.Z)(),{pipWin:r}=(0,g.ds)(),a=(0,n.useRef)(s()),u=n.useRef(null),[d,c]=(0,n.useState)(null),v=G(),_=null==d?void 0:null===(t=d.animation)||void 0===t?void 0:null===(e=t.url_list)||void 0===e?void 0:e[0],w=(null==d?void 0:d.status)!==1;return(0,n.useEffect)(()=>{if(!!v)return null==i?void 0:i.on("BattleDrawPropMessage",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{payload:t}=e[0];t&&c(t)})},[i,v]),(0,n.useEffect)(()=>{var e;if(!_)return;let t=null===(e=u.current)||void 0===e?void 0:e.getBoundingClientRect(),i=(null==r?void 0:r.document)||document,n=i===document?(0,S.EF)(p.q):i.getElementById(p.q),v=w?t:(null==n?void 0:n.getBoundingClientRect())||t;if(!v||!t)return;let m=i.createElement("div");i.body.appendChild(m);let g=()=>{try{var e;null===(e=m.parentElement)||void 0===e||e.removeChild(m),(0,h.unmountComponentAtNode)(m),c(null),a.current=s()}catch(e){}};return a.current=g,(0,h.render)((0,o.jsx)("div",{className:y()(b.default.propDraw,(!!(null==r?void 0:r.document)||w)&&b.default.propDrawFail),style:{"--originx":`${t.x+t.width/2}px`,"--originy":`${t.y+t.height/2}px`,"--targetx":`${v.x+v.width/2}px`,"--targety":`${v.y+v.height/2-(v!==t?18:0)}px`},onAnimationEnd:()=>{g()},children:(0,o.jsx)("img",{src:_})}),m),window.collectEvent("livesdk_connection_get_buffer_card_result_show",(0,f._)({get_type:(null==d?void 0:d.reason)===1?"mvp":"high_money",is_get_buffer_card:Number(!w),prop_id:null==d?void 0:d.prop_id},null==l?void 0:l.getPKPropCardCommonParams())),()=>{g()}},[_,w]),(0,n.useEffect)(()=>()=>{a.current()},[]),(0,o.jsx)("div",{className:b.default.propDrawAnchor,ref:u})}var E=i("53562"),A=i.p+"media/fogBothBar.07d92082d098c2bd.webp",N=i.p+"media/fogRightBar.5b1800de8c8d5b6a.webp",k=i.p+"media/leftFreezeBar.11e1c2e40e020858.webp",L=i.p+"media/rightFreezeBar.7ffcfffbdaaa6946.webp";let T={enablePropCard:!1,anchorEffectInfoMap:{},inEffectAnchorEffectInfoMap:{},openPropCardDesc:s(),openPropCardRules:s(),setFakePropInfo:s(),updateAnchorEffectInfoMapByJSON:s()},C=(0,r.kr)(T),R=e=>{let t=(0,u.dP)(e),[i,o]=(0,n.useState)({}),l=(0,c.Z)(()=>{o(t=>(0,u.PG)(e,t,!0))});return(0,v.Z)(()=>{l()},t?void 0:1e3,{immediate:!0}),(0,n.useEffect)(()=>{l()},[e]),i},M=(0,n.memo)((0,E.Pi)(e=>{let{children:t}=e,{singletonStore:{message:i},pkStore:{pkId:r,pkCountDown:a,isInPK:d}}=(0,m.Z)(),[s,v]=(0,n.useState)(null),[_,f]=(0,n.useState)({}),h=(0,c.Z)(e=>{if(!e){f({});return}f((0,u.x$)(e))});(0,n.useEffect)(()=>{d||f({})},[d]),(0,n.useEffect)(()=>{null==i||i.on("BattleEffectContainerMessage",e=>{var t,i;let o=null===(i=e.find(e=>{var t;return(null==e?void 0:null===(t=e.payload)||void 0===t?void 0:t.battle_id)===r}))||void 0===i?void 0:null===(t=i.payload)||void 0===t?void 0:t.battle_effect_info;o&&h(o)}),null==i||i.on("BattleUpdatePropCardTaskMessage",e=>{var t,i;let o=null===(i=e.find(e=>{var t;return(null==e?void 0:null===(t=e.payload)||void 0===t?void 0:t.battle_id)===r}))||void 0===i?void 0:null===(t=i.payload)||void 0===t?void 0:t.battle_effect_info;o&&h(o)})},[i,r]),(0,n.useEffect)(()=>{!a&&f({})},[!a]);let p=(0,u.dP)(_);(0,n.useEffect)(()=>{if(p)return;let e=l.Z.setIntervalWarp(()=>{f(e=>(0,u.PG)(e,e))});return()=>{l.Z.clearIntervalWarp(e)}},[p]);let g=d?_:{},w=R(g);return(0,o.jsxs)(C.Provider,{value:{anchorEffectInfoMap:g,inEffectAnchorEffectInfoMap:w,openPropCardDesc:()=>{},openPropCardRules:()=>{},fakePropInfo:s,setFakePropInfo:v,updateAnchorEffectInfoMapByJSON:h,enablePropCard:!0},children:[t,(0,o.jsx)(I,{})]})})),x=(0,a.Z)(C),P=()=>x(e=>e.anchorEffectInfoMap),O=()=>x(e=>e.inEffectAnchorEffectInfoMap),B=e=>{let t=O();return(0,n.useMemo)(()=>{var i,o;return(null==t?void 0:null===(o=t[e])||void 0===o?void 0:null===(i=o[u.du.FreezeBuff])||void 0===i?void 0:i.length)>0},[e,t])},F=e=>x(t=>(0,u.PL)(e,t.anchorEffectInfoMap)),G=()=>x(e=>e.enablePropCard),D=e=>{var t;let i=O();return((null==i?void 0:null===(t=i[e])||void 0===t?void 0:t[u.du.Fog])||[]).length>0},V=()=>{let e=O();return(0,n.useMemo)(()=>(0,u.To)(e),[e])},U=e=>{let t=D(e);return{isAnchorInFog:t,isSomeAnchorInSuperFogEffect:!!V()}},j=e=>{let{leftAnchorIdList:t=[],rightAnchorIdList:i=[]}=e,o=P(),l=O(),r=x(e=>e.fakePropInfo),{fakeEffect:a,fakeEffectIsSuperFog:d}=(0,n.useMemo)(()=>{let e={fakeEffect:void 0,fakeEffectIsSuperFog:!1},{type:i,sendTime:n}=r||{};if(!i)return e;for(let e of t){var l,a;let t=null==o?void 0:null===(a=o[e])||void 0===a?void 0:null===(l=a[i])||void 0===l?void 0:l.find(e=>Number(null==e?void 0:e.insert_time)>=n);if(t)return{fakeEffect:t,fakeEffectIsSuperFog:(null==t?void 0:t.is_super_prop)&&(0,u.q7)(null==t?void 0:t.type)}}return e},[o,r,t]),s=V(),c=d?a:s,v=!!c,{leftEffectInfo:_,rightEffectInfo:m,repeatedEffect:f}=(0,n.useMemo)(()=>{let e=e=>{if(!e||!(0,u.gQ)(e))return null;for(let n of t){var i,o;let t=null==l?void 0:null===(o=l[n])||void 0===o?void 0:null===(i=o[null==e?void 0:e.type])||void 0===i?void 0:i.find(t=>(null==t?void 0:t.insert_time)!==(null==e?void 0:e.insert_time));if(t)return t}},o=(()=>{for(let e of t){let{firstEffect:t}=(0,u.PL)(e,l);if(t)return t}})();if((!o||(0,u.q7)(null==o?void 0:o.type))&&c||d)return{leftEffectInfo:c,rightEffectInfo:c,repeatedEffect:e(c)};let n=a||o;return{leftEffectInfo:n,rightEffectInfo:(()=>{for(let o of i){var e,t;let i=null===(e=(0,u.Md)({anchorId:o,anchorEffectInfoMap:l,type:u.du.FreezeBuff}))||void 0===e?void 0:e[0];if(i)return i;let n=null===(t=(0,u.Md)({anchorId:o,anchorEffectInfoMap:l,type:1}))||void 0===t?void 0:t[0];if(n)return n}})(),repeatedEffect:n?e(n):null}},[l,t,i,c,a,d]),h=(0,u.FD)(_),p=(0,u.FD)(m),g=(0,u.FD)(f).barIcon,w=(0,u.q7)(null==_?void 0:_.type),y=(0,u.q7)(null==m?void 0:m.type),b=(0,u.W5)(null==_?void 0:_.type),S=(0,u.W5)(null==m?void 0:m.type),I=S?p.barIcon:h.barIcon,E=w||y||v,T=!_&&y,[C,R]=(0,n.useMemo)(()=>b&&S?[k,L]:b&&!S?[k,void 0]:!b&&S?[void 0,L]:w&&y?[A,A]:w&&!y?[null==h?void 0:h.barAuraIcon,void 0]:!_&&y?[void 0,N]:[null==h?void 0:h.barAuraIcon,void 0],[_,m,v]),M=!R&&p.barMiniIcon;return{leftEffectInfo:_,rightEffectInfo:m,needPkBarAlignCenter:E,needHideCenterIcon:T,centerIcon:I,leftAuraUrl:C,rightAuraUrl:R,rightMiniIcon:M,hideRightScore:(0,n.useMemo)(()=>v||i.some(e=>{var t;return null===(t=(0,u.Md)({anchorId:e,anchorEffectInfoMap:l,type:1}))||void 0===t?void 0:t.length}),[i,l,v]),hideLeftScore:v,isSomeAnchorInSuperFogEffect:v,repeatedCenterIcon:g}},H=e=>{let{anchorId:t,showSelfFrezze:i}=e,{firstEffect:o,effectList:l,anchorEffectMap:r}=F(t),{tipText:a,targetEndTime:d,count:s,value:c}=(0,n.useMemo)(()=>{var e,t,n,a,d,s;if(!o)return{tipText:null,targetEndTime:null};let c=null===(e=r[u.du.FreezeBuff])||void 0===e?void 0:e[0];if(c){let e=(null===(n=c.prop_card_task)||void 0===n?void 0:n.current_value_str)||(null===(a=c.prop_card_task)||void 0===a?void 0:a.current_value)||"0",t=null===(d=c.prop_card_task)||void 0===d?void 0:d.effect_num;return{tipText:i?"你的待解冻值":"定身",count:t,value:e,totalValue:(null===(s=c.prop_card_task)||void 0===s?void 0:s.total_value)||e}}let{name:v,type:_,is_super_prop:m}=o,f=Object.entries(r).some(e=>{let[t,i]=e;return Number(t)!==_&&(null==i?void 0:i.length)}),h=null===(t=r[_])||void 0===t?void 0:t.some(e=>e.is_super_prop!==m);if(!f&&!h)return{tipText:`${v}生效中`,targetEndTime:Math.max(...r[o.type].map(e=>Number(e.end_time))),count:null};let p=(0,u.hN)(l);return{tipText:`${p?"超级":""}道具卡生效中`,targetEndTime:Math.max(...l.map(e=>Number(e.end_time))),count:l.length}},[o,i,r,l]);return{tipText:a,count:s,countDown:Math.floor((0,_.Z)({targetDate:d?new Date(d):void 0})[0]/1e3),firstEffect:o,value:c,totalValue:c}}},190183:function(e,t,i){i(874386);var o=i(88648);t.Z=()=>{let e=o.useRef(),[t,i]=o.useState(0),n=o.useCallback((t,o)=>{l(),i(t),e.current=setInterval(()=>{i(t=>t<=0?(null==o||o(),clearInterval(e.current),0):t-1)},1e3)},[]),l=o.useCallback(()=>{i(0),e.current&&(clearInterval(e.current),e.current=void 0)},[]);return o.useEffect(()=>()=>{e.current&&(i(0),clearInterval(e.current),e.current=void 0)},[]),{clearCountDown:l,startCountDown:n,countDown:t,countDownIntervelRef:e}}},529907:function(e,t,i){i.d(t,{Y:function(){return a}}),i(527785),i(250440),i(874386);var o=i(88648),n=i(561346),l=i(116326),r=i(190183),a={Red:"1",Blue:"2"};t.Z=e=>{let{teamfightInfo:t,linkMicSeats:i}=e,a=o.useMemo(()=>(null==t?void 0:t.type)===n.yw.LinkmicTeamfightType_TWO_TEAM&&(null==t?void 0:t.status)!==n.Hj.LinkmicTeamfightStatus_FINISHED&&(null==t?void 0:t.status)!==n.Hj.LinkmicTeamfightStatus_NONE,[t]),u=o.useMemo(()=>(null==t?void 0:t.type)===n.yw.LinkmicTeamfightType_ROOM_BATTLE&&(null==t?void 0:t.status)!==n.Hj.LinkmicTeamfightStatus_FINISHED&&(null==t?void 0:t.status)!==n.Hj.LinkmicTeamfightStatus_NONE,[t]),d=o.useMemo(()=>(null==t?void 0:t.type)===n.yw.LinkmicTeamfightType_TWO_TEAM&&(null==t?void 0:t.status)===n.Hj.LinkmicTeamfightStatus_PLAYING,[t]),s=o.useMemo(()=>(null==t?void 0:t.type)===n.yw.LinkmicTeamfightType_TWO_TEAM&&(null==t?void 0:t.status)===n.Hj.LinkmicTeamfightStatus_PUNISHING,[t]),{countDown:c,startCountDown:v}=(0,r.Z)(),{countDown:_,startCountDown:m}=(0,r.Z)(),f=[1,2,5,6],h=[3,4,7,8],p=o.useMemo(()=>{var e;let i=null==t?void 0:null===(e=t.team_infos)||void 0===e?void 0:e.find(e=>"1"===String(null==e?void 0:e.team_id)),o=Number(null==i?void 0:i.score)||0;return{teamScore:o,score:o,scoreBlur:null==i?void 0:i.score_fuzzy,teamScoreBlur:null==i?void 0:i.score_fuzzy}},[null==t?void 0:t.team_infos]),g=o.useMemo(()=>{var e;let i=null==t?void 0:null===(e=t.team_infos)||void 0===e?void 0:e.find(e=>"2"===String(null==e?void 0:e.team_id)),o=Number(null==i?void 0:i.score)||0;return{teamScore:o,score:o,scoreBlur:null==i?void 0:i.score_fuzzy,teamScoreBlur:null==i?void 0:i.score_fuzzy}},[null==t?void 0:t.team_infos]),w=o.useCallback(e=>("1"===e?f:h).find(e=>{var t;return!(null===(t=i[e])||void 0===t?void 0:t.user)}),[i]),y=o.useMemo(()=>[f,h].map(e=>e.reduce((e,t)=>{var o;return e+((null==i?void 0:null===(o=i[t])||void 0===o?void 0:o.user)?1:0)},0)),[i]),b=o.useCallback((e,i)=>{if((null==t?void 0:t.status)===n.Hj.LinkmicTeamfightStatus_PLAYING){let t=f.includes(e),[o,n]=y;if((t?o:n)===1&&(!i||f.includes(i)!==t))return t?"1":"2"}},[i,t,y]);(0,o.useEffect)(()=>{if(!t)return;let{start_time:e,current_time_ms:i,duration:o,punish_start_time:l,punish_duration:r}=t;if(!!e&&"0"!==e)(null==t?void 0:t.status)===n.Hj.LinkmicTeamfightStatus_PLAYING&&v(Math.floor(o-(i/1e3-e))),(null==t?void 0:t.status)===n.Hj.LinkmicTeamfightStatus_PUNISHING&&m(Math.floor(r-(i/1e3-l)))},[t]);let S=o.useMemo(()=>{if(!!t)switch(null==t?void 0:t.status){case n.Hj.LinkmicTeamfightStatus_PREPARE:return"组队中";case n.Hj.LinkmicTeamfightStatus_PLAYING:return`团战${(0,l.Gm)(c)}`;case n.Hj.LinkmicTeamfightStatus_PUNISHING:return`战果${(0,l.Gm)(_)}`;default:return}},[t,c,_]);return{isGroupFight:a,isRoomBattle:u,statusTexting:S,pickEmptySeatPositionByGroup:w,groupMemberCnts:y,willInterruptWithPosQuit:b,leftTeamScore:p,rightTeamScore:g,status:o.useMemo(()=>null==t?void 0:t.status,[t]),countDown:c,isInPunish:s,isGroupPlaying:d,redGroupSeats:f,blueGroupSeats:h}}},471957:function(e,t,i){i(250440);var o=i(88648),n=i(283993);t.Z=e=>{let{guestBattleInfo:t}=e,i=o.useMemo(()=>!!(null==t?void 0:t.battle_id_str)&&Number(null==t?void 0:t.status)!==n.Nq.GuestBattle_NONE&&Number(null==t?void 0:t.status)!==n.Nq.GuestBattle_FINISH,[t]),l=o.useMemo(()=>i&&[n.Nq.GuestBattle_ON_GOING,n.Nq.GuestBattle_PAUSE].includes(null==t?void 0:t.status),[i]),r=o.useMemo(()=>i&&Number(null==t?void 0:t.status)===n.Nq.GuestBattle_SHOW_RESULT,[t,i]);return{isGuestBattle:i,status:o.useMemo(()=>null==t?void 0:t.status,[t]),isInPunish:r,isGuestPlaying:l}}},895091:function(e,t,i){i.d(t,{SX:function(){return r},dY:function(){return n},oQ:function(){return l}});var o=i(880257);let n=e=>`sslocal://webcast_webview?url=https%3A%2F%2Flf-webcast-gr-sourcecdn.bytegecko.com%2Fobj%2Fbyte-gurd-source-gr%2Fwebcast%2Fmono%2Fh5%2Frevenue_gift_exhibition_hall_h5_douyin%2Fpages%2Fgift_list%2Findex.html%3Fprofile_user_id%3D${e}%26showPcClose%3Dtrue`,l=e=>{let t=encodeURIComponent(`${o.w.Exhibition}&profile_user_id=${e}`);return`sslocal://lynxview?url=${t}&type=popup&gravity=bottom&height_percent=75&web_bg_color=ff060a19&radius=23&radius_bottom_right=0&radius_bottom_left=0&enable_preload=all&add_safe_area_height=0&use_wk_falcon=2`},r=()=>`sslocal://lynxview?url=${encodeURIComponent(o.w.Exhibition)}&type=popup&gravity=bottom&height_percent=75&web_bg_color=ff060a19&radius=23&radius_bottom_right=0&radius_bottom_left=0&enable_preload=all&add_safe_area_height=0&use_wk_falcon=2`},774735:function(e,t,i){var o=i(88648),n=i(9034),l=i(207813),r=i.n(l),a=i(645260),u=i.n(a);t.Z=e=>{let{linkmicStore:{linkMicSeats:t,setChoosePanelVisible:i,choosePeopleAll:l,setChoosePeopleArr:a,linkMicLayout:d,choosePeopleArr:s,setChoosePeopleList:c,groupLiveMemberList:v},userStore:{userInfo:_},roomStore:{roomInfo:m}}=e(),f=(0,o.useRef)([]),h=(0,o.useMemo)(()=>{let e=u()(m,"room.others.group_live_data.is_group_live",0)?null==v?void 0:v.map(e=>({user:e})):Object.values(t).filter(e=>{var t,i,o,l,r,a;if(Number(null===(t=e.user)||void 0===t?void 0:t.user_position)>=n.Lf[d])return!1;let u=(null==_?void 0:_.id_str)===(null===(o=e.user)||void 0===o?void 0:null===(i=o.user)||void 0===i?void 0:i.id_str)&&(null==_?void 0:_.id_str)===(null==m?void 0:null===(l=m.anchor)||void 0===l?void 0:l.id_str);return e.user&&((null===(a=e.user)||void 0===a?void 0:null===(r=a.user)||void 0===r?void 0:r.id_str)!==(null==_?void 0:_.id_str)||u)});return f.current=e,c(e),e},[t,_,d,m,v]),p=(0,o.useCallback)(()=>{let e=null==h?void 0:h.map(e=>{var t,i,o;return null!==(o=null==e?void 0:null===(i=e.user)||void 0===i?void 0:null===(t=i.user)||void 0===t?void 0:t.id_str)&&void 0!==o?o:""});r()(s,e)||a(e)},[a,h,s]);return{choosePeopleList:h,choosePeoplePanelVisible:(0,o.useCallback)(e=>{e&&l&&p(),i(e)},[l,i,p]),chooseAllCb:p}}},116326:function(e,t,i){i.d(t,{Aw:function(){return l},BM:function(){return a},Gm:function(){return u},KR:function(){return r}}),i(179133),i(826893);var o=i(624147),n=i.n(o);let l=e=>{let t=2,i=1;for(let o=1;o<=3;o++)if(e<=o*o){i=Math.ceil(e/(t=o));break}return{col:t,row:i}},r=e=>{let t=e.indexOf("{");if(-1===t)return;let i=e.lastIndexOf("}")+1,o=e.substring(t,i);try{let e=o.search(/[a-zA-Z][0-9]\{\"/);return -1!==e&&(o=o.substring(0,e)),JSON.parse(o)}catch(i){return r(e.substring(t+1))}},a=e=>e<=999?`${e}`:e>999?"999":"",u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e<=0)return"00:00";let t=String(Math.floor(e/60)),i=String(e%60);return`${n()(t,2,"0")}:${n()(i,2,"0")}`}},721222:function(e,t,i){i.d(t,{EP:function(){return S},F3:function(){return G},Im:function(){return F},JW:function(){return h},MR:function(){return M},Ne:function(){return _},Nz:function(){return Z},O5:function(){return D},O9:function(){return Y},Qz:function(){return P},UH:function(){return w},Vd:function(){return p},W$:function(){return N},Xk:function(){return v},Y5:function(){return y},ZA:function(){return V},_s:function(){return B},at:function(){return E},bi:function(){return f},d3:function(){return x},f5:function(){return L},j1:function(){return U},lh:function(){return O},ni:function(){return R},u7:function(){return H},vc:function(){return I},xM:function(){return j},xS:function(){return A},xw:function(){return W},y3:function(){return g},y9:function(){return b},yM:function(){return k}});var o=i(520739),n=i(878389),l=i(531067),r=i(867204),a=i(737470),u=i(983253),d=i(332679),s=i(645260),c=i.n(s),v={LOGIN:1,1:"LOGIN",NOT_LOGIN:0,0:"NOT_LOGIN"};let _=e=>{var t;let i=e?1:0,o=(null==e?void 0:e.episode_id_str)?null==e?void 0:e.episode_id_str:"",n=(null==e?void 0:e.item_id)?null==e?void 0:e.item_id:"",l=(null==e?void 0:e.season_id_str)?null==e?void 0:e.season_id_str:"",r=i?(null==e?void 0:null===(t=e.mod)||void 0===t?void 0:t.episode_stage)===2?"premiere":"live":"";return{push_id:(0,u.Rs)("push_id"),is_vs:i,vs_episode_id:o,vs_ep_group_id:n,vs_season_id:l,vs_episode_stage:r}},m=()=>({url:location.href,url_path:location.pathname}),f=e=>{if(!!window)window.collectEvent&&window.collectEvent("livesdk_rec_live_play",(0,o._)({anchor_id:"",web_live_page:"",web_live_tab:"",more_detail:"",live_type:"game",action_type:"click",game_live_source:"game_web",url:location.href,url_path:location.pathname},e))},h=e=>{window.collectEvent&&window.collectEvent("livesdk_live_show",(0,n._)((0,o._)({cid:(0,l.V7)(),web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",action_type:"click",game_live_source:"game_web",url:location.href,url_path:location.pathname},e),{if_qianchuan_ad:(null==e?void 0:e.cid)||(0,l.V7)()?1:0,ad_type:(null==e?void 0:e.cid)||(0,l.V7)()?a.Z9.Live:void 0,live_status:null==e?void 0:e.live_status,is_comments_fold:null==e?void 0:e.is_comments_fold}))},p=e=>{window.collectEvent("livesdk_second_tab_click",(0,o._)((0,n._)((0,o._)({},m()),{tab_name:"live"}),e))},g=e=>{window.collectEvent&&window.collectEvent("livesdk_live_window_duration_v2",(0,n._)((0,o._)({cid:(0,l.V7)(),web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname},e),{duration:(null==e?void 0:e.duration)>0?null==e?void 0:e.duration:0,isIncorrect:(null==e?void 0:e.duration)>0?0:1,if_qianchuan_ad:(null==e?void 0:e.cid)||(0,l.V7)()?1:0,ad_type:(null==e?void 0:e.cid)||(0,l.V7)()?a.Z9.Live:void 0}))},w=e=>{window.collectEvent&&window.collectEvent("livesdk_live_window_duration_v2_new",(0,n._)((0,o._)({cid:(0,l.V7)(),web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname},e),{duration:(null==e?void 0:e.duration)>0?null==e?void 0:e.duration:0,isIncorrect:(null==e?void 0:e.duration)>0?0:1,if_qianchuan_ad:(null==e?void 0:e.cid)||(0,l.V7)()?1:0,ad_type:(null==e?void 0:e.cid)||(0,l.V7)()?a.Z9.Live:void 0}))},y=e=>{window.collectEvent&&window.collectEvent("livesdk_live_duration",(0,n._)((0,o._)({cid:(0,l.V7)(),web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname},e),{duration:(null==e?void 0:e.duration)>0?null==e?void 0:e.duration:0,isIncorrect:(null==e?void 0:e.duration)>0?0:1,if_qianchuan_ad:(null==e?void 0:e.cid)||(0,l.V7)()?1:0,is_top:(0,d.k)()?"1":"0",ad_type:(null==e?void 0:e.cid)||(0,l.V7)()?a.Z9.Live:void 0,live_status:null==e?void 0:e.live_status,is_comments_fold:null==e?void 0:e.is_comments_fold}))},b=e=>{window.collectEvent&&window.collectEvent("livesdk_window_user_pause_duration",(0,o._)({cid:(0,l.V7)(),web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname},e))},S=e=>{window.collectEvent&&window.collectEvent("livesdk_live_click_user",(0,o._)({web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname},e))},I=e=>{window.collectEvent&&window.collectEvent("livesdk_live_start",(0,o._)({web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname},e))},E=e=>{window.collectEvent&&window.collectEvent("livesdk_live_pause",(0,o._)({web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname},e))},A=e=>{window.collectEvent&&window.collectEvent("livesdk_mini_window_preview_show",(0,o._)({web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname},e))},N=e=>{window.collectEvent&&window.collectEvent("livesdk_mini_window_preview_play",(0,o._)({web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname},e))},k=e=>{window.collectEvent&&window.collectEvent("livesdk_mini_window_preview_duration",(0,o._)({web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname},e))},L=(e,t)=>{window.collectEvent(e,t)},T=e=>{var t,i,o,n,l,a,d,s,v,_;let m=c()(e,"room.stream_url.stream_orientation",""),f=(null===(t=e.room)||void 0===t?void 0:t.episode_extra)?1:0;return{push_id:(0,u.Rs)("push_id"),anchor_id:c()(e,"room.owner.id_str",""),room_id:c()(e,"room.id_str",""),title_type:void 0===r.k4[e.title_type]?"":r.k4[e.title_type],cover_type:void 0===r.I4[e.cover_type]?"":r.I4[e.cover_type],is_recommend:void 0===r.Od[e.is_recommend]?"":r.Od[e.is_recommend],stream_type:r.FO[m]||"",game_name:c()(e,"tag_name",""),live_type:"game",is_vs:f,vs_episode_id:f?null==e?void 0:null===(o=e.room)||void 0===o?void 0:null===(i=o.episode_extra)||void 0===i?void 0:i.episode_id_str:"",vs_ep_group_id:f?null==e?void 0:null===(l=e.room)||void 0===l?void 0:null===(n=l.episode_extra)||void 0===n?void 0:n.item_id:"",vs_season_id:f?null==e?void 0:null===(d=e.room)||void 0===d?void 0:null===(a=d.episode_extra)||void 0===a?void 0:a.season_id_str:"",vs_episode_stage:f?(null==e?void 0:null===(_=e.room)||void 0===_?void 0:null===(v=_.episode_extra)||void 0===v?void 0:null===(s=v.mod)||void 0===s?void 0:s.episode_stage)===2?"premiere":"live":""}},C=e=>{try{if(e)return T(e);return(0,o._)({},_())}catch(e){return{}}},R=(e,t)=>{let i=(0,o._)({},m(),C(t),e||{});window.collectEvent("livesdk_voice_button_click",i)},M=e=>{window.collectEvent("livesdk_browser_limited_mute",C(e))},x=e=>({is_paidlive:Number(null==e?void 0:e.paid_type),watch_paidlive_status:(null==e?void 0:e.view_right)?"regular":Number(null==e?void 0:e.duration)>180?"try_end":"try",entrance_form:""}),P=e=>{window.collectEvent&&window.collectEvent("live_no_support_on_pc",(0,o._)({},m(),e))},O=e=>{let t=window.__INVISIBLE_QUERY__||{};window.collectEvent&&window.collectEvent("livesdk_connection_mvpseats_show",(0,n._)((0,o._)({},t,m(),e),{connection_type:"anchor",show_object:"audience"}))},B=e=>{let t=window.__INVISIBLE_QUERY__||{};window.collectEvent&&window.collectEvent("livesdk_connection_mvpseats_click",(0,n._)((0,o._)({},t,m(),e),{connection_type:"anchor",show_object:"audience",click_identity:"audience",click_from:"seat"}))},F=e=>{let t=window.__INVISIBLE_QUERY__||{};window.collectEvent&&window.collectEvent("livesdk_pk_mission_show",(0,o._)({},t,m(),e))},G=e=>{let t=window.__INVISIBLE_QUERY__||{};window.collectEvent&&window.collectEvent("livesdk_onecllick_support_click",(0,o._)({},t,m(),e))},D=e=>{let t=window.__INVISIBLE_QUERY__||{};window.collectEvent&&window.collectEvent("livesdk_pk_mission_result_show",(0,o._)({},t,m(),e))},V=e=>{let t=window.__INVISIBLE_QUERY__||{};window.collectEvent&&window.collectEvent("livesdk_team_pk_individual_mission_result_show",(0,o._)({},t,m(),e))},U=e=>{let t=window.__INVISIBLE_QUERY__||{};t.action_type=t.action_type||"click",window.collectEvent&&window.collectEvent("livesdk_gift_panel_personal_center_show",(0,o._)({},t,m(),e||{}))},j=e=>{let t=window.__INVISIBLE_QUERY__||{};t.action_type=t.action_type||"click",window.collectEvent&&window.collectEvent("livesdk_gift_panel_personal_center_click",(0,o._)({},t,m(),e||{}))},H=e=>{window.collectEvent&&window.collectEvent("click_auto_play",(0,n._)((0,o._)({},m(),e),{play_material:"live"}))},Y=e=>{window.collectEvent&&window.collectEvent("click_previous_video",(0,n._)((0,o._)({},m(),e),{play_material:"live"}))},Z=e=>{window.collectEvent&&window.collectEvent("click_next_video",(0,n._)((0,o._)({},m(),e),{play_material:"live"}))},W=e=>{window.collectEvent&&window.collectEvent("livesdk_failed_special_mask_cmt",(0,n._)((0,o._)({},m(),e),{play_material:"live"}))}},719469:function(e,t,i){i.d(t,{R:function(){return b}});var o=i(520739),n=i(878389);i(675373),i(874386),i(250440);var l=i(88648),r=i(645260),a=i.n(r),u=i(544406),d=i(987475),s=i(386184),c=i(496249),v=i(617463),_=i(582746),m=i(273312),f=i(21332),h=i(565024),p=i(441447),g=i(155231),w=i(29695),y=i(818597);let b=e=>{var t;let{webRid:i,query:r,isPreEnterRoom:y}=e,b=u.a.useClientDetect(),S=(0,m.j)(),I=(0,_.Z)();null==I||null===(t=I.layoutStore)||void 0===t||t.setHint(location.hostname,location.pathname,b,!!r.hidehead),I.layoutStore.setHardCategoryTab(g.p.DISABLE),(0,l.useEffect)(()=>{let e=async()=>{var e,t,l,u,_,m,b,S,E,A,N,k,L,T,C,R,M,x,P,O,B,F,G,D,V,U,j,H,Y,Z,W,q,Q,K,z,X,$,J,ee,et,ei,eo,en,el,er,ea,eu,ed;let es;let ec=async()=>{var e,t,o,n,l;let r,u,d,c;let v=[];if(window.liveDetailDataAPI instanceof Promise){let e=window.liveDetailDataAPI;window.liveDetailDataAPI=void 0,v=await e}else v=await (0,f.Y)({webRid:i,isPreEnterRoom:y});let[_,m,h,p,g=[],b=[]]=v,{roomInfo:S,relevantRooms:I,logId:E}=_,A=null==S?void 0:S.roomId,N=null==S?void 0:null===(e=S.anchor)||void 0===e?void 0:e.id_str,k=(null==S?void 0:null===(n=S.room)||void 0===n?void 0:null===(o=n.others)||void 0===o?void 0:null===(t=o.web_skin)||void 0===t?void 0:t.enable_skin)?await (0,w.I)(A,N):void 0;_.relevantRooms=I.map(e=>(0,s.bj)(e,E));let L=a()(S,"room.episode_extra.season_id_str"),T=null==b?void 0:b.includes(L);return(l=c||(c={}))[l.TRYWATCH_LEAD=3]="TRYWATCH_LEAD",{rawRes:_,iframeConf:m,linkmicHeartConfig:h,qualitySettings:p,clatity_guide:3,themeConfig:k,isSpider:!1,isAsianGames:!1,isOlympicGame:T,defaultMoreLeague:r,defaultMatchStatsDetail:u,defaultTagMatchInfo:d}},{rawRes:ev,iframeConf:e_,linkmicHeartConfig:em,qualitySettings:ef,clatity_guide:eh,themeConfig:ep,isAsianGames:eg,isOlympicGame:ew,defaultMoreLeague:ey,defaultMatchStatsDetail:eb,defaultTagMatchInfo:eS}=await ec(),{roomInfo:eI,error:eE,status_code:eA,errorPageMessage:eN,logId:ek,errorPrompts:eL,relevantRooms:eT,isUseVVC:eC}=ev,eR={Digg:null==eI?void 0:null===(t=eI.room)||void 0===t?void 0:null===(e=t.room_auth)||void 0===e?void 0:e.Digg,SpecialStyle:null==eI?void 0:null===(u=eI.room)||void 0===u?void 0:null===(l=u.room_auth)||void 0===l?void 0:l.SpecialStyle};if(null==I||null===(m=I.roomStore)||void 0===m||null===(_=m.setIsAsianGames)||void 0===_||_.call(m,eg),null==I||null===(S=I.roomStore)||void 0===S||null===(b=S.setIsOlympicGame)||void 0===b||b.call(S,ew),I.roomStore&&a()(eI,"room.others.programme.enable_programme",!1)&&(I.roomStore.enableProgramme=!0),(null==eI?void 0:null===(N=eI.room)||void 0===N?void 0:null===(A=N.others)||void 0===A?void 0:null===(E=A.web_skin)||void 0===E?void 0:E.enable_skin)&&ep){I.layoutStore.rawThemeConfig=ep;let{force_enable_h265:e,hideCategory:t,showNavigation:i,hideFooter:o,forceTheme:n,immersive:l,banner:r,programme:a,appointment:u,transparentHeader:d,resource:s,navigationSelected:c,hideRelevantRoom:v,programmeFill:_,disableUnLoginFilter:m,playerMargin:f}=ep;m&&I.layoutStore&&(I.layoutStore.disableUnLoginFilter=!0),e&&I.roomStore&&(I.roomStore.forceEnableH265=!0),void 0!==c&&I.layoutStore&&(I.layoutStore.navigationSelected=c),a&&I.roomStore&&(I.roomStore.abProgramme=!0),v&&I.layoutStore&&(I.layoutStore.hasRelevantRoom=!1),_&&I.layoutStore&&(I.layoutStore.programmeFill=_),f&&I.layoutStore&&(I.layoutStore.playerMargin=f),u&&(null===($=I.roomStore)||void 0===$||$.setAppointment(!0)),t&&(null===(J=I.layoutStore)||void 0===J||J.setModule("categoryTab",g.p.DISABLE)),i&&(null===(ee=I.layoutStore)||void 0===ee||ee.setModule("navigation",g.p.ENABLE)),o&&(null===(et=I.layoutStore)||void 0===et||et.setModule("footer",g.p.DISABLE)),n&&(null===(ei=I.layoutStore)||void 0===ei||ei.setForceTheme(n)),d&&(null===(eo=I.layoutStore)||void 0===eo||eo.setHeaderOpacity(d)),l&&(null===(en=I.layoutStore)||void 0===en||en.setImmersive(!0)),r&&(null===(el=I.layoutStore)||void 0===el||el.setSpecialBanner(r)),s&&(null===(er=I.layoutStore)||void 0===er||er.setResource(s))}null===(k=I.appStore)||void 0===k||k.setIsOpenLongTask(!0),null===(L=I.appStore)||void 0===L||L.setLinkMicHeartConfig(em),null===(T=I.roomStore)||void 0===T||T.setRoomInfo(eI),null===(M=I.roomStore)||void 0===M||M.setUgcLive(null==eI?void 0:null===(R=eI.room)||void 0===R?void 0:null===(C=R.scene_type_info)||void 0===C?void 0:C.commentary_type),null===(O=I.roomStore)||void 0===O||O.setGameHiddle(null===(P=(0,c.MP)(eI))||void 0===P?void 0:null===(x=P.extension)||void 0===x?void 0:x.game_hidden),null===(B=I.roomStore)||void 0===B||B.setLikeStatus(eR),null===(G=I.paidLiveStore)||void 0===G||G.setPaidLiveData(null==eI?void 0:null===(F=eI.room)||void 0===F?void 0:F.paid_live_data),null===(D=I.roomStore)||void 0===D||D.setRelativeRooms(eT);let eM=r.message_from||"live",ex=a()(ev,"loginLead",{}),{singleControlTime:eP,singleControlMaxShowTime:eO}=ef,eB=h.Q.getItem({sKey:d.CookieKeys.WebcastLocalQuality}),eF=h.Q.getItem({sKey:d.CookieKeys.WebcastLeadingLastShowTime}),eG=h.Q.getItem({sKey:d.CookieKeys.WebcastLeadingTotalShowTimes});null===(V=I.streamStore)||void 0===V||V.setLeadingData((0,n._)((0,o._)({},ex),{clatity_guide:eh,last_show_time:eF,total_show_times:eG})),null===(U=I.streamStore)||void 0===U||U.setLocalQuality(eB),null===(j=I.streamStore)||void 0===j||j.setRenderTime(Date.now()),null===(H=I.streamStore)||void 0===H||H.setSingleControlTime(Number(eP)),null===(Y=I.streamStore)||void 0===Y||Y.setSingleControlMaxShowTime(Number(eO));let{mainCameraInfo:eD,cameraInfoList:eV}=(0,v.EE)(eI);null===(Z=I.cameraStore)||void 0===Z||Z.setMainCameraInfo(eD),null===(W=I.cameraStore)||void 0===W||W.setCameraInfoList(eV);let eU=null==r?void 0:r.camera_id,ej=null==eV?void 0:null===(q=eV.find)||void 0===q?void 0:q.call(eV,e=>(null==e?void 0:e.cameraId)===eU);if(!ej||(null==ej?void 0:ej.isMainCamera))es=(0,v.hg)(eI),null===(ed=I.cameraStore)||void 0===ed||ed.setCameraInfo(eD);else{let e=(0,n._)((0,o._)({},eI),{room:(0,n._)((0,o._)({},eI.room),{stream_url:null==ej?void 0:ej.h264Stream,title:null==ej?void 0:ej.title}),web_stream_url:null==ej?void 0:ej.h265Stream});es=(0,v.hg)(e),null===(ea=I.roomStore)||void 0===ea||ea.setRoomInfo(e),null===(eu=I.cameraStore)||void 0===eu||eu.setCameraInfo(ej)}null===(Q=I.streamStore)||void 0===Q||Q.setStreamData(es);let eH=null==es?void 0:null===(X=es.H265_streamData)||void 0===X?void 0:null===(z=X.options)||void 0===z?void 0:null===(K=z.qualities)||void 0===K?void 0:K.some(e=>"bytevc2"===e.v_codec);I.streamStore.isUseVVC=eC&&eH;let eY={errorPrompts:eL,logId:ek,status_code:eA,error:eE,errorPageMessage:eN,iframeConf:e_[i],messageFrom:eM,isSpider:!1,defaultMoreLeague:ey,defaultMatchStatsDetail:eb,defaultTagMatchInfo:eS};I.detailExtra.setDetailExtra(eY),p.emit(p.EVENT.LiveInnerEnterRoomDone)};(null==S?void 0:S.liveInnerFeed)&&e()},[i,null==S?void 0:S.liveInnerFeed])};t.Z=e=>{var t;let{webRid:i,query:r,isPreEnterRoom:p}=e,b=u.a.useClientDetect(),S=(0,_.Z)(),I=(0,y.o)();(0,m.j)();let E=(null==I?void 0:I.layoutStore)?I:S;null==E||null===(t=E.layoutStore)||void 0===t||t.setHint(location.hostname,location.pathname,b,!!r.hidehead),E.layoutStore.setHardCategoryTab(g.p.DISABLE),(0,l.useEffect)(()=>{(async()=>{var e,t,l,u,_,m,y,b,S,I,A,N,k,L,T,C,R,M,x,P,O,B,F,G,D,V,U,j,H,Y,Z,W,q,Q,K,z,X,$,J,ee,et,ei,eo,en,el,er,ea,eu;let ed;let es=async()=>{var e,t,o,n,l;let r,u,d,c;let v=[];if(window.liveDetailDataAPI instanceof Promise){let e=window.liveDetailDataAPI;window.liveDetailDataAPI=void 0,v=await e}else v=await (0,f.Y)({webRid:i,isPreEnterRoom:p});let[_,m,h,g,y=[],b=[]]=v,{roomInfo:S,relevantRooms:I,logId:E}=_,A=null==S?void 0:S.roomId,N=null==S?void 0:null===(e=S.anchor)||void 0===e?void 0:e.id_str,k=(null==S?void 0:null===(n=S.room)||void 0===n?void 0:null===(o=n.others)||void 0===o?void 0:null===(t=o.web_skin)||void 0===t?void 0:t.enable_skin)?await (0,w.I)(A,N):void 0;_.relevantRooms=I.map(e=>(0,s.bj)(e,E));let L=a()(S,"room.episode_extra.season_id_str"),T=null==b?void 0:b.includes(L);return(l=c||(c={}))[l.TRYWATCH_LEAD=3]="TRYWATCH_LEAD",{rawRes:_,iframeConf:m,linkmicHeartConfig:h,qualitySettings:g,clatity_guide:3,themeConfig:k,isSpider:!1,isAsianGames:!1,isOlympicGame:T,defaultMoreLeague:r,defaultMatchStatsDetail:u,defaultTagMatchInfo:d}},{rawRes:ec,iframeConf:ev,linkmicHeartConfig:e_,qualitySettings:em,clatity_guide:ef,themeConfig:eh,isAsianGames:ep,isOlympicGame:eg,defaultMoreLeague:ew,defaultMatchStatsDetail:ey,defaultTagMatchInfo:eb}=await es(),{roomInfo:eS,error:eI,status_code:eE,errorPageMessage:eA,logId:eN,errorPrompts:ek,relevantRooms:eL,isUseVVC:eT}=ec,eC={Digg:null==eS?void 0:null===(t=eS.room)||void 0===t?void 0:null===(e=t.room_auth)||void 0===e?void 0:e.Digg,SpecialStyle:null==eS?void 0:null===(u=eS.room)||void 0===u?void 0:null===(l=u.room_auth)||void 0===l?void 0:l.SpecialStyle};if(null==E||null===(m=E.roomStore)||void 0===m||null===(_=m.setIsAsianGames)||void 0===_||_.call(m,ep),null==E||null===(b=E.roomStore)||void 0===b||null===(y=b.setIsOlympicGame)||void 0===y||y.call(b,eg),E.roomStore&&a()(eS,"room.others.programme.enable_programme",!1)&&(E.roomStore.enableProgramme=!0),(null==eS?void 0:null===(A=eS.room)||void 0===A?void 0:null===(I=A.others)||void 0===I?void 0:null===(S=I.web_skin)||void 0===S?void 0:S.enable_skin)&&eh){E.layoutStore.rawThemeConfig=eh;let{force_enable_h265:e,hideCategory:t,showNavigation:i,hideFooter:o,forceTheme:n,immersive:l,banner:r,programme:a,appointment:u,transparentHeader:d,resource:s,navigationSelected:c,hideRelevantRoom:v,programmeFill:_,disableUnLoginFilter:m,playerMargin:f}=eh;m&&E.layoutStore&&(E.layoutStore.disableUnLoginFilter=!0),e&&E.roomStore&&(E.roomStore.forceEnableH265=!0),void 0!==c&&E.layoutStore&&(E.layoutStore.navigationSelected=c),a&&E.roomStore&&(E.roomStore.abProgramme=!0),v&&E.layoutStore&&(E.layoutStore.hasRelevantRoom=!1),_&&E.layoutStore&&(E.layoutStore.programmeFill=_),f&&E.layoutStore&&(E.layoutStore.playerMargin=f),u&&(null===(X=E.roomStore)||void 0===X||X.setAppointment(!0)),t&&(null===($=E.layoutStore)||void 0===$||$.setModule("categoryTab",g.p.DISABLE)),i&&(null===(J=E.layoutStore)||void 0===J||J.setModule("navigation",g.p.ENABLE)),o&&(null===(ee=E.layoutStore)||void 0===ee||ee.setModule("footer",g.p.DISABLE)),n&&(null===(et=E.layoutStore)||void 0===et||et.setForceTheme(n)),d&&(null===(ei=E.layoutStore)||void 0===ei||ei.setHeaderOpacity(d)),l&&(null===(eo=E.layoutStore)||void 0===eo||eo.setImmersive(!0)),r&&(null===(en=E.layoutStore)||void 0===en||en.setSpecialBanner(r)),s&&(null===(el=E.layoutStore)||void 0===el||el.setResource(s))}null===(N=E.appStore)||void 0===N||N.setIsOpenLongTask(!0),null===(k=E.appStore)||void 0===k||k.setLinkMicHeartConfig(e_),null===(L=E.roomStore)||void 0===L||L.setRoomInfo(eS),null===(R=E.roomStore)||void 0===R||R.setUgcLive(null==eS?void 0:null===(C=eS.room)||void 0===C?void 0:null===(T=C.scene_type_info)||void 0===T?void 0:T.commentary_type),null===(P=E.roomStore)||void 0===P||P.setGameHiddle(null===(x=(0,c.MP)(eS))||void 0===x?void 0:null===(M=x.extension)||void 0===M?void 0:M.game_hidden),null===(O=E.roomStore)||void 0===O||O.setLikeStatus(eC),null===(F=E.paidLiveStore)||void 0===F||F.setPaidLiveData(null==eS?void 0:null===(B=eS.room)||void 0===B?void 0:B.paid_live_data),null===(G=E.roomStore)||void 0===G||G.setRelativeRooms(eL);let eR=r.message_from||"live",eM=a()(ec,"loginLead",{}),{singleControlTime:ex,singleControlMaxShowTime:eP}=em,eO=h.Q.getItem({sKey:d.CookieKeys.WebcastLocalQuality}),eB=h.Q.getItem({sKey:d.CookieKeys.WebcastLeadingLastShowTime}),eF=h.Q.getItem({sKey:d.CookieKeys.WebcastLeadingTotalShowTimes});null===(D=E.streamStore)||void 0===D||D.setLeadingData((0,n._)((0,o._)({},eM),{clatity_guide:ef,last_show_time:eB,total_show_times:eF})),null===(V=E.streamStore)||void 0===V||V.setLocalQuality(eO),null===(U=E.streamStore)||void 0===U||U.setRenderTime(Date.now()),null===(j=E.streamStore)||void 0===j||j.setSingleControlTime(Number(ex)),null===(H=E.streamStore)||void 0===H||H.setSingleControlMaxShowTime(Number(eP));let{mainCameraInfo:eG,cameraInfoList:eD}=(0,v.EE)(eS);null===(Y=E.cameraStore)||void 0===Y||Y.setMainCameraInfo(eG),null===(Z=E.cameraStore)||void 0===Z||Z.setCameraInfoList(eD);let eV=null==r?void 0:r.camera_id,eU=null==eD?void 0:null===(W=eD.find)||void 0===W?void 0:W.call(eD,e=>(null==e?void 0:e.cameraId)===eV);if(!eU||(null==eU?void 0:eU.isMainCamera))ed=(0,v.hg)(eS),null===(eu=E.cameraStore)||void 0===eu||eu.setCameraInfo(eG);else{let e=(0,n._)((0,o._)({},eS),{room:(0,n._)((0,o._)({},eS.room),{stream_url:null==eU?void 0:eU.h264Stream,title:null==eU?void 0:eU.title}),web_stream_url:null==eU?void 0:eU.h265Stream});ed=(0,v.hg)(e),null===(er=E.roomStore)||void 0===er||er.setRoomInfo(e),null===(ea=E.cameraStore)||void 0===ea||ea.setCameraInfo(eU)}null===(q=E.streamStore)||void 0===q||q.setStreamData(ed);let ej=null==ed?void 0:null===(z=ed.H265_streamData)||void 0===z?void 0:null===(K=z.options)||void 0===K?void 0:null===(Q=K.qualities)||void 0===Q?void 0:Q.some(e=>"bytevc2"===e.v_codec);E.streamStore.isUseVVC=eT&&ej;let eH={errorPrompts:ek,logId:eN,status_code:eE,error:eI,errorPageMessage:eA,iframeConf:ev[i],messageFrom:eR,isSpider:!1,defaultMoreLeague:ew,defaultMatchStatsDetail:ey,defaultTagMatchInfo:eb};E.detailExtra.setDetailExtra(eH)})()},[])}},774438:function(e,t,i){i.d(t,{P:function(){return c},n:function(){return v}}),i(954372),i(826893),i(179133);var o=i(582746),n=i(500899),l=i(553542),r=i(88648),a=i(567754),u=i(719469),d=i(273312),s=i(185651);let c=()=>{var e,t,i;let{roomStore:l,feedStore:u}=(0,o.Z)(),c=(0,d.j)(),v=(null==c?void 0:c.liveInnerFeed)!==0;return"undefined"!=typeof window&&(v=(null===(i=window)||void 0===i?void 0:null===(t=i.__INVISIBLE_QUERY__)||void 0===t?void 0:t.enter_from_merge)===s.G.recommend&&v,window.location.pathname&&/iframe/.test(window.location.pathname)&&(v=!1)),{innerFeedOn:v,fetchInnerFeed:r.useCallback(async e=>{if("undefined"!=typeof window){var t,i,o,r;let{pathname:d,search:s}=window.location,{roomInfo:c}=l;if(-1!==d.search("/follow/live")&&!e)return;let v=null===(t=(0,a.parse)(s))||void 0===t?void 0:t.from_search,_=()=>{},m={};if(v)try{let e=JSON.parse(null===(o=window)||void 0===o?void 0:null===(i=o.__INVISIBLE_QUERY__)||void 0===i?void 0:i.search_params);(null==e?void 0:e.search_keyword)&&(_=n.fetchInnerSearchFeedList,m={keyword:null==e?void 0:e.search_keyword})}catch(e){}else _=n.fetchInnerFeedList,m={draw_room_id:null==c?void 0:c.roomId,draw_room_owner_id:null==c?void 0:null===(r=c.anchor)||void 0===r?void 0:r.id_str};try{let e=await (null==_?void 0:_(m)),t=(null==e?void 0:e.list)||[];u.addFeedList(t)}catch(e){}}},[null==l?void 0:null===(e=l.roomInfo)||void 0===e?void 0:e.roomId])}},v=()=>{let{webrid:e}=(0,l.U)(),t={};if("object"==typeof window&&window){var i,o;t=(0,a.parse)(null===(o=window)||void 0===o?void 0:null===(i=o.location)||void 0===i?void 0:i.search)}(0,u.R)({webRid:e,query:t,isPreEnterRoom:!1})}},155231:function(e,t,i){i.d(t,{Z:function(){return v},p:function(){return c}});var o=i(134761),n=i(32754),l=i(993305),r=i(470955),a=i.n(r),u=i(527459),d=i(945388),s=i(104013),c={AUTO:0,0:"AUTO",ENABLE:1,1:"ENABLE",DISABLE:-1,"-1":"DISABLE"};class v extends l.Z{get isLiveDetail(){return!!(0,u.m)(n.m.LIVING,this.pathname)||!!(0,u.m)(n.m.DOUYIN_LIVING,this.pathname)}get isXiguaDomain(){return -1!==[d.LIVE_XIGUA_DOMAIN,d.XIGUA_DOMAIN].indexOf(this.domain)}get navigationCurrent(){return this.isLiveDetail?"":this.navigationSelected}get showNavigation(){let e=this.shouldShowModule(this.hardNavigation);return void 0!==e?e:(!this.domain||!this.isXiguaDomain)&&(!!(0,u.m)(n.m.HOT_LIVE,this.pathname)||!(this.isClient&&(0,u.m)(n.m.LIVING,this.pathname)||this.isClient&&(0,u.m)(n.m.DOUYIN_LIVING,this.pathname))&&[n.m.CATEGORY,n.m.CATEGORY_NEW,n.m.HOT_LIVE,n.m.HOME,n.m.LIVING,n.m.DOUYIN_LIVING].some(e=>!!(0,u.m)(e,this.pathname)))}get hideNavigation(){return!this.showNavigation}get showCategoryTab(){let e=this.shouldShowModule(this.hardCategoryTab);return void 0!==e?e:(!this.domain||!this.isXiguaDomain)&&![n.m.LIVING_COMMENT].some(e=>!!(0,u.m)(e,this.pathname))}get hideCategoryTab(){return!this.showCategoryTab}get showHeader(){let e=this.shouldShowModule(this.hardHeader);return void 0!==e?e:(!this.domain||!this.isXiguaDomain)&&![n.m.IFRAME,n.m.VIDEO_DOMAIN_IFRAME,n.m.LIVING_COMMENT].some(e=>!!(0,u.m)(e,this.pathname))||this.hidehead}get hideHeader(){return!this.showHeader}get showFooter(){let e=this.shouldShowModule(this.hardFooter);return void 0!==e?e:![n.m.LIVING_COMMENT,n.m.LIVING,n.m.DOUYIN_LIVING,n.m.DOUYIN_RECOMMEND_LIVING,n.m.DOUYIN_FOLLOW_LIVING].some(e=>!!(0,u.m)(e,this.pathname))}get hideFooter(){return!this.showFooter}get xiguaHeader(){return this.domain&&-1!==[d.LIVE_XIGUA_DOMAIN].indexOf(this.domain)}get showSideBar(){let e=this.shouldShowModule(this.hardSideBar);return void 0!==e?e:![n.m.IFRAME,n.m.VIDEO_DOMAIN_IFRAME,n.m.LIVING_COMMENT].some(e=>!!(0,u.m)(e,this.pathname))}get hideSideBar(){return!this.showSideBar}get showErrorStyle(){let e=this.shouldShowModule(this.hardSideBar);return void 0!==e?e:![n.m.ERROR].some(e=>!!(0,u.m)(e,this.pathname))}get hideErrorStyle(){return!this.showErrorStyle}shouldShowModule(e){return 1===e||-1!==e&&void 0}setHeaderOpacity(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.transparentHeader=e}setHardCategoryTab(e){this.hardCategoryTab=e}setHardHeader(e){this.hardHeader=e}setHardNavigation(e){this.hardNavigation=e}setHardSideBar(e){this.hardSideBar=e}constructor(e){var t;super(e),t=this,(0,o._)(this,"disableUnLoginFilter",!1),(0,o._)(this,"rawThemeConfig",{}),(0,o._)(this,"domain","live.douyin.com"),(0,o._)(this,"pathname",""),(0,o._)(this,"isClient",!1),(0,o._)(this,"navigationSelected","live"),(0,o._)(this,"hidehead",!1),(0,o._)(this,"forceTheme",void 0),(0,o._)(this,"hardNavigation",0),(0,o._)(this,"hardCategoryTab",0),(0,o._)(this,"hardHeader",0),(0,o._)(this,"hardFooter",0),(0,o._)(this,"hardSideBar",0),(0,o._)(this,"hardErrorStyle",0),(0,o._)(this,"transparentHeader",!1),(0,o._)(this,"specialBanner",!1),(0,o._)(this,"hasRelevantRoom",!0),(0,o._)(this,"immersive",!1),(0,o._)(this,"programmeFill",void 0),(0,o._)(this,"resource",void 0),(0,o._)(this,"playerMargin",0),(0,o._)(this,"reset",()=>{this.disableUnLoginFilter=!1,this.rawThemeConfig={},this.domain="live.douyin.com",this.pathname="",this.isClient=!1,this.navigationSelected="live",this.hidehead=!1,this.forceTheme=void 0,this.hardNavigation=0,this.hardCategoryTab=0,this.hardHeader=0,this.hardFooter=0,this.hardSideBar=0,this.hardErrorStyle=0,this.transparentHeader=!1,this.specialBanner=!1,this.hasRelevantRoom=!0,this.immersive=!1,this.programmeFill=void 0,this.resource=void 0,this.playerMargin=0}),(0,o._)(this,"setModule",function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t[`hard${a()(e)}`]=i}),(0,o._)(this,"setHint",function(e,i){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;t.domain=e,t.pathname=i,t.isClient=o,t.hidehead=!!n}),(0,o._)(this,"setImmersive",e=>{this.immersive=e}),(0,o._)(this,"setSpecialBanner",e=>{this.specialBanner=e}),(0,o._)(this,"setResource",e=>{this.resource=e}),(0,o._)(this,"setForceTheme",e=>{this.forceTheme=e}),(0,s.makeObservable)(this,{disableUnLoginFilter:s.observable,rawThemeConfig:s.observable,domain:s.observable,pathname:s.observable,isClient:s.observable,navigationSelected:s.observable,hidehead:s.observable,forceTheme:s.observable,hardNavigation:s.observable,hardCategoryTab:s.observable,hardHeader:s.observable,hardFooter:s.observable,hardSideBar:s.observable,hardErrorStyle:s.observable,transparentHeader:s.observable,specialBanner:s.observable,hasRelevantRoom:s.observable,programmeFill:s.observable,immersive:s.observable,resource:s.observable,playerMargin:s.observable,setHint:s.action,setModule:s.action,setHardHeader:s.action,setHardSideBar:s.action,setHardNavigation:s.action,navigationCurrent:s.computed,showNavigation:s.computed,showCategoryTab:s.computed,showHeader:s.computed,showFooter:s.computed,showSideBar:s.computed,showErrorStyle:s.computed,hideNavigation:s.computed,hideCategoryTab:s.computed,hideHeader:s.computed,hideFooter:s.computed,hideSideBar:s.computed,hideErrorStyle:s.computed,xiguaHeader:s.computed,isLiveDetail:s.computed,setHardCategoryTab:s.action})}}},524852:function(e,t,i){i.d(t,{Bp:function(){return s},ZP:function(){return m},e1:function(){return c}});var o=i(134761),n=i(993305),l=i(104013),r=i(618360),a=i(158879),u=i(645260),d=i.n(u),s={BAN:0,0:"BAN",OPEN:1,1:"OPEN"},c={MultiCamera:"MultiCamera",FansClub:"FansClub",SendGift:"SendGift",DANMU:"DANMU",Chat:"Chat",Link:"Link",FullScreen:"FullScreen",PIP:"PIP"};let v={MultiCamera:1,FansClub:1,Link:1,Chat:1,DANMU:1,SendGift:1,FullScreen:1,PIP:1},_={[r.ku.TRY_WATCH_ING]:{MultiCamera:0,FansClub:0,Link:0,Chat:1,DANMU:1,SendGift:1,FullScreen:0,PIP:0},[r.ku.TRT_WATCH_FINISH]:{MultiCamera:0,FansClub:0,Link:0,Chat:0,DANMU:0,SendGift:0,FullScreen:0,PIP:0},[r.ku.NORMAL_WATCH]:v};class m extends n.Z{infoWarn(e){(0,a.S)(e)}constructor(e){super(e),(0,o._)(this,"viewType",r.ku.BAN),(0,o._)(this,"retType",r.Pf.NORMAL_WATCH),(0,o._)(this,"paidLiveData",null),(0,o._)(this,"paidLiveAuth",v),(0,o._)(this,"qrcodeVisible",!1),(0,o._)(this,"setPaidLiveData",e=>{if("function"==typeof e){var t;this.paidLiveData=e(null!==(t=this.paidLiveData)&&void 0!==t?t:{});return}let i=Number(d()(e,"view_right",0))?r.Pf.NORMAL_WATCH:r.Pf.TRY_WATCH_ING;this.setRetType(i),this.paidLiveData=e}),(0,o._)(this,"setViewType",e=>{this.viewType=e,this.paidLiveAuth=_[e]}),(0,o._)(this,"setPaidLiveAuth",e=>{this.paidLiveAuth=e}),(0,o._)(this,"setRetType",e=>{this.retType=e}),(0,o._)(this,"setQrcodeVisible",e=>{this.qrcodeVisible=e}),(0,o._)(this,"reset",()=>{this.viewType=r.ku.BAN,this.retType=r.Pf.NORMAL_WATCH,this.paidLiveData=null,this.paidLiveAuth=v,this.qrcodeVisible=!1}),(0,l.makeObservable)(this,{paidLiveData:l.observable,setPaidLiveData:l.action,retType:l.observable,setRetType:l.action,viewType:l.observable,setViewType:l.action,paidLiveAuth:l.observable,setPaidLiveAuth:l.action,qrcodeVisible:l.observable,setQrcodeVisible:l.action})}}},283993:function(e,t,i){i.d(t,{L0:function(){return o},Nq:function(){return n}});var o={GuestBattlePlayerRoleNone:0,0:"GuestBattlePlayerRoleNone",GuestBattlePlayerRoleWinner:1,1:"GuestBattlePlayerRoleWinner",GuestBattlePlayerRoleLoser:2,2:"GuestBattlePlayerRoleLoser",GuestBattlePlayerRoleSecond:3,3:"GuestBattlePlayerRoleSecond",GuestBattlePlayerRoleThird:4,4:"GuestBattlePlayerRoleThird"},n={GuestBattle_NONE:0,0:"GuestBattle_NONE",GuestBattle_ON_GOING:1,1:"GuestBattle_ON_GOING",GuestBattle_SHOW_RESULT:2,2:"GuestBattle_SHOW_RESULT",GuestBattle_FINISH:3,3:"GuestBattle_FINISH",GuestBattle_PAUSE:4,4:"GuestBattle_PAUSE"}},561346:function(e,t,i){i.d(t,{$5:function(){return l},Hj:function(){return n},yw:function(){return o}});var o={LinkmicTeamfightType_NONE:0,0:"LinkmicTeamfightType_NONE",LinkmicTeamfightType_TWO_TEAM:1,1:"LinkmicTeamfightType_TWO_TEAM",LinkmicTeamfightType_ROOM_BATTLE:2,2:"LinkmicTeamfightType_ROOM_BATTLE",LinkmicTeamfightType_DUO_BATTLE:3,3:"LinkmicTeamfightType_DUO_BATTLE"},n={LinkmicTeamfightStatus_NONE:0,0:"LinkmicTeamfightStatus_NONE",LinkmicTeamfightStatus_PREPARE:1,1:"LinkmicTeamfightStatus_PREPARE",LinkmicTeamfightStatus_PLAYING:2,2:"LinkmicTeamfightStatus_PLAYING",LinkmicTeamfightStatus_PUNISHING:3,3:"LinkmicTeamfightStatus_PUNISHING",LinkmicTeamfightStatus_FINISHED:4,4:"LinkmicTeamfightStatus_FINISHED",LinkmicTeamfightStatus_SHOWING:5,5:"LinkmicTeamfightStatus_SHOWING"},l={PlayerRole_NONE:0,0:"PlayerRole_NONE",PlayerRole_LEADING_MVP:1,1:"PlayerRole_LEADING_MVP",PlayerRole_LAGGING_MVP:2,2:"PlayerRole_LAGGING_MVP",PlayerRole_LEADING_LAST:3,3:"PlayerRole_LEADING_LAST",PlayerRole_LAGGING_LAST:4,4:"PlayerRole_LAGGING_LAST"}},949905:function(e,t,i){i.d(t,{FD:function(){return y},IK:function(){return S},Md:function(){return h},PG:function(){return s},PL:function(){return v},To:function(){return m},W5:function(){return w},dP:function(){return c},du:function(){return a},gQ:function(){return _},hN:function(){return f},q7:function(){return p},sG:function(){return g},x$:function(){return d}});var o=i(520739),n=i(878389);i(527785),i(874386),i(429532),i(981168),i(673554),i(784246);var l=i(207813),r=i.n(l),a={EffectDefault:0,0:"EffectDefault",Fog:1,1:"Fog",FierceBuff:2,2:"FierceBuff",BorrowedBuff:3,3:"BorrowedBuff",FreezeBuff:4,4:"FreezeBuff"};let u={},d=e=>{try{var t;let i=JSON.parse(e);return Object.entries(null!==(t=i.anchor_effect_map)&&void 0!==t?t:{}).reduce((e,t)=>{let[i,l]=t;return Object.assign(e,{[i]:Object.entries(l.effect_map||{}).reduce((e,t)=>{let[l,a]=t,d=(null==a?void 0:a.effect_list)||[];if(4===Number(l))for(let e of a.effect_list){if(i in u&&Number(e.prop_card_task.version)<u[i]){d=d.filter(t=>!r()(t,e));continue}u[i]=Number(e.prop_card_task.version)}return(null==d?void 0:d.length)?(0,n._)((0,o._)({},e),{[l]:Array.from(d).sort((e,t)=>Number(null==t?void 0:t.is_super_prop)-Number(null==e?void 0:e.is_super_prop))}):e},{})})},{})}catch(e){return{}}},s=(e,t,i)=>{try{let l=Object.entries(e).reduce((e,t)=>{var l;let[r,a]=t,d=Object.entries(a).reduce((e,t)=>{let[l,a]=t,d=null==a?void 0:a.filter(e=>{if(4===Number(l))return(null==e?void 0:e.prop_card_task.current_value)!==0&&(null==e?void 0:e.prop_card_task.current_value_str)!=="0"||(delete u[r],!1);let t=Date.now(),o=Number(null==e?void 0:e.end_time)>=t;if(!i)return o;let n=Number(null==e?void 0:e.start_time)<=t;return o&&n});return(null==d?void 0:d.length)?(0,n._)((0,o._)({},e),{[l]:d}):e},{});return(null===(l=Object.keys(d))||void 0===l?void 0:l.length)?(0,n._)((0,o._)({},e),{[r]:d}):e},{});if(r()(l,t))return t;return l}catch(e){return{}}},c=e=>!Object.keys(e||{}).length,v=(e,t)=>{let i=t[e]||{},o=[2,3,1,4].map(e=>Array.from(i[e]||[]).sort((e,t)=>Number(null==t?void 0:t.is_super_prop)-Number(null==e?void 0:e.is_super_prop))).filter(Boolean).flat(1),n=o.find(e=>4===e.type);return{effectList:o,firstEffect:n||o[0],anchorEffectMap:i}},_=e=>{let t=Date.now();return Number(e.start_time)<=t&&Number(e.end_time)>=t},m=e=>{for(let t of Object.values(e)){let e=(t[1]||[]).find(e=>null==e?void 0:e.is_super_prop);if(e)return e}return null},f=e=>null==e?void 0:e.some(e=>null==e?void 0:e.is_super_prop),h=e=>{let{anchorId:t,anchorEffectInfoMap:i,type:o}=e;return(i[t]||{})[o]},p=e=>1===e,g=e=>2===e,w=e=>4===e,y=e=>{var t,i,o,n,l,r;let a=null==e?void 0:null===(i=e.bar_icon)||void 0===i?void 0:null===(t=i.url_list)||void 0===t?void 0:t[0],u=null==e?void 0:null===(n=e.bar_aura_url)||void 0===n?void 0:null===(o=n.url_list)||void 0===o?void 0:o[0];return{barIcon:a,barAuraIcon:u,barMiniIcon:null==e?void 0:null===(r=e.bar_min_icon)||void 0===r?void 0:null===(l=r.url_list)||void 0===l?void 0:l[0]}},b={4194:2,4195:3,4196:1},S=e=>[2,3,1].find(t=>b[e]===t)},879214:function(e,t,i){i.d(t,{TC:function(){return v},Zi:function(){return c},fl:function(){return m},vD:function(){return _}}),i(675373),i(874386),i(209955);var o=i(563097),n=i(88648),l=i(797973),r=i(254575),a=i(96008),u=i.n(a),d=i(455499),s=i(678315);let c="default_pip_id",v=(0,n.createContext)({isSupported:!1,pipInfo:null,openPipWindow:()=>Promise.resolve({isSuccess:!1}),closePipWindow:u(),pipAnchorEleMapRef:{current:{}}}),_=e=>{let{children:t}=e,[i,a]=(0,n.useState)((0,d.ZV)()),u=(0,n.useRef)({}),[_,m]=(0,n.useState)(null),f=(0,l.Z)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;(null==_?void 0:_.pipId)===e&&(_.window.close(),m(null))}),h=(0,r.Z)(async e=>{let{width:t,height:o,pipId:n=c}=e;try{if(!i)throw Error("Not Supported");if((null==_?void 0:_.pipId)===n)return{isSuccess:!0,pipInfo:_};let e=await (0,s.hp)({pipId:n,width:t,height:o});e.addEventListener("pagehide",()=>f(n));let l={window:e,pipId:n};return m(l),{isSuccess:!0,pipInfo:l}}catch(e){return e&&11===e.code&&a(!1),{isSuccess:!1,error:e}}}),p=(0,n.useMemo)(()=>({isSupported:i,pipInfo:_,openPipWindow:h,closePipWindow:f,pipAnchorEleMapRef:u}),[f,_,i,h,u]);return(0,o.jsx)(v.Provider,{value:p,children:t})},m=()=>(0,n.useContext)(v)},308910:function(e,t,i){i.d(t,{F6:function(){return c},TY:function(){return v},pu:function(){return _}});var o=i(520739),n=i(878389),l=i(368200),r=i(563097),a=i(88648),u=i(309931);i(96008);var d=i(879214),s=i(678315);let c=e=>{let{children:t,pipId:i=d.Zi}=e,{pipInfo:o}=(0,d.fl)();return o&&o.pipId===i?(0,u.createPortal)(t,o.window.document.body):null},v=e=>{var{children:t,pipAnchorId:i,placeholder:c,className:v}=e,_=(0,l._)(e,["children","pipAnchorId","placeholder","className"]);let{pipInfo:m,pipAnchorEleMapRef:f}=(0,d.fl)(),h=(0,a.useRef)(null),p=(0,a.useMemo)(s.ie,[]);return p&&(f.current[i]=p),(0,a.useEffect)(()=>()=>{delete f.current[i]},[i,f]),(0,a.useEffect)(()=>{var e;if(!m&&!!p)null===(e=h.current)||void 0===e||e.appendChild(p)},[p,m]),(0,r.jsxs)("div",(0,n._)((0,o._)({ref:h,"data-anchor-id":i,className:v},_),{children:[m?c:null,p?(0,u.createPortal)(t,p):t]}))},_=e=>{var{pipAnchorId:t}=e,i=(0,l._)(e,["pipAnchorId"]);let n=(0,a.useRef)(null),{pipAnchorEleMapRef:u,pipInfo:s}=(0,d.fl)();return(0,a.useEffect)(()=>{let e=u.current[t];if(!!s&&!!n.current&&!!e)n.current.appendChild(e)},[t,u,s]),(0,r.jsx)("div",(0,o._)({"data-anchor-id":t,ref:n},i))}},694872:function(e,t,i){var o=i(520739),n=i(878389),l=i(563097),r=i(88648);let a=(0,r.forwardRef)((e,t)=>(0,l.jsx)("svg",(0,n._)((0,o._)({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.5 10H10v11h6.25a1 1 0 1 1 0 2H10a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h12.5a2 2 0 0 1 2 2v4.5a1 1 0 1 1-2 0V10zm-4.883 2.384a.878.878 0 0 0-.877-.877h-3.51a.878.878 0 0 0-.878.877v3.511a.878.878 0 1 0 1.755 0v-1.348l2.695 2.696a.878.878 0 0 0 1.242-1.241l-2.74-2.74h1.436a.878.878 0 0 0 .878-.878zm1.491 6.116a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1v-4z",fill:"#fff"})})));t.Z=a}}]);