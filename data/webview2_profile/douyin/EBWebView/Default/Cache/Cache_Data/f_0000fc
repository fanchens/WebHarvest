"use strict";(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["6028"],{462657:function(e,t,n){n.r(t),n.d(t,{More:function(){return $}});var o=n("520739");n("874386"),n("268917"),n("250440");var l=n("563097"),a=n("88648"),r=n("309931"),i=n("991021"),s=n("713097"),u=n.n(s),d=n("832052"),c=n("115627"),f=n("459307"),p=n("742740"),v=n("441447"),m=n("768492"),h=n("878389");let g=(0,a.forwardRef)((e,t)=>(0,l.jsx)("svg",(0,h._)((0,o._)({width:22,height:23,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,l.jsx)("path",{d:"M15.583 11.5a1.833 1.833 0 1 1 3.667 0 1.833 1.833 0 0 1-3.667 0zM9.167 11.5a1.833 1.833 0 1 1 3.666 0 1.833 1.833 0 0 1-3.666 0zM4.583 9.667a1.833 1.833 0 1 0 0 3.666 1.833 1.833 0 0 0 0-3.666z",fill:"#fff"})})));var x="Nx9O6n9T",b="NyngduT3",y="X0VmuTmo",j="uZ_kkGMU",w="VxCFLmiV",_="brGm2AXa",C="l6T7KaDY",N="EnITLNkU",E="Mtjv8ilW",k="uGLhQBmE",L="HliIKmce",M=n("872136"),O=new M.h({dislike:{eventName:"dislike",params:{group_id:"",author_id:"",enter_from:"",enter_from_merge:"",click_from:"",type:"",item_duration_ms:0}},cancelDislikeClick:{eventName:"cancel_dislike_click",params:{group_id:"",author_id:"",enter_from:"",enter_from_merge:"",click_from:"",type:"",tab_name:""}},report:{eventName:"report",params:{group_id:"",author_id:"",enter_from:"",enter_from_merge:"",click_from:"",type:"",tab_name:""}}});let I={dislike:[],report:[]};var S=n("948375"),R=n("509090"),P=n("852664"),A=n("839321");let D=e=>{let{awemeInfo:t,cardInfoContainerRef:n,imageContainerRef:i,onCoverCancelHover:s,cancleDislike:d,tab:c,logParams:f}=e,v=(0,a.useRef)(null),m=(0,a.useRef)(null),h=(0,S.Z)(async()=>{let{statusCode:e}=await (0,A.m)(null==t?void 0:t.awemeId);d(),null==s||s();let n=I.dislike.indexOf(null==t?void 0:t.awemeId);if(I.dislike.splice(n,1),0!==e)R.F.info("网络异常");else{let e=(0,p.yW)();O.sendLog("cancelDislikeClick",(0,o._)({enter_from:e,enter_from_merge:e,click_from:`${e}_hover_page`,group_id:null==t?void 0:t.awemeId,tab_name:null!=c?c:e},f||{}))}});return(0,l.jsxs)(l.Fragment,{children:[(0,r.createPortal)((0,l.jsx)("div",{className:u()(w,{[_]:(0,P.G6)()}),ref:v,onClick:e=>{e.stopPropagation(),e.preventDefault()},children:"视频已移除"}),i.current),(0,r.createPortal)((0,l.jsx)("div",{className:u()(C,N),ref:m,onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,l.jsx)("div",{className:E,onClick:h,children:"撤销"})}),n.current)]})},T=e=>{let{cardInfoContainerRef:t,imageContainerRef:n,onCoverHover:o}=e,i=(0,a.useRef)(null),s=(0,a.useRef)(null);return(0,a.useEffect)(()=>{null==o||o()}),(0,l.jsxs)(l.Fragment,{children:[(0,r.createPortal)((0,l.jsx)("div",{className:u()(w,{[_]:(0,P.G6)()}),ref:i,onClick:e=>{e.stopPropagation(),e.preventDefault()}}),n.current),(0,r.createPortal)((0,l.jsx)("div",{className:C,ref:s,onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,l.jsxs)("div",{className:k,children:[(0,l.jsx)("div",{className:L,children:"提交成功"}),(0,l.jsx)("div",{className:L,children:"我们将尽快处理"})]})}),t.current)]})};var F=n("368200");n("675373");var U=n("987475"),B=n("725887"),W=n("465769"),H=n("737271"),q=n("983253"),V=n("847191"),Z=n("795012");let z=e=>{let{awemeInfo:t,onRef:n,onDislikeClick:a,onReportClick:r,tab:i,logParams:s}=e,u=(0,F._)(e,["awemeInfo","onRef","onDislikeClick","onReportClick","tab","logParams"]),d=(0,S.Z)(async function(){var e,n,l;let{clickMethod:r,reportExtraParams:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clickMethod:"icon"},{statusCode:u,errMsg:d}=await (0,A.w)(null==t?void 0:t.awemeId),c=(null==t?void 0:t.awemeId)&&(null===(e=B.Le.getConfig(B.gI.WallPaperIds))||void 0===e?void 0:e.includes(null==t?void 0:t.awemeId))?1:0;if(0===u){let e=(0,W.vM)();O.sendLog("dislike",(0,o._)({urlParamList:["previous_page"],author_id:null==t?void 0:null===(n=t.authorInfo)||void 0===n?void 0:n.uid,group_id:null==t?void 0:t.awemeId,log_pb:null==t?void 0:t.logPb,is_full_screen:(0,H.r)()?"1":"0",tab_name:null!=i?i:(0,Z.zD)()||(0,q.Rs)("tab_name")||"",click_method:r,from_follow_list:(null===(l=B.Le.getConfig(B.gI.FromFollowList))||void 0===l?void 0:l.tag)?"1":"0",aweme_type:null==t?void 0:t.awemeType,is_insert_wallpaper:c,enter_from:(0,p.yW)(),enter_from_merge:(0,p.yW)(),click_from:`${e}_hover_page`},s)),null==a||a()}else R.F.info(d);c&&(0,V.qQ)(U.LocalStorageKeys.WallPaper,{disappear:!0})});return(0,l.jsxs)("div",(0,h._)((0,o._)({className:y,ref:n,onClick:e=>{null==e||e.stopPropagation(),null==e||e.preventDefault()}},u),{children:[(0,l.jsx)("div",{onClick:e=>{null==e||e.stopPropagation(),null==e||e.preventDefault(),d({clickMethod:"icon",reportExtraParams:s}),(null==t?void 0:t.awemeId)&&I.dislike.push(null==t?void 0:t.awemeId)},className:j,children:"不感兴趣"}),(0,l.jsx)("div",{onClick:e=>{null==e||e.stopPropagation(),null==e||e.preventDefault(),null==r||r()},className:j,children:"举报"})]}))};var G=n("66047");let $=e=>{let{awemeInfo:t,className:n,cardInfoContainerRef:s,imageContainerRef:h,onCoverHover:y,onCoverCancelHover:j,user:w,onMouseEnter:_,onMouseLeave:C,tab:N,logParams:E,enableCardHoverPreview:k,onPopperShow:L,onPopperHidden:M,onDislikeCoverShow:S,onDislikeCoverHidden:R,onReplaceTopCard:P,onReportCoverShow:A}=e,F=(0,a.useRef)(null),U=(0,a.useRef)(0),B=(0,G._)(),[W,H]=(0,a.useState)(null),[q,V]=(0,a.useState)(!1),[Z,$]=(0,a.useState)(!1),[K,J]=(0,a.useState)(!1),Y=()=>{clearTimeout(U.current),J(!0),null==L||L(),null==_||_()},X=()=>{U.current=setTimeout(()=>{J(!1),null==M||M()},250),null==C||C()},Q=(0,a.useCallback)(async()=>{var e,n,l;let a=(0,p.yW)();if(O.sendLog("report",(0,o._)({urlParamList:["previous_page"],enter_from:a,enter_from_merge:a,click_from:`${a}_hover_page`,author_id:null==t?void 0:null===(e=t.authorInfo)||void 0===e?void 0:e.uid,group_id:null==t?void 0:t.awemeId,tab_name:null!=N?N:a},E||{})),t.awemeType===d.e.XgVideo){v.emit(v.EVENT.videoPause,"More_handleClickReport"),window.open((0,m.Tl)({videoid:null==t?void 0:t.awemeId,param:"envoke_tipoff",value:"1"}));return}(0,f.m)({title:(null==t?void 0:t.awemeType)===d.e.Note?"举报图集":"举报视频",pipeline_id:(null==t?void 0:t.awemeType)===d.e.Note?"161":"157",object_id:null==t?void 0:t.awemeId,onShow:()=>{v.emit(v.EVENT.videoStopPlayNext)},userInfo:null==w?void 0:w.info,loginDispatch:null==w?void 0:w.dispatch,owner_id:null==t?void 0:null===(n=t.authorInfo)||void 0===n?void 0:n.uid,owner_sec_id:null==t?void 0:null===(l=t.authorInfo)||void 0===l?void 0:l.secUid,enter_from:(0,p.yW)(),onReport:()=>{$(!0),null==A||A(),null==P||P(),(null==t?void 0:t.awemeId)&&I.report.push(null==t?void 0:t.awemeId)},toast:()=>null,abtestData:B})},[t,w,E,B]);return(0,a.useEffect)(()=>{I.dislike.includes(null==t?void 0:t.awemeId)&&(V(!0),null==S||S(),null==y||y()),I.report.includes(null==t?void 0:t.awemeId)&&($(!0),null==A||A(),null==y||y())},[]),(0,a.useEffect)(()=>{if(!K||!k)return;let e=e=>{var t;K&&W&&!W.contains(e.target)&&!(null===(t=F.current)||void 0===t?void 0:t.contains(e.target))&&(J(!1),null==M||M(!1))};return document.addEventListener("click",e,!0),()=>{document.removeEventListener("click",e,!0)}},[K,W]),(0,a.useEffect)(()=>{F.current&&W&&(0,i.fi)(F.current,W,{placement:"bottom-start"})},[W]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:u()(x,n,{[b]:K}),onMouseEnter:e=>k?null:Y(),onMouseLeave:e=>k?null:X(),onClick:e=>{e.stopPropagation(),e.preventDefault(),k&&(K?X():Y())},ref:F,children:(0,l.jsx)(c.Z,{src:g,viewBox:"0 0 22 23",width:22,height:22})}),K&&(0,r.createPortal)((0,l.jsx)(z,{awemeInfo:t,onDislikeClick:()=>{V(!0),null==P||P(),null==S||S(),null==y||y(),J(!1),null==M||M()},onReportClick:Q,onRef:H,onMouseEnter:Y,onMouseLeave:k?null:X,tab:N,logParams:E}),document.body),q&&(0,l.jsx)(D,{awemeInfo:t,cardInfoContainerRef:s,imageContainerRef:h,onCoverCancelHover:j,onCoverHover:y,cancleDislike:()=>{V(!1),null==P||P(!0),null==R||R()},tab:N,logParams:E,tab:N,logParams:E}),Z&&(0,l.jsx)(T,{awemeInfo:t,cardInfoContainerRef:s,imageContainerRef:h,onCoverCancelHover:j,onCoverHover:y,tab:N,logParams:E})]})}},161102:function(e,t,n){n.d(t,{Z:function(){return E}}),n("874386"),n("250440");var o=n("563097"),l=n("88648"),a=n("627233"),r=n("637672"),i=n("379788"),s=n("794675");let u=e=>{let{objectId:t,schemaType:n=1}=e,[a,r]=(0,l.useState)();return(0,l.useEffect)(()=>{let o=`schema_type=${n}&object_id=${t}`;(0,i.ep)(e.objectId,{schema:o}).then(e=>{!e||(null==e?void 0:e.statusCode)?s.F.info("服务器打瞌睡了，请稍后再试"):r(null==e?void 0:e.qrcodeUrl)})},[t,n]),(0,o.jsx)("img",{className:e.className,src:a})};var d=n("643527"),c=n("831153"),f=n("560244"),p=n("252731"),v=n("816246"),m=n("392188"),h=n("875463"),g=n("520739"),x=n("878389");let b=(0,l.forwardRef)((e,t)=>(0,o.jsx)("svg",(0,x._)((0,g._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,o.jsx)("path",{d:"M20.566 9.364a1.929 1.929 0 0 1 2.727 2.727l-5.637 5.637 5.637 5.637a1.928 1.928 0 1 1-2.727 2.727l-6.985-6.985-.016-.015a1.929 1.929 0 0 1 0-2.728l7-7z",fill:"#0A0C20"})})));var y=e=>{let{visible:t,defaultValue:n=[],onCancel:a,onOk:r}=e,[i,s]=(0,l.useState)(n),{ReportEntry:u}=window;return u?(0,o.jsx)(p.u,{title:(0,o.jsxs)("div",{className:m.default.title,children:[(0,o.jsx)(h.n,{className:m.default.icon,src:b,width:24,height:24,onClick:()=>a()}),(0,o.jsx)("div",{children:"选择聊天证据"})]}),visible:t,showClose:!1,onCancel:()=>a(),footer:(0,o.jsx)(v.z,{style:{width:"100%"},onClick:()=>r(i),disabled:!i.length,children:"确定"}),children:(0,o.jsx)("div",{className:m.default.messageContainer,children:(0,o.jsx)(u,{onMessageSelect:e=>s(e),selectedMessage:i})})}):null},j=n("599961"),w=n("462111");let _=e=>{var t,n,i,s,f;let{reportScene:p,objectId:v,reasonList:m,reasonMap:h,onChange:g,abtestData:x}=e,[b,y]=(0,l.useState)(),[_,C]=(0,l.useState)(),[N,E]=(0,l.useState)(),[k,L]=(0,l.useState)(),[M,O]=(0,l.useState)(),I=!!(null==x?void 0:x.openQinquan)&&b===w.eK;return(0,l.useEffect)(()=>{let e=!!I||(p===w.Ry.USER?_:b&&b!==w.eK);g({reasonCode:_||b,reportLabels:N,reportDesc:k,imgList:M,validate:e})},[b,_,N,k,x]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a._,{text:"举报原因",required:!0}),(0,o.jsx)(r.E,{column:3,optionList:m,value:b,onChange:e=>{y(e),C(void 0),E(void 0)}}),b===w.eK?I?(0,o.jsx)("div",{className:j.default.jumpText,children:"侵权问题需要详细举证，提交后进入批量侵权举报页面"}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:j.default.infringement,children:["侵权问题需要详细举证，可扫描下方抖音码前往",(0,o.jsx)("br",{}),"「抖音APP」进行侵权举报"]}),(0,o.jsx)(u,{className:j.default.douyinCode,objectId:v,schemaType:p===w.Ry.USER?4:1})]}):(0,o.jsxs)(o.Fragment,{children:[(null===(n=h.get(b))||void 0===n?void 0:null===(t=n.children)||void 0===t?void 0:t.length)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a._,{text:"请选择具体的类型",required:p===w.Ry.USER}),(0,o.jsx)(r.E,{column:3,optionList:null===(i=h.get(b))||void 0===i?void 0:i.children,value:_,onChange:C})]}),(null===(f=h.get(b))||void 0===f?void 0:null===(s=f.report_labels)||void 0===s?void 0:s.length)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a._,{text:"请选择具体的类型"}),(0,o.jsx)(r.E,{column:3,optionList:h.get(b).report_labels,value:N,onChange:E})]}),(0,o.jsx)(a._,{text:"举报描述"}),(0,o.jsx)(d.K,{maxLength:200,placeholder:"请详细描述举报原因，便于平台判断违规情况",minHeight:75,value:k,onChange:L}),(0,o.jsxs)("div",{className:j.default.uploadContainer,children:[(0,o.jsx)(c.U,{value:M,onChange:O}),(0,o.jsx)("div",{className:j.default.uploadTips,children:"每张小于 10M，支持JPG、PNG格式，最多上传4张"})]})]})]})},C=e=>{var t,n,i,s,u;let{reasonList:d,reasonMap:c,onChange:p}=e,[v,m]=(0,l.useState)(),[h,g]=(0,l.useState)(),[x,b]=(0,l.useState)(),[j,w]=(0,l.useState)(),[_,C]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=v&&(null==j?void 0:j.length);p({reasonCode:h||v,reportLabels:x,chatList:j,validate:e})},[v,h,x,j]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a._,{text:"举报原因",required:!0}),(0,o.jsx)(r.E,{column:3,optionList:d,value:v,onChange:e=>{m(e),g(void 0),b(void 0)}}),(null===(n=c.get(v))||void 0===n?void 0:null===(t=n.children)||void 0===t?void 0:t.length)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a._,{text:"请选择具体的类型"}),(0,o.jsx)(r.E,{column:3,optionList:null===(i=c.get(v))||void 0===i?void 0:i.children,value:h,onChange:g})]}),(null===(u=c.get(v))||void 0===u?void 0:null===(s=u.report_labels)||void 0===s?void 0:s.length)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a._,{text:"请选择具体的类型"}),(0,o.jsx)(r.E,{column:3,optionList:c.get(v).report_labels,value:x,onChange:b})]}),(0,o.jsx)(a._,{text:"聊天证据",required:!0}),(0,o.jsx)(f.R,{value:(null==j?void 0:j.length)?`已添加${j.length}条聊天证据`:"添加聊天证据",onClick:()=>C(!0)}),(0,o.jsx)(y,{visible:_,defaultValue:j,onCancel:()=>C(!1),onOk:e=>{w(e),C(!1)}})]})},N=e=>{var t,n,i,s,d;let{videoId:c,reasonList:f,reasonMap:p,onChange:v}=e,[m,h]=(0,l.useState)(),[g,x]=(0,l.useState)(),[b,y]=(0,l.useState)();return(0,l.useEffect)(()=>{let e=m&&m!==w.Hp;v({reasonCode:g||m,reportLabels:b,validate:e})},[m,g,b]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a._,{text:"举报原因",required:!0}),(0,o.jsx)(r.E,{column:3,optionList:f,value:m,onChange:e=>{h(e),x(void 0),y(void 0)}}),m===w.Hp?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:j.default.infringement,children:["侵权问题需要详细举证，可扫描下方抖音码前往",(0,o.jsx)("br",{}),"「抖音APP」进行侵权举报"]}),(0,o.jsx)(u,{className:j.default.douyinCode,objectId:c})]}):(0,o.jsxs)(o.Fragment,{children:[(null===(n=p.get(m))||void 0===n?void 0:null===(t=n.children)||void 0===t?void 0:t.length)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a._,{text:"请选择具体的类型"}),(0,o.jsx)(r.E,{column:3,optionList:null===(i=p.get(m))||void 0===i?void 0:i.children,value:g,onChange:x})]}),(null===(d=p.get(m))||void 0===d?void 0:null===(s=d.report_labels)||void 0===s?void 0:s.length)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a._,{text:"请选择具体的类型"}),(0,o.jsx)(r.E,{column:3,optionList:p.get(m).report_labels,value:b,onChange:y})]})]})]})};var E=e=>{let{reportScene:t,reasonData:n,dataSource:l,onValuesChange:a,abtestData:r}=e,{object_id:i,video_id:s}=l,{reasonList:u=[],reasonMap:d=new Map}=n;return(0,o.jsxs)("div",{children:[[w.Ry.VIDEO,w.Ry.IMAGE,w.Ry.USER].includes(t)&&(0,o.jsx)(_,{reportScene:t,objectId:i,reasonList:u,reasonMap:d,onChange:a,abtestData:r}),[w.Ry.IM,w.Ry.IM_GROUP].includes(t)&&(0,o.jsx)(C,{reasonList:u,reasonMap:d,onChange:a}),[w.Ry.COMMENT].includes(t)&&(0,o.jsx)(N,{videoId:s,reasonList:u,reasonMap:d,onChange:a})]})}},27618:function(e,t,n){var o=n(520739);n(874386),n(250440),n(779788),n(268917);var l=n(563097),a=n(88648),r=n(309931),i=n(254127),s=n(794675),u=n(252731),d=n(816246),c=n(161102),f=n(501206),p=n(66863),v=n(713097),m=n.n(v),h=n(441447),g=n(725887),x=n(747986),b=n(703724),y=n(462111),j=n(327718);t.Z=e=>{let{pipelineId:t,dataSource:n,logParams:v,onReport:w,toast:_,abtestData:C}=e,{object_id:N,owner_id:E,owner_sec_id:k,user_id:L,comment_with_emoji:M,enter_from:O,con_short_id:I}=n,[S,R]=(0,a.useState)(!0),[P,A]=a.useState(i.default.zoomIn),[D,T]=(0,a.useState)(),[F,U]=(0,a.useState)(),B=!!(null==C?void 0:C.openQinquan)&&F&&F.reasonCode===y.eK,W=a.useCallback(()=>{A(i.default.zoomOut),setTimeout(()=>{var t;R(!1),r.unmountComponentAtNode(e.portalRef),e.portalRef.remove(),null===(t=e.onClose)||void 0===t||t.call(e)},300)},[e.onClose]);(0,a.useEffect)(()=>{let e=h.listen(h.EVENT.hideModal,W);return()=>{e()}},[W]),(0,a.useEffect)(()=>()=>{g.Le.setConfig(g.gI.IsAlreadyExsitReportModal,!1)},[]),(0,f.O)({onChange:e=>{let{isFullscreen:t}=e;t&&W()}});let H=(e,t)=>_?null==_?void 0:_(e,t):s.F.info(e,t),q=async()=>{let e,t,n;let l=await (0,j.b)(k),{reasonCode:a,reportLabels:r,reportDesc:i,imgList:s,chatList:u}=F,{reportScene:d,reasonData:c}=D;if(B){window.open("https://www.douyin.com/qinquan/report?enter_from=pc_douyin","_blank"),W();return}if(r){let t=new Map;c.reasonMap.get(a).report_labels.forEach(e=>t.set(e.value,e.label)),e=t.get(r)}(null==s?void 0:s.length)&&(t=null==s?void 0:s.map(e=>e.Uri).join(",")),(null==u?void 0:u.length)&&(n=u.join(","));let f={follow_status:null==l?void 0:l.follow_status,con_short_id:I,im_message_list:n,source:O},m={app_id:6383,object_id:N,owner_id:E,user_id:L,reported_id:L,report_type:d,reason:a,report_labels:e,report_desc:i,uri:t,image_uri_list:t,msg_list:[y.Ry.IM,y.Ry.IM_GROUP].includes(d)?n:void 0,report_data:JSON.stringify(f)};(0,p.v_)("/aweme/v1/report/submit/",{},m).then(t=>{switch(!0){case 2159===t.status_code:H("你已举报过该内容，请稍后再试");break;case 0===t.status_code:b.Z.sendLog("report_submit",(0,o._)({object_type:D.reportScene,object_id:N,enter_from:O,follow_status:null==l?void 0:l.follow_status,reason_type:a,report_labels:e},v)),(null==D?void 0:D.reportScene)===102&&b.Z.sendLog("report_comment",(0,o._)({object_type:D.reportScene,object_id:N,enter_from:O,follow_status:null==l?void 0:l.follow_status,reason_type:a,report_labels:e},v)),H("提交成功，我们将尽快受理");break;default:H("提交失败，请稍后再试")}W(),null==w||w(0===t.status_code)}).catch(()=>H("服务器打瞌睡了，请稍后再试"))};return((0,a.useEffect)(()=>{(0,y.Mq)(t).then(e=>{(0,x.Z)(L),b.Z.sendLog("enter_report_edit_page",(0,o._)({object_type:e.reportScene,object_id:N,enter_from:O},v)),1===M&&e.reasonData.reasonList.push({label:"表情包侵权",value:y.Hp}),T(e)}).catch(()=>H("服务器打瞌睡了，请稍后再试",null==e?void 0:e.toastParent))},[]),D&&n)?(0,l.jsx)(u.u,{title:e.title,visible:S,className:m()(P,B?i.default.jumpText:""),footerClassName:B?i.default.jumpTextFooter:"",onCancel:W,footer:(0,l.jsx)(d.z,{className:i.default.submit,onClick:q,disabled:!(null==F?void 0:F.validate),children:"提交"}),children:(0,l.jsx)(c.Z,{dataSource:n,reportScene:D.reportScene,reasonData:D.reasonData,onValuesChange:U,abtestData:C})}):null}},459307:function(e,t,n){n.d(t,{n:function(){return ei},m:function(){return ea}});var o=n("563097"),l=n("88648"),a=n("309931"),r=n("725887");n("874386");var i=n("227630"),s=n("477667"),u=n("262648"),d=n("756560"),c=n("913029"),f=n("713097"),p=n.n(f),v=n("875463");let{ArrowUp:m,ArrowDown:h,W:g,S:x,Escape:b,N:y}=u.bf,j=e=>{let{children:t,title:n,visible:a,onCancel:r}=e,i=l.useCallback(()=>{r&&r(!1)},[]),u=l.useRef(null),f=e=>{e.stopPropagation()};return l.useEffect(()=>{let e="report/ui/Modal";return(0,d.o)({disableKey:[h,m,g,x,b,y].map(e=>e.code),pauseGlobalShortcut:!0},e),()=>{(0,d.m)(e)}},[]),l.useEffect(()=>{let{current:e}=u;if(e)return e.setAttribute("tabindex","0"),e.addEventListener("DOMMouseScroll",f),e.onwheel=e=>e.preventDefault(),e.focus(),()=>{e.removeEventListener("DOMMouseScroll",f)}},[a]),a?(0,o.jsx)("div",{className:c.default.mask,ref:u,onWheel:f,children:(0,o.jsxs)("div",{className:p()(c.default.modalContainer,e.className),"data-e2e":"report-container",children:[(0,o.jsx)("div",{className:c.default.close,onClick:i,"data-e2e":"report-container-close",children:(0,o.jsx)(v.n,{width:36,height:36,src:s.Z})}),n&&(0,o.jsx)("div",{className:c.default.title,children:n}),(0,o.jsx)("div",{className:c.default.content,children:t})]})}):null};var w=n("520739");n("268917");var _=n("90837"),C=n("872136"),N=new C.h({report_web:{eventName:"report_web",params:{report_type:"",object_id:"",enter_method:""}}}),E=n("794675"),k=n("216554");let L=e=>{let{selected:t,disable:n,label:a,className:r,onClick:i,value:s}=e,u=l.useCallback(()=>{i&&i(s,!t)},[s,t,i]);return(0,o.jsxs)("div",{className:p()(k.default.radioContainer,r),children:[(0,o.jsx)("div",{onClick:u,className:p()(k.default.radio,{[k.default.selected]:t,[k.default.disable]:n})}),a&&(0,o.jsx)("span",{className:k.default.label,children:a})]})};var M=n("794706");let O=e=>{let{notResize:t=!1,value:n,onChange:a,placeholder:r,maxLength:i,width:s,className:u,minHeight:d}=e,c=l.useRef(null),[f,v]=l.useState(),m=l.useCallback(e=>{let t=e.target.value;t.length<=i&&a(t)},[a]);return(0,o.jsxs)("div",{style:{width:s},className:p()(M.default.textareaContainer,u),children:[(0,o.jsx)("textarea",{value:n,ref:c,style:{minHeight:d,height:f},onChange:m,onKeyDown:e=>e.stopPropagation(),placeholder:r,className:M.default.textarea}),void 0!==i&&(0,o.jsxs)("div",{className:p()(M.default.count,{[M.default.overflow]:n.length>i}),children:[n.length,"/",i]})]})};var I=n("428584");function S(e){let{size:t="normal",type:n="primary",children:l,autoFixed:a=!0,className:r,width:i,style:s,theme:u="solid",disabled:d=!1,onClick:c=function(){}}=e;return(0,o.jsx)("button",{type:"button",disabled:d,onClick:c,className:p()(I.default.button,I.default[t],I.default[n],I.default[u],{[I.default.fixed]:!a},r),style:(0,w._)({width:i&&`${i}px`},s),children:l})}var R=e=>{let{reasons:t,type:n,object_id:a,isLive:r=!1,onLiveReport:i=()=>void 0,logParams:s,toast:u}=e,[d,c]=l.useState(""),[f,p]=l.useState(""),v=l.useMemo(()=>{let e={};for(let n=0;n<t.length;n++){let o=t[n];e[n%3]?e[n%3].push(o):e[n%3]=[o]}return e},[t]),m=l.useCallback(e=>{p(e)},[]),h=l.useCallback(()=>{!r&&(N.sendLog("report_web",(0,w._)({report_type:n,object_id:a},s)),null==e||e.onClose()),r&&(i(f,d),null==e||e.onClose()),u?u("提交成功",null==e?void 0:e.toastParent):E.F.info("提交成功",null==e?void 0:e.toastParent)},[f,d,i]);return(0,o.jsxs)("div",{className:_.default.reportContainer,"data-e2e":"report-container",children:[(0,o.jsxs)("div",{className:_.default.reasonList,children:[(0,o.jsx)("div",{className:_.default.col,children:(v[0]||[]).map(e=>(0,o.jsx)(L,{selected:f===e.value,label:e.label,value:e.value,className:_.default.reasonItem,onClick:m},e.value))}),(0,o.jsx)("div",{className:_.default.col,children:(v[1]||[]).map(e=>(0,o.jsx)(L,{selected:f===e.value,label:e.label,value:e.value,className:_.default.reasonItem,onClick:m},e.value))}),(0,o.jsx)("div",{className:_.default.col,children:(v[2]||[]).map(e=>(0,o.jsx)(L,{selected:f===e.value,label:e.label,value:e.value,className:_.default.reasonItem,onClick:m},e.value))})]}),(0,o.jsx)(O,{notResize:!0,maxLength:140,placeholder:"请详细描述举报原因，便于平台判断违规情况",minHeight:75,value:d,onChange:e=>c(e),className:_.default.reportDesc}),(0,o.jsx)(S,{className:_.default.submit,onClick:h,disabled:!f,children:"提交"})]})};let P=["色情低俗","违法犯罪","造谣传谣","垃圾广告","售卖假货","非原创内容","未成年人相关","其他"],A=["色情低俗","违法犯罪","造谣传谣","垃圾广告","骚扰","人身攻击","时政不实信息"],D=["色情低俗","违法犯罪","造谣传谣","垃圾广告","骚扰","人身攻击","时政不实信息"],T=["色情低俗","违法犯罪","造谣传谣","垃圾广告","售卖假货","未成年相关","头像、昵称、签名、背景图违规"],F=["违法违禁","淫秽色情","抽烟饮酒","欺诈/售假","未成年人相关","危险行为","录像/盗播","声音违规","诱导刷礼","引导线下转账","侮辱谩骂","其他"];var U=e=>{let[t,n]=(0,l.useState)(!0),[s,u]=l.useState(i.default.zoomIn),d=l.useCallback(()=>{u(i.default.zoomOut),setTimeout(()=>{var t;n(!1),a.unmountComponentAtNode(e.portalRef),e.portalRef.remove(),null===(t=e.onClose)||void 0===t||t.call(e)},300)},[t]);return(0,l.useEffect)(()=>()=>{r.Le.setConfig(r.gI.IsAlreadyExsitReportModal,!1)},[]),(0,o.jsx)(j,{title:e.title,visible:t,className:s,onCancel:d,children:(0,o.jsx)(R,{toast:null==e?void 0:e.toast,toastParent:e.toastParent,reasons:function(e){switch(e){case"video":return P.map(e=>({label:e,value:e}));case"comment":return A.map(e=>({label:e,value:e}));case"user":return T.map(e=>({label:e,value:e}));case"live":return F.map(e=>({label:e,value:e}));case"danmaku":return D.map(e=>({label:e,value:e}));default:return[]}}(e.type),onClose:d,object_id:e.object_id,type:e.type,isLive:!0,onLiveReport:e.onLiveReport,logParams:e.logParams})})},B=n("27618");n("250440"),n("602157"),n("927234");var W=n("732992"),H=n("627233"),q=n("830164"),V=n("77758");let Z=e=>{let{value:t="",onChange:n,placeholder:l}=e;return(0,o.jsx)("input",{className:V.default.container,placeholder:l,value:t,onChange:e=>n(e.target.value)})};var z=n("643527"),G=n("831153"),$=n("252731"),K=n("816246"),J=n("880418"),Y=n("501206"),X=n("441447"),Q=n("747986"),ee=n("829097"),et=n("921689");function en(){return(0,o.jsxs)("svg",{className:W.default.svg,viewBox:"0 0 10 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{d:"M6.12852 1.14357C5.95738 0.680906 5.51668 0.351562 5 0.351562C4.48332 0.351562 4.04262 0.680906 3.87148 1.14357C2.4282 1.62362 1.38595 2.9984 1.38595 4.62081V5.837C1.38595 6.52216 1.19579 7.19354 0.837147 7.77455L0.11565 8.94342C-0.19778 9.45119 0.162759 10.1098 0.754132 10.1098H9.24587C9.83724 10.1098 10.1978 9.45119 9.88435 8.94342L9.16285 7.77455C8.80421 7.19354 8.61405 6.52216 8.61405 5.837V4.62081C8.61405 2.9984 7.5718 1.62361 6.12852 1.14357Z"}),(0,o.jsx)("path",{d:"M5 12.3969C4.07376 12.3969 3.27772 11.8324 2.92917 11.0247H7.07083C6.72228 11.8324 5.92624 12.3969 5 12.3969Z"})]})}let eo=e=>{var t,n,a,r;let{dataSource:i,onChange:s}=e,[u,d]=(0,l.useState)(),[c,f]=(0,l.useState)(),[p,v]=(0,l.useState)(),[m,h]=(0,l.useState)(),[g,x]=(0,l.useState)(),[b,y]=(0,l.useState)(),j=(0,l.useRef)(),w=(0,l.useRef)(),_=(0,l.useMemo)(()=>{let e={};return i.forEach(t=>{let{label:n,tips:o}=t;e[n]?e[n].children=e[n].children.concat(t):e[n]={name:n,tooltip:o,children:[t]}}),Object.values(e).map(e=>{let{name:t,tooltip:n,children:o}=e;return{name:t,tooltip:n,children:o.map(e=>{let{text:t,reason_type_id:n,sub_reason_list:o=[],toast:l}=e;return{label:t,value:n,children:o.map(e=>({label:e.text,value:e.reason_type_id})),extra:l}})}})},[i]);return(0,l.useEffect)(()=>{switch(!0){case(null==u?void 0:u.value)===void 0:case(null==u?void 0:u.value)===18&&!(null==b?void 0:b.length):case(null==u?void 0:u.value)===18&&!p:case(null==b?void 0:b.includes(1))&&!m:s({verified:!1});break;default:s({reasonData:u,subReasonData:c,desc:p,info:m,images:g,codes:b,verified:!0})}},[u,c,p,m,g,b,s]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:W.default.titleBar,children:[(0,o.jsx)(en,{}),(0,o.jsx)("div",{className:W.default.title,children:"您的举报我们将尽快受理，核实后我们将第一时间告知受理结果，请尽量提交完整的举报描述及材料。"})]}),(0,o.jsx)(H._,{text:"举报原因",required:!0}),(0,o.jsx)(et.o,{dataList:_,onChange:e=>{if(e.value!==(null==u?void 0:u.value))setTimeout(()=>{var t,n,o,l;(null==e?void 0:e.value)===18?null===(n=w.current)||void 0===n||null===(t=n.scrollIntoView)||void 0===t||t.call(n,{behavior:"smooth",block:"nearest"}):null===(l=j.current)||void 0===l||null===(o=l.scrollIntoView)||void 0===o||o.call(l,{behavior:"smooth",block:"nearest"})},0),f(void 0),y(void 0),d(e)},value:u}),(null==u?void 0:u.value)!==18&&(null==u?void 0:null===(t=u.children)||void 0===t?void 0:t.length)>0&&(0,o.jsxs)("div",{ref:j,children:[(0,o.jsx)(H._,{text:"请选择具体的举报类型（选填）"}),(0,o.jsx)(et.D,{dataList:null==u?void 0:u.children,onChange:f,value:c})]}),(null==u?void 0:u.value)===18&&(null==u?void 0:null===(n=u.children)||void 0===n?void 0:n.length)>0&&(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:W.default.divider}),(0,o.jsxs)("div",{className:W.default.description,ref:w,children:["权利人请通过广告投诉平台",(0,o.jsxs)("a",{className:W.default.link,href:"https://phoniex.toutiao.com/phoniex/index",target:"_blank",rel:"noreferrer",children:[" ","https://phoniex.toutiao.com/phoniex/index"," "]}),"进行投诉，同时上传具体材料（权利人身份证明、侵权内容及权利证明等）"]}),(0,o.jsx)(H._,{text:"举报类型（多选）",required:(null==u?void 0:u.value)===18}),(0,o.jsx)(q.C,{optionList:null==u?void 0:u.children,value:b,onChange:y}),(0,o.jsx)(H._,{text:(null==b?void 0:null===(a=b.includes)||void 0===a?void 0:a.call(b,1))?"原作者信息":"原作者信息（选填）",required:null==b?void 0:null===(r=b.includes)||void 0===r?void 0:r.call(b,1)}),(0,o.jsx)(Z,{placeholder:"原创作者抖音名称、作品链接或其他信息",value:m,onChange:h})]}),(0,o.jsx)(H._,{text:(null==u?void 0:u.value)===18?"举报描述":"举报描述（选填）",required:(null==u?void 0:u.value)===18}),(0,o.jsx)(z.K,{maxLength:200,placeholder:"请详细描述举报原因，便于平台判断违规情况",minHeight:75,value:p,onChange:v}),(0,o.jsxs)("div",{className:W.default.uploadContainer,children:[(0,o.jsx)(G.U,{value:g,onChange:x}),(0,o.jsx)("div",{className:W.default.uploadTips,children:"每张小于 10M，支持JPG、PNG格式，最多上传4张"})]})]})};var el=e=>{let{title:t,onClose:n,portalRef:i,toastParent:s,extraInfo:u}=e,[d,c]=(0,l.useState)(!0),[f,p]=l.useState(W.default.zoomIn),[v,m]=(0,l.useState)(),[h,g]=(0,l.useState)(),x=l.useCallback(()=>{p(W.default.zoomOut),setTimeout(()=>{c(!1),a.unmountComponentAtNode(i),i.remove(),null==n||n()},300)},[n]);(0,l.useEffect)(()=>()=>{r.Le.setConfig(r.gI.IsAlreadyExsitReportModal,!1)},[]),(0,l.useEffect)(()=>{let e=X.listen(X.EVENT.hideModal,x);return()=>{null==e||e()}},[x]);let b=(0,l.useCallback)(e=>{E.F.info(e,s)},[s]),y=async()=>{let{user_id:e,log_extra:t,creative_id:n}=u,{reasonData:o,subReasonData:l,desc:a,info:r,images:i=[],codes:s=[]}=h,d={creative_id:n,log_extra:t,data:{user_id:e,report_type_id:o.value,report_type_name:o.label,report_pictures:i.map(e=>e.Uri).toString(),report_description:a,sub_reason_id:18===o.value?void 0:null==l?void 0:l.value,sub_reason_name:18===o.value?void 0:null==l?void 0:l.label,report_author_info:18===o.value?r:void 0,report_right_type:18===o.value?s.toString():void 0}};(0,ee.GA)(d).then(e=>{0===e.code?(b("操作成功，将严格审查广告内容"),x()):b("服务器打瞌睡了，请稍后再试")}).catch(()=>b("服务器打瞌睡了，请稍后再试"))};return(0,Y.O)({onChange:e=>{let{isFullscreen:t}=e;t&&x()}}),(0,l.useEffect)(()=>{(0,ee.iL)().then(e=>{(0,Q.Z)(null==u?void 0:u.user_id),m(e.data)}).catch(()=>b("服务器打瞌睡了，请稍后再试"))},[]),(0,o.jsx)($.u,{title:t,visible:d,className:f,onCancel:x,footer:(0,o.jsx)(K.z,{className:W.default.submit,onClick:y,disabled:!(null==h?void 0:h.verified),children:"提交"}),children:v?(0,o.jsx)(eo,{dataSource:v,onChange:g}):(0,o.jsx)(J.g,{text:"加载中"})})};let ea=(e,t)=>{if(r.Le.getConfig(r.gI.IsAlreadyExsitReportModal))return;let{loginDispatch:n,userInfo:o,abtestData:l}=e;if((null==o?void 0:o.uid)||e.user_id||(null==e?void 0:e.isLive)||(null==e?void 0:e.isOrigin))(null==o?void 0:o.uid)&&(e.user_id=null==o?void 0:o.uid),er(e,t);else{var a;(null===(a=window)||void 0===a?void 0:a.showAccount)&&window.showAccount({enterMethod:"report",success:o=>{n({type:"updateUserInfo"}),e.user_id=null==o?void 0:o.user_id,er(e,t)}})}},er=(e,t)=>{var n,l;if("object"!=typeof e)return;let i=()=>{r.Le.setConfig(r.gI.IsAlreadyExsitReportModal,!1),"function"==typeof e.onClose&&e.onClose()},s=(null==e?void 0:e.type)==="live",u=document.createElement("div"),d=document.getElementById("root"),c=(()=>{var e;if(t)return t;if(!s)return document.fullscreenElement||d;let n=document.getElementById("slideMode")||document.getElementsByClassName("xgplayer-fullscreen-parent")[0]||document.getElementsByClassName("isCssFullScreen")[0]||document.fullscreenElement,o=document.querySelector(".modal-video-container");return n?n:(null===(e=r.Le.getConfig(r.gI.IsPageFullScreen))||void 0===e?void 0:e.type)?d:o?o:d})();if(!!c)if(c.appendChild(u),e.isOrigin)r.Le.setConfig(r.gI.IsAlreadyExsitReportModal,!0),null==e||null===(n=e.onShow)||void 0===n||n.call(e),a.render((0,o.jsx)(U,{toastParent:c,portalRef:u,title:e.title,type:e.type,object_id:e.object_id,logParams:e.logParams,onClose:i,onLiveReport:e.onLiveReport||(()=>void 0),toast:null==e?void 0:e.toast}),u);else{let{title:t,logParams:n,pipeline_id:s,object_id:d,owner_id:f,user_id:p,comment_with_emoji:v=0,enter_from:m,con_short_id:h,video_id:g,onReport:x,toast:b,owner_sec_id:y,abtestData:j}=e;r.Le.setConfig(r.gI.IsAlreadyExsitReportModal,!0),null==e||null===(l=e.onShow)||void 0===l||l.call(e),a.render((0,o.jsx)(B.Z,{toastParent:c,portalRef:u,title:t,onClose:i,logParams:n,pipelineId:s,dataSource:{object_id:d,owner_id:f,user_id:p,comment_with_emoji:v,enter_from:m,con_short_id:h,video_id:g,owner_sec_id:y},onReport:x,toast:b,abtestData:j}),u)}},ei=(e,t)=>{if(r.Le.getConfig(r.gI.IsAlreadyExsitReportModal))return;let{loginDispatch:n,user_id:o,abtestData:l}=e;if(o)es(e,t);else{var a;(null===(a=window)||void 0===a?void 0:a.showAccount)&&window.showAccount({enterMethod:"report",success:o=>{var l;n({type:"updateUserInfo"}),null==e||null===(l=e.onLoginSuccess)||void 0===l||l.call(e),e.user_id=null==o?void 0:o.user_id,es(e,t)}})}},es=(e,t)=>{let{creative_id:n,log_extra:l,user_id:i,title:s,onClose:u,onShow:d}=e,c=document.createElement("div"),f=document.getElementById("root");if(t)f=t,null==t||t.appendChild(c);else{var p;let e=document.getElementById("slideMode")||document.getElementsByClassName("xgplayer-fullscreen-parent")[0]||document.getElementsByClassName("isCssFullScreen")[0],t=document.querySelector(".modal-video-container");if((null===(p=r.Le.getConfig(r.gI.IsPageFullScreen))||void 0===p?void 0:p.type)||e)e&&(f=e),f.appendChild(c);else if(t)f=t,t.appendChild(c);else{let e=document.getElementById("root");null==e||e.appendChild(c)}}r.Le.setConfig(r.gI.IsAlreadyExsitReportModal,!0),null==d||d(),a.render((0,o.jsx)(el,{toastParent:f,portalRef:c,title:s,onClose:()=>{r.Le.setConfig(r.gI.IsAlreadyExsitReportModal,!1),"function"==typeof u&&u()},extraInfo:{creative_id:n,log_extra:l,user_id:i}}),c)}},816246:function(e,t,n){n.d(t,{z:function(){return s}});var o=n(520739),l=n(563097);n(88648);var a=n(713097),r=n.n(a),i=n(549419);function s(e){let{children:t,className:n,width:a,style:s,disabled:u=!1,onClick:d=function(){}}=e;return(0,l.jsx)("button",{type:"button",disabled:u,onClick:d,className:r()(i.default.button,n),style:(0,o._)({width:a&&`${a}px`},s),children:t})}},921689:function(e,t,n){n.d(t,{D:function(){return d},o:function(){return c}});var o=n(563097),l=n(88648),a=n(115855),r=n(769036),i=n(111893);function s(e){return(0,o.jsxs)("svg",{className:e.className,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{d:"M6.31015 4.19993C6.30457 3.81502 6.61505 3.5 7 3.5C7.38495 3.5 7.69543 3.81502 7.68984 4.19993L7.63803 7.77116C7.63297 8.11992 7.3488 8.4 7 8.4C6.6512 8.4 6.36703 8.11992 6.36197 7.77116L6.31015 4.19993Z"}),(0,o.jsx)("path",{d:"M7 10.64C7.42526 10.64 7.77 10.2953 7.77 9.87C7.77 9.44474 7.42526 9.1 7 9.1C6.57474 9.1 6.23 9.44474 6.23 9.87C6.23 10.2953 6.57474 10.64 7 10.64Z"}),(0,o.jsx)("path",{d:"M7 14C10.866 14 14 10.866 14 7C14 3.13401 10.866 0 7 0C3.13401 0 0 3.13401 0 7C0 10.866 3.13401 14 7 14ZM7 12.95C3.71391 12.95 1.05 10.2861 1.05 7C1.05 3.71391 3.71391 1.05 7 1.05C10.2861 1.05 12.95 3.71391 12.95 7C12.95 10.2861 10.2861 12.95 7 12.95Z"})]})}function u(e){let{text:t,tooltip:n}=e,i=(0,l.useRef)();return(0,o.jsxs)("div",{className:a.default.categoryTextContainer,children:[(0,o.jsx)("div",{className:a.default.categoryText,children:t}),n&&(0,o.jsx)(r.e,{text:n,type:"right",target:i.current,children:(0,o.jsx)("div",{className:a.default.iconContainer,ref:i,children:(0,o.jsx)(s,{className:a.default.alertCircle})})})]})}function d(e){let{dataList:t=[],value:n,onChange:l}=e;return(0,o.jsx)("div",{className:a.default.dataItemList,children:t.map(e=>(0,o.jsx)(i.Y,{className:a.default.dataItem,style:e.label.length>=7?{width:"calc(100% - 40px)"}:void 0,label:e.label,checked:(null==n?void 0:n.value)===e.value,value:e.value,onCheck:()=>l(e)},e.value))})}function c(e){let{dataList:t=[],value:n,onChange:l}=e;return(0,o.jsx)("div",{className:a.default.container,children:t.map(e=>{let{name:t,tooltip:r,children:i=[]}=e;return(0,o.jsxs)("div",{className:a.default.categoryItemList,children:[t&&(0,o.jsx)(u,{text:t,tooltip:r}),(0,o.jsx)(d,{dataList:i,value:n,onChange:l})]},t)})})}},96425:function(e,t,n){n.d(t,{J:function(){return i}});var o=n(563097);n(88648);var l=n(765593),a=n(713097),r=n.n(a);let i=e=>{let{label:t,className:n,onSelect:a,value:i,style:s,selected:u}=e;return(0,o.jsxs)("div",{className:r()(l.default.container,n),style:s,children:[(0,o.jsx)("div",{className:u?l.default.selected:l.default.icon,onClick:()=>a(i)}),t&&(0,o.jsx)("span",{className:l.default.label,children:t})]})}},830164:function(e,t,n){n.d(t,{C:function(){return r}}),n(874386);var o=n(563097);n(88648);var l=n(461523),a=n(96425);let r=e=>{let{optionList:t,value:n=[],onChange:r}=e,i=new Set(n),s=e=>{i.has(e)?i.delete(e):i.add(e),r([...i.values()])};return Array.isArray(t)?(0,o.jsx)("div",{className:l.default.container,children:t.map(e=>(0,o.jsx)(a.J,{className:l.default.radio,style:e.label.length>=7?{width:"calc(100% - 40px)"}:void 0,label:e.label,value:e.value,selected:i.has(e.value),onSelect:s},e.value))}):null}},560244:function(e,t,n){n.d(t,{R:function(){return u}});var o=n(563097);n(88648);var l=n(713097),a=n.n(l),r=n(863822),i=n(875463),s=n(661540);let u=e=>{let{value:t,className:n,onClick:l}=e;return(0,o.jsxs)("div",{className:a()(r.default.container,n),onClick:l,children:[(0,o.jsx)("div",{className:r.default.text,children:t}),(0,o.jsx)(i.n,{className:r.default.icon,src:s.Z,width:24,height:24})]})}},831153:function(e,t,n){n.d(t,{U:function(){return m}});var o=n(520739),l=n(878389);n(874386),n(250440),n(882732),n(544943);var a=n(563097),r=n(88648),i=n(875463),s=n(565850),u=n(167993),d=n(747986),c=n(794675);let f="image/png,image/jpeg,image/jpg";function p(e){let{currentLength:t,maxLength:n,onUpload:o}=e,l=(0,r.useRef)(),d=(0,r.useCallback)(()=>{var e;(null===(e=l.current)||void 0===e?void 0:e.value)&&(l.current.value="")},[]);return t===n?null:(0,a.jsxs)("div",{className:u.default.wrap,children:[(0,a.jsx)("input",{className:u.default.input,type:"file",accept:f,multiple:!0,onChange:e=>o(e,d),ref:l}),(0,a.jsx)("div",{className:u.default.buttonContainer,children:(0,a.jsxs)("div",{className:u.default.buttonContent,children:[(0,a.jsx)(i.n,{width:24,height:24,src:s.Z}),(0,a.jsx)("div",{className:u.default.counter,children:`${t}/${n}`})]})})]})}function v(e){let{dataList:t=[],onChange:n}=e,o=e=>{let o=[...t];o.splice(e,1),"function"==typeof n&&n(o)};return(0,a.jsx)(a.Fragment,{children:t.map((e,t)=>(0,a.jsxs)("div",{className:u.default.cover,children:[(0,a.jsx)("div",{className:u.default.close,onClick:()=>o(t)}),(0,a.jsx)("img",{className:u.default.image,src:e.Url})]},e.Uri))})}function m(e){let t=(0,d.Z)(),{maxLength:n=4,value:r=[],onChange:i}=e;return(0,a.jsxs)("div",{className:u.default.container,children:[(0,a.jsx)(v,{dataList:r,onChange:i}),(0,a.jsx)(p,{onUpload:(e,a)=>{let{files:s}=e.target;if(s.length>n){c.F.info(`当前上传图片数量大于 ${n}`);return}for(let e=0;e<s.length;e++){if(s[e].size>10485760){c.F.info("当前上传图片尺寸大于10M");return}if(!f.includes(s[e].type)){c.F.info("当前上传图片是不支持的类型");return}}if(!t){c.F.info("图片上传服务不可用，请稍后再试");return}t.uploadFile(s).then(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i([...r,...e.map((e,t)=>(0,l._)((0,o._)({},e),{Url:window.URL.createObjectURL(s[t])}))]),"function"==typeof a&&a()}).catch(()=>c.F.info("图片上传失败，请重试"))},currentLength:r.length,maxLength:n})]})}},627233:function(e,t,n){n.d(t,{_:function(){return i}});var o=n(563097);n(88648);var l=n(656837),a=n(713097),r=n.n(a);let i=e=>{let{text:t,required:n=!1,className:a}=e;return(0,o.jsxs)("div",{className:r()(l.default.container,a),children:[(0,o.jsx)("div",{className:l.default.text,children:t}),n&&(0,o.jsx)("div",{className:l.default.icon,children:"*"})]})}},880418:function(e,t,n){n.d(t,{g:function(){return i}});var o=n(563097);n(88648);var l=n(387098),a=n(713097),r=n.n(a);function i(e){let{className:t,text:n,textClassName:a}=e;return(0,o.jsxs)("div",{className:r()(l.default.container,t,"HideInLynxClassName"),children:[(0,o.jsx)("div",{className:l.default.loading}),n&&(0,o.jsx)("div",{className:r()(l.default.text,a),children:n})]})}},252731:function(e,t,n){n.d(t,{u:function(){return x}});var o=n(563097),l=n(88648),a=n(713097),r=n.n(a),i=n(262648),s=n(756560),u=n(875463),d=n(557329),c=n(477667);let{ArrowUp:f,ArrowDown:p,W:v,S:m,Escape:h,N:g}=i.bf,x=e=>{let{visible:t,children:n,title:a,footer:i,className:x,footerClassName:b,onCancel:y,showClose:j=!0}=e,w=l.useRef(),_=e=>{e.stopPropagation()};return(l.useEffect(()=>{let e="report/ui/Modal";return(0,s.o)({disableKey:[p,f,v,m,h,g].map(e=>e.code),pauseGlobalShortcut:!0},e),()=>{(0,s.m)(e)}},[]),(0,l.useEffect)(()=>{var e,t,n;return null===(e=w.current)||void 0===e||e.setAttribute("tabindex","0"),null===(t=w.current)||void 0===t||t.addEventListener("DOMMouseScroll",_),null===(n=w.current)||void 0===n||n.focus(),()=>{var e;null===(e=w.current)||void 0===e||e.removeEventListener("DOMMouseScroll",_)}},[t]),t)?(0,o.jsx)("div",{className:d.default.mask,ref:w,onWheel:_,children:(0,o.jsxs)("div",{className:r()(d.default.modalContainer,x),"data-e2e":"report-container",children:[j&&(0,o.jsx)("div",{className:d.default.close,onClick:()=>{"function"==typeof y&&y(!1)},"data-e2e":"report-container-close",children:(0,o.jsx)(u.n,{width:36,height:36,src:c.Z})}),a&&(0,o.jsx)("div",{className:d.default.title,children:a}),(0,o.jsx)("div",{className:d.default.content,children:n}),(0,o.jsx)("div",{className:r()(d.default.footer,b),children:i})]})}):null}},637672:function(e,t,n){n.d(t,{E:function(){return u}});var o=n(563097),l=n(88648),a=n(713097),r=n.n(a),i=n(111893),s=n(664186);let u=e=>{let{className:t,column:n=1,optionList:a,value:u,onChange:d}=e,c=(0,l.useMemo)(()=>({width:`${100/n}%`}),[n]);return Array.isArray(a)?(0,o.jsx)("div",{className:r()(s.default.container,t),children:a.map(e=>(0,o.jsx)(i.Y,{className:s.default.radio,style:c,label:e.label,value:e.value,checked:u===e.value,onCheck:d},e.value))}):null}},111893:function(e,t,n){n.d(t,{Y:function(){return i}});var o=n(563097);n(88648);var l=n(61061),a=n(713097),r=n.n(a);let i=e=>{let{label:t,value:n,checked:a,disabled:i,className:s,style:u,onCheck:d}=e;return(0,o.jsxs)("div",{className:r()(l.default.container,s),style:u,children:[(0,o.jsx)("div",{onClick:()=>{"function"==typeof d&&d(n)},className:r()(l.default.radio,{[l.default.checked]:a,[l.default.disabled]:i})}),t&&(0,o.jsx)("span",{className:l.default.label,children:t})]})}},875463:function(e,t,n){n.d(t,{n:function(){return u}});var o=n(520739),l=n(563097),a=n(88648),r=n(867910),i=n(713097),s=n.n(i);let u=a.memo(e=>{let{src:t,width:n=18,height:a=18,color:i,viewBox:u,className:d="",onClick:c=()=>void 0,style:f={}}=e,p=i?(0,o._)({fill:i},f):(0,o._)({},f);return(0,l.jsx)(t,(0,o._)({className:s()(i?"":r.default.svg,d),width:n,height:a,viewBox:u||"0 0 36 36",onClick:c},p))})},643527:function(e,t,n){n.d(t,{K:function(){return s}});var o=n(563097),l=n(88648),a=n(713097),r=n.n(a),i=n(818439);let s=e=>{let{value:t="",onChange:n,placeholder:a,maxLength:s,width:u,className:d,minHeight:c}=e,f=l.useRef(null),p=l.useCallback(e=>{let t=e.target.value;t.length<=s&&n(t)},[n]);return(0,o.jsxs)("div",{style:{width:u},className:r()(i.default.textareaContainer,d),children:[(0,o.jsx)("textarea",{value:t,ref:f,style:{minHeight:c},onChange:p,onKeyDown:e=>e.stopPropagation(),placeholder:a,className:i.default.textarea}),void 0!==s&&(0,o.jsxs)("div",{className:r()(i.default.count,{[i.default.overflow]:t.length>s}),children:[t.length,"/",s]})]})}},794675:function(e,t,n){n.d(t,{F:function(){return b}});var o,l=n(134761),a=n(520739),r=n(878389);n(268917),n(874386);var i=n(563097),s=n(713097),u=n.n(s),d=n(88648),c=n(309931),f=n(737271),p=n(497329);let v=null,m=null,h=null,g=null,x={text:"",duration:3e3};class b extends(o=d.Component){static create(e){if(v)return e&&e(v);h=document.body,!document.querySelector("#toastContainer")&&((g=document.createElement("div")).className=p.default.toastWrapper,g.id="toastContainer"),h.appendChild(g),c.render((0,i.jsx)(b,{ref:t=>{v=t,e&&e(v)}}),g)}static info(e,t){let n=(0,a._)({},x);"string"==typeof e?(n.text=e,n.root=t):"object"==typeof e&&null!==e&&(n=(0,a._)((0,r._)((0,a._)({},x),{root:t}),e));let o=document.fullscreenElement||document.getElementsByClassName("xgplayer-fullscreen-parent")[0];(0,f.r)()&&o&&(n.root=o),this.textList.push(n),this.create(e=>{!m&&e&&e.handleShowToast()})}handleShowToast(){m&&(clearTimeout(m),m=null);let e=b.textList.shift();this.setState({showToast:!0,options:e}),m=setTimeout(()=>{b.textList.length?this.handleCloseToast(()=>{setTimeout(this.handleShowToast.bind(this),50)}):(this.handleCloseToast(),this.destroy()),m=null},e.duration)}handleCloseToast(e){this.setState({showToast:!1},()=>e&&e())}destroy(){h.removeChild(g),v=null}render(){let{showToast:e,options:t}=this.state,n=e&&t&&(0,i.jsx)("div",{className:u()(p.default.toast,t.className,{[p.default.parentToastWrapper]:t.root||(0,f.r)()}),children:t.text});return(0,i.jsx)(d.Fragment,{children:t&&t.root?c.createPortal(n,t.root):n})}constructor(...e){super(...e),(0,l._)(this,"state",{showToast:!1})}}(0,l._)(b,"textList",[])},769036:function(e,t,n){n.d(t,{e:function(){return h}});var o=n("520739"),l=n("878389");n("874386"),n("250440");var a=n("563097"),r=n("88648"),i=n("309931"),s=n("55016");let u=(0,r.forwardRef)((e,t)=>(0,a.jsx)("svg",(0,l._)((0,o._)({width:4,height:17,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{d:"M0 0a8 8 0 0 0 2.168 5.476l1.174 1.25a2 2 0 0 1 0 2.738l-1.174 1.25A8 8 0 0 0 0 16.19V0z",fill:"#323442"})})));var d=n("875463"),c=n("713097"),f=n.n(c),p=n("810845"),v=n("756267"),m={left:"top",right:"top",top:"left",bottom:"left"};let h=e=>{let{type:t="left",text:n,offsetArrow:c,offsetContainer:h,className:g,children:x,onTipClick:b,renderContent:y,clickHidden:j=!1,target:w,offsetWidth:_=0}=e,[C,N]=(0,r.useState)({width:0,height:0}),[E,k]=(0,r.useState)(t),[L,M]=(0,r.useState)(!1),[O,I]=(0,r.useState)({}),S=(0,r.useRef)(null),R=(0,r.useRef)(),P=(0,r.useRef)(null),A=(0,r.useMemo)(()=>(0,p.h)(w),[w]),D=(0,r.useMemo)(()=>(0,v.d)(A,"HTMLBodyElement"),[A]),T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=window.innerWidth,a=window.innerHeight;return{left:e<0?e:0,top:t<0?t:0,right:e+n>l?l-e-n:0,bottom:t+o>a?a-t-o:0}},F=function(){clearTimeout(P.current),P.current=setTimeout(()=>{M(!1)},200)},U=(0,r.useCallback)(()=>{if(!S.current)return{};let e=R.current.getBoundingClientRect(),{width:n,height:a}=e,r=D?e.x:0,i=D?e.y:0,s=(C.width-n)/2,u=(C.height-a)/2;if(["left","right"].includes(t)){switch(t){case"left":r-=C.width+10;break;case"right":r+=n+10}"number"==typeof h?i+=h:i+=-u}else if(["top","bottom"].includes(t)){switch(t){case"top":i-=C.height+10;break;case"bottom":i+=a+10}"number"==typeof h?r+=h:r+=-s}if(D){let{top:e,left:o,right:l,bottom:s}=T(r,i,C.width,C.height);k(t),["left","right"].includes(t)?(e&&(i-=e),s&&(i+=s),o&&!l&&(r+=C.width+20+n,k("right")),l&&!o&&(r-=C.width+20+n,k("left"))):["top","bottom"].includes(t)&&(o&&(r-=o+_),l&&(r+=l-_),e&&!s&&(i+=C.height+20+a,k("bottom")),s&&!e&&(i-=C.height+20+a,k("top")))}return(0,l._)((0,o._)({},O),{left:`${r}px`,top:`${i}px`})},[O,C,h,t,D]),B=(0,r.useCallback)(()=>{let e=r.Children.only(x);return r.cloneElement(e,{onMouseEnter:t=>{var n,o;clearTimeout(P.current),M(!0),R.current=t.target,I(U()),null==e||null===(o=e.props)||void 0===o||null===(n=o.onMouseEnter)||void 0===n||n.call(o,t)},onMouseLeave:()=>{F()}})},[U,x]);(0,r.useEffect)(()=>{let e=e=>{if(!!L)I(U())};return document.addEventListener("scroll",e,!0),()=>{document.removeEventListener("scroll",e,!0)}},[U,L]),(0,r.useLayoutEffect)(()=>{if(!!S.current)N(S.current.getBoundingClientRect())},[L]),(0,r.useLayoutEffect)(()=>{R.current&&I(U())},[C]);let W=(0,r.useMemo)(()=>(0,a.jsxs)("div",{ref:S,style:(0,o._)({position:D?"fixed":"absolute"},O),onMouseEnter:e=>{clearTimeout(P.current)},onMouseLeave:()=>{F()},className:f()(s.default.tooltip,s.default[t],g),onClick:e=>{null==b||b(e),j&&M(!1)},children:[(0,a.jsx)(d.n,{width:4,height:17,src:u,style:{[m[E]]:`${c}%`},className:f()(s.default.icon,s.default[E]),viewBox:"0 0 4 17"}),(0,a.jsx)("span",{className:"",children:y||n})]}),[E,g,j,c,b,y,n,O,t,D]);return(0,a.jsxs)(a.Fragment,{children:[L&&i.createPortal(W,A),B()]})}},703724:function(e,t,n){var o=n(872136);t.Z=new o.h({enter_report_edit_page:{eventName:"enter_report_edit_page",params:{object_type:"",object_id:"",enter_from:""}},report_submit:{eventName:"report_submit",params:{object_type:"",object_id:"",enter_from:"",follow_status:"",reason_type:"",report_labels:""}},report_comment:{eventName:"report_comment",params:{comment_panel_position:"",comment_category:"",object_type:"",object_id:"",comment_id:"",enter_from:"",follow_status:"",reason_type:"",report_labels:""}}})},462111:function(e,t,n){n.d(t,{Hp:function(){return o},Mq:function(){return r},Ry:function(){return a},eK:function(){return l}}),n(675373),n(874386);let o=60466,l=60448;var a={VIDEO:101,101:"VIDEO",COMMENT:102,102:"COMMENT",USER:103,103:"USER",IMAGE:126,126:"IMAGE",IM:106,106:"IM",IM_GROUP:115,115:"IM_GROUP"};function r(e){return fetch(`https://lf-mortise.douyinstatic.com/obj/mortise-online/online/${e}_3364`).then(e=>e.json()).then(e=>{var t;let{reportScene:n,reasonCode:o}=e.pluginData;let l=Array.isArray(t=o)?t[0].list.map(e=>{let{reason_code:t,next_reasons:n,report_labels:o}=e.data;return{label:e.text,value:t,children:Array.isArray(n)?n[0].list.map(e=>({label:e.text,value:e.data.reason_code})):void 0,report_labels:Array.isArray(o)?o.map(e=>({label:e.name,value:e.code})):void 0}}):[],a=new Map;return l.forEach(e=>{a.set(e.value,e)}),{reportScene:n,reasonData:{reasonList:l,reasonMap:a}}})}},747986:function(e,t,n){let o;var l=n(134761);n(675373);var a=n(66863),r=n(670824),i=n.n(r);class s{initUploader(e,t){let{token:n,service_id:o,origin:l,template:a}=e,r=JSON.parse(n);this.bytedUploader=new(i())({userId:t,appId:1128,stsToken:r,imageConfig:{serviceId:o}}),this.uploaderOptions={stsToken:r,serviceId:o,origin:l,template:a}}uploadFile(e){let t=this.bytedUploader.addImageFile({file:Array.from(e).map(e=>new Blob([e])),stsToken:this.uploaderOptions.stsToken});return this.bytedUploader.start(t),new Promise((e,t)=>{this.bytedUploader.on("complete",t=>{e(t.uploadResult)}),this.bytedUploader.on("error",e=>{t(e.extra)})})}constructor(e){(0,l._)(this,"bytedUploader",null),(0,l._)(this,"uploaderOptions",null),(0,a.U2)("/aweme/v1/report/upload/auth/",{}).then(t=>{let{token:n,service_id:o,origin:l,template:a,status_code:r}=t;if(0===r)this.initUploader({token:n,service_id:o,origin:l,template:a},e.userId)})}}t.Z=function(e){return!o&&(o=new s({userId:e})),o}},839321:function(e,t,n){n.d(t,{m:function(){return s},w:function(){return i}});var o=n(520739);n(675373);var l=n(576660),a=n(66863);let{COMMON_SEARCH_PARAMS:r}=l||{};async function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=await (0,a.v_)("/aweme/v1/web/commit/dislike/item/",(0,o._)({aweme_id:e},r),{aweme_id:e}),n=t.status_code;return{statusCode:n,errMsg:0===n||t.status_msg?t.status_msg:"啊哦，服务器打瞌睡了"}}async function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=await (0,a.v_)("/aweme/v1/web/dislike/dimension/update/",(0,o._)({aweme_id:e,block_type:2},r),{aweme_id:e}),n=t.status_code;return{statusCode:n,errMsg:0===n||t.status_msg?t.status_msg:"啊哦，服务器打瞌睡了"}}},661540:function(e,t,n){var o=n(520739),l=n(878389),a=n(563097),r=n(88648);let i=(0,r.forwardRef)((e,t)=>(0,a.jsx)("svg",(0,l._)((0,o._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{d:"M16.292 9.364a1.929 1.929 0 1 0-2.727 2.727l5.637 5.637-5.637 5.637a1.928 1.928 0 1 0 2.727 2.727l6.985-6.985.016-.015a1.929 1.929 0 0 0 0-2.728l-7-7z",fill:"#0A0C20"})})));t.Z=i},991021:function(e,t,n){function o(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function l(e){var t=o(e).Element;return e instanceof t||e instanceof Element}function a(e){var t=o(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function r(e){if("undefined"==typeof ShadowRoot)return!1;var t=o(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}n.d(t,{fi:function(){return ed}});var i,s,u,d,c,f,p=Math.max,v=Math.min,m=Math.round;function h(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function g(){return!/^((?!chrome|android).)*safari/i.test(h())}function x(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&a(e)&&(i=e.offsetWidth>0&&m(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&m(r.height)/e.offsetHeight||1);var u=(l(e)?o(e):window).visualViewport,d=!g()&&n,c=(r.left+(d&&u?u.offsetLeft:0))/i,f=(r.top+(d&&u?u.offsetTop:0))/s,p=r.width/i,v=r.height/s;return{width:p,height:v,top:f,right:c+p,bottom:f+v,left:c,x:c,y:f}}function b(e){var t=o(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function y(e){return e?(e.nodeName||"").toLowerCase():null}function j(e){return((l(e)?e.ownerDocument:e.document)||window.document).documentElement}function w(e){return x(j(e)).left+b(e).scrollLeft}function _(e){return o(e).getComputedStyle(e)}function C(e){var t=_(e),n=t.overflow,o=t.overflowX,l=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+l+o)}function N(e){var t=x(e),n=e.offsetWidth,o=e.offsetHeight;return 1>=Math.abs(t.width-n)&&(n=t.width),1>=Math.abs(t.height-o)&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function E(e){return"html"===y(e)?e:e.assignedSlot||e.parentNode||(r(e)?e.host:null)||j(e)}function k(e,t){void 0===t&&(t=[]);var n,l=function e(t){return["html","body","#document"].indexOf(y(t))>=0?t.ownerDocument.body:a(t)&&C(t)?t:e(E(t))}(e),r=l===(null==(n=e.ownerDocument)?void 0:n.body),i=o(l),s=r?[i].concat(i.visualViewport||[],C(l)?l:[]):l,u=t.concat(s);return r?u:u.concat(k(E(s)))}function L(e){return a(e)&&"fixed"!==_(e).position?e.offsetParent:null}function M(e){for(var t=o(e),n=L(e);n&&["table","td","th"].indexOf(y(n))>=0&&"static"===_(n).position;)n=L(n);return n&&("html"===y(n)||"body"===y(n)&&"static"===_(n).position)?t:n||function(e){var t=/firefox/i.test(h());if(/Trident/i.test(h())&&a(e)&&"fixed"===_(e).position)return null;var n=E(e);for(r(n)&&(n=n.host);a(n)&&0>["html","body"].indexOf(y(n));){var o=_(n);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return n;n=n.parentNode}return null}(e)||t}var O="bottom",I="right",S="left",R="auto",P=["top",O,I,S],A="start",D="viewport",T="popper",F=P.reduce(function(e,t){return e.concat([t+"-"+A,t+"-end"])},[]),U=[].concat(P,[R]).reduce(function(e,t){return e.concat([t,t+"-"+A,t+"-end"])},[]),B=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"],W={placement:"bottom",modifiers:[],strategy:"absolute"};function H(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}var q={passive:!0};function V(e){return e.split("-")[0]}function Z(e){return e.split("-")[1]}function z(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function G(e){var t,n=e.reference,o=e.element,l=e.placement,a=l?V(l):null,r=l?Z(l):null,i=n.x+n.width/2-o.width/2,s=n.y+n.height/2-o.height/2;switch(a){case"top":t={x:i,y:n.y-o.height};break;case O:t={x:i,y:n.y+n.height};break;case I:t={x:n.x+n.width,y:s};break;case S:t={x:n.x-o.width,y:s};break;default:t={x:n.x,y:n.y}}var u=a?z(a):null;if(null!=u){var d="y"===u?"height":"width";switch(r){case A:t[u]=t[u]-(n[d]/2-o[d]/2);break;case"end":t[u]=t[u]+(n[d]/2-o[d]/2)}}return t}var $={top:"auto",right:"auto",bottom:"auto",left:"auto"};function K(e){var t,n,l,a,r,i,s,u=e.popper,d=e.popperRect,c=e.placement,f=e.variation,p=e.offsets,v=e.position,h=e.gpuAcceleration,g=e.adaptive,x=e.roundOffsets,b=e.isFixed,y=p.x,w=void 0===y?0:y,C=p.y,N=void 0===C?0:C,E="function"==typeof x?x({x:w,y:N}):{x:w,y:N};w=E.x,N=E.y;var k=p.hasOwnProperty("x"),L=p.hasOwnProperty("y"),R=S,P="top",A=window;if(g){var D=M(u),T="clientHeight",F="clientWidth";D===o(u)&&"static"!==_(D=j(u)).position&&"absolute"===v&&(T="scrollHeight",F="scrollWidth");("top"===c||(c===S||c===I)&&"end"===f)&&(P=O,N-=(b&&D===A&&A.visualViewport?A.visualViewport.height:D[T])-d.height,N*=h?1:-1),(c===S||("top"===c||c===O)&&"end"===f)&&(R=I,w-=(b&&D===A&&A.visualViewport?A.visualViewport.width:D[F])-d.width,w*=h?1:-1)}var U=Object.assign({position:v},g&&$);var B=!0===x?(t={x:w,y:N},n=o(u),l=t.x,a=t.y,{x:m(l*(r=n.devicePixelRatio||1))/r||0,y:m(a*r)/r||0}):{x:w,y:N};return(w=B.x,N=B.y,h)?Object.assign({},U,((s={})[P]=L?"0":"",s[R]=k?"0":"",s.transform=1>=(A.devicePixelRatio||1)?"translate("+w+"px, "+N+"px)":"translate3d("+w+"px, "+N+"px, 0)",s)):Object.assign({},U,((i={})[P]=L?N+"px":"",i[R]=k?w+"px":"",i.transform="",i))}var J={left:"right",right:"left",bottom:"top",top:"bottom"};function Y(e){return e.replace(/left|right|bottom|top/g,function(e){return J[e]})}var X={start:"end",end:"start"};function Q(e){return e.replace(/start|end/g,function(e){return X[e]})}function ee(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&r(n)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function et(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function en(e,t,n){var a,r,i,s,u,d,c,f,v,m,h;return t===D?et(function(e,t){var n=o(e),l=j(e),a=n.visualViewport,r=l.clientWidth,i=l.clientHeight,s=0,u=0;if(a){r=a.width,i=a.height;var d=g();(d||!d&&"fixed"===t)&&(s=a.offsetLeft,u=a.offsetTop)}return{width:r,height:i,x:s+w(e),y:u}}(e,n)):l(t)?((r=x(a=t,!1,"fixed"===n)).top=r.top+a.clientTop,r.left=r.left+a.clientLeft,r.bottom=r.top+a.clientHeight,r.right=r.left+a.clientWidth,r.width=a.clientWidth,r.height=a.clientHeight,r.x=r.left,r.y=r.top,r):et((i=j(e),u=j(i),d=b(i),c=null==(s=i.ownerDocument)?void 0:s.body,f=p(u.scrollWidth,u.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),v=p(u.scrollHeight,u.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),m=-d.scrollLeft+w(i),h=-d.scrollTop,"rtl"===_(c||u).direction&&(m+=p(u.clientWidth,c?c.clientWidth:0)-f),{width:f,height:v,x:m,y:h}))}function eo(){return{top:0,right:0,bottom:0,left:0}}function el(e){return Object.assign({},eo(),e)}function ea(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function er(e,t){void 0===t&&(t={});var n,o,r,i,s,u,d,c,f,m,h=t,g=h.placement,b=void 0===g?e.placement:g,w=h.strategy,C=void 0===w?e.strategy:w,N=h.boundary,L=h.rootBoundary,S=h.elementContext,R=void 0===S?T:S,A=h.altBoundary,F=h.padding,U=void 0===F?0:F,B=el("number"!=typeof U?U:ea(U,P)),W=e.rects.popper,H=e.elements[void 0!==A&&A?R===T?"reference":T:R];var q=(n=l(H)?H:H.contextElement||j(e.elements.popper),o=void 0===N?"clippingParents":N,r=void 0===L?D:L,i=C,f=(c=[].concat("clippingParents"===o?(u=k(E(s=n)),l(d=["absolute","fixed"].indexOf(_(s).position)>=0&&a(s)?M(s):s)?u.filter(function(e){return l(e)&&ee(e,d)&&"body"!==y(e)}):[]):[].concat(o),[r]))[0],(m=c.reduce(function(e,t){var o=en(n,t,i);return e.top=p(o.top,e.top),e.right=v(o.right,e.right),e.bottom=v(o.bottom,e.bottom),e.left=p(o.left,e.left),e},en(n,f,i))).width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m),V=x(e.elements.reference),Z=G({reference:V,element:W,strategy:"absolute",placement:b}),z=et(Object.assign({},W,Z)),$=R===T?z:V,K={top:q.top-$.top+B.top,bottom:$.bottom-q.bottom+B.bottom,left:q.left-$.left+B.left,right:$.right-q.right+B.right},J=e.modifiersData.offset;if(R===T&&J){var Y=J[b];Object.keys(K).forEach(function(e){var t=[I,O].indexOf(e)>=0?1:-1,n=["top",O].indexOf(e)>=0?"y":"x";K[e]+=Y[n]*t})}return K}function ei(e,t,n){return p(e,v(t,n))}function es(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function eu(e){return["top",I,O,S].some(function(t){return e[t]>=0})}var ed=(i={defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,l=e.options,a=l.scroll,r=void 0===a||a,i=l.resize,s=void 0===i||i,u=o(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&d.forEach(function(e){e.addEventListener("scroll",n.update,q)}),s&&u.addEventListener("resize",n.update,q),function(){r&&d.forEach(function(e){e.removeEventListener("scroll",n.update,q)}),s&&u.removeEventListener("resize",n.update,q)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=G({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,o=n.gpuAcceleration,l=n.adaptive,a=n.roundOffsets,r=void 0===a||a,i={placement:V(t.placement),variation:Z(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:void 0===o||o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,K(Object.assign({},i,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:void 0===l||l,roundOffsets:r})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,K(Object.assign({},i,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:r})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},o=t.attributes[e]||{},l=t.elements[e];if(!!a(l)&&!!y(l))Object.assign(l.style,n),Object.keys(o).forEach(function(e){var t=o[e];!1===t?l.removeAttribute(e):l.setAttribute(e,!0===t?"":t)})})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var o=t.elements[e],l=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});if(!!a(o)&&!!y(o))Object.assign(o.style,r),Object.keys(l).forEach(function(e){o.removeAttribute(e)})})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,o=e.name,l=n.offset,a=void 0===l?[0,0]:l,r=U.reduce(function(e,n){var o,l,r,i,s,u,d,c;return e[n]=(o=n,l=t.rects,r=a,s=[S,"top"].indexOf(i=V(o))>=0?-1:1,d=(u="function"==typeof r?r(Object.assign({},l,{placement:o})):r)[0],c=u[1],d=d||0,c=(c||0)*s,[S,I].indexOf(i)>=0?{x:c,y:d}:{x:d,y:c}),e},{}),i=r[t.placement],s=i.x,u=i.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=u),t.modifiersData[o]=r}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var l=n.mainAxis,a=void 0===l||l,r=n.altAxis,i=void 0===r||r,s=n.fallbackPlacements,u=n.padding,d=n.boundary,c=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,v=void 0===p||p,m=n.allowedAutoPlacements,h=t.options.placement,g=V(h)===h,x=s||(g||!v?[Y(h)]:function(e){if(V(e)===R)return[];var t=Y(e);return[Q(e),t,Q(t)]}(h)),b=[h].concat(x).reduce(function(e,n){var o,l,a,r,i,s,f,p,h,g,x,b,y,j;return e.concat(V(n)===R?(o=t,l={placement:n,boundary:d,rootBoundary:c,padding:u,flipVariations:v,allowedAutoPlacements:m},r=(a=l).placement,i=a.boundary,s=a.rootBoundary,f=a.padding,p=a.flipVariations,g=void 0===(h=a.allowedAutoPlacements)?U:h,0===(y=(b=(x=Z(r))?p?F:F.filter(function(e){return Z(e)===x}):P).filter(function(e){return g.indexOf(e)>=0})).length&&(y=b),Object.keys(j=y.reduce(function(e,t){return e[t]=er(o,{placement:t,boundary:i,rootBoundary:s,padding:f})[V(t)],e},{})).sort(function(e,t){return j[e]-j[t]})):n)},[]),y=t.rects.reference,j=t.rects.popper,w=new Map,_=!0,C=b[0],N=0;N<b.length;N++){var E=b[N],k=V(E),L=Z(E)===A,M=["top",O].indexOf(k)>=0,D=M?"width":"height",T=er(t,{placement:E,boundary:d,rootBoundary:c,altBoundary:f,padding:u}),B=M?L?I:S:L?O:"top";y[D]>j[D]&&(B=Y(B));var W=Y(B),H=[];if(a&&H.push(T[k]<=0),i&&H.push(T[B]<=0,T[W]<=0),H.every(function(e){return e})){C=E,_=!1;break}w.set(E,H)}if(_){for(var q=v?3:1,z=function(e){var t=b.find(function(t){var n=w.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return C=t,"break"},G=q;G>0&&"break"!==z(G);G--);}t.placement!==C&&(t.modifiersData[o]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,o=e.name,l=n.mainAxis,a=n.altAxis,r=n.boundary,i=n.rootBoundary,s=n.altBoundary,u=n.padding,d=n.tether,c=void 0===d||d,f=n.tetherOffset,m=void 0===f?0:f,h=er(t,{boundary:r,rootBoundary:i,padding:u,altBoundary:s}),g=V(t.placement),x=Z(t.placement),b=!x,y=z(g),j="x"===y?"y":"x",w=t.modifiersData.popperOffsets,_=t.rects.reference,C=t.rects.popper,E="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,k="number"==typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),L=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(!!w){if(void 0===l||l){var P,D="y"===y?"top":S,T="y"===y?O:I,F="y"===y?"height":"width",U=w[y],B=U+h[D],W=U-h[T],H=c?-C[F]/2:0,q=x===A?_[F]:C[F],G=x===A?-C[F]:-_[F],$=t.elements.arrow,K=c&&$?N($):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:eo(),Y=J[D],X=J[T],Q=ei(0,_[F],K[F]),ee=b?_[F]/2-H-Q-Y-k.mainAxis:q-Q-Y-k.mainAxis,et=b?-_[F]/2+H+Q+X+k.mainAxis:G+Q+X+k.mainAxis,en=t.elements.arrow&&M(t.elements.arrow),el=en?"y"===y?en.clientTop||0:en.clientLeft||0:0,ea=null!=(P=null==L?void 0:L[y])?P:0,es=ei(c?v(B,U+ee-ea-el):B,U,c?p(W,U+et-ea):W);w[y]=es,R[y]=es-U}if(void 0!==a&&a){var eu,ed,ec,ef="x"===y?"top":S,ep="x"===y?O:I,ev=w[j],em="y"===j?"height":"width",eh=ev+h[ef],eg=ev-h[ep],ex=-1!==["top",S].indexOf(g),eb=null!=(ec=null==L?void 0:L[j])?ec:0,ey=ex?eh:ev-_[em]-C[em]-eb+k.altAxis,ej=ex?ev+_[em]+C[em]-eb-k.altAxis:eg;var ew=c&&ex?(ed=ei(ey,ev,eu=ej))>eu?eu:ed:ei(c?ey:eh,ev,c?ej:eg);w[j]=ew,R[j]=ew-ev}t.modifiersData[o]=R}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n,o,l=e.state,a=e.name,r=e.options,i=l.elements.arrow,s=l.modifiersData.popperOffsets,u=V(l.placement),d=z(u),c=[S,I].indexOf(u)>=0?"height":"width";if(!!i&&!!s){var f=(t=r.padding,n=l,el("number"!=typeof(t="function"==typeof t?t(Object.assign({},n.rects,{placement:n.placement})):t)?t:ea(t,P))),p=N(i),v="y"===d?"top":S,m="y"===d?O:I,h=l.rects.reference[c]+l.rects.reference[d]-s[d]-l.rects.popper[c],g=s[d]-l.rects.reference[d],x=M(i),b=x?"y"===d?x.clientHeight||0:x.clientWidth||0:0,y=f[v],j=b-p[c]-f[m],w=b/2-p[c]/2+(h/2-g/2),_=ei(y,w,j);l.modifiersData[a]=((o={})[d]=_,o.centerOffset=_-w,o)}},effect:function(e){var t=e.state,n=e.options.element,o=void 0===n?"[data-popper-arrow]":n;if(null!=o&&("string"!=typeof o||!!(o=t.elements.popper.querySelector(o)))&&!!ee(t.elements.popper,o))t.elements.arrow=o},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,o=t.rects.reference,l=t.rects.popper,a=t.modifiersData.preventOverflow,r=er(t,{elementContext:"reference"}),i=er(t,{altBoundary:!0}),s=es(r,o),u=es(i,l,a),d=eu(s),c=eu(u);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:c},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":c})}}]},d=void 0===(u=(s=i).defaultModifiers)?[]:u,f=void 0===(c=s.defaultOptions)?W:c,function(e,t,n){void 0===n&&(n=f);var r,i,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},W,f),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},u=[],c=!1;var p={state:s,setOptions:function(n){var o,a,r,i,c,m,h="function"==typeof n?n(s.options):n;v(),s.options=Object.assign({},f,s.options,h),s.scrollParents={reference:l(e)?k(e):e.contextElement?k(e.contextElement):[],popper:k(t)};var g=(m=(a=Object.keys(o=[].concat(d,s.options.modifiers).reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{})).map(function(e){return o[e]}),r=new Map,i=new Set,c=[],a.forEach(function(e){r.set(e.name,e)}),a.forEach(function(e){!i.has(e.name)&&!function e(t){i.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!i.has(t)){var n=r.get(t);n&&e(n)}}),c.push(t)}(e)}),c),B.reduce(function(e,t){return e.concat(m.filter(function(e){return e.phase===t}))},[]));return s.orderedModifiers=g.filter(function(e){return e.enabled}),function(){s.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,o=e.effect;if("function"==typeof o){var l=o({state:s,name:t,instance:p,options:void 0===n?{}:n});u.push(l||function(){})}})}(),p.update()},forceUpdate:function(){if(c)return;var e,t,n,l,r,i,u,d,f,v,h,g,_,E=s.elements,k=E.reference,L=E.popper;if(!!H(k,L)){s.rects={reference:(e=k,t=M(L),n="fixed"===s.options.strategy,l=a(t),f=a(t)&&(u=m((i=(r=t).getBoundingClientRect()).width)/r.offsetWidth||1,d=m(i.height)/r.offsetHeight||1,1!==u||1!==d),v=j(t),h=x(e,f,n),g={scrollLeft:0,scrollTop:0},_={x:0,y:0},(l||!l&&!n)&&(("body"!==y(t)||C(v))&&(g=function(e){var t;if(e===o(e)||!a(e))return b(e);return{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}}(t)),a(t)?(_=x(t,!0),_.x+=t.clientLeft,_.y+=t.clientTop):v&&(_.x=w(v))),{x:h.left+g.scrollLeft-_.x,y:h.top+g.scrollTop-_.y,width:h.width,height:h.height}),popper:N(L)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach(function(e){return s.modifiersData[e.name]=Object.assign({},e.data)});for(var O=0;O<s.orderedModifiers.length;O++){if(!0===s.reset){s.reset=!1,O=-1;continue}var I=s.orderedModifiers[O],S=I.fn,R=I.options,P=void 0===R?{}:R,A=I.name;"function"==typeof S&&(s=S({state:s,options:P,name:A,instance:p})||s)}}},update:(r=function(){return new Promise(function(e){p.forceUpdate(),e(s)})},function(){return!i&&(i=new Promise(function(e){Promise.resolve().then(function(){i=void 0,e(r())})})),i}),destroy:function(){v(),c=!0}};if(!H(e,t))return p;p.setOptions(n).then(function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)});function v(){u.forEach(function(e){return e()}),u=[]}return p})}}]);