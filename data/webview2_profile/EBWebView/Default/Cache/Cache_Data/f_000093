"use strict";(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["45366"],{45087:function(e,t){t.Z={profilePopover:"ZtRJjCVr",popHolder:"GLRbUyjl"}},130459:function(e,t,o){o.d(t,{t:function(){return v}});var i=o("563097");o("88648");var n=o("309931"),r=o("851190"),l=o("628885"),a="AUmBd89o",u="XNrzeTPC",d="dOgaz8x1",s="aI8JK6uI";let c=e=>{let{title:t,content:o,confirmBtnText:n="确定",closeBtnText:c="取消",onConfirm:v,onClose:_,showCancel:f=!0}=e;return(0,i.jsx)(l.Z,{visible:!0,className:s,title:t,onCancel:_,children:(0,i.jsxs)("div",{className:a,children:[(0,i.jsx)("div",{className:u,children:o}),(0,i.jsxs)("div",{className:d,children:[f&&(0,i.jsx)(r.zx,{onClick:()=>{_&&_()},children:c}),(0,i.jsx)(r.zx,{onClick:()=>{v&&v()},children:n})]})]})})},v=function(){let e,t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{elementClass:r="confirm-modal"}=o,l=()=>{e&&t&&(t.classList.remove(r),n.unmountComponentAtNode(t),e.removeChild(t),e.style.overflow="")};return{showModal:function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{title:a,content:u,confirmBtnText:d,closeBtnText:s,onConfirm:v,onClose:_}=o,f=async()=>{v&&await v(),l()},p=async()=>{_&&await _(),l()};!(t=(e=document.fullscreenElement||document.body).querySelector(`.${r}`))&&((t=document.createElement("div")).classList.add(r),e.appendChild(t),e.style.overflow="hidden",n.render((0,i.jsx)(c,{title:a,content:u,confirmBtnText:d,closeBtnText:s,onConfirm:f,onClose:p}),t))},destroyModal:l}}},772607:function(e,t,o){o.d(t,{T:function(){return l},y:function(){return r}}),o(675373);var i=o(96008),n=o.n(i);let r=(0,o(158041).kr)({userProfileData:{},refreshData:n(),reportArgs:{reportType:"user"},eventParams:{},close:n(),targetUid:"",secTargetUid:"",anchorId:"",secAnchorId:"",roomId:"",currentUid:"",currentSecUid:"",targetUserType:"audience",openSchema:()=>Promise.resolve({code:0}),liveContainer:null,openVip:n(),openFansClub:n(),openGiftPanel:n(),isLinkMicManger:!1,inLinkMicSeats:!1,setFaceRecognitionShow:n(),linkmicEvent:{},slardarEvent:{},linkRoomType:"",functionType2:"",isPaidLinking:!1,isInPk:!1}),l=r.Provider},159488:function(e,t,o){o.d(t,{$6:function(){return E},AB:function(){return L},AP:function(){return C},D1:function(){return x},FD:function(){return O},Fx:function(){return G},HL:function(){return g},JJ:function(){return F},Ol:function(){return p},PS:function(){return A},Qd:function(){return B},Qg:function(){return f},Vi:function(){return S},ZP:function(){return M},aA:function(){return T},b$:function(){return y},c5:function(){return V},gc:function(){return I},iA:function(){return w},jG:function(){return q},m$:function(){return P},nD:function(){return h},o0:function(){return D},o2:function(){return $},pJ:function(){return m},sb:function(){return U},uK:function(){return b},uZ:function(){return k},yr:function(){return j},z4:function(){return N},zw:function(){return R}});var i=o(520739),n=o(683571),r=o(742740),l=o(983253),a=o(110479),u=o(595814),d=o.n(u),s=o(772607),c=o(461591),v=o(818597),_=o(88648);let f=(0,a.Z)(s.y),p=()=>f(e=>{var t;return(null===(t=e.userProfileData)||void 0===t?void 0:t.user_profile)||{}}),m=()=>f(e=>{var t;return(null===(t=e.userProfileData)||void 0===t?void 0:t.user_data)||{}}),g=()=>f(e=>(0,n.cM)({currentUid:e.currentUid,targetUid:e.targetUid,currentAnchorId:e.anchorId,targetIsAnchor:"anchor"===e.targetUserType})),h=()=>f(e=>e.reportArgs||{reportType:"user"}),y=()=>f(e=>e.refreshData),L=()=>f(e=>{var t,o;return(null===(o=e.userProfileData)||void 0===o?void 0:null===(t=o.user_profile)||void 0===t?void 0:t.profile_tag_content)||[]}),b=()=>f(e=>{var t,o;return null===(o=e.userProfileData)||void 0===o?void 0:null===(t=o.user_profile)||void 0===t?void 0:t.open_area}),S=()=>f(e=>e.openSchema),I=()=>f(e=>e.liveContainer),k=()=>f(e=>e.openVip),C=()=>f(e=>e.openFansClub),w=()=>f(e=>e.openGiftPanel),P=()=>f(e=>e.close),E=()=>f(e=>!!e.isPaidLinking),N=()=>f(e=>{var t,o;return null===(o=e.userProfileData)||void 0===o?void 0:null===(t=o.user_data)||void 0===t?void 0:t.web_rid}),A=()=>f(e=>{var t,o;return(0,n.jJ)(Number(null===(o=e.userProfileData)||void 0===o?void 0:null===(t=o.user_data)||void 0===t?void 0:t.mystery_man))}),T=()=>f(e=>!!e.isLinkMicManger),R=()=>f(e=>e.setFaceRecognitionShow),F=()=>f(e=>e.linkmicEvent),G=()=>f(e=>e.slardarEvent),M=()=>f(e=>!!e.inLinkMicSeats),x=()=>f(e=>e.functionType2),U=()=>f(e=>e.linkRoomType),V=()=>{let{anchorId:e,roomId:t,eventParams:o,targetUserType:n,targetUid:a,currentUid:u,pkStatus:s,channel_id:c,invite_mode:v,anchor_connect_status:_,pkTeamCount:p,pk_id:m}=f(e=>d()(e,["anchorId","roomId","eventParams","targetUserType","targetUid","currentUid","pkStatus","channel_id","invite_mode","anchor_connect_status","pkTeamCount","pk_id"])),g=()=>u===a?"audience_c_self":"anchor"===n?"audience_c_anchor":"guest"===n?"audience_c_guest":"audience_c_audience",h="audio"===U()?"voice_live":"",y=()=>{var n;return(0,i._)({anchor_id:e,room_id:t,enter_from_merge:(null===(n=window.__INVISIBLE_QUERY__)||void 0===n?void 0:n.enter_from_merge)||(0,r.yW)(),request_page:g(),enter_method:(0,l.Rs)("enter_method"),request_id:(0,l.Rs)("request_id"),to_user_id:a,action_type:"click",from_pk:s,channel_id:c,invite_mode:v,anchor_connect_status:_,pk_team_count:p,pk_id:m,live_type:h},o)};return{collectProfileEvent:(e,t)=>{window.collectEvent(e,(0,i._)({},y(),t))},getProfileCommonParams:y}},j=()=>{let{collectProfileEvent:e}=V();return t=>{e("livesdk_profile_card_function_click",{function_type:t})}},O=()=>{let e=(0,_.useRef)(null),t=(0,v.o)(),o=(e,o)=>(0,c.qs)((0,i._)({store:t,position:o},e));return{rectRef:e,handleOpenLiveUserProfileByRect:t=>{var i;let n=null===(i=e.current)||void 0===i?void 0:i.getBoundingClientRect();if(!!n)return o(t,{height:n.height,width:n.width,left:n.x,top:n.y})},handleOpenLiveUserProfileByEvent:(e,t)=>{let{clientX:i,clientY:n}=t;return o(e,{height:1,width:1,left:i,top:n})}}},D=()=>{let{collectProfileEvent:e}=V();return()=>{e("livesdk_anchor_room_manage_click",{user_type:"admin",is_anchor:"0",event_page:"live_detail",request_page:"personal_profile"})}},B=()=>{let{collectProfileEvent:e}=V();return()=>{e("livesdk_show_feedback_popup",{popup_title:"管理用户",is_anchor:"0",event_page:"live_detail"})}},$=()=>{let{collectProfileEvent:e}=V();return t=>{e("livesdk_click_feedback_popup",{button_name:t,popup_title:"管理用户",user_type:"admin",is_anchor:"0",event_page:"live_detail"})}},q=()=>{let{collectProfileEvent:e}=V();return t=>{e("livesdk_blocklist_toast_click",{action_type:t,popup_title:"管理用户",user_type:"admin",is_anchor:"0",event_page:"live_detail"})}}},461591:function(e,t,o){let i;o.d(t,{DS:function(){return y},Dy:function(){return g},Q5:function(){return L},o8:function(){return m},qs:function(){return p},u_:function(){return h},yX:function(){return b}});var n=o(520739),r=o(878389),l=o(368200);o(675373),o(527785);var a=o(563097);o(88648);var u=o(914104),d=o(944189),s=o(338426),c=o(543423),v=o(45087);let _=(0,s.ZP)(()=>Promise.all([o.e("28251"),o.e("264"),o.e("26848"),o.e("60770")]).then(o.bind(o,77055)));let f=(i=null,e=>{i&&i.close();let{position:t,popoverProps:o}=e,u=(0,l._)(e,["position","popoverProps"]),s=document.createElement("div");document.body.appendChild(s);let c=(0,d.createRoot)(s),f={close:()=>{var e;c.unmount(),null===(e=s.parentElement)||void 0===e||e.removeChild(s),i=null}};return c.render((0,a.jsx)("div",{children:(0,a.jsx)(_,(0,r._)((0,n._)({},u),{popoverProps:(0,r._)((0,n._)({},o),{defaultVisible:!0}),onClose:f.close,children:(0,a.jsx)("span",{className:v.Z.popHolder,style:t})}))})),i=f,f}),p=e=>{let{store:t}=e,o=(0,l._)(e,["store"]),i=(0,c.C)(t);return f((0,n._)({},i,o))},m=async(e,t)=>{try{let o=e.rightPanelStore.rootEl.getBoundingClientRect(),i={height:1,width:1,left:void 0===t.left?o.x:t.left,top:void 0===t.top?o.y:t.top};p((0,r._)((0,n._)({store:e},t),{popoverProps:{position:t.position||"leftTop"},targetUserType:"audience",position:i,clickSource:`h5_${t.source}`,needMask:!0}))}catch(e){(0,u.OK)().sendEvent({name:"JSBOpenProfileError",categories:{error:e,params:t}})}};var g={Follow:"follow",SendGift:"send_gift",ToOtherAnchor:"to_other_anchor",ProfileSetting:"profile_setting",PersonalCenter:"personal_center",FansGroup:"fans_group",At:"mention",Report:"report",Manage:"manage",Mute:"mute",SecondaryFollow:"secondary_follow",FlashSale:"flash_sale",Block:"block",Avatar:"avatar",UserName:"user_name",SmallShopEntrance:"small_shop_entrance",TakeLive:"take_live"},h={PayGrade:"pay_grade",FansClub:"fans_club",GiftHome:"gift_home",Subscription:"subscription",DressSuit:"dress_suit",ShopFansClub:"shop_fans_club",HighScoreSong:"high_score_song",PK:"pk",Match:"match",GiftExhibitionBanner:"gift_exhibition_banner",Shop:"shop",LocalLife:"local_life"},y={SendGift:"send_gift",LinkMic:"link_mic",Like:"like",FlashShopping:"flash_shopping",AnchorUserRelation:"anchor_user_relation",PotentialAnchorUserRelation:"potential_anchor_user_relation",AdventureInvite:"adventure_invite",AdventureList:"adventure_list",More:"more",Comment:"comment",GetSameDressButton:"get_same_dress_button",EnterEffectFloatShow:"enter_effect_float_show",GiftTrayFloatShow:"gift_tray_float_show",VisitorEntrance:"visitor_entrance"},L={LiveAnchorRankHonor:"live_anchor_rank_honor",AuthInfo:"auth_info",WhiteCategoryCert:"white_category_cert",IndustryCertification:"industry_certification",Admin:"admin",ContributorRank:"contributor_rank",CardInterCom:"card_inter_com",GenderAndAge:"gender_and_age",LocationInfo:"location_info",SchoolInfo:"school_info",FollowInfo:"follow_info",Poi:"poi"};let b=e=>[g,h,y,L].reduce((t,o,i)=>{let l=`function_list_${i+1}`,a=Object.values(o).filter(t=>{var o;return!!(null==e?void 0:null===(o=e.getElementsByClassName(t))||void 0===o?void 0:o.length)}).join("|");return(0,r._)((0,n._)({},t),{[l]:a})},{})},683571:function(e,t,o){o.d(t,{Ad:function(){return r},F4:function(){return a},HW:function(){return _},Ox:function(){return s},Rr:function(){return d},cM:function(){return l},dc:function(){return u},jJ:function(){return v},qH:function(){return c}}),o(284961),o(826893),o(897860);var i=o(493288),n=o.n(i),r={Unknown:0,0:"Unknown",toAudience:1,1:"toAudience",toAnchor:2,2:"toAnchor",toOtherAnchor:3,3:"toOtherAnchor",toSelf:4,4:"toSelf"};let l=e=>{let{currentUid:t,targetUid:o,targetIsAnchor:i,currentAnchorId:n}=e;return t===o?4:i?o===n?2:3:1},a=e=>2===e,u=e=>3===e;var d={Level:1,1:"Level",FansClub:2,2:"FansClub",Exhibition:3,3:"Exhibition",Vip:4,4:"Vip",Dress:5,5:"Dress",ShoppingFansClub:6,6:"ShoppingFansClub",HighScoreSongList:8,8:"HighScoreSongList"};let s=e=>2===e,c=e=>3===e,v=e=>2===e,_=n()(e=>{try{e.length<9&&(e=e.replace("#","#FF"));let t=parseInt(e.slice(1,3),16)/255,o=parseInt(e.slice(3,5),16),i=parseInt(e.slice(5,7),16),n=parseInt(e.slice(7,9),16);return`rgba(${o}, ${i}, ${n}, ${t})`}catch(e){return}})},543423:function(e,t,o){o.d(t,{C:function(){return p},V:function(){return m}});var i=o(520739);o(675373),o(250440);var n=o(563097);o(88648);var r=o(709606),l=o(53562),a=o(338426),u=o(818597),d=o(379890),s=o(645260),c=o.n(s),v=o(54992),_=o(976167);let f=(0,a.ZP)(()=>Promise.all([o.e("28251"),o.e("264"),o.e("26848"),o.e("60770")]).then(o.bind(o,77055))),p=e=>{var t,o,i,n;let{roomStore:{roomInfo:l},userStore:{userInfo:a},activityIndicatorStore:{JSBInstance:u},vipStore:{setIsShowVipPanel:s},fansClubStore:{setFansClubShowStatus:f},linkmicStore:{linkRoomType:p,functionType2:m,setChoosePeopleAll:g,setChoosePeopleArr:h,setFaceRecognitionShow:y,linkMicSeatsRaw:L,groupLiveMemberList:b=[],isPaidLinking:S},singletonStore:{liveContainer:I},giftStore:{setGiftPanelShowFrom:k,setGiftPanelSwitchStatus:C},pkStore:{pkUserIdList:w,pkStatus:P,pkAppData:E,pkTeamCount:N,pkPlayMode:A,pkId:T,pkListData:R},eventStore:{linkmicEvent:F,slardarEvent:G}}=e,M=null==l?void 0:null===(t=l.anchor)||void 0===t?void 0:t.id_str,x=c()(R,"battle_stats.battle_settings.battle_config_setting.team_mode",0);return{anchorId:M,secAnchorId:null==l?void 0:null===(o=l.anchor)||void 0===o?void 0:o.sec_uid,roomId:null==l?void 0:null===(i=l.room)||void 0===i?void 0:i.id_str,currentUid:null==a?void 0:a.id_str,currentSecUid:null==a?void 0:a.sec_uid,openSchema:u.openScheme,liveContainer:I,setFaceRecognitionShow:y,linkmicEvent:F,slardarEvent:G,linkRoomType:p,functionType2:m,isPaidLinking:S,pkStatus:P,team_mode:x,channel_id:null==E?void 0:E.channelId,invite_mode:A,anchor_connect_status:(null==E?void 0:null===(n=E.grids)||void 0===n?void 0:n.length)||-1,pkTeamCount:N,pk_id:T,openVip:()=>{(0,_.Z)("personal_profile")},openFansClub:()=>{f({isShow:!0,source:"profile"})},openGiftPanel:e=>{null==g||g(!1),null==h||h([e]),null==k||k("profile"),null==C||C(r.nN.OPEN_GIFT)},checkIsGuestUser:e=>e!==M&&(w.includes(e)||Object.values(L).some(t=>{var o,i;return(null==t?void 0:null===(i=t.user)||void 0===i?void 0:null===(o=i.user)||void 0===o?void 0:o.id_str)===e})),checkCanShowProfile:e=>{var t,o,i,n;let r=null==l?void 0:l.room;if(null==r?void 0:null===(t=r.room_auth)||void 0===t?void 0:t.UserCard)return!0;let u=null==a?void 0:a.id_str,d=null==a?void 0:null===(o=a.user_attr)||void 0===o?void 0:o.is_admin;if(d||e===M||e===u||u===M)return!0;let s=!!(null==r?void 0:null===(n=r.others)||void 0===n?void 0:null===(i=n.group_live_data)||void 0===i?void 0:i.is_group_live),c=b.some(t=>{var o;return(null==t?void 0:null===(o=t.user)||void 0===o?void 0:o.id_str)===e});return s&&c},isLinkMicManger:(()=>{var e,t;let o=null==a?void 0:null===(e=a.user_attr)||void 0===e?void 0:e.is_admin,i=(null==a?void 0:null===(t=a.user_attr)||void 0===t?void 0:t.admin_privileges)||[];return o&&i.includes(d.s.LinkMicPrivilege)})(),store:e,beforeFetchData:(0,v.s1)(e)}},m=(0,l.Pi)(e=>{let t=(0,i._)({},p((0,u.o)()),e);return(0,n.jsx)(f,(0,i._)({},t))})},294452:function(e,t,o){o.d(t,{P:function(){return i}});var i={Success:1,1:"Success",Failed:0,0:"Failed",InvalidParam:-3,"-3":"InvalidParam"}},358625:function(e,t,o){o.d(t,{Fy:function(){return l},Jn:function(){return r},LQ:function(){return d},Oo:function(){return a},PO:function(){return c},VP:function(){return v},ZV:function(){return u},yQ:function(){return s}}),o(927234);var i=o(914104);let n=e=>{let t=(0,i.OK)();null==t||t.sendEvent(e)},r=e=>{let{name:t,type:o="landPage",params:i}=e;n({name:"activity_indicator_jsb_not_support",categories:{name:t,type:o,params:i}})},l=e=>{n({name:"activity_indicator_script_load_error",categories:{rootID:e}})},a=e=>{n({name:"activity_indicator_script_execute_error",categories:{rootID:e}})},u=e=>{let{name:t,type:o="landPage",params:i}=e;n({name:"activity_indicator_jsb_error",categories:{name:t,type:o,params:i}})},d=e=>{let{name:t,type:o="landPage",params:i}=e;n({name:"activity_indicator_jsb_callback_error",categories:{name:t,type:o,params:i}})},s=e=>{let{name:t,type:o="landPage",params:i}=e;n({name:"activity_indicator_jsb_call",categories:{name:t,type:o,params:i}})},c=e=>{let{status:t,statusCode:o,url:i}=e;n({name:"activity_indicator_jsb_open_scheme",categories:{status:t,statusCode:null==o?void 0:o.toString(),url:i}})},v=e=>{let{bannerId:t,noDom:o,bannerName:i}=e;n({name:"activity_can_not_load_slave",categories:{bannerId:t,noDom:o,bannerName:i}})}},119320:function(e,t,o){o.d(t,{Kj:function(){return u},Qg:function(){return v},cC:function(){return _},fh:function(){return d},ox:function(){return a},yG:function(){return s},zr:function(){return c}});var i=o(368200);o(413806),o(826893),o(429532),o(268917);var n=o(645260),r=o.n(n),l=o(567754);let a=e=>{var t,o;let i={};try{i=JSON.parse(null!==(o=e.extra)&&void 0!==o?o:"{}")}catch(e){}return{id:Number(e.id),frameType:Number(e.frame_type),scriptSrc:i.scriptSrc||"",key:i.id||"",imgUrl:(null==e?void 0:null===(t=e.image)||void 0===t?void 0:t.url_list)?e.image.url_list[Math.round(Math.random()*(e.image.url_list.length-1))]:"",scheme:e.schema_url||"",rootId:i.rootId||"",pageUrl:i.pageUrl||"",extra:i}},u=e=>{var t,o,i,n,l,a,u,d;return{room_id:r()(e,"roomStore.roomInfo.roomId",""),user_id:r()(e,"userStore.userInfo.id_str",""),sec_user_id:r()(e,"userStore.userInfo.sec_uid",""),anchor_id:r()(e,"roomStore.roomInfo.anchor.id_str",""),anchor_id_str:r()(e,"roomStore.roomInfo.anchor.id_str",""),sec_anchor_id:r()(e,"roomStore.roomInfo.anchor.sec_uid",""),enter_from_merge:null===(o=window)||void 0===o?void 0:null===(t=o.__INVISIBLE_QUERY__)||void 0===t?void 0:t.enter_from_merge,request_id:null===(n=window)||void 0===n?void 0:null===(i=n.__INVISIBLE_QUERY__)||void 0===i?void 0:i.request_id,enter_method:null===(a=window)||void 0===a?void 0:null===(l=a.__INVISIBLE_QUERY__)||void 0===l?void 0:l.enter_method,user_unique_id:r()(e,"userStore.odin.user_unique_id",""),action_type:(null===(d=window)||void 0===d?void 0:null===(u=d.__INVISIBLE_QUERY__)||void 0===u?void 0:u.action_type)||"click"}},d=(e,t,o)=>{let i=u(t),n=e.split("?"),r=l.parse(n[1]),a=l.stringify(Object.assign(r,i,o));return`${n[0]}?${a}`},s="__ACT_CARBON_KEY__",c="__TASK_CARBON_KEY__",v={add(e){var t;let{type:o,data:i}=e,n=window["act"===o?s:c];null==n||null===(t=n.emit)||void 0===t||t.call(n,"add",{bannerInfo:i,initData:"",isLast:!0})},refresh(e){var t;let{type:o,data:i,initData:n}=e,r=window["act"===o?s:c];null==r||null===(t=r.emit)||void 0===t||t.call(r,"add",{bannerInfo:i,initData:n||"",isLast:!0})},mockMessage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{__MESSAGE_INSTANCE__:t}=window;t&&t.mock,e.forEach(e=>t.mock(e.method,e))}},_=e=>{let t={};e.forEach(e=>{let{scriptSrc:o,key:n}=e,r=(null==o?void 0:o.indexOf("protocol_id"))>-1,l=(null==o?void 0:o.indexOf("externalJsList"))>-1,a=[];if(t[n]=a,l||r){let t=o.split("?")[0]||o;try{let u=function(e){let t={};try{if(e.indexOf("?")>-1){let o=e.split("?");o.shift(),o.forEach(e=>{e.split("&").forEach(e=>{let o=e.split("=");t[o[0]]=decodeURIComponent(o[1])||null})})}}catch(e){}return t}(o),{externalJsList:d="[]"}=u,s=(0,i._)(u,["externalJsList"]);r&&(window[`__protocol_${e.key}__`]=s,t=`${t}?key=${n}`);let c=JSON.parse(d);l&&Array.isArray(c)&&c.length>0&&c.forEach(e=>{let{name:t,url:o}=e;a.every(e=>e.name!==t)&&!window[t]&&a.push({name:t,url:o})})}catch(e){}}}),window.__SCRIPT_MAP__=t}},466576:function(e,t,o){o.d(t,{T:function(){return ek},D:function(){return eI}});var i=o("134761"),n=o("520739");o("675373"),o("413806"),o("826893"),o("429532"),o("874386");var r=o("434144"),l=o("565024"),a=o("987475"),u=o("66627"),d=o("370612"),s=o("878389");o("284961");var c=o("919195"),v=o("90842"),_=o("645260"),f=o.n(_),p=(e,t,o)=>{let i=async(t,o)=>{let{data:i,params:r,headers:l,url:a="",method:u="GET"}=o;try{let t=(0,v.Kj)(e)||{},o=(0,n._)({},r);Object.keys(o).forEach(e=>{(""===o[e]||void 0===o[e])&&delete o[e]});let m=(0,s._)((0,n._)({},t,o),{aid:6383}),g=await (0,c.IZ)({url:a.replace(/^https?:\/\/[^/]+/,""),method:u,headers:l,data:i,params:m});if(a.indexOf("/webcast/gift/exhibition/home/")>0){let t=null==e?void 0:e.roomStore,o=f()(t,"roomInfo.anchor.id_str"),i=f()(t,"roomInfo.anchor.nickname","");if((null==r?void 0:r.anchor_id)===o&&(null==r?void 0:r.target_open_id)===o&&i){var _,p;(null==g?void 0:null===(p=g.data)||void 0===p?void 0:null===(_=p.data)||void 0===_?void 0:_.anchor_name)&&(g.data.data.anchor_name=i)}}return(0,d.Vp)({data:{raw:null==g?void 0:g.data},response:null==g?void 0:g.data},"success")}catch(e){return(0,d.bG)(d.MU.FAIL,"fail",(0,v.VK)(e))}};t("fetch",async(t,o)=>{let{data:i,params:r,headers:l,url:a="",method:u="GET"}=o;try{let t=(0,v.Kj)(e)||{},o=(0,n._)({},r);Object.keys(o).forEach(e=>{(""===o[e]||void 0===o[e])&&delete o[e]});let m=(0,s._)((0,n._)({},t,o),{aid:6383}),g=await (0,c.IZ)({url:a.replace(/^https?:\/\/[^/]+/,""),method:u,headers:l,data:i,params:m});if(a.indexOf("/webcast/gift/exhibition/home/")>0){let t=null==e?void 0:e.roomStore,o=f()(t,"roomInfo.anchor.id_str"),i=f()(t,"roomInfo.anchor.nickname","");if((null==r?void 0:r.anchor_id)===o&&(null==r?void 0:r.target_open_id)===o&&i){var _,p;(null==g?void 0:null===(p=g.data)||void 0===p?void 0:null===(_=p.data)||void 0===_?void 0:_.anchor_name)&&(g.data.data.anchor_name=i)}}return(0,d.Vp)({data:{raw:null==g?void 0:g.data},raw:null==g?void 0:g.data},"success")}catch(e){return(0,d.bG)(d.MU.FAIL,"fail",(0,v.VK)(e))}}),t("x.request",i)},m=o("613063"),g=o.n(m);let h="activity_indicator_jsb",y={};var L=(e,t,o)=>{var i;let n=async(e,t)=>{let{key:o,value:i}=t;try{return localStorage.setItem(`${h}_${o}`,i),(0,d.Vp)()}catch(e){return(0,d.bG)(d.MU.FAIL,"fail")}},r=async(e,t)=>{let{key:o}=t;try{var i;return(0,d.Vp)({value:null!==(i=localStorage.getItem(`${h}_${o}`))&&void 0!==i?i:""})}catch(e){return(0,d.bG)(d.MU.FAIL,"fail",{value:void 0})}},l=async(e,t)=>{let{key:o}=t;try{return localStorage.removeItemItem(`${h}_${o}`),(0,d.Vp)()}catch(e){return(0,d.bG)(d.MU.FAIL,"fail")}},a=async(e,t)=>{let{keys:o}=t,i={};return o&&0!==o.length?(o.forEach(e=>{let t=f()(y,e);void 0!==t&&g()(i,e,t)}),(0,d.Vp)(i)):(0,d.bG)(d.MU.FAIL,"fail")};(null===(i=window)||void 0===i?void 0:i.abTestData)&&g()(y,"abTestData",window.abTestData),t("setStorage",n),t("getStorage",r),t("removeStorage",l),t("__getCurrentState",a)},b=o("828782"),S=(e,t,o)=>{let i=async(t,o)=>{try{let{roomStore:t}=e;return(0,d.Vp)({anchor_info:{nickname:f()(t,"roomInfo.anchor.nickname","")}})}catch(o){let{roomStore:t}=e;return(0,d.bG)(d.MU.FAIL,"",{anchor_info:{nickname:f()(t,"roomInfo.anchor.nickname","")}})}},n=async(t,o)=>{var i,n,r,l,a;let{userStore:{userInfo:u},roomStore:{roomInfo:s}}=e,c={avatar:null==u?void 0:null===(n=u.avatar_large)||void 0===n?void 0:null===(i=n.url_list)||void 0===i?void 0:i[0],nickname:null==u?void 0:u.nickname,sec_user_id:null==u?void 0:u.sec_uid,short_id:null==u?void 0:u.short_id,user_id:null==u?void 0:u.user_id_str,user_level:null==u?void 0:u.level,user_type:"",display_id:null==u?void 0:u.display_id},{anchor:v}=s,_={avatar:null==v?void 0:null===(l=v.avatar_thumb)||void 0===l?void 0:null===(r=l.url_list)||void 0===r?void 0:r[0],nickname:null==v?void 0:v.nickname,short_id:null==v?void 0:v.id_str,user_id:null==v?void 0:v.id_str,sec_user_id:null==v?void 0:v.sec_uid,anchor_level:void 0,anchor_type:void 0,display_id:void 0},f={room_id:null==s?void 0:s.roomId,room_layout:1,is_paidlive:!1,live_room_mode:(null==s?void 0:null===(a=s.room)||void 0===a?void 0:a.live_room_mode)||"0",game_points_playing:2,quiz_game_points_playing:2,is_life:!1};return(0,d.Vp)({user_info:c,room_info:f,anchor_info:_,__data:{user_info:c,room_info:f,anchor_info:_}})},r=async(t,o)=>{try{var i,n,r,l;let{userStore:t}=e,{userInfo:o,odin:a}=t,u={userInfo:{userID:null==o?void 0:o.user_id_str,nickName:null==o?void 0:o.nickname,avatarURL:null==o?void 0:null===(n=o.avatar_large)||void 0===n?void 0:null===(i=n.url_list)||void 0===i?void 0:i[0],secUserID:null==o?void 0:o.sec_uid,shortID:null==o?void 0:o.short_id},user_id:null==a?void 0:a.user_id,short_id:null==o?void 0:o.short_id,sec_user_id:null==o?void 0:o.sec_uid,nickname:null==o?void 0:o.nickname,avatar:null==o?void 0:null===(l=o.avatar_large)||void 0===l?void 0:null===(r=l.url_list)||void 0===r?void 0:r[0],is_silent:void 0,douyin_uid:null==o?void 0:o.short_id,is_login:null==a?void 0:a.user_is_login};if((null==a?void 0:a.user_is_login)===1)return(0,d.Vp)(u);return(0,d.bG)(d.MU.FAIL,"fail",u)}catch(e){return(0,d.bG)(d.MU.FAIL,"fail",{userInfo:{userID:""}})}},l=async(t,o)=>{try{var i,n;let{userStore:t}=e,{userInfo:o}=t,r=(null==o?void 0:o.id_str)||(null==o?void 0:o.sec_uid)||(null==o?void 0:o.short_id),l={isLogin:!!r,is_login:!!r,userInfo:{userID:null==o?void 0:o.id_str,nickName:null==o?void 0:o.nickname,avatarURL:null==o?void 0:null===(n=o.avatar_large)||void 0===n?void 0:null===(i=n.url_list)||void 0===i?void 0:i[0],secUserID:null==o?void 0:o.sec_uid,shortID:null==o?void 0:o.short_id}};if(r)return(0,d.Vp)(l);return(0,d.bG)(d.MU.FAIL,"fail",l)}catch(e){return(0,d.bG)(d.MU.FAIL,"fail",{userInfo:{userID:""}})}};t("getAppInfo",async(t,o)=>{try{let{userStore:{odin:t}}=null!=e?e:{userStore:{}};return(0,d.Vp)({aid:"6383",user_id:null==t?void 0:t.user_id,device_id:null==t?void 0:t.user_unique_id,is_mas:!!(0,b.xo)(),appID:"6383"})}catch(e){return(0,d.bG)(d.MU.FAIL)}}),t("getBaseInfo",i),t("baseInfo",n),t("userInfo",r),t("getUserInfo",l),t("x.getUserInfo",l)},I=o("967747"),k=o("119320"),C=(e,t,o)=>{t("sendLogV3",(t,o)=>{let{eventName:i,params:r}=o;try{return window.collectEvent(i,(0,n._)({},(0,I.m6)(),(0,k.Kj)(e),r)),(0,d.Vp)()}catch(e){return(0,d.bG)(d.MU.FAIL)}})},w=o("509090"),P=o("441447"),E=o("567754"),N=o("130459"),A=o("358625"),T=o("294452"),R=o("197911"),F=o("709606"),G=o("461591"),M=(e,t,o)=>{let i=(e,t)=>{let{title:o,cancelText:i,confirmText:n,content:r,showCancel:l=!0}=t,{showModal:a}=(0,N.t)({});return new Promise(e=>{a({title:o,content:r,confirmBtnText:n,closeBtnText:i,onConfirm:()=>{e((0,d.Vp)({cancel:!1,confirm:!0}))},onClose:()=>{e((0,d.Vp)({cancel:!0,confirm:!1}))},showCancel:l})})},r=async(t,o)=>{let{url:i,_reset:n=!1,_noReset:r=!1,forceCover:l=!1}=o;if(-1!==i.indexOf("sslocal://lynxview?")){var a;return null===(a=e.singletonStore.liveContainer)||void 0===a||a.openLandPage({url:i,reset:!1,forceCover:l}),(0,d.Vp)()}if(-1!==i.indexOf("sslocal://webcast_redirect?entry=gold_gift"))try{let t=null==e?void 0:e.roomStore,o=null==e?void 0:e.userStore,i=null==e?void 0:e.activityIndicatorStore,n=f()(t,"roomInfo.roomId"),r=f()(t,"roomInfo.anchor.id_str"),l=f()(t,"roomInfo.anchor.sec_uid"),a=f()(o,"userInfo.id_str"),u=f()(o,"userInfo.sec_uid"),s=null==i?void 0:i._getGoldActLandUrl;return(null==i?void 0:i.setCurrentLandPage)([s({anchorId:r,secAnchorId:l,userId:a,secUserId:u,roomId:n})]),(0,d.Vp)()}catch(e){return(0,d.bG)(d.MU.FAIL)}try{let t=await (0,v.L7)(i);if(!t)return w.F.info("打开失败，请重试"),"boolean"==typeof t?(0,A.PO)({status:"1",statusCode:T.P.Failed,url:t+""}):(0,A.PO)({status:"2",statusCode:T.P.Failed,url:t}),(0,d.bG)(d.MU.FAIL);(0,A.PO)({statusCode:T.P.Success,status:"0",url:t});let{url:o}=E.parse(t.split("?")[1]),l=(0,k.fh)(o,e,(()=>{let e={__isDouyinPC:"true"};try{let t=E.parse(i.split("?")[1]);if("string"==typeof t.url_query){let o=E.parse(decodeURIComponent(t.url_query));Object.assign(e,o)}}catch(e){}return e})()),a=e.activityIndicatorStore.currentLandPage.indexOf(l);if(a>=0){let t=[...e.activityIndicatorStore.currentLandPage];return t.splice(a,1),e.activityIndicatorStore.setCurrentLandPage(t,r),(0,d.Vp)()}return n?e.activityIndicatorStore.setCurrentLandPage([l],r):e.activityIndicatorStore.setCurrentLandPage([...e.activityIndicatorStore.currentLandPage,l],r),(0,d.bG)(d.MU.FAIL)}catch(e){return(0,d.bG)(d.MU.FAIL)}},l=async(e,t)=>r(e,(0,n._)({url:null==t?void 0:t.schema},t)),a=async(t,o)=>{let{url:i,pcNotClose:n}=o;try{let t=(0,k.fh)(i,e,{});return t=`${t}&__isDouyinPC=true`,n?e.activityIndicatorStore.setCurrentLandPage([...null==e?void 0:e.activityIndicatorStore.currentLandPage,t],!0):e.activityIndicatorStore.setCurrentLandPage([t]),(0,d.Vp)()}catch(e){return(0,d.bG)(d.MU.FAIL)}},u=async(t,l)=>{var a,u,s,c,v,_,f,p,m,g,h,y,L,b,S,I,k,C,w;if("scheme"===l.type){if(!(null==l?void 0:null===(a=l.args)||void 0===a?void 0:a.url))return(0,d.bG)(d.MU.FAIL);let e=null==l?void 0:null===(s=l.args)||void 0===s?void 0:null===(u=s.url)||void 0===u?void 0:u.split("?");if(e[0].indexOf("webcast_room")>=0){let t=E.parse(e[1]||"");return t.web_rid&&window.open(`https://live.douyin.com/${t.web_rid}`),(0,d.Vp)()}return await r(t,{url:l.args.url,_noReset:null==l?void 0:null===(c=l.args)||void 0===c?void 0:c._noReset})}if("room"===l.type)return(null==l?void 0:null===(v=l.args)||void 0===v?void 0:v.web_rid)&&window.open(`/${l.args.web_rid}`),(0,d.Vp)();if("gift_panel"===l.type){let n=null==l?void 0:l.gift_id,r=null==l?void 0:l.is_send_gift,a=null==l?void 0:null===(_=l.gift_log_extra)||void 0===_?void 0:_.gift_source,u=(0,R.mS)(n,e.giftStore.giftList);if(n&&r&&(null==u?void 0:u.id))i(t,{title:"",content:`送出1个${u.name}(${u.price}钻)`,confirmText:"确定",showCancel:!0,cancelText:"取消"}).then(e=>{var i,r;(null==e?void 0:e.code)===d.MU.SUCCESS&&(null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.confirm)&&(null==o||o.sendGift(t,{gift_id:n,gift_count:1,gift_source:a,to_user_id:null==l?void 0:null===(r=l.args)||void 0===r?void 0:r.user_id}))});else{e.giftStore.setGiftPanelSwitchStatus(l.page_type?F.nN.OPEN_BY_PAGE_TYPE:F.nN.OPEN_GIFT);let o=(null===(f=t.globalProps)||void 0===f?void 0:f.resolvedUrl)||"";l.page_type&&(null==e||e.giftStore.setCurrentPageType(l.page_type)),e.linkmicStore.isGroupLive&&o.indexOf("compete_card_pc.json")>0&&(null==l?void 0:null===(p=l.args)||void 0===p?void 0:p.user_id)&&(e.linkmicStore.setChoosePeopleArr([null==l?void 0:null===(m=l.args)||void 0===m?void 0:m.user_id]),P.emit(P.EVENT.selectGroupLiveAnchor,[null==l?void 0:null===(g=l.args)||void 0===g?void 0:g.user_id]))}return(0,d.Vp)()}if("login_panel"===l.type)return await o.openLoginPanel(t,l.args);if("profile"===l.type){let{user_id:o,sec_uid:i,sec_user_id:r,source:a="",mystery_man:u}=l.args||{};if(((null===(h=t.globalProps)||void 0===h?void 0:h.resolvedUrl)||"").indexOf("compete_card_pc.json")>0&&e.linkmicStore.groupliveProfileSlot){let t=e.linkmicStore.groupliveProfileSlot.getBoundingClientRect();(0,G.o8)(e,(0,n._)({targetUid:o,secTargetUid:r||i,source:a,position:"bottom",left:t.x,top:t.y,skipPrivacyCheck:"true"===String((null==l?void 0:null===(y=l.args)||void 0===y?void 0:y.skip_privacy_check)||!1)},void 0!==u?{targetDisplayRole:Number(u)}:{}))}else(0,G.o8)(e,(0,n._)({targetUid:o,secTargetUid:r||i,source:a,skipPrivacyCheck:"true"===String((null==l?void 0:null===(L=l.args)||void 0===L?void 0:L.skip_privacy_check)||!1)},void 0!==u?{targetDisplayRole:Number(u)}:{}));return(0,d.Vp)()}if("charge"===l.type)return o.openLiveRecharge(t,l),(0,d.Vp)();if("open_pc_package"===l.type)return(null==e?void 0:null===(b=e.giftStore)||void 0===b?void 0:b.giftPanelSwitchStatus)===F.nN.NO_CONTROL||(null==e?void 0:null===(S=e.giftStore)||void 0===S?void 0:S.giftPanelSwitchStatus)===F.nN.CLOSE?null==e||null===(I=e.giftStore)||void 0===I||I.setGiftPanelSwitchStatus(F.nN.OPEN_PROP):null==e||null===(k=e.giftStore)||void 0===k||k.setGiftPanelSwitchStatus(F.nN.CLOSE),(0,d.Vp)();if("lynx"===l.type){if(!(null==l?void 0:null===(C=l.args)||void 0===C?void 0:C.url))return{code:T.P.Failed};try{let t=decodeURIComponent(l.args.url),o=E.parse(t.split("?")[1]).url,i=t.split("?")[2]||"",n=E.parse(i);return null==e||null===(w=e.singletonStore.liveContainer)||void 0===w||w.openLandPage({url:`sslocal://lynxview?url=${o}`,extraParams:n,reset:!0}),{code:T.P.Success}}catch(e){return{code:T.P.Failed}}}return o.pcNotSupport("openLive",l.type),(0,d.bG)(d.MU.FAIL)};t("showModal",i),t("openScheme",r),t("openSchema",l),t("openUrl",a),t("openLive",u),t("x.open",(e,t)=>(null==t?void 0:t.schema)?r(e,{url:t.schema,_reset:null==t?void 0:t.replace}):(0,d.bG)(d.MU.FAIL)),t("openVipEmojiPanel",()=>{try{var t,o;null==e||null===(o=e.vipStore)||void 0===o||null===(t=o.emojiPanelRef)||void 0===t||t.show("vipEmoji"),(0,d.Vp)({})}catch(e){(0,d.bG)({})}})},x=(e,t,o)=>{t("privilege_wear_notification",async(e,t)=>(window.location.reload(),(null==t?void 0:t.toast_text)&&w.F.info(null==t?void 0:t.toast_text),(0,d.Vp)())),t("toast",(e,t)=>{let{text:o}=t;try{return w.F.info(o),(0,d.Vp)()}catch(e){return(0,d.bG)(d.MU.FAIL)}})},U=(e,t,o)=>{t("close",(t,o)=>{let{url:i}=o,n=i;if(!n){var r;n=null==t?void 0:null===(r=t.globalProps)||void 0===r?void 0:r.originUrl}let{activityIndicatorStore:{closeLandPage:l}}=e;return l(n),(0,d.Vp)()})};o("779788"),o("268917");var V=o("623527"),j=o("847191"),O=o("874005"),D=o("104013"),B=o("669417"),$=o("668363"),q=(e,t,o)=>{let i=async(t,i)=>{let{gift_id:r,gift_count:l,gift_source:a,args:u,gift_buff_level:c=0,to_user_id:v,send_scene:_=1,send_type:p=4}=i;try{var m,g,h,y,L,S,I,k,C,E,N,A,T,F,G,M,x,U,j,D,$,q,K,J,H,W,Q,Y,Z;let i;let{userStore:{userInfo:_},roomStore:{roomInfo:z},rechargeStore:{rechargeAuthStatus:X}}=e;if(!l)return(0,d.bG)(d.MU.FAIL);let ee=v||f()(z,"anchor.id_str"),et=f()(z,"room.id_str");if(f()(_,"id_str")===ee)return w.F.info("不可为自己送礼"),(0,d.bG)(d.MU.FAIL);let eo=u?{plugin_id:JSON.stringify(u.plugin_id),plugin_info:JSON.stringify(u.plugin_info),toolbar_card_name:u.toolbar_card_name}:{},ei=null!==(y=null==u?void 0:u.extra)&&void 0!==y?y:void 0;if(!et)return(0,d.bG)(d.MU.FAIL);let en={gift_id:r,count:l,room_id:et,to_room_id:et,to_user_id:ee,to_user_ids:"",send_type:p,send_scene:(null==e?void 0:null===(m=e.linkmicStore)||void 0===m?void 0:m.isGroupLive)?128:1,gift_source:0};B.kg.event("activity_indicator_send_gift",(0,s._)((0,n._)({},en),{is_client:(0,b.DT)()}));let er=await (0,O.hF)((0,s._)((0,n._)((0,s._)((0,n._)({},en),{buff_level:c,tags_extra:(e=>{try{return JSON.stringify(e)}catch(e){return JSON.stringify({})}})({gift_source:a}),to_episode_id:f()(z,"room.episode_extra.episode_id_str",0)||0}),eo),{extra:ei}));try{let e=(null==er?void 0:null===(L=er.data)||void 0===L?void 0:L.data.diy_item_info)||"{}";i=JSON.parse(e)}catch(e){}let el=null==er?void 0:null===(g=er.data)||void 0===g?void 0:g.status_code,ea=await O.sb({});if(0===el){let u=f()(e,"giftStore.giftList",[]),d=f()(e,"giftStore.effectList",[]),s=(0,R.mL)(f()(er.data,"data"),u,d,_,i,l);null==e||null===(I=e.giftStore)||void 0===I||null===(S=I.setGiftMessages)||void 0===S||S.call(I,s);let{data:c,logId:v}=ea,p=f()(c,"status_code");if(0===p){let t=f()(c,"data.diamond",0);null==e||null===(T=e.giftStore)||void 0===T||null===(A=T.setBalance)||void 0===A||A.call(T,t)}else B.kg.event(`[${V.Tn.Error}]${V.Mo.LiveBalanceError}`,(0,n._)({statusCode:p,logId:null!=v?v:"",is_client:(0,b.DT)()},c)),w.F.info(f()(c,"data.prompts","获取余额失败，请稍后重试")),B.kg.error("获取余额失败",c,v);o.publishEvent(t,{eventName:"H5_sendGiftStatusChange",params:{gift_list:[{gift_id:Number(r),count:l}]}}),null==e||null===(C=e.eventStore)||void 0===C||null===(k=C.giftEvent)||void 0===k||k.liveGiftSendEvent({gift_id:r,combo_cnt:f()(er.data,"data.combo_count"),group_cnt:f()(er.data,"data.group_count"),gift_source:a,money_per_unit:f()(er.data,"data.gift_struct.diamond_count"),gift_cnt:l,money:l*f()(er.data,"data.gift_struct.diamond_count"),is_fans_club_gift:"0",to_user_id:f()(z,"anchor.id_str"),full_seats_cnt:1,is_from_container:0}),null==e||null===(N=e.eventStore)||void 0===N||null===(E=N.giftEvent)||void 0===E||E.liveConsumeEvent({statusCode:el,amount:l*f()(er.data,"data.gift_struct.diamond_count"),is_client:(0,b.DT)(),type:"gift_send"})}else if(B.kg.event(`[${V.Tn.Error}]${V.Mo.LiveGiftSendCodeNotZero}`,(0,n._)({statusCode:el,logId:null!==(F=null==er?void 0:er.logId)&&void 0!==F?F:"",is_client:(0,b.DT)()},null==er?void 0:er.data)),20003===el)await (0,R.m8)("登录后即可送礼","live_gift");else if(40001===el){if(!X)return(0,d.Vp)({error_code:null==er?void 0:null===(D=er.data)||void 0===D?void 0:D.status_code});let t=(null==e?void 0:null===(x=e.giftStore)||void 0===x?void 0:null===(M=x.giftList)||void 0===M?void 0:null===(G=M.find(e=>Number(e.id)===Number(r)))||void 0===G?void 0:G.price)||0;null==e||null===(j=e.giftStore)||void 0===j||null===(U=j.handleRecharge)||void 0===U||U.call(j,{type:"balance",balance:t-e.giftStore.balance,amount:t})}else 42201===el?w.F.info("为保障账号和资金安全，请先前往抖音app完成身份验证"):42202===el?w.F.info("为保障账号和资金安全，请先前往抖音app完成身份核对"):(w.F.info((null==er?void 0:null===(q=er.data)||void 0===q?void 0:null===($=q.data)||void 0===$?void 0:$.prompts)||"送礼失败，请稍后重试"),B.kg.event(`[${V.Tn.Error}]${V.Mo.LiveSendGiftError}`,(0,n._)({statusCode:el,logId:null!==(K=null==er?void 0:er.logId)&&void 0!==K?K:"",is_client:(0,b.DT)()},null==er?void 0:er.data)));if((null==er?void 0:null===(h=er.data)||void 0===h?void 0:h.status_code)===40001)return w.F.info("余额不足，请充值后再试"),(0,d.Vp)({error_code:null==er?void 0:null===(J=er.data)||void 0===J?void 0:J.status_code});{let o=(null===(H=t.globalProps)||void 0===H?void 0:H.resolvedUrl)||"";return e.linkmicStore.isGroupLive&&o.indexOf("compete_card_pc.json")>0&&v&&(e.linkmicStore.setChoosePeopleArr([v]),P.emit(P.EVENT.selectGroupLiveAnchor,[v])),(0,d.Vp)({error_code:null==er?void 0:null===(W=er.data)||void 0===W?void 0:W.status_code,error_msg:null!==(Z=null==er?void 0:null===(Y=er.data)||void 0===Y?void 0:null===(Q=Y.data)||void 0===Q?void 0:Q.prompts)&&void 0!==Z?Z:""})}}catch(e){return(0,d.bG)(d.MU.FAIL)}};t("sendGift",i),t("getGiftGuestListData",(t,o)=>{try{var i,n,r,l;let{choosePeopleList:t,choosePeopleArr:o,choosePeopleAll:a,linkStatus:u,isGroupLive:s}=e.linkmicStore,{roomInfo:c}=e.roomStore,v=null==e?void 0:null===(i=e.linkmicStore)||void 0===i?void 0:i.allowSendGiftGuest,_=Object.values(t).filter(e=>{var t,o,i;return!!v||!!s||(null===(o=e.user)||void 0===o?void 0:null===(t=o.user)||void 0===t?void 0:t.id_str)===(null==c?void 0:null===(i=c.anchor)||void 0===i?void 0:i.id_str)}).map(e=>{var t,o,i,n,r,l,a,u;let d="0";(null===(o=e.user)||void 0===o?void 0:null===(t=o.content)||void 0===t?void 0:t.linkmic_audience_content)?d=e.user.content.linkmic_audience_content.fan_ticket_fuzzy_str||"0":(null===(n=e.user)||void 0===n?void 0:null===(i=n.content)||void 0===i?void 0:i.linkmic_content)&&(d=e.user.content.linkmic_content.fan_ticket||"0");let s=4;return String(null===(l=e.user)||void 0===l?void 0:null===(r=l.user)||void 0===r?void 0:r.id_str)===String(null==c?void 0:null===(a=c.anchor)||void 0===a?void 0:a.id_str)&&(s=2),{count:d,identifier:s,user:JSON.stringify(null===(u=e.user)||void 0===u?void 0:u.user)}});if(u===$.cK.NOT_LINK)return(0,d.Vp)({data:{is_all_mic:!1,enable_all_mic:!1,current_user:null==c?void 0:null===(l=c.anchor)||void 0===l?void 0:l.id_str,current_user_list:(0,D.toJS)(o),guest_list:JSON.stringify(_),connection_type:""}});let f=Object.values(t),p={is_all_mic:a,enable_all_mic:a,current_user:(null==f?void 0:null===(r=f[0].user)||void 0===r?void 0:null===(n=r.user)||void 0===n?void 0:n.id_str)||"",current_user_list:(0,D.toJS)(o),guest_list:JSON.stringify(_),connection_type:""};return(0,d.Vp)({data:p})}catch(e){return(0,d.bG)(d.MU.FAIL)}}),t("closeGiftWebView",(e,t)=>{P.emit(P.EVENT.LynxEffectPlayDone,{})}),t("dismissGiftPanel",(e,t)=>(0,d.Vp)({})),t("captureAssemblyGift",(e,t)=>{let{pluginList:o,giftId:i,mainTitle:r,imageUrl:l,price:u,subTitle:c}=t,v={giftId:i,mainTitle:r,imageUrl:l,price:u,subTitle:c,pluginList:null==o?void 0:o.map(e=>({plugin_id:e.pluginId}))},_=(0,j.$o)(a.LocalStorageKeys.LiveRecentSendGift)||{},f=(null==_?void 0:_[i])||[];f.push(v);let p=f.slice(-3);return(0,j.qQ)(a.LocalStorageKeys.LiveRecentSendGift,(0,s._)((0,n._)({},_),{[i]:p})),P.emit(P.EVENT.UpdateRecentSendGift,v),(0,d.Vp)()}),t("openMysteryLandPage",()=>{var t,o;null==e||null===(o=e.activityIndicatorStore)||void 0===o||null===(t=o.JSBInstance)||void 0===t||t.openScheme({url:"sslocal://webcast_webview?type=popup&gravity=bottom&height_percent=75&web_bg_color=%23ff161823&url=https%3A%2F%2Flf-webcast-gr-sourcecdn.bytegecko.com%2Fobj%2Fbyte-gurd-source-gr%2Fwebcast%2Fmono%2Fh5%2Fwebcast_personal_center%2Fpages%2Fspyman_detail.html%3Fshow_back_icon%3D1%26origin%3Dpersonal_center",_reset:!0})}),t("getAssetsPath",(t,o)=>{let{giftStore:{effectList:i}}=e,{assets_ids:n}=o,r={};try{n.forEach(e=>{let t=i.find(t=>t.id===e);r[e]={code:2,path:null==t?void 0:t.src}});return(0,d.Vp)({data:{data:{assetsPath:r}}})}catch(e){return(0,d.bG)(d.MU.FAIL)}})},K=o("922894"),J=(e,t,o)=>{let i=null,n=null,r=async()=>i?i:n?await n:(n=(async()=>{var e,t,o,n,r;let l=await (0,K.Mr)({device_platform:"web",aid:"6383"});if((null==l?void 0:l.status)!==200||(null==l?void 0:null===(e=l.data)||void 0===e?void 0:e.status_code)!==0)return B.ZN.error(V.Mo.LiveSettingError,{content:{statusCode:null==l?void 0:null===(o=l.data)||void 0===o?void 0:o.status_code,logId:null!==(r=l.logId)&&void 0!==r?r:"",is_client:(0,b.DT)(),data:null==l?void 0:null===(n=l.data)||void 0===n?void 0:n.data}}),null;{let e=null==l?void 0:null===(t=l.data)||void 0===t?void 0:t.data;return i=e,e}})(),await n);t("getClientSetting",async(e,t)=>{if(!t.key)return(0,d.bG)(d.MU.FAIL);let o=await r();return o?(0,d.Vp)({data:{[t.key]:o[t.key]}}):(0,d.bG)(d.MU.FAIL)})},H=o("611243"),W=o("544406"),Q=o("654533"),Y=o("623582"),Z=o("742740"),z=o("725887"),X=o("508269"),ee=o("62696"),et=(e,t,o)=>{let i=async t=>new Promise(async(o,i)=>{let{rechargeStore:{rechargeAuthStatus:n}}=e,{showRecharge:u}=(0,H.y)();if(n){var s;let e=await (null===(s=W.a.getIAPRechargeParams)||void 0===s?void 0:s.call(W.a)),n=()=>{i((0,d.bG)(d.MU.FAIL,"close recharge dialog",{recharge_code:0}))},c=()=>{var e,t;Y.logInstance.sendLog("livesdkRechargeSuccessByContainer",{enter_from_merge:(0,Z.yW)(),show_reason:F.St.recharge,live_window_type:null!==(t=null===(e=z.Le.getConfig(z.gI.LiveWindowStatus))||void 0===e?void 0:e.type)&&void 0!==t?t:"no_live_window",if_live_play:1,charge_reason:"balance",request_page:"jsb",load_type:"vmok"}),o((0,d.Vp)({recharge_code:1}))},v=(0,r.Dr)(l.Q.getItem({sKey:a.CookieKeys.Theme}));(0,Q.jo)()?(0,ee.J)({root:null,type:"recharge",title:X.B.recharge,giftPrice:0,needRechargePrice:(null==t?void 0:t.money_diff)||0,theme:v,requestPublicParams:e,onRechargeSuccess:c,onClose:n,showOfficialEntrance:!1,onShow:()=>{var e,t;Y.logInstance.sendLog("livesdkRechargeShowByContainer",{enter_from_merge:(0,Z.yW)(),show_reason:F.St.recharge,live_window_type:null!==(t=null===(e=z.Le.getConfig(z.gI.LiveWindowStatus))||void 0===e?void 0:e.type)&&void 0!==t?t:"no_live_window",if_live_play:1,charge_reason:"balance",request_page:"jsb",load_type:"vmok"})}}):u({type:"recharge",balance:(null==t?void 0:t.money_diff)||0,amount:0,theme:v,requestPublicParams:e,onSuccess:c,onClose:n})}else i((0,d.bG)(d.MU.FAIL,"need login",{recharge_code:0}))});t("openLiveRecharge",async(t,o)=>{let{args:i}=o;try{let{rechargeStore:{rechargeAuthStatus:t,setRemoteRechargeContainerRendered:o,remoteRechargeContainerRendered:u}}=e,{showRecharge:s}=(0,H.y)();if(t){var n;let e=await (null===(n=W.a.getIAPRechargeParams)||void 0===n?void 0:n.call(W.a)),t=(0,r.Dr)(l.Q.getItem({sKey:a.CookieKeys.Theme}));(0,Q.jo)()?(0,ee.J)({setRemoteRechargeContainerRendered:o,remoteRechargeContainerRendered:u,root:null,type:"recharge",title:X.B.recharge,giftPrice:0,needRechargePrice:(null==i?void 0:i.money_diff)||0,theme:t,requestPublicParams:e,showOfficialEntrance:!1,onRechargeSuccess:()=>{var e,t;Y.logInstance.sendLog("livesdkRechargeSuccessByContainer",{enter_from_merge:(0,Z.yW)(),show_reason:F.St.recharge,live_window_type:null!==(t=null===(e=z.Le.getConfig(z.gI.LiveWindowStatus))||void 0===e?void 0:e.type)&&void 0!==t?t:"no_live_window",if_live_play:1,charge_reason:"balance",request_page:"jsb",load_type:"vmok"})},onShow:()=>{var e,t;Y.logInstance.sendLog("livesdkRechargeShowByContainer",{enter_from_merge:(0,Z.yW)(),show_reason:F.St.recharge,live_window_type:null!==(t=null===(e=z.Le.getConfig(z.gI.LiveWindowStatus))||void 0===e?void 0:e.type)&&void 0!==t?t:"no_live_window",if_live_play:1,charge_reason:"balance",request_page:"jsb",load_type:"vmok"})}}):s({type:"recharge",balance:(null==i?void 0:i.money_diff)||0,amount:0,theme:t,requestPublicParams:e})}return(0,d.Vp)()}catch(e){return(0,d.bG)(d.MU.FAIL)}}),t("openRechargeDialog",i)},eo=o("75978");let ei=()=>!1;var en=(e,t,o)=>{let i=async(e,t)=>{try{return(0,eo.p)().then(e=>{var o,i;e((0,n._)({headerText:"登录后即可参与互动",success:async()=>{!ei()&&window.location.reload()},next:`https://${null===(i=window)||void 0===i?void 0:null===(o=i.location)||void 0===o?void 0:o.host}`,enterMethod:""},t))}),(0,d.Vp)()}catch(e){return(0,d.bG)(d.MU.FAIL)}};t("login",async(t,o)=>{let{userStore:n}=e,{userInfo:r}=n;if((null==r?void 0:r.user_id_str)||(null==r?void 0:r.sec_uid)||(null==r?void 0:r.short_id))return(0,d.Vp)({status:0});{let e=await i(t,{});return{code:e.code,data:{status:e.code===d.MU.SUCCESS?1:2},msg:""}}}),t("openLoginPanel",i)},er=(e,t,o)=>{t("sendRedEnvelopSuccess",async()=>{try{let{userStore:i}=e,{userInfo:n}=i;if(!((null==n?void 0:n.user_id_str)||(null==n?void 0:n.sec_uid)||(null==n?void 0:n.short_id)))return(0,d.bG)(d.MU.FAIL);let{data:r}=await O.sb({}),l=f()(r,"status_code");if(0!==l)return(0,d.bG)(d.MU.FAIL);{var t,o;let i=f()(r,"data.diamond",0);return null==e||null===(o=e.giftStore)||void 0===o||null===(t=o.setBalance)||void 0===t||t.call(o,i),(0,d.Vp)()}}catch(e){return(0,d.bG)(d.MU.FAIL)}})},el=o("873791"),ea=(e,t,o)=>{let i=new el.N,n=async(e,t)=>{let{eventName:o,callback:n}=t;try{return i.on(o,n),(0,d.Vp)()}catch(e){return(0,d.bG)(d.MU.FAIL,"fail")}},r=async(e,t)=>{let{eventName:o,params:n}=t;try{return i.emit(o,n),"subscription.vipsendnewpurchase"===o&&P.emit(P.EVENT.VipRechargeSuccess),(0,d.Vp)()}catch(e){return(0,d.bG)(d.MU.FAIL,"fail")}},l=async(e,t)=>{let{eventName:o,listener:n}=t;try{return i.off(o,n),(0,d.Vp)()}catch(e){return(0,d.bG)(d.MU.FAIL,"fail")}};t("on",async(e,t)=>{let{params:o,cb:n}=t;try{if("string"==typeof o)return i.on(o,n),(0,d.Vp)();return i.on(o.eventName,n),(0,d.Vp)()}catch(e){return(0,d.bG)(d.MU.FAIL,"fail")}}),t("off",l),t("subscribeEvent",n),t("publishEvent",r),t("unSubscribeEvent",l),t("webcastBroadcast",r)},eu=(e,t,o)=>{t("updateWalletInfo",(e,t)=>{try{return O.sb({}),(0,d.Vp)()}catch(e){return(0,d.bG)(d.MU.FAIL)}})},ed=o("448721"),es=(e,t,o)=>{t("userAction",async(t,o)=>{let{type:i,args:{user_id:n=""}}=o;try{let t;let o=f()(e,"roomStore.roomInfo.roomId",""),r=f()(e,"userStore.userInfo.sec_uid",""),l=f()(e,"roomStore.roomInfo.anchor.id_str"),a=f()(e,"roomStore.setFollowStatus",()=>{});if("follow"===i?t=await (0,ed.ZN)({to_user_id:String(n),current_room_id:o,sec_user_id:r,sec_to_user_id:"",channel_id:200}):"unfollow"===i&&(t=await (0,ed.fv)({to_user_id:String(n),current_room_id:o,sec_user_id:r,sec_to_user_id:""})),String(l)===String(n)&&t){let e=f()(t,"data.data.follow_status",0);a(e)}if(10033===t.data.status_code)return(0,d.bG)(d.MU.FAIL,"fail",{code:t.data.status_code,prompts:t.data.data.prompts});return(0,d.Vp)()}catch(e){return(0,d.bG)(d.MU.FAIL)}})},ec=o("556731"),ev=o("986371"),e_=o("418279"),ef=(e,t,o)=>{t("sendProps",async(t,o)=>{let{propID:i,count:r,gift_source:l}=o;try{var a,u,c,v;let{userStore:{userInfo:t},roomStore:{roomInfo:o},giftStore:{giftList:_,effectList:f,giftPanelShowFrom:p,setGiftMessages:m},linkmicStore:{choosePeopleArr:g,useChoosePeopleFunc:h},eventStore:{giftEvent:y}}=e,L=(null==t?void 0:t.id_str)||(null==t?void 0:t.sec_uid)||(null==t?void 0:t.short_id),b=null==o?void 0:o.roomId,S=null==o?void 0:null===(a=o.anchor)||void 0===a?void 0:a.id_str,I=!h||(null==g?void 0:g.join(""))===S,C=I?S:null==g?void 0:g[0];if(!L)return w.F.info("请先登录"),(0,d.bG)(d.MU.FAIL);let P=await ec.E({count:r,room_id:b,to_room_id:b,to_uid:C,prop_def_id:i,send_prop_scene:I?ev.Az.NORMAL:ev.Az.LINK}),E=null==P?void 0:null===(u=P.data)||void 0===u?void 0:u.status_code,N=null==P?void 0:null===(c=P.data)||void 0===c?void 0:c.data;if(0!==E)return w.F.info((null==N?void 0:N.prompts)||"赠送道具失败，请稍后重试"),(0,d.bG)(d.MU.FAIL);{let o=(0,R.mS)(null==N?void 0:N.gift_id,_),a=(0,R.mL)(N,_,f,t,r);return m(a),null==y||null===(v=y.liveGiftSendEvent)||void 0===v||v.call(y,{gift_id:null==N?void 0:N.gift_id,combo_cnt:null==N?void 0:N.combo_count,group_cnt:null==N?void 0:N.group_count,gift_source:F._W.GIFT_BAG,money_per_unit:o.price,gift_cnt:r,money:r*o.price,is_fans_club_gift:(0,e_.dU)(null==N?void 0:N.gift_id)?"1":"0",to_user_id:String(S),full_seats_cnt:1,is_from_container:0,gift_show_from:p,pageType:F.kQ.PROP,tab_name:F.BS[F.kQ.PROP]||F.kQ.PROP}),window.collectEvent("livesdk_send_prop",(0,s._)((0,n._)({},(0,k.Kj)(e)),{prop_id:i,gift_id:null==N?void 0:N.gift_id,gift_source:l})),(0,d.Vp)()}}catch(e){return(0,d.bG)(d.MU.FAIL)}})};o("527785");var ep=o("96008"),em=o.n(ep);let eg={};var eh=(e,t,o)=>{let i=async(t,o)=>{let{biz_id:i,type:r,extra:l}=o;if(!i||!r||!l)return(0,d.bG)(d.MU.FAIL,"fail");if("registerSEI"===r){let t;let{diff:o={}}=l,{setSeiDiffKey:i,newSeiContent:r={}}=e.linkmicStore;i(o);try{t=(0,s._)((0,n._)({},r),{app_data:r.app_data?JSON.parse(r.app_data):{}})}catch(e){t={}}return(0,d.Vp)({data:t})}return(0,d.bG)(d.MU.FAIL,"fail")},r=async(t,o)=>{let{biz_id:i,type:r,extra:l}=o;if(!i||!r||!l)return(0,d.bG)(d.MU.FAIL,"fail");switch(r){case"openRankList":let{user:a={}}=l,{linkmicStore:u={}}=e,{setRankParam:c=em(),setRankListShow:v=em()}=u;return c({teamfight_id:void 0,user:(0,s._)((0,n._)({},a),{id_str:(null==a?void 0:a.user_id)||"",avatar_medium:{url_list:(null==a?void 0:a.avatar_medium_url)?[null==a?void 0:a.avatar_medium_url]:[]},avatar_thumb:{url_list:(null==a?void 0:a.avatar_thumb_url)?[null==a?void 0:a.avatar_thumb_url]:[]}}),isGuestContribution:!0}),v(!0),(0,d.Vp)();case"openUserProfile":case"applyLinkmic":case"openUserMenu":return P.emit(P.EVENT.linkmicWebAction,{type:r,extra:l}),(0,d.Vp)();default:return(0,d.bG)(d.MU.FAIL,"fail")}},l=async(t,o)=>{let{wrdsKey:i="",wrdsSubKey:n=""}=o;if(!i)return(0,d.bG)(d.MU.FAIL,"fail");let{wrdsData:r={}}=(null==e?void 0:e.singletonStore)||{},l=i;n&&(l=`${i}.${n}`);let{[l]:a}=r||{},u="";try{u=a?JSON.stringify(a):""}catch(e){u=""}return(0,d.Vp)({data:{wrdsData:u}})};t("getLinkmicStatus",async(t,o)=>{let{biz_id:i,type:r,extra:l}=o;if(!i||!r||!l)return(0,d.bG)(d.MU.FAIL,"fail");switch(r){case"common_get_data":let{key:a}=l;return(0,d.Vp)({data:{value:f()(eg,a)}});case"latestSEI":var u;let{keys:c=[]}=l,v=(null==e?void 0:null===(u=e.linkmicStore)||void 0===u?void 0:u.newSeiContent)||{};return(0,d.Vp)({data:c.reduce((e,t)=>(0,s._)((0,n._)({},e),{[t]:f()(v,t)}),{})});default:return(0,d.bG)(d.MU.FAIL,"fail")}}),t("updateLinkmicStatus",i),t("linkmicWebAction",r),t("getLatestWRDSData",l)};let ey={},eL=e=>{let t=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.H5.PUBLIC;(0,d.Z1)(e,t,o),ey[e]=t};er(e,t,ey),p(e,t,ey),L(e,t,ey),S(e,t,ey),C(e,t,ey),M(e,t,ey),x(e,t,ey),U(e,t,ey),q(e,t,ey),J(e,t,ey),et(e,t,ey),en(e,t,ey),ea(e,t,ey),eu(e,t,ey),es(e,t,ey),ef(e,t,ey),eh(e,t,ey)};var eb=o("738712"),eS=o.n(eb),eI={live:1,1:"live"};(0,d.$l)(!0);class ek{initSdk(){var e,t,o;let i=null===(e=this._store)||void 0===e?void 0:e.roomStore,n=null===(t=this._store)||void 0===t?void 0:t.userStore;null===(o=this._store)||void 0===o||o.activityIndicatorStore,f()(i,"roomInfo.roomId"),f()(i,"roomInfo.anchor.id_str"),f()(i,"roomInfo.anchor.sec_uid");let u=f()(n,"userInfo.id_str");f()(n,"userInfo.sec_uid"),(0,d.S1)({injection:{user:{hasLogin:()=>void 0!==u,login:()=>Promise.resolve(),logout:()=>Promise.resolve(),getUserInfo:()=>{var e;let{id_str:t,sec_uid:o,nickname:i,avatar_large:r,telephone:l,short_id:a}=f()(n,"userInfo",{});return{userId:t,secUid:o,uniqueId:"",nickname:i,avatarURL:null==r?void 0:null===(e=r.url_list)||void 0===e?void 0:e[0],boundPhone:l,shortId:a?String(a):""}}},appInfo:()=>{var e,t;return{appID:"6383",appName:"douyin_pc",appVersion:null!==(e=window.version)&&void 0!==e?e:"unknown",appLang:null!==(t=navigator.language)&&void 0!==t?t:"unknown",deviceID:f()(n,"odin.user_unique_id",""),channel:"douyin_pc",isTeenMode:!1,appTheme:(0,r.Dr)(l.Q.getItem({sKey:a.CookieKeys.Theme})),updateVersionCode:"0.0.1",screenWidth:374}}},extraGlobalProps:{os:"Web",device_platform:"web"},options:{slardar:{bid:"anniex_web_webcast"}}})}getCommonParams(){var e,t,o,i,n,r,l,a;let u=null===(e=this._store)||void 0===e?void 0:e.roomStore,d=null===(t=this._store)||void 0===t?void 0:t.userStore;return{room_id:f()(u,"roomInfo.roomId",""),user_id:f()(d,"userInfo.id_str",""),sec_user_id:f()(d,"userInfo.sec_uid",""),anchor_id:f()(u,"roomInfo.anchor.id_str",""),anchor_id_str:f()(u,"roomInfo.anchor.id_str",""),sec_anchor_id:f()(u,"roomInfo.anchor.sec_uid",""),enter_from_merge:null===(i=window)||void 0===i?void 0:null===(o=i.__INVISIBLE_QUERY__)||void 0===o?void 0:o.enter_from_merge,request_id:null===(r=window)||void 0===r?void 0:null===(n=r.__INVISIBLE_QUERY__)||void 0===n?void 0:n.request_id,enter_method:null===(a=window)||void 0===a?void 0:null===(l=a.__INVISIBLE_QUERY__)||void 0===l?void 0:l.enter_method,user_unique_id:f()(d,"odin.user_unique_id","")}}appendCommonParams(e,t,o){let i=e.split("?"),n=E.parse(i[1]),r=E.stringify(Object.assign(n,t,o));return`${i[0]}?${r}`}getInitData(e){return this._initData.get(e)}openLandPage(e){var t,o,i,r,l,a,u,d,s;let{url:c,extraParams:v,reset:_=!1,initData:f={},forceCover:p}=e,m=c.split("?"),g=E.parse(m[1]),{url:h}=g,y=this.getCommonParams(),L=this.appendCommonParams(h,y,(0,n._)({__isDouyinPC:"true"},v||{}));g.url=L;let b=`${m[0]}?${E.stringify(g)}`,S=null===(t=this._store)||void 0===t?void 0:t.activityIndicatorStore.currentLandPage.indexOf(b);if(S>=0){let e=[...(null===(i=this._store)||void 0===i?void 0:null===(o=i.activityIndicatorStore)||void 0===o?void 0:o.currentLandPage)||[]];e.splice(S,1),null===(l=this._store)||void 0===l||null===(r=l.activityIndicatorStore)||void 0===r||r.setCurrentLandPage(e,!1)}else _?null===(a=this._store)||void 0===a||a.activityIndicatorStore.setCurrentLandPage([b],!0):null===(s=this._store)||void 0===s||s.activityIndicatorStore.setCurrentLandPage([...(null===(d=this._store)||void 0===d?void 0:null===(u=d.activityIndicatorStore)||void 0===u?void 0:u.currentLandPage)||[],b],!1,p),this._initData.set(b,f)}isSupportLynx(){var e,t;let o=new(eS())().getResult(),i=null==o?void 0:null===(e=o.browser)||void 0===e?void 0:e.name,n=null==o?void 0:null===(t=o.browser)||void 0===t?void 0:t.version;switch(i){case"Chrome":case"Edge":return(0,u.y)(n,">","84.0.0.0");case"Safari":return(0,u.y)(n,">","14.1.0.0");case"Opera":return(0,u.y)(n,">","70.0.0.0");case"Firefox":return(0,u.y)(n,">","79.0.0.0");default:return!0}}getLynxViewSchema(e){let t=encodeURIComponent(e);return`sslocal://lynxview?url=${t}&type=popup&gravity=bottom&height_percent=75&web_bg_color=ff060a19&radius=23&radius_bottom_right=0&radius_bottom_left=0&enable_preload=all&add_safe_area_height=0&use_wk_falcon=2`}static reset(){let e=Object.keys(ey);e.length&&e.forEach(e=>{(0,d.ln)(e),delete ey[e]})}static broadcastEvent(e,t){(0,d.broadcastEvent)(e,t)}constructor(e,t=""){(0,i._)(this,"_containerList",new Map),(0,i._)(this,"_store",null),(0,i._)(this,"_roomId",""),(0,i._)(this,"_initData",new Map),this._store=e,this._roomId=t,this.initSdk(),eL(this._store)}}},90842:function(e,t,o){o.d(t,{Kj:function(){return l},L7:function(){return u},VK:function(){return a}}),o(209955),o(779788),o(675373),o(413806),o(826893);var i=o(645260),n=o.n(i),r=o(567754);let l=e=>{var t,o,i,r,l,a,u,d;return{room_id:n()(e,"roomStore.roomInfo.roomId",""),user_id:n()(e,"userStore.userInfo.id_str",""),sec_user_id:n()(e,"userStore.userInfo.sec_uid",""),anchor_id:n()(e,"roomStore.roomInfo.anchor.id_str",""),anchor_id_str:n()(e,"roomStore.roomInfo.anchor.id_str",""),sec_anchor_id:n()(e,"roomStore.roomInfo.anchor.sec_uid",""),enter_from_merge:null===(o=window)||void 0===o?void 0:null===(t=o.__INVISIBLE_QUERY__)||void 0===t?void 0:t.enter_from_merge,request_id:null===(r=window)||void 0===r?void 0:null===(i=r.__INVISIBLE_QUERY__)||void 0===i?void 0:i.request_id,enter_method:null===(a=window)||void 0===a?void 0:null===(l=a.__INVISIBLE_QUERY__)||void 0===l?void 0:l.enter_method,user_unique_id:n()(e,"userStore.odin.user_unique_id",""),user_agent:(null===(d=window)||void 0===d?void 0:null===(u=d.navigator)||void 0===u?void 0:u.userAgent)||""}},a=e=>{if(e instanceof Error){var t;return`${e.name}: ${e.message}
${null!==(t=e.stack)&&void 0!==t?t:"无堆栈信息"}`}if("object"==typeof e&&null!==e){if("message"in e&&"string"==typeof e.message)return e.message;try{return JSON.stringify(e)}catch(e){return"[不可序列化对象]"}}return String(e)},u=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{if(0>e.indexOf("sslocal://webcast_redirect"))return e;let t=await fetch("https://lf-webcast-gr-sourcecdn.bytegecko.com/obj/byte-gurd-source-gr/webcast/cdn/api/scheme_config/api.roma.config.json"),o=await t.json(),i=r.parse(e.split("?")[1]);return o.redirect_rules[i.entry][0].location}catch(e){return!1}}},904082:function(e,t,o){o.d(t,{Z:function(){return w}});var i=o("520739");o("675373"),o("544943"),o("874386"),o("819117"),o("429532");var n=o("727795"),r=o("505424"),l=o("683849"),a=o("443646"),u=o("669417"),d=o("668363"),s={CloseRoomTypeNormal:0,0:"CloseRoomTypeNormal",CloseRoomTypeForceClose:1,1:"CloseRoomTypeForceClose",CloseRoomTypeFinish:2,2:"CloseRoomTypeFinish",CloseRoomTypeAnchorKickout:4,4:"CloseRoomTypeAnchorKickout",CloseRoomTypeAccountKickout:5,5:"CloseRoomTypeAccountKickout",CloseRoomTypeSelfOnRecord:6,6:"CloseRoomTypeSelfOnRecord",CloseRoomTypeFail:7,7:"CloseRoomTypeFail",CloseRoomTypeForbidden:8,8:"CloseRoomTypeForbidden",CloseRoomTypeCocosError:9,9:"CloseRoomTypeCocosError",CloseRoomTypeChangingRoom:10,10:"CloseRoomTypeChangingRoom",CloseRoomTypeForceByMSeq:11,11:"CloseRoomTypeForceByMSeq",CloseRoomTypeTermination:12,12:"CloseRoomTypeTermination",CloseRoomTypeNone:13,13:"CloseRoomTypeNone",CloseRoomTypeLiveGuestFinishRoom:14,14:"CloseRoomTypeLiveGuestFinishRoom"},c=o("89674"),v=o("783350"),_=o("505575"),f=o("768492"),p=o("509090"),m=o("623527"),g=o("828782"),h=o("645260"),y=o.n(h),L=o("96008"),b=o.n(L),S=o("88648"),I=o("818597"),k=o("40086");let C=()=>{let{roomStore:{roomInfo:e},linkmicStore:{setLinkStatus:t,linkStatus:o,setApplySource:l,setDevices:a,isNewVideoLinkmicRoom:c},eventStore:{linkmicEvent:v,slardarEvent:h}}=(0,I.o)(),{player:y}=(0,_.n)(),L=(null==e?void 0:e.roomId)||"";return S.useCallback((e,_,S)=>{var I;if(o===d.cK.NOT_LINK)return Promise.resolve();if(S&&"function"==typeof(null===(I=navigator)||void 0===I?void 0:I.sendBeacon)){let e=new URLSearchParams;return e.append("room_id",L),e.append("end_reason",`${s.CloseRoomTypeNormal}`),e.append("request_source","leave_normally"),navigator.sendBeacon(`${(0,f.Pe)()}/webcast/linkmic_audience/leave/?aid=6383&live_id=1`,e),Promise.resolve()}return o===d.cK.LINKED&&(null==v||v.liveLeaveLinkMicEvent(e,_),null==v||v.liveAudiencePlayModeRoomLinkDurationEvent()),(c?n.X9:n.TL)({room_id:L,end_reason:s.CloseRoomTypeNormal,request_source:"leave_normally"}).then(e=>{var o,n;let{data:r,logId:l}=e,{status_code:s}=r;if(null==h||h.linkmicLeaveRequestLog(s),0===s?(a({audio:void 0,video:void 0}),t(d.cK.NOT_LINK)):31001===s?b()():p.F.info("断开连线失败，请稍后重试",y.root),0!==s)return u.kg.event(`[${m.Tn.Error}]${m.Mo.LiveLeaveLinkError}`,{statusCode:s,logId:null!=l?l:"",message:(null==r?void 0:null===(n=r.data)||void 0===n?void 0:n.prompts)||"",is_client:(0,g.DT)()}),u.kg.error("断开连线失败",r,l),Promise.reject(r);if(c){let e=new CustomEvent("webcast_linkmic_leave_room",{detail:(0,i._)({},(null==r?void 0:r.data)||{})});null===(o=document)||void 0===o||o.dispatchEvent(e)}return Promise.resolve(r)}).finally(()=>{l(r.JW.NONE)})},[L,t,l,o,y,a,c])};var w=()=>{let{roomStore:{roomInfo:e},linkmicStore:{setLinkStatus:t,linkStatus:o,selectedPosition:s,setApplySource:f,setIsCandidate:h,linkMicSeats:L,setSelfLinkedPosition:w,linkMicConfig:P,setDevices:E,setFaceRecognitionShow:N,isNewVideoLinkmicRoom:A},userStore:{userInfo:T},paidLiveStore:{paidLiveAuth:R},eventStore:{linkmicEvent:F,linkmicBaseEvent:G,slardarEvent:M,rtcEvent:x}}=(0,I.o)(),{player:U}=(0,_.n)(),V=S.useMemo(()=>{var e;return null===(e=L[null!=s?s:""])||void 0===e?void 0:e.user},[L,s]),j=y()(e,"anchor.id_str",""),O=y()(e,"roomId",""),D=S.useCallback((e,o)=>{let{priorityPosition:i,teamFightTeamId:r}=o||{},l=i||s;return(A?n.HZ:n.q7)(Object.assign({room_id:O,anchor_id:j,link_type:e,apply_type:c.XC.NORMAL,guest_supported_vendor:4},void 0===l?{}:{position:l},r?{teamfight_team_id:r}:void 0)).then(e=>{var o,i,n,l,a;let{data:s,logId:c}=e,{status_code:_}=s;if(null==M||M.linkmicApplyRequestLog(_),0===_){if(t(d.cK.LINKING),null==x||x.livesdkRtcApplyJoinRoomEvent({type:"apply"}),P.config[v.V9.AU_BigPartyAcceptNeedVerified]===v.q2.OPEN||P.config[v.V9.AU_AudioChatAcceptNeedVerified]===v.q2.OPEN)p.F.info((null==s?void 0:null===(i=s.data)||void 0===i?void 0:i.prompts)||"申请成功，等待主播通过",U.root);else{let e=null==s?void 0:null===(n=s.data)||void 0===n?void 0:n.prompts;e&&p.F.info(e,U.root)}(null==s?void 0:null===(o=s.data)||void 0===o?void 0:o.auto_join_full)&&h(!0),null==F||F.liveApplyLinkMicEvent({grouppk_group:"1"===r?"red":"blue"})}else 4016005===_?p.F.info("当前直播间仅支持粉丝连线，请先关注主播",U.root):30010===_?p.F.info("您当前未实名认证，请去手机端进行实名认证后重试",U.root):4004272===_?N(!0):p.F.info((null==s?void 0:null===(l=s.data)||void 0===l?void 0:l.prompts)||"申请上麦失败，请稍后重试",U.root);return 0===_?Promise.resolve(s):(u.kg.event(`[${m.Tn.Error}]${m.Mo.LiveApplyLinkError}`,{statusCode:_,logId:null!=c?c:"",message:(null==s?void 0:null===(a=s.data)||void 0===a?void 0:a.prompts)||"",is_client:(0,g.DT)()}),u.kg.error("申请上麦失败",s,c),Promise.reject(s))})},[t,O,j,s,h,P.config,U,N,A]),B=C(),$=S.useCallback(()=>(0,n.JJ)(O).then(e=>{var o,i,n,a,s;let{data:c,logId:v}=e,{status_code:_}=c;if(null==M||M.linkmicJoinChannelLog(_),null==x||x.livesdkRtcJoinChannelEvent({code:_}),0===_){if(t(d.cK.LINKED),null==c?void 0:null===(o=c.data)||void 0===o?void 0:o.delegate_setting){let{enable_delegate:e}=null==c?void 0:null===(a=c.data)||void 0===a?void 0:a.delegate_setting;localStorage.setItem(l.QU,e?r.eG.ON:r.eG.OFF)}let e=null==c?void 0:null===(n=c.data)||void 0===n?void 0:null===(i=n.linked_users)||void 0===i?void 0:i.find(e=>{var t;return(null===(t=e.user)||void 0===t?void 0:t.id_str)===(null==T?void 0:T.id_str)});e&&w(e.user_position),p.F.info("连线成功",U.root),(G.isGuestBattle()||G.isGroupFight()||G.isRoomBattle())&&setTimeout(()=>{null==F||F.liveAudiencePlayModeRoomLinkEvent()},2e3)}return 0===_?Promise.resolve(c):(u.kg.event(`[${m.Tn.Error}]${m.Mo.LiveJoinChannelError}`,{statusCode:_,logId:null!=v?v:"",message:(null==c?void 0:null===(s=c.data)||void 0===s?void 0:s.prompts)||"",is_client:(0,g.DT)()}),u.kg.error("加入连麦房间失败",c,v),Promise.reject(c))}),[O,t,w,T,U]),q=S.useCallback(e=>Promise.resolve(e).then(e=>{var o,i;if(t(d.cK.LINKED),null==e?void 0:null===(o=e.join_channel_data)||void 0===o?void 0:o.delegate_setting){let{enable_delegate:t}=null==e?void 0:null===(i=e.join_channel_data)||void 0===i?void 0:i.delegate_setting;localStorage.setItem(l.QU,t?r.eG.ON:r.eG.OFF)}return p.F.info("连线成功",U.root),(G.isGuestBattle()||G.isGroupFight()||G.isRoomBattle())&&setTimeout(()=>{null==F||F.liveAudiencePlayModeRoomLinkEvent()},2e3),Promise.resolve()}),[O,t,T,U]),K=S.useCallback(e=>{var t,o;return(A?n.Dw:n.VV)({room_id:O,to_user_id:(null==V?void 0:null===(t=V.user)||void 0===t?void 0:t.id_str)||"",sec_to_user_id:e||(null==V?void 0:null===(o=V.user)||void 0===o?void 0:o.sec_uid)||"",silence_type:c.av.SILENCE_TYPE_NORMAL}).then(e=>{var t,o,n;let{data:r,logId:l}=e,{status_code:a}=r;if(null==M||M.linkmicSilenceRequestLog(a),0!==a)return u.kg.event(`[${m.Tn.Error}]${m.Mo.LiveApplySilenceError}`,{statusCode:a,logId:null!=l?l:"",message:(null==r?void 0:null===(o=r.data)||void 0===o?void 0:o.prompts)||"",is_client:(0,g.DT)()}),u.kg.error("静音失败",r,l),p.F.info((null==r?void 0:null===(n=r.data)||void 0===n?void 0:n.prompts)||"申请静音失败，请稍后重试",U.root),Promise.reject(r);if(p.F.info("静音成功"),A){let e=new CustomEvent("webcast_linkmic_stop_audio",{detail:(0,i._)({},(null==r?void 0:r.data)||{})});null===(t=document)||void 0===t||t.dispatchEvent(e)}return Promise.resolve(r)})},[O,V,U,A]),J=S.useCallback(e=>{var t,o;return(A?n.sQ:n.AE)({room_id:O,to_user_id:(null==V?void 0:null===(t=V.user)||void 0===t?void 0:t.id_str)||"",sec_to_user_id:e||(null==V?void 0:null===(o=V.user)||void 0===o?void 0:o.sec_uid)||""}).then(e=>{var t,o,n;let{data:r,logId:l}=e,{status_code:a}=r;if(0!==a)return u.kg.event(`[${m.Tn.Error}]${m.Mo.LiveApplyUnSilenceError}`,{statusCode:a,logId:null!=l?l:"",message:(null==r?void 0:null===(o=r.data)||void 0===o?void 0:o.prompts)||"",is_client:(0,g.DT)()}),u.kg.error("取消静音失败",r,l),p.F.info((null==r?void 0:null===(n=r.data)||void 0===n?void 0:n.prompts)||"申请取消静音失败，请稍后重试",U.root),Promise.reject(r);if(p.F.info("取消静音成功",U.root),A){let e=new CustomEvent("webcast_linkmic_start_audio",{detail:(0,i._)({},(null==r?void 0:r.data)||{})});null===(t=document)||void 0===t||t.dispatchEvent(e)}return Promise.resolve(r)})},[O,V,U,A]),H=S.useCallback(e=>{let{from:t,to:o}=e||{};return null==F||F.liveGuestSwitchSeatEvent(s,{from:t,to:o}),(A?n.n8:n.oX)({room_id:O,to_position:s}).then(e=>{let{data:t,logId:o}=e,{status_code:i}=t;if(0===i)return Promise.resolve(t);if(4004177===i)b()();else{var n,r;u.kg.event(`[${m.Tn.Error}]${m.Mo.LiveSwitchMicError}`,{statusCode:i,logId:null!=o?o:"",message:(null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.prompts)||"",is_client:(0,g.DT)()}),p.F.info((null==t?void 0:null===(r=t.data)||void 0===r?void 0:r.prompts)||"切换麦位失败",U.root),u.kg.error("切换麦位失败",t,o)}return Promise.reject(t)})},[O,s,U,A]),W=S.useCallback(e=>{var t;return(0,n.SR)(O,e||(null==V?void 0:null===(t=V.user)||void 0===t?void 0:t.id_str)||"").then(e=>{var t,o,n;let{data:r,logId:l}=e;if((null==r?void 0:r.status_code)!==0&&(u.kg.event(`[${m.Tn.Error}]${m.Mo.LiveEnableVideoError}`,{statusCode:null==r?void 0:r.status_code,logId:null!=l?l:"",message:(null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.prompts)||"",is_client:(0,g.DT)()}),p.F.info((null==r?void 0:null===(o=r.data)||void 0===o?void 0:o.prompts)||"申请开启视频失败, 请稍后重试",U.root)),(null==r?void 0:r.status_code)!==0)return(null==r?void 0:r.status_code)===4004272&&N(!0),u.kg.error("开启视频连线失败",r,l),Promise.reject(r);if(A){let e=new CustomEvent("webcast_linkmic_open_video",{detail:(0,i._)({},(null==r?void 0:r.data)||{})});null===(n=document)||void 0===n||n.dispatchEvent(e)}return Promise.resolve(r)})},[O,V,U,A]),Q=S.useCallback(e=>{var t;return(0,n.cJ)(O,e||(null==V?void 0:null===(t=V.user)||void 0===t?void 0:t.id_str)||"").then(e=>{var t,o,n;let{data:r,logId:l}=e;if((null==r?void 0:r.status_code)!==0&&(u.kg.event(`[${m.Tn.Error}]${m.Mo.LiveDisableVideoError}`,{statusCode:null==r?void 0:r.status_code,logId:null!=l?l:"",message:(null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.prompts)||"",is_client:(0,g.DT)()}),p.F.info((null==r?void 0:null===(o=r.data)||void 0===o?void 0:o.prompts)||"申请关闭视频失败, 请稍后重试",U.root)),(null==r?void 0:r.status_code)!==0)return u.kg.error("开启视频连线失败",r,l),Promise.reject(r);if(A){let e=new CustomEvent("webcast_linkmic_stop_video",{detail:(0,i._)({},(null==r?void 0:r.data)||{})});null===(n=document)||void 0===n||n.dispatchEvent(e)}return Promise.resolve(r)})},[O,V,U,A]),Y=S.useCallback((e,t)=>{(0,n.bZ)({room_id:O,to_user_id:e,sec_to_user_id:t,request_source:"admin_stop_in_preview"}).then(e=>{let{data:t,logId:o}=e;if((null==t?void 0:t.status_code)!==0){var i;p.F.info((null==t?void 0:null===(i=t.data)||void 0===i?void 0:i.prompts)||"断开连线失败",U.root)}return(null==t?void 0:t.status_code)===0?Promise.resolve(t):(u.kg.error("断开连线失败",t,o),Promise.reject(t))})},[O,U]),Z=S.useCallback(function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,n.Ix)({room_id:O,to_user_id:e,invite_type:t,to_enlarge_pos:o}).then(e=>{let{data:o,logId:i}=e;if((null==o?void 0:o.status_code)!==0){var n;p.F.info((null==o?void 0:null===(n=o.data)||void 0===n?void 0:n.prompts)||"设置主咖失败",U.root)}return(null==o?void 0:o.status_code)===0?(t===c.fE.EnlargeGuestInviteType_ENLARGE&&p.F.info("已向嘉宾发送邀请，同意后嘉宾放大至主咖位"),Promise.resolve(o)):(u.kg.error("设置主咖失败",o,i),Promise.reject(o))})},[O,U]),z=S.useCallback(e=>{(0,n.E3)({room_id:O,kickout_uids_str:e}).then(e=>{var t,o;let{data:i,logId:n}=e;return((null==i?void 0:i.status_code)!==0&&p.F.info((null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.prompts)||"取消全部主咖失败",U.root),(null==i?void 0:i.status_code)!==0)?(u.kg.error("取消全部主咖失败",i,n),Promise.reject(i)):(null==i?void 0:i.prompts)?(p.F.info((null==i?void 0:null===(o=i.data)||void 0===o?void 0:o.prompts)||"取消全部主咖失败",U.root),Promise.reject(i)):Promise.resolve(i)})},[O]),X=S.useCallback((e,t)=>{(0,n.YG)({room_id:O,to_user_id:e,reply_type:t}).then(e=>{var t,o;let{data:n,logId:r}=e;if((null==n?void 0:n.status_code)!==0&&p.F.info((null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.prompts)||"回复邀请失败",U.root),(null==n?void 0:n.status_code)!==0)return u.kg.error("回复邀请失败",n,r),Promise.reject(n);if(A){let e=new CustomEvent("webcast_linkmic_open_video",{detail:(0,i._)({},(null==n?void 0:n.data)||{})});null===(o=document)||void 0===o||o.dispatchEvent(e)}return Promise.resolve(n)})},[O,U,A]);return{apply:D,leave:B,join:$,joinWithoutChannle:q,silence:K,unSilence:J,enableVideo:W,disableVideo:Q,switchMic:H,kickout:Y,enlargeInvite:Z,enlargeClose:z,applyCameraInvite:X,applyLinkInvite:S.useCallback((e,t,o)=>{let r=A?n.Ks:n.fF,l={room_id:O,sec_to_user_id:e,reply_type:t,link_type:o};A&&(l.to_user_id=e),r(l).then(e=>{var t,o;let{data:n,logId:r}=e;if((null==n?void 0:n.status_code)!==0){if((null==n?void 0:n.status_code)===30010){p.F.info("您当前未实名认证，请去手机端进行实名认证后重试",U.root);return}(null==n?void 0:n.status_code)===4004272&&N(!0),p.F.info((null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.prompts)||"回复邀请失败",U.root)}if((null==n?void 0:n.status_code)!==0)return u.kg.error("回复邀请失败",n,r),Promise.reject(n);{u.kg.info("同意上麦回调",n),null==M||M.linkmicReadyToLink(k.CT.Invite);let e=new CustomEvent("webcast_join_room_invite",{detail:(0,i._)({},(0,a.OM)(null==n?void 0:n.data))});return null===(o=document)||void 0===o||o.dispatchEvent(e),Promise.resolve(n)}})},[O,U,N]),isNewVideoLinkmicRoom:A}}},571235:function(e,t,o){o.d(t,{S:function(){return r}});var i=o(509090),n=o(88506);let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"购买门票后可使用该功能";(0,n.ys)(e),i.F.info(t)}},986371:function(e,t,o){o.d(t,{Az:function(){return n},Uz:function(){return i},cf:function(){return r}});var i={GIFT:1,1:"GIFT"},n={NORMAL:1,1:"NORMAL",LINK:2,2:"LINK"};let r=[1]},930083:function(e,t,o){o.d(t,{b:function(){return v},w:function(){return c}}),o(874386);var i=o(563097),n=o(88648),r=o(713097),l=o.n(r),a=o(385612),u=o(40335),d=o(218805),s=o(441447);let c=e=>{let{balance:t,giftImg:o,giftName:i,coinName:n,isEnoughMoney:r=!0}=e;return r?`
    <div style="height: 22px;font-size: 14px;line-height: 22px;display: flex;align-items: center;">
      充值后自动送出
      <img
        style="width: 28px;height: 28px;margin: 0 6px;"
        src="${o}"
      />
      <span>${i}</span>
      （还差${t}${n}）
    </div>
  `:`
      <div style="height: 22px;font-size: 14px;line-height: 22px;display: flex;align-items: center;">
        充值金额不够无法送出
        <img
          style="width: 28px;height: 28px;margin: 0 6px;"
          src="${o}"
        />
        <span>${i}</span>
        （仅作为${n}充值）
      </div>`},v=e=>{let{balance:t=0,giftImg:o,giftName:r,isEnoughMoney:c,autoCheck:v,onCheckChange:_}=e,[f,p]=(0,n.useState)(v),[m,g]=(0,n.useState)(c),[h,y]=(0,n.useState)(t),[L,b]=(0,n.useState)(o),[S,I]=(0,n.useState)(r),{rechargeConfig:k}=(0,u.K)();return((0,n.useEffect)(()=>{let e=s.listen(s.EVENT.updateRechargeAutoNext,e=>{let{isEnoughMoney:t,balance:o,giftImg:i,giftName:n}=e;g(t),y(o),b(i),I(n)});return()=>e()},[]),m)?(0,i.jsxs)("div",{className:l()(a.default.commonContainer),children:[(0,i.jsx)(d.Checkbox,{checked:f,onChange:e=>{null==_||_(e.target.checked),p(e.target.checked)}}),(0,i.jsxs)("div",{className:l()(a.default.content),children:["充值后自动送出",(0,i.jsx)("img",{className:a.default.giftImg,src:L}),(0,i.jsx)("span",{children:S}),`（还差${h}${k.name||"抖币"}）`]})]}):(0,i.jsxs)("div",{className:l()(a.default.commonContainer),children:[(0,i.jsx)(d.Checkbox,{disabled:!0,checked:f}),(0,i.jsxs)("div",{className:a.default.content,style:{height:22,fontSize:14,lineHeight:22,display:"flex",alignItems:"center",color:"#fe2c55"},children:["充值金额不够无法送出",(0,i.jsx)("img",{style:{width:28,height:28,margin:"0 6px"},src:L}),(0,i.jsx)("span",{children:S}),"（仅作为",k.name||"抖币","充值）"]})]})}},611873:function(e,t,o){o.d(t,{K:function(){return c},_:function(){return s}}),o(874386);var i=o(563097),n=o(88648),r=o(713097),l=o.n(r),a=o(747594),u=o(40335),d=o(218805);let s=e=>{let{coinName:t}=e;return`
    <div style="height: 22px;font-size: 14px;line-height: 22px;">
      充值后将自动加入主播粉丝团（1${t}）
    </div>
  `},c=e=>{let{className:t,autoCheck:o,onCheckChange:r}=e,{rechargeConfig:s}=(0,u.K)(),[c,v]=(0,n.useState)(o);return(0,i.jsxs)("div",{className:l()(a.default.commonContainer,t),children:[(0,i.jsx)(d.Checkbox,{checked:c,onChange:e=>{null==r||r(e.target.checked),v(e.target.checked)}}),(0,i.jsx)("div",{className:a.default.content,children:`充值后将自动加入主播粉丝团（1${s.name}）`})]})}},62696:function(e,t,o){let i;o.d(t,{C:function(){return L},J:function(){return y}});var n=o(520739),r=o(878389),l=o(368200),a=o(563097),u=o(88648),d=o(944189),s=o(602038),c=o(654533),v=o(737271),_=o(818597),f=o(289228),p=o(611873),m=o(930083);let g=(0,c.At)().createLazyComponent({loader:()=>(0,c.At)().loadRemote("@revenue-wallet-fe/recharge-web"),export:"default",fallback:e=>{let{error:t,errorType:o,dataFetchMapKey:i}=e;return null}}),h=e=>{let t;let{renderType:o,autoNextType:i,onAutoNextChange:u,autoSendGiftParams:d}=e,c=(0,l._)(e,["renderType","autoNextType","onAutoNextChange","autoSendGiftParams"]);return("fans"===i?t=()=>(0,a.jsx)(p.K,{onCheckChange:u,autoCheck:!0}):"gift"===i&&(t=()=>(0,a.jsx)(m.b,{onCheckChange:u,autoCheck:!0,giftImg:null==d?void 0:d.giftImg,giftName:null==d?void 0:d.giftName,balance:null==d?void 0:d.balance,isEnoughMoney:null==d?void 0:d.isEnoughMoney})),"modal"===o)?(0,a.jsx)(f.k,{componentName:"RechargePanelRemoteLive",children:(0,a.jsxs)("div",{className:s.default.container,children:[(0,a.jsx)("div",{className:s.default.mask}),(0,a.jsx)("div",{style:{height:"auto"},children:(0,a.jsx)(g,(0,r._)((0,n._)({},c),{headerRenderer:t?t():void 0}))})]})}):(0,a.jsx)(f.k,{componentName:"RechargePanelRemoteLive",children:(0,a.jsx)(g,(0,r._)((0,n._)({},c),{headerRenderer:t?t():void 0}))})},y=e=>{let{container:t,onClose:o,remoteRechargeContainerRendered:u,setRemoteRechargeContainerRendered:s}=e,c=(0,l._)(e,["container","onClose","remoteRechargeContainerRendered","setRemoteRechargeContainerRendered"]),{root:_}=e,f=e=>{if(null==o||o(e),_){var t;null==s||s(!1),i=!1,null===(t=_.unmount)||void 0===t||t.call(_),_=null}};if(!u)if(s(!0),t)(_=(0,d.createRoot)(t)).render((0,a.jsx)(h,(0,r._)((0,n._)({},c),{onClose:f,renderType:"panel"})));else{let e=document.createElement("div");document.body.appendChild(e),(0,v.r)()&&(i=!0),(_=(0,d.createRoot)(e)).render((0,a.jsx)(h,(0,r._)((0,n._)({},c),{onClose:f,renderType:"modal"})))}},L=()=>{let e=(0,u.useRef)(null),{rechargeStore:{setRemoteRechargeContainerRendered:t,remoteRechargeContainerRendered:o}}=(0,_.o)();return(0,u.useEffect)(()=>()=>{if(e.current&&!i){var o,n;i=!1,null===(o=(n=e.current).unmount)||void 0===o||o.call(n),e.current=null,t(!1)}},[]),{showRecharge:u=>{let{container:s,onClose:c}=u,_=(0,l._)(u,["container","onClose"]);if(o)return;t(!0);let f=o=>{if(null==c||c(o),e.current){var n,r;null==t||t(!1),i=!1,null===(n=(r=e.current).unmount)||void 0===n||n.call(r),e.current=null}};if(s)e.current=(0,d.createRoot)(s),e.current.render((0,a.jsx)(h,(0,r._)((0,n._)({},_),{onClose:f,renderType:"panel"})));else{let t=document.createElement("div");document.body.appendChild(t),(0,v.r)()&&(i=!0),e.current=(0,d.createRoot)(t),e.current.render((0,a.jsx)(h,(0,r._)((0,n._)({},_),{onClose:f,renderType:"modal"})))}},hideRecharge:()=>{if(e.current){var o,n;t(!1),i=!1,null===(o=(n=e.current).unmount)||void 0===o||o.call(n),e.current=null}}}}},700061:function(e,t,o){o.d(t,{W:function(){return n},t:function(){return i}});var i={ContainerBackgroundLayout:"ContainerBackgroundLayout",LeftBackgroundLayout:"LeftBackgroundLayout",RightBackgroundLayout:"RightBackgroundLayout",PlayerLayout:"PlayerLayout",LinkMicBackgroundLayout:"LinkMicBackgroundLayout",LinkMicLayout:"LinkMicLayout",PlayerControlLayout:"PlayerControlLayout",LinkMicAnimationLayout:"LinkMicAnimationLayout",LikeLayout:"LikeLayout",HeaderLayout:"HeaderLayout",HeaderLeftLayout:"HeaderLeftLayout",HeaderRightLayout:"HeaderRightLayout",ShortTouchLayout:"ShortTouchLayout",ServiceCenterLayout:"ServiceCenterLayout",BottomLayout:"BottomLayout",EcmoCardLayout:"EcmoCardLayout",ChatRoomLayout:"ChatRoomLayout",GiftTrayLayout:"GiftTrayLayout",RightPanelLayout:"RightPanelLayout",GiftEffectLayout:"GiftEffectLayout",TipsLayout:"TipsLayout",GlobalLayout:"GlobalLayout",DanmakuLayout:"DanmakuLayout",WaterMarkLayout:"WaterMarkLayout",GiftMenuLayout:"GiftMenuLayout"},n={ContainerBackgroundLayout:0,0:"ContainerBackgroundLayout",LeftBackgroundLayout:1,1:"LeftBackgroundLayout",RightBackgroundLayout:1,1:"RightBackgroundLayout",PlayerLayout:2,2:"PlayerLayout",LinkMicBackgroundLayout:4,4:"LinkMicBackgroundLayout",LinkMicLayout:5,5:"LinkMicLayout",PlayerControlLayout:6,6:"PlayerControlLayout",LinkMicAnimationLayout:7,7:"LinkMicAnimationLayout",LikeLayout:3,3:"LikeLayout",HeaderLayout:7,7:"HeaderLayout",DanmakuLayout:8,8:"DanmakuLayout",HeaderLeftLayout:8,8:"HeaderLeftLayout",HeaderRightLayout:8,8:"HeaderRightLayout",ShortTouchLayout:8,8:"ShortTouchLayout",ServiceCenterLayout:8,8:"ServiceCenterLayout",BottomLayout:10,10:"BottomLayout",EcmoCardLayout:8,8:"EcmoCardLayout",ChatRoomLayout:8,8:"ChatRoomLayout",GiftTrayLayout:101,101:"GiftTrayLayout",RightPanelLayout:9,9:"RightPanelLayout",GiftEffectLayout:10,10:"GiftEffectLayout",TipsLayout:1e4,1e4:"TipsLayout",GlobalLayout:100001,100001:"GlobalLayout",WaterMarkLayout:13,13:"WaterMarkLayout",GiftMenuLayout:102,102:"GiftMenuLayout"}},508269:function(e,t,o){o.d(t,{B:function(){return i}});let i={recharge:"钻石充值",balance:"你的钻石余额不足，请充值"}},605536:function(e,t,o){o.d(t,{h:function(){return l}});var i=o(134761),n=o(520739);o(268917);var r=o(104013),l={Before:"before",After:"after"};t.Z=new class e{defineLayoutItem(e){let t=(0,n._)({index:0,id:e.ComponentName,location:"after"},e);!this.layoutConfig[t.layoutName]&&(this.layoutConfig[t.layoutName]=[]),!this.layoutConfig[t.layoutName].find(e=>e.ComponentName===t.ComponentName)&&this.layoutConfig[t.layoutName].push(t)}getComponent(e){return this.layoutConfig[e]||[]}setLayout(e){this.layouts[e.name]=e}getLayout(e){return this.layouts[e]}deleteLayout(e){delete this.layouts[e]}getLayoutRoot(e){let t=this.layouts[e];return t?document.querySelector(`#${t.id}`):null}constructor(){(0,i._)(this,"layoutConfig",{}),(0,i._)(this,"layouts",{}),(0,r.makeAutoObservable)(this,{})}}},736145:function(e,t,o){o.d(t,{Bp:function(){return c},ZP:function(){return p},e1:function(){return v}});var i=o(134761),n=o(94659),r=o(104013),l=o(571235),a=o(645260),u=o.n(a),d=o(618360),s=o(128487),c={BAN:0,0:"BAN",OPEN:1,1:"OPEN"},v={MultiCamera:"MultiCamera",FansClub:"FansClub",SendGift:"SendGift",DANMU:"DANMU",Chat:"Chat",Link:"Link",FullScreen:"FullScreen",PIP:"PIP"};let _={MultiCamera:1,FansClub:1,Link:1,Chat:1,DANMU:1,SendGift:1,FullScreen:1,PIP:1},f={[d.ku.TRY_WATCH_ING]:{MultiCamera:0,FansClub:0,Link:0,Chat:1,DANMU:1,SendGift:1,FullScreen:0,PIP:0},[d.ku.TRT_WATCH_FINISH]:{MultiCamera:0,FansClub:0,Link:0,Chat:0,DANMU:0,SendGift:0,FullScreen:0,PIP:0},[d.ku.NORMAL_WATCH]:_};class p extends n.Z{get paidLiveBurryContrl(){return this.paidLiveBurryContrlDefault||this.paidLiveBurryContrlValue}get paidLiveBurryContrlDefault(){return!this.isPaidLive}get isPaidLive(){return Number(u()(this.paidLiveData,"paid_type",0))===s.PAID_LIVE_TYPE.PAID_LIVE}infoWarn(e){(0,l.S)(e)}constructor(){super(),(0,i._)(this,"viewType",d.ku.BAN),(0,i._)(this,"retType",d.Pf.NORMAL_WATCH),(0,i._)(this,"paidLiveData",null),(0,i._)(this,"paidLiveAuth",_),(0,i._)(this,"qrcodeVisible",!1),(0,i._)(this,"paidLiveBurryContrlValue",!1),(0,i._)(this,"makeObservable",()=>{(0,r.makeObservable)(this,{paidLiveData:r.observable,setPaidLiveData:r.action,retType:r.observable,setRetType:r.action,viewType:r.observable,setViewType:r.action,paidLiveAuth:r.observable,setPaidLiveAuth:r.action,qrcodeVisible:r.observable,setQrcodeVisible:r.action,isPaidLive:r.computed,paidLiveBurryContrlValue:r.observable,setPaidLiveBurryContrl:r.action,paidLiveBurryContrl:r.computed,paidLiveBurryContrlDefault:r.computed})}),(0,i._)(this,"setPaidLiveBurryContrl",e=>{this.paidLiveBurryContrlValue=e}),(0,i._)(this,"setPaidLiveData",e=>{if("function"==typeof e){var t;this.paidLiveData=e(null!==(t=this.paidLiveData)&&void 0!==t?t:{});return}let o=Number(u()(e,"view_right",0))?d.Pf.NORMAL_WATCH:d.Pf.TRY_WATCH_ING;this.setRetType(o),this.paidLiveData=e}),(0,i._)(this,"setViewType",e=>{this.viewType=e,this.paidLiveAuth=f[e]}),(0,i._)(this,"setPaidLiveAuth",e=>{this.paidLiveAuth=e}),(0,i._)(this,"setRetType",e=>{this.retType=e}),(0,i._)(this,"setQrcodeVisible",e=>{this.qrcodeVisible=e});this.makeObservable()}}},197911:function(e,t,o){o.d(t,{BU:function(){return S},Js:function(){return k},S6:function(){return C},TG:function(){return A},Yr:function(){return m},Zk:function(){return I},c3:function(){return w},m8:function(){return R},mL:function(){return T},mS:function(){return E},rp:function(){return F},us:function(){return N},wU:function(){return h},x_:function(){return g}});var i=o(520739),n=o(878389);o(250440),o(527785),o(268917),o(874386),o(675373),o(882732),o(544943),o(779788),o(981168);var r=o(645260),l=o.n(r),a=o(443646),u=o(709606),d=o(75978),s=o(688432),c=o(328155),v=o(441447),_=o(914104);let f=()=>{try{let{location:e}=window;return"www.douyin.com"===e.host&&!(0,c.Nr)(e.pathname)}catch(e){return!1}},p=()=>!!f()&&(v.emit(v.EVENT.LivePreviewLoginSuccess),!0),m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[u.o0.CHEAP,u.o0.FREE].includes(Number(e.type))},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[u.o0.EXPENSIVE,u.o0.FACE,u.o0.FANS_GIFT,u.o0.FLY_LINKMIC,u.o0.INTERACT_GIFT].includes(Number(e.type))},h=e=>(null==e?void 0:e.price)>=99,y=e=>e.map(e=>{let{group_count:t,group_text:o}=e;return{groupCount:t,groupText:o}}),L=e=>{let{id:t,name:o,type:i,diamond_count:n,primary_effect_id:r,is_displayed_on_panel:a,group_info:d=[],honor_level:s,gift_scene:c}=e;return{id:t,name:o,type:i,price:n,effectId:r,onPanel:a,groupInfo:y(d),honorLevel:s,fansClubLevel:l()(e,"fansclub_info.min_level")||u._q[t],lockStatus:l()(e,"gift_preview_info.lock_status"),blockToast:l()(e,"gift_preview_info.block_toast"),label:l()(e,"gift_label_icon.url_list.0"),icon:l()(e,"icon.url_list.0"),giftScene:c,namingAvatar:l()(e,"top_right_avatar.url_list.0"),reqExtraType:l()(e,"req_extra_type",0),afterSendAction:l()(e,"after_send_action",0)}},b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(e=>L(e))},S=e=>e.map(e=>{var t;let{page_name:o="",page_type:i=0}=e,n=i===u.kQ.OLD_CARATED?null==e?void 0:null===(t=e.section_info)||void 0===t?void 0:t.reduce((e,t)=>null==e?void 0:e.concat(null==t?void 0:t.gifts),[]):e.gifts;return{pageName:o,pageType:i,display:!!e.display,giftList:b(n)}}),I=e=>{let{rawGiftPages:t,giftScene:o}=e;try{let e=t.find(e=>e.page_type===u.kQ.GIFT&&e.display);if(!e)return[];let{page_name:i="",page_type:n=0,gifts:r}=e,l=[];for(let e of r){let t=L(e);if((0,s.cb)(t,o,1)&&l.push(t),l.length>=20)break}return[{pageName:i,pageType:n,display:!0,giftList:l}]}catch(e){var i,n;null===(n=(0,_.OK)())||void 0===n||null===(i=n.sendEvent)||void 0===i||i.call(n,{name:"get_first_gift_pages_error",metrics:{count:1},categories:{error:e,giftScene:o}})}},k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(e=>{let{id:t,name:o,md5:i,resource_type:n,resource_url:r={}}=e;return{id:t,name:o,md5:i,type:n,src:l()(r,"url_list.0")}})},C=e=>{let{h:t,w:o,videoH:i,videoW:n,aFrame:r,rgbFrame:a}=l()(e,"portrait",{}),u=((e,t)=>{if(1200===e&&540===t)return 900;if(810===e&&1440===t)return e;if(e>=2e3||e>=1400&&t>=1400)return e/4;else if(e>640)return e/2;else return e})(Number(t),Number(o))||640,d=Number(o)*(u/Number(t))||360;return{height:u,width:d,videoHeight:i,videoWidth:n,aFrame:r,rgbFrame:a,muted:!0}},w=async e=>{try{var t,r,l,a,u;let{ZipReader:d,HttpReader:s,TextWriter:c,BlobWriter:v}=await o.e("1104").then(o.bind(o,262733)),_=new d(new s(e,{preventHeadRequest:!0})),f=await (null==_?void 0:_.getEntries()),p=f.find(e=>"config.json"===e.filename),m=await (null==p?void 0:null===(t=p.getData)||void 0===t?void 0:t.call(p,new c)),g=JSON.parse(m),h=null==g?void 0:null===(r=g.portrait)||void 0===r?void 0:r.path,y=f.find(e=>e.filename===h),L=await (null==y?void 0:null===(l=y.getData)||void 0===l?void 0:l.call(y,new v)),b=null===(a=URL)||void 0===a?void 0:a.createObjectURL(L),S=null===(u=URL)||void 0===u?void 0:u.createObjectURL(new Blob([JSON.stringify({portrait:(0,n._)((0,i._)({},g.portrait),{path:b})})]));return{media:L,config:g,localMediaPath:b,localConfigPath:S}}catch(e){return{media:null,config:null}}},P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{displayKey:l()(e,"key"),displayText:l()(e,"defaultPattern")||l()(e,"default_pattern"),pieces:l()(e,"pieces",[]).map(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{displayText:l()(e,"stringValue")||l()(e,"string_value")}})}},E=(e,t)=>t.find(t=>Number(t.id)===Number(e))||{},N=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.filter(e=>e.isSelf),o=e.filter(e=>!e.isSelf);return[...t,...o.sort((e,t)=>l()(e,"gift.price")>l()(t,"gift.price")?-1:1).slice(0,100)]},A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.map(e=>{let n;let r=(l()(e,"method")===u.ZP.WEBCAST_BINDING_GIFT_MESSAGE?l()(e,"payload.msg"):l()(e,"payload"))||{};try{let e=l()(r,"diy_item_info","[]");e&&(n=JSON.parse(e))}catch(e){}let d=Number(l()(r,"gift_id")),s=l()(r,"gift")||{},c=l()(r,"user")||{},v=l()(r,"tray_info")||{},_=l()(r,"tray_display_text")||{},f=t.find(e=>Number(e.id)===Number(d))||{},p=Number(l()(n,"[0].values.mp4_asset","")||l()(s,"primary_effect_id"))||f.effectId,m=o.find(e=>Number(e.id)===Number(p))||{},g=Number(l()(r,"repeat_count")||l()(r,"combo_count")),h=Number(l()(r,"banned_display_effects"));return{isSelf:e.isSelf,method:e.method,diyItemInfo:n,user:{id:c.sec_uid||c.id_str,name:c.nickname,avatar:(0,a.uC)(l()(c,"avatar_thumb.url_list.0"))},gift:{id:d,name:s.name||f.name,price:s.diamond_count||f.price,type:s.type||f.type,icon:(0,a.uC)(l()(s,"image.url_list.0")||f.icon)},tray:{combo:g,target:g,displayTextConfig:P(_),bgImg:(0,a.uC)(l()(v,"tray_base_img.url_list.0")),dynamicIcon:(0,a.uC)(l()(v,"tray_dynamic_img.url_list.0")),type:Number(l()(v,"tray_type")),isNaming:Number(l()(v,"tray_type"))===u.ms.NAMING,banned:(h&u.qn.TRAY)===u.qn.TRAY},effect:(0,i._)({id:p,banned:(h&u.qn.EFFECT)===u.qn.EFFECT},m)}}).filter(e=>l()(e,"user.id")&&l()(e,"user.name")&&l()(e,"gift.id")&&l()(e,"gift.name")&&l()(e,"tray.combo"))},T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=e.gift_id,c=l()(e,"gifts.0")||{},v=l()(e,"gift_struct")||{},_=l()(c,"display_text.pieces.0.user_value.user")||n,f=c.tray_info||{},p=c.tray_display_text||{},m=t.find(e=>Number(e.id)===Number(s))||{},g=Number(l()(r,"[0].values.mp4_asset")||l()(v,"primary_effect_id"))||m.effectId,h=o.find(e=>Number(e.id)===Number(g))||{},y=e.repeat_count||e.combo_count;return[{isSelf:!0,increasedCount:d,user:{id:_.sec_uid,name:_.nickname,avatar:(0,a.uC)(l()(_,"avatar_thumb.url_list.0"))},gift:{id:s,name:c.name||m.name,price:c.diamond_count||m.price,type:c.type||m.type,icon:(0,a.uC)(l()(c,"image.url_list.0")||m.icon)},diyItemInfo:r,tray:{combo:y,target:y,displayTextConfig:P(p),bgImg:(0,a.uC)(l()(f,"tray_base_img.url_list.0")),dynamicIcon:(0,a.uC)(l()(f,"tray_dynamic_img.url_list.0")),type:Number(l()(f,"tray_type")),isNaming:Number(l()(f,"tray_type"))===u.ms.NAMING},effect:(0,i._)({id:g},h)}].filter(e=>l()(e,"user.id")&&l()(e,"gift.id")&&l()(e,"tray.combo"))},R=async function(){var e,t;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(await (0,d.p)())({headerText:o,enterMethod:i,next:`https://${null===(t=window)||void 0===t?void 0:null===(e=t.location)||void 0===e?void 0:e.host}`,success:()=>{if(!p()){var e,t,o;null===(o=window)||void 0===o||null===(t=o.location)||void 0===t||null===(e=t.reload)||void 0===e||e.call(t)}}})},F=e=>{var t,o;e&&(null==e?void 0:e.fullscreen)&&(null==e||null===(o=e.plugins)||void 0===o||null===(t=o.fullscreen)||void 0===t||t.changeFullScreen())}},54992:function(e,t,o){o.d(t,{FL:function(){return s},Yt:function(){return u},s1:function(){return d}}),o(429532);var i,n=o(818597),r=o(782580),l=o(277811);let a={headerText:"登录后即可参与互动",next:"undefined"!=typeof location?`https://${null===(i=location)||void 0===i?void 0:i.host}`:void 0,enterMethod:"live_room"},u=()=>{var e;let t=(0,n.o)(),o=null==t?void 0:null===(e=t.userStore)||void 0===e?void 0:e.userInfo,i=!!((null==o?void 0:o.id_str)||(null==o?void 0:o.id));return(0,r.useGetLoginLimitAB)()&&!i};function d(e){return t=>{var o,i,n;if(!(null==t?void 0:t.ignoreABCheck)&&!(0,r.getLoginLimitAB)(e))return!0;let u=null==e?void 0:null===(o=e.userStore)||void 0===o?void 0:o.userInfo;if((null==u?void 0:u.id_str)||(null==u?void 0:u.id))return!0;let d=Object.assign({headerText:"登录后即可参与互动",success:async()=>{window.location.reload()},next:`https://${null===(n=window)||void 0===n?void 0:null===(i=n.location)||void 0===i?void 0:i.host}`},a,t);return(0,l.x)(d),!1}}function s(){return d((0,n.o)())}}}]);