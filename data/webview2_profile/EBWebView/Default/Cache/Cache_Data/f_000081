(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["24276"],{161102:function(e,t,l){"use strict";l.d(t,{Z:function(){return I}}),l("874386"),l("250440");var n=l("563097"),a=l("88648"),o=l("627233"),i=l("637672"),r=l("379788"),s=l("794675");let d=e=>{let{objectId:t,schemaType:l=1}=e,[o,i]=(0,a.useState)();return(0,a.useEffect)(()=>{let n=`schema_type=${l}&object_id=${t}`;(0,r.ep)(e.objectId,{schema:n}).then(e=>{!e||(null==e?void 0:e.statusCode)?s.F.info("服务器打瞌睡了，请稍后再试"):i(null==e?void 0:e.qrcodeUrl)})},[t,l]),(0,n.jsx)("img",{className:e.className,src:o})};var u=l("643527"),c=l("831153"),v=l("560244"),p=l("252731"),f=l("816246"),h=l("392188"),m=l("875463"),g=l("520739"),_=l("878389");let x=(0,a.forwardRef)((e,t)=>(0,n.jsx)("svg",(0,_._)((0,g._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,n.jsx)("path",{d:"M20.566 9.364a1.929 1.929 0 0 1 2.727 2.727l-5.637 5.637 5.637 5.637a1.928 1.928 0 1 1-2.727 2.727l-6.985-6.985-.016-.015a1.929 1.929 0 0 1 0-2.728l7-7z",fill:"#0A0C20"})})));var w=e=>{let{visible:t,defaultValue:l=[],onCancel:o,onOk:i}=e,[r,s]=(0,a.useState)(l),{ReportEntry:d}=window;return d?(0,n.jsx)(p.u,{title:(0,n.jsxs)("div",{className:h.default.title,children:[(0,n.jsx)(m.n,{className:h.default.icon,src:x,width:24,height:24,onClick:()=>o()}),(0,n.jsx)("div",{children:"选择聊天证据"})]}),visible:t,showClose:!1,onCancel:()=>o(),footer:(0,n.jsx)(f.z,{style:{width:"100%"},onClick:()=>i(r),disabled:!r.length,children:"确定"}),children:(0,n.jsx)("div",{className:h.default.messageContainer,children:(0,n.jsx)(d,{onMessageSelect:e=>s(e),selectedMessage:r})})}):null},j=l("599961"),y=l("462111");let b=e=>{var t,l,r,s,v;let{reportScene:p,objectId:f,reasonList:h,reasonMap:m,onChange:g,abtestData:_}=e,[x,w]=(0,a.useState)(),[b,C]=(0,a.useState)(),[N,I]=(0,a.useState)(),[S,L]=(0,a.useState)(),[k,M]=(0,a.useState)(),E=!!(null==_?void 0:_.openQinquan)&&x===y.eK;return(0,a.useEffect)(()=>{let e=!!E||(p===y.Ry.USER?b:x&&x!==y.eK);g({reasonCode:b||x,reportLabels:N,reportDesc:S,imgList:k,validate:e})},[x,b,N,S,_]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o._,{text:"举报原因",required:!0}),(0,n.jsx)(i.E,{column:3,optionList:h,value:x,onChange:e=>{w(e),C(void 0),I(void 0)}}),x===y.eK?E?(0,n.jsx)("div",{className:j.default.jumpText,children:"侵权问题需要详细举证，提交后进入批量侵权举报页面"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:j.default.infringement,children:["侵权问题需要详细举证，可扫描下方抖音码前往",(0,n.jsx)("br",{}),"「抖音APP」进行侵权举报"]}),(0,n.jsx)(d,{className:j.default.douyinCode,objectId:f,schemaType:p===y.Ry.USER?4:1})]}):(0,n.jsxs)(n.Fragment,{children:[(null===(l=m.get(x))||void 0===l?void 0:null===(t=l.children)||void 0===t?void 0:t.length)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o._,{text:"请选择具体的类型",required:p===y.Ry.USER}),(0,n.jsx)(i.E,{column:3,optionList:null===(r=m.get(x))||void 0===r?void 0:r.children,value:b,onChange:C})]}),(null===(v=m.get(x))||void 0===v?void 0:null===(s=v.report_labels)||void 0===s?void 0:s.length)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o._,{text:"请选择具体的类型"}),(0,n.jsx)(i.E,{column:3,optionList:m.get(x).report_labels,value:N,onChange:I})]}),(0,n.jsx)(o._,{text:"举报描述"}),(0,n.jsx)(u.K,{maxLength:200,placeholder:"请详细描述举报原因，便于平台判断违规情况",minHeight:75,value:S,onChange:L}),(0,n.jsxs)("div",{className:j.default.uploadContainer,children:[(0,n.jsx)(c.U,{value:k,onChange:M}),(0,n.jsx)("div",{className:j.default.uploadTips,children:"每张小于 10M，支持JPG、PNG格式，最多上传4张"})]})]})]})},C=e=>{var t,l,r,s,d;let{reasonList:u,reasonMap:c,onChange:p}=e,[f,h]=(0,a.useState)(),[m,g]=(0,a.useState)(),[_,x]=(0,a.useState)(),[j,y]=(0,a.useState)(),[b,C]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=f&&(null==j?void 0:j.length);p({reasonCode:m||f,reportLabels:_,chatList:j,validate:e})},[f,m,_,j]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o._,{text:"举报原因",required:!0}),(0,n.jsx)(i.E,{column:3,optionList:u,value:f,onChange:e=>{h(e),g(void 0),x(void 0)}}),(null===(l=c.get(f))||void 0===l?void 0:null===(t=l.children)||void 0===t?void 0:t.length)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o._,{text:"请选择具体的类型"}),(0,n.jsx)(i.E,{column:3,optionList:null===(r=c.get(f))||void 0===r?void 0:r.children,value:m,onChange:g})]}),(null===(d=c.get(f))||void 0===d?void 0:null===(s=d.report_labels)||void 0===s?void 0:s.length)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o._,{text:"请选择具体的类型"}),(0,n.jsx)(i.E,{column:3,optionList:c.get(f).report_labels,value:_,onChange:x})]}),(0,n.jsx)(o._,{text:"聊天证据",required:!0}),(0,n.jsx)(v.R,{value:(null==j?void 0:j.length)?`已添加${j.length}条聊天证据`:"添加聊天证据",onClick:()=>C(!0)}),(0,n.jsx)(w,{visible:b,defaultValue:j,onCancel:()=>C(!1),onOk:e=>{y(e),C(!1)}})]})},N=e=>{var t,l,r,s,u;let{videoId:c,reasonList:v,reasonMap:p,onChange:f}=e,[h,m]=(0,a.useState)(),[g,_]=(0,a.useState)(),[x,w]=(0,a.useState)();return(0,a.useEffect)(()=>{let e=h&&h!==y.Hp;f({reasonCode:g||h,reportLabels:x,validate:e})},[h,g,x]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o._,{text:"举报原因",required:!0}),(0,n.jsx)(i.E,{column:3,optionList:v,value:h,onChange:e=>{m(e),_(void 0),w(void 0)}}),h===y.Hp?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:j.default.infringement,children:["侵权问题需要详细举证，可扫描下方抖音码前往",(0,n.jsx)("br",{}),"「抖音APP」进行侵权举报"]}),(0,n.jsx)(d,{className:j.default.douyinCode,objectId:c})]}):(0,n.jsxs)(n.Fragment,{children:[(null===(l=p.get(h))||void 0===l?void 0:null===(t=l.children)||void 0===t?void 0:t.length)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o._,{text:"请选择具体的类型"}),(0,n.jsx)(i.E,{column:3,optionList:null===(r=p.get(h))||void 0===r?void 0:r.children,value:g,onChange:_})]}),(null===(u=p.get(h))||void 0===u?void 0:null===(s=u.report_labels)||void 0===s?void 0:s.length)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o._,{text:"请选择具体的类型"}),(0,n.jsx)(i.E,{column:3,optionList:p.get(h).report_labels,value:x,onChange:w})]})]})]})};var I=e=>{let{reportScene:t,reasonData:l,dataSource:a,onValuesChange:o,abtestData:i}=e,{object_id:r,video_id:s}=a,{reasonList:d=[],reasonMap:u=new Map}=l;return(0,n.jsxs)("div",{children:[[y.Ry.VIDEO,y.Ry.IMAGE,y.Ry.USER].includes(t)&&(0,n.jsx)(b,{reportScene:t,objectId:r,reasonList:d,reasonMap:u,onChange:o,abtestData:i}),[y.Ry.IM,y.Ry.IM_GROUP].includes(t)&&(0,n.jsx)(C,{reasonList:d,reasonMap:u,onChange:o}),[y.Ry.COMMENT].includes(t)&&(0,n.jsx)(N,{videoId:s,reasonList:d,reasonMap:u,onChange:o})]})}},27618:function(e,t,l){"use strict";var n=l(520739);l(874386),l(250440),l(779788),l(268917);var a=l(563097),o=l(88648),i=l(309931),r=l(254127),s=l(794675),d=l(252731),u=l(816246),c=l(161102),v=l(501206),p=l(66863),f=l(713097),h=l.n(f),m=l(441447),g=l(725887),_=l(747986),x=l(703724),w=l(462111),j=l(327718);t.Z=e=>{let{pipelineId:t,dataSource:l,logParams:f,onReport:y,toast:b,abtestData:C}=e,{object_id:N,owner_id:I,owner_sec_id:S,user_id:L,comment_with_emoji:k,enter_from:M,con_short_id:E}=l,[R,P]=(0,o.useState)(!0),[T,A]=o.useState(r.default.zoomIn),[W,U]=(0,o.useState)(),[O,z]=(0,o.useState)(),D=!!(null==C?void 0:C.openQinquan)&&O&&O.reasonCode===w.eK,F=o.useCallback(()=>{A(r.default.zoomOut),setTimeout(()=>{var t;P(!1),i.unmountComponentAtNode(e.portalRef),e.portalRef.remove(),null===(t=e.onClose)||void 0===t||t.call(e)},300)},[e.onClose]);(0,o.useEffect)(()=>{let e=m.listen(m.EVENT.hideModal,F);return()=>{e()}},[F]),(0,o.useEffect)(()=>()=>{g.Le.setConfig(g.gI.IsAlreadyExsitReportModal,!1)},[]),(0,v.O)({onChange:e=>{let{isFullscreen:t}=e;t&&F()}});let B=(e,t)=>b?null==b?void 0:b(e,t):s.F.info(e,t),Z=async()=>{let e,t,l;let a=await (0,j.b)(S),{reasonCode:o,reportLabels:i,reportDesc:r,imgList:s,chatList:d}=O,{reportScene:u,reasonData:c}=W;if(D){window.open("https://www.douyin.com/qinquan/report?enter_from=pc_douyin","_blank"),F();return}if(i){let t=new Map;c.reasonMap.get(o).report_labels.forEach(e=>t.set(e.value,e.label)),e=t.get(i)}(null==s?void 0:s.length)&&(t=null==s?void 0:s.map(e=>e.Uri).join(",")),(null==d?void 0:d.length)&&(l=d.join(","));let v={follow_status:null==a?void 0:a.follow_status,con_short_id:E,im_message_list:l,source:M},h={app_id:6383,object_id:N,owner_id:I,user_id:L,reported_id:L,report_type:u,reason:o,report_labels:e,report_desc:r,uri:t,image_uri_list:t,msg_list:[w.Ry.IM,w.Ry.IM_GROUP].includes(u)?l:void 0,report_data:JSON.stringify(v)};(0,p.v_)("/aweme/v1/report/submit/",{},h).then(t=>{switch(!0){case 2159===t.status_code:B("你已举报过该内容，请稍后再试");break;case 0===t.status_code:x.Z.sendLog("report_submit",(0,n._)({object_type:W.reportScene,object_id:N,enter_from:M,follow_status:null==a?void 0:a.follow_status,reason_type:o,report_labels:e},f)),(null==W?void 0:W.reportScene)===102&&x.Z.sendLog("report_comment",(0,n._)({object_type:W.reportScene,object_id:N,enter_from:M,follow_status:null==a?void 0:a.follow_status,reason_type:o,report_labels:e},f)),B("提交成功，我们将尽快受理");break;default:B("提交失败，请稍后再试")}F(),null==y||y(0===t.status_code)}).catch(()=>B("服务器打瞌睡了，请稍后再试"))};return((0,o.useEffect)(()=>{(0,w.Mq)(t).then(e=>{(0,_.Z)(L),x.Z.sendLog("enter_report_edit_page",(0,n._)({object_type:e.reportScene,object_id:N,enter_from:M},f)),1===k&&e.reasonData.reasonList.push({label:"表情包侵权",value:w.Hp}),U(e)}).catch(()=>B("服务器打瞌睡了，请稍后再试",null==e?void 0:e.toastParent))},[]),W&&l)?(0,a.jsx)(d.u,{title:e.title,visible:R,className:h()(T,D?r.default.jumpText:""),footerClassName:D?r.default.jumpTextFooter:"",onCancel:F,footer:(0,a.jsx)(u.z,{className:r.default.submit,onClick:Z,disabled:!(null==O?void 0:O.validate),children:"提交"}),children:(0,a.jsx)(c.Z,{dataSource:l,reportScene:W.reportScene,reasonData:W.reasonData,onValuesChange:z,abtestData:C})}):null}},459307:function(e,t,l){"use strict";l.d(t,{n:function(){return er},m:function(){return eo}});var n=l("563097"),a=l("88648"),o=l("309931"),i=l("725887");l("874386");var r=l("227630"),s=l("477667"),d=l("262648"),u=l("756560"),c=l("913029"),v=l("713097"),p=l.n(v),f=l("875463");let{ArrowUp:h,ArrowDown:m,W:g,S:_,Escape:x,N:w}=d.bf,j=e=>{let{children:t,title:l,visible:o,onCancel:i}=e,r=a.useCallback(()=>{i&&i(!1)},[]),d=a.useRef(null),v=e=>{e.stopPropagation()};return a.useEffect(()=>{let e="report/ui/Modal";return(0,u.o)({disableKey:[m,h,g,_,x,w].map(e=>e.code),pauseGlobalShortcut:!0},e),()=>{(0,u.m)(e)}},[]),a.useEffect(()=>{let{current:e}=d;if(e)return e.setAttribute("tabindex","0"),e.addEventListener("DOMMouseScroll",v),e.onwheel=e=>e.preventDefault(),e.focus(),()=>{e.removeEventListener("DOMMouseScroll",v)}},[o]),o?(0,n.jsx)("div",{className:c.default.mask,ref:d,onWheel:v,children:(0,n.jsxs)("div",{className:p()(c.default.modalContainer,e.className),"data-e2e":"report-container",children:[(0,n.jsx)("div",{className:c.default.close,onClick:r,"data-e2e":"report-container-close",children:(0,n.jsx)(f.n,{width:36,height:36,src:s.Z})}),l&&(0,n.jsx)("div",{className:c.default.title,children:l}),(0,n.jsx)("div",{className:c.default.content,children:t})]})}):null};var y=l("520739");l("268917");var b=l("90837"),C=l("872136"),N=new C.h({report_web:{eventName:"report_web",params:{report_type:"",object_id:"",enter_method:""}}}),I=l("794675"),S=l("216554");let L=e=>{let{selected:t,disable:l,label:o,className:i,onClick:r,value:s}=e,d=a.useCallback(()=>{r&&r(s,!t)},[s,t,r]);return(0,n.jsxs)("div",{className:p()(S.default.radioContainer,i),children:[(0,n.jsx)("div",{onClick:d,className:p()(S.default.radio,{[S.default.selected]:t,[S.default.disable]:l})}),o&&(0,n.jsx)("span",{className:S.default.label,children:o})]})};var k=l("794706");let M=e=>{let{notResize:t=!1,value:l,onChange:o,placeholder:i,maxLength:r,width:s,className:d,minHeight:u}=e,c=a.useRef(null),[v,f]=a.useState(),h=a.useCallback(e=>{let t=e.target.value;t.length<=r&&o(t)},[o]);return(0,n.jsxs)("div",{style:{width:s},className:p()(k.default.textareaContainer,d),children:[(0,n.jsx)("textarea",{value:l,ref:c,style:{minHeight:u,height:v},onChange:h,onKeyDown:e=>e.stopPropagation(),placeholder:i,className:k.default.textarea}),void 0!==r&&(0,n.jsxs)("div",{className:p()(k.default.count,{[k.default.overflow]:l.length>r}),children:[l.length,"/",r]})]})};var E=l("428584");function R(e){let{size:t="normal",type:l="primary",children:a,autoFixed:o=!0,className:i,width:r,style:s,theme:d="solid",disabled:u=!1,onClick:c=function(){}}=e;return(0,n.jsx)("button",{type:"button",disabled:u,onClick:c,className:p()(E.default.button,E.default[t],E.default[l],E.default[d],{[E.default.fixed]:!o},i),style:(0,y._)({width:r&&`${r}px`},s),children:a})}var P=e=>{let{reasons:t,type:l,object_id:o,isLive:i=!1,onLiveReport:r=()=>void 0,logParams:s,toast:d}=e,[u,c]=a.useState(""),[v,p]=a.useState(""),f=a.useMemo(()=>{let e={};for(let l=0;l<t.length;l++){let n=t[l];e[l%3]?e[l%3].push(n):e[l%3]=[n]}return e},[t]),h=a.useCallback(e=>{p(e)},[]),m=a.useCallback(()=>{!i&&(N.sendLog("report_web",(0,y._)({report_type:l,object_id:o},s)),null==e||e.onClose()),i&&(r(v,u),null==e||e.onClose()),d?d("提交成功",null==e?void 0:e.toastParent):I.F.info("提交成功",null==e?void 0:e.toastParent)},[v,u,r]);return(0,n.jsxs)("div",{className:b.default.reportContainer,"data-e2e":"report-container",children:[(0,n.jsxs)("div",{className:b.default.reasonList,children:[(0,n.jsx)("div",{className:b.default.col,children:(f[0]||[]).map(e=>(0,n.jsx)(L,{selected:v===e.value,label:e.label,value:e.value,className:b.default.reasonItem,onClick:h},e.value))}),(0,n.jsx)("div",{className:b.default.col,children:(f[1]||[]).map(e=>(0,n.jsx)(L,{selected:v===e.value,label:e.label,value:e.value,className:b.default.reasonItem,onClick:h},e.value))}),(0,n.jsx)("div",{className:b.default.col,children:(f[2]||[]).map(e=>(0,n.jsx)(L,{selected:v===e.value,label:e.label,value:e.value,className:b.default.reasonItem,onClick:h},e.value))})]}),(0,n.jsx)(M,{notResize:!0,maxLength:140,placeholder:"请详细描述举报原因，便于平台判断违规情况",minHeight:75,value:u,onChange:e=>c(e),className:b.default.reportDesc}),(0,n.jsx)(R,{className:b.default.submit,onClick:m,disabled:!v,children:"提交"})]})};let T=["色情低俗","违法犯罪","造谣传谣","垃圾广告","售卖假货","非原创内容","未成年人相关","其他"],A=["色情低俗","违法犯罪","造谣传谣","垃圾广告","骚扰","人身攻击","时政不实信息"],W=["色情低俗","违法犯罪","造谣传谣","垃圾广告","骚扰","人身攻击","时政不实信息"],U=["色情低俗","违法犯罪","造谣传谣","垃圾广告","售卖假货","未成年相关","头像、昵称、签名、背景图违规"],O=["违法违禁","淫秽色情","抽烟饮酒","欺诈/售假","未成年人相关","危险行为","录像/盗播","声音违规","诱导刷礼","引导线下转账","侮辱谩骂","其他"];var z=e=>{let[t,l]=(0,a.useState)(!0),[s,d]=a.useState(r.default.zoomIn),u=a.useCallback(()=>{d(r.default.zoomOut),setTimeout(()=>{var t;l(!1),o.unmountComponentAtNode(e.portalRef),e.portalRef.remove(),null===(t=e.onClose)||void 0===t||t.call(e)},300)},[t]);return(0,a.useEffect)(()=>()=>{i.Le.setConfig(i.gI.IsAlreadyExsitReportModal,!1)},[]),(0,n.jsx)(j,{title:e.title,visible:t,className:s,onCancel:u,children:(0,n.jsx)(P,{toast:null==e?void 0:e.toast,toastParent:e.toastParent,reasons:function(e){switch(e){case"video":return T.map(e=>({label:e,value:e}));case"comment":return A.map(e=>({label:e,value:e}));case"user":return U.map(e=>({label:e,value:e}));case"live":return O.map(e=>({label:e,value:e}));case"danmaku":return W.map(e=>({label:e,value:e}));default:return[]}}(e.type),onClose:u,object_id:e.object_id,type:e.type,isLive:!0,onLiveReport:e.onLiveReport,logParams:e.logParams})})},D=l("27618");l("250440"),l("602157"),l("927234");var F=l("732992"),B=l("627233"),Z=l("830164"),G=l("77758");let V=e=>{let{value:t="",onChange:l,placeholder:a}=e;return(0,n.jsx)("input",{className:G.default.container,placeholder:a,value:t,onChange:e=>l(e.target.value)})};var q=l("643527"),H=l("831153"),K=l("252731"),J=l("816246"),$=l("880418"),Q=l("501206"),Y=l("441447"),X=l("747986"),ee=l("829097"),et=l("921689");function el(){return(0,n.jsxs)("svg",{className:F.default.svg,viewBox:"0 0 10 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M6.12852 1.14357C5.95738 0.680906 5.51668 0.351562 5 0.351562C4.48332 0.351562 4.04262 0.680906 3.87148 1.14357C2.4282 1.62362 1.38595 2.9984 1.38595 4.62081V5.837C1.38595 6.52216 1.19579 7.19354 0.837147 7.77455L0.11565 8.94342C-0.19778 9.45119 0.162759 10.1098 0.754132 10.1098H9.24587C9.83724 10.1098 10.1978 9.45119 9.88435 8.94342L9.16285 7.77455C8.80421 7.19354 8.61405 6.52216 8.61405 5.837V4.62081C8.61405 2.9984 7.5718 1.62361 6.12852 1.14357Z"}),(0,n.jsx)("path",{d:"M5 12.3969C4.07376 12.3969 3.27772 11.8324 2.92917 11.0247H7.07083C6.72228 11.8324 5.92624 12.3969 5 12.3969Z"})]})}let en=e=>{var t,l,o,i;let{dataSource:r,onChange:s}=e,[d,u]=(0,a.useState)(),[c,v]=(0,a.useState)(),[p,f]=(0,a.useState)(),[h,m]=(0,a.useState)(),[g,_]=(0,a.useState)(),[x,w]=(0,a.useState)(),j=(0,a.useRef)(),y=(0,a.useRef)(),b=(0,a.useMemo)(()=>{let e={};return r.forEach(t=>{let{label:l,tips:n}=t;e[l]?e[l].children=e[l].children.concat(t):e[l]={name:l,tooltip:n,children:[t]}}),Object.values(e).map(e=>{let{name:t,tooltip:l,children:n}=e;return{name:t,tooltip:l,children:n.map(e=>{let{text:t,reason_type_id:l,sub_reason_list:n=[],toast:a}=e;return{label:t,value:l,children:n.map(e=>({label:e.text,value:e.reason_type_id})),extra:a}})}})},[r]);return(0,a.useEffect)(()=>{switch(!0){case(null==d?void 0:d.value)===void 0:case(null==d?void 0:d.value)===18&&!(null==x?void 0:x.length):case(null==d?void 0:d.value)===18&&!p:case(null==x?void 0:x.includes(1))&&!h:s({verified:!1});break;default:s({reasonData:d,subReasonData:c,desc:p,info:h,images:g,codes:x,verified:!0})}},[d,c,p,h,g,x,s]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:F.default.titleBar,children:[(0,n.jsx)(el,{}),(0,n.jsx)("div",{className:F.default.title,children:"您的举报我们将尽快受理，核实后我们将第一时间告知受理结果，请尽量提交完整的举报描述及材料。"})]}),(0,n.jsx)(B._,{text:"举报原因",required:!0}),(0,n.jsx)(et.o,{dataList:b,onChange:e=>{if(e.value!==(null==d?void 0:d.value))setTimeout(()=>{var t,l,n,a;(null==e?void 0:e.value)===18?null===(l=y.current)||void 0===l||null===(t=l.scrollIntoView)||void 0===t||t.call(l,{behavior:"smooth",block:"nearest"}):null===(a=j.current)||void 0===a||null===(n=a.scrollIntoView)||void 0===n||n.call(a,{behavior:"smooth",block:"nearest"})},0),v(void 0),w(void 0),u(e)},value:d}),(null==d?void 0:d.value)!==18&&(null==d?void 0:null===(t=d.children)||void 0===t?void 0:t.length)>0&&(0,n.jsxs)("div",{ref:j,children:[(0,n.jsx)(B._,{text:"请选择具体的举报类型（选填）"}),(0,n.jsx)(et.D,{dataList:null==d?void 0:d.children,onChange:v,value:c})]}),(null==d?void 0:d.value)===18&&(null==d?void 0:null===(l=d.children)||void 0===l?void 0:l.length)>0&&(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:F.default.divider}),(0,n.jsxs)("div",{className:F.default.description,ref:y,children:["权利人请通过广告投诉平台",(0,n.jsxs)("a",{className:F.default.link,href:"https://phoniex.toutiao.com/phoniex/index",target:"_blank",rel:"noreferrer",children:[" ","https://phoniex.toutiao.com/phoniex/index"," "]}),"进行投诉，同时上传具体材料（权利人身份证明、侵权内容及权利证明等）"]}),(0,n.jsx)(B._,{text:"举报类型（多选）",required:(null==d?void 0:d.value)===18}),(0,n.jsx)(Z.C,{optionList:null==d?void 0:d.children,value:x,onChange:w}),(0,n.jsx)(B._,{text:(null==x?void 0:null===(o=x.includes)||void 0===o?void 0:o.call(x,1))?"原作者信息":"原作者信息（选填）",required:null==x?void 0:null===(i=x.includes)||void 0===i?void 0:i.call(x,1)}),(0,n.jsx)(V,{placeholder:"原创作者抖音名称、作品链接或其他信息",value:h,onChange:m})]}),(0,n.jsx)(B._,{text:(null==d?void 0:d.value)===18?"举报描述":"举报描述（选填）",required:(null==d?void 0:d.value)===18}),(0,n.jsx)(q.K,{maxLength:200,placeholder:"请详细描述举报原因，便于平台判断违规情况",minHeight:75,value:p,onChange:f}),(0,n.jsxs)("div",{className:F.default.uploadContainer,children:[(0,n.jsx)(H.U,{value:g,onChange:_}),(0,n.jsx)("div",{className:F.default.uploadTips,children:"每张小于 10M，支持JPG、PNG格式，最多上传4张"})]})]})};var ea=e=>{let{title:t,onClose:l,portalRef:r,toastParent:s,extraInfo:d}=e,[u,c]=(0,a.useState)(!0),[v,p]=a.useState(F.default.zoomIn),[f,h]=(0,a.useState)(),[m,g]=(0,a.useState)(),_=a.useCallback(()=>{p(F.default.zoomOut),setTimeout(()=>{c(!1),o.unmountComponentAtNode(r),r.remove(),null==l||l()},300)},[l]);(0,a.useEffect)(()=>()=>{i.Le.setConfig(i.gI.IsAlreadyExsitReportModal,!1)},[]),(0,a.useEffect)(()=>{let e=Y.listen(Y.EVENT.hideModal,_);return()=>{null==e||e()}},[_]);let x=(0,a.useCallback)(e=>{I.F.info(e,s)},[s]),w=async()=>{let{user_id:e,log_extra:t,creative_id:l}=d,{reasonData:n,subReasonData:a,desc:o,info:i,images:r=[],codes:s=[]}=m,u={creative_id:l,log_extra:t,data:{user_id:e,report_type_id:n.value,report_type_name:n.label,report_pictures:r.map(e=>e.Uri).toString(),report_description:o,sub_reason_id:18===n.value?void 0:null==a?void 0:a.value,sub_reason_name:18===n.value?void 0:null==a?void 0:a.label,report_author_info:18===n.value?i:void 0,report_right_type:18===n.value?s.toString():void 0}};(0,ee.GA)(u).then(e=>{0===e.code?(x("操作成功，将严格审查广告内容"),_()):x("服务器打瞌睡了，请稍后再试")}).catch(()=>x("服务器打瞌睡了，请稍后再试"))};return(0,Q.O)({onChange:e=>{let{isFullscreen:t}=e;t&&_()}}),(0,a.useEffect)(()=>{(0,ee.iL)().then(e=>{(0,X.Z)(null==d?void 0:d.user_id),h(e.data)}).catch(()=>x("服务器打瞌睡了，请稍后再试"))},[]),(0,n.jsx)(K.u,{title:t,visible:u,className:v,onCancel:_,footer:(0,n.jsx)(J.z,{className:F.default.submit,onClick:w,disabled:!(null==m?void 0:m.verified),children:"提交"}),children:f?(0,n.jsx)(en,{dataSource:f,onChange:g}):(0,n.jsx)($.g,{text:"加载中"})})};let eo=(e,t)=>{if(i.Le.getConfig(i.gI.IsAlreadyExsitReportModal))return;let{loginDispatch:l,userInfo:n,abtestData:a}=e;if((null==n?void 0:n.uid)||e.user_id||(null==e?void 0:e.isLive)||(null==e?void 0:e.isOrigin))(null==n?void 0:n.uid)&&(e.user_id=null==n?void 0:n.uid),ei(e,t);else{var o;(null===(o=window)||void 0===o?void 0:o.showAccount)&&window.showAccount({enterMethod:"report",success:n=>{l({type:"updateUserInfo"}),e.user_id=null==n?void 0:n.user_id,ei(e,t)}})}},ei=(e,t)=>{var l,a;if("object"!=typeof e)return;let r=()=>{i.Le.setConfig(i.gI.IsAlreadyExsitReportModal,!1),"function"==typeof e.onClose&&e.onClose()},s=(null==e?void 0:e.type)==="live",d=document.createElement("div"),u=document.getElementById("root"),c=(()=>{var e;if(t)return t;if(!s)return document.fullscreenElement||u;let l=document.getElementById("slideMode")||document.getElementsByClassName("xgplayer-fullscreen-parent")[0]||document.getElementsByClassName("isCssFullScreen")[0]||document.fullscreenElement,n=document.querySelector(".modal-video-container");return l?l:(null===(e=i.Le.getConfig(i.gI.IsPageFullScreen))||void 0===e?void 0:e.type)?u:n?n:u})();if(!!c)if(c.appendChild(d),e.isOrigin)i.Le.setConfig(i.gI.IsAlreadyExsitReportModal,!0),null==e||null===(l=e.onShow)||void 0===l||l.call(e),o.render((0,n.jsx)(z,{toastParent:c,portalRef:d,title:e.title,type:e.type,object_id:e.object_id,logParams:e.logParams,onClose:r,onLiveReport:e.onLiveReport||(()=>void 0),toast:null==e?void 0:e.toast}),d);else{let{title:t,logParams:l,pipeline_id:s,object_id:u,owner_id:v,user_id:p,comment_with_emoji:f=0,enter_from:h,con_short_id:m,video_id:g,onReport:_,toast:x,owner_sec_id:w,abtestData:j}=e;i.Le.setConfig(i.gI.IsAlreadyExsitReportModal,!0),null==e||null===(a=e.onShow)||void 0===a||a.call(e),o.render((0,n.jsx)(D.Z,{toastParent:c,portalRef:d,title:t,onClose:r,logParams:l,pipelineId:s,dataSource:{object_id:u,owner_id:v,user_id:p,comment_with_emoji:f,enter_from:h,con_short_id:m,video_id:g,owner_sec_id:w},onReport:_,toast:x,abtestData:j}),d)}},er=(e,t)=>{if(i.Le.getConfig(i.gI.IsAlreadyExsitReportModal))return;let{loginDispatch:l,user_id:n,abtestData:a}=e;if(n)es(e,t);else{var o;(null===(o=window)||void 0===o?void 0:o.showAccount)&&window.showAccount({enterMethod:"report",success:n=>{var a;l({type:"updateUserInfo"}),null==e||null===(a=e.onLoginSuccess)||void 0===a||a.call(e),e.user_id=null==n?void 0:n.user_id,es(e,t)}})}},es=(e,t)=>{let{creative_id:l,log_extra:a,user_id:r,title:s,onClose:d,onShow:u}=e,c=document.createElement("div"),v=document.getElementById("root");if(t)v=t,null==t||t.appendChild(c);else{var p;let e=document.getElementById("slideMode")||document.getElementsByClassName("xgplayer-fullscreen-parent")[0]||document.getElementsByClassName("isCssFullScreen")[0],t=document.querySelector(".modal-video-container");if((null===(p=i.Le.getConfig(i.gI.IsPageFullScreen))||void 0===p?void 0:p.type)||e)e&&(v=e),v.appendChild(c);else if(t)v=t,t.appendChild(c);else{let e=document.getElementById("root");null==e||e.appendChild(c)}}i.Le.setConfig(i.gI.IsAlreadyExsitReportModal,!0),null==u||u(),o.render((0,n.jsx)(ea,{toastParent:v,portalRef:c,title:s,onClose:()=>{i.Le.setConfig(i.gI.IsAlreadyExsitReportModal,!1),"function"==typeof d&&d()},extraInfo:{creative_id:l,log_extra:a,user_id:r}}),c)}},816246:function(e,t,l){"use strict";l.d(t,{z:function(){return s}});var n=l(520739),a=l(563097);l(88648);var o=l(713097),i=l.n(o),r=l(549419);function s(e){let{children:t,className:l,width:o,style:s,disabled:d=!1,onClick:u=function(){}}=e;return(0,a.jsx)("button",{type:"button",disabled:d,onClick:u,className:i()(r.default.button,l),style:(0,n._)({width:o&&`${o}px`},s),children:t})}},921689:function(e,t,l){"use strict";l.d(t,{D:function(){return u},o:function(){return c}});var n=l(563097),a=l(88648),o=l(115855),i=l(769036),r=l(111893);function s(e){return(0,n.jsxs)("svg",{className:e.className,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M6.31015 4.19993C6.30457 3.81502 6.61505 3.5 7 3.5C7.38495 3.5 7.69543 3.81502 7.68984 4.19993L7.63803 7.77116C7.63297 8.11992 7.3488 8.4 7 8.4C6.6512 8.4 6.36703 8.11992 6.36197 7.77116L6.31015 4.19993Z"}),(0,n.jsx)("path",{d:"M7 10.64C7.42526 10.64 7.77 10.2953 7.77 9.87C7.77 9.44474 7.42526 9.1 7 9.1C6.57474 9.1 6.23 9.44474 6.23 9.87C6.23 10.2953 6.57474 10.64 7 10.64Z"}),(0,n.jsx)("path",{d:"M7 14C10.866 14 14 10.866 14 7C14 3.13401 10.866 0 7 0C3.13401 0 0 3.13401 0 7C0 10.866 3.13401 14 7 14ZM7 12.95C3.71391 12.95 1.05 10.2861 1.05 7C1.05 3.71391 3.71391 1.05 7 1.05C10.2861 1.05 12.95 3.71391 12.95 7C12.95 10.2861 10.2861 12.95 7 12.95Z"})]})}function d(e){let{text:t,tooltip:l}=e,r=(0,a.useRef)();return(0,n.jsxs)("div",{className:o.default.categoryTextContainer,children:[(0,n.jsx)("div",{className:o.default.categoryText,children:t}),l&&(0,n.jsx)(i.e,{text:l,type:"right",target:r.current,children:(0,n.jsx)("div",{className:o.default.iconContainer,ref:r,children:(0,n.jsx)(s,{className:o.default.alertCircle})})})]})}function u(e){let{dataList:t=[],value:l,onChange:a}=e;return(0,n.jsx)("div",{className:o.default.dataItemList,children:t.map(e=>(0,n.jsx)(r.Y,{className:o.default.dataItem,style:e.label.length>=7?{width:"calc(100% - 40px)"}:void 0,label:e.label,checked:(null==l?void 0:l.value)===e.value,value:e.value,onCheck:()=>a(e)},e.value))})}function c(e){let{dataList:t=[],value:l,onChange:a}=e;return(0,n.jsx)("div",{className:o.default.container,children:t.map(e=>{let{name:t,tooltip:i,children:r=[]}=e;return(0,n.jsxs)("div",{className:o.default.categoryItemList,children:[t&&(0,n.jsx)(d,{text:t,tooltip:i}),(0,n.jsx)(u,{dataList:r,value:l,onChange:a})]},t)})})}},96425:function(e,t,l){"use strict";l.d(t,{J:function(){return r}});var n=l(563097);l(88648);var a=l(765593),o=l(713097),i=l.n(o);let r=e=>{let{label:t,className:l,onSelect:o,value:r,style:s,selected:d}=e;return(0,n.jsxs)("div",{className:i()(a.default.container,l),style:s,children:[(0,n.jsx)("div",{className:d?a.default.selected:a.default.icon,onClick:()=>o(r)}),t&&(0,n.jsx)("span",{className:a.default.label,children:t})]})}},830164:function(e,t,l){"use strict";l.d(t,{C:function(){return i}}),l(874386);var n=l(563097);l(88648);var a=l(461523),o=l(96425);let i=e=>{let{optionList:t,value:l=[],onChange:i}=e,r=new Set(l),s=e=>{r.has(e)?r.delete(e):r.add(e),i([...r.values()])};return Array.isArray(t)?(0,n.jsx)("div",{className:a.default.container,children:t.map(e=>(0,n.jsx)(o.J,{className:a.default.radio,style:e.label.length>=7?{width:"calc(100% - 40px)"}:void 0,label:e.label,value:e.value,selected:r.has(e.value),onSelect:s},e.value))}):null}},560244:function(e,t,l){"use strict";l.d(t,{R:function(){return d}});var n=l(563097);l(88648);var a=l(713097),o=l.n(a),i=l(863822),r=l(875463),s=l(661540);let d=e=>{let{value:t,className:l,onClick:a}=e;return(0,n.jsxs)("div",{className:o()(i.default.container,l),onClick:a,children:[(0,n.jsx)("div",{className:i.default.text,children:t}),(0,n.jsx)(r.n,{className:i.default.icon,src:s.Z,width:24,height:24})]})}},831153:function(e,t,l){"use strict";l.d(t,{U:function(){return h}});var n=l(520739),a=l(878389);l(874386),l(250440),l(882732),l(544943);var o=l(563097),i=l(88648),r=l(875463),s=l(565850),d=l(167993),u=l(747986),c=l(794675);let v="image/png,image/jpeg,image/jpg";function p(e){let{currentLength:t,maxLength:l,onUpload:n}=e,a=(0,i.useRef)(),u=(0,i.useCallback)(()=>{var e;(null===(e=a.current)||void 0===e?void 0:e.value)&&(a.current.value="")},[]);return t===l?null:(0,o.jsxs)("div",{className:d.default.wrap,children:[(0,o.jsx)("input",{className:d.default.input,type:"file",accept:v,multiple:!0,onChange:e=>n(e,u),ref:a}),(0,o.jsx)("div",{className:d.default.buttonContainer,children:(0,o.jsxs)("div",{className:d.default.buttonContent,children:[(0,o.jsx)(r.n,{width:24,height:24,src:s.Z}),(0,o.jsx)("div",{className:d.default.counter,children:`${t}/${l}`})]})})]})}function f(e){let{dataList:t=[],onChange:l}=e,n=e=>{let n=[...t];n.splice(e,1),"function"==typeof l&&l(n)};return(0,o.jsx)(o.Fragment,{children:t.map((e,t)=>(0,o.jsxs)("div",{className:d.default.cover,children:[(0,o.jsx)("div",{className:d.default.close,onClick:()=>n(t)}),(0,o.jsx)("img",{className:d.default.image,src:e.Url})]},e.Uri))})}function h(e){let t=(0,u.Z)(),{maxLength:l=4,value:i=[],onChange:r}=e;return(0,o.jsxs)("div",{className:d.default.container,children:[(0,o.jsx)(f,{dataList:i,onChange:r}),(0,o.jsx)(p,{onUpload:(e,o)=>{let{files:s}=e.target;if(s.length>l){c.F.info(`当前上传图片数量大于 ${l}`);return}for(let e=0;e<s.length;e++){if(s[e].size>10485760){c.F.info("当前上传图片尺寸大于10M");return}if(!v.includes(s[e].type)){c.F.info("当前上传图片是不支持的类型");return}}if(!t){c.F.info("图片上传服务不可用，请稍后再试");return}t.uploadFile(s).then(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r([...i,...e.map((e,t)=>(0,a._)((0,n._)({},e),{Url:window.URL.createObjectURL(s[t])}))]),"function"==typeof o&&o()}).catch(()=>c.F.info("图片上传失败，请重试"))},currentLength:i.length,maxLength:l})]})}},627233:function(e,t,l){"use strict";l.d(t,{_:function(){return r}});var n=l(563097);l(88648);var a=l(656837),o=l(713097),i=l.n(o);let r=e=>{let{text:t,required:l=!1,className:o}=e;return(0,n.jsxs)("div",{className:i()(a.default.container,o),children:[(0,n.jsx)("div",{className:a.default.text,children:t}),l&&(0,n.jsx)("div",{className:a.default.icon,children:"*"})]})}},880418:function(e,t,l){"use strict";l.d(t,{g:function(){return r}});var n=l(563097);l(88648);var a=l(387098),o=l(713097),i=l.n(o);function r(e){let{className:t,text:l,textClassName:o}=e;return(0,n.jsxs)("div",{className:i()(a.default.container,t,"HideInLynxClassName"),children:[(0,n.jsx)("div",{className:a.default.loading}),l&&(0,n.jsx)("div",{className:i()(a.default.text,o),children:l})]})}},252731:function(e,t,l){"use strict";l.d(t,{u:function(){return _}});var n=l(563097),a=l(88648),o=l(713097),i=l.n(o),r=l(262648),s=l(756560),d=l(875463),u=l(557329),c=l(477667);let{ArrowUp:v,ArrowDown:p,W:f,S:h,Escape:m,N:g}=r.bf,_=e=>{let{visible:t,children:l,title:o,footer:r,className:_,footerClassName:x,onCancel:w,showClose:j=!0}=e,y=a.useRef(),b=e=>{e.stopPropagation()};return(a.useEffect(()=>{let e="report/ui/Modal";return(0,s.o)({disableKey:[p,v,f,h,m,g].map(e=>e.code),pauseGlobalShortcut:!0},e),()=>{(0,s.m)(e)}},[]),(0,a.useEffect)(()=>{var e,t,l;return null===(e=y.current)||void 0===e||e.setAttribute("tabindex","0"),null===(t=y.current)||void 0===t||t.addEventListener("DOMMouseScroll",b),null===(l=y.current)||void 0===l||l.focus(),()=>{var e;null===(e=y.current)||void 0===e||e.removeEventListener("DOMMouseScroll",b)}},[t]),t)?(0,n.jsx)("div",{className:u.default.mask,ref:y,onWheel:b,children:(0,n.jsxs)("div",{className:i()(u.default.modalContainer,_),"data-e2e":"report-container",children:[j&&(0,n.jsx)("div",{className:u.default.close,onClick:()=>{"function"==typeof w&&w(!1)},"data-e2e":"report-container-close",children:(0,n.jsx)(d.n,{width:36,height:36,src:c.Z})}),o&&(0,n.jsx)("div",{className:u.default.title,children:o}),(0,n.jsx)("div",{className:u.default.content,children:l}),(0,n.jsx)("div",{className:i()(u.default.footer,x),children:r})]})}):null}},637672:function(e,t,l){"use strict";l.d(t,{E:function(){return d}});var n=l(563097),a=l(88648),o=l(713097),i=l.n(o),r=l(111893),s=l(664186);let d=e=>{let{className:t,column:l=1,optionList:o,value:d,onChange:u}=e,c=(0,a.useMemo)(()=>({width:`${100/l}%`}),[l]);return Array.isArray(o)?(0,n.jsx)("div",{className:i()(s.default.container,t),children:o.map(e=>(0,n.jsx)(r.Y,{className:s.default.radio,style:c,label:e.label,value:e.value,checked:d===e.value,onCheck:u},e.value))}):null}},111893:function(e,t,l){"use strict";l.d(t,{Y:function(){return r}});var n=l(563097);l(88648);var a=l(61061),o=l(713097),i=l.n(o);let r=e=>{let{label:t,value:l,checked:o,disabled:r,className:s,style:d,onCheck:u}=e;return(0,n.jsxs)("div",{className:i()(a.default.container,s),style:d,children:[(0,n.jsx)("div",{onClick:()=>{"function"==typeof u&&u(l)},className:i()(a.default.radio,{[a.default.checked]:o,[a.default.disabled]:r})}),t&&(0,n.jsx)("span",{className:a.default.label,children:t})]})}},875463:function(e,t,l){"use strict";l.d(t,{n:function(){return d}});var n=l(520739),a=l(563097),o=l(88648),i=l(867910),r=l(713097),s=l.n(r);let d=o.memo(e=>{let{src:t,width:l=18,height:o=18,color:r,viewBox:d,className:u="",onClick:c=()=>void 0,style:v={}}=e,p=r?(0,n._)({fill:r},v):(0,n._)({},v);return(0,a.jsx)(t,(0,n._)({className:s()(r?"":i.default.svg,u),width:l,height:o,viewBox:d||"0 0 36 36",onClick:c},p))})},643527:function(e,t,l){"use strict";l.d(t,{K:function(){return s}});var n=l(563097),a=l(88648),o=l(713097),i=l.n(o),r=l(818439);let s=e=>{let{value:t="",onChange:l,placeholder:o,maxLength:s,width:d,className:u,minHeight:c}=e,v=a.useRef(null),p=a.useCallback(e=>{let t=e.target.value;t.length<=s&&l(t)},[l]);return(0,n.jsxs)("div",{style:{width:d},className:i()(r.default.textareaContainer,u),children:[(0,n.jsx)("textarea",{value:t,ref:v,style:{minHeight:c},onChange:p,onKeyDown:e=>e.stopPropagation(),placeholder:o,className:r.default.textarea}),void 0!==s&&(0,n.jsxs)("div",{className:i()(r.default.count,{[r.default.overflow]:t.length>s}),children:[t.length,"/",s]})]})}},794675:function(e,t,l){"use strict";l.d(t,{F:function(){return x}});var n,a=l(134761),o=l(520739),i=l(878389);l(268917),l(874386);var r=l(563097),s=l(713097),d=l.n(s),u=l(88648),c=l(309931),v=l(737271),p=l(497329);let f=null,h=null,m=null,g=null,_={text:"",duration:3e3};class x extends(n=u.Component){static create(e){if(f)return e&&e(f);m=document.body,!document.querySelector("#toastContainer")&&((g=document.createElement("div")).className=p.default.toastWrapper,g.id="toastContainer"),m.appendChild(g),c.render((0,r.jsx)(x,{ref:t=>{f=t,e&&e(f)}}),g)}static info(e,t){let l=(0,o._)({},_);"string"==typeof e?(l.text=e,l.root=t):"object"==typeof e&&null!==e&&(l=(0,o._)((0,i._)((0,o._)({},_),{root:t}),e));let n=document.fullscreenElement||document.getElementsByClassName("xgplayer-fullscreen-parent")[0];(0,v.r)()&&n&&(l.root=n),this.textList.push(l),this.create(e=>{!h&&e&&e.handleShowToast()})}handleShowToast(){h&&(clearTimeout(h),h=null);let e=x.textList.shift();this.setState({showToast:!0,options:e}),h=setTimeout(()=>{x.textList.length?this.handleCloseToast(()=>{setTimeout(this.handleShowToast.bind(this),50)}):(this.handleCloseToast(),this.destroy()),h=null},e.duration)}handleCloseToast(e){this.setState({showToast:!1},()=>e&&e())}destroy(){m.removeChild(g),f=null}render(){let{showToast:e,options:t}=this.state,l=e&&t&&(0,r.jsx)("div",{className:d()(p.default.toast,t.className,{[p.default.parentToastWrapper]:t.root||(0,v.r)()}),children:t.text});return(0,r.jsx)(u.Fragment,{children:t&&t.root?c.createPortal(l,t.root):l})}constructor(...e){super(...e),(0,a._)(this,"state",{showToast:!1})}}(0,a._)(x,"textList",[])},769036:function(e,t,l){"use strict";l.d(t,{e:function(){return m}});var n=l("520739"),a=l("878389");l("874386"),l("250440");var o=l("563097"),i=l("88648"),r=l("309931"),s=l("55016");let d=(0,i.forwardRef)((e,t)=>(0,o.jsx)("svg",(0,a._)((0,n._)({width:4,height:17,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,o.jsx)("path",{d:"M0 0a8 8 0 0 0 2.168 5.476l1.174 1.25a2 2 0 0 1 0 2.738l-1.174 1.25A8 8 0 0 0 0 16.19V0z",fill:"#323442"})})));var u=l("875463"),c=l("713097"),v=l.n(c),p=l("810845"),f=l("756267"),h={left:"top",right:"top",top:"left",bottom:"left"};let m=e=>{let{type:t="left",text:l,offsetArrow:c,offsetContainer:m,className:g,children:_,onTipClick:x,renderContent:w,clickHidden:j=!1,target:y,offsetWidth:b=0}=e,[C,N]=(0,i.useState)({width:0,height:0}),[I,S]=(0,i.useState)(t),[L,k]=(0,i.useState)(!1),[M,E]=(0,i.useState)({}),R=(0,i.useRef)(null),P=(0,i.useRef)(),T=(0,i.useRef)(null),A=(0,i.useMemo)(()=>(0,p.h)(y),[y]),W=(0,i.useMemo)(()=>(0,f.d)(A,"HTMLBodyElement"),[A]),U=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=window.innerWidth,o=window.innerHeight;return{left:e<0?e:0,top:t<0?t:0,right:e+l>a?a-e-l:0,bottom:t+n>o?o-t-n:0}},O=function(){clearTimeout(T.current),T.current=setTimeout(()=>{k(!1)},200)},z=(0,i.useCallback)(()=>{if(!R.current)return{};let e=P.current.getBoundingClientRect(),{width:l,height:o}=e,i=W?e.x:0,r=W?e.y:0,s=(C.width-l)/2,d=(C.height-o)/2;if(["left","right"].includes(t)){switch(t){case"left":i-=C.width+10;break;case"right":i+=l+10}"number"==typeof m?r+=m:r+=-d}else if(["top","bottom"].includes(t)){switch(t){case"top":r-=C.height+10;break;case"bottom":r+=o+10}"number"==typeof m?i+=m:i+=-s}if(W){let{top:e,left:n,right:a,bottom:s}=U(i,r,C.width,C.height);S(t),["left","right"].includes(t)?(e&&(r-=e),s&&(r+=s),n&&!a&&(i+=C.width+20+l,S("right")),a&&!n&&(i-=C.width+20+l,S("left"))):["top","bottom"].includes(t)&&(n&&(i-=n+b),a&&(i+=a-b),e&&!s&&(r+=C.height+20+o,S("bottom")),s&&!e&&(r-=C.height+20+o,S("top")))}return(0,a._)((0,n._)({},M),{left:`${i}px`,top:`${r}px`})},[M,C,m,t,W]),D=(0,i.useCallback)(()=>{let e=i.Children.only(_);return i.cloneElement(e,{onMouseEnter:t=>{var l,n;clearTimeout(T.current),k(!0),P.current=t.target,E(z()),null==e||null===(n=e.props)||void 0===n||null===(l=n.onMouseEnter)||void 0===l||l.call(n,t)},onMouseLeave:()=>{O()}})},[z,_]);(0,i.useEffect)(()=>{let e=e=>{if(!!L)E(z())};return document.addEventListener("scroll",e,!0),()=>{document.removeEventListener("scroll",e,!0)}},[z,L]),(0,i.useLayoutEffect)(()=>{if(!!R.current)N(R.current.getBoundingClientRect())},[L]),(0,i.useLayoutEffect)(()=>{P.current&&E(z())},[C]);let F=(0,i.useMemo)(()=>(0,o.jsxs)("div",{ref:R,style:(0,n._)({position:W?"fixed":"absolute"},M),onMouseEnter:e=>{clearTimeout(T.current)},onMouseLeave:()=>{O()},className:v()(s.default.tooltip,s.default[t],g),onClick:e=>{null==x||x(e),j&&k(!1)},children:[(0,o.jsx)(u.n,{width:4,height:17,src:d,style:{[h[I]]:`${c}%`},className:v()(s.default.icon,s.default[I]),viewBox:"0 0 4 17"}),(0,o.jsx)("span",{className:"",children:w||l})]}),[I,g,j,c,x,w,l,M,t,W]);return(0,o.jsxs)(o.Fragment,{children:[L&&r.createPortal(F,A),D()]})}},703724:function(e,t,l){"use strict";var n=l(872136);t.Z=new n.h({enter_report_edit_page:{eventName:"enter_report_edit_page",params:{object_type:"",object_id:"",enter_from:""}},report_submit:{eventName:"report_submit",params:{object_type:"",object_id:"",enter_from:"",follow_status:"",reason_type:"",report_labels:""}},report_comment:{eventName:"report_comment",params:{comment_panel_position:"",comment_category:"",object_type:"",object_id:"",comment_id:"",enter_from:"",follow_status:"",reason_type:"",report_labels:""}}})},462111:function(e,t,l){"use strict";l.d(t,{Hp:function(){return n},Mq:function(){return i},Ry:function(){return o},eK:function(){return a}}),l(675373),l(874386);let n=60466,a=60448;var o={VIDEO:101,101:"VIDEO",COMMENT:102,102:"COMMENT",USER:103,103:"USER",IMAGE:126,126:"IMAGE",IM:106,106:"IM",IM_GROUP:115,115:"IM_GROUP"};function i(e){return fetch(`https://lf-mortise.douyinstatic.com/obj/mortise-online/online/${e}_3364`).then(e=>e.json()).then(e=>{var t;let{reportScene:l,reasonCode:n}=e.pluginData;let a=Array.isArray(t=n)?t[0].list.map(e=>{let{reason_code:t,next_reasons:l,report_labels:n}=e.data;return{label:e.text,value:t,children:Array.isArray(l)?l[0].list.map(e=>({label:e.text,value:e.data.reason_code})):void 0,report_labels:Array.isArray(n)?n.map(e=>({label:e.name,value:e.code})):void 0}}):[],o=new Map;return a.forEach(e=>{o.set(e.value,e)}),{reportScene:l,reasonData:{reasonList:a,reasonMap:o}}})}},747986:function(e,t,l){"use strict";let n;var a=l(134761);l(675373);var o=l(66863),i=l(670824),r=l.n(i);class s{initUploader(e,t){let{token:l,service_id:n,origin:a,template:o}=e,i=JSON.parse(l);this.bytedUploader=new(r())({userId:t,appId:1128,stsToken:i,imageConfig:{serviceId:n}}),this.uploaderOptions={stsToken:i,serviceId:n,origin:a,template:o}}uploadFile(e){let t=this.bytedUploader.addImageFile({file:Array.from(e).map(e=>new Blob([e])),stsToken:this.uploaderOptions.stsToken});return this.bytedUploader.start(t),new Promise((e,t)=>{this.bytedUploader.on("complete",t=>{e(t.uploadResult)}),this.bytedUploader.on("error",e=>{t(e.extra)})})}constructor(e){(0,a._)(this,"bytedUploader",null),(0,a._)(this,"uploaderOptions",null),(0,o.U2)("/aweme/v1/report/upload/auth/",{}).then(t=>{let{token:l,service_id:n,origin:a,template:o,status_code:i}=t;if(0===i)this.initUploader({token:l,service_id:n,origin:a,template:o},e.userId)})}}t.Z=function(e){return!n&&(n=new s({userId:e})),n}},532833:function(e,t,l){"use strict";l.d(t,{Z:function(){return y}}),l("874386");var n=l("563097"),a=l("88648"),o=l("713097"),i=l.n(o),r=l("243150"),s=l("440499");l("675373");var d="ra_tIg0q",u="OXdxcQ3i";let c=a.forwardRef((e,t)=>{let{onReady:l,onEnded:o,previewUrlList:r,isHorizontal:s,className:c,playStartSec:v,playEndSec:p}=e,f=(0,a.useRef)(),h=(0,a.useRef)(),m=(0,a.useRef)(),g=(0,a.useRef)(),_=()=>v>0?v:0;(0,a.useEffect)(()=>(!function e(){m.current=requestAnimationFrame(()=>{f.current&&h.current&&(h.current.style.width=`${f.current.currentTime/f.current.duration*100}%`),e()})}(),()=>cancelAnimationFrame(m.current)),[]);let x=(0,a.useRef)(!1),w=(0,a.useRef)();return(0,a.useImperativeHandle)(t,()=>({async pause(){if(!f.current.paused){var e;w.current&&(await w.current,w.current=void 0),null===(e=f.current)||void 0===e||e.pause()}},play(){if(x.current&&f.current.paused){var e;w.current=null===(e=f.current)||void 0===e?void 0:e.play()}},onCanPlay:()=>x.current}),[]),(0,n.jsx)("div",{className:i()(d,c),children:(0,n.jsx)("video",{ref:e=>{f.current=e},onPlay:()=>{f.current.currentTime=_()},onPlaying:()=>{l(),g.current=!1},onTimeUpdate:()=>{f.current.currentTime/f.current.duration>=.98&&!g.current&&(null==o||o(),g.current=!0),p>0&&f.current.currentTime>p&&(g.current=!0,f.current.currentTime=_(),null==o||o())},className:u,style:{objectFit:s?"cover":"contain"},loop:!0,muted:!0,autoPlay:!0,disablePictureInPicture:!0,onCanPlay:()=>{x.current=!0},preload:"none",children:r.map((e,t)=>(0,n.jsx)("source",{src:e},`${e}_${t}`))})})});var v="iqlUfFD1",p={pic:"sSYMWLh8",cover:"I8cgZpTI",logoBig:"GoS3_tWv",hovered:"pCly2NM6",hidden:"WAjafbaV"},f=l("520739"),h=l("878389");let m=(0,a.forwardRef)((e,t)=>(0,n.jsx)("svg",(0,h._)((0,f._)({width:79,height:90,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,n.jsx)("path",{d:"M66.76 18.041c-4.847-3.161-8.347-8.218-9.44-14.113A21.521 21.521 0 0 1 56.955 0H41.482l-.027 62.007c-.258 6.942-5.975 12.516-12.98 12.516-2.176 0-4.227-.544-6.033-1.494-4.138-2.18-6.974-6.519-6.974-11.513 0-7.17 5.837-13.007 13.007-13.007 1.338 0 2.622.223 3.84.602V33.318a28.646 28.646 0 0 0-3.84-.277C12.775 33.041 0 45.816 0 61.521c0 9.635 4.816 18.16 12.16 23.316A28.316 28.316 0 0 0 28.48 90c15.704 0 28.479-12.775 28.479-28.48V30.076a36.79 36.79 0 0 0 21.528 6.92V21.523a21.42 21.42 0 0 1-11.727-3.482z",fill:"#fff",fillOpacity:".8"})})));var g=e=>{let{coverUrl:t="",hovered:l=!1,videoUrlList:o=[],canHidden:r=!0}=e,[s,d]=(0,a.useState)(!1);return(0,n.jsxs)("div",{className:i()(p.pic,{[p.hovered]:r&&l}),children:[(0,n.jsx)(m,{width:79,height:90,className:i()(p.logoBig,{[p.hidden]:s})}),t&&(0,n.jsx)("img",{className:i()(p.cover,{[p.hidden]:!s}),src:t,onLoad:()=>{d(!0)}}),!t&&(null==o?void 0:o.length)>0&&(0,n.jsx)("video",{className:i()(p.cover,{[p.hidden]:!s}),onCanPlay:()=>{d(!0)},muted:!0,children:null==o?void 0:o.map((e,t)=>(0,n.jsx)("source",{src:e,type:"video/mp4"},`${e}_${t}`))})]})},_=e=>{let{className:t,cardData:l,isHover:o}=e,{type:r,coverUrl:d,videoUrlList:u,vWidth:p,vHeight:f,playEndSec:h,playStartSec:m}=l,[_,x]=(0,a.useState)(!1),w=(0,a.useCallback)(()=>{x(!0)},[o]),j=(0,a.useRef)();return(0,n.jsxs)("div",{className:i()(v,t),children:[r!==s._.Image&&(null==u?void 0:u.length)>0&&o&&(0,n.jsx)(c,{ref:j,previewUrlList:u,isHorizontal:p>=f,onReady:w,ratio:f/p,playStartSec:m,playEndSec:h}),(0,n.jsx)(g,{hovered:o,coverUrl:d,videoUrlList:u,canHidden:_})]})};let x=(0,a.forwardRef)((e,t)=>(0,n.jsxs)("svg",(0,h._)((0,f._)({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,n.jsx)("g",{filter:"url(#wallpaperImageIcon_svg__filter0_d_6103_233002)",children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 11h6a.5.5 0 0 0 .5-.5V9.173L9.213 6.652a1 1 0 0 0-1.632 0L4.5 11zM2 3.5A1.5 1.5 0 0 1 3.5 2h7A1.5 1.5 0 0 1 12 3.5v7a1.5 1.5 0 0 1-1.5 1.5h-7A1.5 1.5 0 0 1 2 10.5v-7zm2.75.5a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5z",fill:"#fff"})}),(0,n.jsx)("defs",{children:(0,n.jsxs)("filter",{id:"wallpaperImageIcon_svg__filter0_d_6103_233002",x:"-.583",y:"-.583",width:15.167,height:15.167,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{}),(0,n.jsx)("feGaussianBlur",{stdDeviation:".292"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),(0,n.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_6103_233002"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_6103_233002",result:"shape"})]})})]}))),w=(0,a.forwardRef)((e,t)=>(0,n.jsxs)("svg",(0,h._)((0,f._)({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,n.jsx)("g",{filter:"url(#wallpaperVideoIcon_svg__filter0_d_6103_233023)",children:(0,n.jsxs)("g",{fill:"#fff",children:[(0,n.jsx)("mask",{id:"wallpaperVideoIcon_svg__a",children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 2A1.5 1.5 0 0 0 2 3.5v7A1.5 1.5 0 0 0 3.5 12h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 10.5 2h-7zm6 5.433a.5.5 0 0 0 0-.866L5.75 4.402a.5.5 0 0 0-.75.433v4.33a.5.5 0 0 0 .75.433L9.5 7.433z"})}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 2A1.5 1.5 0 0 0 2 3.5v7A1.5 1.5 0 0 0 3.5 12h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 10.5 2h-7zm6 5.433a.5.5 0 0 0 0-.866L5.75 4.402a.5.5 0 0 0-.75.433v4.33a.5.5 0 0 0 .75.433L9.5 7.433z"}),(0,n.jsx)("path",{d:"M9.5 6.567l-.5.866.5-.866zm0 .866L9 6.567l.5.866zM5.75 4.402l.5-.866-.5.866zM5 4.835h1-1zm0 4.33H4h1zm.75.433l.5.866-.5-.866zM3 3.5a.5.5 0 0 1 .5-.5V1A2.5 2.5 0 0 0 1 3.5h2zm0 7v-7H1v7h2zm.5.5a.5.5 0 0 1-.5-.5H1A2.5 2.5 0 0 0 3.5 13v-2zm7 0h-7v2h7v-2zm.5-.5a.5.5 0 0 1-.5.5v2a2.5 2.5 0 0 0 2.5-2.5h-2zm0-7v7h2v-7h-2zm-.5-.5a.5.5 0 0 1 .5.5h2A2.5 2.5 0 0 0 10.5 1v2zm-7 0h7V1h-7v2zM9 7.433a.5.5 0 0 1 0-.866l1 1.732c1-.577 1-2.02 0-2.598L9 7.433zM5.25 5.268L9 7.433l1-1.732-3.75-2.165-1 1.732zM6 4.835a.5.5 0 0 1-.75.433l1-1.732A1.5 1.5 0 0 0 4 4.835h2zm0 4.33v-4.33H4v4.33h2zm-.75-.433a.5.5 0 0 1 .75.433H4a1.5 1.5 0 0 0 2.25 1.3l-1-1.733zM9 6.567L5.25 8.732l1 1.732L10 8.3 9 6.567z",mask:"url(#wallpaperVideoIcon_svg__a)"})]})}),(0,n.jsx)("defs",{children:(0,n.jsxs)("filter",{id:"wallpaperVideoIcon_svg__filter0_d_6103_233023",x:"-.583",y:"-.583",width:15.167,height:15.167,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{}),(0,n.jsx)("feGaussianBlur",{stdDeviation:".292"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),(0,n.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_6103_233023"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_6103_233023",result:"shape"})]})})]})));var j={cardContainer:"tM0wXkRM",pic:"Bokrwg3N",labelWrap:"EGIuaAkx",hotMark:"_o5NjQjb",latestMark:"ZzHNUVBe",imageLabel:"DIdFJpDZ",infoBar:"MKeqnyn1",authorName:"mNomEcZf"},y=e=>{let{cardData:t,showLabel:l,children:o,className:d,onClick:u,onMouseEnter:c}=e,{author:v=""}=t,[p,f]=(0,a.useState)(!1);return(0,n.jsxs)("div",{className:i()(j.cardContainer,d),onClick:u,onMouseEnter:()=>{f(!0),null==c||c()},onMouseLeave:()=>{f(!1)},children:[(0,n.jsxs)("div",{className:j.pic,children:[l&&(0,n.jsxs)("div",{className:j.labelWrap,children:[(null==t?void 0:t.labelId)==="2"&&(0,n.jsx)("div",{className:j.latestMark,children:"新"}),(null==t?void 0:t.labelId)==="1"&&(0,n.jsx)("div",{className:j.hotMark,children:"热"}),(0,n.jsxs)("div",{className:j.imageLabel,children:[(0,n.jsx)(r.Z,{width:14,height:14,viewBox:"0 0 14 14",src:(null==t?void 0:t.type)===s._.Image?x:w}),(null==t?void 0:t.type)===s._.Image?"静态":"动态"]})]}),(0,n.jsx)(_,{cardData:t,isHover:p})]}),l&&v&&(0,n.jsx)("div",{className:i()(j.infoBar),children:(0,n.jsxs)("div",{className:j.authorName,children:["@",v]})}),o]})}},402558:function(e,t,l){"use strict";let n;l.d(t,{K:function(){return F}});var a=l("520739"),o=l("878389");l("874386");var i=l("563097"),r=l("88648"),s=l("713097"),d=l.n(s),u=l("203258"),c=l("594567"),v=l("929582"),p=l("828782"),f=l("63405"),h=l("742740"),m=l("725887"),g=l("529596"),_=l("28528"),x=l("802913"),w={wallpaperModalContainer2:"dAVmCjcj",wallpaperModalContainer:"kEKQDYiq",hasGuide:"wra3D7K8",wallpaperItem:"Ir9liX8M",wallpaperCard:"dL8OcUSt",textWrap:"Id6G6RD3",text:"r1raqov5",moreWrap:"oU1MJhdI",show:"r3_k4pdt",hide:"MPcKlOAg",container:"vDGlc0Mg",navui:"eoyUTp3Y",overflow:"K0Tax1aw"},j=l("555885"),y=l("218805"),b=l("428647"),C="alCE31Gt",N="UmOKOuKf",I="ILGzPnM8",S="qqNcFYwt",L="Gw9MLGRl",k=l("979571");function M(e){let{onClose:t,onClick:l,onShow:n}=e;return(0,r.useEffect)(()=>{n()},[]),(0,i.jsxs)("div",{className:C,children:[(0,i.jsx)("div",{className:N,children:_.a.t("download_client_side_wallpaper",{},"下载客户端 使用壁纸")}),(0,i.jsxs)("div",{className:I,children:[(0,i.jsxs)(y.Button,{theme:"solid",size:"small",className:S,onClick:l,children:[(0,i.jsx)(k.z,{svg:(0,i.jsx)(c.Z,{style:{fontSize:"20px"}}),style:{width:"12px",marginRight:"4px"}}),_.a.t("download_client_side_wallpaper",{},"下载")]}),(0,i.jsx)(k.z,{svg:(0,i.jsx)(b.Z,{className:L}),onClick:t})]})]})}var E=l("532833"),R=l("289228");l("981168"),l("675373"),l("268917");var P=l("987475"),T=l("453126"),A=l("286723"),W=l("565024"),U=l("417194"),O=l("441447"),z=l("595655"),D=l("717864");function F(e){let{isLogin:t}=(0,u.Pc)(),l=function(e){let[t,l]=(0,r.useState)(!0),[a,o]=(0,r.useState)([]),{triggerDownloadClient:i}=(0,D.o)({channelId:x.g.Wallpaper}),[s,d]=(0,r.useState)(!1),u=(0,r.useRef)(),c=()=>W.Q.getItem({sKey:P.CookieKeys.WallpaperGuide})||{showTime:0,closeTime:0,showCount:0,cursor1:0,cursor2:0},v=(e,t)=>{let l=c();l[e]=t,W.Q.setItem(P.CookieKeys.WallpaperGuide,l)},p=()=>(0,A.cG)().then(e=>{if(e){var t;return null==e||null===(t=e.sort)||void 0===t||t.call(e,(e,t)=>(t.createTimestamp||0)-(e.createTimestamp||0)),e}return[]}),f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return(0,A.gE)({cursor:e,count:t,sort_type:T.KM.Time,video_type_select:1}).then(t=>{let o=[...l,...(null==t?void 0:t.wallpaper_list)||[]];return(o=o.filter(e=>{var t,l,n,a,o,i,r,s;return((null==e?!void 0:null===(l=e.aweme)||void 0===l?!void 0:null===(t=l.video)||void 0===t?!void 0:!t.width)||(null==e?!void 0:null===(a=e.aweme)||void 0===a?!void 0:null===(n=a.video)||void 0===n?!void 0:!n.height)||!((null==e?void 0:null===(i=e.aweme)||void 0===i?void 0:null===(o=i.video)||void 0===o?void 0:o.height)>(null==e?void 0:null===(s=e.aweme)||void 0===s?void 0:null===(r=s.video)||void 0===r?void 0:r.width)))&&!0}),a>=3)?(v("cursor1",(null==t?void 0:t.has_more)?t.cursor:0),o):!(o.length>=n)&&(null==t?void 0:t.has_more)?f(t.cursor,n-o.length,o,n,a+1):(v("cursor1",(null==t?void 0:t.has_more)?t.cursor:0),0!==o.length||!(e>100)||(null==t?void 0:t.has_more))?o:f(0,n-o.length,o,n,a+1)})},h=()=>{v("closeTime",Date.now()),l(!1)};return(0,r.useEffect)(()=>{let e=c().cursor2||0,{cursor1:t=0,hoverTime:l}=c();return(!l&&d(!0),null==n?void 0:n.length)?(o(n),()=>{}):(Promise.all([f(t,6),p()]).then(t=>{var l;let[a,i]=t,r=[];null==a||null===(l=a.forEach)||void 0===l||l.call(a,(t,l)=>{r.push((0,z.R)(t)),(l+1)%3==0&&(i[e]&&r.push(i[e]),e+=1)}),(null==i?void 0:i.length)&&v("cursor2",e<(null==i?void 0:i.length)?e:0),o(n=r.filter(e=>!!e))}),()=>{clearTimeout(u.current)})},[]),(0,r.useEffect)(()=>{let e=O.listen(O.EVENT.CloseWallpaperGuide,()=>{h()});return()=>{null==e||e()}},[]),{wallpaperList:a,isFirstHover:s,onHover:()=>{let{hoverTime:e}=c();clearTimeout(u.current),!e&&(v("hoverTime",Date.now()),u.current=setTimeout(()=>{d(!1)},3e3))},onShowGuide:()=>{let{showTime:e=0,showCount:t=0}=c();Date.now()-e>2592e5&&(v("showTime",Date.now()),v("showCount",t+1))},onCloseGuide:h,isShowGuide:()=>{if(!t)return!1;let{showTime:e=0,closeTime:l=0,showCount:n=0}=c();return!(n>5)&&(!!(l<e&&(0,U.KC)(e)||Date.now()-e>2592e5)||!1)},onDownload:i,onHoverEnd:()=>{clearTimeout(u.current),d(!1)}}}(null==e||e.abTestData),{wallpaperList:s}=l,y=(0,p.DT)(),[b,C]=(0,r.useState)(!1),[N,I]=(0,r.useState)(!1),S=l.isShowGuide()&&!y&&N,L=t=>{if(y&&t){var n;f.invoke("OPEN_WALLPAPER_WINDOW",{insertWallpaperList:[(0,o._)((0,a._)({},t),{autoClick:!0})]}),null==e||null===(n=e.onClick)||void 0===n||n.call(e)}else l.onDownload(),j.Z.sendLog("add_to_desktop_click",{enter_from:(0,h.yW)(),type:"wallpaper_hover_button",channel_id:x.g.Wallpaper,ug_channel_id:m.Le.getConfig(m.gI.WebUgChannelId)||""}),l.onCloseGuide()},F=()=>{!y&&j.Z.sendLog("add_to_desktop_show",{enter_from:(0,h.yW)(),type:"wallpaper_hover_button",channel_id:x.g.Wallpaper,ug_channel_id:m.Le.getConfig(m.gI.WebUgChannelId)||""}),l.onHover()},B=async()=>{!y&&t&&await (0,g.Y)()?I(!1):I(!0)};return(0,r.useEffect)(()=>{(null==s?void 0:s.length)&&(j.Z.sendLog("wallpaper_board_show"),j.Z.sendLog("view_more_wallpaper_show"))},[null==s?void 0:s.length]),(0,r.useEffect)(()=>{S&&j.Z.sendLog("add_to_desktop_show",{enter_from:(0,h.yW)(),type:"wallpaper_board_toast",channel_id:x.g.Wallpaper,ug_channel_id:m.Le.getConfig(m.gI.WebUgChannelId)||""})},[S]),(0,r.useEffect)(()=>{let e=setTimeout(()=>{C(!0)},200);return()=>{clearTimeout(e)}},[]),(0,r.useEffect)(()=>{B()},[t]),(0,i.jsxs)("div",{className:d()(w.container,b&&w.overflow,w.navui,null==e?void 0:e.className),children:[S&&(0,i.jsx)(R.k,{componentName:"wallpaper-guide",children:(0,i.jsx)(M,{onClose:e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),l.onCloseGuide(),j.Z.sendLog("add_to_desktop_close",{type:"wallpaper_board_toast"})},onClick:e=>{j.Z.sendLog("add_to_desktop_click",{enter_from:(0,h.yW)(),type:"wallpaper_board_toast",channel_id:x.g.Wallpaper,ug_channel_id:m.Le.getConfig(m.gI.WebUgChannelId)||""}),null==e||e.preventDefault(),null==e||e.stopPropagation(),l.onCloseGuide(),l.onDownload()},onShow:l.onShowGuide})}),(0,i.jsx)(R.k,{componentName:"wallpaper-modal",children:(0,i.jsx)("div",{id:"wallpaper-modal",className:d()(w.wallpaperModalContainer,S&&w.hasGuide,w.show,!(null==s?void 0:s.length)&&w.hide),children:(0,i.jsxs)("div",{className:w.wallpaperModalContainer2,children:[s.map(e=>(0,i.jsx)("div",{className:w.wallpaperItem,onClick:t=>{L(e),t.preventDefault(),t.stopPropagation()},onMouseEnter:F,onMouseLeave:l.onHoverEnd,children:(0,i.jsx)(E.Z,{cardData:e,className:w.wallpaperCard,children:!y&&(0,i.jsxs)("div",{className:d()(w.textWrap),children:[(0,i.jsx)(k.z,{svg:(0,i.jsx)(c.Z,{style:{fontSize:"20px",marginRight:"-3px"}})}),(0,i.jsx)("div",{className:d()(w.text),children:_.a.t("download_client_side_wallpaper",{},"下载客户端 使用壁纸")})]})})},e.id)),(0,i.jsxs)("div",{className:w.moreWrap,onClick:t=>{var l,n,a;null==t||null===(l=t.preventDefault)||void 0===l||l.call(t),null==t||null===(n=t.stopPropagation)||void 0===n||n.call(t),y?f.invoke("OPEN_WALLPAPER_WINDOW",{enter_from:"navigation_bar",enter_method:"wallpaper_board"}):window.open("https://www.douyin.com/wallpaper/","_blank"),null==e||null===(a=e.onClick)||void 0===a||a.call(e),j.Z.sendLog("view_more_wallpaper_click")},children:[(0,i.jsx)("div",{children:_.a.t("more_wallpaper",{},"查看更多电脑桌面壁纸")}),(0,i.jsx)(k.z,{svg:(0,i.jsx)(v.Z,{})})]})]})})})]})}},253482:function(e,t,l){"use strict";let n,a;l.r(t),l.d(t,{NewWallpaper:function(){return R}}),l("874386");var o=l("563097"),i=l("88648"),r=l("713097"),s=l.n(r),d=l("218805"),u=l("987475"),c=l("78776"),v=l("75406"),p=l("544406"),f=l("912377"),h=l("828782"),m=l("66627"),g=l("847191"),_=l("63405"),x=l("441447"),w=l("742740"),j=l("725887"),y=l("28528"),b=l("802913"),C=l("979571"),N=l("315097"),I=l("402558"),S={container:"JdGgM3r6",buttonText:"iQdAxsPk",newWallpaperSvg:"wilJCPPb",wallpaperLottie:"bCeQJbFh",svgBox:"d5wyiDG4",clientWallpaper:"UIgWfjIg",activity:"jybR568b",gaokaoSearch:"wGFARKvD",asianGame:"VpIrVwAi",vsTransMode:"WsW8yVHc",transparent:"oC3gep5r",olympicSearch:"IU1JK6ie",badge:"AQXUMEQJ",tipWrap:"xFzvM6nY",tipText:"PWZnWnT5",none:"bl5d6RJv"},L=l("555885"),k=l("954403"),M=l("717864"),E=l("970607");function R(e){var t;let{activityName:l,isClient:r,abTestData:R,transparent:P}=e,[T,A]=(0,i.useState)(!1),[W,U]=(0,i.useState)(!1),[O,z]=(0,i.useState)(!1),D=(0,i.useRef)(null),F=(null===(t=(0,h.FJ)())||void 0===t?void 0:t.awemePcClient)||"0.0.0",B=O&&!!(!r||(0,m.y)(F,">=","3.7.1")),{userUiStyle:Z}=(0,i.useContext)(k.R),{triggerDownloadClient:G}=(0,M.o)({channelId:b.g.Wallpaper}),V=()=>{if((null==R?void 0:R.wallpaperInteraction)!==1)(0,g.qQ)(u.LocalStorageKeys.ShowImageWallpaperRedPoint,1),U(!1),z(!0),clearTimeout(a)},q=()=>{clearTimeout(a),a=setTimeout(()=>{z(!1)},300)},H=()=>{v.YY.insertTask(v.BE.WallPaperTaskId,()=>{requestAnimationFrame(()=>{A(!0),L.Z.sendLog("wallpaperNotifyShow"),(0,g.qQ)(u.LocalStorageKeys.ShowImageWallpaperTips,1)})},{delay:100,onFinish:()=>{A(!1)},isBlock:!0})};return(0,i.useEffect)(()=>{if(T)return n=setTimeout(()=>{A(!1),v.YY.finishTask(v.BE.WallPaperTaskId)},3e3),()=>{clearTimeout(n)}},[T]),(0,i.useEffect)(()=>{let e=x.listen(x.EVENT.wallpaperTip,()=>{p.a.WallpaperManager.isShowImageTips(R)&&H()});return p.a.WallpaperManager.isShowImageTips(R)&&H(),p.a.WallpaperManager.isShowImageRedPoint(R)&&U(!0),()=>{e()}},[H]),(0,i.useEffect)(()=>{let e=x.listen(x.EVENT.showHeaderPopUp,e=>{let{type:t,isShow:l}=e||{};"wallpaper"!==t&&l&&z(!1)});return()=>e()},[]),(0,o.jsx)(d.Tooltip,{content:"精美的图片壁纸上线啦～",position:"bottom",visible:T,trigger:"custom",getPopupContainer:()=>D.current||document.body,children:(0,o.jsx)("div",{ref:D,style:{position:"relative"},children:(0,o.jsx)(E.p,{headerPopupName:"wallpaper",children:(0,o.jsxs)("div",{className:S.tipWrap,onMouseEnter:V,onMouseLeave:q,children:[(0,o.jsxs)("div",{className:s()(S.container,{isDark:!!l||P&&!Z,[S.clientWallpaper]:r,[S.activity]:!!l||P,[null==S?void 0:S[l]]:l,[S.transparent]:P}),onClick:()=>{if(r){(null==R?void 0:R.wallpaperInteraction)===1&&((0,g.qQ)(u.LocalStorageKeys.ShowImageWallpaperRedPoint,1),U(!1));let e=f.e.getPipWindow({scene:c.d.ListenVideo});e&&(null==e||e.close()),_.invoke("OPEN_WALLPAPER_WINDOW",{enter_from:"navigation_bar",enter_method:"top_bar"}),q()}else(null==R?void 0:R.wallpaperInteraction)===1?((0,g.qQ)(u.LocalStorageKeys.ShowImageWallpaperRedPoint,1),U(!1),window.open("https://www.douyin.com/wallpaper/?enter_method=click_wallpaper_button","_blank"),q()):(x.emit(x.EVENT.CloseWallpaperGuide),G(),L.Z.sendLog("add_to_desktop_click",{enter_from:(0,w.yW)(),type:"top_bar",channel_id:b.g.Wallpaper,ug_channel_id:j.Le.getConfig(j.gI.WebUgChannelId)||""}));V()},children:[(0,o.jsxs)("div",{className:S.svgBox,children:[(0,o.jsx)(d.Badge,{dot:!0,countClassName:s()(S.badge,!W&&S.none)}),(0,o.jsx)(C.z,{needRenderInSSR:!0,className:S.newWallpaperSvg,svg:(0,o.jsx)(N.Z,{})})]}),(0,o.jsx)("div",{className:S.buttonText,children:y.a.t("wallpaper",{},"壁纸")})]}),B&&(0,o.jsx)(I.K,{onClick:q,abTestData:R})]})})})})}},595655:function(e,t,l){"use strict";l.d(t,{R:function(){return c}});var n=l(520739);l(413806),l(826893),l(874386);var a=l(832052),o=l(440499),i=l(828782),r=l(842602);let s=e=>{try{var t;return(null==e?void 0:null===(t=e.split("?")[0])||void 0===t?void 0:t.split(".").pop())||"png"}catch(e){}return"png"},d=e=>(0,i.DT)()?e:(0,r.C7)(e),u=e=>{var t,l,n,i,r,u,c,v,p,f,h,m,g,_,x,w,j,y,b,C,N,I;let S=null==e?void 0:e.aweme_type,L=S===a.e.Note?o._.Image:o._.Video,k={id:null==e?void 0:e.aweme_id,type:L,awemeType:S,author:null==e?void 0:null===(t=e.author)||void 0===t?void 0:t.nickname,authorUid:null==e?void 0:null===(l=e.author)||void 0===l?void 0:l.uid,authorSecUid:null==e?void 0:null===(n=e.author)||void 0===n?void 0:n.sec_uid,dynamicCoverUrl:d((null==e?void 0:null===(u=e.video)||void 0===u?void 0:null===(r=u.dynamic_cover)||void 0===r?void 0:null===(i=r.url_list)||void 0===i?void 0:i[0])||""),coverUrl:d((null==e?void 0:null===(p=e.video)||void 0===p?void 0:null===(v=p.cover)||void 0===v?void 0:null===(c=v.url_list)||void 0===c?void 0:c[0])||""),downloadUrl:[],videoUrlList:((null==e?void 0:null===(h=e.video)||void 0===h?void 0:null===(f=h.play_addr)||void 0===f?void 0:f.url_list)||[]).map(e=>d(e)),vWidth:(null==e?void 0:null===(g=e.video)||void 0===g?void 0:null===(m=g.download_addr)||void 0===m?void 0:m.width)||0,vHeight:(null==e?void 0:null===(x=e.video)||void 0===x?void 0:null===(_=x.download_addr)||void 0===_?void 0:_.height)||0,carouselImages:[]};return L===o._.Image?(k.downloadUrl=((null==e?void 0:e.images)||[]).map((e,t)=>{var l;let n=null==e?void 0:null===(l=e.download_url_list)||void 0===l?void 0:l[0];return{url:d(n),width:e.width,height:e.height,fileName:`image${t}.${s(n)}`}}),k.carouselImages=[...k.downloadUrl],k.vWidth=(null===(w=k.carouselImages[0])||void 0===w?void 0:w.width)||0,k.vHeight=(null===(j=k.carouselImages[0])||void 0===j?void 0:j.height)||0):k.downloadUrl=[{url:d((null==e?void 0:null===(C=e.video)||void 0===C?void 0:null===(b=C.download_addr)||void 0===b?void 0:null===(y=b.url_list)||void 0===y?void 0:y[0])||""),fileName:"video.mp4",hash:null==e?void 0:null===(I=e.video)||void 0===I?void 0:null===(N=I.download_addr)||void 0===N?void 0:N.file_hash}],k},c=e=>{var t,l;return(0,n._)({tagId:e.tag_id,tagName:e.tag_name,labelId:e.label_id,labelName:e.label_name,hotVal:e.hot_val,playStartSec:e.play_start_sec<Math.floor(null===(t=e.aweme)||void 0===t?void 0:t.duration)?e.play_start_sec:-1,playEndSec:null!==(l=e.play_end_sec)&&void 0!==l?l:-1},u(e.aweme))}},84039:function(e,t,l){"use strict";l.d(t,{Jo:function(){return o},he:function(){return n},st:function(){return i},uo:function(){return a}});let n={enabled:!1,opacity:80,fontSize:1,region:0,speed:1},a=["超小","小号","适中","大号","超大"].map((e,t)=>({label:e,value:t})),o=["一行","两行","25%","50%","80%"].map((e,t)=>({label:e,value:t})),i=["较慢","适中","较快"].map((e,t)=>({label:e,value:t}))},250908:function(e,t,l){"use strict";l.d(t,{v:function(){return i}});var n=l(134761);l(179133),l(826893),l(250440);var a=l(879146),o=l.n(a);class i{on(e,t){return this.emitter.on(e,t),()=>{this.emitter.off(e,t)}}once(e,t){return this.emitter.once(e,t),()=>{this.emitter.off(e,t)}}emit(e,t){this.emitter.emit(e,t)}constructor(){(0,n._)(this,"emitter",void 0),this.emitter=new(o())}}},461896:function(e,t,l){"use strict";l.d(t,{lI:function(){return C},ns:function(){return _},si:function(){return N}});var n=l(520739),a=l(878389);l(874386);var o=l(563097),i=l(88648),r=l(128231),s=l.n(r),d=l(504641),u=l.n(d),c=l(404203),v=l(250908),p=l(138481),f=l(158137),h=l(203258),m=l(84039);let g=(0,i.createContext)(null),_=()=>(0,i.useContext)(g),x=[5,1,2,3,4],w=[1,5,2,3,4],j={playbackRate:1,definition:"__auto__",autoPlayNext:!1,paidContent:!1,wideScreen:!1,fullScreen:!1,playing:!1,loading:!1,working:!1,volume:50,muted:!1,pip:!1},y={modal:!1,input:"",settings:m.he},{sectionStorage:b}=(0,p.y)("player",{definition:j.definition,definitionLastTime:0,volume:j.volume/100,danmaku:m.he,nextautoplay:"0",miniwin:"0",isMute:0},{playbackratio:1}),C={shown:!1,played:0,total:0,rate:0,sent:0},N=e=>{let{children:t}=e,l=(0,i.useMemo)(()=>new f.k(j),[]),r=(0,i.useMemo)(()=>new f.k(y),[]),d=(0,i.useMemo)(()=>new f.k,[]),p=(0,i.useMemo)(()=>new f.k,[]),_=(0,i.useMemo)(()=>new v.v,[]),N=(0,i.useRef)((0,n._)({},C)),{isLogin:I}=(0,h.Pc)(),S=(0,i.useMemo)(()=>({danmakuPlayResultRef:N,emitter:_,control:l,userlog:p,channel:d,danmaku:r}),[]);return(0,i.useLayoutEffect)(()=>{I&&b.definitionLastTime+864e5>Date.now()&&l.dispatch("definition",b.definition),l.dispatch("playbackRate",b.playbackratio),l.dispatch("autoPlayNext","1"===String(b.nextautoplay)),l.dispatch("volume",u()(Math.round(100*b.volume),0,100)),l.dispatch("muted",1===b.isMute),l.dispatch("pip","1"===b.miniwin);let e=l.subscribe("playbackRate",e=>{b.playbackratio=e}),t=l.subscribe("autoPlayNext",e=>{b.nextautoplay=e?"1":"0"}),n=l.subscribe("definition",e=>{b.definition="__auto__"!==e?e:void 0,b.definitionLastTime=Date.now()}),a=l.subscribe("volume",e=>{b.volume=u()(e/100,0,1)}),o=l.subscribe("muted",e=>{b.isMute=e?1:0}),i=l.subscribe("pip",e=>{b.miniwin=e?"1":"0"});return()=>{e(),t(),n(),a(),o(),i()}},[]),(0,i.useLayoutEffect)(()=>{if(I){r.dispatch("settings",(0,n._)({},r.getValue("settings"),b.danmaku)),(0,c.Ri)({hardware_concurrency:navigator.hardwareConcurrency}).then(e=>{var t;if(null===(t=e.confList)||void 0===t?void 0:t.length){let[{speed:t,region:l,isOpen:o,opacity:i,fontSize:s}]=e.confList;r.dispatch("settings",(0,a._)((0,n._)({},r.getValue("settings")),{fontSize:x.findIndex(e=>e===s),region:w.findIndex(e=>e===l),enabled:o,speed:t-1,opacity:i}))}});let e=s()(e=>{let{enabled:t,region:l,speed:n,opacity:a,fontSize:o}=e;(0,c.RB)({isOpen:t,opacity:a,speed:n+1,region:w[l],fontSize:x[o]})},500);return r.subscribe("settings",t=>e(b.danmaku=t))}r.dispatch("settings",(0,a._)((0,n._)({},m.he),{enabled:!0}))},[I]),(0,o.jsx)(g.Provider,{value:S,children:t})}},138481:function(e,t,l){"use strict";l.d(t,{y:function(){return i}});var n=l(520739);l(209955),l(874386),l(779788);var a=l(688269),o=l.n(a);let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(0,n._)({},t,l),r=e=>{if(e in t)return window.localStorage;if(e in l)return window.sessionStorage;throw Error("never")},s=Object.create((0,n._)({},a));for(let[t,l]of Object.entries(a)){let n=`${o()(e)}_${o()(t)}`;Object.defineProperty(s,t,{enumerable:!0,get(){try{let e=r(t).getItem(n);if(e){let t=JSON.parse(e);if(typeof t==typeof l)return t}return l}catch(e){return l}},set(e){if(void 0===e)return r(t).removeItem(n);r(t).setItem(n,JSON.stringify(e))}})}return{sectionStorage:s,getSubsection:(t,l,n)=>i(`${e}_${t}`,l,n)}}},203258:function(e,t,l){"use strict";l.d(t,{Pc:function(){return u},hg:function(){return d},yw:function(){return s}}),l(675373);var n=l(459307),a=l(742740),o=l(461896),i=l(109539),r=l(582296);let s=0,d=0,u=()=>{let{userInfo:e,dispatch:t}=(0,i.useUserInfoContext)(),l=(0,o.ns)();return{dispatch:t,userInfo:e,isLogin:e.isLogin,requestLogin:(e,n)=>(s=1,new Promise(a=>{null==l||l.channel.dispatch("popover",{}),(0,r.default)({headerText:e,enterMethod:n,success(){null==t||t({type:"updateUserInfo"}),a(!0)},onClose(){s=0,a(!1)}})})),reportDanmaku:o=>(null==l||l.channel.dispatch("popover",{}),d=1,new Promise(l=>{var i,r;(0,n.m)({title:"举报弹幕",type:"danmaku",object_id:o,owner_id:(null==e?void 0:null===(i=e.info)||void 0===i?void 0:i.uid)||"",owner_sec_id:(null==e?void 0:null===(r=e.info)||void 0===r?void 0:r.secUid)||"",onClose:()=>{d=0,l()},logParams:{enter_method:"list"},loginDispatch:t,userInfo:null==e?void 0:e.info,pipeline_id:"",enter_from:(0,a.yW)(),isOrigin:!0},document.fullscreenElement||document.body)}))}}},404203:function(e,t,l){"use strict";l.d(t,{FW:function(){return b},JV:function(){return j},N6:function(){return w},RB:function(){return x},Ri:function(){return _},YO:function(){return C},ob:function(){return y}});var n=l(520739),a=l(878389);l(779788),l(675373);var o=l(576660),i=l(842602),r=l(66863),s=l(596161),d=l(465769),u=l(742740);let{COMMON_SEARCH_PARAMS:c}=o||{};function v(e){let{conf_list:t,status_code:l,log_pb:n}=e;return{statusCode:l,confList:null==t?void 0:t.map(e=>{let{speed:t,region:l,switch:n,conf_end_type:a,opacity:o,font_size:i,from_default:r}=e||{};return{speed:t-1,region:l,isOpen:n,confEndType:a,opacity:o,fontSize:i,fromDefault:r}}),logPb:n&&JSON.stringify(n)}}function p(e){let{danmaku_list:t,status_code:l,log_pb:n,total:a,http_code:o}=e;return{statusCode:l,danmakuList:null==t?void 0:t.map(e=>({text:e.text,status:e.status,danmakuId:e.danmaku_id,itemId:e.item_id,userId:e.user_id,offsetTime:e.offset_time,diggType:e.digg_type,score:null==e?void 0:e.score})),total:a,logPb:n&&JSON.stringify(n),httpCode:o}}function f(e){let{danmaku_list:t,status_code:l,log_pb:n,total:a,has_more:o}=e;return{statusCode:l,danmakuList:null==t?void 0:t.map(e=>({text:e.text,status:e.status,danmakuId:e.danmaku_id,itemId:e.item_id,userId:e.user_id,offsetTime:e.offset_time,diggType:e.digg_type})),hasMore:o,logPb:n&&JSON.stringify(n)}}function h(e){let{danmaku_id:t,status_code:l,log_pb:n,isVerifyPassportError:a}=e;return{statusCode:l,danmakuId:t,logPb:n&&JSON.stringify(n),isVerifyPassportError:a}}function m(e){let{status_code:t,log_pb:l}=e;return{statusCode:null!=t?t:-1,logPb:l&&JSON.stringify(l)}}function g(e){let{status_code:t,log_pb:l}=e;return{statusCode:null!=t?t:-1,logPb:l&&JSON.stringify(l)}}async function _(e){let{ctx:t,hardware_concurrency:l}=e,o=await (0,r.U2)("/aweme/v1/web/danmaku/conf/get/",(0,a._)((0,n._)({},c),{conf_end_type:4,hardware_concurrency:l}),t?{timeout:1e3}:{},void 0,t);return(0,i.RL)(o,v)}async function x(e){let{opacity:t,fontSize:l,speed:o,region:i,isOpen:s}=e,d=await (0,r.v_)("/aweme/v1/web/danmaku/conf/set/",(0,n._)((0,a._)((0,n._)({},c),{conf_end_type:4,opacity:t,font_size:l,speed:o+1,region:i}),null!=s?{switch:s}:{}));return{statusCode:null==d?void 0:d.status_code}}async function w(e){let{awemeId:t="",startTime:l=0,endTime:o=0,authenticationToken:d="",duration:u=0,hasTotal:v,total:f}=e||{},h=await (0,r.U2)("/aweme/v1/web/danmaku/get_v2/",(0,a._)((0,n._)({},c),{app_name:s.APPNAME,format:"json",group_id:t,item_id:t,start_time:l,end_time:o,authentication_token:d,duration:u,has_total:v,total:f}));return(0,i.RL)(h,p)}async function j(e){let{awemeId:t="",offset:l=0,count:o=0}=e,d=await (0,r.U2)("/aweme/v1/web/danmaku/list/",(0,a._)((0,n._)({},c),{app_name:s.APPNAME,format:"json",group_id:t,item_id:t,offset:l,count:o}));return(0,i.RL)(d,f)}async function y(e){let{danmakuId:t="",awemeId:l="",type:o=0}=e,s=await (0,r.U2)("/aweme/v1/web/danmaku/digg/",(0,a._)((0,n._)({},c),{danmaku_id:t,aweme_id:l,action_type:o,enter_from:(0,d.vM)(),previous_page:(0,u.yW)()}));return(0,i.RL)(s,m)}async function b(e){let{item_id:t="",offset_time:l=0,text:o="",user_id:s=""}=e,v=await (0,r.v_)("/aweme/v1/web/danmaku/post_v2/",(0,a._)((0,n._)({},c),{item_id:t,offset_time:l,text:o,user_id:s,enter_from:(0,d.vM)(),previous_page:(0,u.yW)()}));return(0,i.RL)(v,h)}async function C(e){let{userType:t,danmakuId:l=""}=e,o=await (0,r.v_)("/aweme/v1/web/danmaku/delete_v2/",(0,a._)((0,n._)({},c),{app_name:s.APPNAME,format:"json",user_type:t,danmaku_id:l}));return(0,i.RL)(o,g)}},929582:function(e,t,l){"use strict";l(429532);var n=l(88648);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e}).apply(this,arguments)}let o=n.forwardRef(function(e,t){return n.createElement("svg",a({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,ref:t},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.29289 3.29289C7.68342 2.90237 8.31658 2.90237 8.70711 3.29289L16.7071 11.2929C17.0976 11.6834 17.0976 12.3166 16.7071 12.7071L8.70711 20.7071C8.31658 21.0976 7.68342 21.0976 7.29289 20.7071C6.90237 20.3166 6.90237 19.6834 7.29289 19.2929L14.5858 12L7.29289 4.70711C6.90237 4.31658 6.90237 3.68342 7.29289 3.29289Z",fill:"currentColor"}))});o.elementType="Icon",t.Z=o},661540:function(e,t,l){"use strict";var n=l(520739),a=l(878389),o=l(563097),i=l(88648);let r=(0,i.forwardRef)((e,t)=>(0,o.jsx)("svg",(0,a._)((0,n._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,o.jsx)("path",{d:"M16.292 9.364a1.929 1.929 0 1 0-2.727 2.727l5.637 5.637-5.637 5.637a1.928 1.928 0 1 0 2.727 2.727l6.985-6.985.016-.015a1.929 1.929 0 0 0 0-2.728l-7-7z",fill:"#0A0C20"})})));t.Z=r},973954:function(e){e.exports=function(e,t,l){return e==e&&(void 0!==l&&(e=e<=l?e:l),void 0!==t&&(e=e>=t?e:t)),e}},504641:function(e,t,l){var n=l(973954),a=l(993893);e.exports=function(e,t,l){return void 0===l&&(l=t,t=void 0),void 0!==l&&(l=(l=a(l))==l?l:0),void 0!==t&&(t=(t=a(t))==t?t:0),n(a(e),t,l)}}}]);