"use strict";(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["57113"],{293211:function(e,i,l){l.d(i,{Hh:function(){return a},vE:function(){return o},xB:function(){return r}}),l(602157),l(250440);var t=l(552771);let n=(e,i)=>{var l;return null==e?void 0:null===(l=e.trim())||void 0===l?void 0:l.slice(0,i)},r=e=>{let i,l;let{desc:r,nickname:o,createTimeStr:a,likeCount:d,textExtra:s=[],ocrContent:u}=e,c=s.filter(e=>e.type===t.TextType.HashTag).map(e=>e.hashtagName).join(","),v=`${o}在抖音记录美好生活${a} - 抖音`,m=`${o}于${a}发布在抖音，已经收获了${d}个喜欢，来抖音，记录美好生活！`,f="抖音,抖音短视频,抖音官网";return r?(i=`${n(r,200)} - 抖音`,l=`${n(r,120)} - ${m}`):(i=u.length<30?v:`${n(u,30)} - 抖音`,l=u.length<30?m:`${n(u,120)} - ${m}`),{title:i,description:l,keywords:c?`${c},${f}`:f}},o=e=>{let{desc:i="",nickname:l,createTimeStr:o,likeCount:a,keyword:d="",source:s=0,ocrContent:u,keywordList:c=[]}=e,v=`${l}于${o}发布在抖音，已经收获了${a}个喜欢，来抖音，记录美好生活！`,{title:m,description:f,keywords:_}=r(e);return t.HOT_KEYWORD_TYPE_LIST.includes(s)?(m=i.includes(d)?m:`${d}-${i}-抖音`,_=`${d},抖音`):(m=`${d}-抖音`,_=`${c.slice(0,3).join(",")},抖音`),{title:m,description:f=`${d}${n(u,120)} - ${v}`,keywords:_}},a=e=>{let{desc:i,nickname:l,createTimeStr:t,likeCount:o,ocrContent:a=""}=e,d=`${l}于${t}发布在抖音，已经收获了${o}个喜欢，来抖音，记录美好生活！`,{description:s,keywords:u}=r(e),c=a.length<30?`${i} - ${l} - 抖音`:`${n(a,30)} - 抖音`;return{title:c,description:a.length<30?s:`${n(a,120)} - ${d}`,keywords:u}}},668710:function(e,i,l){l.d(i,{l:function(){return x}});var t=l("520739"),n=l("878389");l("927234"),l("874386");var r=l("563097"),o=l("88648"),a=l("713097"),d=l.n(a),s=l("801636"),u=l("742740"),c=l("465769"),v=l("441447"),m=l("649368");let f=(0,o.forwardRef)((e,i)=>(0,r.jsx)("svg",(0,n._)((0,t._)({width:8,height:8,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:i},e),{children:(0,r.jsx)("path",{opacity:".7",d:"M.455 6.435a.78.78 0 0 0 1.103 1.103l2.434-2.435 2.435 2.435A.78.78 0 0 0 7.53 6.435L5.095 4 7.53 1.566A.78.78 0 0 0 6.427.463L3.992 2.897 1.558.463A.78.78 0 0 0 .455 1.566L2.889 4 .455 6.435z",fill:"#fff"})})));var _={cardAd:"auIPeWle",cover:"BPfFVE0r",douyinIcon:"Zf1aLzBu",coverContent:"v3mtt6oK",coverImg:"iTTEOGZL",info:"XqUInXNy",title:"vwDdvG9C",actions:"h1vWzGpx",link:"hPAqs8Ha",button:"A3iwm53Y",secondary:"o4kMRWJb",tertiary:"NQ7omhr0",adTag:"dTOXLecF",withBackground:"JrsPxN_j"},h=l("872136");let g={enter_from_merge:"",enter_from:"",sub_tab_name:"",source_id:"",card_type:"not_fixed_card",card_rank:"",is_card_mark:0,button_num:0};var p={firstButton:"first_button",secondButton:"second_button",clickCaption:"click_caption",otherLocation:"other_location"};let w=new h.h({feedAdCardShow:{eventName:"feed_ad_card_show",params:(0,t._)({},g)},feedAdCardClick:{eventName:"feed_ad_card_click",params:(0,n._)((0,t._)({},g),{click_location:""})},feedAdCardClose:{eventName:"feed_ad_card_close",params:(0,t._)({},g)}});var C=l("88961");let x=e=>{let{cardAd:i,cardStyle:l,onClose:a,onShow:h,logParams:g,enterMethod:x}=e,{id:b,order:I,permanent:y,postUrl:L,title:j,showAdTag:T}=i||{},k=(0,o.useMemo)(()=>(null==i?void 0:i.actions)?"link"===i.actions[0].type?[i.actions[0]]:i.actions.filter(e=>!!(null==e?void 0:e.text)&&(!!e.is_open_JX_modal||!!(null==e?void 0:e.link)))||[]:[],[null==i?void 0:i.actions]),S=()=>({enter_from_merge:(0,u.yW)(),enter_from:(0,c.vM)(),sub_tab_name:(null==g?void 0:g.sub_tab_name)||"",source_id:b.toString(),card_type:y?"fixed_card":"not_fixed_card",card_rank:I.toString(),is_card_mark:T?1:0,button_num:k.length}),[E,N]=function(e){let[i,l]=(0,C.Z)(),t=(0,o.useRef)(!1);return!t.current&&l&&(e&&e(),t.current=!0),[i,l]}(()=>{null==h||h(i),w.sendLog("feedAdCardShow",(0,t._)({},S()))}),R=()=>{null==a||a(i),w.sendLog("feedAdCardClose",(0,t._)({},S()))},P=(e,i)=>{let{link:l}=e||{};if(null==e?void 0:e.is_open_JX_modal){w.sendLog("feedAdCardClick",(0,n._)((0,t._)({},S()),{click_location:i})),v.emit(v.EVENT.OpenJXModal,{source:x});return}if(!!l)window.open(l,"_blank","noopener"),w.sendLog("feedAdCardClick",(0,n._)((0,t._)({},S()),{click_location:i}))};return(0,o.useEffect)(()=>v.listen(v.EVENT.RefreshFeedList,()=>{N&&w.sendLog("feedAdCardShow",(0,t._)({},S()))}),[N]),(0,r.jsxs)("div",{className:d()(_.cardAd,{[_.withBackground]:"with-background"===l}),onClick:e=>{e.stopPropagation(),P(k[0],p.otherLocation)},ref:E,children:[(0,r.jsx)("div",{className:_.cover,children:(0,r.jsx)(s.Q,{imgClass:_.coverImg,className:_.coverContent,src:L,iconWidth:24,iconHeight:28,showImageInSSR:!1,imageReady:!0,skeletonClass:_.douyinIcon})}),(0,r.jsxs)("div",{className:_.info,children:[(0,r.jsx)("div",{className:_.title,onClick:e=>{e.stopPropagation(),P(k[0],p.clickCaption)},children:j}),(0,r.jsx)("div",{className:_.actions,children:k.map((e,i)=>(0,r.jsxs)("span",{className:d()({[_.link]:"link"===e.type,[_.button]:"button"===e.type,[_.secondary]:"button"===e.type&&0===i,[_.tertiary]:"button"===e.type&&1===i}),onClick:l=>{l.stopPropagation(),P(e,0===i?p.firstButton:p.secondButton)},children:[e.text,(0,r.jsx)(m.Z,{})]},i))})]}),T&&(0,r.jsxs)("div",{className:_.adTag,children:[(0,r.jsx)("span",{children:"广告"}),(0,r.jsx)("span",{onClick:e=>{e.stopPropagation(),R()},children:(0,r.jsx)(f,{})})]})]})}},95349:function(e,i,l){var t=l(563097);l(88648);var n=l(439837),r=l.n(n),o=l(265482);i.Z=e=>{let{videoDetail:i,mobileUrl:l,children:n}=e,{desc:a,authorInfo:d,createTime:s=Date.now()/1e3,video:u,awemeId:c}=i||{},{nickname:v=""}=d||{},{cover:m}=u||{},f=r()(1e3*s).format("YYYYMMDD")||"",_=`${v}在抖音记录美好生活${f}`;return a&&(_=a.slice(0,35)),i?(0,t.jsxs)(o.Z,{mobileUrl:l,children:[n,(0,t.jsx)("meta",{name:"lark:url:enable",content:u?"true":"false"}),(0,t.jsx)("meta",{name:"lark:url:video_icon_url",content:"https://lf1-cdn-tos.bytegoofy.com/goofy/ies/douyin_web/public/favicon.ico"}),(0,t.jsx)("meta",{name:"lark:url:video_title",content:_}),(0,t.jsx)("meta",{name:"lark:url:video_cover_image_url",content:m}),(0,t.jsx)("meta",{name:"lark:url:video_iframe_url",content:`https://www.douyin.com/light/${c}`}),(0,t.jsx)("meta",{name:"lark:url:video_brand_name",content:"抖音"})]}):(0,t.jsx)(o.Z,{mobileUrl:l,children:n})}},211849:function(e,i,l){l.d(i,{R:function(){return m}}),l("874386"),l("250440");var t=l("563097");l("88648");var n=l("713097"),r=l.n(n),o=l("907170"),a=l("421885"),d=l("956428"),s=l("180962"),u=l("555679"),c={tagContainer:"MuOMBG7w",tagText:"j0NhDonV",yellow:"cnXJYqGj",green:"XyANTGWL",recommended:"HiCadb44"};a.Z,d.Z,s.Z,u.Z;let v=new Map([["follow",{text:"你的关注"}],["recommended",{text:"为你推荐"}],["collect",{text:"收藏"}],["digg",{text:"点赞"}],["comment",{text:"评论"}]]),m=e=>{let{count:i,type:l,className:n,abTestData:a}=e,d=v.get("recommended"===l?"recommended":"follow");return(0,t.jsx)(t.Fragment,{children:d&&(0,t.jsx)("span",{className:r()(c.tagContainer,n,{[c.yellow]:"collect"===l,[c.green]:"comment"===l,[c.green]:"follow"===l,[c.recommended]:"recommended"===l}),children:(0,t.jsx)("span",{className:r()(c.tagText),children:`${["follow","recommended"].includes(l)?"":(0,o.qe)(i||0)}${d.text}`})})})}},120441:function(e,i,l){l.d(i,{Z:function(){return eB}});var t=l("520739"),n=l("878389");l("675373"),l("602157"),l("874386"),l("698295"),l("630833");var r=l("563097"),o=l("88648"),a=l("713097"),d=l.n(a),s=l("222406"),u=l("465571"),c=l("338426"),v=l("149250"),m=l("948375"),f=l("567754"),_=l("645003"),h=l("623582"),g=l("369881"),p=l("867961"),w=l("552771"),C=l("78776"),x=l("549086"),b=l("383763"),I=l("912377"),y=l("115627"),L=l("901046"),j=l("126544"),T=l("487330"),k=l("876877"),S=l("725887"),E=l("907170"),N=l("465769"),R=l("441447"),P=l("774575"),A=l("742740"),M=l("81046"),D=l("376978"),B=l("852664"),F=l("828782"),O=l("583165"),V={more:"okbbldWm",videoCard:"Ety_VxKJ",cardInfo:"aQ9_t9OG",bgChange:"Ggrj06si",videoImg:"Lcu93pLN",imgAspectRatio:"tIDxbbb0",hover:"MXa_Fvst",hotMask:"ZNnEuoIx",hotBottomInfo:"DzD5gTdY",hotCount:"PI_YRTgM",hotText:"_FSjEjz0",hotDuration:"bDPIenef",coverBg:"yCZK873D",coverMask:"HS_xtX97",cardInfoContainer:"eHJ6sWzB",transparent:"N6iRTJrK",decs:"bWzvoR9D",userText:"cFBFnzvk",userTextContent:"v2EXCtbT",userName:"i1udsuGn",text:"H0ZV35Qb",marginRight:"kGiKw5ui",highlightTag:"fNbKQpbC",highlightTagWithoutMarginRight:"L9x6LbYL",divider:"TGGwK4S0",interactiveBox:"uvLZJzu_",contents:"uvbktBRs",icon:"os6QELZF",barContainer:"jOEMaHXF",barIcon:"t3FiK6uZ",barText:"JrUsR5HS",barDivide:"fbxmM1V3",barDesc:"JoNaf7Md",createTime:"RIr_dcq4",hasMarginRight:"a9pGU2CK",flexColumn:"K7AQ1qf_",needScale:"qitm_ReH",imageChange:"nG23Syh1",at:"usZ3A4ca",report:"WSk_EDgD",bottom:"UN0kFYlU",bigCard:"MOOYT7l5",isBigCardCutVideo:"l3knLhM1",jxThemeColor:"Cy3BHAAt",moreBtnBgChange:"Ozj4cge_"},U=l("784492"),H=l("832052"),Y=l("791483"),z=l("509090"),J=l("801636"),W=l("825521"),Z=l("132654"),$=l("504995"),G={videoImage:"aEPe5XR7",videoBox:"_mZtzTNG",videoBoxUnsetBg:"RnLdibGs",img:"FzTzDfM8",gaosi:"MHUGVJJ0",imgCover:"arVEnqPE",videoInfo:"nxtM_NY2",discoverWatchLaterToast:"K1TmrJVT",inVisible:"kteHsmP9"},q=l("101156"),X={playingCover:"ap8bVGAY",safari:"puRNIeSZ",playingCoverInner:"ZkyW_Mff"};let K=()=>(0,r.jsx)("div",{className:d()(X.playingCover,{[X.safari]:(0,B.G6)()}),onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,r.jsxs)("div",{className:X.playingCoverInner,children:[(0,r.jsx)(q.WaveLineAnimation,{className:X.icon}),(0,r.jsx)("span",{children:"播放中"})]})}),Q=e=>{let{previewUrlList:i,onVideoEnded:l,onVideoStopped:t,onVideoPlaying:n,topAwemeId:r,isTopCard:a=!1}=e,d=(0,T.Iq)(e=>{let{pipWindow:i}=e;return{pipWindow:i}}),[s,u]=(0,o.useState)(!1),[c,v]=(0,o.useState)(!1),[f,_]=(0,o.useState)(!1),h=(0,o.useRef)(),g=(0,o.useRef)(0);(0,o.useEffect)(()=>{c&&(null==n||n())},[c]);let p=(0,m.Z)(e=>{v(e)}),w=(0,m.Z)(()=>{v(!0)}),C=(0,m.Z)(()=>{p(!1)}),x=(0,o.useMemo)(()=>{let e=i.length>0,l=!!(null==d?void 0:d.pipWindow);return e&&(a?s:c&&!l)},[i,c,a,s]),b=(0,o.useRef)(x);(0,o.useLayoutEffect)(()=>{!x&&b.current&&(_(!1),null==t||t(Date.now()-g.current))},[x,t]),(0,Y.C)(()=>{u(!0)},[]),(0,U.Z)(()=>{if(!a){if(R.emit(R.EVENT.JingxuanTopCard,{action:c?"pause":"play",awemeId:r,from:c?"hover_other_cover":"cancel_hover_other_cover"}),c)return R.listen(R.EVENT.JingxuanTopCard,e=>{let{action:i}=e;"pauseOtherCard"===i&&v(!1)})}},[c,a]),(0,o.useEffect)(()=>{b.current=x},[x]);let I=(0,m.Z)(()=>{null==l||l()});return{onMouseEnter:w,onMouseLeave:C,isPlay:x,isHovered:c,setIsHovered:p,onEnded:I,onPlaying:(0,m.Z)(()=>{_(!0)}),isReady:f,previewImageRef:h}},ee=e=>{let{awemeInfo:i,useOuterProgress:l=!1}=e,[t,n]=(0,o.useState)(!1),[r,a]=(0,o.useState)(0),[d,s]=(0,o.useState)(0),[u,c]=(0,o.useState)(0);return(0,o.useEffect)(()=>{if(!l||!i.awemeId)return;let e=e=>{let{awemeId:l}=e;if(l!==i.awemeId)return;let t=S.Le.getConfig(S.gI.JxOuterProgress),r=(null==t?void 0:t[l])||{};(null==r?void 0:r.isWatchedEnd)||(null==r?void 0:r.progress)?(n(!0),a((null==r?void 0:r.progress)||0),s((null==r?void 0:r.startTime)||0),c((null==r?void 0:r.duration)||0)):(n(!1),a(0),s(0))};e({awemeId:i.awemeId});let t=R.listen(R.EVENT.UpdateJxOuterProgress,e);return()=>{null==t||t()}},[l,i]),{showOuterProgress:t,outerProgress:r,outerStartTime:d,outerDuration:u}};var ei="hRlVOg7l",el="PRUt1wQg";let et=e=>{let{progress:i,outerClassName:l,onShow:t}=e,n=(0,_.x)(()=>{null==t||t()});return(0,r.jsx)("div",{ref:n,className:d()(ei,l),children:(0,r.jsx)("div",{className:el,style:{width:`${i}%`}})})};var en=l("415980");let er=o.lazy(()=>Promise.all([l.e("42562"),l.e("27713"),l.e("14725")]).then(l.bind(l,392360)));var eo={OutSide:0,0:"OutSide",Inner:1,1:"Inner"};let ea=e=>{z.F.info(e)};var ed=(0,o.forwardRef)((e,i)=>{var l;let{style:a,className:u,imageClassName:c,imgClass:v,imageSkeletonClass:m="",imgUrl:f="",children:_,onClick:h,defaultImageColor:g,onVideoStopped:w,onVideoPlaying:C,previewUrlList:x=[],width:b,height:I,fakeHorizontalInfo:y,onVideoEnded:L,isHorizontal:j=!1,isSpider:k,debugInfo:E,appendPlayerConfig:N,alt:P,awemeInfo:D,onMouseEnter:F,onMouseLeave:V,showProgressBar:z,onPreviewChange:q,logParams:X,showImageInSSR:ei,forceContainerCover:el=!1,renderExtension:eo,onImgLoad:ed,onLoadedData:es,priority:eu,videoImageWidth:ec,videoImageHeight:ev,decoding:em,scene:ef,user:e_,onRef:eh,disablePreview:eg=!1,disableByMoreAction:ep=!1,enableNotePreview:ew=!1,blurLightCover:eC=!1,needOperateHidden:ex=!1,isBigCard:eb=!1,isTopCard:eI=!1,isTopCardActive:ey,topAwemeId:eL,showWatchLater:ej=!1,imageReady:eT,tab:ek,enableCardHoverPreview:eS,canCancelWatchLater:eE,withBlurBg:eN,withBlurBgPerf:eR,enableImageX:eP,scrollContainerRef:eA,reuseConfig:eM,showAiEntry:eD,onClickAiEntry:eB,abTestData:eF,onClickPipIcon:eO,isPipPlaying:eV,dislikeCoverVisible:eU,useOuterProgress:eH=!1,forceHiddenOuterProgress:eY=!1}=e,ez=(0,o.useRef)(!1),eJ=(0,T.Iq)(e=>{let{pipWindow:i,isWebMiniWin:l}=e;return{pipWindow:i,isWebMiniWin:l}}),[eW,eZ]=(0,o.useState)(null),[e$,eG]=(0,o.useState)(null),eq=(null==D?void 0:D.awemeType)===H.e.Note,eX=(0,o.useRef)(),{showOuterProgress:eK,outerProgress:eQ,outerStartTime:e0,outerDuration:e1}=ee({awemeInfo:D,useOuterProgress:eH}),{setIsHovered:e2,isPlay:e3,onMouseEnter:e7,onMouseLeave:e5,onEnded:e6,onPlaying:e4,isReady:e8,previewImageRef:e9,isHovered:ie}=Q({previewUrlList:x,onVideoStopped:w,onVideoEnded:L,onVideoPlaying:C,isTopCard:eI,topAwemeId:eL}),[ii,il]=(0,o.useState)(e3),it=(0,o.useCallback)(()=>{if(null==h||h(),(null==x?void 0:x.length)!==0)e2(!1)},[e2,h,x]);(0,o.useEffect)(()=>{if("discover"===ef&&eb){var e,i;null===(i=window)||void 0===i||null===(e=i.jxHydrateReadyCb)||void 0===e||e.call(i,null==eX?void 0:eX.current)}},[ef,eb]),(0,Y.C)(()=>{var e,i,l;let t=(null===(e=S.Le.getConfig(S.gI.IsInModalVideo))||void 0===e?void 0:e.isInModal)||!1;(null===(l=window)||void 0===l?void 0:null===(i=l.__QUICK_PLAYER)||void 0===i?void 0:i.player)||t?il(!1):il(e3)},[e3]),(0,U.Z)(()=>{if(eI){var e,i,l;let t=(null===(e=S.Le.getConfig(S.gI.IsInModalVideo))||void 0===e?void 0:e.isInModal)||!1,n=null===(l=window)||void 0===l?void 0:null===(i=l.__QUICK_PLAYER)||void 0===i?void 0:i.player;il(e3&&!!ey&&!(null==eJ?void 0:eJ.pipWindow)&&!t&&!n)}},[eI,ey,e3,null==eJ?void 0:eJ.pipWindow]),(0,o.useEffect)(()=>{if(eI){let e=R.listen(R.EVENT.videoPause,()=>{il(!1)}),i=R.listen(R.EVENT.exitModalVideo,()=>{il(e3&&!!ey&&!(null==eJ?void 0:eJ.pipWindow))});return()=>{null==e||e(),null==i||i()}}},[eI,ey,e3,null==eJ?void 0:eJ.pipWindow]);let ir=(!(0,B.vU)()||D)&&ii&&(null==x?void 0:x.length)>0;(0,o.useEffect)(()=>{null==q||q(ir)},[ir]);let{isiPad:io}=(0,p.X)(),{isWebMiniWin:ia=!1}=(0,T.Iq)(e=>{let{isWebMiniWin:i}=e;return{isWebMiniWin:i}}),id=(0,o.useCallback)(()=>{e7(),null==F||F()},[e7,F,ia]),is=(0,o.useCallback)(()=>{e5(),null==V||V()},[e5,V]);(0,o.useEffect)(()=>{if(eW&&!ep&&!eS&&!io){let e=M.mouseEnter(eW,id,!0),i=M.mouseLeave(eW,is);return()=>{e(),i()}}},[eW,ep,eS,io,id,is]),(0,o.useImperativeHandle)(i,()=>({enter(){eW&&!ep&&id()},leave(){eW&&!ep&&is()}}),[eW,ep,id,is]),(0,o.useEffect)(()=>{let e=()=>{"hidden"===document.visibilityState&&is()};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[is]),(0,o.useEffect)(()=>{ia&&is()},[ia]);let iu=(ie||ir)&&ej&&(0,$.D)(D)&&!eU,ic=(0,o.useMemo)(()=>{let e=(0,A.yW)();return(0,n._)((0,t._)({},X),{enter_from:e,enter_from_merge:e,tab_name:null!=ek?ek:e,click_method:`${e}_preview`})},[X]),iv=(0,o.useMemo)(()=>eE?(0,n._)((0,t._)({},D),{watchLaterInfo:null}):D,[eE,D]),im=(0,o.useMemo)(()=>({watchLaterAwemeInfo:iv,user:e_}),[iv,e_]),i_=(0,o.useCallback)(()=>{var e,i,l,t;if(!ez.current)ez.current=!0,en.Z.report("pc_theme_progress_bar_show",{enter_from:(0,A.yW)(),enter_from_merge:(0,A.yW)(),enter_method:"",tab_name:null==X?void 0:X.tab_name,sub_tab_name:null==X?void 0:X.sub_tab_name,aweme_type:null==X?void 0:null===(e=X.awemeInfo)||void 0===e?void 0:e.awemeType,group_id:null==X?void 0:null===(i=X.awemeInfo)||void 0===i?void 0:i.awemeId,author_id:null==X?void 0:null===(t=X.awemeInfo)||void 0===t?void 0:null===(l=t.authorInfo)||void 0===l?void 0:l.uid,item_duration_ms:e1})},[X,e1]);return(0,r.jsxs)("div",{style:a,onClick:it,className:d()(G.videoImage,u,"videoImage"),ref:e=>{eZ(e),null==eh||eh(e)},children:[(0,r.jsxs)("div",{className:d()(G.videoBox,{[G.videoBoxUnsetBg]:!ir}),ref:e=>{eG(e)},children:[(0,r.jsx)(J.Q,{skeletonStyle:{background:g},className:d()(c,{[G.inVisible]:eI&&!ey}),imgClass:d()(G.img,v,{[G.imgCover]:el,[G.gaosi]:eg&&!(0,B.G6)()}),skeletonClass:m,src:f,isPreviewing:e8&&ir,isSpider:k,alt:P,showImageInSSR:ei,imageReady:eT,onHandleImgLoad:ed,priority:eu,width:ec,height:ev,decoding:em,blurLightCover:eC,withBlurBgPerf:eR,withBlurBg:eN,imgUrlList:(null==D?void 0:null===(l=D.video)||void 0===l?void 0:l.coverUrlList)||[],enableImageX:eP,scrollContainerRef:eA}),ir&&!eg&&(!eq||ew)&&(0,r.jsx)(s.SV,{Slardar:(0,O.f5)(),children:(0,r.jsx)(o.Suspense,{fallback:(0,r.jsx)("div",{}),children:(0,r.jsx)(er,{startTime:eK?e0:void 0,isTopCardActive:ey,needOperateHidden:ex,previewUrlList:x||[],isHorizontal:j,onReady:e4,onLoadedData:es,onEnded:e6,ratio:I/b,fakeHorizontalInfo:y,showProgressBar:z,ref:e9,logParams:X,awemeInfo:D,appendPlayerConfig:N,container:eW,coverContainer:e$,renderExtension:eo,forceContainerCover:el,scene:ef,user:e_,reuseBigCardQuickPlayer:eI,isTopCard:eI,isBigCard:eb,reuseConfig:eM,isShowWatchLater:iu&&eI&&!!(null==eF?void 0:eF.jingxuanCover169),useNewControlIcon:eI&&!!(null==eF?void 0:eF.jingxuanCover169),watchLaterProps:im,enableNote:!0,pip:{show:"discover"===ef,onClick:()=>{null==eO||eO()}}})})}),ir&&eq&&(null==eo?void 0:eo({type:H.e.Note})),(0,B.vU)()&&(null==eo?void 0:eo()),!ir&&(0,r.jsx)("div",{className:d()(G.videoInfo),children:o.Children.toArray(_).map(e=>{var i;if((null==e?void 0:null===(i=e.props)||void 0===i?void 0:i.slot)===1)return e})}),iu&&!(eI&&(null==eF?void 0:eF.jingxuanCover169))&&(0,r.jsx)(Z.nf,{abtest:eF,awemeInfo:iv,isActive:!0,isPreview:!0,isLogin:null==e_?void 0:e_.isLogin,loginDispatch:null==e_?void 0:e_.dispatch,logParams:ic,toast:e=>ea({text:e,className:eE?G.discoverWatchLaterToast:""}),canCancelWatchLater:eE}),eV&&!eU&&(0,r.jsx)(K,{}),eK&&!eY&&!ir&&(0,r.jsx)(et,{onShow:i_,progress:eQ}),eb&&(0,r.jsx)("div",{className:"bigCardQuickPlayerContainer",ref:eX})]}),o.Children.toArray(_).map(e=>{var i;if((null==e?void 0:null===(i=e.props)||void 0===i?void 0:i.slot)===0)return e}),E&&(0,r.jsx)(W.W,{req:null==E?void 0:E.web_debug_req,video:null==E?void 0:E.client_rec_debug_info,isLeft:!1,showPanelRightside:!0})]})}),es=l("954270"),eu=l("816242"),ec=l("979571"),ev=l("964374"),em=l("492652"),ef={videoCoverContainer:"UVozwOjM",weeklyRecommendTag:"v8Eq4MV4",topContain:"Rmj61Lln",tag:"U0Kc5fVM",icon:"VzYy3NPA",homeTag:"EnxOJUbc",homeTagText:"Tu_AoxtC",homeTagHot:"FN6VbMH0",homeTagRank:"KXiXPh4W",homeTagContainer:"LTe9QCEO",time:"enTvYUph",likes:"x7P__y2r"};let e_=(0,o.forwardRef)((e,i)=>(0,r.jsxs)("svg",(0,n._)((0,t._)({width:10,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:i},e),{children:[(0,r.jsx)("path",{d:"M.616 4.435a.75.75 0 0 1 0-1.292l3.622-2.135a1.5 1.5 0 0 1 1.524 0l3.622 2.135a.75.75 0 0 1 0 1.292L5.762 6.57a1.5 1.5 0 0 1-1.524 0L.616 4.435z",fill:"#fff"}),(0,r.jsx)("path",{d:"M.07 5.785a.5.5 0 0 1 .684-.177l3.738 2.204a1 1 0 0 0 1.016 0l3.738-2.204a.5.5 0 1 1 .508.862L6.016 8.673a2 2 0 0 1-2.032 0L.246 6.47a.5.5 0 0 1-.177-.685z",fill:"#fff"}),(0,r.jsx)("path",{d:"M.754 7.858a.5.5 0 1 0-.508.862l3.738 2.203a2 2 0 0 0 2.032 0L9.754 8.72a.5.5 0 1 0-.508-.862l-3.738 2.204a1 1 0 0 1-1.016 0L.754 7.857z",fill:"#fff"})]}))),eh=(0,o.forwardRef)((e,i)=>(0,r.jsxs)("svg",(0,n._)((0,t._)({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:i},e),{children:[(0,r.jsx)("g",{filter:"url(#ic_home_note_svg__filter0_d_3305_2957)",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.917 1.75c-.645 0-1.167.522-1.167 1.167V8.75c0 .644.522 1.167 1.167 1.167H8.75c.644 0 1.167-.523 1.167-1.167V2.917c0-.645-.523-1.167-1.167-1.167H2.917zm2.333 10.5a1.167 1.167 0 0 1-1.167-1.167H8.75a2.333 2.333 0 0 0 2.333-2.333V4.083c.645 0 1.167.523 1.167 1.167v4.667a2.333 2.333 0 0 1-2.333 2.333H5.25z",fill:"#fff"})}),(0,r.jsx)("defs",{children:(0,r.jsxs)("filter",{id:"ic_home_note_svg__filter0_d_3305_2957",x:-1,y:-1,width:16,height:16,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:".5"}),(0,r.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),(0,r.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_3305_2957"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_3305_2957",result:"shape"})]})})]}))),eg=(0,o.forwardRef)((e,i)=>(0,r.jsxs)("svg",(0,n._)((0,t._)({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:i},e),{children:[(0,r.jsxs)("g",{filter:"url(#ic_home_collect_svg__filter0_d_3305_2200)",fill:"#fff",clipPath:"url(#ic_home_collect_svg__clip0_3305_2200)",children:[(0,r.jsx)("path",{d:"M11.922 5.212a.63.63 0 0 0 .293-.545.631.631 0 0 0-.292-.545L7.275 1.355a.495.495 0 0 0-.511-.001L2.079 4.12a.63.63 0 0 0-.294.544c0 .23.112.44.292.546l4.65 2.774c.16.095.352.096.512 0l4.683-2.773z"}),(0,r.jsx)("path",{d:"M12.145 6.7c.148.297.053.673-.211.839l-4.686 2.937a.495.495 0 0 1-.532 0L2.068 7.582c-.265-.165-.36-.54-.214-.838.147-.298.48-.406.745-.24L6.98 9.231l4.419-2.77c.264-.166.598-.06.745.238z"}),(0,r.jsx)("path",{d:"M11.934 9.872c.264-.166.359-.541.211-.839-.147-.297-.48-.404-.745-.238l-4.42 2.77L2.6 8.835c-.265-.165-.598-.057-.745.241-.147.298-.051.673.214.838l4.648 2.896a.495.495 0 0 0 .532 0l4.686-2.938z"})]}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("filter",{id:"ic_home_collect_svg__filter0_d_3305_2200",x:".785",y:".283",width:12.43,height:13.604,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:".5"}),(0,r.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),(0,r.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_3305_2200"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_3305_2200",result:"shape"})]}),(0,r.jsx)("clipPath",{id:"ic_home_collect_svg__clip0_3305_2200",children:(0,r.jsx)("path",{fill:"#fff",d:"M0 0h14v14H0z"})})]})]}))),ep=(0,o.forwardRef)((e,i)=>(0,r.jsxs)("svg",(0,n._)((0,t._)({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:i},e),{children:[(0,r.jsx)("path",{d:"M1.283 7a2.917 2.917 0 0 1 3.792-2.783.583.583 0 1 0 .35-1.113 4.083 4.083 0 1 0 0 7.793.583.583 0 0 0-.35-1.114A2.917 2.917 0 0 1 1.283 7z",fill:"#fff"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.8 2.917a4.083 4.083 0 1 0 0 8.166 4.083 4.083 0 0 0 0-8.166zM6.883 7a2.917 2.917 0 1 1 5.834 0 2.917 2.917 0 0 1-5.834 0z",fill:"#fff"})]})));var ew=l("66047"),eC=o.memo(e=>{var i,l,t,n,o;let{style:a,className:s,showTag:u,tagName:c,showTime:v,time:m,showLikes:f,likes:_,showIntegrationTag:h,showCooperationTag:g=!0,showHomeNote:p,showHomeCollect:w,showHomeHot:C,awemeInfo:x,scene:b}=e,I=(0,ew._)(),{userInfo:L}=(0,em.useUserContext)(),{uid:j=""}=null!==(n=null==L?void 0:L.info)&&void 0!==n?n:{},T=(0,es.$m)(x,(null==x?void 0:null===(i=x.authorInfo)||void 0===i?void 0:i.uid)===j),k=(0,eu.$)({awemeInfo:x,abTestData:I});return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{style:a,className:d()(ef.videoCoverContainer,s),children:[k&&(0,r.jsx)(eu.n,{scene:"videoCard",className:ef.weeklyRecommendTag,awemeInfo:x}),!k&&(0,r.jsx)(es.zx,{type:T}),!k&&!T&&(0,r.jsxs)("div",{className:d()(ef.topContain),children:[h&&(0,r.jsxs)("div",{className:d()(ef.homeTag),children:[(0,r.jsx)(y.Z,{width:10,height:12,viewBox:"0 0 10 12",src:e_,className:ef.icon}),(0,r.jsx)("span",{className:ef.homeTagText,children:"合集"})]}),u&&c&&(0,r.jsx)("div",{className:d()(ef.tag),children:c}),g&&!h&&!(u&&c)&&!p&&!w&&!C&&Number(null!==(o=null==x?void 0:null===(t=x.cooperationInfo)||void 0===t?void 0:null===(l=t.cooperationCreators)||void 0===l?void 0:l.length)&&void 0!==o?o:0)>1&&(0,r.jsxs)("div",{className:d()(ef.homeTag),children:[(0,r.jsx)(y.Z,{width:14,height:14,viewBox:"0 0 14 14",src:ep,className:ef.icon}),(0,r.jsx)("span",{className:ef.homeTagText,children:"共创"})]})]}),!k&&!T&&(0,r.jsxs)("div",{className:d()(ef.homeTagContainer),children:[p&&(0,r.jsxs)("div",{className:d()(ef.homeTag),children:[(0,r.jsx)(y.Z,{width:14,height:14,viewBox:"0 0 14 14",src:eh,className:ef.icon}),(0,r.jsx)("span",{className:ef.homeTagText,children:"图文"})]}),w&&(0,r.jsxs)("div",{className:d()(ef.homeTag),children:[(0,r.jsx)(y.Z,{width:14,height:14,viewBox:"0 0 14 14",src:eg,className:ef.icon}),(0,r.jsx)("span",{className:ef.homeTagText,children:"合集"})]}),C&&(0,r.jsxs)("div",{className:d()(ef.homeTag,ef.homeTagHot),children:[(0,r.jsx)("span",{className:ef.homeTagText,children:"热榜"}),(0,r.jsx)("span",{className:ef.homeTagRank,children:"TOP"})]})]}),v&&(0,r.jsx)("div",{className:d()(ef.time),children:m}),f&&(0,r.jsxs)("div",{className:d()(ef.likes),children:[(0,r.jsx)(ec.z,{initialMounted:!!S.Le.getConfig(S.gI.isCSRRender),style:"discover"===b?{marginRight:"2px"}:{fontSize:"20px",marginRight:"2px"},svg:(0,r.jsx)(ev.Z,{className:ef.icon})}),(0,r.jsx)("span",{children:_})]})]})})}),ex=l("211849");let eb=(0,o.forwardRef)((e,i)=>(0,r.jsxs)("svg",(0,n._)((0,t._)({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:i},e),{children:[(0,r.jsxs)("g",{clipPath:"url(#ic_hot_svg__clip0_3118_121700)",children:[(0,r.jsx)("mask",{id:"ic_hot_svg__a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:1,y:-2,width:10,height:14,children:(0,r.jsx)("path",{d:"M1.5-1.05h9.208v8.233a4.516 4.516 0 0 1-4.516 4.516A4.692 4.692 0 0 1 1.5 7.007V-1.05z",fill:"#C4C4C4"})}),(0,r.jsxs)("g",{mask:"url(#ic_hot_svg__a)",children:[(0,r.jsx)("path",{d:"M9.393 3.552c.961 1.062 1.316 2.125 1.316 3.187 0 1.417-.068 1.797 0 1.771-1.859.738-5.123-.93-6.021-3.187-.899-2.258.38-4.25 2.353-5.313.078-.041.126.028.126.133 0 1.638 1.265 2.346 2.226 3.409z",fill:"url(#ic_hot_svg__paint0_linear_3118_121700)"}),(0,r.jsx)("path",{d:"M10.545 8.87c.191-.348.557 1.057.164-1.226.354-1.967-1.142-2.745-2.125-2.321-1.645.708-2.48.708-3.542.354-.69-.23-1.638-.708-1.934-1.77-.329 1.416.66 4.065 2.157 4.964 1.497.898 5.09.348 5.28 0z",fill:"url(#ic_hot_svg__paint1_linear_3118_121700)"}),(0,r.jsx)("path",{d:"M2.775 3.338C2.534 3.58 1.5 4.825 1.5 6.815c0 1.99 1.063 4.884 4.604 4.884 3.542 0 4.931-1.406 5.313-3.255-3.188 1.771-5.656 0-6.021-.354-.9-.872-2.125-2.411-2.338-4.604-.029-.301-.042-.39-.283-.148z",fill:"url(#ic_hot_svg__paint2_linear_3118_121700)"})]})]}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"ic_hot_svg__paint0_linear_3118_121700",x1:4.536,y1:".278",x2:8.934,y2:6.742,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:".021",stopColor:"#FADF32"}),(0,r.jsx)("stop",{offset:".451",stopColor:"#EB9B46"}),(0,r.jsx)("stop",{offset:".782",stopColor:"#EB5854"})]}),(0,r.jsxs)("linearGradient",{id:"ic_hot_svg__paint1_linear_3118_121700",x1:3.616,y1:4.788,x2:11.598,y2:9.516,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#FFC533"}),(0,r.jsx)("stop",{offset:".436",stopColor:"#F26461"}),(0,r.jsx)("stop",{offset:".809",stopColor:"#FF0544"})]}),(0,r.jsxs)("linearGradient",{id:"ic_hot_svg__paint2_linear_3118_121700",x1:9.195,y1:11.126,x2:1.577,y2:4.974,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:".134",stopColor:"#FA0951"}),(0,r.jsx)("stop",{offset:".354",stopColor:"#FA3E65"}),(0,r.jsx)("stop",{offset:".881",stopColor:"#F2AE49"}),(0,r.jsx)("stop",{offset:".998",stopColor:"#FAC032"})]}),(0,r.jsx)("clipPath",{id:"ic_hot_svg__clip0_3118_121700",children:(0,r.jsx)("path",{fill:"#fff",d:"M0 0h12v12H0z"})})]})]}))),eI=e=>{let{awemeInfo:i,isModalPlayingCurrentVideo:l,onClickPipIcon:t}=e,{isWebMiniWin:n,pipWindow:r,isListenVideoMiniWin:a}=(0,T.Iq)(e=>{let{isWebMiniWin:i,pipWindow:l,isListenVideoMiniWin:t}=e;return{isWebMiniWin:i,pipWindow:l,isListenVideoMiniWin:t}}),d=(0,o.useMemo)(()=>(n||a)&&l,[n,i,l,a]),[s,u]=(0,o.useState)(!1),c=s||d;return(0,o.useEffect)(()=>{if(r){let e=()=>{u(!1)};return r.addEventListener("pagehide",e),()=>{r.removeEventListener("pagehide",e)}}},[r]),(0,o.useEffect)(()=>{!d&&u(!1)},[d]),{isPipPlaying:c,handleClickPipIcon:()=>{u(!0),null==t||t()}}};var ey=l("768492");let eL=(e,i)=>{var l,t,n,r,a,d,s,u;let c=!!e.authorInfo.roomId,v=(0,o.useMemo)(()=>{var l,t,n,r,o;return{web_rid:null===(n=e.authorInfo)||void 0===n?void 0:null===(t=n.roomData)||void 0===t?void 0:null===(l=t.owner)||void 0===l?void 0:l.web_rid,room_id:null===(r=e.authorInfo)||void 0===r?void 0:r.roomId,request_id:null==e?void 0:e.logPb,anchor_id:null===(o=e.authorInfo)||void 0===o?void 0:o.uid,live_position:i}},[null===(l=e.authorInfo)||void 0===l?void 0:l.uid,null===(r=e.authorInfo)||void 0===r?void 0:null===(n=r.roomData)||void 0===n?void 0:null===(t=n.owner)||void 0===t?void 0:t.web_rid,null===(a=e.authorInfo)||void 0===a?void 0:a.roomId,null==e?void 0:e.logPb,i]);return{isAuthorLiving:c,handleJumpToLiveRoom:(0,o.useCallback)(()=>{var l,t,n;let r=(0,ey.cc)({anchor_id:null===(l=e.authorInfo)||void 0===l?void 0:l.uid,web_rid:null===(n=e.authorInfo.roomData)||void 0===n?void 0:null===(t=n.owner)||void 0===t?void 0:t.web_rid,enter_from_merge:"web_homepage_discover",enter_method:"web_video_card",enter_method_temai:"web_video_card",action_type:"click",room_id:e.authorInfo.roomId,request_id:null==e?void 0:e.logPb,live_position:i,__is_replaced_live__:(null==e?void 0:e.__is_replaced_live__)?"1":"0"});window.open(r,"_blank","noopener")},[null===(d=e.authorInfo)||void 0===d?void 0:d.uid,null===(u=e.authorInfo.roomData)||void 0===u?void 0:null===(s=u.owner)||void 0===s?void 0:s.web_rid,e.authorInfo.roomId,null==e?void 0:e.logPb,i]),liveParams:v}};var ej="GqvoOOqQ",eT="gyc_BqdH",ek="vYT08osC";let eS=e=>{let{onClick:i}=e;return(0,r.jsxs)("div",{className:ej,onClick:i,children:[(0,r.jsx)("div",{className:eT,children:(0,r.jsx)(q.default,{size:7})}),(0,r.jsx)("div",{className:ek,children:"正在直播"})]})};var eE=l("128231"),eN=l.n(eE),eR=l("451118");let eP=(e,i)=>i&&1e-4>Math.abs(e/i-16/9),eA=e=>{let{awemeInfo:i,isBigCard:l,scene:t,abTestData:n,ref:r}=e,[a,d]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{var e,o,a;if("discover"!==t||!l||(null==i?void 0:i.webCardType)||!i.pcBlockedAreaRatio||(null!==(a=null==i?void 0:i.createTime)&&void 0!==a?a:0)*1e3<=17304192e5||!(null==i?void 0:null===(e=i.video)||void 0===e?void 0:e.height)||!(null==i?void 0:null===(o=i.video)||void 0===o?void 0:o.width)||eP(i.video.width,i.video.height))return;let s=eN()(()=>{if(r.current&&i&&i.video){let e=r.current.getBoundingClientRect(),{width:l}=e,t=(null==n?void 0:n.jingxuanCover169)?e.height:e.height-90;if(l/t<i.video.width/i.video.height){let e=i.pcBlockedAreaRatio,n=(1-i.video.height/i.video.width*l/t)/2;if(!e){d(n<.05);return}if(e&&e.length<=5)return;let r=Math.min(null==e?void 0:e[6],100-(null==e?void 0:e[7]))-100*n>=1;d(n<.05&&r)}if(l/t>i.video.width/i.video.height){let e=i.pcBlockedAreaRatio,n=(1-i.video.width/i.video.height*t/l)/2;if(!e){d(n<.05);return}if(e&&e.length<=5)return;let r=Math.min(100-(null==e?void 0:e[8]),null==e?void 0:e[9])-100*n>=1;d(n<.05&&r)}}},0);s();let u=eR.Z.bind(r.current,s);return()=>u()},[t,l,null==i?void 0:i.awemeId,n]),a},eM=(0,c.ZP)(()=>l.e("6028").then(l.bind(l,462657)),{ssr:!1,resolveComponent:e=>{let{More:i}=e;return i}}),eD=e=>{let{hotInfo:i}=e;return(0,r.jsx)("div",{className:d()(V.hotMask),children:(0,r.jsxs)("div",{className:V.hotBottomInfo,children:[(null==i?void 0:i.header)?(0,r.jsxs)("div",{className:V.hotCount,children:[(0,r.jsx)("img",{src:"//p-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/hot.png",alt:"热点icon"}),(0,r.jsx)("span",{className:V.hotText,children:null==i?void 0:i.hotTitle})]}):null,(null==i?void 0:i.footer)?(0,r.jsx)("span",{className:d()(V.hotDuration,V.hotTextHide),children:null==i?void 0:i.footer}):null]})})};var eB=e=>{var i,l,a,c,U,H,Y,z,J,W,Z,$,G,q,X,K,Q,ee,ei,el,et,en;let{style:er,className:ea,imageClassName:es,imgClass:eu,imageSkeletonClass:ec,imageBoxClassName:ev,cardInfoClassName:em,cardIndex:ef,description:e_,userName:eh,likesCount:eg,videoTime:ep,userHref:ew,userHrefTarget:ey,imgUrl:ej,onClick:eT,onShow:ek,onMouseEnter:eE,onMouseLeave:eN,width:eR=0,height:eP=0,showLikes:eB=!0,fakeHorizontalInfo:eF,previewUrlList:eO,isHorizontal:eV,showIntegrationTag:eU,showHomeNote:eH,showHomeHot:eY,awemeInfo:ez,showHotInfo:eJ,hotInfo:eW,url:eZ,isSpider:e$,debugInfo:eG,appendPlayerConfig:eq,showHighLightTag:eX=!1,isShowCreateTime:eK=!1,isShowDescription:eQ=!0,blurLightCover:e0=!1,isNameFirst:e1=!1,willJump:e2=!1,videoInteractionTags:e3=[],showProgressBar:e7,onVideoPlaying:e5,onVideoStopped:e6,coverMask:e4,onVideoImageMouseEnter:e8,onVideoImageMouseLeave:e9,onLoadedData:ie,tab:ii,videoImageStyle:il,showImageInSSR:it,forceContainerCover:ir=!1,renderExtension:io,useStyleInUserLink:ia=!1,children:id,onCoverLoad:is,videoImageHeight:iu,videoImageWidth:ic,videoImagePriority:iv,decoding:im,scene:i_,user:ih,abTestData:ig,enableNotePreview:ip,needOperateHidden:iw,hasNoFollow:iC,isBigCard:ix=!1,isTopCard:ib=!1,isTopCardActive:iI,topAwemeId:iy,showMore:iL=!1,showWatchLater:ij,logParams:iT,imageReady:ik,enableCardHoverPreview:iS=!1,onMorePopperShow:iE,onMorePopperHidden:iN,withBlurBg:iR,disabledALink:iP,enableImageX:iA,scrollContainerRef:iM,reuseConfig:iD,onClickAiEntry:iB,onClickPipIcon:iF,isModalPlayingCurrentVideo:iO}=e,{isListenVideoMiniWin:iV}=(0,T.Iq)(e=>{let{isListenVideoMiniWin:i}=e;return{isListenVideoMiniWin:i}}),[iU,iH]=(0,o.useState)(!1),iY=(0,o.useRef)(null),iz=(0,o.useRef)(null),[iJ,iW]=(0,o.useState)(eg),[iZ,i$]=(0,o.useState)(null!==(et=null===(l=S.Le.getConfig(S.gI.CollectStatusCache))||void 0===l?void 0:null===(i=l[null==ez?void 0:ez.awemeId])||void 0===i?void 0:i.count)&&void 0!==et?et:null==ez?void 0:null===(a=ez.stats)||void 0===a?void 0:a.collectCount),[iG,iq]=(0,o.useState)(null!==(en=null===(H=S.Le.getConfig(S.gI.FollowStatusCache))||void 0===H?void 0:null===(c=H[null==ez?void 0:null===(U=ez.authorInfo)||void 0===U?void 0:U.uid])||void 0===c?void 0:c.followStatus)&&void 0!==en?en:null==ez?void 0:null===(Y=ez.authorInfo)||void 0===Y?void 0:Y.followStatus),[iX,iK]=(0,o.useState)(!1),[iQ,i0]=(0,o.useState)({cover:{done:!1,success:!1},node:!1}),[i1,i2]=(0,o.useState)(!1),{isPipPlaying:i3,handleClickPipIcon:i7}=eI({awemeInfo:ez,isModalPlayingCurrentVideo:iO,onClickPipIcon:iF}),i5=i1||i3,[i6,i4]=(0,o.useState)(!1),[i8,i9]=(0,o.useState)(!1),le=(0,o.useRef)(0),li=o.useMemo(()=>{var e,i,l;return`/root/live/${null===(l=ez.authorInfo)||void 0===l?void 0:null===(i=l.roomData)||void 0===i?void 0:null===(e=i.owner)||void 0===e?void 0:e.web_rid}`},[null===(W=ez.authorInfo)||void 0===W?void 0:null===(J=W.roomData)||void 0===J?void 0:null===(z=J.owner)||void 0===z?void 0:z.web_rid]),ll=o.useCallback(()=>{if(li){var e,i,l,r,o,a,d;let s=`${li}?${f.stringify((0,n._)((0,t._)({},iT),{anchor_id:null===(e=ez.authorInfo)||void 0===e?void 0:e.uid,web_rid:null===(l=ez.authorInfo.roomData)||void 0===l?void 0:null===(i=l.owner)||void 0===i?void 0:i.web_rid,enter_from_merge:"web_homepage_discover",enter_method:"web_video_card",enter_method_temai:"web_video_card",action_type:"click",room_id:ez.authorInfo.roomId,request_id:null==ez?void 0:ez.logPb,live_position:ef,__is_replaced_live__:(null==ez?void 0:ez.__is_replaced_live__)?"1":"0"}))}`;(0,j.X)({href:s,reusePlayer:0,webRid:null===(a=ez.authorInfo)||void 0===a?void 0:null===(o=a.roomData)||void 0===o?void 0:null===(r=o.owner)||void 0===r?void 0:r.web_rid,abtestData:ig,roomId:null===(d=ez.authorInfo)||void 0===d?void 0:d.roomId,usePreCreate:!0})}},[li,iT,null===(G=ez.authorInfo)||void 0===G?void 0:null===($=G.roomData)||void 0===$?void 0:null===(Z=$.owner)||void 0===Z?void 0:Z.web_rid,null===(K=ez.authorInfo)||void 0===K?void 0:null===(X=K.roomData)||void 0===X?void 0:null===(q=X.owner)||void 0===q?void 0:q.id_str,null===(ee=ez.authorInfo.roomData)||void 0===ee?void 0:null===(Q=ee.owner)||void 0===Q?void 0:Q.web_rid,ez.authorInfo.roomId,null==ez?void 0:ez.logPb]),{isAuthorLiving:lt,handleJumpToLiveRoom:ln,liveParams:lr}=eL(ez,ef,ll);(0,u.C)(k.w3.components.video_card);let lo=(0,o.useMemo)(()=>(null==ez?void 0:ez.createTime)>0?(0,E.MH)((null==ez?void 0:ez.createTime)*1e3):"",[null==ez?void 0:ez.createTime]),la=(0,_.Y)(()=>{h.logInstance.sendLog("postTimeShow",{enter_from:(0,N.mo)(),group_id:ez.awemeId,post_time:lo})});(0,o.useEffect)(()=>{let e=x.a.addCb(e=>{var i,l,t;let{action:n,diggCount:r,awemeId:o,actionUid:a,followStatus:d,collectCount:s}=e;(null==ez?void 0:ez.awemeId)===o&&(iW((0,E.qe)(null!=r?r:null==ez?void 0:null===(l=ez.stats)||void 0===l?void 0:l.diggCount)),i$(null!=s?s:null==ez?void 0:null===(t=ez.stats)||void 0===t?void 0:t.collectCount)),("follow"===n||"unFollow"===n)&&a===(null==ez?void 0:null===(i=ez.authorInfo)||void 0===i?void 0:i.uid)&&iq(d)});return()=>{e()}},[ez]);let ld=(0,m.Z)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!!ib)R.emit(R.EVENT.JingxuanTopCard,{action:"topCardReplace",awemeId:iy,cancelReplace:e})}),ls=(0,_.x)(()=>i0(e=>(0,n._)((0,t._)({},e),{node:!0})));(0,o.useEffect)(()=>{iQ.node&&(null==ek||ek())},[iQ.node,ek]);let lu=(0,o.useCallback)(e=>{let i=void 0===e||e;i0(e=>(0,n._)((0,t._)({},e),{cover:{success:i,done:!0}}))},[ej]);(0,o.useEffect)(()=>{if(!!iQ.cover.done&&!!iQ.node)null==is||is(iQ.cover.success,ej)},[iQ.cover.done,iQ.node,iQ.cover.success,is,ej]);let lc=eX&&(null==ez?void 0:ez.insertId),lv=eX&&(0,P.F)(iG)&&!lc,lm=eX&&iG!==g.$u.FollowEach&&iG!==g.$u.Followed&&!lc&&(null==e3?void 0:e3[0]),lf=()=>{e9&&e9(),null==eN||eN()},l_=(0,o.useRef)(null);(0,o.useEffect)(()=>{if(!i5&&iS){let e=M.mouseEnter(ls.current,()=>{var e,i;iS&&(null==l_||null===(i=l_.current)||void 0===i||null===(e=i.enter)||void 0===e||e.call(i))},!0),i=M.mouseLeave(ls.current,()=>{var e,i;iS&&(null==l_||null===(i=l_.current)||void 0===i||null===(e=i.leave)||void 0===e||e.call(i))});return()=>{e(),i()}}},[i5,iS]);let lh=(0,o.useRef)({is_first_large_card_outflow:ix?1:0});lh.current.is_first_large_card_outflow=ix?1:0;let lg=eA({awemeInfo:ez,isBigCard:ix,scene:i_,ref:ls}),{isiPad:lp}=(0,p.X)(),lw="discover"===i_,lC=lw&&!!(null==ig?void 0:ig.themeColorOptimize)&&!ix,lx=(0,o.useCallback)(()=>{i2(!0)},[]),lb=(0,o.useCallback)(()=>{i2(!1)},[]),lI=(0,o.useCallback)(()=>{clearTimeout(le.current),i9(!0)},[]),ly=(0,o.useCallback)(()=>{clearTimeout(le.current),le.current=setTimeout(()=>{i9(!0)},250)},[]),lL=(0,o.useCallback)(()=>{var e,i;i4(!0),null==l_||null===(i=l_.current)||void 0===i||null===(e=i.leave)||void 0===e||e.call(i),iH(!0)},[]),lj=(0,o.useCallback)(()=>{i4(!1),iH(!1)},[]),lT=(0,o.useCallback)(()=>{iH(!0)},[]),lk=(0,o.useMemo)(()=>D.H.newVideoInfo(ig),[ig]),lS=(0,o.useMemo)(()=>({is_first_large_card_outflow:ix?1:0}),[ix]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(b.B,{target:"_blank",rel:`noopener noreferrer${iC?" nofollow":""}`,href:eZ,isNeedSeoOpt:!0,className:d()(V.videoCard,ea,{[V.hover]:i8,otherVideoCard:!lw,[V.bigCard]:ix,[V.isBigCardCutVideo]:lg}),style:er,onClick:e=>{!e2&&e.preventDefault(),null==eT||eT(e),null==lf||lf()},isUseALink:!iP&&(null==ez?void 0:ez.isHighQuality)!==w.HighQualityStatus.NotHighQuality,onMouseEnter:lp?void 0:()=>{clearTimeout(le.current),i9(!0)},onMouseLeave:lp?void 0:()=>{le.current=setTimeout(()=>{i9(!1)},250)},children:[(0,r.jsxs)("div",{ref:ls,className:V.flexColumn,children:[(0,r.jsxs)(ed,{abTestData:ig,onMouseEnter:()=>{e8&&e8(),null==eE||eE(),S.Le.setConfig(S.gI.VideoCardMouseOverTime,Date.now()),h.logInstance.sendLog("coverMouseover",{enter_from_merge:(0,A.yW)(),request_id:null==ez?void 0:ez.logPb,content_sdk:"video",group_id:null==ez?void 0:ez.awemeId,aweme_type:null==ez?void 0:ez.awemeType})},onMouseLeave:lf,className:d()(ev,{[V.report]:lw&&!i6&&i1}),imageClassName:d()(V.videoImg,{[V.imgAspectRatio]:lw},es),imgClass:eu,imageSkeletonClass:ec,imgUrl:ej,debugInfo:(null==ez?void 0:ez.debugInfo)||eG,width:eR,height:eP,videoImageWidth:ic,videoImageHeight:iu,priority:iv,decoding:im,fakeHorizontalInfo:eF,appendPlayerConfig:eq,previewUrlList:eO,awemeInfo:ez,isHorizontal:eV,onLoadedData:ie,onVideoPlaying:e5,onVideoStopped:e6,onPreviewChange:e=>{e?iK(!0):iK(!1)},showProgressBar:e7,isSpider:e$,alt:(0,B.vU)()?"":e_,style:il,showImageInSSR:it,logParams:(0,t._)({awemeInfo:ez,tab_name:ii||""},iT),forceContainerCover:ir,renderExtension:io,onImgLoad:lu,scene:i_,blurLightCover:e0,user:ih,onRef:e=>iY.current=e,disablePreview:i5,disableByMoreAction:i1,enableNotePreview:ip,needOperateHidden:iw,isBigCard:ix,isTopCard:ib,topAwemeId:iy,showWatchLater:ij,tab:ii,imageReady:ik,ref:l_,enableCardHoverPreview:iS,canCancelWatchLater:lw,withBlurBg:iR,withBlurBgPerf:lw,enableImageX:iA,scrollContainerRef:iM,reuseConfig:iD,showAiEntry:lw,onClickAiEntry:iB,onClickPipIcon:i7,isPipPlaying:i3,dislikeCoverVisible:i6,isTopCardActive:iI,useOuterProgress:lC,forceHiddenOuterProgress:iU,children:[(0,r.jsx)(e=>(0,r.jsx)("div",{className:d()(V.coverBg)}),{slot:eo.Inner}),!i5&&(0,r.jsx)(eC,{scene:i_,showIntegrationTag:eU,showTime:!eH,showLikes:eB,likes:iJ,time:ep,slot:eo.Inner,awemeInfo:ez,showHomeNote:eH}),eJ&&eW&&!iX&&(0,r.jsx)(eD,{slot:eo.OutSide,hotInfo:eW}),(0,r.jsx)(e=>e4?(0,r.jsx)("div",{className:d()(V.coverMask),children:e4}):null,{slot:eo.OutSide})]}),(0,r.jsx)("div",{className:d()(V.cardInfo,em),ref:iz,children:(0,r.jsxs)("div",{className:d()(V.cardInfoContainer,{[V.transparent]:lw&&i1}),children:[eQ&&!e1&&(0,r.jsx)("div",{className:d()(V.decs),children:e_}),(0,r.jsxs)("div",{className:d()(V.userText,{[V.bottom]:e1}),onClick:e=>{if(lt){ll(),e.preventDefault(),e.stopPropagation();return}},children:[lw?(0,r.jsxs)("span",{className:V.userTextContent,onClick:e=>{var i;if(iV&&v.T.exit(),e.preventDefault(),e.stopPropagation(),lt){ll();return}null===(i=window)||void 0===i||i.open(ew,(0,F.DT)()?"_blank":ey,"noopener")},children:[(0,r.jsxs)("span",{className:d()(V.text,{[V.marginRight]:!lv&&!lm&&!lc&&!eK}),children:["@",(0,r.jsx)("span",{className:V.userName,children:eh})]}),eK&&!lt&&!lm&&!lc&&!lv&&(0,r.jsxs)("span",{className:d()(V.createTime,{[V.hasMarginRight]:iL}),ref:la,children:["\xa0\xb7\xa0",lo]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("span",{onClick:e=>{var i;if(iV&&v.T.exit(),e.preventDefault(),e.stopPropagation(),lt){ll();return}null===(i=window)||void 0===i||i.open(ew,(0,F.DT)()?"_blank":ey,"noopener")},className:d()(V.text,{[V.marginRight]:!lv&&!lm&&!lc&&!eK}),children:[(0,r.jsx)("span",{className:d()(V.at),children:"@"}),(0,r.jsx)("span",{className:d()(V.userName),children:eh})]}),eK&&!lt&&!lm&&!lc&&!lv&&(0,r.jsx)("span",{className:d()(V.createTime,{[V.hasMarginRight]:iL}),ref:la,children:` \xb7 ${lo}`})]}),(lv||lc)&&(0,r.jsx)(ex.R,{abTestData:ig,className:d()(lt?V.highlightTagWithoutMarginRight:V.highlightTag,{[V.jxThemeColor]:lw&&!!(null==ig?void 0:ig.themeColorOptimize)}),type:lc?"recommended":"follow"}),lm&&(0,r.jsx)(ex.R,{abTestData:ig,className:d()(V.highlightTag,{[V.jxThemeColor]:lw&&!!(null==ig?void 0:ig.themeColorOptimize)}),type:e3[0],count:{collect:iZ,comment:null==ez?void 0:null===(ei=ez.stats)||void 0===ei?void 0:ei.commentCount}[e3[0]]||0}),lt&&(0,r.jsx)(eS,{onClick:e=>{e.preventDefault(),e.stopPropagation(),h.logInstance.sendLog("liveCardClickEvent",(0,t._)({enter_method:"web_video_card",enter_from_merge:"web_homepage_discover",action_type:"click"},lr));let i=I.e.getPipWindow({scene:C.d.ListenVideo})||I.e.getPipWindow({scene:C.d.WebVideo});i&&i.close(),ll()}}),iL&&(0,r.jsx)(s.SV,{Slardar:(0,O.f5)(),children:(0,r.jsx)(eM,{awemeInfo:ez,className:V.more,cardInfoContainerRef:iz,imageContainerRef:iY,onCoverHover:lk?lx:()=>i2(!0),onCoverCancelHover:lk?lb:()=>i2(!1),user:ih,tab:ii,onMouseEnter:lk?lI:()=>{clearTimeout(le.current),i9(!0)},onMouseLeave:lk?ly:()=>{clearTimeout(le.current),le.current=setTimeout(()=>{i9(!0)},250)},logParams:lk?lS:lh.current,enableCardHoverPreview:iS||lw,onPopperShow:iE,onPopperHidden:iN,onDislikeCoverShow:lk?lL:()=>{var e,i;i4(!0),null==l_||null===(i=l_.current)||void 0===i||null===(e=i.leave)||void 0===e||e.call(i),iH(!0)},onDislikeCoverHidden:lk?lj:()=>{i4(!1),iH(!1)},onReportCoverShow:lk?lT:()=>{iH(!0)},onReplaceTopCard:ld})})]}),eQ&&e1&&(0,r.jsx)("div",{className:d()(V.decs),children:e_}),eY&&(0,r.jsxs)("div",{className:V.barContainer,children:[(0,r.jsx)(y.Z,{className:V.barIcon,width:12,height:12,viewBox:"0 0 12 12",src:eb}),(0,r.jsxs)("span",{className:V.barText,children:["热榜：",null==ez?void 0:null===(el=ez.hotList)||void 0===el?void 0:el.title]})]})]})})]}),id]}),e$&&(0,r.jsx)(L.a,(0,n._)((0,t._)({style:ia?(0,n._)((0,t._)({},er),{width:"auto",height:"auto"}):{},href:ew,target:"_blank",isNeedSeoOpt:!0},iC?{rel:"nofollow"}:{}),{children:eh}))]})}},243434:function(e,i,l){l.r(i),l.d(i,{default:function(){return tM}}),l("874386"),l("250440"),l("882732"),l("544943");var t=l("563097"),n=l("88648"),r=l("553542"),o=l("465571"),a=l("458343"),d=l("876877"),s=l("828782"),u=l("265656"),c=l("250103"),v=l("431053"),m=l("634362"),f=l("520739"),_=l("878389");l("675373"),l("50013"),l("268917");var h=l("567754"),g=l("713097"),p=l.n(g),w=l("309931"),C=l("909543"),x=l("218805"),b=l("338426"),I=l("134761"),y=l("806787"),L=l("948375"),j=l("6858"),T=l("335771"),k=l("414678");let S=(0,n.createContext)(null);class E{updateState(e,i){if(void 0!==e.container&&(this.container=e.container),void 0!==e.playParams){var l,t;this.playParams=(0,_._)((0,f._)({},this.playParams,e.playParams),{playerConfig:(0,_._)((0,f._)({},null===(l=this.playParams)||void 0===l?void 0:l.playerConfig,null===(t=e.playParams)||void 0===t?void 0:t.playerConfig),{onPlay:()=>{var i,l;this.isPlaying=!0,null===(l=e.playParams.playerConfig)||void 0===l||null===(i=l.onPlay)||void 0===i||i.call(l)},onPause:()=>{var i,l;this.isPlaying=!1,null===(l=e.playParams.playerConfig)||void 0===l||null===(i=l.onPause)||void 0===i||i.call(l)},onEnd:()=>{var i,l;this.isPlaying=!1,null===(l=e.playParams.playerConfig)||void 0===l||null===(i=l.onEnd)||void 0===i||i.call(l)}})})}void 0!==e.isPlaying&&(this.isPlaying=e.isPlaying),null==i||i(),this.lastUsed=Date.now()}clearVideoClasses(){var e,i,l;let t=null===(l=this.ref)||void 0===l?void 0:null===(i=l.current)||void 0===i?void 0:null===(e=i.getPlayer)||void 0===e?void 0:e.call(i);(null==t?void 0:t.video)&&(t.video.className="")}assignTo(e,i){this.updateState({container:e,playParams:i,isPlaying:!0},void 0)}release(){this.updateState({container:null,playParams:null,isPlaying:!1},void 0)}isAvailable(){return null===this.container}pause(){this.updateState({isPlaying:!1},()=>{var e,i;let l=null===(e=this.ref.current)||void 0===e?void 0:e.getPlayer();null==l||null===(i=l.pause)||void 0===i||i.call(l)})}play(){this.updateState({isPlaying:!0},()=>{var e,i,l;let t=null===(e=this.ref.current)||void 0===e?void 0:e.getPlayer();null==t||null===(i=t.resetState)||void 0===i||i.call(t),null==t||null===(l=t.play)||void 0===l||l.call(t).catch(()=>{})})}constructor(e){(0,I._)(this,"id",void 0),(0,I._)(this,"container",void 0),(0,I._)(this,"playParams",void 0),(0,I._)(this,"isPlaying",void 0),(0,I._)(this,"lastUsed",void 0),(0,I._)(this,"ref",void 0),this.id=e,this.container=null,this.playParams=null,this.isPlaying=!1,this.lastUsed=Date.now(),this.ref=n.createRef()}}class N{addActiveListener(e){this.activeListeners.add(e)}removeActiveListener(e){this.activeListeners.delete(e)}notifyActiveChange(){let e=this.getActiveInstances();this.activeListeners.forEach(i=>i(e))}getInstanceByContainer(e){return this.instances.find(i=>i.container===e)}assignInstance(e,i){let l=this.getInstanceByContainer(e);if(l)return l.clearVideoClasses(),l.assignTo(e,i),this.notifyActiveChange(),l;let t=this.instances.find(e=>e.isAvailable());if(t)return t.clearVideoClasses(),t.assignTo(e,i),this.notifyActiveChange(),t;let n=new E(`player_${Date.now()}`);return n.assignTo(e,i),n.clearVideoClasses(),this.instances.push(n),this.notifyActiveChange(),n}pause(e){let i=this.getInstanceByContainer(e);i&&i.pause()}release(e){let i=this.getInstanceByContainer(e);i&&(i.release(),this.notifyActiveChange())}getActiveInstances(){return this.instances.filter(e=>!e.isAvailable())}cleanupIdleInstances(){let e=Date.now();this.instances=this.instances.filter(i=>(!i.isAvailable()||!(e-i.lastUsed>3e4))&&!0)}startCleanupTimer(){!this.cleanupInterval&&(this.cleanupInterval=setInterval(()=>{this.cleanupIdleInstances()},1e4))}stopCleanupTimer(){this.cleanupInterval&&(clearInterval(this.cleanupInterval),this.cleanupInterval=null)}clearAll(){this.instances=[],this.stopCleanupTimer(),this.notifyActiveChange()}constructor(){this.instances=[],this.cleanupInterval=null,this.activeListeners=new Set}}let R=(0,n.memo)(e=>{let{playerPool:i,instance:l,plugins:r}=e,{container:o,playParams:a,ref:d}=l,{playerConfig:s,style:u,pluginSchema:c={}}=a||{};n.useRef(0);let v=n.useRef(!1);return(n.useEffect(()=>{var e,i,l,t,n,r,a;!(null==d?void 0:null===(t=d.current)||void 0===t?void 0:null===(l=t.getPlayer())||void 0===l?void 0:null===(i=l._core)||void 0===i?void 0:null===(e=i._src)||void 0===e?void 0:e.includes(null==s?void 0:s.url))&&!v.current&&o&&(v.current=!0,null==d||null===(a=d.current)||void 0===a||null===(r=a.getPlayer())||void 0===r||null===(n=r.retry)||void 0===n||n.call(r))},[o]),o&&a)?(0,w.createPortal)((0,t.jsx)(n.Fragment,{children:(0,t.jsxs)(y.N,(0,_._)((0,f._)({className:"liveCardPlayer",style:(0,f._)({height:"100%"},u),ref:e=>{d.current={getPlayer:()=>null==e?void 0:e.player,getPlayerLogger:()=>null==e?void 0:e.logger}},role:"consumer",scene:"LiveCardPlayer"},s),{children:[c&&Object.entries(c).map(e=>{let[i,l]=e,n=r[i];return n?(0,t.jsx)(n,(0,f._)({},l.props),i):null}),(0,t.jsx)(k.h,{source:"LiveCardPlayer"})]}))},l.id),o):null}),P=(0,n.memo)(e=>{let{playerPool:i,plugins:l}=e,[r,o]=(0,n.useState)([]);return(0,n.useEffect)(()=>{let e=e=>{o(e)};return i.addActiveListener(e),o(i.getActiveInstances()),()=>{i.removeActiveListener(e)}},[i]),(0,t.jsx)(t.Fragment,{children:r.map(e=>(0,t.jsx)(n.Fragment,{children:(0,t.jsx)(R,{playerPool:i,instance:(0,f._)({},e),plugins:l})},`${e.id}`))})}),A=e=>{let{children:i}=e,l=(0,n.useRef)(new N),r=(0,n.useRef)({VipLiveBoundaryPlugin:j.VipLiveBoundaryPlugin,AdaptedBySEIPlugin:T.AdaptedBySEIPlugin});(0,n.useEffect)(()=>(l.current.startCleanupTimer(),()=>l.current.stopCleanupTimer()),[]);let o=(0,L.Z)(e=>{r.current=(0,f._)({},r.current,e)}),a=(0,L.Z)((e,i)=>e?l.current.assignInstance(e,i):null),d=(0,L.Z)(e=>{try{l.current.pause(e),l.current.release(e)}catch(e){}}),s=(0,L.Z)(e=>l.current.getInstanceByContainer(e)),u=(0,L.Z)(()=>{l.current.clearAll()});(0,n.useEffect)(()=>()=>{u()},[]);let c=(0,n.useMemo)(()=>({play:a,pause:d,getInstance:s,clearAllPlayers:u,plugins:r.current,registerPlugin:o}),[]);return(0,t.jsxs)(S.Provider,{value:c,children:[i,(0,t.jsx)(P,{playerPool:l.current,plugins:r.current})]})};var M=l("222406"),D=l("791483"),B=l("78776"),F=l("302461"),O=l("873034"),V=l("132607"),U=l("905003"),H=l("289228"),Y=l("27091"),z=l("713111"),J=l("725887"),W=l("441447"),Z=l("328155"),$=l("388128"),G=l("30601"),q=l("518601"),X=l("82484"),K=l("921359"),Q=l("795012"),ee=l("205825"),ei=l("535649"),el=l("912377"),et=l("404171"),en=l("22502"),er=l("282088");let eo=()=>Promise.all([l.e("92432"),l.e("89766"),l.e("16970")]).then(l.bind(l,842887)),ea=(0,n.forwardRef)(function(e,i){return(0,t.jsx)(er.o,(0,f._)({innerRef:i,id:"island_79fa5",load:eo},e))});var ed=l("583165"),es=l("251794"),eu={waterfallPage:"J3t3MiSx",waterfallPageWithSubTab:"lg5aZGLT",topicPage:"yw47L6dp",topicPageWithDiscoverCardOptimize:"ENZJYd9Y",feedTitle:"VjU1fbw5",wrapperMarin:"T1Z8UGmI",bannerContainer:"wJYo7lH3",tabs:"NBzonCuX",switchBtn:"DCiV3oEY",hasTabExpand:"zSXa7kMD",hasSubList:"ekig2YD4",jxThemeColor:"vIoCbNLX",tabPanelCt:"_IHwSGRR",discoverTabBar:"Udp77Cqy",subTabStickyContainer:"z4HYz8IX",subTag:"JzQoT6Su",active:"nxoIfbTv",loadingContainer:"sIvwyIT6",hidden:"IBffRJCQ"},ec=l("262589");l("237819"),l("819117");var ev=l("729532"),em=l("597087"),ef=l("188811"),e_=l("615097"),eh=l("221692"),eg=l("668710");l("110006"),l("826893");var ep=l("801636"),ew=l("649368"),eC=l("88961"),ex=l("872136");let eb=new ex.h({subTabLiveShow:{eventName:"discover_sub_tab_live_show",params:{order:0,link:"",id:"",title:""}},subTabLiveClick:{eventName:"discover_sub_tab_live_click",params:{order:0,link:"",id:"",title:""}}});var eI="d39TlVx6",ey="DYLEJdv_",eL="ticjC6SX",ej="CCF1EZHU",eT="mXDA3PHe",ek="zFkGFrJ1",eS="ZKoWQCVw",eE="eAblXhYC",eN="fclP7dde",eR="FEv4lfuG";let eP=e=>{let{cardLiveInfo:i,cardStyle:l}=e,{live_title:r,live_cover:o,live_btn:a,live_link:d,live_idx:s}=i||{},[u,c]=function(e){let[i,l]=(0,eC.Z)(),t=(0,n.useRef)(!1);return!t.current&&l&&(e&&e(),t.current=!0),[i,l]}(()=>{var e,i;eb.sendLog("subTabLiveShow",{title:r,link:d,order:s,id:null==d?void 0:null===(i=d.match)||void 0===i?void 0:null===(e=i.call(d,/\d+/))||void 0===e?void 0:e[0]})}),v=e=>{var i,l;window.open(e,"_blank","noopener"),eb.sendLog("subTabLiveClick",{title:r,link:e,order:s,id:null==e?void 0:null===(l=e.match)||void 0===l?void 0:null===(i=l.call(e,/\d+/))||void 0===i?void 0:i[0]})};return(0,t.jsxs)("div",{className:p()(eI,{[eR]:"with-background"===l}),onClick:e=>{e.stopPropagation(),v(d)},ref:u,children:[(0,t.jsx)("div",{className:ey,children:(0,t.jsx)(ep.Q,{imgClass:eT,className:ej,src:o,iconWidth:24,iconHeight:28,showImageInSSR:!1,imageReady:!0,skeletonClass:eL})}),(0,t.jsxs)("div",{className:ek,children:[(0,t.jsx)("div",{className:eS,onClick:e=>{e.stopPropagation(),v(d)},children:r}),(0,t.jsx)("div",{className:eE,children:(0,t.jsxs)("span",{className:eN,onClick:e=>{e.stopPropagation(),v(d)},children:[a,(0,t.jsx)(ew.Z,{})]})})]})]})};var eA={CardAd:"card_ad",SubTabLive:"sub_tab_live"};l("284961");var eM=l("128231"),eD=l.n(eM),eB=l("832052"),eF=l("607412"),eO=l("623527"),eV=l("737271"),eU=l("561756"),eH=l("104869"),eY=l("607703"),ez=l("227260"),eJ=l("336347"),eW={waterfallWrapper:"y5ITbwZt",noScrollParent:"xtJZF6iO",waterfallContainer:"priTOakK",skeletonContainer:"sz5zXBaj",item:"Xyhun5Yc",contentVisible:"G7eFnmxX",emptyItem:"pAWPzs6W",placeHolder:"jXX0YrFq",imgBox:"kYbKtTlb",infoBox:"URyB53nF",opBtn:"qUv8LssR",noMoreText:"LKdPHpfD"};let eZ=em.ERROR_CODE,e$=e=>{let{statusCode:i,isGaiaTab:l}=e;if(l)return(0,t.jsx)(eJ.nl,{title:"活动已下线"});switch(i){case eZ.ERROR_404:return(0,t.jsx)(eJ.dR,{title:"暂无更多数据",desc:" "});case eZ.ERROR_502:case eZ.ERROR_NO_NETWORK:return(0,t.jsx)(eJ.oO,{});default:return(0,t.jsx)(eJ.nl,{})}},eG=e=>{let{reload:i,statusCode:l,className:n}=e,r=l===eZ.ERROR_502?"超时":"异常";return(0,t.jsxs)("div",{className:p()(eW.noMoreText,n),children:["服务",r,"，重新",(0,t.jsx)("span",{onClick:i,className:eW.opBtn,children:"刷新"}),"拉取数据"]})};var eq=l("118422"),eX=e=>{let{containerClassName:i}=e,l=(0,n.useMemo)(()=>Array(60).fill({id:"skeleton"}),[]);return(0,o.C)(d.w3.components.discover_skeleton_component),(0,t.jsx)("div",{className:p()(eW.waterfallContainer,eW.skeletonContainer,i),children:l.map((e,i)=>(0,t.jsx)("div",{className:p()(eW.item),children:(0,t.jsx)(eq.P,{className:eW.placeHolder,imgBoxClassName:eW.imgBox,infoBoxClassName:eW.infoBox,useNewLogo:!0})},`${null==e?void 0:e.id}_${i}`))})},eK={LOADING:0,0:"LOADING",SUCCESS:1,1:"SUCCESS",FAILED:2,2:"FAILED"},eQ={LOADING:0,0:"LOADING",SUCCESS:1,1:"SUCCESS",FAILED:2,2:"FAILED"};let e0=4/3;var e1=n.forwardRef((e,i)=>{let{renderItem:l,fetchStatus:r,showDataList:a,containerClassName:s,statusCode:u,onload:c,update:v,reload:m,onCoverShow:f,abTestData:_={},setLoadingElement:h,setWaterfallContainer:g,showReplaceLoading:w}=e,C=(0,n.useRef)(!1),x=(0,n.useRef)(0),[b,I]=(0,n.useState)(0);return(0,o.C)(d.w3.components.discover_success_component),(0,n.useEffect)(()=>{(null==_?void 0:_.discoverTaskOptimize)||I(a.length),a.length&&!C.current&&(C.current=!0,null==c||c())},[a,c,_]),(0,n.useEffect)(()=>{let e=(null==_?void 0:_.discoverTaskOptimize)?a.length:b;e!==x.current&&(x.current=e,null==v||v())},[b,v,a,_]),(0,t.jsxs)(H.k,{componentName:"SuccessComponent",children:[(0,t.jsx)("div",{className:p()(eW.waterfallContainer,s),ref:e=>{i.current=e,g(e)},children:null==a?void 0:a.map((e,n)=>{var r,o,d;let{id:s,displayId:u,render:c,inView:v}=e,m=(null==a?void 0:null===(r=a[0])||void 0===r?void 0:r.isTopCard)?null==a?void 0:null===(o=a[0])||void 0===o?void 0:o.awemeId:"";return(0,t.jsx)("div",{className:p()(eW.item,"discover-video-card-item",eW.contentVisible,{[eW.emptyItem]:!v}),id:s,"data-aweme-id":null!==(d=null==e?void 0:e.awemeId)&&void 0!==d?d:"",style:{backgroundColor:e.bgColor},children:v?c?null==c?void 0:c(e):null==l?void 0:l(e,f,void 0,n,i,m):null},u||s)})}),(0,t.jsx)("div",{ref:e=>{e&&(null==h||h(e))},children:!w&&r===eQ.LOADING&&(0,t.jsx)(z.gb,{})}),r===eQ.FAILED&&(0,t.jsx)(eG,{reload:m,statusCode:u})]})});l("527785");var e2=l("953342"),e3=new ex.h({waterfallSlideFeatureV2:{eventName:"waterfall_slide_feature_v2",params:{velocity:0}},waterfallSlideFeature:{eventName:"waterfall_slide_feature",params:{duration:0}},discoverSlide:{eventName:"discover_slide",params:{tab_name:"",sub_tab_name:"",direction:"down",gid_list:"",visit_id:""}},waterfallProcessStat:{eventName:"waterfall_process_stat",params:{enter_from:"",from:"",skeleton_show_time:0,waterfall_fetch_end:0,first_img_load_time:0,init_duration:0,data_duration:0,cover_duration:0}},waterfallLoadmoreStat:{eventName:"waterfall_loadmore_stat",params:{enter_from:"",duration:0}}});e2.FastSlowFeature.slow,e2.FastSlowFeature.fast;let e7={[e2.FastSlowFeature.normal]:150,[e2.FastSlowFeature.fast]:220};class e5{calcHeight(e){let i=this.scrollParentEl||this.waterfallWrapperRef.current;if(i){let{scrollTop:l}=i;if(!e){let e=l-this.preTop,i=Date.now()-this.preTime;this.addSimple({velocity:Math.abs(e/i*1e3)})}this.preTop=l,this.preTime=Date.now()}}onScroll(){this.calcHeight(!1)}init(){let e=this.scrollParentEl||this.waterfallWrapperRef.current;this.onScrollHandler=eD()(()=>{this.onScroll()},200),null==e||e.addEventListener("scroll",this.onScrollHandler),this.calcHeight(!0)}sendLog(){this.queue.length>=this.coldStartNumberThreshold&&e3.sendLog("waterfallSlideFeatureV2",{velocity:this.getFeatureVal()})}getFeatureType(){return this.featureType||e2.FastSlowFeature.normal}calcFeatureType(){let e;if(this.queue.length<this.coldStartNumberThreshold)return;let i=this.getFeatureVal();e=i>=e7[e2.FastSlowFeature.fast]?e2.FastSlowFeature.fast:i>=e7[e2.FastSlowFeature.normal]&&i<e7[e2.FastSlowFeature.fast]?e2.FastSlowFeature.normal:e2.FastSlowFeature.slow,this.featureType=e,J.Le.setConfig(J.gI.HomeFastSlowSlideFeature,e)}addSimple(e){if(!((null==e?void 0:e.velocity)<0))this.queue.length>=this.maxCacheCount&&this.deleteSimple(),this.queue.push(e),this.calcFeatureType(),this.sendLog()}deleteSimple(){this.queue.shift()}clearSimple(){this.queue=[]}getFeatureVal(){return this.queue.reduce((e,i)=>e+=i.velocity,0)/this.queue.length}destroy(){this.clearSimple();let e=this.scrollParentEl||this.waterfallWrapperRef.current;null==e||e.removeEventListener("scroll",this.onScrollHandler),this.onScrollHandler=null}constructor(e){(0,I._)(this,"maxCacheCount",void 0),(0,I._)(this,"coldStartNumberThreshold",void 0),(0,I._)(this,"queue",[]),(0,I._)(this,"timer",void 0),(0,I._)(this,"preTime",void 0),(0,I._)(this,"preTop",void 0),(0,I._)(this,"scrollParentEl",void 0),(0,I._)(this,"waterfallWrapperRef",void 0),(0,I._)(this,"featureType",e2.FastSlowFeature.normal),(0,I._)(this,"onScrollHandler",void 0);let{maxCacheCount:i,scrollParentEl:l,waterfallWrapperRef:t}=e;this.scrollParentEl=l,this.waterfallWrapperRef=t,this.maxCacheCount=i,this.coldStartNumberThreshold=2,this.preTop=0,this.preTime=0,this.onScroll=this.onScroll.bind(this)}}let e6=e=>{let{scrollParentEl:i,waterfallWrapperRef:l,abTestData:t}=e,r=(0,n.useRef)(null);(0,n.useEffect)(()=>{var e,n;return(null==t?void 0:null===(e=t.homeFastSlowSlide)||void 0===e?void 0:e.isOpen)?(r.current=new e5({maxCacheCount:5,scrollParentEl:i,waterfallWrapperRef:l}),null===(n=r.current)||void 0===n||n.init(),()=>{var e;null==r||null===(e=r.current)||void 0===e||e.destroy(),r.current=null}):()=>{}},[t,i,l])},e4=(e,i)=>{if(e){let{scrollTop:l,clientHeight:t,scrollHeight:n}=e;return l+t+i>n&&t>0}return!1},e8=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.filter((e,t)=>!(i.find(i=>i.id===e.id)||i.find(i=>i.awemeId===e.awemeId))&&(e.displayId=`${e.id}_${Date.now()}_${t}`,e.awemeType===eB.e.LiveCard&&(e.width=240,e.height=320),l&&e.awemeType===eB.e.Note&&(e.width=320,e.height=240,e.video.width=320,e.video.height=240),e.height&&e.width||e.ratio))},e9=e=>{let i=[],l=[];null==e||e.forEach(e=>{e.awemeType===eB.e.LiveCard?i.push(e):l.push(e)});let t=i.map(e=>e.awemeId),n=i.map(e=>e.encodedAwemeId).filter(e=>void 0!==e),r=l.map(e=>e.awemeId);return{liveIds:t,liveEncodedIds:n,ids:r,encodedIds:l.map(e=>e.encodedAwemeId).filter(e=>void 0!==e)}};var ie=l("877639"),ii=l.n(ie);l("950331"),l("429532"),l("981168"),l("927234");let il=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===i)return;let l=e[i];e.splice(i,1),e.unshift(l)},it=e=>[eB.e.NewNormal,eB.e.Normal].includes(e.awemeType),ir=e=>e.findIndex(it),io=e=>{var i,l,t,n;return e.webCardType?3:it(e)&&(null==e?void 0:null===(i=e.video)||void 0===i?void 0:i.height)&&(null==e?void 0:null===(l=e.video)||void 0===l?void 0:l.width)&&(null==e?void 0:null===(t=e.video)||void 0===t?void 0:t.width)>(null==e?void 0:null===(n=e.video)||void 0===n?void 0:n.height)?1e-4>Math.abs(e.video.width/e.video.height-16/9)?2:1:0},ia=e=>{let i=0,l=-1;return e.forEach((e,t)=>{if(3===i)return;let n=io(e);n>i&&(l=t,i=n)}),l},id=(e,i)=>{var l;if(!(null==e?void 0:null===(l=e.awemeList)||void 0===l?void 0:l.length))return[];let t=e.awemeList.map(e=>Object.assign({},e,{inView:!0}));if(1===i){let e=ir(t);e>=0&&(il(t,e),t[0].isTopCard=!0)}else if(2===i){let e=ia(t);e>=0&&(il(t,e),t[0].isTopCard=!0,t[0].isBigCard=!0)}return t};var is=l("854481"),iu=l("842602"),ic=l("257858");l("413806");let iv=e=>{if(e.watchLaterInfo){var i,l,t;let{list:n=""}=null!==(i=J.Le.getConfig(J.gI.WatchLater))&&void 0!==i?i:{};if(!(n&&n.includes(e.awemeId))){let i=null!==(l=J.Le.getConfig(J.gI.WatchLater))&&void 0!==l?l:{},n=null!==(t=i.list)&&void 0!==t?t:"",r=Array.from(new Set([...n?n.split(","):[],e.awemeId]));J.Le.setConfig(J.gI.WatchLater,(0,_._)((0,f._)({},i),{list:r.join(",")}))}}},im=em.ERROR_CODE;function i_(e){var i,l,r,a;let{awemeIdsRef:u,fetchMore:c,fetchMoreDistance:m=3600,renderItem:_,abTestData:h,containerClassName:g,onListLoad:C,onError:x,children:b,scrollParentEl:I,scrollListenerEl:y=I,className:j,perfProps:T,firstBigCard:k=!1,isGaiaTab:S=!1,tagId:E,selectedTab:N,setLoadingElement:R,setShowReplaceLoading:P,showReplaceLoading:A}=e,[M,B]=(0,n.useState)(eK.LOADING),[V,U]=(0,n.useState)(eQ.LOADING),[H,Y]=(0,n.useState)(0),z=(0,n.useRef)(""),Z=(0,n.useRef)(null),[$,q]=(0,n.useState)(null),X=(0,O.d)(h),K=(0,O.d)(null==h?void 0:h.jingxuanModalAds),{homeFetchData:Q,updateSubTabLiveCardList:ee,updateFeedCardAdResourceList:ei}=(0,ez.useDiscoverCommonContext)((0,en.P1)(["homeFetchData","updateFeedCardAdResourceList","updateSubTabLiveCardList"])),el=(0,n.useRef)([]),er=(0,n.useRef)([]),eo=(0,n.useRef)([]),ea=(0,n.useRef)((null==Q?void 0:Q.isCourse)&&null!==(l=null==Q?void 0:Q.offset)&&void 0!==l?l:0),ed=(0,n.useRef)(0),es=(0,n.useRef)(!1),eu=(0,n.useRef)(eQ.LOADING),ec=(0,n.useRef)(!1),ev=(0,n.useRef)(!0),em=(0,n.useRef)(null),ef=(0,n.useRef)(!1),e_=(0,n.useRef)(!1),eh=(0,n.useRef)(!1),eg=(0,n.useRef)(null),{showDataList:ep,isTopBigCard:ew,resetTopAweme:eC,renderList:ex,showAwemeList:eb,fetchDataListRef:eI,canLiveAutoPlay:ey,needReplaceTopCardRef:eL,onReplaceBigCard:ej,clearNeedReplaceTopCard:eT,topCardAb:ek}=function(e){var i,l,t;let{abTestData:r,selectedTab:o,isGaiaTab:a,tagId:d,scrollListenerEl:u,waterfallContainer:c,awemeIdsRef:v}=e,m=(0,O.d)(u),_=(0,n.useRef)({scrollHeight:0,scrollWidth:0,columnCount:0,itemHeight:0,itemWidth:0}),h=(null==r?void 0:r.jingxuanCover169)?1536:1850,g=(0,n.useRef)(!0),p=(0,n.useRef)(!1),w=(0,et.U)(),C=(0,O.d)(w),x=(0,n.useRef)(0),b=(0,n.useRef)(!1),{homeFetchData:I,finalFeedCardAdListMap:y,activeSubTab:j}=(0,ez.useDiscoverCommonContext)((0,en.P1)(["homeFetchData","finalFeedCardAdListMap","activeSubTab"])),T=(0,n.useMemo)(()=>(null==r?void 0:r.jingxuanCover169)?24:20,[null==r?void 0:r.jingxuanCover169]),[k]=(0,n.useState)(null!==(t=null==r?void 0:r.jxTopCard)&&void 0!==t?t:0),S=id(I,k),E=(0,n.useRef)(S),[N,R]=(0,n.useState)(S),P=(0,n.useRef)(k>0&&(!((null==S?void 0:S.length)>0)||(null===(i=S[0])||void 0===i?void 0:i.isTopCard))),A=(0,n.useRef)(2===k),[M,B]=(0,n.useState)(2===k),V=(0,n.useRef)(!1),[U,H]=(0,n.useState)(0===k||!P.current),Y=(0,n.useRef)(!0),z=(0,n.useMemo)(()=>(null==y?void 0:y[o])||[],[y,o]),Z=(0,L.Z)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!m.current||!p.current||!c)return;let i=c.children[1],{height:l,width:t}=m.current.getBoundingClientRect(),{height:n,width:r}=i.getBoundingClientRect(),o=0,a=Array.from(c.children).slice(0,6).map(e=>e.getBoundingClientRect()),d=a.map(e=>e.top);d.forEach(i=>{i===d[0]&&(o+=0===o&&e&&Math.abs(a[0].width-a[1].width)>10?3:1)}),_.current={scrollHeight:l,scrollWidth:t,columnCount:o,itemHeight:n,itemWidth:r},g.current=!1}),$=(0,L.Z)(()=>{k>0&&(P.current=!0,V.current=!1,H(!1))}),G=(0,L.Z)(e=>{if(0===k)return;if(!E.current.length){$();return}let i=E.current[0],l=i.isTopCard,t=i.isBigCard;if(!A.current&&2===k){t&&(i.isTopCard=!1,i.isBigCard=!1,$());return}if(!l&&P.current){let i=e?E.current.slice(e):E.current.slice(0,20),l=2===k?ia(i):ir(i);if(-1===l)P.current=!1;else{il(E.current,l+(e||0)),H(!1);let i=E.current[0];i.isTopCard=!0,i.isBigCard=2===k}}}),q=(0,L.Z)(e=>{G(null==e?void 0:e.topCardStartIndex),R([...E.current]),v&&(v.current=E.current.map(e=>e.awemeId))}),X=(0,n.useMemo)(()=>{var e,i,l;let t=[...N],n=null===(e=t[0])||void 0===e?void 0:e.isTopCard,o=t.length,u=null==z?void 0:z.sort((e,i)=>e.order-i.order),c=n?1:0,v=0;null==u||u.forEach(e=>{let i=(0,f._)({itemType:eA.CardAd,inView:!0,displayId:e.id.toString()},e);if(!(e.order>o+1))t.splice(e.order+v-1+c,0,i),v++}),a&&t.length>0&&(null!==(l=null==j?void 0:null===(i=j.find(e=>e.id===Number(d)))||void 0===i?void 0:i.lives)&&void 0!==l?l:[]).forEach(e=>{let i=(0,f._)({itemType:eA.SubTabLive,inView:!0,displayId:e.live_title+e.live_idx},e);t.splice(e.live_idx-1+c,0,i)});let h=t.length>=100;return h!==p.current&&(p.current=h&&!(0,s.tq)()),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!m.current||!p.current)return(null==r?void 0:r.discoverTaskOptimize)?e.map(e=>(e.inView=!0,e)):e.map(e=>Object.assign({},e,{inView:!0}));let i=e[0].isBigCard;g.current&&Z(i);let{columnCount:l,itemHeight:n,scrollHeight:o}=_.current,a=n+T,d=m.current.scrollTop;C.current?x.current=d:d=x.current;let s=Math.ceil(o/a),u=Math.floor(d/a)*l,c=Math.min(u+(s+1)*l,t.length),v=Math.max(u-2*l,0),f=c+2*l,h=e=>e>=v&&e<f;return e.map((e,t)=>{let n=!0;return(n=i?t>=l+3?h(t+5):0===t?h(0)||h(l):h(t+3):h(t),null==r?void 0:r.discoverTaskOptimize)?(e.inView=n,e):Object.assign({},e,{inView:n})})}(t)},[j,z,N,T]);(0,D.C)(()=>{if(2===k){let e=innerWidth>=h;A.current=e,B(e),!A.current&&q()}},[h]),(0,n.useEffect)(()=>{!M&&!U&&H(!0)},[M,U]),(0,n.useEffect)(()=>{if(k>0){var e;if(null==X||!X[0]||(null==X?void 0:null===(e=X[0])||void 0===e?void 0:e.isTopCard))return W.listen(W.EVENT.JingxuanTopCard,e=>{var i;let{action:l,awemeId:t,canLiveAutoPlay:n}=e;if(t===(null==X?void 0:null===(i=X[0])||void 0===i?void 0:i.awemeId))"playEnd"===l?(V.current=!0,H(!0)):"liveAutoPlay"===l&&!V.current&&H(n)});H(!0)}},[null==X?void 0:null===(l=X[0])||void 0===l?void 0:l.awemeId]);let K=(0,n.useRef)(!1),Q=(0,L.Z)(e=>{if(!!(k>0)){if(1===k){P.current=!1,E.current[0].isTopCard=!1,q();return}2===k&&(K.current=!0,e())}}),ee=(0,L.Z)(e=>{if(!!K.current)K.current=!1,P.current=e,!e&&(P.current=!1,E.current=E.current.slice(1),q())}),ei=(0,L.Z)(()=>{if(2===k){let e=innerWidth>=h;A.current=e,B(e)}g.current=!0,q()});return(0,F.o)(()=>{if(!u||!c)return;let e=eD()(()=>q(),100),i=eD()(()=>{var e;2===k&&(null===(e=J.Le.getConfig(J.gI.IsInModalVideo))||void 0===e?void 0:e.isInModal)?b.current=!0:null==ei||ei()},100);window.addEventListener("resize",i);let l=p.current;return l&&(null==u||u.addEventListener("scroll",e)),()=>{window.removeEventListener("resize",i),!l&&(null==u||u.removeEventListener("scroll",e))}},[u,c,null==X?void 0:X.length,ei]),(0,F.o)(()=>{if(2===k)return W.listen(W.EVENT.exitModalVideo,()=>{b.current&&(b.current=!1,null==ei||ei())})},[ei]),(0,F.o)(()=>{if(Y.current){Y.current=!1;return}null==ei||ei()},[ei]),{showAwemeList:N,fetchDataListRef:E,showDataList:X,renderList:q,isTopBigCard:2===k&&M&&!!(!(null==X?void 0:X.length)||X[0].isBigCard),resetTopAweme:$,canLiveAutoPlay:U,needReplaceTopCardRef:K,onReplaceBigCard:Q,clearNeedReplaceTopCard:ee,topCardAb:k}}({abTestData:h,selectedTab:N,isGaiaTab:S,tagId:E,scrollListenerEl:y,waterfallContainer:$,awemeIdsRef:u}),eS=(0,O.d)(c),eE=0===H&&!eI.current.length&&M===eK.LOADING,eN=(0,O.d)(eE);(0,o.C)(d.w3.components.discover_waterfall_comp),!function(e){let{firstLoadStatus:i,fetchStatus:l,statusCode:t,logId:r,onError:o}=e;(0,n.useEffect)(()=>{if((i===eK.FAILED||l===eQ.FAILED)&&0!==t){let e={statusCode:t,firstLoadStatus:i,fetchStatus:l,logId:r};o(e),eO.oe.event.error({name:eO.Mo.WaterfallLoadError,report:(0,f._)({},e)})}},[i,l,o,t,r])}({statusCode:H,firstLoadStatus:M,fetchStatus:V,logId:null==z?void 0:z.current,onError:x}),(0,n.useEffect)(()=>()=>{ec.current=!0},[]);let eR=(0,n.useRef)(0);(0,F.o)(()=>{if(!y)return;let e=eD()(()=>{var e;let i=y.scrollTop,l=i>eR.current,t=J.Le.getConfig(J.gI.JingXuanVisitId);e3.sendLog("discoverSlide",{tab_name:"discover",sub_tab_name:null!==(e=eY.z0[Number(null!=E?E:0)])&&void 0!==e?e:E,direction:l?"down":"up",gid_list:"",visit_id:t||""}),eR.current=i},300,{leading:!1,trailing:!0});return null==y||y.addEventListener("scroll",e),()=>{null==y||y.removeEventListener("scroll",e)}},[y]),e6({scrollParentEl:I,waterfallWrapperRef:eg,abTestData:h});let eP=(0,n.useCallback)(()=>{eI.current.length||el.current.length?B(eK.SUCCESS):B(eK.FAILED),U(eQ.FAILED),eu.current=eQ.FAILED,es.current=!1},[]),{fetchWholeFirstFeedAndOverWrite:eM}=function(e){let{fetchDataListRef:i,renderList:l,abTestData:t,tagId:n}=e,r=e=>{null==e||e.forEach(e=>{let l=i.current.findIndex(i=>e.awemeId===i.awemeId);if(-1!==l){let t=i.current[l];i.current[l]=(0,f._)({},i.current[l],e),i.current[l].video.cover=t.video.cover,i.current[l].video.coverUrlList=t.video.coverUrlList,i.current[l].video.cover169UrlList=t.video.cover169UrlList,i.current[l].video.cover169BigUrlList=t.video.cover169BigUrlList,i.current[l].webRawData.cutTitle=t.webRawData.cutTitle,t.awemeType===eB.e.Note&&(i.current[l].video.width=t.width,i.current[l].video.height=t.height),iv(e)}}),l()},o=e=>{(0,is.q)({itemIds:e,from:"overWriteByIds",originType:ic.F.DiscoverPage}).then(e=>{if((null==e?void 0:e.status_code)===0){var i,l;let t=null===(l=e.aweme_details)||void 0===l?void 0:null===(i=l.map)||void 0===i?void 0:i.call(l,e=>(0,iu.s0)(e));(null==t?void 0:t.length)&&r(t)}})},a=async e=>{var i;let{ids:l=[],encodedIds:t=[],liveIds:a=[],liveEncodedIds:d=[],responseFrom:s,logId:u}=e||{},c=await (0,G.fetchHomeModuleFeed)({useV2:1,moduleId:3003101,referType:10,count:20,seoFlag:0,refreshIndex:1,liteType:2,logId:u,provider:s,preIds:l.toString(),encodedPreIds:t.toString(),preRoomIds:a.toString(),encodedPreRoomIds:d.toString(),tagId:n});if((null==c?void 0:c.statusCode)===0&&(null==c?void 0:null===(i=c.awemeList)||void 0===i?void 0:i.length)){r(c.awemeList);let e=l.filter(e=>{var i;return!(null==c?void 0:null===(i=c.awemeList)||void 0===i?void 0:i.find(i=>(null==i?void 0:i.awemeId)===e))});e.length&&o(e)}else o(l)};return{overWrite:r,overWriteByIds:o,fetchWholeFirstFeedAndOverWrite:a}}({fetchDataListRef:eI,renderList:ex,abTestData:h,tagId:E}),eJ=(0,n.useCallback)(async function(){let{isReload:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{if(ec.current||es.current)return;if(e)Y(0);else if((!ev.current||eu.current===eQ.FAILED)&&eb.length){eL.current&&eT(!1);return}!em.current&&(em.current=setTimeout(()=>{if(eu.current===eQ.LOADING){try{(0,w.unstable_batchedUpdates)(()=>{Y(im.ERROR_502),eP()})}catch(e){Y(im.ERROR_502),eP()}ef.current=!0}em.current=null},2e4)),U(eQ.LOADING),eu.current=eQ.LOADING,es.current=!0;let i=Date.now();(0,eF.B1)({tag:d.w3.fetchers.fetcher_waterfall_start,once:!0});let{data:l,hasMore:t,statusCode:n,logPb:r,maxCursor:o,responseFrom:a}=await eS.current(ea.current,e);if(ec.current)return;(0,eF.B1)({tag:d.w3.fetchers.fetcher_waterfall_end,once:!0}),W.emit(W.EVENT.discoverPageLcp),W.emit(W.EVENT.getHotList),(0,eH.C6)();let s=Date.now();0===n&&(ea.current=o);let u=function(e){try{if(!e)return"";let i={impr_id:""};return"string"==typeof e&&(i=JSON.parse(e)),(null==i?void 0:i.impr_id)||""}catch(e){return""}}(r);eO.oe.event.info({name:eO.Mo.WaterfallFetchTime,metrics:{duration:s-i},report:{logId:u,firstLoadStatus:M}}),em.current&&(clearTimeout(em.current),em.current=null),z.current=u;let c=e8(l,eI.current,!!a);c.forEach(e=>{var i,l,t,n,r,o,a,d,s,u,c,v,m,f,_,h,g,p,w,C,x,b,I;if(e.awemeType===eB.e.LiveCard){if(null===(o=e.cellRoom)||void 0===o?void 0:null===(r=o.rawdata)||void 0===r?void 0:null===(n=r.cover)||void 0===n?void 0:null===(t=n.url_list)||void 0===t?void 0:null===(l=t[0])||void 0===l?void 0:null===(i=l.includes)||void 0===i?void 0:i.call(l,".heif?")){let i=null===(a=e.cellRoom)||void 0===a?void 0:a.rawdata.cover.url_list[0].replace(".heif?",".jpeg?");e.cellRoom.rawdata.cover.url_list[0]=i}}else{if(null==e?void 0:null===(c=e.video)||void 0===c?void 0:null===(u=c.coverUrlList)||void 0===u?void 0:null===(s=u[0])||void 0===s?void 0:null===(d=s.includes)||void 0===d?void 0:d.call(s,".heif?")){let i=e.video.coverUrlList[e.video.coverUrlList.length-1];e.video.cover=i}if((null==e?void 0:null===(m=e.video)||void 0===m?void 0:null===(v=m.cover169UrlList)||void 0===v?void 0:v[0])&&(null==e?void 0:null===(g=e.video)||void 0===g?void 0:null===(h=g.cover169UrlList)||void 0===h?void 0:null===(_=h[0])||void 0===_?void 0:null===(f=_.includes)||void 0===f?void 0:f.call(_,".heif?"))){let i=e.video.cover169UrlList[e.video.cover169UrlList.length-1];e.video.cover169UrlList[0]=i}if((null==e?void 0:null===(w=e.video)||void 0===w?void 0:null===(p=w.cover169BigUrlList)||void 0===p?void 0:p[0])&&(null==e?void 0:null===(I=e.video)||void 0===I?void 0:null===(b=I.cover169BigUrlList)||void 0===b?void 0:null===(x=b[0])||void 0===x?void 0:null===(C=x.includes)||void 0===C?void 0:C.call(x,".heif?"))){let i=e.video.cover169BigUrlList[e.video.cover169BigUrlList.length-1];e.video.cover169BigUrlList[0]=i}}iv(e)});if((()=>{if(ef.current){ef.current=!1;return}if(0!==n){Y(n),eP();return}if((null==I?void 0:I.clientHeight)===0){eu.current=eQ.SUCCESS,U(eQ.SUCCESS),es.current=!1;return}if(t&&!c.length){Y(im.ERROR_404),eP();return}if(!t&&(ev.current=!1),M===eK.LOADING&&B(eK.SUCCESS),a&&c.length){!(null==h?void 0:h.discoverEnableWebp)&&c.forEach(e=>{var i;if(null==e?void 0:null===(i=e.video)||void 0===i?void 0:i.coverUrlList){let i=e.video.coverUrlList.find(e=>e.includes(".jpeg?"));i&&(e.video.cover=i)}});let{ids:e,encodedIds:i,liveIds:l,liveEncodedIds:t}=e9(c);eM({ids:e,encodedIds:i,liveIds:l,liveEncodedIds:t,responseFrom:a,logId:u})}return eu.current=eQ.SUCCESS,0===eI.current.length&&c.length>0&&(0,v.Fp)(),U(eQ.SUCCESS),!0})()){let e=-1;eL.current?(eI.current=eI.current.slice(1),e=eI.current.length,eI.current=[...eI.current,...c],eL.current=!1,ex({topCardStartIndex:e})):(eI.current=[...eI.current,...c],ex())}else eL.current&&eT(!1)}catch(e){eP(),eL.current&&eT(!1)}},[M,eP,ex,I]);(0,n.useEffect)(()=>W.listen(W.EVENT.JingxuanTopCard,e=>{var i;let{action:l,awemeId:t,cancelReplace:n}=e;"topCardReplace"===l&&t===(null==ep?void 0:null===(i=ep[0])||void 0===i?void 0:i.awemeId)&&(n?eL.current&&eT(!0):ej(eJ))}),[ej,eJ,null==ep?void 0:null===(i=ep[0])||void 0===i?void 0:i.awemeId]);let eZ=(0,n.useCallback)(async()=>{let e=I||eg.current;if(!(0,eV.r)()&&eu.current!==eQ.FAILED){if(e){var i,l,t,n,r;let o=0;if(null===(l=X.current)||void 0===l?void 0:null===(i=l.homeFastSlowSlide)||void 0===i?void 0:i.isOpen){let e=J.Le.getConfig(J.gI.HomeFastSlowSlideFeature);o=(null===(r=X.current)||void 0===r?void 0:null===(n=r.homeFastSlowSlide)||void 0===n?void 0:null===(t=n.distanceMap)||void 0===t?void 0:t[e])||0}e4(e,m+o)&&!es.current&&(W.emit(W.EVENT.homeLoadMoreReach),await eJ())}}},[eJ,m,I]),eG=(0,n.useCallback)(()=>{let e=eg.current,i=I||e;if(!eE)e_.current=!0,i&&e4(i,m)&&eZ(),ex(),e_.current=!1},[eE,ex,m,eZ,I]),eq=(0,n.useRef)(!1),e0=(0,O.d)(()=>{if(!eq.current)return;let e=eg.current,i=I||e;i&&e4(i,m)&&eZ()});(0,F.o)(()=>((null==eN?void 0:eN.current)?eJ():e0.current(),()=>{eq.current=!0}),[]),!function(e){let{waterfallWrapperRef:i,needSkeleton:l,onResizeEvent:t,onScrollEvent:n,scrollListenerEl:r}=e;(0,F.o)(()=>{let e=()=>{if(!t)return;let e=eD()(()=>{if(!!(null==i?void 0:i.current)&&0!==i.current.clientHeight)null==t||t()},300);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}};if(l){let i=e();return()=>{null==i||i()}}let o=e(),a=(()=>{if(!n||!(null==i?void 0:i.current))return;let e=r||i.current;if(!e)return()=>void 0;let l=ii()(()=>{null==n||n()},50);return null==e||e.addEventListener("scroll",l),null==e||e.addEventListener("wheel",l),()=>{null==e||e.removeEventListener("scroll",l),null==e||e.removeEventListener("wheel",l)}})();return()=>{null==o||o(),null==a||a()}},[l,t,n,i,r])}({waterfallWrapperRef:eg,scrollListenerEl:y,scrollParentEl:I,needSkeleton:eE,onResizeEvent:eG,onScrollEvent:eZ}),(0,n.useEffect)(()=>{if(eE){var e;null==T||null===(e=T.onSkeletonShow)||void 0===e||e.call(T),eo.current=[]}},[eE]),(0,n.useEffect)(()=>{var e;null==T||null===(e=T.onLoadMoreShow)||void 0===e||e.call(T,V)},[V]),(0,n.useEffect)(()=>{(async()=>{var e,i,l,t,n,r;if(Q&&(null==Q?void 0:null===(e=Q.awemeList)||void 0===e?void 0:e.length)&&!Q.isCourse){let e=!!K.current;if(!e&&(["sort","new_hottest_id","old_hottest_id"].includes(null!==(t=null==Q?void 0:Q.responseFrom)&&void 0!==t?t:"")||(null==Q?void 0:null===(l=Q.awemeList)||void 0===l?void 0:null===(i=l.some)||void 0===i?void 0:i.call(l,e=>{var i,l;return(null==e?void 0:e.awemeType)!==eB.e.LiveCard&&(null==e?void 0:null===(l=e.video)||void 0===l?void 0:null===(i=l.playAddr)||void 0===i?void 0:i.length)===0})))&&(e=!0),(null==Q?void 0:Q.responseFrom)&&e){let{ids:e,encodedIds:i,liveIds:l,liveEncodedIds:t}=e9(null==Q?void 0:Q.awemeList);await eM({ids:e,encodedIds:i,liveIds:l,liveEncodedIds:t,responseFrom:null==Q?void 0:Q.responseFrom,logId:z.current||(null===(r=window.SSR_RENDER_DATA)||void 0===r?void 0:null===(n=r.app)||void 0===n?void 0:n.logId)||""})}await eZ()}})()},[Q]),(0,F.o)(()=>(0,eH.oX)(async()=>{var e,i,l,t;if(N===eY._D[eY.JY.Course]||S){W.emit(W.EVENT.refreshPage);return}if(!eh.current)eC(),eh.current=!0,eI.current=(null===(i=eI.current)||void 0===i?void 0:null===(e=i.slice)||void 0===e?void 0:e.call(i,ed.current+1))||[],er.current=null===(t=er.current)||void 0===t?void 0:null===(l=t.filter)||void 0===l?void 0:l.call(t,e=>eI.current.some(i=>i.id===e.id)),ed.current=0,ea.current=0,ex(),eZ(),await Promise.allSettled([eJ(),null==ei?void 0:ei(N),null==ee?void 0:ee()]),eh.current=!1}),[N]);let e2=(0,n.useCallback)((e,i)=>{!(null==e?void 0:e.insertId)&&(ed.current=Math.max(ed.current,i))},[]),e7=(0,n.useCallback)((e,i,l,t,n,r)=>_(e,i,(null==h?void 0:h.discoverTaskOptimize)?e2:()=>{!(null==e?void 0:e.insertId)&&(ed.current=Math.max(ed.current,t))},t,n,r,ey),[_,ey]),e5=(0,n.useCallback)((e,i,l)=>{var t;null==T||null===(t=T.onCoverLoad)||void 0===t||t.call(T,e,i,l)},[null==T?void 0:T.onCoverLoad]),ie=M===eK.FAILED,it=V===eQ.SUCCESS,io=(0,n.useCallback)(e=>{eI.current=e,ex()},[]);return(0,t.jsxs)("div",{className:p()(j,eW.waterfallWrapper,{[eW.noScrollParent]:!I}),ref:eg,children:[b,ie&&!it&&(0,t.jsx)(e$,{isGaiaTab:S,statusCode:H}),eE?(0,t.jsx)(eX,{containerClassName:p()({bigCardWaterfallContainer:2===ek},g)}):(0,t.jsx)(t.Fragment,{children:ep.length?(0,t.jsx)(e1,{ref:Z,setWaterfallContainer:q,renderItem:e7,hideSecond:k&&(null==ep?void 0:ep[0])&&ep[0].awemeType!==eB.e.LiveCard&&(null!==(r=ep[0].width)&&void 0!==r?r:0)>(null!==(a=ep[0].height)&&void 0!==a?a:0),fetchStatus:V,showDataList:ep,containerClassName:p()({bigCardWaterfallContainer:ew},g),statusCode:H,onload:C,reload:()=>{eJ({isReload:!0})},update:()=>{es.current=!1,eZ()},onCoverShow:e5,abTestData:h,setLoadingElement:R,showReplaceLoading:A}):!ie&&!it&&(0,t.jsx)(e$,{statusCode:H})}),(0,t.jsx)(eU.IsLivingPlugin,{activeIndex:-1,dataList:eb,setDataList:io,scene:"jingxuan_card"})]})}var ih=(0,n.forwardRef)((e,i)=>{let[l,r]=(0,n.useState)(!0),o=(0,n.useRef)(!1),{onError:a,onListLoad:d,perfLogFunctions:s}=e||{},{onSkeletonShow:u,onCoverLoad:c,onReload:v,onLoadMoreShow:m,isActiveTab:h}=s||{},g=()=>{if(!!o.current)null==v||v(),r(!1),setTimeout(()=>{r(!0),o.current=!1},0)};(0,n.useImperativeHandle)(i,()=>({reloadList:g,isListLoadEndRef:o}));let p=(0,n.useCallback)(function(){for(var i=arguments.length,l=Array(i),t=0;t<i;t++)l[t]=arguments[t];(null==h?void 0:h(e.selectedTab))&&(null==c||c(...l))},[c]),w=(0,n.useMemo)(()=>({onSkeletonShow:u,onCoverLoad:p,onLoadMoreShow:m}),[]);return l&&(0,t.jsx)(i_,(0,_._)((0,f._)({onError:e=>{o.current=!0,null==a||a(e)},onListLoad:()=>{o.current=!0,null==d||d()}},e),{perfProps:w}))});let ig=(e,i)=>{let l=[];return e.forEach((e,i)=>{var t,n;l[i]=e,l[i].height=null==e?void 0:null===(t=e.video)||void 0===t?void 0:t.height,l[i].width=null==e?void 0:null===(n=e.video)||void 0===n?void 0:n.width,l[i].id=null==e?void 0:e.awemeId}),l};var ip=l("419936"),iw=l.n(ip),iC=l("451238"),ix=l.n(iC),ib=l("656062"),iI=l.n(ib),iy=l("987475"),iL=l("847191"),ij=l("167951"),iT=l("965071"),ik=l("109539");let iS=(e,i)=>{if(iw()(e))return iI()(e,i)},iE=e=>{let{selectedTab:i}=e,{setClosedCardAdIdListMap:l}=(0,ez.useDiscoverCommonContext)(e=>{let{setClosedCardAdIdListMap:i}=e;return{setClosedCardAdIdListMap:i}}),{userInfo:t}=(0,ik.useUserInfoContext)(),r=e=>{var l,n,r;if(!i)return;let o=null!==(r=(0,iL.$o)(iy.LocalStorageKeys.DiscoverFeedCardAdUnique))&&void 0!==r?r:{},a=(null==t?void 0:t.isLogin)?null==t?void 0:null===(l=t.info)||void 0===l?void 0:l.uid:(null===(n=(0,ij.Es)())||void 0===n?void 0:n.user_unique_id)||"",d=ix()({},o,{[a]:{[i]:[e]}},iS);(0,iL.qQ)(iy.LocalStorageKeys.DiscoverFeedCardAdUnique,d),(0,iT.EN)({uidKey:a})},o=(0,n.useCallback)(e=>{null==l||l(l=>{if(void 0===i)return l;let t=(0,f._)({},l),n=(null==t?void 0:t[i])||[];return n.push(e),t[i]=n,t})},[l]);return{onShow:e=>{!e.permanent&&r(e.id)},onClose:e=>{if(!!e.id)r(e.id),null==o||o(e.id)}}},iN=e=>(0,O.d)(!1);var iR=l("368200");l("602157"),l("779788");let iP=(0,n.forwardRef)((e,i)=>(0,t.jsx)("svg",(0,_._)((0,f._)({width:105,height:120,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:i},e),{children:(0,t.jsx)("path",{d:"M89.013 24.055C82.55 19.84 77.883 13.098 76.427 5.238A28.704 28.704 0 0 1 75.939 0H55.31l-.035 82.675c-.345 9.257-7.967 16.689-17.307 16.689-2.902 0-5.636-.726-8.044-1.992-5.517-2.907-9.299-8.692-9.299-15.35 0-9.56 7.783-17.343 17.343-17.343 1.783 0 3.495.297 5.119.803V44.423a38.211 38.211 0 0 0-5.12-.368C17.034 44.055 0 61.088 0 82.027c0 12.848 6.42 24.216 16.213 31.088A37.749 37.749 0 0 0 37.973 120c20.939 0 37.972-17.033 37.972-37.973V40.101a49.054 49.054 0 0 0 28.704 9.227v-20.63a28.56 28.56 0 0 1-15.636-4.643z",fill:"#121423",fillOpacity:".9",opacity:".04"})})));var iA={cover:"HGXOsC8m",content:"oOD4qrps",leftTag:"n32o9S1r",rightTag:"Ii8ePykI",backgroundLoading:"yhodAwbf",backgroundMask:"uYH4uOmd",backgroundMaskNotLoad:"CSA25PZv",mask:"UYTgsheo",background:"PXxuR3wP",hoverImg:"H3DqGJMV",hideImage:"AYYwUaes",footer:"lCgTcfSm",title:"HwxFa2Yf",markers:"uQUfgoO0",hideMarkers:"jXA11yAM",hideTags:"_6ff2r2G",hideMarkersAnimation:"BIg3N8nW",showMarkersAnimation:"pfEzElxN"},iM=l("999238"),iD=e=>{let{onLog:i,isReady:l}=e,t=n.useRef(!1);return n.useEffect(()=>{l&&!t.current&&(t.current=!0,i&&i())},[i,l]),null};let iB=e=>{let{isFirstPageItem:i=!1,imageSrc:l,scale:r=16/9,title:o,fit:a="cover",mask:d,leftMarker:s,rightMarker:u,className:c,hideMarkers:v=!1,hideTags:m=!1,onMouseLeave:f,onMouseEnter:_,onClick:h,maskZIndex:g=2,alt:w,animation:C,hideShadow:x,forwardRef:b,onLog:I,lazyLoadOffset:y=600,lazyLoad:L=!1,isLogReady:j,rightTag:T,leftTag:k,hoverImg:S}=e,[E,N]=n.useState(i),R=n.useRef(null);n.useEffect(()=>{R.current&&R.current.complete&&N(!0)},[]);let P=n.useCallback(()=>{!E&&N(!0)},[E]),A=n.useMemo(()=>(0,t.jsx)("img",{alt:w,ref:R,src:l,onLoad:P,className:p()(iA.background,{[iA.hideImage]:!E,[iA.hoverImg]:S}),style:{objectFit:a}}),[w,R,l,P,E,a,S]);return(0,t.jsxs)("div",{ref:b,title:"",className:p()(iA.cover,c),style:{paddingTop:`${1/r*100}%`},onMouseEnter:_,onMouseLeave:f,onClick:h,children:[d&&(0,t.jsx)("div",{style:{zIndex:g},className:iA.mask,children:d}),(0,t.jsx)("div",{className:iA.backgroundLoading,children:(0,t.jsx)(iP,{})}),(0,t.jsx)(iD,{onLog:I,isReady:j}),L?(0,t.jsx)(iM.default,{height:"100%",offset:y,once:!0,children:A}):A,!x&&(0,t.jsx)("div",{className:p()(iA.backgroundMask,{[iA.backgroundMaskNotLoad]:!E})}),(0,t.jsxs)("div",{className:p()(iA.content,{[iA.hideTags]:m}),children:[k&&(0,t.jsx)("div",{className:iA.leftTag,children:k}),T&&(0,t.jsx)("div",{className:iA.rightTag,children:T})]}),(0,t.jsxs)("div",{className:p()(iA.footer,{[iA.hideMarkersAnimation]:C&&v,[iA.showMarkersAnimation]:C&&!v,[iA.hideMarkers]:!C&&v}),children:[(0,t.jsx)("div",{className:iA.title,children:o}),(0,t.jsxs)("div",{className:iA.markers,children:[s,u]})]})]})};var iF=n.forwardRef((e,i)=>(0,t.jsx)(iB,(0,_._)((0,f._)({},e),{forwardRef:i}))),iO={card:"Y4KdzJ21",cover:"E_lyUKRn",noMargin:"VGqxa7dc",title:"Zfmp49H9"},iV=e=>{let{width:i,title:l,cover:n,meta:r,detail:o,className:a,onMouseEnter:d,onMouseLeave:s,onClick:u}=e;return(0,t.jsxs)("div",{style:{width:i},onMouseEnter:d,onMouseLeave:s,onClick:u,className:p()(iO.card,a),children:[(0,t.jsx)("div",{className:p()(iO.cover,{[iO.noMargin]:o}),children:n}),o||(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:iO.title,children:l}),(0,t.jsx)("div",{children:r})]})]})},iU=l("235230"),iH="Hlhnjx4q",iY="OCq6LNvT",iz=e=>{let{title:i,children:l}=e;return(0,t.jsxs)("div",{className:iH,children:[(0,t.jsx)("h1",{className:iY,"data-e2e":"live-room-name",children:i}),l]})},iJ=l("467849"),iW=l("742401"),iZ=l("774575"),i$=l("852664"),iG=l("309244"),iq="hmXZ4_2_",iX="tf7tsyLn";let iK=e=>{let{count:i,className:l,renderSVG:n}=e;return(0,t.jsxs)("span",{className:p()(iq,l),children:[n?n():(0,t.jsx)(iG.Z,{}),(0,t.jsx)("span",{className:iX,children:i||"0"})]})};var iQ={liveCard:"upEORSfP",borderRadius:"Rbi0dLbR",liveCover:"FLKrazjV",coverMask:"I5X716yZ",cardInfo:"x7F_6nV8"},i0=l("169961"),i1={liveTag:"Invt7kl0",hasRedPack:"mmuZGyYZ",isFirstLive:"_E4ppM2S",liveTagText:"czPHNW9v",redPack:"jStc0Hl_",realText:"ZSMMXimI"},i2=l("769508"),i3=e=>{var i,l;let{roomData:r}=e,o=(0,i0.T)(),a=n.useMemo(()=>{var e;return(null==r?void 0:null===(e=r.others)||void 0===e?void 0:e.web_enter_benefit_point_data)||{has_ongoing_lottery:!1,has_ongoing_lucky_money:!1}},[r]),d=(0,i2.gE)(o,a.has_ongoing_lottery,a.has_ongoing_lucky_money,!0),s=null==r?void 0:null===(l=r.episode_extra)||void 0===l?void 0:null===(i=l.mod)||void 0===i?void 0:i.episode_stage;return(0,t.jsx)("div",{className:p()(i1.liveTag,{[i1.hasRedPack]:!0,[i1.isFirstLive]:s}),children:(0,t.jsxs)("span",{className:p()(i1.liveTagText),"data-e2e":"user-info-living",children:[d.icon&&(0,t.jsx)("img",{src:d.icon,className:i1.redPack}),(0,t.jsx)("span",{className:i1.realText,children:s?"首播中":"直播中"})]})})},i7=l("787277"),i5=l("803263");l("209955");let i6=()=>{let e=n.useContext(S);if(!e)throw Error("useLiveCard must be used within LiveCardProvider");let{play:i,pause:l,clearAllPlayers:t,getInstance:r}=e;return{play:i,pause:l,getInstance:r,clearAllPlayers:t}};var i4=l("340619"),i8=l("645260"),i9=l.n(i8),le=l("342934"),li={cardInfo:"ZBvIT8gG",cardInfoContainer:"dud1zPsv",decs:"Tu5IS0vC",userText:"SWvUuhxn",text:"wdOwEL1J",marginRight:"xdtM920o",at:"ViYzOeP6",userName:"TvB65_nE"},ll=l("907170"),lt=l("421885"),ln=l("956428"),lr=l("180962"),lo=l("555679"),la={tagContainer:"ei4kM2gw",tagText:"dX9GIMHH",yellow:"p6rGz3E_",green:"w4TcqMaX",recommended:"kw3HDa6o"};lt.Z,ln.Z,lr.Z,lo.Z;let ld=new Map([["follow",{text:"你的关注"}],["recommended",{text:"为你推荐"}],["collect",{text:"收藏"}],["digg",{text:"点赞"}],["comment",{text:"评论"}]]),ls=e=>{let{count:i,type:l,className:n}=e,r=ld.get("recommended"===l?"recommended":"follow");return(0,t.jsx)(t.Fragment,{children:r&&(0,t.jsx)("span",{className:p()(la.tagContainer,n,{[la.yellow]:"collect"===l,[la.green]:"comment"===l,[la.green]:"follow"===l,[la.recommended]:"recommended"===l}),children:(0,t.jsx)("span",{className:p()(la.tagText),children:`${["follow","recommended"].includes(l)?"":(0,ll.qe)(i||0)}${r.text}`})})})};var lu=e=>{let{text:i,userName:l,className:n,roomhref:r,onEnterLive:o,isShowFollowHighlightTag:a}=e;return(0,t.jsx)("div",{className:p()(li.cardInfo,n),children:(0,t.jsx)("div",{target:"_blank",rel:"noopener noreferrer",onClick:o,children:(0,t.jsxs)("div",{className:p()(li.cardInfoContainer),children:[(0,t.jsx)("div",{className:p()(li.decs),children:i}),(0,t.jsx)("div",{className:p()(li.userText),children:(0,t.jsxs)("div",{className:p()(li.text),children:["@",(0,t.jsx)("span",{className:p()(li.userName),children:l}),a&&(0,t.jsx)(ls,{className:li.highlightTag,type:"follow"})]})})]})})})},lc=l("773512"),lv=l("614316"),lm=l("392241"),lf=l("797973"),l_=l("400582"),lh=l("629163");let lg=e=>{var i,l,r,o;let{isFirstPageItem:a,anchorId:d,webRid:s,roomId:u,onMouseEnter:c,onMouseLeave:v,onHoverChange:m,userCount:g,cover:w,source:C,title:x,scale:b,onVideoClick:I,onLog:y,coverClassName:j,className:T,authorInfo:k,playerConfig:S,playerStyle:E,isActive:N,lazyLoad:R=!1,fit:P="cover",leftMarker:A,rightMarker:M,hideMarkers:D,leftTag:B,animation:O,hideShadow:V,isLogReady:U,instanceId:H="default",rawData:Y,isEnd:z,linkerMap:W,sceneId:$=253,teaLogParams:G,search_params:q="",detail:X,description:K,onEnterLive:Q,awemeInfo:ee}=e,[ei,el]=n.useState(!1),et=n.useRef(null),en=n.useRef(null),[er,eo]=n.useState(!1),ea=n.useRef(null),ed=(0,i0.T)(),{isFeedH265:es}=(0,i5.Z)({abtestData:ed,tab:"liveCard"}),[eu,ec]=n.useState(z),[ev,em]=n.useState(!1),ef=(0,i7.Bq)({room:Y,abtestData:ed,isFeedH265:es&&!ev}),e_=!ev&&(null==Y?void 0:Y.redirectUrl)?null==Y?void 0:Y.redirectUrl:null==ef?void 0:ef.url,eh=n.useCallback(e=>{es&&!ev&&em(!0)},[es,ev,em]),{play:eg,pause:ep,getInstance:ew}=i6(),[eC,ex]=n.useState(!1),eb=n.useRef(!1),eI=n.useRef(null),ey=n.useMemo(()=>{var e,i,l,t,n,r;let o=null!==(r=null===(l=J.Le.getConfig(J.gI.FollowStatusCache))||void 0===l?void 0:null===(e=l[null==Y?void 0:null===(i=Y.owner)||void 0===i?void 0:i.id])||void 0===e?void 0:e.followStatus)&&void 0!==r?r:null==Y?void 0:null===(n=Y.owner)||void 0===n?void 0:null===(t=n.follow_info)||void 0===t?void 0:t.follow_status;return(0,iZ.F)(o)},[Y]),[eL,ej]=n.useState(!1),eT=(null==Y?void 0:null===(r=Y.paid_live_data)||void 0===r?void 0:null===(l=r.privilege_info_map)||void 0===l?void 0:null===(i=l[101])||void 0===i?void 0:i.paid_live_type)===101,ek=n.useMemo(()=>!!((null==W?void 0:W[5])||(null==W?void 0:W[8])||(null==W?void 0:W[12])),[W]);n.useMemo(()=>{var e;return null==Y?void 0:null===(e=Y.linker_detail)||void 0===e?void 0:e.function_type},[Y]),n.useMemo(()=>3===Number(null==Y?void 0:Y.live_room_mode),[Y]);let eS=i9()(Y,"AnchorABMap",{}),eE=i9()(eS,"linkmic_video_equal_layout_frame_opt","0"),eN=n.useMemo(()=>!eu&&!eL&&!ek&&!eT&&!!e_&&N,[N,ek,eL,eu,eT,e_]),eR=(null==Y?void 0:null===(o=Y.paid_live_data)||void 0===o?void 0:o.paid_type)===1,eP=n.useMemo(()=>eN||ei||eC?(eo(!0),1):(eo(!1),0),[ei,eN,eC]),eA=()=>{!eC&&el(!1),(0,lv.bi)(G),I&&I()},eM=n.useCallback(()=>{(0,lv.JW)(G),y&&y()},[G]);n.useEffect(()=>{z&&ec(!0)},[z]);let eD=n.useCallback(()=>{ec(!0)},[]),eB=n.useCallback(()=>(0,le.Y)(d,$).then(e=>{let{status_code:i,data:l=[]}=e.data;0===i&&ec(!l.some(e=>{let i=i9()(e,"user_live",[])[0];return 1===i9()(i,"live_status")}))}),[d,$]);n.useEffect(()=>{if(en.current){var e,i;ea.current=(0,_._)((0,f._)({},ea.current),{width:(null===(e=en.current)||void 0===e?void 0:e.offsetWidth)||"100%",height:(null===(i=en.current)||void 0===i?void 0:i.offsetHeight)||"100%"})}},[en.current]);let eF=n.useMemo(()=>eu?(0,t.jsx)(i4.PlayerEndCover,{cover:w,children:"直播已结束"}):eL||eT?(0,t.jsx)(i4.PlayerEndCover,{cover:w,children:"会员直播中"}):(ei||eN)&&ek?(0,t.jsx)(i4.PlayerEndCover,{cover:w,children:"直播连麦中"}):(ei||eN)&&eR?(0,t.jsx)(i4.PlayerEndCover,{cover:w,children:"付费直播中"}):null,[eu,eN,w,ei,ek,eR,eT]),eO=n.useCallback(()=>{let e=!1;if(!iW.s){var i;e=(null===(i=navigator.userAgent)||void 0===i?void 0:i.indexOf("Firefox"))!==-1}if(e)return;if(c){c();return}if(!eN&&!!e_)el(!0)},[c,eN,el,e_]),eV=n.useCallback(e=>{var i;if(!(null===(i=et.current)||void 0===i?void 0:i.contains(e.relatedTarget))){if(v){v();return}if(eN)return;el(!1)}},[v,eN]),eU=(0,L.Z)(()=>({playerConfig:(0,f._)({url:e_,onError:eh,onEnd:eD,updatePlayer:{autoPlay:!0},baseConfig:(0,f._)({url:e_,_freezeUrl:e_,autoplay:!0,muted:!0,volume:0,decryption:null,mediaAttributes:{muted:!0}},null==S?void 0:S.baseConfig),logOptions:{ext:{is_all_265:!((0,lh.ld)(null==Y?void 0:Y.stream_url)||(0,lh.ld)(null==Y?void 0:Y.additional_stream_url)),anchor_id:d,room_id:u}}},S),style:E||ea.current||{},container:en.current,pluginSchema:{VipLiveBoundaryPlugin:{props:{customContent:(0,t.jsx)(i4.PlayerEndCover,{cover:w,children:"会员直播中"}),roomId:u,paidLiveData:null==Y?void 0:Y.paid_live_data,onShowVipLiveBoundary:e=>{ej(e)},abTestData:ed}},AdaptedBySEIPlugin:{linkmicVideoEqualLayoutFrameOpt:eE}}}));(0,F.o)(()=>{eb.current&&l_.Z&&!(0,Z.Nr)(location.pathname)&&(en.current.style.display="block",l_.Z.destroy(),eb.current=!1,ex(!1),el(!1))},[l_.Z,en.current]);let eH=(0,L.Z)(e=>{(0,lv.wp)((0,f._)({play_type:e},G))}),eY=(0,L.Z)(()=>{if(!eu&&!eL&&!ek&&!eT)eI.current&&clearTimeout(eI.current),eI.current=setTimeout(()=>{let e=eU(),{container:i}=e;eg(i,(0,iR._)(e,["container"])),eH(ei?lv.F7.HOVER:lv.F7.AUTO)},200)}),ez=(0,L.Z)(()=>{eI.current&&(clearTimeout(eI.current),eI.current=null)},[]);n.useEffect(()=>{eN&&(el(!1),eB(),eY())},[eN]),n.useEffect(()=>{ei&&(eB(),eY())},[ei]);let eJ=n.useRef(!0);n.useEffect(()=>{if(eJ.current){eJ.current=!1;return}!ei&&!eN&&en.current&&!eC&&(ep(en.current),ez())},[ei,eN,en.current,eC]),n.useEffect(()=>()=>{ez()},[]);let eW=n.useMemo(()=>{let{room_id:e,anchor_id:i,enter_method:l,enter_from_merge:t,live_position:n,request_id:r}=G;return(0,lc.h)(s,{from_search:"true",search_params:JSON.stringify(q),enter_from_merge:t,enter_method:l,live_position:n,request_id:r,room_id:e,anchor_id:i})},[q,G,s]),eZ=(0,lf.Z)(()=>`/root/live/${s}`),e$=n.useMemo(()=>{var e;return Object.values((null==Y?void 0:null===(e=Y.stream_url)||void 0===e?void 0:e.pull_datas)||{}).length>0&&!(0,i$.G6)()},[Y]),eG=n.useCallback(()=>{var e,i,l,t,n,r;null==Q||Q();let o=eZ(),a=ew(en.current),d=null==a?void 0:null===(l=a.ref)||void 0===l?void 0:null===(i=l.current)||void 0===i?void 0:null===(e=i.getPlayer)||void 0===e?void 0:e.call(i),c=null==a?void 0:null===(r=a.ref)||void 0===r?void 0:null===(n=r.current)||void 0===n?void 0:null===(t=n.getPlayerLogger)||void 0===t?void 0:t.call(n),v=!e$&&d;if(o){let e=`${o}?${h.stringify((0,_._)((0,f._)({},G),{use_new_preview:!!v}))}`;(0,lm.X)({href:e,reusePlayer:v?1:0,_reusePlayer:v?1:0,webRid:s,reuseId:v?`f_${s}`:void 0,abtestData:ed,roomId:u,usePreCreate:!v}),v&&(eb.current=!0,ex(!0),en.current.style.display="none",l_.Z.save(d,c))}},[Q,G,s,ew,l_.Z,en.current]);return n.useCallback(()=>{null==Q||Q(),window.open(eW)},[Q,eW]),(0,t.jsx)("div",{ref:et,style:{height:"100%"},onMouseEnter:e=>{eO(),null==m||m(!0)},onMouseOut:e=>{!e.currentTarget.contains(e.relatedTarget)&&(eV(e),null==m||m(!1))},onClick:e=>{eA(),e.stopPropagation()},children:(0,t.jsx)(iV,{className:p()(iQ.liveCard,T),cover:(0,t.jsx)(iU.G,{target:"_blank",rel:"noopener noreferrer",onClick:eG,children:(0,t.jsx)(iF,{className:p()(iQ.liveCover,j,iQ.borderRadius),isFirstPageItem:a,fit:P,scale:b,lazyLoad:R,isLogReady:U,onLog:eM,mask:(0,t.jsx)("div",{id:H,ref:en,className:iQ.coverMask,children:eF&&eF}),onEnterLive:eG,maskZIndex:eP,imageSrc:w,rightTag:(0,t.jsx)(i3,{roomData:Y}),hoverImg:er,leftMarker:g&&(0,t.jsx)(iK,{count:g})})}),title:x&&(0,t.jsx)(iz,{title:x}),meta:C&&(0,t.jsx)(iJ.Hw,(0,f._)({},C)),detail:X||(0,t.jsx)("div",{className:iQ.cardInfo,children:(0,t.jsx)(lu,{onEnterLive:eG,text:K,userName:null==C?void 0:C.userName,isShowFollowHighlightTag:ey})})})})};var lp=l("623582"),lw=l("953689"),lC=l("768492"),lx=l("742740"),lb=l("465769"),lI=l("457663"),ly=l("220995"),lL=l("1394"),lj=l("379788"),lT=l("120441"),lk="A86toEf_",lS="VM304bjn",lE="xqpdksRR",lN="i8buBzdG";let lR=e=>{var i,l,t;let{rawdata:n}=e.cellRoom||{},r=(null==n?void 0:null===(i=n.room_view_stats)||void 0===i?void 0:i.is_hidden)?"":null==n?void 0:null===(l=n.room_view_stats)||void 0===l?void 0:l.display_short;return{cellRoomRowData:n,userCount:r,requestId:null!==(t=null==e?void 0:e.logPb)&&void 0!==t?t:""}},lP=e=>{let{itemInfo:i,itemRef:l,index:t,topAwemeId:r,canLiveAutoPlay:o,isTabActive:a}=e,{visibleLiveCards:d,setVisibleLiveCards:s}=(0,ez.useDiscoverCommonContext)((0,en.P1)(["visibleLiveCards","setVisibleLiveCards"])),[u,c]=(0,n.useState)(o),v=(0,L.Z)(e=>{if(!o&&!!r)e?(c(!0),W.emit(W.EVENT.JingxuanTopCard,{action:"pause",awemeId:r,from:"hover_other_cover"})):(c(!1),W.emit(W.EVENT.JingxuanTopCard,{action:"play",awemeId:r,from:"cancel_hover_other_cover"}))});(0,n.useEffect)(()=>{if(!o&&u)return W.listen(W.EVENT.JingxuanTopCard,e=>{let{action:i,awemeId:l}=e;"liveAutoPlay"===i&&l===r&&c(!1)})},[o,u]),(0,n.useEffect)(()=>{if(i.awemeType!==eB.e.LiveCard||!l.current||!s||void 0===t)return;let e=new IntersectionObserver(e=>{let[l]=e;l.isIntersecting?s(e=>[...e,{id:i.awemeId,index:t}]):s(e=>e.filter(e=>e.id!==i.awemeId))},{threshold:.5}),n=l.current;return e.observe(n),()=>{e.unobserve(n),s(e=>e.filter(e=>e.id!==i.awemeId))}},[i.awemeType,i.awemeId,t,s]);let m=(0,n.useMemo)(()=>!!d&&0!==d.length&&d.reduce((e,i)=>e.index<i.index?e:i).id===i.awemeId,[d,i.awemeId]);return{isActiveLiveCard:m,canLivePlay:(!!o||u)&&m&&a,onHoverChange:v}},lA=e=>{let{itemInfo:i,isTabActive:l}=e;return(0,n.useEffect)(()=>()=>{var e,l;let{awemeId:t=""}=null!=i?i:{},n=J.Le.getConfig(J.gI.keepPlayersInfo),r=`${ei.v.Discover}-${t}`,o=null==n?void 0:null===(e=n.get)||void 0===e?void 0:e.call(n,r);o&&(null==o||null===(l=o.destroyFn)||void 0===l||l.call(o),null==n||n.delete(r))},[]),(0,n.useEffect)(()=>{if(!l){W.emit(W.EVENT.JingxuanTopCard,{action:"pause",awemeId:null==i?void 0:i.awemeId});let e=J.Le.getConfig(J.gI.topCardManualPause)||{};e[null==i?void 0:i.awemeId]&&(delete e[null==i?void 0:i.awemeId],J.Le.setConfig(J.gI.topCardManualPause,e))}},[l]),null};var lM=new ex.h({waterfallProcessStat:{eventName:"waterfall_process_stat",params:{enter_from:"",from:"",skeleton_show_time:0,waterfall_fetch_end:0,first_img_load_time:0,init_duration:0,data_duration:0,cover_duration:0}},waterfallLoadmoreStat:{eventName:"waterfall_loadmore_stat",params:{enter_from:"",duration:0}},videoCoverShow:{eventName:"video_cover_show",params:{enter_from:"discover",tab_name:"",author_id:"",group_id:"",cover_url:"",rank:0,trending_topic:"",logPb:"",module_id:-1,channel:"",aweme_type:"",is_compilation_anchor:0,badge:"",sub_tab_name:"",is_co_publish:0,co_publish_author_list:void 0,video_scale:0,from_click_group_id:"",if_first_big_card:0,visit_id:"",gid_rank:0,is_first_screen:0,page_rank:0,loading_duration:0,filter_name:"",boost_task_id:"",page_mode:"",is_first_large_card_outflow:"0",is_theme_progress_bar:""}},videoCoverLoad:{eventName:"video_cover_load",params:{enter_from:"discover",tab_name:"",author_id:"",group_id:"",cover_url:"",rank:0,trending_topic:"",logPb:"",module_id:-1,channel:"",aweme_type:"",is_compilation_anchor:0,badge:"",sub_tab_name:"",is_co_publish:0,co_publish_author_list:void 0,video_scale:0,from_click_group_id:"",if_first_big_card:0,first_page_item:0,cover_show_time:0,page_mode:""}},videoCoverClick:{eventName:"video_cover_click",params:{aweme_info:{},enter_from:"discover",tab_name:"",author_id:"",group_id:"",cover_url:"",rank:0,trending_topic:"",logPb:"",module_id:-1,channel:"",aweme_type:"",is_compilation_anchor:0,badge:"",sub_tab_name:"",is_co_publish:0,co_publish_author_list:void 0,from_click_group_id:"",if_first_big_card:0,visit_id:"",gid_rank:0,is_first_screen:0,page_rank:0,loading_duration:0,filter_name:"",boost_task_id:"",page_mode:"",is_first_large_card_outflow:"0",is_theme_progress_bar:""}},clickRefresh:{eventName:"click_refresh",params:{enter_from:"discover",tab_name:"",module_id:-1,channel:""}},loadingMore:{eventName:"loading_more",params:{enter_from:"discover",tab_name:"",url_path:"",module_id:-1}},clickDiscoverTab:{eventName:"click_discover_tab",params:{tab_name:"",module_id:-1}},clickLoadMore:{eventName:"click_load_more",params:{tab_name:"",click_position:"",enter_from:"discover"}},hoverPlayTime:{eventName:"hover_play_time",params:{group_id:"",author_id:"",enter_from:"",tab_name:"",duration:0,is_full_screen:"0",video_scale:0,if_first_big_card:0,visit_id:"",gid_rank:0,is_first_screen:0}},hoverPlay:{eventName:"hover_play",params:{group_id:"",author_id:"",enter_from:"",tab_name:"",is_full_screen:"0",video_scale:0,if_first_big_card:0,aweme_info:{},visit_id:"",gid_rank:0,is_first_screen:0}},autoVideoPlay:{eventName:"auto_video_play",params:{group_id:"",author_id:"",enter_from:"",tab_name:"",is_full_screen:"0"}},autoPlayTime:{eventName:"auto_play_time",params:{group_id:"",author_id:"",enter_from:"",tab_name:"",duration:0,is_full_screen:"0"}},noMoreContentShow:{eventName:"no_more_content_show",params:{enter_from:"discover"}},noMoreContentClick:{eventName:"no_more_content_click",params:{enter_from:"discover"}},pageView:{eventName:"page_view",params:{url:"",url_path:"",enter_from:"",link_from:"",tab_name:"",enter_method:"",aweme_type:0,theme:"light",is_topknot:0,abtest:"",ischange:"",old_ttwid:"",enter_by_tab:0,browser_height:0,browser_width:0,browser_ratio:0,redirect_from:"",from_push:0,seo_vids:"",url_source:"",url_source_method:"",word_strategy:"",physical_screen_num:0,physical_screen_info:"",match_id:"",enter_from_merge:"",is_small_window:0,is_mobile:0,is_ipad:0,is_apad:0,if_from_widget:0,theme_raw_value:"",reason:"",open_from_page:"",multi_window_order:"",multi_window_open_from:"",is_child_route:!1,is_support_wasm:!1,sub_tab_name:""}},pageStayTime:{eventName:"page_stay_time",params:{url:"",url_path:"",enter_from:"",enter_from_merge:"",previous_page:"",enter_method:"",duration:0,is_visible:1,link_from:"",tab_name:"",aweme_type:0,player_paused:0,player_muted:0,reason:"",is_child_route:!1,sub_tab_name:"",is_small_window:"0"}},filterPageStayTime:{eventName:"filter_page_stay_time",params:{duration:0,filter_list:"",filter_name:"",sub_tab_name:"",enter_method:"",enter_from:""}},firstScreenCount:{eventName:"first_screen_count",params:{tab_name:"",count:0,scene:"",pathname:"",log_id:""}},clickDiscoverTabReload:{eventName:"click_discover_tab_reload",params:{tab_name:""}},discoverClose:{eventName:"discover_close",params:{visit_id:"",close_method:"change_tab",to_page:""}},discoverCourserFilterListClick:{eventName:"discover_courser_filter_list_click",params:{filter_list:"",filter_name:"",sub_tab_name:"",enter_method:"",enter_from:""}}});let lD=(e,i)=>{let{cover:l,cover169UrlList:t,coverUrlList:n,cover169BigUrlList:r}=(null==e?void 0:e.video)||{},o=(null==e?void 0:e.isTopCard)&&(null==r?void 0:r[0])||(null==t?void 0:t[0]);return(null==i?void 0:i.jingxuanCover169)?o||l||(null==n?void 0:n[0]):l};var lB=l("609006");let lF={},lO=()=>{let e=el.e.getPipWindow({scene:B.d.ListenVideo})||el.e.getPipWindow({scene:B.d.WebVideo});e&&e.close()},lV=new Set(["onShow","onMouseEnter","onClick","onClickPipIcon"]),lU=new Set(["reuseConfig","logParams"]);var lH=n.memo(e=>{var i,l,r,a,s,u,c,v,m,h,g,w,C,x,b,I,y,L,j,T,k,S,E,N,R,P,A,M,D,B,F,U,H,Y,z;let{isTabActive:W=!1,isTopCardActive:Z=!1,isModalPlayingCurrentVideo:$,itemInfo:G,appendPlayerConfig:q,abTestData:X={},onClick:K,onCoverLoad:Q,onLoadedData:el,minAspectRatio:et,maxAspectRatio:er,onShow:eo,onMouseEnter:ea,onMouseLeave:ed,isBigCard:es=!1,isTopCard:eu=!1,canLiveAutoPlay:ec=!0,scene:ev,tabName:em,onMorePopperShow:ef,onMorePopperHidden:e_,logParams:eh={},isFirstPageItem:eg,containerScrolled:ep,index:ew,scrollContainerRef:eC,reuseConfig:ex,onClickPipIcon:eb,modalAwemeInfoRef:eI,setModalAwemeInfo:ey,setDefaultModalAwemeInfo:eL,topAwemeId:ej}=e,{awemeType:eT,mixInfo:ek}=G,{latestClickAwemeIdRef:eS,homeFetchData:eE,updateLatestClickAwemeIdRef:eN}=(0,ez.useDiscoverCommonContext)((0,en.P1)(["latestClickAwemeIdRef","homeFetchData","updateLatestClickAwemeIdRef"])),eR=!!(null==ek?void 0:ek.mixId),eP=eT===eB.e.Note,eA={videoImageWidth:null==G?void 0:G.calculateWidth,videoImageHeight:null==G?void 0:G.calculateHeight,videoImagePriority:!!(void 0!==G.index&&G.index<=10),decoding:"async"},[eM,eD]=(0,n.useState)(!ep),[eO,eV]=(0,n.useState)({}),eU=(0,n.useRef)(null),eH=(0,lw.u)({value:(null==G?void 0:null===(i=G.video)||void 0===i?void 0:i.width)/(null==G?void 0:null===(l=G.video)||void 0===l?void 0:l.height),max:er,min:et}),eY=(0,lB.V1)(),{userInfo:eJ,dispatch:eW}=(0,ik.useUserInfoContext)()||{},{info:eZ,isLogin:e$}=eJ,eG=(0,n.useMemo)(()=>{if("discover"===ev){var e,i;if(eu)return!eY&&((null==X?void 0:X.jingxuanCover169)===V.JingxuanCover169.V2||(null==X?void 0:X.jingxuanCover169)===V.JingxuanCover169.V4||(null==X?void 0:X.jingxuanCover169)===V.JingxuanCover169.V5);return((null==X?!void 0:!X.coverOptimize)||!((null==G?void 0:null===(e=G.video)||void 0===e?void 0:e.width)>(null==G?void 0:null===(i=G.video)||void 0===i?void 0:i.height)))&&!0}return!1},[eY,eu,ev,X]),eq=(0,n.useRef)(!1);(0,o.C)(d.w3.components.discover_waterfall_item),(0,n.useEffect)(()=>{var e,i,l;eq.current&&(null==eS?void 0:eS.current)===(null==G?void 0:G.awemeId)&&((null==G?void 0:null===(i=G.video)||void 0===i?void 0:null===(e=i.playAddr)||void 0===e?void 0:e.length)||(null==G?void 0:null===(l=G.video)||void 0===l?void 0:l.playApi))&&(K(eO),eq.current=!1)},[null==G?void 0:null===(r=G.video)||void 0===r?void 0:r.playAddr,null==G?void 0:null===(a=G.video)||void 0===a?void 0:a.playApi,eO,K]);let eX=lD(G,X),eK=(0,n.useRef)(0),eQ=(0,n.useMemo)(()=>{var e;let i=((null==G?void 0:null===(e=G.video)||void 0===e?void 0:e.coverUrlList)||[]).find(e=>e.includes(".heif?"));return!eg&&!!i&&("discover"===ev||(null==em?void 0:em.includes("channel")))},[eg,G,ev,em]),e0=(0,n.useMemo)(()=>(0,_._)((0,f._)({},eh),{visit_id:J.Le.getConfig(J.gI.JingXuanVisitId)||"",is_first_screen:Number(eM),gid_rank:(ew||0)+1}),[eh,ew,eM]),e1=(0,n.useMemo)(()=>(null==G?void 0:G.awemeType)===eB.e.Note?(0,lC.Wr)(G.awemeId):(0,lC.JF)(G.awemeId),[G.awemeId,null==G?void 0:G.awemeType]),e2=(0,n.useMemo)(()=>{var e,i,l,t,n,r,o,a,d,s;return{userHref:(0,lC.HC)(null==G?void 0:null===(e=G.authorInfo)||void 0===e?void 0:e.secUid,`enter_from=${(0,lx.yW)()}&enter_method=video_cover_title&from_gid=${null==G?void 0:G.awemeId}`),likesCount:(0,ll.qe)(G.stats.diggCount),videoTime:(0,ll.$y)(G.video.duration),previewUrlList:(null==G?void 0:null===(l=G.video)||void 0===l?void 0:null===(i=l.playAddr)||void 0===i?void 0:i.length)||(null==G?void 0:null===(t=G.video)||void 0===t?void 0:t.playApi)?[...null!==(s=null==G?void 0:null===(o=G.video)||void 0===o?void 0:null===(r=o.playAddr)||void 0===r?void 0:null===(n=r.map)||void 0===n?void 0:n.call(r,e=>e.src||""))&&void 0!==s?s:[]].concat((null==G?void 0:null===(a=G.video)||void 0===a?void 0:a.playApi)?null==G?void 0:null===(d=G.video)||void 0===d?void 0:d.playApi:[]):[]}},[null==G?void 0:G.video,null==G?void 0:null===(s=G.authorInfo)||void 0===s?void 0:s.secUid,null==G?void 0:null===(u=G.stats)||void 0===u?void 0:u.diggCount,null==G?void 0:null===(c=G.video)||void 0===c?void 0:c.duration]),e3=(null===(v=J.Le.getConfig(J.gI.JxOuterProgress))||void 0===v?void 0:v[null==G?void 0:G.awemeId])||{},e7=(0,O.d)((0,f._)({video_scale:(null==G?void 0:null===(m=G.video)||void 0===m?void 0:m.width)/(null==G?void 0:null===(h=G.video)||void 0===h?void 0:h.height),enter_from:(0,lb.vM)(),enter_from_merge:(0,lb.vM)(),group_id:null==G?void 0:G.awemeId,aweme_type:null==G?void 0:G.awemeType,is_compilation_anchor:0,from_click_group_id:null!==(N=null==G?void 0:G.insertId)&&void 0!==N?N:"",tab_name:em,if_follow:null!==(R=null===(C=J.Le.getConfig(J.gI.FollowStatusCache))||void 0===C?void 0:null===(g=C[null==G?void 0:null===(w=G.authorInfo)||void 0===w?void 0:w.uid])||void 0===g?void 0:g.followStatus)&&void 0!==R?R:null==G?void 0:null===(x=G.authorInfo)||void 0===x?void 0:x.followStatus,pc_source:null==G?void 0:null===(b=G.chanFeedVideo)||void 0===b?void 0:b.source,video_source:(0,lL.B)(G),first_page_item:eg,cover_show_time:Date.now()-(null==eK?void 0:eK.current),visit_id:J.Le.getConfig(J.gI.JingXuanVisitId)||"",is_first_screen:Number(eM),gid_rank:(ew||0)+1,page_rank:G.refreshIndex,boost_task_id:(null==G?void 0:G.boostTaskId)||"",is_theme_progress_bar:(null==e3?void 0:e3.isWatchedEnd)||(null==e3?void 0:e3.progress)?"1":"0"},eh)),e5=(0,n.useCallback)(()=>{!lF[G.awemeId]&&(lF[G.awemeId]=!0,eK.current=Date.now(),null==eo||eo(),eD(!ep),lM.sendLog("videoCoverShow",e7.current))},[G.awemeId,ep,e7,eo]),e6=(0,n.useCallback)((e,i)=>{null==Q||Q(e,i,{isTopCard:null==G?void 0:G.isTopCard,isBigCard:null==G?void 0:G.isBigCard}),lM.sendLog("videoCoverLoad",e7.current)},[Q,null==G?void 0:G.isTopCard,null==G?void 0:G.isBigCard]),e4=(0,n.useCallback)(e=>{null==el||el((0,_._)((0,f._)({},e),{isTopCard:null==G?void 0:G.isTopCard,isBigCard:null==G?void 0:G.isBigCard}))},[el,null==G?void 0:G.isTopCard,null==G?void 0:G.isBigCard]),e8=async e=>{let i=await (0,lj.m_)({awemeId:e,originType:ic.F.DiscoverOpen});(null==i?void 0:i.statusCode)===0&&(null==i?void 0:i.detail)&&(null==eS?void 0:eS.current)===e&&!(null==eI?void 0:eI.current)&&(null==eL||eL(null==i?void 0:i.detail),null==ey||ey(null==i?void 0:i.detail))},e9=(0,n.useCallback)(()=>{var e,i,l,t,n;G.awemeId&&(null===ee.YY||void 0===ee.YY||null===(n=ee.YY.setPlayerReuseAble)||void 0===n||n.call(ee.YY,ei.v.Discover,G.awemeId)),null==eN||eN(null==G?void 0:G.awemeId),(0,lI.Vw)(ly.H.video_cover_click,(0,f._)({aweme_info:G},e7.current)),lM.sendLog("videoCoverClick",e7.current);let r=`${d.w3.modal.modal_first_video_play}_start`;(0,eF.tl)(r),(0,eF.B1)({tag:r}),(null==G?void 0:null===(e=G.images)||void 0===e?void 0:e.length)||(null==G?void 0:null===(l=G.video)||void 0===l?void 0:null===(i=l.playAddr)||void 0===i?void 0:i.length)||(null==G?void 0:null===(t=G.video)||void 0===t?void 0:t.playApi)?K({visit_id:J.Le.getConfig(J.gI.JingXuanVisitId)||"",is_first_screen:Number(eM),gid_rank:(ew||0)+1,is_outflow:1,from_gid:null==G?void 0:G.awemeId,item_rank:1}):(eq.current=!0,(null==eE?void 0:eE.redisMode)==="replace"&&eg&&e8(G.awemeId),eV({visit_id:J.Le.getConfig(J.gI.JingXuanVisitId)||"",is_first_screen:Number(eM),gid_rank:(ew||0)+1,is_outflow:1,from_gid:null==G?void 0:G.awemeId,item_rank:1}))},[e7,ew,G,null==G?void 0:G.awemeId,null==G?void 0:G.images,null==G?void 0:null===(I=G.video)||void 0===I?void 0:I.playAddr,null==G?void 0:null===(y=G.video)||void 0===y?void 0:y.playApi,K,eM,eg,eE,eN]),ie=eg||lF[G.awemeId],ii=G.awemeType===eB.e.LiveCard,{isActiveLiveCard:il,onHoverChange:it,canLivePlay:ir}=lP({itemInfo:G,itemRef:eU,index:ew,topAwemeId:ej,canLiveAutoPlay:ec,isTabActive:W}),{cellRoomRowData:io,userCount:ia,requestId:id}=lR(G);if(ii)return(0,t.jsx)("div",{ref:eU,style:{height:"100%"},children:(0,t.jsx)(lg,{onHoverChange:it,onEnterLive:lO,isFirstPageItem:eg,awemeInfo:G,isActive:ir,rawData:io,instanceId:il?"AUTOPLAY_LIVE_CARD":"MULTI_PLAY_LIVE_CARD",description:(null==io?void 0:io.title)||"",anchorId:(null==io?void 0:null===(P=io.owner)||void 0===P?void 0:P.id_str)||"",roomId:(null==io?void 0:null===(M=io.owner)||void 0===M?void 0:null===(A=M.own_room)||void 0===A?void 0:A.room_ids_str[0])||"",webRid:(null==io?void 0:null===(D=io.owner)||void 0===D?void 0:D.web_rid)||"",userCount:ia,cover:(null==io?void 0:null===(F=io.cover)||void 0===F?void 0:null===(B=F.url_list)||void 0===B?void 0:B[0])||"",isEnd:(null==io?void 0:io.status)!==2,teaLogParams:{live_position:(ew||0)+1,anchor_id:null==io?void 0:null===(U=io.owner)||void 0===U?void 0:U.id_str,room_id:(null==io?void 0:null===(Y=io.owner)||void 0===Y?void 0:null===(H=Y.own_room)||void 0===H?void 0:H.room_ids_str[0])||"",enter_from_merge:"web_homepage_discover",enter_method:"web_live_card",is_aweme_tied:e$?1:0,request_id:id},source:{userName:null==io?void 0:null===(z=io.owner)||void 0===z?void 0:z.nickname},title:(null==io?void 0:io.title)||"",isLogReady:!!e$,linkerMap:null==io?void 0:io.linker_map,scale:4/3})});let is=(0,t.jsx)(lT.Z,(0,_._)((0,f._)({className:p()("waterfall-videoCardContainer",{jingxuanVideoCard:"discover"===ev}),cardIndex:ew,imageBoxClassName:lN,imgClass:p()("discover-video-card-img",{"jingxuan-top-card-img":eu}),onLoadedData:e4,logParams:e0,enableCardHoverPreview:!1,showHighLightTag:!0,appendPlayerConfig:q,showImageInSSR:eg,disabledALink:!0,imageReady:ie,showHomeNote:eP,showHomeCollect:eR,awemeInfo:G,url:e1,description:(null==G?void 0:null===(L=G.webRawData)||void 0===L?void 0:L.cutTitle)||G.desc,imgUrl:eX,onClick:e9,onMouseLeave:ed,onMouseEnter:ea,imageClassName:lk,imageSkeletonClass:p()({[lE]:(null==G?void 0:null===(j=G.video)||void 0===j?void 0:j.cover)==="cache"}),userName:G.authorInfo.nickname,userHref:e2.userHref,userHrefTarget:"_blank",likesCount:e2.likesCount,videoTime:e2.videoTime,width:null==G?void 0:null===(T=G.video)||void 0===T?void 0:T.width,height:null==G?void 0:null===(k=G.video)||void 0===k?void 0:k.height,previewUrlList:e2.previewUrlList,isHorizontal:(null==G?void 0:null===(S=G.video)||void 0===S?void 0:S.width)>(null==G?void 0:null===(E=G.video)||void 0===E?void 0:E.height),fakeHorizontalInfo:null==G?void 0:G.fakeHorizontalInfo,isShowCreateTime:!0,videoImageStyle:{paddingTop:`${1/eH*100}%`},onShow:e5,onCoverLoad:e6,onUserNameClick:()=>{var e;lp.logInstance.sendLog("clickNickname",{enter_from:(0,lx.yW)(),to_user_id:null==G?void 0:null===(e=G.authorInfo)||void 0===e?void 0:e.uid,group_id:null==G?void 0:G.awemeId})},scene:ev,blurLightCover:!1,user:{info:eZ,isLogin:e$,dispatch:eW},abTestData:X,enableNotePreview:!0,needOperateHidden:null==X||!X.jingxuanCover169||!eu,topAwemeId:ej,isTopCard:eu,isBigCard:es,isTopCardActive:Z,isModalPlayingCurrentVideo:$},eA),{showMore:!0,tab:em,showWatchLater:!0,onMorePopperHidden:e_,onMorePopperShow:ef,withBlurBg:eG,cardInfoClassName:p()({[lS]:"discover"===ev}),enableImageX:eQ,scrollContainerRef:eC,reuseConfig:ex,onClickPipIcon:eb}),`${G.awemeId}${eu?"-topcard":""}`);return eu?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(lA,{itemInfo:G,isTabActive:W}),is]}):is},(e,i)=>{var l;if(!(null===(l=J.Le.getConfig(J.gI.AbtestData))||void 0===l?void 0:l.enableJingxuanZustand))return!1;for(let l in i){if(!(lV.has(l)||lU.has(l))){if(!Object.is(e[l],i[l]))return!1}}return!0}),lY=l("892043"),lz=l("47047"),lJ=l("684767");let lW=e=>{var i;let{abTestData:l,className:n,country:r}=e,o={wid:(null===(i=(0,ij.Es)())||void 0===i?void 0:i.user_unique_id)||""},a={clientType:(0,s.DT)()?"Client":"Web",os:(0,lz.fV)().os,isInPWA:(0,lJ.f)()},d={teaInstance:lp.logInstance};return l.homeBanner===V.HomeBannerABVal.On?(0,t.jsx)(lY.Z,{className:n,userInfo:o,systemInfo:a,logConfig:d,country:r,clickAction:()=>{W.emit(W.EVENT.OpenJXModal,{source:"discover_banner"})}}):null};var lZ=l("66047");let l$=em.ERROR_CODE,lG=(e,i)=>{var l;let t=null===(l=(0,X.oZ)(i))||void 0===l?void 0:l.fetcher;return t?t.request({cached:!0,consume:!0,params:e,fetcherOptions:{expired:36e5,resetExpiredCacheBefore:!1,hoverDelay:!0}}):(0,e_.F)(e)};var lq=e=>{var i,r,a,s;let{tab:u,subTagInfoRef:c,filterName:v,request:m,isTabActive:h,selectedTab:g,modalAwemeInfo:w,setModalAwemeInfo:C,setDefaultModalAwemeInfo:x,defaultList:b,perfLogFunctions:I,preloadModuleFeed:y,onVideoCardMouseLeave:L,onVideoCardClick:j,country:T,className:k,onClickPipIcon:S,setLogParams:E,appendPlayerConfig:N,showReplaceLoading:R,setShowReplaceLoading:P}=e,A=(0,O.d)(w),M=(0,n.useRef)(null),D=(0,n.useRef)(),B=(0,n.useRef)(),U=(0,ik.useUserInfoContext)()||{},H=(0,lZ._)()||{};!function(e){let{ref:i,abTestData:t}=e;(0,n.useEffect)(()=>{let e=i.current;if(e){let i;let t=!1;return l.e("16708").then(l.t.bind(l,597965,23)).then(l=>{var n,r;let{Monitor:o}=l;if(!t)(i=new o({el:e,appId:6383,region:"cn",userUniqueId:null!==(r=null===(n=(0,ij.Es)())||void 0===n?void 0:n.user_unique_id)&&void 0!==r?r:"",selector:"img, canvas",customHeadersHandler:e=>{let i=e.get("x-imagex-extra");return JSON.parse(null!=i?i:"{}")},defaultConfig:{reportRateConfig:{reportRate:.1,reportRateError:.1}}})).updateReportParams({imagex_vid:0}),i.start()}),()=>{t=!0,null==i||i.stop()}}},[])}({ref:B,abTestData:H});let Y=eY.z0[g],[z,Z]=(0,n.useState)(),[$,G]=(0,n.useState)(),[X,K]=(0,n.useState)(!1),{homeFetchData:Q,isDefaultLanding:el,updateFeedCardAdResourceList:et,updateSubTabLiveCardList:er,pageMode:eo}=(0,ez.useDiscoverCommonContext)((0,en.P1)(["homeFetchData","isDefaultLanding","updateFeedCardAdResourceList","updateSubTabLiveCardList","pageMode"])),ed=(0,n.useRef)((null==Q?void 0:Q.isCourse)&&null!==(a=null==Q?void 0:null===(r=Q.awemeList)||void 0===r?void 0:null===(i=r.map)||void 0===i?void 0:i.call(r,e=>null==e?void 0:e.awemeId))&&void 0!==a?a:[]),es=(0,n.useRef)(0);(0,o.C)(d.w3.components.discover_tab);let{setLoadingElement:ec}=(0,ef._)({scrollListenerEl:$,scene:Y,enableRecordFrameTime:!0,enableRecordLongTask:!0,enableRecordLoadingShow:!0,crashFPSThreshold:24,slideEndDelay:300,logParams:(0,f._)({sub_tab_name:null!==(s=eY.z0[g])&&void 0!==s?s:g},el?{enter_method:"default_landing"}:{}),abTestData:H});!function(e){let{scrollEl:i,onSideBarShow:l}=e;(0,F.o)(()=>{if(!i)return;W.emit(W.EVENT.globalScrollEl,i);let e=W.listen(W.EVENT.sideBarShow,()=>{W.emit(W.EVENT.globalScrollEl,i),null==l||l()});return()=>{e()}},[i])}({scrollEl:$});let{targetResource:em}=(0,q.II)(e=>{let{targetResource:i}=e;return{targetResource:i}}),{stuff_detail:e_}=em||{},ep=(0,n.useRef)(!0),ew=iN(H),eC=(0,n.useCallback)(async()=>{var e;let i;ev.z.markStart("discover_csr_fetch_data",{once:!0});let l=Q&&(null==Q?void 0:null===(e=Q.awemeList)||void 0===e?void 0:e.length),t=!l&&ep.current,n={tagId:"0"===g?"":g,activeId:u.is_active_tab?u.key:"",isActiveTab:u.is_active_tab},r=ew.current&&"0"===g,o={useV2:1};if(!l&&ep.current&&(o.liteType=1,r&&(o.pullType=8)),ep.current&&(ep.current=!1),t){let[e]=await Promise.allSettled([m(t,(0,f._)({},o,n)),null==et?void 0:et(g),null==er?void 0:er()]).finally(()=>ep.current=!1);i=(0,f._)({},(null==e?void 0:e.status)==="fulfilled"&&(null==e?void 0:e.value)||{})}else i=await m(t,(0,f._)({},o,n)).finally(()=>ep.current=!1);return ev.z.markEnd("discover_csr_fetch_data",{once:!0}),i},[m,u,g,Q,et]),ex=(0,n.useRef)(!0);(0,F.o)(()=>{if(ex.current){ex.current=!1;return}I.onCacheTabActive(g)},[]),(0,F.o)(()=>{if(z){let e=()=>{K(!0)};return z.addEventListener("scroll",e),()=>{z.removeEventListener("scroll",e)}}},[z]),(0,F.o)(()=>{if(w)return()=>{};if(!D.current)return;let e=e=>{if("ArrowDown"===e.code||"ArrowUp"===e.code){let l="ArrowUp"===e.code,t=D.current;if(t){var i;(0,eh.X)({top:Math.min(Math.max((null!==(i=t.scrollTop)&&void 0!==i?i:0)+(l?-100:100),0),t.scrollHeight),behavior:"smooth"},t)}}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[w]);let eb=(0,n.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;arguments.length>1&&arguments[1];for(let i=0;i<3;i++){let l;if(g===eY._D[eY.JY.Course]){let i=0===(l=await lG({tabId:"screen_course_page",offset:e,size:6,tagIdList:c.current.courseTagIdStr,idList:ed.current.join(",")},c.current.courseTagIdStr)).statusCode&&0===l.awemeList.length&&l.hasMore;es.current=i?es.current+1:0,l.hasMore=l.hasMore&&es.current<3}else l=await eC();let{statusCode:t,hasMore:n,awemeList:r=[],offset:o=0,logPb:a="",responseFrom:d=""}=l;if(0===t&&0!==r.length||2===i)return{data:ig(r,H),hasMore:!!n,statusCode:t,logPb:a,responseFrom:d,maxCursor:o}}return{data:[],hasMore:!1,statusCode:l$.ERROR_UNKNOWN,logPb:""}},[U,eC,g,c]);(0,F.o)(()=>()=>{(null==D?void 0:D.current)&&(D.current.style.overflow="auto")},[]);let{onShow:eI,onClose:ey}=iE({selectedTab:g}),eL=(e,i)=>{if(E(i),J.Le.setConfig(J.gI.ModalStartOpenTime,Date.now()),j(e.awemeId),3===H.discoverOptimize){let i=(0,f._)({},e);i.video.originCover=lD(e,H),C(i)}else C(e)},ej=e=>{if(e.awemeId){var i;null===ee.YY||void 0===ee.YY||null===(i=ee.YY.setPlayerReuseAble)||void 0===i||i.call(ee.YY,ei.v.Discover,e.awemeId)}if(S(),j(e.awemeId),3===H.discoverOptimize){let i=(0,f._)({},e);i.video.originCover=lD(e,H),C(i)}else C(e)},eT=(0,n.useMemo)(()=>{var e;return(0,f._)({sub_tab_name:null!==(e=eY.z0[g])&&void 0!==e?e:g,filter_name:v||""},el?{enter_method:"default_landing"}:{})},[el,g,v]),ek=(0,n.useCallback)(()=>{D.current&&(D.current.style.overflow="auto")},[]),eS=(0,n.useCallback)(()=>{if(D.current){let{scrollTop:e}=D.current;D.current.style.overflow="hidden",D.current.scrollTop=e}},[]),eE=(0,n.useCallback)((e,i,l,n,r,o,a)=>{var d,s,u;let c=!!(null==Q?void 0:null===(s=Q.awemeList)||void 0===s?void 0:null===(d=s.find)||void 0===d?void 0:d.call(s,i=>(null==i?void 0:i.awemeId)===e.awemeId));return e.itemType===eA.CardAd?(0,t.jsx)(eg.l,{cardAd:e,cardStyle:"transparent",onShow:eI,onClose:ey,logParams:{sub_tab_name:eY.z0[g],filter_name:v||""},enterMethod:"discover_ad_card"}):e.itemType===eA.SubTabLive?(0,t.jsx)(eP,{cardLiveInfo:e,cardStyle:"transparent"}):(0,t.jsx)(lH,{isTabActive:h,isTopCardActive:(null==e?void 0:e.isTopCard)?!w&&h:void 0,isModalPlayingCurrentVideo:(null==e?void 0:e.awemeId)===(null==w?void 0:w.awemeId),canLiveAutoPlay:a,appendPlayerConfig:N,isFirstPageItem:c,containerScrolled:X,minAspectRatio:e0,maxAspectRatio:e0,scene:"discover",onCoverLoad:i,onLoadedData:I.onLoadedData,reuseConfig:{scene:ei.v.Discover,reuseId:null==e?void 0:e.awemeId,autoCreate:!0,keepPlayer:null==e?void 0:e.isTopCard},onShow:()=>{null==l||l()},index:n,onMouseEnter:()=>{null==y||y(e.awemeId,V.MainHoverPreloadAction.hover,!0)},onMouseLeave:L,itemInfo:e,abTestData:H,onClick:i=>eL(e,i),onClickPipIcon:()=>ej(e),isBigCard:null==e?void 0:e.isBigCard,isTopCard:null==e?void 0:e.isTopCard,topAwemeId:o,onMorePopperShow:eS,onMorePopperHidden:ek,logParams:(0,_._)((0,f._)({sub_tab_name:null!==(u=eY.z0[g])&&void 0!==u?u:g,filter_name:v||"",is_first_large_card_outflow:(null==e?void 0:e.isBigCard)?"1":"0"},el?{enter_method:"default_landing"}:{}),{page_mode:eo}),scrollContainerRef:r,modalAwemeInfoRef:A,setModalAwemeInfo:C,setDefaultModalAwemeInfo:x})},[H,y,L,g,h,Q,el,X,w,N,eT]);return(0,t.jsxs)("div",{className:p()(eu.waterfallPage,k),ref:e=>{if(!!e){B.current=e;D.current=e,Z(e),G(e)}},children:["0"===g&&(0,t.jsx)(lW,{className:eu.bannerContainer,abTestData:H,country:T}),e_&&"300205"===g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ea,{islandMode:"load",disableTDK:!0,className:p()(eu.topicPage,eu.topicPageWithDiscoverCardOptimize)}),(0,t.jsx)("div",{className:eu.feedTitle,style:{paddingLeft:28},children:(0,t.jsx)("h2",{children:"更多热门"})})]}):null,(0,t.jsx)("div",{className:p()(eu.wrapperMarin,"jingxuanFeedList"),children:(0,t.jsx)(ih,{ref:M,awemeIdsRef:ed,defaultList:b,scrollParentEl:z,scrollListenerEl:$,renderItem:eE,fetchMore:eb,modalAwemeInfo:w,abTestData:H,selectedTab:g,isGaiaTab:u.is_active_tab,tagId:"0"!==g&&g?g:"",perfLogFunctions:I,setLoadingElement:ec,setShowReplaceLoading:P,showReplaceLoading:R})})]})},lX=l("9147"),lK=l("415980"),lQ=()=>{let e=(0,n.useRef)({step:{init:!1,skeleton:!1,cover:!1,loadmore:0,top_card_cover:!1,top_card_load_data:!1},info:{reload:!1,tabChange:!1,log:!1,activeKey:"",sub_tab_name:"",filter_name:""}}),i=()=>{let i=(0,$.I)()?"route":"url",l=e.current.info.reload?"reload":i;return e.current.info.tabChange&&(l=`tab-change-${e.current.info.activeKey}`),{enter_from:(0,lx.yW)(),from:l}},l=i=>(0,$.I)()||e.current.info.reload?(0,eF.J1)(i)-(0,eF.J1)(d.w3.page.page_init_time):(0,eF.J1)(i),t=i=>{if((0,$.I)()||e.current.info.reload){let e=(0,eF.J1)(d.w3.page.page_tab_click_time);return e?((0,eF.tl)(d.w3.page.page_tab_click_time),(0,eF.J1)(i)-e):(0,eF.J1)(i)-(0,eF.J1)(d.w3.page.page_init_time)}if(!e.current.info.tabChange)return(0,eF.J1)(i);{var l;let e=null!==(l=(0,eF.J1)("discover_tab_change"))&&void 0!==l?l:0;return(0,eF.J1)(i)-e}},r=(0,n.useCallback)(i=>e.current.info.activeKey===i,[]);(0,F.o)(()=>W.listen(W.EVENT.RefreshFeedList,i=>{(0,eF.B1)({tag:d.w3.page.page_init_time}),e.current.step.cover=!1,e.current.step.top_card_cover=!1,e.current.step.top_card_load_data=!1,e.current.info.reload=!0,e.current.info.tabChange=!1,e.current.info.log=!1}),[]),(0,a.w)(()=>{(0,eF.tl)("discover_tab_change")},[]);let o=async function(){var n;if(arguments.length>0&&void 0!==arguments[0]&&arguments[0],e.current.info.log)return;let{enter_from:r,from:o}=i();if(J.Le.getConfig(J.gI.DiscoverPageCache)){let e=(0,eF.J1)(d.w3.page.cache_page_active_time)-(0,eF.J1)("click_discover_tab");lK.Z.report("web_perf_timing",{enter_from:r,from:"cache",[d.w3.moment.first_img_render_time]:e});return}let a=l(d.w3.moment.skeleton_render_time),u=l(d.w3.fetchers.fetcher_waterfall_start),c=l(d.w3.fetchers.fetcher_waterfall_end),v=t(d.w3.moment.first_img_render_time),m={enter_from:r,from:o,[d.w3.fetchers.fetcher_waterfall_start]:u,[d.w3.fetchers.fetcher_waterfall_end]:c,[d.w3.fetchers.fetcher_waterfall_duration]:c-u,[d.w3.moment.skeleton_render_time]:a,[d.w3.moment.first_img_render_time]:v};if(performance.getEntriesByName("img-loaded")[0]&&"url"===o&&(null===(n=window.pageDirectRender)||void 0===n?void 0:n.imageLoadedTime)){let e=window.pageDirectRender.imageLoadedTime;(0,eF.tl)("img-loaded");let i=(0,s.DT)()?await (0,lX.PQ)(e):{};lK.Z.report("web_perf_timing",(0,_._)((0,f._)({},i,m),{from:"url",[d.w3.moment.first_img_render_time]:e,scene:window.JX_CACHE?"first_screen_cache":""}))}else{let e=(0,s.DT)()?await (0,lX.PQ)(v):{};lK.Z.report("web_perf_timing",(0,f._)({},e,m))}e.current.info.log=!0},u=()=>{e.current.step.loadmore=0},c=(0,n.useCallback)(()=>{!e.current.step.skeleton&&((0,eF.B1)({tag:d.w3.moment.skeleton_render_time}),e.current.step.skeleton=!0)},[]),v=(0,n.useCallback)(async(l,n,r)=>{if((null==r?void 0:r.isTopCard)&&l&&!e.current.step.top_card_cover){var a,u,c;if(e.current.step.top_card_cover=!0,J.Le.getConfig(J.gI.DiscoverPageCache))return;(0,eF.B1)({tag:"jingxuan_top_card_img_loaded"});let{from:l}=i(),n=null===(a=performance.getEntriesByName("jingxuan_top_card_img_loaded"))||void 0===a?void 0:a[0],o=null===(u=performance.getEntriesByName("jingxuan_cache_top_card_img_loaded"))||void 0===u?void 0:u[0],d=null!==(c=null==n?void 0:n.startTime)&&void 0!==c?c:0,v=t("jingxuan_top_card_img_loaded");o&&(d=o.startTime,v=o.startTime,(0,eF.tl)("jingxuan_cache_top_card_img_loaded"));let m=(0,s.DT)()?await (0,lX.VU)(v,d):{};lK.Z.report("jingxuan_perf_timing",(0,_._)((0,f._)({},m),{from:l,first_img_load_time:v,is_first_large_card_outflow:(null==r?void 0:r.isBigCard)?"1":"0",sub_tab_name:e.current.info.sub_tab_name,filter_name:e.current.info.filter_name,scene:"url"===l&&window.JX_CACHE?"first_screen_cache":""}))}!e.current.step.cover&&l&&((0,eF.B1)({tag:d.w3.moment.first_img_render_time}),e.current.step.cover=!0,o(n))},[]),m=(0,n.useCallback)(async l=>{if((null==l?void 0:l.isTopCard)&&!e.current.step.top_card_load_data){var n,r;e.current.step.top_card_load_data=!0;let{from:o}=i(),a=null===(n=performance.getEntriesByName("jx-top-card-quickstart-first-frame"))||void 0===n?void 0:n[0],d=null===(r=performance.getEntriesByName("jx-top-card-first-frame"))||void 0===r?void 0:r[0],u=t("jx-top-card-first-frame"),c="";"url"===o&&window.JX_CACHE&&(c="first_screen_cache"),"url"===o&&a&&(u=t("jx-top-card-quickstart-first-frame"),(0,eF.tl)("jx-top-card-quickstart-first-frame"),c=window.JX_CACHE?"first_screen_cache_quickstart":"quickstart");let v=a?a.startTime:null==d?void 0:d.startTime,m=(0,s.DT)()?await (0,lX.Qq)(u,v):{};lK.Z.report("jingxuan_perf_timing",(0,_._)((0,f._)({},m),{from:o,cost:null==l?void 0:l.cost,first_data_load_time:u,is_first_large_card_outflow:(null==l?void 0:l.isBigCard)?"1":"0",sub_tab_name:e.current.info.sub_tab_name,filter_name:e.current.info.filter_name,scene:c}))}},[]),h=(0,n.useCallback)(e=>{let{enter_from:l}=i();(0,eF.B1)({tag:"discover_tab_active"});let t=(0,eF.J1)("discover_tab_change");if(!t)return;let n=(0,eF.J1)("discover_tab_active");lK.Z.report("web_perf_timing",{enter_from:l,from:`tab-change-${e}-cache`,[d.w3.moment.first_img_render_time]:n-t})},[]),g=(0,n.useCallback)(i=>{e.current.info.activeKey=i},[]),p=(0,n.useCallback)(i=>{e.current.info.sub_tab_name=i.sub_tab_name,e.current.info.filter_name=i.filter_name},[]),w=(0,n.useCallback)(i=>{e.current.step.cover=!1,e.current.info.reload=!1,e.current.info.log=!1,e.current.step.top_card_cover=!1,e.current.step.top_card_load_data=!1,g(i),e.current.info.tabChange=!0,(0,eF.B1)({tag:"discover_tab_change"})},[]),C=(0,n.useCallback)(i=>{i===eQ.LOADING&&0===e.current.step.loadmore&&(e.current.step.loadmore=1,(0,eF.B1)({tag:"page_discover_loadmore_show",detail:{status:i}})),i===eQ.SUCCESS&&1===e.current.step.loadmore&&(e.current.step.loadmore=2,(0,eF.B1)({tag:"page_discover_loadmore_hidden",detail:{status:i}}),u())},[]),x=(0,n.useCallback)(()=>{(0,eF.B1)({tag:d.w3.page.page_init_time}),(0,eF.tl)(d.w3.fetchers.fetcher_waterfall_start),(0,eF.tl)(d.w3.fetchers.fetcher_waterfall_end);let{step:i,info:l}=e.current;i.cover=!1,i.top_card_cover=!1,i.top_card_load_data=!1,i.skeleton=!1,i.loadmore=0,l.log=!1,l.reload=!0,l.tabChange=!1},[]);return!e.current.step.init&&((0,eF.B1)({tag:d.w3.page.page_init_time}),e.current.step.init=!0),(0,F.o)(()=>{J.Le.getConfig(J.gI.DiscoverPageCache)&&((0,eF.B1)({tag:d.w3.page.cache_page_active_time}),o())},[]),(0,a.w)(()=>{J.Le.setConfig(J.gI.DiscoverPageCache,!0),e.current.info.log=!1},[]),(0,n.useEffect)(()=>{let e=()=>o();return document.addEventListener("visibilitychange",e),window.addEventListener("beforeunload",e),()=>{document.removeEventListener("visibilitychange",e),window.removeEventListener("beforeunload",e),o(),(0,eF.tl)(d.w3.fetchers.fetcher_waterfall_start),(0,eF.tl)(d.w3.fetchers.fetcher_waterfall_end)}},[]),(0,n.useRef)({onSkeletonShow:c,onLoadMoreShow:C,onCoverLoad:v,onLoadedData:m,onReload:x,onCacheTabActive:h,updateTabInfo:g,updateLogInfo:p,onTabChange:w,isActiveTab:r}).current},l0=l("334906");let l1=eY._D[eY.JY.Course],l2=e=>(null==e?void 0:e.length)?[{tagId:0,tagLevel:0,tagTitle:"全部"},...e]:[],l3=e=>{var i;return e?`[${null!==(i=e.parentTagId)&&void 0!==i?i:e.tagId},${e.parentTagId?e.tagId:0},0]`:"[0,0,0]"};var l7=l("901046"),l5={container:"BV4VjV4V",switchBtn:"yNXnwbCx",tabList:"MiT1nPeA",tabExpand:"a4PHYcwe",tab:"G64ykXqt",disabled:"kGkPufW9",active:"aFtto_CK"};let l6=(0,b.ZP)(()=>l.e("56877").then(l.bind(l,249151)),{ssr:!1}),l4=[{label:"全部",key:"0"},{label:"公开课",key:"100000"},{label:"游戏",key:"300205"},{label:"二次元",key:"300206"},{label:"音乐",key:"300209"},{label:"美食",key:"300204"},{label:"知识",key:"300213"},{label:"体育",key:"300207"}],l8=e=>{let i=(0,n.useMemo)(()=>(null==e?void 0:e.length)?e:l4,[e]);return(0,n.useEffect)(()=>{(0,X.mi)(i)},[i]),i};var l9=e=>{var i;let{className:l,tabClassName:r,style:o,onTabClick:a,tabList:d,activeKey:s,onTabChange:u,disabled:c=!1,abTestData:v,isSpider:m}=e,f=(0,n.useRef)(null),_=(0,n.useRef)(null),h=l8(d),g=(e,i)=>{null==a||a(e,i),!c&&(null==e?void 0:e.key)!==s&&(null==u||u(e,i))};return(0,n.useEffect)(()=>{var e,i;null==_||null===(i=_.current)||void 0===i||null===(e=i.updateButtonStatus)||void 0===e||e.call(i)},[h]),(0,t.jsxs)("div",{className:p()(l5.container,l5.tabExpand,l),style:o,children:[(0,t.jsx)("div",{className:l5.tabList,ref:f,children:null==h?void 0:null===(i=h.map)||void 0===i?void 0:i.call(h,(e,i)=>{var l;let{label:n,key:o}=e,a=null!==(l=eY.z0[Number(o)])&&void 0!==l?l:"all",d="all"===a?"/jingxuan":`/jingxuan/${a}`,u=`https://www.douyin.com${d}`;return(0,t.jsx)("div",{className:p()(l5.tab,{[l5.active]:o===s,[l5.disabled]:c},r),onClick:l=>{var t,n;g(e,i),null==_||null===(n=_.current)||void 0===n||null===(t=n.onItemClick)||void 0===t||t.call(n,l,i)},onMouseEnter:()=>{var e;let{predictor:i}=null!==(e=(0,X.Z1)(o))&&void 0!==e?e:{};if(o!==s&&!c&&!!i)i.enter({params:{useV2:1,liteType:1,tagId:o},fetcherOptions:{expired:3e4,resetExpiredCacheBefore:!1,hoverDelay:!0}})},children:m?(0,t.jsx)(l7.a,{target:"_blank",href:u,children:n}):n},o)})}),(0,t.jsx)(M.SV,{Slardar:ed.oe,children:(0,t.jsx)(n.Suspense,{fallback:null,children:(0,t.jsx)(l6,{ref:_,className:l5.switchBtn,scrollRef:f})})})]})};let te=(e,i)=>{let l=(0,n.useMemo)(()=>((null==e?void 0:e.length)?e:l4).some(e=>e.key===i)?i:"0",[i,e]),t=(0,n.useRef)(l);return(0,n.useEffect)(()=>{t.current=l},[l]),(0,n.useEffect)(()=>{let e=new URL(location.href);e.searchParams.get("tag_id")&&(e.searchParams.delete("tag_id"),window.history.replaceState(null,"",e))},[]),{selectedTab:l,selectedTabRef:t}};var ti=l("487330"),tl=l("885256");let tt=()=>{var e;let i=null!==(e=J.Le.getConfig(J.gI.JxRedisExpireTime))&&void 0!==e?e:0;if(!(-1===i||Date.now()<i))(0,tl._)().then(e=>{var i,l;0!==e.statusCode&&999!==e.statusCode?J.Le.setConfig(J.gI.JxRedisExpireTime,-1):0===e.statusCode&&(null===(i=e.data)||void 0===i?void 0:i.timestamp)&&J.Le.setConfig(J.gI.JxRedisExpireTime,null===(l=e.data)||void 0===l?void 0:l.timestamp)})},tn=(0,b.ZP)(()=>l.e("56877").then(l.bind(l,249151)),{ssr:!1}),tr={mp4encryptplayer:{config:{waitingTimeOut:7500,canplayTimeout:7500,timeout:4500}},DASHPlugin:{waitingTimeOut:7500,canplayTimeout:7500,timeout:4500}},to=n.forwardRef((e,i)=>{let{request:l,resetRefreshIndex:r,tabs:s,country:c,defaultTagId:v,onChannelTabChange:m,onChannelTabReload:g,defaultSubTags:b,quickPlayerReuseEffectCb:I}=e,{homeFetchData:y,setHomeFetchData:L,isDefaultLanding:j,updateFeedCardAdResourceList:T,updateSubTabLiveCardList:k,ssrTagId:S}=(0,ez.useDiscoverCommonContext)((0,en.P1)(["homeFetchData","setHomeFetchData","isDefaultLanding","updateFeedCardAdResourceList","updateSubTabLiveCardList","ssrTagId"])),{isListenVideoMiniWin:E,jxRedisMode:N}=(0,ti.Iq)(e=>{let{isListenVideoMiniWin:i,jxRedisMode:l}=e;return{isListenVideoMiniWin:i,jxRedisMode:l}}),[R,P]=(0,n.useState)(null),[er,eo]=(0,n.useState)(null),[ev,em]=(0,n.useState)({}),[ef,eh]=(0,n.useState)(!1),eg=(0,n.useRef)(null);(0,n.useRef)(null);let ep=(0,n.useRef)(null),[ew,eC]=(0,n.useState)(null),ex=l8(s),{selectedTab:eb,selectedTabRef:eI}=te(ex,v),ey=(0,ik.useUserInfoContext)()||{},eL=(0,lZ._)()||{},{targetResource:ej,handleTagChange:eT,resourceList:ek}=(0,q.II)(e=>{let{targetResource:i,handleTagChange:l,resourceList:t}=e;return{targetResource:i,handleTagChange:l,resourceList:t}}),{stuff_detail:eS}=ej||{},{keep_old_component:eE}=eS||{},eN=null==er?void 0:er.awemeId,eR=lQ(),eP="replace"===N&&S===eb,[eA,eM]=(0,n.useState)(eP),eD=iN(eL);(0,o.C)(d.w3.components.discover_feed_list);let eB=(0,n.useMemo)(()=>{var e;return null==ek?void 0:null===(e=ek.find)||void 0===e?void 0:e.call(ek,e=>{try{var i;let l=JSON.parse(null==e?void 0:e.stuff_detail);return(null==l?void 0:l.reuse_tab)&&(null==l?void 0:null===(i=l.tab)||void 0===i?void 0:i.includes("300205"))}catch(e){return!1}})},[ek]);(0,n.useImperativeHandle)(i,()=>({setShowReplaceLoading:eM}));let{enableSaveCacheCsr:eF}=function(e){var i,l,t;let{abTestData:r}=e,o=(null==r?void 0:r.jxAllowCache)&&(null==r?void 0:null===(i=r.jxCacheMode)||void 0===i?void 0:i.cache)&&(null==r?void 0:null===(l=r.jxCacheMode)||void 0===l?void 0:l.mode)===0&&(null==r?void 0:r.jxCachePerf)===2&&(null==r?void 0:null===(t=r.jxCacheMode)||void 0===t?void 0:t.expire),a=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(!o)return;a.current=setTimeout(()=>{a.current=null,tt()},6e5);let e=()=>{"hidden"===document.visibilityState&&tt()};return document.addEventListener("visibilitychange",e),()=>{clearTimeout(a.current),document.removeEventListener("visibilitychange",e)}},[]),{enableSaveCacheCsr:o}}({abTestData:eL,selectedTab:eb});(0,n.useEffect)(()=>{var e;let i=null==eL?void 0:null===(e=eL.jxCacheMode)||void 0===e?void 0:e.expire;if(y&&eF&&i){let e=Date.now()+1e3*i;J.Le.setConfig(J.gI.JxRedisExpireTime,e)}},[]),(0,D.C)(()=>{var e,i,l,t,n,r,o,a,d,s,u,c,v,m,f,_,h,g,p,w,C,x,b,I,y,L,j,T,k,S,E,N,R,A,M,D,B,F,O;if(window.JX_IS_HYDRATED=!0,(null===(i=window)||void 0===i?void 0:null===(e=i.__QUICK_PLAYER)||void 0===e?void 0:e.removeCardHandlers)&&(window.__QUICK_PLAYER.removeCardHandlers.forEach(e=>"function"==typeof e&&e()),delete window.__QUICK_PLAYER.removeCardHandlers),(null===(t=window)||void 0===t?void 0:null===(l=t.__QUICK_PLAYER)||void 0===l?void 0:l.player)&&(null===(r=window)||void 0===r?void 0:null===(n=r.__QUICK_PLAYER)||void 0===n?void 0:n.awemeInfo))P(null===(c=window)||void 0===c?void 0:null===(u=c.__QUICK_PLAYER)||void 0===u?void 0:u.awemeInfo),eo(null===(m=window)||void 0===m?void 0:null===(v=m.__QUICK_PLAYER)||void 0===v?void 0:v.awemeInfo),ee.YY.setReusePlayer(ei.v.Discover,null===(h=window)||void 0===h?void 0:null===(_=h.__QUICK_PLAYER)||void 0===_?void 0:null===(f=_.awemeInfo)||void 0===f?void 0:f.awemeId,null===(p=window)||void 0===p?void 0:null===(g=p.__QUICK_PLAYER)||void 0===g?void 0:g.player),ee.YY.setPlayerReuseAble(ei.v.Discover,null===(x=window)||void 0===x?void 0:null===(C=x.__QUICK_PLAYER)||void 0===C?void 0:null===(w=C.awemeInfo)||void 0===w?void 0:w.awemeId);else if((null===(a=window)||void 0===a?void 0:null===(o=a.__JX_BIG_CARD_QUICK_PLAYER)||void 0===o?void 0:o.player)&&(null===(s=window)||void 0===s?void 0:null===(d=s.__JX_BIG_CARD_QUICK_PLAYER)||void 0===d?void 0:d.mountType)==="modal"){let e=null===(I=window)||void 0===I?void 0:null===(b=I.__JX_BIG_CARD_QUICK_PLAYER)||void 0===b?void 0:b.awemeInfo;e.isTopCard=!0,!window.__QUICK_PLAYER&&(window.__QUICK_PLAYER={}),window.__QUICK_PLAYER.pageName="jingxuan",window.__QUICK_PLAYER.player=null===(L=window)||void 0===L?void 0:null===(y=L.__JX_BIG_CARD_QUICK_PLAYER)||void 0===y?void 0:y.player,window.__QUICK_PLAYER.playerId=null===(T=window)||void 0===T?void 0:null===(j=T.__JX_BIG_CARD_QUICK_PLAYER)||void 0===j?void 0:j.playerId,window.__QUICK_PLAYER.awemeInfo=e,window.__QUICK_PLAYER.destroyQuickPlayerDom=()=>{var e,i,l,t;null===(e=window.__QUICK_PLAYER)||void 0===e||delete e.player,null===(t=window)||void 0===t||null===(l=t.__JX_BIG_CARD_QUICK_PLAYER)||void 0===l||null===(i=l.destroyQuickPlayerDom)||void 0===i||i.call(l)},P(e),eo(e),ee.YY.setReusePlayer(ei.v.Discover,null===(E=window)||void 0===E?void 0:null===(S=E.__QUICK_PLAYER)||void 0===S?void 0:null===(k=S.awemeInfo)||void 0===k?void 0:k.awemeId,null===(R=window)||void 0===R?void 0:null===(N=R.__QUICK_PLAYER)||void 0===N?void 0:N.player),ee.YY.setPlayerReuseAble(ei.v.Discover,null===(D=window)||void 0===D?void 0:null===(M=D.__QUICK_PLAYER)||void 0===M?void 0:null===(A=M.awemeInfo)||void 0===A?void 0:A.awemeId),null===(F=window)||void 0===F||null===(B=F.removeBigCardQuickPlayerCrossVolume)||void 0===B||B.call(F)}else null===(O=window)||void 0===O||delete O.__QUICK_PLAYER},[]),(0,n.useEffect)(()=>{let{url:e,query:i}=h.parseUrl(location.href);(null==i?void 0:i.modal_id)&&eV(e=>(0,_._)((0,f._)({},e),{targetGid:null==i?void 0:i.modal_id,ready:!0}))},[]);let[eO,eV]=(0,n.useState)({ready:!1,awemeList:[],targetGid:""}),eU=(0,n.useRef)(""),eH=(0,n.useMemo)(()=>{var e,i;return X.WB.setDelay((null==eL?void 0:null===(e=eL.jingxuanModalOpt)||void 0===e?void 0:e.triggerTime)||2e3),{action:V.MainHoverPreloadAction.hover,cache:V.MainHoverPreloadCache.off,cacheTime:0,count:(null==eL?void 0:null===(i=eL.jingxuanModalOpt)||void 0===i?void 0:i.preloadCount)||8}},[eL]);(0,n.useEffect)(()=>{(null==eH?void 0:eH.cache)===V.MainHoverPreloadCache.on&&ec.Z.setCacheTime(null==eH?void 0:eH.cacheTime)},[eH]),(0,n.useEffect)(()=>{var e,i,l,t,n;eU.current=null==er?void 0:er.awemeId,er&&(null===(l=window)||void 0===l?void 0:null===(i=l.__JX_BIG_CARD_QUICK_PLAYER)||void 0===i?void 0:null===(e=i.awemeInfo)||void 0===e?void 0:e.awemeId)!==(null==er?void 0:er.awemeId)&&(null===(t=(n=window).disabledBigCardQuickPlayer)||void 0===t||t.call(n,"pause"))},[er]);let eJ=(0,n.useMemo)(()=>{let e=[],i=!1;if((null==eH?void 0:eH.action)===V.MainHoverPreloadAction.hover||(null==eH?void 0:eH.action)===V.MainHoverPreloadAction.click){var l;let t=!1;(null==eL?void 0:null===(l=eL.jingxuanModalOpt)||void 0===l?void 0:l.logicOptimize)&&(t=!!(null==er?void 0:er.awemeId)),e=(null==er?void 0:er.awemeId)===(null==eO?void 0:eO.targetGid)?eO.awemeList:[],i=(null==er?void 0:er.awemeId)===(null==eO?void 0:eO.targetGid)?eO.ready:t}else i=!0;return{preloadAwemeList:e,preloadReady:i}},[eH,eO,null==er?void 0:er.awemeId,eL]),eW=(0,n.useCallback)(async(e,i,l)=>{var t;if(null===(t=ex.find(e=>e.key===eb))||void 0===t?void 0:t.is_active_tab)return;let n=(null==eH?void 0:eH.cache)===V.MainHoverPreloadCache.on;if((null==eH?void 0:eH.action)===i){if(n){let i=ec.Z.getCache(e);if(i){!i.loading&&eV({ready:!0,awemeList:null==i?void 0:i.value,targetGid:e});return}}let i={targetGid:e,tagId:"0"===eb?"":eb,onRequestBefore:()=>{var i;(null==eL?void 0:null===(i=eL.jingxuanModalOpt)||void 0===i?void 0:i.logicOptimize)&&eV({ready:!1,awemeList:[],targetGid:e}),n&&ec.Z.setCacheLaoading(e)},callback:i=>{var l;n&&ec.Z.setCache(e,i),(null!=eL&&null!==(l=eL.jingxuanModalOpt)&&void 0!==l&&l.logicOptimize&&!eU.current||eU.current===e)&&eV({ready:!0,awemeList:i,targetGid:e})},useV2:1,count:(null==eH?void 0:eH.count)||8};l?null===X.WB||void 0===X.WB||X.WB.enter({params:i,fetcherOptions:{hoverDelay:!1}}):null===X.ky||void 0===X.ky||(0,X.ky)(i)}},[eH,eb,eL]),eZ=(0,n.useCallback)(()=>{(null==eH?void 0:eH.action)===V.MainHoverPreloadAction.hover&&(null===X.WB||void 0===X.WB||X.WB.leave())},[X.WB,eH]),e$=(0,n.useCallback)(e=>{var i;if(null==eL?void 0:null===(i=eL.jingxuanModalOpt)||void 0===i?void 0:i.logicOptimize){null==eW||eW(e,V.MainHoverPreloadAction.click,!1);return}if((null==eH?void 0:eH.action)===V.MainHoverPreloadAction.hover){let i=(null==eH?void 0:eH.cache)===V.MainHoverPreloadCache.on?ec.Z.getCache(e):null;i?!i.loading&&eV({awemeList:null==i?void 0:i.value,targetGid:e,ready:!0}):(null===X.WB||void 0===X.WB||X.WB.leave(),eV(i=>(0,_._)((0,f._)({},i),{targetGid:e,ready:!0})))}null==eW||eW(e,V.MainHoverPreloadAction.click,!1)},[eW,eH,eL]),eG=(0,n.useCallback)(e=>{e$(e)},[e$]),eq=(0,n.useCallback)(async()=>{if(E){var e;let i=el.e.getPipWindow({scene:B.d.ListenVideo});null==i||null===(e=i.close)||void 0===e||e.call(i)}eh(!0)},[E]),{subTags:eX,subTagInfoRef:eK,currentSubTag:eQ,preloadTagOnHover:e0,onSubTagClick:e1,getSubTabKey:e2,refReloadSubTab:e3}=function(e){let{selectedTab:i,defaultSubTags:l,setHomeFetchData:t}=e,[r,o]=(0,n.useState)(l2(null==l?void 0:l[l1])),[a,d]=(0,n.useState)(i===l1&&(null==r?void 0:r.length)?r:[]),[s,u]=(0,n.useState)(a[0]),[c,v]=(0,n.useState)(0),m=(0,n.useRef)({courseTagIdStr:"[0,0,0]"});m.current.courseTagIdStr=l3(s),(0,n.useEffect)(()=>{let e=i===l1&&(null==r?void 0:r.length)?r:[];d(e),u(e[0])},[i,r]),(0,n.useEffect)(()=>{if(null==r?void 0:r.length){(0,X.mk)(r.map(l3));return}let e=!1;return(0,e_.W)({tabId:"screen_course_page"}).then(i=>{if(!e&&0===i.statusCode){let e=l2(i.tagList);o(e),e.length&&(0,X.mk)(e.map(l3)),J.Le.setConfig(J.gI.JxCourseFilterList,i.tagList.map(e=>e.tagTitle).join(","))}}),()=>{e=!0}},[]);let f=(0,O.d)(()=>{t(void 0),u(a[0]),v(0)});{let e=null==l?void 0:l[l1];e&&!J.Le.getConfig(J.gI.JxCourseFilterList)&&J.Le.setConfig(J.gI.JxCourseFilterList,e.map(e=>e.tagTitle).join(","))}return{subTags:a,subTagInfoRef:m,currentSubTag:s,onSubTagClick:(e,i)=>{t(void 0),(null==s?void 0:s.tagId)===e.tagId?v(Math.floor(1e4*Math.random())):(u(e),v(0)),i===l1&&lM.sendLog("discoverCourserFilterListClick",{filter_list:J.Le.getConfig(J.gI.JxCourseFilterList)||"",filter_name:e.tagTitle,sub_tab_name:"course",enter_method:"other",enter_from:"discover"})},preloadTagOnHover:(e,i)=>{if(i===l1){var l,t;if(e.tagTitle===(null==s?void 0:s.tagTitle))return;let i=l3(e),n=null===(l=(0,X.oZ)(i))||void 0===l?void 0:l.predictor;null==n||null===(t=n.enter)||void 0===t||t.call(n,{params:{tabId:"screen_course_page",offset:0,size:6,tagIdList:i,idList:""},fetcherOptions:{expired:36e5,resetExpiredCacheBefore:!1,hoverDelay:!0}})}},refReloadSubTab:f,getSubTabKey:e=>{if(e===l1)return`${m.current.courseTagIdStr}-${c}`}}}({selectedTab:eb,defaultSubTags:b,setHomeFetchData:L}),[e7,e5]=(0,n.useState)(new Map().set(eb,{timeStamp:Date.now(),key:`tabPanelCt-${eb}-1`})),e6=(0,n.useCallback)(e=>{if(null==g||g(e),eR.updateTabInfo(e),eR.onReload(),e===eY._D[eY.JY.Course]){var i;null===(i=e3.current)||void 0===i||i.call(e3)}e5(i=>{let l=new Map;return Array.from(i.entries()).forEach(i=>{let[t,n]=i;l.set(t,t===e?{timeStamp:Date.now(),key:`tabPanelCt-${t}-${n.key.endsWith("1")?"0":"1"}`}:n)}),l})},[]);(0,F.o)(()=>W.listen(W.EVENT.refreshPage,()=>{e6(eb)}),[e6,eb]);let e4=(0,C.u)(),e8=(0,n.useCallback)(e=>{var i,l,t,n,o;null==m||m(e),null==r||r();let a=(null===(i=ex.find(i=>i.key===e))||void 0===i?void 0:i.is_active_tab)?e:null!==(l=eY.z0[Number(e)])&&void 0!==l?l:"all";e4("all"===a?"/jingxuan":`/jingxuan/${a}`),null==eT||eT(e),eR.onTabChange(e);let d=new Map;Array.from(e7.entries()).forEach(e=>{let[i,l]=e;d.set(i,l)});let s=d.get(eb);d.set(eb,{timeStamp:Date.now(),key:null!==(t=null==s?void 0:s.key)&&void 0!==t?t:`tabPanelCt-${eb}-1`});let u=d.get(e),c="300205"===e&&eB;(!u||c||u.timeStamp+3e5<Date.now())&&(d.set(e,{timeStamp:Date.now(),key:`tabPanelCt-${e}-${(null==u?void 0:null===(o=u.key)||void 0===o?void 0:null===(n=o.endsWith)||void 0===n?void 0:n.call(o,"1"))?"0":"1"}`}),null==r||r()),e5(d)},[r,eT,eB,e7,eb]),e9=(0,n.useCallback)(e=>{e===eb&&(lM.sendLog("clickDiscoverTabReload",{tab_name:eb||"0"}),null==T||T(eb),null==k||k(),e6(eb))},[eb,e6]),ie=(0,O.d)(e8);(0,a.w)(()=>{(0,Z.Nr)(location.pathname)||0===Number(eI.current)||ie.current("0")},[]);let ii=(0,n.useCallback)(()=>{null==I||I()},[I]);(0,n.useEffect)(()=>{var e,i;let l=e=>{var i,l,t,n,r,o,a,d,s,u;let{target:c}=e;if(!c||(null===(l=c.classList)||void 0===l?void 0:null===(i=l.contains)||void 0===i?void 0:i.call(l,"semi-tabs-tab-active")))return;let v=null==c?void 0:null===(n=c.dataset)||void 0===n?void 0:null===(t=n.tabkey)||void 0===t?void 0:t.slice(7);if(!v||Date.now()-(null!==(a=null===(r=e7.get(v))||void 0===r?void 0:r.timeStamp)&&void 0!==a?a:0)<=3e5)return;if(v===eY._D[eY.JY.Course]){let e=null===(d=(0,X.oZ)("[0,0,0]"))||void 0===d?void 0:d.predictor;null==e||null===(s=e.enter)||void 0===s||s.call(e,{params:{tabId:"screen_course_page",offset:0,size:6,tagIdList:"[0,0,0]",idList:""},fetcherOptions:{expired:36e5,resetExpiredCacheBefore:!1,hoverDelay:!0}});return}let{predictor:m}=null!==(u=(0,X.Z1)(v))&&void 0!==u?u:{};if(v===eI.current||!m)return;let f=null===(o=ex.find(e=>e.key===v))||void 0===o?void 0:o.is_active_tab;m.enter({params:{useV2:1,liteType:1,tagId:v,activeId:f?v:"",isActiveTab:f,pullType:eD.current&&"0"===v?8:void 0},fetcherOptions:{expired:3e4,resetExpiredCacheBefore:!1,hoverDelay:!0}})},t=[];return null===(i=document.querySelectorAll(".discover-tab-bar .semi-tabs-tab-top.semi-tabs-tab-single"))||void 0===i||null===(e=i.forEach)||void 0===e||e.call(i,e=>{e.addEventListener("mouseenter",l),t.push(()=>{e.removeEventListener("mouseenter",l)})}),()=>{t.forEach(e=>null==e?void 0:e()),t=[]}},[ex,e7,eL]);let il=(0,C.a)(),it=(0,u.e2)(il.pathname)&&!(0,Z.Nr)(il.pathname),ir=(0,O.d)(e=>{W.emit(W.EVENT.triggerModalPlayerClose),W.emit(W.EVENT.closeImConversation),eo(e),J.Le.setConfig(J.gI.ModalStartOpenTime,Date.now()),e$(null==e?void 0:e.awemeId)});(0,l0.x)(!er,ir,!0),(0,n.useEffect)(()=>{var e;let i=document.querySelector(".discover-tab-container.semi-tabs.semi-tabs-top"),l=document.querySelector(".discover-tab-bar.semi-tabs-bar.semi-tabs-bar-line.semi-tabs-bar-top");ep.current=l,eC(i);let t=setTimeout(()=>{var e,i;null==eg||null===(i=eg.current)||void 0===i||null===(e=i.updateButtonStatus)||void 0===e||e.call(i)},200),n=e=>{var i,l;null==e||e.stopPropagation(),null==eg||null===(l=eg.current)||void 0===l||null===(i=l.updateButtonStatus)||void 0===i||i.call(l)};return null==l||null===(e=l.addEventListener)||void 0===e||e.call(l,"scroll",n),()=>{var e;null==l||null===(e=l.removeEventListener)||void 0===e||e.call(l,"scroll",n),clearTimeout(t)}},[ex]),(0,n.useEffect)(()=>{try{var e,i,l;if((0,$.I)())return;let t=(null==y?void 0:y.redisVersion)?"normal":"";(null==y?void 0:y.redisMode)==="replace"&&(t="replace"),lM.sendLog("firstScreenCount",{tab_name:(0,Q.zD)(),pathname:location.pathname,scene:t,count:null!==(i=null==y?void 0:null===(e=y.awemeList)||void 0===e?void 0:e.length)&&void 0!==i?i:-1,log_id:null!==(l=null==y?void 0:y.logId)&&void 0!==l?l:""})}catch(e){}},[]);let io=(0,n.useMemo)(()=>{if(eb===eY._D[eY.JY.Course])return tr},[eb]),ia=(0,et.U)(),id=(0,n.useMemo)(()=>{var e;return(0,f._)({enter_from:"discover",enter_from_merge:"discover",cover_group_id:eN,from_group_id:eN,api_path:G.API_PATH_MODULE_FEED,live_log_params:(0,_._)((0,f._)({},ev||{}),{enter_from_merge:"web_homepage_discover",enter_method:"web_live_cell",cover_group_id:eN,from_group_id:eN,api_path:G.API_PATH_MODULE_FEED}),if_first_big_card:!1,sub_tab_name:null!==(e=eY.z0[eb])&&void 0!==e?e:eb,filter_name:eb===eY._D[eY.JY.Course]&&(null==eQ?void 0:eQ.tagTitle)||"",is_first_large_card_outflow:(null==er?void 0:er.isBigCard)?"1":"0"},j?{enter_method:"default_landing"}:{})},[eN,null==eQ?void 0:eQ.tagTitle,j,ev,null==er?void 0:er.isBigCard,eb]);return(0,n.useEffect)(()=>{eR.updateTabInfo(null!=eb?eb:"")},[eb]),(0,n.useEffect)(()=>{var e;eR.updateLogInfo({sub_tab_name:null!==(e=eY.z0[eb])&&void 0!==e?e:eb,filter_name:eb===eY._D[eY.JY.Course]&&(null==eQ?void 0:eQ.tagTitle)||""})},[eb,null==eQ?void 0:eQ.tagTitle]),(0,t.jsx)(H.k,{componentName:"FeedList",onError:ii,children:(0,t.jsxs)(A,{children:[(0,t.jsx)(x.Tabs,{keepDOM:!0,type:"line",lazyRender:!0,activeKey:eb,onChange:e8,onTabClick:(e,i)=>{var l,t,n;if("keydown"===i.type&&"Space"===i.code)return;e9(e);let r=null==ex?void 0:null===(l=ex.findIndex)||void 0===l?void 0:l.call(ex,i=>i.key===e);null==eg||null===(n=eg.current)||void 0===n||null===(t=n.onItemClick)||void 0===t||t.call(n,i,r)},className:p()("discover-tab-container",eu.tabs,{cover16To9Container:!!(null==eL?void 0:eL.jingxuanCover169),notCover16To9Container:!(null==eL?void 0:eL.jingxuanCover169),maxColumn4:(null==eL?void 0:eL.jingxuanCover169)===V.JingxuanCover169.V1||(null==eL?void 0:eL.jingxuanCover169)===V.JingxuanCover169.V2,maxColumn5:(null==eL?void 0:eL.jingxuanCover169)===V.JingxuanCover169.V3||(null==eL?void 0:eL.jingxuanCover169)===V.JingxuanCover169.V4||(null==eL?void 0:eL.jingxuanCover169)===V.JingxuanCover169.V5,maxColumn6:!(null==eL?void 0:eL.jingxuanCover169),jxThemeColorOptimize:!!(null==eL?void 0:eL.themeColorOptimize),[eu.jxThemeColor]:!!(null==eL?void 0:eL.themeColorOptimize)}),tabBarClassName:p()("discover-tab-bar",eu.discoverTabBar,eu.hasTabExpand,{[eu.hasSubList]:eX.length>0}),tabPaneMotion:!1,children:null==ex?void 0:ex.map(e=>{var i;return(0,t.jsx)(x.TabPane,{tab:e.label,itemKey:e.key,children:(0,t.jsx)(K.O,{active:e.key===eb&&it,className:eu.tabPanelCt,children:eS&&!eE&&"300205"===eb?(0,t.jsx)(ea,{islandMode:"load",disableTDK:!0,className:eu.topicPage}):(0,t.jsxs)(t.Fragment,{children:[eX.length>0&&(0,t.jsx)("div",{className:p()(eu.subTabStickyContainer),children:eX.map(i=>(0,t.jsx)("div",{className:p()(eu.subTag,{[eu.active]:i.tagId===(null==eQ?void 0:eQ.tagId)}),onClick:()=>{e1(i,e.key)},onMouseEnter:()=>{if(i.tagId!==(null==eQ?void 0:eQ.tagId))e0(i,e.key)},children:i.tagTitle},i.tagId))}),eP&&(0,t.jsx)("div",{className:p()(eu.loadingContainer,{[eu.hidden]:!eA}),children:(0,t.jsx)(z.gb,{})}),(0,t.jsx)(lq,{tab:e,isTabActive:ia&&eb===e.key,appendPlayerConfig:e.key===eY._D[eY.JY.Course]?tr:void 0,className:p()({[eu.waterfallPageWithSubTab]:eX.length>0}),subTagInfoRef:eK,filterName:e.key===eY._D[eY.JY.Course]?null==eQ?void 0:eQ.tagTitle:void 0,abTestData:eL,request:l,resetRefreshIndex:r,selectedTab:e.key,modalAwemeInfo:er,setModalAwemeInfo:eo,setDefaultModalAwemeInfo:P,setLogParams:em,perfLogFunctions:eR,country:c,preloadModuleFeed:eW,onVideoCardClick:eG,onVideoCardMouseLeave:eZ,onClickPipIcon:eq,setShowReplaceLoading:eM,showReplaceLoading:eA},e2(e.key))]})},null===(i=e7.get(e.key))||void 0===i?void 0:i.key)},`panelKey_${e.key}`)})}),(0,t.jsx)(M.SV,{Slardar:ed.oe,children:(0,t.jsx)(n.Suspense,{fallback:null,children:ew?(0,w.createPortal)((0,t.jsx)(tn,{ref:eg,className:eu.switchBtn,scrollRef:ep}),ew):null})}),er&&(0,t.jsx)(Y.default,{appendPlayerConfig:io,preloadReady:eJ.preloadReady||R,preloadAwemeList:eJ.preloadAwemeList,isUseChannelFeed:!1,modalAwemeInfo:er,userContext:ey,abtestData:eL,modalEnterFrom:U.a.WaterFall,close:()=>{W.emit(W.EVENT.UpdateJxOuterProgress,{awemeId:null==er?void 0:er.awemeId}),R&&P(null),eo(null),ee.YY.clearAllReusePlayer(),((null==eH?void 0:eH.action)===V.MainHoverPreloadAction.click||(null==eH?void 0:eH.action)===V.MainHoverPreloadAction.hover)&&eV({ready:!1,targetGid:"",awemeList:[]})},anyHooks:e=>{var i;let l="0"===eb?"":eb,t=l===eY._D[eY.JY.Course];t&&(l=eY._D[eY.JY.Knowledge]);let n=null===(i=ex.find(e=>e.key===eb))||void 0===i?void 0:i.is_active_tab;return(0,es.b)((0,_._)((0,f._)({},e),{tagId:l,isActiveTab:n,isCourseTab:t}))},scene:"waterFall",reuseConfig:{scene:ei.v.Discover,reuseId:null==er?void 0:er.awemeId,autoCreate:!1,keepPlayer:null==er?void 0:er.isTopCard},logParams:id,hideModalWhenPip:!0,hideModalByPipInitial:ef,setHideModalByPipInitial:eh,autoOpenPip:!0})]})})});l("302653");let ta=e=>{var i;let l=(0,lZ._)(),t=!!(e&&(null==e?void 0:null===(i=e.awemeList)||void 0===i?void 0:i.length)),r=(0,n.useRef)(t?1:0),o=(0,n.useCallback)(async(e,i)=>{r.current+=1;let t=X.MX;if(null==i?void 0:i.tagId){var n,o;t=null!==(o=null===(n=(0,X.Z1)(i.tagId))||void 0===n?void 0:n.fetcher)&&void 0!==o?o:X.MX}return await t.request({cached:e,consume:!0,params:(0,f._)({useV2:1,refreshIndex:r.current,discoverTaskOptimize:null==l?void 0:l.discoverTaskOptimize},i),fetcherOptions:{resetExpiredCacheBefore:!1,hoverDelay:!0}})},[l]);return{request:o,resetRefreshIndex:(0,n.useCallback)(()=>{r.current=0},[])}};var td={containerWrapper:"_kAB1Uz4",videoListContainer:"_Huh4h8J",channelTabs:"J8VqcEvn",cardWrapper:"uudlPMPX"};let ts=4/3;var tu=e=>{let{videoList:i}=e;return(0,t.jsx)(x.List,{grid:{gutter:20,span:12,lg:{span:8},xl:{span:6},xxl:{span:4}},dataSource:i,renderItem:(e,i)=>{var l,n,r;return(0,t.jsx)(x.List.Item,{children:(0,t.jsx)(lT.Z,{url:e.awemeType===eB.e.Note?(0,lC.Wr)(e.awemeId):(0,lC.JF)(e.awemeId),awemeInfo:e,description:e.desc,imgUrl:e.video.cover,userName:e.authorInfo.nickname,userHrefTarget:"_self",likesCount:(0,ll.qe)(e.stats.diggCount),videoTime:(0,ll.$y)(e.video.duration),width:e.video.width,height:e.video.height,userHref:(0,lC.HC)(null==e?void 0:null===(l=e.authorInfo)||void 0===l?void 0:l.secUid),showIntegrationTag:!1,willJump:!0,showImageInSSR:!0,isSpider:!0,isHorizontal:(null==e?void 0:null===(n=e.video)||void 0===n?void 0:n.width)>(null==e?void 0:null===(r=e.video)||void 0===r?void 0:r.height),fakeHorizontalInfo:null==e?void 0:e.fakeHorizontalInfo,isShowCreateTime:!0,videoImageStyle:{paddingTop:`${1/ts*100}%`},previewUrlList:[],style:{width:"100%"},useStyleInUserLink:!0},i)})}})},tc={container:"BsipbtF1",progressWrap:"DQrNr1gM",blur:"GcuENFWI",leftWrap:"AEruwqcu",rightWrap:"ZzoZfzdH",textCtl:"FjYSn821",ctlBtn:"rpDiVikl",playBtn:"gY6vHCX2",textWrap:"Gf9LsSXS",nickName:"eNZhohZD",title:"l7zzV7xD",infoWrap:"Q2thCSho",interaction:"dhcEkpj3"};let tv=e=>{let{text:i,count:l}=e;return(0,t.jsxs)("div",{className:tc.interaction,children:[(0,t.jsx)("span",{className:tc.interactType,children:i}),(0,t.jsx)("span",{className:tc.interactNum,children:l})]})},tm=e=>{let{children:i}=e;return(0,t.jsx)("div",{className:tc.ctlBtn,children:i})};var tf=e=>{var i,l,n;let{videoInfo:r}=e;return(0,t.jsxs)("div",{className:tc.container,children:[(0,t.jsx)("video",{poster:null==r?void 0:null===(i=r.video)||void 0===i?void 0:i.cover}),(0,t.jsxs)("div",{className:tc.textWrap,children:[(0,t.jsxs)("div",{className:tc.nickName,children:[(0,t.jsx)("a",{target:"_blank",href:(0,lC.HC)(null==r?void 0:null===(l=r.authorInfo)||void 0===l?void 0:l.secUid),rel:"noreferrer nofollow",children:null==r?void 0:null===(n=r.authorInfo)||void 0===n?void 0:n.nickname}),(0,t.jsx)("span",{children:(0,ll.YW)((null==r?void 0:r.createTime)*1e3)})]}),(0,t.jsx)("a",{className:tc.title,target:"_blank",href:(0,lC.$N)(null==r?void 0:r.awemeId),rel:"noreferrer nofollow",children:null==r?void 0:r.desc})]}),(0,t.jsxs)("div",{className:tc.progressWrap,children:[(0,t.jsxs)("div",{className:tc.leftWrap,children:[(0,t.jsx)(tm,{children:(0,t.jsx)("span",{className:tc.playBtn})}),(0,t.jsx)(tm,{children:(0,t.jsxs)("span",{className:tc.textCtl,children:["00:00 / ",(0,ll.$y)(null==r?void 0:r.video.duration)]})})]}),(0,t.jsxs)("div",{className:tc.rightWrap,children:[(0,t.jsx)(tm,{children:(0,t.jsx)("span",{className:tc.textCtl,children:"连播"})}),(0,t.jsx)(tm,{children:(0,t.jsx)("span",{className:tc.textCtl,children:"清屏"})}),(0,t.jsx)(tm,{children:(0,t.jsx)("span",{className:tc.textCtl,children:"智能"})}),(0,t.jsx)(tm,{children:(0,t.jsx)("span",{className:tc.textCtl,children:"倍速"})})]})]}),(0,t.jsx)("div",{className:tc.infoWrap,children:(0,t.jsx)(tv,{text:"点赞",count:(0,ll.qe)(null==r?void 0:r.stats.diggCount)})})]})};let t_=e=>{let{homeSeoDataResult:i,tabs:l,defaultTagId:n,modalVideoDetail:r}=e,{selectedTab:o}=te(l,n);return i?(0,t.jsxs)("div",{className:td.containerWrapper,children:[r&&(0,t.jsx)("div",{className:td.cardWrapper,children:(0,t.jsx)(tf,{videoInfo:r})}),(0,t.jsx)(l9,{tabList:l,className:td.channelTabs,activeKey:o,isSpider:!0}),(0,t.jsx)("div",{className:td.videoListContainer,children:(0,t.jsx)(tu,{videoList:null==i?void 0:i.videoList})})]}):null};l("338172");var th=l("439837"),tg=l.n(th),tp=l("901747"),tw=l("85084"),tC=l("95349"),tx=l("293211");let tb=e=>{switch(e){case eY.JY.Game:return{title:"抖音游戏_游戏解说_游戏视频推荐_游戏攻略 - 抖音精选电脑版",keyword:"抖音游戏,游戏解说,游戏推荐,游戏攻略",description:"涵盖游戏视频、游戏攻略、游戏解说、游戏推荐等海量优质视频内容，系列合集内容连续看，有用又有趣，无论是休闲解压、消遣下饭，还是发现爱好、获取知识，你想要的好内容，都在抖音精选。"};case eY.JY.Acg:return{title:"抖音二次元_二次元视频大全 - 抖音精选电脑版",keyword:"抖音二次元,二次元视频大全",description:"涵盖二次元视频等海量优质视频内容，系列合集内容连续看，有用又有趣，无论是休闲解压、消遣下饭，还是发现爱好、获取知识，你想要的好内容，都在抖音精选。"};case eY.JY.Music:return{title:"抖音音乐_抖音神曲_抖音热门歌曲 - 抖音精选电脑版",keyword:"抖音音乐,抖音神曲,抖音热门歌曲",description:"涵盖抖音音乐、抖音神曲、抖音热门歌曲等海量优质视频内容，系列合集内容连续看，有用又有趣，无论是休闲解压、消遣下饭，还是发现爱好、获取知识，你想要的好内容，都在抖音精选。"};case eY.JY.Food:return{title:"抖音美食_抖音美食推荐 - 抖音精选电脑版",keyword:"抖音美食,抖音美食推荐",description:"涵盖抖音美食等海量优质视频内容，系列合集内容连续看，有用又有趣，无论是休闲解压、消遣下饭，还是发现爱好、获取知识，你想要的好内容，都在抖音精选。"};case eY.JY.Knowledge:return{title:"抖音知识 - 抖音精选电脑版",keyword:"抖音知识",description:"涵盖抖音知识等海量优质视频内容，系列合集内容连续看，有用又有趣，无论是休闲解压、消遣下饭，还是发现爱好、获取知识，你想要的好内容，都在抖音精选。"};case eY.JY.Sports:return{title:"抖音体育 - 抖音精选电脑版",keyword:"抖音体育",description:"涵盖抖音体育等海量优质视频内容，系列合集内容连续看，有用又有趣，无论是休闲解压、消遣下饭，还是发现爱好、获取知识，你想要的好内容，都在抖音精选。"};default:return{title:"抖音精选电脑版 - 抖音旗下优质视频平台",keyword:"抖音精选,抖音精选电脑版,抖音精选网页版",description:"海量优质视频内容，涵盖游戏、二次元、美食、音乐、知识、体育运动、旅行、生活等各类题材，系列合集内容连续看，有用又有趣，无论是休闲解压、消遣下饭，还是发现爱好、获取知识，你想要的好内容，都在抖音精选。"}}},tI=e=>{let i=e?tg()(e):tg()(),l=i.hour(7).minute(52).second(22),t=l,n=l;l.isAfter(i)&&(t=l.subtract(1,"day"),n=l.subtract(1,"day"));let r=t.format("YYYY-MM-DDTHH:mm:ssZ[Z]")||"";return[r,n.format("YYYY-MM-DDTHH:mm:ssZ[Z]")||""]},ty=e=>{let{modalVideoDetail:i,subPage:l="",videoList:n=[]}=e,r=(0,tp.Yr)(),o="",a="",d="",s="",u="";if(i){let{desc:e,authorInfo:l,createTime:t=Date.now()/1e3,textExtra:n,seoInfo:r,awemeId:a}=i;o=`https://www.douyin.com/jingxuan?modal_id=${a}`;let{nickname:c,totalFavorited:v=0}=l||{},m=tg()(1e3*t).format("YYYYMMDD")||"",f=(0,ll.qe)(v),{title:_,keywords:h,description:g}=(0,tx.xB)({desc:e,nickname:c,createTimeStr:m,likeCount:f,textExtra:n,ocrContent:(null==r?void 0:r.ocrContent)||""});d=_,s=h,u=g}else{var c;let{title:e,keyword:i,description:t}=tb(l);d=e,s=i,u=t;let r=l?`/jingxuan/${l}`:"/jingxuan";o=`https://www.douyin.com${r}`;let[v,m]=tI(J.Le.getConfig(J.gI.ServerTime)),f=JSON.stringify((null==n?void 0:null===(c=n.slice(0,3))||void 0===c?void 0:c.map(e=>{var i;let l=null==e?void 0:null===(i=e.video)||void 0===i?void 0:i.cover;return(null==l?void 0:l.startsWith("//"))?`https:${l}`:l}))||[]);a=`{
      "@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
      "@id": "${o}",
      "title": "${d}",
      "images": ${f},
      "description": "${u}",
      "pubDate": "${v}",
      "upDate": "${m}"
    }`}return(0,F.o)(()=>{(0,tw.J)({title:d,description:u,keywords:s})},[]),(0,t.jsxs)(tC.Z,{videoDetail:i,children:[(0,t.jsx)("title",{children:d}),(0,t.jsx)("meta",{name:"description",content:u}),(0,t.jsx)("meta",{name:"keywords",content:s}),(0,t.jsx)("link",{rel:"canonical",href:o}),a&&(0,t.jsx)("script",{type:"application/ld+json",nonce:r,children:a})]})};var tL=l("939965"),tj=l("766619");let tT={next_real_cnt:1,scene:1,report_rate:.8,range:0,enter_from:"discover",predict:{video:{enable:1},waterfall:{enable:1},comment:{enable:1}},real:{video:{enable:1},waterfall:{enable:1},comment:{enable:1}}},tk=e=>{(0,n.useEffect)(()=>{var i;return null===(i=(0,tL.lZ)())||void 0===i||i.registerScene(tj.P.HOME_PAGE_PRELOAD,(0,_._)((0,f._)({},tT),{abTestData:e,enableInference:!0})),()=>{var e;null===(e=(0,tL.lZ)())||void 0===e||e.unregisterScene(tj.P.HOME_PAGE_PRELOAD)}},[])};var tS=l("49279"),tE=l("857741"),tN=l("55052");let tR=()=>{(0,F.o)(()=>{let e=J.Le.getConfig(J.gI.JingXuanVisitId);return!e&&(J.Le.setConfig(J.gI.JingXuanVisitId,String(Date.now())),e=J.Le.getConfig(J.gI.JingXuanVisitId)),()=>{J.Le.setConfig(J.gI.JingXuanVisitId,""),lM.sendLog("discoverClose",{visit_id:e||"",close_method:"change_tab",to_page:""})}},[]),(0,F.o)(()=>((0,tN.vP)({key:"jingxuan_visit",event:(e,i,l)=>{if("page_unload"===l){let e=J.Le.getConfig(J.gI.JingXuanVisitId);lM.sendLog("discoverClose",{visit_id:e||"",close_method:"exit_douyin"},!1)}}}),()=>{(0,tN.xC)("jingxuan_visit")}),[])},tP=e=>{let{homeFetchData:i}=e;(0,n.useEffect)(()=>{var e;if(!!(null==i?void 0:i.redisVersion))J.Le.setConfig(J.gI.JingxuanCacheAwmeInfoIds,(null===(e=i.awemeList)||void 0===e?void 0:e.map(e=>e.awemeId))||[])},[i])};var tA=l("133359"),tM=(0,c.C)(function(e){let{defaultSubTags:i,homeSeoDataResult:l,homeFetchData:u,isSpider:c=(0,s._Q)(),discoverTab:f,tagId:_,landingPage:h}=e,g=(0,lZ._)()||{},p=(0,r.U)(),w=null==p?void 0:p.tag,C=(0,n.useRef)({}),x=(0,tE.J)({ssrDiscoverTab:f,ssrHomeFetchData:u,landingPage:h,ssrTagId:_}),b=(0,ez.useDiscoverCommonStore)(e=>{let{finalTabList:i,homeFetchData:l,setHomeFetchData:t,setIsDefaultLanding:n}=e;return{finalTabList:i,homeFetchData:l,setHomeFetchData:t,setIsDefaultLanding:n}}),{finalTabList:I,homeFetchData:y,setHomeFetchData:L,setIsDefaultLanding:j}=g.enableJingxuanZustand?b:x,[T,k]=(0,n.useState)(!1),S=(0,n.useMemo)(()=>{var e;return T&&I.find(e=>e.is_active_tab&&e.key===w)?w:(w&&!eY._D[w]&&history.replaceState({},"","/jingxuan"),w&&null!==(e=eY._D[w])&&void 0!==e?e:"0")},[w,T,I]),{country:E}=(0,ti.Iq)(e=>{let{country:i}=e;return{country:i}}),{request:N,resetRefreshIndex:R}=ta(y),{modalVideoDetail:P}=(0,m.K)(e=>{let{modalVideoDetail:i}=e;return{modalVideoDetail:i}}),A=(0,n.useCallback)(()=>{var e,i,l,t;window.jxHydrateReadyCb&&(null===(l=(t=window).jxHydrateReadyCb)||void 0===l||l.call(t)),null===(i=window)||void 0===i||null===(e=i.disabledBigCardQuickPlayer)||void 0===e||e.call(i,"pause")},[]);return(0,o.C)(d.w3.components.discover_page),tk(g),(0,v.$I)(),!function(){let{awemeFeed:e}=(0,tS.j)(),i=(0,n.useRef)(!1),l=(0,n.useRef)(!0);(0,F.o)(()=>{var e;if(l.current){l.current=!1;return}let i=null!==(e=J.Le.getConfig(J.gI.CachePage))&&void 0!==e?e:[];!(null==i?void 0:i.includes("/jingxuan"))&&J.Le.setConfig(J.gI.CachePage,[...i,"/jingxuan"])},[]),(0,n.useEffect)(()=>()=>{var e,i;let l=null!==(i=J.Le.getConfig(J.gI.CachePage))&&void 0!==i?i:[];J.Le.setConfig(J.gI.CachePage,null==l?void 0:null===(e=l.filter)||void 0===e?void 0:e.call(l,e=>"/jingxuan"===e))},[]),(0,n.useLayoutEffect)(()=>W.listen(W.EVENT.exitChildRoute,()=>{"/jingxuan"!==location.pathname&&i.current&&(i.current=!1,e.dispatch({modalAwemeInfo:null,nextAwemeInfo:null,prevAwemeInfo:null}))}),[])}(),tP({homeFetchData:y}),(0,tA.t)({landingMode:null==e?void 0:e.landingMode,landingReason:null==e?void 0:e.landingReason,isSelectPreferUser:null==e?void 0:e.isSelectPreferUser}),(0,n.useEffect)(()=>{try{var e;if(null===(e=location.href)||void 0===e?void 0:e.includes("pip")){let e=new URL(window.location.href);e.searchParams.delete("pip"),e.searchParams.delete("modal_id"),window.history.replaceState({},"",e)}}catch(e){}},[]),(0,a.w)(()=>{var e,i;null==j||j(!1),null==C||null===(i=C.current)||void 0===i||null===(e=i.setShowReplaceLoading)||void 0===e||e.call(i,!1),null==A||A()},[]),tR(),(0,t.jsxs)(tE.O.Provider,{value:x,children:[(0,t.jsx)(ty,{modalVideoDetail:P,subPage:w,videoList:c?null==l?void 0:l.videoList:null==y?void 0:y.awemeList}),c?(0,t.jsx)(t_,{modalVideoDetail:P,homeSeoDataResult:l,tabs:I,defaultTagId:S}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(to,{ref:C,defaultSubTags:i,abTestData:g,request:N,resetRefreshIndex:R,tabs:I,defaultTagId:S,country:E,quickPlayerReuseEffectCb:A,onChannelTabChange:e=>{var i,l,t,n;k(!0),y&&e!==_&&(null==L||L(void 0)),null==C||null===(l=C.current)||void 0===l||null===(i=l.setShowReplaceLoading)||void 0===i||i.call(l,!1),null==j||j(!1),null===(n=window)||void 0===n||null===(t=n.disabledBigCardQuickPlayer)||void 0===t||t.call(n,"pause")},onChannelTabReload:e=>{var i,l;null==L||L(void 0),null==j||j(!1),null===(l=window)||void 0===l||null===(i=l.disabledBigCardQuickPlayer)||void 0===i||i.call(l,"destroy")}})})]})},e=>(0,u.e2)(e),"Da2ISZXp")},857741:function(e,i,l){l.d(i,{J:function(){return w},O:function(){return g}});var t=l(520739),n=l(878389);l(874386),l(250440),l(675373);var r=l(88648),o=l(784492),a=l(811796),d=l(965071),s=l(30601),u=l(167951),c=l(725887),v=l(487330),m=l(607703),f=l(227260),_=l(66047),h=l(109539);let g=(0,r.createContext)({}),p=e=>(null==e?void 0:e.redisMode)==="replace"?"replace":(null==e?void 0:e.redisVersion)?"append":"",w=e=>{var i;let{ssrDiscoverTab:l,ssrHomeFetchData:g,landingPage:w,ssrTagId:C}=e||{},x=(0,r.useRef)(p(g)),b=(0,a.d)(),{userInfo:I}=(0,h.useUserInfoContext)(),{discoverFeedCardAdList:y=[],discoverActiveSubTabList:L=[]}=(0,v.Iq)(e=>{let{discoverFeedCardAdList:i,discoverActiveSubTabList:l}=e;return{discoverFeedCardAdList:i,discoverActiveSubTabList:l}}),{enableJingxuanZustand:j}=(0,_._)()||{},T=(0,f.useDiscoverCommonStore)(e=>e.setState),[k,S]=(0,r.useState)(l),[E,N]=(0,r.useState)("discover"===w),[R,P]=(0,r.useState)(L),A=(0,r.useRef)(),[M,D]=(0,r.useState)([]),[B,F]=(0,r.useState)(g),[O,V]=(0,r.useState)({}),U=O,H=(0,f.useDiscoverCommonStore)(e=>e.closedCardAdIdListMap);U=j?H:U;let Y=(0,r.useCallback)(e=>{A.current=e},[]),z=(0,r.useMemo)(()=>{var e;let i=(null==k?void 0:null===(e=k.filter)||void 0===e?void 0:e.call(k,e=>(null==e?!!void 0:!!e.is_active_tab)||m.mh.includes(e.key)))||[];return j&&T({finalTabList:i}),i},[k,j]),J=(0,r.useMemo)(()=>{var e,i;return(null==I?void 0:I.isLogin)?null==I?void 0:null===(e=I.info)||void 0===e?void 0:e.uid:null===(i=(0,u.Es)())||void 0===i?void 0:i.user_unique_id},[I]),W=(0,r.useMemo)(()=>(0,d.lE)({feedCardAdList:y,ctx:b})||{},[y,b]);(0,r.useMemo)(()=>{j&&T({activeSubTab:L,feedCardAdListMap:W,isDefaultLanding:"discover"===w,homeFetchData:g,feedCardAdList:y,ssrCtx:b,latestClickAwemeIdRef:A,pageMode:x.current})},[j]),(0,r.useMemo)(()=>{T({ssrTagId:C})},[C]);let[Z,$]=(0,r.useState)(W),G=Z,q=(0,f.useDiscoverCommonStore)(e=>e.feedCardAdListMap);G=j?q:G;let X=(0,r.useMemo)(()=>{let e={};for(let l of Object.keys(G||{})){var i;e[l]=(null===(i=G[l])||void 0===i?void 0:i.filter(e=>{var i,t;return!(null==U?void 0:null===(t=U[l])||void 0===t?void 0:null===(i=t.includes)||void 0===i?void 0:i.call(t,null==e?void 0:e.id))}))||[]}return j&&T({finalFeedCardAdListMap:e}),e},[G,U,j]),K=(0,r.useCallback)(async e=>{let i=await (0,d.to)(b),l=(0,d.lE)({feedCardAdList:i});e?$(i=>(0,n._)((0,t._)({},i),{[e]:(null==l?void 0:l[e])||[]})):$(l)},[]),Q=(0,f.useDiscoverCommonStore)(e=>e.updateFeedCardAdResourceList);K=j?Q:K,(0,r.useEffect)(()=>{!(null==l?void 0:l.length)&&(0,s.getChannelSetting)({},void 0).then(e=>{(null==e?void 0:e.status_code)===0&&S(null==e?void 0:e.config_info)})},[l]);let ee=(0,r.useCallback)(async()=>{(0,d.hz)(b).then(e=>{P(null!=e?e:[])})},[]);(0,r.useEffect)(()=>{!L.length&&(0,d.hz)(b).then(e=>{if(j){T({activeSubTab:null!=e?e:[]});return}P(null!=e?e:[])})},[L,j]),(0,o.Z)(()=>{(0,d.EN)({uidKey:J}),K()},[J]);let ei=null==z?void 0:null===(i=z.map(e=>null==e?void 0:e.key))||void 0===i?void 0:i.join();c.Le.setConfig(c.gI.DiscoverTabList,ei);let el=(0,r.useRef)({finalTabList:[],finalFeedCardAdListMap:{},activeSubTab:[],feedCardAdListMap:{},isDefaultLanding:!1,setIsDefaultLanding:()=>{},homeFetchData:void 0,setHomeFetchData:()=>{},feedCardAdList:[],setClosedCardAdIdListMap:()=>{},latestClickAwemeIdRef:void 0,updateLatestClickAwemeIdRef:()=>{},visibleLiveCards:[],setVisibleLiveCards:()=>{},updateFeedCardAdResourceList:()=>Promise.resolve(),updateSubTabLiveCardList:()=>Promise.resolve(),ssrTagId:"",pageMode:""});return j?el.current:{finalTabList:z,finalFeedCardAdListMap:X,activeSubTab:R,feedCardAdListMap:G,isDefaultLanding:E,setIsDefaultLanding:N,homeFetchData:B,setHomeFetchData:F,feedCardAdList:y,setClosedCardAdIdListMap:V,updateFeedCardAdResourceList:K,updateSubTabLiveCardList:ee,visibleLiveCards:M,setVisibleLiveCards:D,latestClickAwemeIdRef:A,updateLatestClickAwemeIdRef:Y,ssrTagId:C,pageMode:x.current}}},227260:function(e,i,l){l.r(i),l.d(i,{useDiscoverCommonContext:function(){return c},useDiscoverCommonStore:function(){return u}});var t=l(520739),n=l(878389),r=l(88648),o=l(965071),a=l(22502),d=l(76223),s=l(857741);let u=(0,a.fw)((e,i)=>({finalTabList:[],finalFeedCardAdListMap:{},activeSubTab:[],feedCardAdListMap:{},isDefaultLanding:!1,setIsDefaultLanding:i=>{e({isDefaultLanding:i})},homeFetchData:void 0,setHomeFetchData:i=>{e({homeFetchData:i})},feedCardAdList:[],visibleLiveCards:[],setVisibleLiveCards:i=>{e(e=>({visibleLiveCards:i(e.visibleLiveCards||[])}))},closedCardAdIdListMap:{},setClosedCardAdIdListMap:i=>{e(e=>({closedCardAdIdListMap:i(e.closedCardAdIdListMap||{})}))},latestClickAwemeIdRef:void 0,ssrTagId:"",pageMode:"",updateLatestClickAwemeIdRef:e=>{let{latestClickAwemeIdRef:l}=i();l&&(l.current=e||"")},ssrCtx:void 0,updateFeedCardAdResourceList:async l=>{let r=await (0,o.to)(i().ssrCtx),a=(0,o.lE)({feedCardAdList:r});l?e(e=>({feedCardAdListMap:(0,n._)((0,t._)({},e.feedCardAdListMap),{[l]:(null==a?void 0:a[l])||[]})})):e({feedCardAdListMap:a})},updateSubTabLiveCardList:async()=>{(0,o.hz)(i().ssrCtx).then(i=>{e({activeSubTab:null!=i?i:[]})})}})),c=function(e,i){let l=(0,d.U)(),t=(0,r.useContext)(s.O),n=u(e,i);return l.enableJingxuanZustand?n:t}},342934:function(e,i,l){l.d(i,{Y:function(){return u},m:function(){return c}});var t=l(914104),n=l(768492),r=l(149897),o=l(428775),a=l.n(o);let d=`${(0,n.Pe)()}`,s=a().create({baseURL:d});(0,r.U)(s);let u=async(e,i)=>{let l=s.get("/webcast/distribution/check_user_live_status/",{withCredentials:!0,params:{user_ids:e,aid:6383,distribution_scenes:i,device_platform:"webapp"}});return l.then(l=>{var n,r,o;let{status_code:a,data:d=[]}=(null==l?void 0:l.data)||{},s=null==l?void 0:null===(n=l.headers)||void 0===n?void 0:n["x-tt-logid"];null===(o=(0,t.OK)())||void 0===o||null===(r=o.sendEvent)||void 0===r||r.call(o,{name:"check_live_status_live_success",categories:{status_code:a,data:d,logId:s,userId:e,scene:i},type:"event"})}),l.catch(l=>{var n,r;null===(r=(0,t.OK)())||void 0===r||null===(n=r.sendEvent)||void 0===n||n.call(r,{name:"check_live_status_error",categories:{userId:e,scene:i,err:l},type:"event"})}),l},c=(e,i)=>s.get("/webcast/linkmic_audience/list/v2/",{withCredentials:!0,params:{room_id:e,aid:6383,anchor_id:i,live_id:1,device_platform:"web",language:navigator.language}})},6858:function(e,i,l){l.r(i),l.d(i,{default:function(){return x},VipLiveBoundaryPlugin:function(){return C}});var t=l("563097"),n=l("88648"),r=l("337359"),o=l("53562"),a=l("818597"),d=l("169961"),s=l("645260"),u=l.n(s),c=l("582296"),v=l("984468"),m=l("691253"),f=l("597294"),_=l("441447");let h=()=>{let{vipStore:e,roomStore:{roomInfo:i}}=(0,a.o)();(0,n.useEffect)(()=>{let l=()=>{var l,t;let n=null==i?void 0:null===(l=i.anchor)||void 0===l?void 0:l.id_str,r=null==i?void 0:null===(t=i.room)||void 0===t?void 0:t.id_str;if(!!n)(0,v.GT)({room_id:r,anchor_id:n}).then(i=>{var l,t,n;let{data:r}=i;e.setVipEmojiConfig(r.data);let o=null==r?void 0:null===(t=r.data)||void 0===t?void 0:null===(l=t.user_data)||void 0===l?void 0:l.expired_time,a=1e3*o,d=null==r?void 0:null===(n=r.data)||void 0===n?void 0:n.is_member,s=new Date().getTime();e.setIsVip(a>s&&d),e.setVipLiveStatus(o?f.L[(0,m.j$)(o)]:f.L[f.vz.BEFORE]),e.setVipInfoLoaded(!0)})};l();let t=_.listen(_.EVENT.VipRechargeSuccess,()=>{l()});return()=>{null==t||t()}},[i])};var g=l("618618"),p=l("548309"),w=l("976167");let C=(0,o.Pi)(e=>{let{onShowVipLiveBoundary:i,paidLiveData:l,roomId:n,roomStatus:o,messageInstance:a,onBtnClick:d,isInLivingRoom:s,roomInfo:u,customContent:c,abTestData:v}=e;return(0,t.jsx)(r.ZP,{roomId:n,roomStatus:o,messageInstance:a,onBtnClick:d,paidLiveData:l,onShowBoundary:i,isInLivingRoom:s,roomInfo:u,customContent:c,abTestData:v})});var x=(0,o.Pi)(()=>{let{singletonStore:{message:e},paidLiveStore:{paidLiveData:i},roomStore:{roomInfo:l,roomStatus:r,hideBanner:o},vipStore:{setShowVipLiveBoundary:s,setIsShowVipPanel:v,showVipLiveBoundary:m,isShowVipPanel:f},userStore:{headerUserInfo:_},feedStore:{isActive:x},rightPanelStore:{openItem:b}}=(0,a.o)();h();let I=u()(l,"room.id_str"),y=(0,d.T)(),L=()=>!1;return(0,n.useEffect)(()=>{x&&(r!==g.LV.END||m)&&f&&(!o||m)&&b(p.k.Vip)},[x,r,m,f,o,m]),(0,t.jsx)(C,{messageInstance:e,paidLiveData:i,isInLivingRoom:!0,roomInfo:l,roomId:I,abTestData:y,roomStatus:r,onShowVipLiveBoundary:e=>{s(e)},onBtnClick:()=>{if(null==_?void 0:_.isLogin)(0,w.Z)("live");else{var e,i;(0,c.default)({success:()=>{!L()&&window.location.reload()},enterMethod:"",headerText:"登录后查看更多作品",next:`https://${null===(i=window)||void 0===i?void 0:null===(e=i.location)||void 0===e?void 0:e.host}`})}}})})},691253:function(e,i,l){l.d(i,{HS:function(){return u},T3:function(){return v},ZK:function(){return m},cI:function(){return d},j$:function(){return s},m1:function(){return f},p8:function(){return c}});var t=l(520739),n=l(878389);l(268917);var r=l(597294);let o=(e,i,l)=>e===r.Nl.FuliType&&i===r.D$.VIRTUAL&&l===r.lW.DONE?r.lW.VIRTUAL_DONE:l||0,a=e=>{if(e.type===r.Nl.CourseType){var i,l;return e.privilege_switch===r.oH.OFF?r.Bn[e.type]:`${null!==(l=null===(i=e.discount_course_info)||void 0===i?void 0:i.free_course_number)&&void 0!==l?l:0}个免费课程`}return null==e?void 0:e.content},d=function(e,i){let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(i===r.Nl.LinkmicType)return"";if(i===r.Nl.FuliType||i===r.Nl.LinkmicType)return r.eS[e];if(i===r.Nl.EmojiType)return"去使用";if(i===r.Nl.GroupType)return r.I$[e];if(i===r.Nl.CourseType)return"查看";if(i===r.Nl.Ask){if(l)return"去提问";if(t)return"查看"}return i===r.Nl.ShortVideo&&n?"查看":""},s=e=>{let i=1e3*Number(e),l=i-new Date().getTime();if(0===e)return r.vz.BEFORE;if(l>0&&l<6048e5)return r.vz.AFTER_SEVEN;if(l>0)return r.vz.AFTER;if(l<0&&l>-6048e5)return r.vz.EXPIRED_FEWDAY;else if(l<0)return r.vz.EXPIRED;return r.vz.BEFORE},u=(e,i,l,t)=>!!i&&!!e&&!(e.length<=0)&&!!l&&!!t&&(!!l[e]||!!t[e]),c=(e,i)=>{var l,u,c,v,m,f;if(!e)return[];let _=[],h=e.advanced_privilege||[],g=e.is_member,p=s(null!==(u=e.expired_time)&&void 0!==u?u:0),w=(null!==(c=null===(l=e.short_video_info)||void 0===l?void 0:l.short_video_count)&&void 0!==c?c:0)>0;for(let l=0;l<h.length;l++){let{type:s}=h[l],u=o(s,h[l].bonus_type,h[l].received),c=!0;if(s===r.Nl.Ask){let{answered_ask_num:e=0}=h[l];c=e>0}let p=(0,n._)((0,t._)({},h[l]),{isGradient:!g,btnText:(g||s===r.Nl.CourseType||s===r.Nl.Ask||s===r.Nl.ShortVideo)&&d(u,s,g,c,w),handleClick:function(e,i,l,t){var n,o;let{type:a,status:d,isMember:s}=e;if(a===r.Nl.EmojiType||a===r.Nl.LinkmicType||a===r.Nl.CourseType||a===r.Nl.Ask)return t;let u=(null!==(o=null==i?void 0:null===(n=i.short_video_info)||void 0===n?void 0:n.short_video_count)&&void 0!==o?o:0)>0;return a===r.Nl.ShortVideo,t}({type:null===(v=h[l])||void 0===v?void 0:v.type,bonusType:null===(m=h[l])||void 0===m?void 0:m.bonus_type,status:u,prizeId:null===(f=h[l])||void 0===f?void 0:f.prize_id,item:h[l],isMember:g},e,0,i),content:a(h[l]),privilege_tags:e.privilege_tags});_.push(p)}return _},v=e=>{for(let i=0;i<e.length;i++)if(e[i].type===r.Nl.FuliType)return{fuliStatus:"in_effect",fuliType:e[i].schema_url?"real":"virtual",fuliId:e[i].prize_id};return{fuliStatus:"nonactivated",fuliType:"",fuliId:0}},m=e=>{let i=new Date(e),l=i.getFullYear(),t=i.getMonth()+1<10?`${i.getMonth()+1}`:i.getMonth()+1,n=10>i.getDate()?`${i.getDate()}`:i.getDate();return`${l}-${t}-${n}`},f=e=>{if(1===e.length)return e[0];if(e.length>1){let i=e.find(e=>e.apply_status===r.aJ.ALREADY_IN);if(i)return i;let l=e.find(e=>e.apply_status===r.aJ.JOIN_NOW);if(l)return l;let t=e.find(e=>e.apply_status===r.aJ.APPLYING);if(t)return t;let n=e.find(e=>e.apply_status===r.aJ.APPLY_TO_JOIN||e.apply_status===r.aJ.NOT_APPLY);if(n)return n;let o=e.find(e=>e.apply_status===r.aJ.VIEW_CONDITION);if(o)return o;let a=e.find(e=>e.apply_status===r.aJ.GROUP_IS_FULL);if(a)return a}return e[0]}},773512:function(e,i,l){l.d(i,{h:function(){return o}});var t=l(768492),n=l(567754);let r=`${(0,t.Pe)()}`,o=(e,i)=>`${r}/${e}${i?"?":""}${(0,n.stringify)(i)}`},467849:function(e,i,l){l.d(i,{Dx:function(){return _},Hw:function(){return h},zT:function(){return g}}),l(284961),l(826893),l(874386),l(954372);var t=l(563097),n=l(88648),r=l(713097),o=l.n(r),a=l(304036),d=l(253714),s=l(271994),u=l(901046),c=l(774569),v=l(961412),m=l(115627);let f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\n/g,"")},_=e=>{let{url:i,text:l,textSize:r="normal",clamp:a=2,showTip:s=!1,onVideoClick:c,className:m}=e,[_,h]=(0,n.useState)(!1),g=f(l);return(0,t.jsxs)(u.a,{target:"_blank",rel:"noopener noreferrer",href:i,onClick:c,className:o()(d.default.link,d.default.titleWrapper),isNeedSeoOpt:!0,children:[(0,t.jsx)("h2",{onMouseEnter:e=>{let i=e.currentTarget;s&&i.scrollHeight>i.clientHeight&&h(!0)},onMouseLeave:()=>s&&h(!1),className:o()(d.default.title,m,{[d.default.titleClamp1]:1===a,[d.default.titleSizeSmall]:"small"===r,[d.default.titleSizeNormal]:"normal"===r}),children:(0,t.jsx)(v.Z,{text:g})}),_&&(0,t.jsx)("div",{className:d.default.dialog,children:(0,t.jsx)(v.Z,{text:g})})]})},h=e=>{let{url:i,avatar:l,avatarType:n="extraExtraSmall",userName:r,nameSize:a="normal",time:m,timeSize:_="normal",onAuthorClick:h,followStatus:g}=e;return(0,t.jsxs)("div",{className:d.default.source,children:[(0,t.jsxs)(u.a,{target:"_blank",rel:"noopener noreferrer",href:i,className:o()(d.default.link,d.default.userInfo),onClick:h,isNeedSeoOpt:!0,children:[l&&(0,t.jsx)(s.q,{type:n,src:l,alt:`${r}头像`}),(0,t.jsx)("p",{className:o()(d.default.name,{[d.default.nameGap]:!!l,[d.default.nameSizeSmall]:"small"===a,[d.default.nameSizeNormal]:"normal"===a}),children:(0,t.jsx)(v.Z,{text:f(r)})}),!!g&&(0,t.jsx)(c.Xg,{className:d.default.followStatus})]}),m&&(0,t.jsx)("span",{className:o()(d.default.time,{[d.default.timeSizeSmall]:"small"===_,[d.default.timeSizeNormal]:"normal"===_}),children:m})]})},g=e=>{let{size:i="normal",titleClamp:l=2,className:n,hideSource:r}=e;return(0,t.jsxs)("div",{className:d.default.imgContentSkeleton,children:[(0,t.jsx)("div",{className:o()(d.default.imgWrapper,n),children:(0,t.jsx)("div",{className:d.default.imgSkeleton,children:(0,t.jsx)(m.Z,{width:"small"===i?74:105,height:"small"===i?85:120,needRenderInSSR:!0,src:a.Z,viewBox:"0 0 105 120"})})}),(0,t.jsx)("div",{className:d.default.titleSkeleton}),l>=2&&(0,t.jsx)("div",{className:o()(d.default.titleSkeleton,d.default.titleSkeletonSecond)}),!r&&(0,t.jsx)("div",{className:d.default.sourceSkeleton})]})}},118422:function(e,i,l){l.d(i,{P:function(){return m}});var t=l("563097"),n=l("88648"),r=l("713097"),o=l.n(r),a=l("304036"),d=l("520739"),s=l("878389");let u=(0,n.forwardRef)((e,i)=>(0,t.jsx)("svg",(0,s._)((0,d._)({width:114,height:114,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:i},e),{children:(0,t.jsx)("path",{d:"M91.638 22.852c-6.101-4.005-10.508-10.41-11.883-17.876A27.433 27.433 0 0 1 79.295 0H59.818l-.034 78.542c-.325 8.794-7.521 15.854-16.34 15.854-2.738 0-5.32-.69-7.594-1.892-5.209-2.762-8.778-8.258-8.778-14.584 0-9.082 7.347-16.475 16.373-16.475 1.684 0 3.3.282 4.833.763V42.202a35.857 35.857 0 0 0-4.833-.35C23.68 41.852 7.6 58.034 7.6 77.926c0 12.205 6.062 23.004 15.307 29.534 5.82 4.111 12.904 6.54 20.543 6.54 19.77 0 35.85-16.182 35.85-36.074v-39.83a46.117 46.117 0 0 0 27.1 8.766V27.263a26.843 26.843 0 0 1-14.762-4.411z",fill:"#33343F"})})));var c=l("962178"),v=l("115627");let m=e=>{let{style:i,className:l,imgBoxClassName:n,infoBoxClassName:r,imgBoxStyle:d,useNewLogo:s=!1}=e;return(0,t.jsxs)("div",{style:i,className:o()(c.default.PlaceholderCard,l),children:[(0,t.jsx)("div",{className:o()(c.default.imgBox,n),style:d,children:(0,t.jsx)("div",{className:o()(c.default.imgContainer),children:s?(0,t.jsx)(v.Z,{width:114,height:114,viewBox:"0 0 114 114",src:u,className:c.default.newIcon}):(0,t.jsx)(v.Z,{width:105,height:120,viewBox:"0 0 105 120",src:a.Z,className:c.default.icon})})}),(0,t.jsxs)("div",{className:o()(c.default.infoBox,r),children:[(0,t.jsx)("div",{style:{width:"100px"},className:o()(c.default.rect,c.default.first)}),(0,t.jsx)("div",{className:o()(c.default.rect,c.default.second)}),(0,t.jsx)("div",{className:o()(c.default.rect,c.default.third)})]})]})}},383763:function(e,i,l){l.d(i,{B:function(){return c}});var t=l(520739),n=l(878389),r=l(368200),o=l(563097);l(88648);var a=l(713097),d=l.n(a),s=l(47946),u=l(901046);function c(e){let{isUseALink:i=!0,children:l,className:a}=e,c=(0,r._)(e,["isUseALink","children","className"]);if(!i){let{onClick:e}=c;return(0,o.jsx)("div",(0,n._)((0,t._)({className:d()(s.default.aLink,a),onClick:e},c),{children:l}))}return(0,o.jsx)(u.a,(0,n._)((0,t._)({className:a},c),{children:l}))}},673648:function(e,i,l){l.d(i,{h:function(){return p},n:function(){return g}});var t=l(91907),n=l(562017),r=l(260211),o=l(134761);l(990921),l(874386),l(675373),l(268917),l(209955);var a=l(866674),d=l.n(a),s=l(877639),u=l.n(s),c=l(918294),v=l.n(c),m=l(212138),f=l.n(m),_=new WeakMap,h=new WeakMap;class g{add(e){return new Promise((i,l)=>{this.runList.push({param:e,resolve:i,reject:l}),(0,t._)(this,_).call(this)})}constructor({max:e,timeWait:i,runOperation:l}){(0,o._)(this,"max",0),(0,o._)(this,"runList",[]),(0,o._)(this,"runOperation",e=>{}),(0,n._)(this,_,{writable:!0,value:()=>{(0,t._)(this,h).call(this)}}),(0,n._)(this,h,{writable:!0,value:()=>{let e=this.runList;this.runList=[];let i=(null==e?void 0:e.length)||0,{max:l}=this;if(l<=0||i<=l){this.runOperation(e);return}for(let t=0;t<i;t+=l){let i=v()(e,t,t+l);if(null==i?void 0:i.length)this.runOperation(i);else break}}}),this.max=e||0;if(!l)throw Error("MultiRun runOperation 执行函数必须设置");if(!d()(l))throw Error("MultiRun runOperation 执行函数必须为函数形式");this.runOperation=l,(0,r._)(this,_,u()(()=>{(0,t._)(this,h).call(this)},i||300,{leading:!1,trailing:!0}))}}let p=(e,i)=>{f()(e,e=>{var l;null==e||null===(l=e.reject)||void 0===l||l.call(e,i||"error")})}},854481:function(e,i,l){l.d(i,{AB:function(){return j},n5:function(){return L},q:function(){return I},xD:function(){return b}});var t=l(520739),n=l(878389);l(675373),l(268917);var r=l(576660),o=l(597087),a=l(66863),d=l(673648),s=l(212138),u=l.n(s),c=l(377530),v=l.n(c),m=l(138871),f=l.n(m),_=l(618960),h=l(257858),g=l(596161);let{COMMON_SEARCH_PARAMS:p,DISABLE_SECRET_VIDEO_PARAMS:w,CHANNEL_PC_WEB:C}=r||{},{ERROR_CODE:x}=o||{};async function b(e){let{cursor:i=0,count:l=50,groupId:r="1"}=e;return arguments.length>1&&void 0!==arguments[1]&&arguments[1],await (0,a.U2)("/aweme/v1/web/im/resources/emoticon/trending",(0,n._)((0,t._)({},p),{cursor:i,count:l,groupId:r}))}async function I(e){let{itemIds:i,from:l,requestSource:n=g.AWEME_PC_RESOURCE_TYPE,originType:r=h.F.General}=e;return(0,_.Ex)("/aweme/v1/web/multi/aweme/detail/",l),await (0,a.v_)("/aweme/v1/web/multi/aweme/detail/",(0,t._)({},p),{aweme_ids:`[${i.join(",")}]`,request_source:n,origin_type:r})}(0,_.m)("/aweme/v1/web/multi/aweme/detail/",500);let y=new d.n({max:40,timeWait:300,runOperation:e=>{let i=[];u()(e,e=>{let{param:l}=e;l&&i.push(l)}),I({itemIds:v()(i),from:"multiRunGetAwemeInfo",originType:h.F.Chat,requestSource:g.AWEME_IM_RESOURCE_TYPE}).then(i=>{if((null==i?void 0:i.status_code)===0){let l=(null==i?void 0:i.aweme_details)||[],t=(null==i?void 0:i.filter_list)||[],n={};u()(l,(e,i)=>{let{aweme_id:l,external_video_type:t}=e;if(l){let i=l;t&&(i+=`:${t}`),n[i]=e}});let r={};u()(t,(e,i)=>{let{aweme_id:l,external_video_type:t}=e;if(l){let i=l;t&&(i+=`:${t}`),r[i]=e}}),u()(e,e=>{let{param:i,reject:l,resolve:t}=e;t({aweme_details:n[i]?[n[i]]:null,filter_list:r[i]?[r[i]]:null})})}else(0,d.h)(e,"")}).catch(i=>{(0,d.h)(e,i)})}});async function L(e){return y.add(e)}async function j(e){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return await (0,a.v_)("/aweme/v1/web/im_communication/msg_read_switch/",(0,t._)({},p),f().stringify((0,n._)((0,t._)({},p),{source:"msg_tab",is_retry:i,msg_ids:e})),{headers:{"Content-Type":"application/json"},isDataUseJson:!0,transformResponse:[function(e){return f().parse(e)}]})}},885256:function(e,i,l){l.d(i,{_:function(){return u}});var t=l(520739),n=l(878389);l(675373);var r=l(576660),o=l(66863),a=l(842602);let{COMMON_SEARCH_PARAMS:d}=r||{},s=!1;async function u(){let{tagId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("www.douyin.com"!==location.hostname)return{statusCode:-1};if(s)return{statusCode:999};s=!0;let i=await (0,o.U2)("/api/user/cache",(0,n._)((0,t._)({},d),{tag_id:e,version:"1.0.0"}));return s=!1,(0,a.RL)(i,e=>{var i;return{statusCode:null!==(i=null==e?void 0:e.status_code)&&void 0!==i?i:-1,data:null==e?void 0:e.data}})}},649368:function(e,i,l){var t=l(520739),n=l(878389),r=l(563097),o=l(88648);let a=(0,o.forwardRef)((e,i)=>(0,r.jsx)("svg",(0,n._)((0,t._)({width:12,height:13,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:i},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.102 10.42a.563.563 0 0 1 0-.795l3.353-3.352L4.101 2.92a.562.562 0 1 1 .796-.795l3.75 3.75c.22.22.22.576 0 .795l-3.75 3.75a.563.563 0 0 1-.796 0z",fill:"currentColor",fillOpacity:".9"})})));i.Z=a}}]);