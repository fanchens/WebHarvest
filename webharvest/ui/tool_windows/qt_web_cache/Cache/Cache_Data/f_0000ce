"use strict";(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["66604"],{953755:function(e,t){t.Z={living:"njSZSiAC",programme_skin:"XXGv85iI",appointment_container:"YOklaRdf",cardRelevant:"rp6soMkn",flexContainer:"J1EErhBj",matchStats:"DiC0ZvCZ",matchSchedule:"Jgfoa63u",isClient:"ETeUCevd",moreLeague:"ozJdGLLy",container:"o4yfJp5G",hideCategoryTab:"r9NsAyb8",fullScreen:"QsPZwQB5",enlargePadding:"_0MEwOc3",input_disabled:"QfpVk2eL",playerWrap:"NrSKnRXA",isImmersive:"UsHqkkid",blackBg:"NFI6wHem",hasGiftBar:"WrwqrhfM",roomInfoBar:"B4YDLabg",playerZIndex:"ayqzsTpw",zIndexAuto:"XV06OMux",roomInfoBarOut:"_3x3OAQ6",optimize:"JU0YBmK2",player:"XgTiaRNh",appOnly:"DRDw7KEi",inPreview:"UrRjpApF",chatRoomPanel:"ndR3cc8P",chatroomWrap:"GIYm8lma",chatroomPanelVideocard:"osIT2FGd",enlargeDynamicBackground:"uyIVVuzP",chatroomPanelContainer:"l3Gb9j0M",chatroomContainer:"OCKgwtT_","webcast-chatroom___list":"PkCh7q91",chatroom:"_r8HSt9k",chatroomContent:"S2e56qSR",spring_container:"EcrFQ8Sm",linkMic:"zWQ53ubT","programme-container":"JOQv_X6e",theater:"bj6XhuMD",fullModel:"Zf_qBnoE",immersive:"JAoFsaYN",toggle_chatroom:"w2baNPXb",fold:"BEf6hplt",iframe:"e5EBRaia",isBrandAd:"ScMAejgm",playerIsFullContainer:"g6Y2mAhI",dynamicBgContainer:"AwX5R3zD",linkMicBg:"yLlAjlyY",noRadius:"B0XJ9uxo",playerIsFull:"fw5nCANN",roomInfoBarAbsolute:"j1rByxZZ",roomInfoBarHide:"ESVRuf6H",childRouteAnimationPrepare:"AWywtVUW",childRouteFullScreen:"opM4lfvy",isInPreview:"lelogMHx",inPreviewWrap:"FecaoLFU",foldChatroom:"QxPS7D7A",isInPreviewEnter:"ECL1DdAh",inPreviewFull:"qPIp63GP",mainContainer:"iS2GjZyw",drag:"tOeMDlJ4",noDrag:"FYloNZuv"}},635008:function(e,t,i){e.exports=i.p+"media/groupFightNewBg.f58fcea44d26a7c8.png"},564734:function(e,t,i){e.exports=i.p+"media/guestBattleNewBg.11ed2b61bcdefe9d.png"},505709:function(e,t,i){e.exports=i.p+"media/orderSingNewBg.06d146045261a758.png"},215090:function(e,t,i){i.d(t,{s:function(){return d}});var o=i(134761),n=i(520739),r=i(878389),s=i(325982),a=i(44905),l=i(974859),m=i(859231),_=i(645260),v=i.n(_);class d{constructor(e){(0,o._)(this,"store",null),(0,o._)(this,"liveAudienceLiveEvent",e=>{var t,i;let{linkmicStore:{linkRoomType:o,functionType2:_},roomStore:{liveStatus:d,foldChatroom:u},pkStore:{pkAppData:c,pkPlayMode:g,pkId:h,pkTeamCount:p,pkListData:P}}=this.store,E=v()(P,"battle_stats.battle_settings.battle_config_setting.team_mode",0);window.collectEvent("livesdk_audience_live_message",(0,r._)((0,n._)({},this.store.eventStore.basicEvent.getCommonEventParams(),this.store.eventStore.basicEvent.getEnterEventParams(),this.store.eventStore.basicEvent.getRoomRoadmap(),e,this.store.eventStore.basicEvent.getImoprtEventParams(),this.store.eventStore.basicEvent.getRoomPaidLiveInfo(),this.store.eventStore.vsEvent.getShowEventParams(),this.store.eventStore.basicEvent.getRecommendParams(),this.store.eventStore.basicEvent.getRoomAspectRatio(),this.store.eventStore.basicEvent.getStreaType()),{live_type:"audio"===o?"voice_live":"",function_type2:_,live_status:m.EY[d]||"normal",is_comments_fold:u?1:0,channel_id:null==c?void 0:c.channelId,invite_mode:g,anchor_connect_status:(null==c?void 0:null===(t=c.grids)||void 0===t?void 0:t.length)||-1,pk_team_count:p,pk_id:h,team_mode:E})),(0,l.Ui)()&&(0,s.E)("live_comment",(0,r._)((0,n._)({value:(0,l.V7)(),tag:"live_ad",device_id:null===a.Es||void 0===a.Es?void 0:null===(i=(0,a.Es)())||void 0===i?void 0:i.user_unique_id},e),{log_extra:(0,l.u9)()}))}),(0,o._)(this,"livesdkEmojiShow",e=>{window.collectEvent("livesdk_emoji_show",(0,n._)({},this.store.eventStore.basicEvent.getCommonEventParams(),this.store.eventStore.basicEvent.getEnterEventParams(),this.store.eventStore.basicEvent.getRoomRoadmap(),this.store.eventStore.basicEvent.getImoprtEventParams(),this.store.eventStore.vsEvent.getShowEventParams(),this.store.eventStore.basicEvent.getRecommendParams(),this.store.eventStore.basicEvent.getRoomAspectRatio(),this.store.eventStore.basicEvent.getPlayerCommonEventParams(),this.store.eventStore.basicEvent.getStreaType(),e))}),(0,o._)(this,"livesdkEmojiClick",e=>{e.emoji_type=e.emoji_type?e.emoji_type:"tab_emoji",window.collectEvent("livesdk_emoji_click",(0,n._)({},this.store.eventStore.basicEvent.getCommonEventParams(),this.store.eventStore.basicEvent.getEnterEventParams(),this.store.eventStore.basicEvent.getRoomRoadmap(),this.store.eventStore.basicEvent.getImoprtEventParams(),this.store.eventStore.vsEvent.getShowEventParams(),this.store.eventStore.basicEvent.getRecommendParams(),this.store.eventStore.basicEvent.getRoomAspectRatio(),this.store.eventStore.basicEvent.getPlayerCommonEventParams(),this.store.eventStore.basicEvent.getStreaType(),e))}),(0,o._)(this,"livesdkSendBarrage",e=>{var t;let{linkmicStore:{linkRoomType:i,functionType2:o},roomStore:{liveStatus:s},userStore:{userInfo:a}}=this.store,l=e.fail?"livesdk_send_barrage_fail":"livesdk_send_barrage";window.collectEvent(l,(0,r._)((0,n._)({},this.store.eventStore.basicEvent.getCommonEventParams(),this.store.eventStore.basicEvent.getEnterEventParams(),this.store.eventStore.basicEvent.getRoomRoadmap(),e,this.store.eventStore.basicEvent.getImoprtEventParams(),this.store.eventStore.basicEvent.getRoomPaidLiveInfo(),this.store.eventStore.vsEvent.getShowEventParams(),this.store.eventStore.basicEvent.getRecommendParams(),this.store.eventStore.basicEvent.getRoomAspectRatio(),this.store.eventStore.basicEvent.getStreaType()),{live_type:"audio"===i?"voice_live":"",function_type2:o,live_status:m.EY[s]||"normal",privilege_level:null==a?void 0:null===(t=a.pay_grade)||void 0===t?void 0:t.level,user_id:null==a?void 0:a.id_str}))}),(0,o._)(this,"livesdkQuickEmojiDetailPageClick",e=>{window.collectEvent("livesdk_quick_emoji_detail_page_click",(0,n._)({},this.store.eventStore.basicEvent.getCommonEventParams(),this.store.eventStore.basicEvent.getEnterEventParams(),this.store.eventStore.basicEvent.getRoomRoadmap(),e,this.store.eventStore.basicEvent.getImoprtEventParams(),this.store.eventStore.basicEvent.getRoomPaidLiveInfo(),this.store.eventStore.vsEvent.getShowEventParams(),this.store.eventStore.basicEvent.getRecommendParams(),this.store.eventStore.basicEvent.getRoomAspectRatio(),this.store.eventStore.basicEvent.getStreaType()))}),(0,o._)(this,"livesdkQuickEmojiDetailPageShow",e=>{window.collectEvent("livesdk_quick_emoji_detail_page_show",(0,n._)({},this.store.eventStore.basicEvent.getCommonEventParams(),this.store.eventStore.basicEvent.getEnterEventParams(),this.store.eventStore.basicEvent.getRoomRoadmap(),e,this.store.eventStore.basicEvent.getImoprtEventParams(),this.store.eventStore.basicEvent.getRoomPaidLiveInfo(),this.store.eventStore.vsEvent.getShowEventParams(),this.store.eventStore.basicEvent.getRecommendParams(),this.store.eventStore.basicEvent.getRoomAspectRatio(),this.store.eventStore.basicEvent.getStreaType()))}),this.store=e}}},104109:function(e,t,i){i.d(t,{O:function(){return S}});var o=i(134761),n=i(520739),r=i(878389);i(250440),i(429532),i(675373);var s=i(128231),a=i.n(s),l=i(645260),m=i.n(l),_=i(595814),v=i.n(_),d=i(877639),u=i.n(d),c=i(779145),g=i.n(c),h=i(852061),p=i(976976),P=i(450402),E=i(291575),f=i(926012),y=i(277395),k=i(738612);class S{constructor(e){var t=this;(0,o._)(this,"store",null),(0,o._)(this,"groupPkShow",()=>{let{eventStore:{linkmicBaseEvent:e,basicEvent:t}}=this.store;window.collectEvent("livesdk_grouppk_show",(0,r._)((0,n._)({},null==t?void 0:t.getEnterEventParams(),e.getGroupFightCommonParams()),{user_type:e.getGroupFightUserType(),grouppk_stage:e.getGorupFightStage(),guest_cnt:e.getGroupFightGusetCnt(),user_id:t.getUserId()}))}),(0,o._)(this,"liveFaceRecognitionPopupShowEvent",e=>{let{eventStore:{basicEvent:t,linkmicBaseEvent:i}}=this.store;window.collectEvent("livesdk_face_recognition_popup_show",(0,n._)({},t.getPlayerCommonEventParams(),t.getEnterEventParams(),i.getFaceRecognitionPopupData(),e))}),(0,o._)(this,"liveFaceRecognitionPopupReceiveEvent",e=>{let{eventStore:{basicEvent:t,linkmicBaseEvent:i}}=this.store;window.collectEvent("livesdk_face_recognition_popup_message_receive",(0,n._)({},t.getPlayerCommonEventParams(),t.getEnterEventParams(),i.getFaceRecognitionPopupData(),e))}),(0,o._)(this,"liveFaceRecognitionPopupVerifyButtonEvent",e=>{let{eventStore:{basicEvent:t,linkmicBaseEvent:i}}=this.store;window.collectEvent("livesdk_face_recognition_popup_verify_button_click",(0,r._)((0,n._)({},t.getPlayerCommonEventParams(),t.getEnterEventParams(),i.getFaceRecognitionPopupData()),{verification_type:e}))}),(0,o._)(this,"liveFaceRecognitionPopupNotVerifyButtonEvent",e=>{let{eventStore:{basicEvent:t,linkmicBaseEvent:i}}=this.store;window.collectEvent("livesdk_face_recognition_popup_not_verify_button_click",(0,r._)((0,n._)({},t.getPlayerCommonEventParams(),t.getEnterEventParams(),i.getFaceRecognitionPopupData()),{verification_type:e}))}),(0,o._)(this,"liveFaceRecognitionPopupDisappearEvent",e=>{let{eventStore:{basicEvent:t,linkmicBaseEvent:i}}=this.store;window.collectEvent("livesdk_face_recognition_popup_disappear",(0,r._)((0,n._)({},t.getPlayerCommonEventParams(),t.getEnterEventParams(),i.getFaceRecognitionPopupData()),{verification_type:e}))}),(0,o._)(this,"liveFaceRecognitionAuthorPopupShowEvent",(e,t)=>{let{eventStore:{basicEvent:i,linkmicBaseEvent:o}}=this.store;window.collectEvent("livesdk_face_recognition_authorization_popup_show",(0,r._)((0,n._)({},i.getPlayerCommonEventParams(),i.getEnterEventParams(),o.getFaceRecognitionPopupData()),{enter_type:e,enter_page:t}))}),(0,o._)(this,"liveFaceRecognitionAuthorPopupVerifyButtonEvent",(e,t)=>{let{eventStore:{basicEvent:i,linkmicBaseEvent:o}}=this.store;window.collectEvent("livesdk_face_recognition_authorization_popup_click",(0,r._)((0,n._)({},i.getPlayerCommonEventParams(),i.getEnterEventParams(),o.getFaceRecognitionPopupData()),{enter_type:e,enter_page:t}))}),(0,o._)(this,"liveFaceRecognitionAuthorPopupNotVerifyButtonEvent",(e,t)=>{let{eventStore:{basicEvent:i,linkmicBaseEvent:o}}=this.store;window.collectEvent("livesdk_face_recognition_authorization_popup_not_click",(0,r._)((0,n._)({},i.getPlayerCommonEventParams(),i.getEnterEventParams(),o.getFaceRecognitionPopupData()),{enter_type:e,enter_page:t}))}),(0,o._)(this,"liveConnectLinkMicEvent",(e,t)=>{let{eventStore:{basicEvent:i,linkmicBaseEvent:o,pkEvent:s},linkmicStore:{playModes:a}}=this.store,l={play_mode:"grouppk",play_stage:o.getGorupFightStage(),grouppk_group:o.getGroupFightGroupType()},{linkMicLayout:m}=this.store.linkmicStore,_={compete_mode:o.getGuestBattleCompetaMode(),play_mode:"boom",play_stage:o.getGuestBattleStage()},v=a.map(e=>k.v[e]).filter(Boolean),d={};"request_song"in v&&(d=o.getOrderSingParams()),window.collectEvent("livesdk_guest_connection_success",(0,n._)((0,r._)((0,n._)({},i.getCommonEventParams(),i.getPlayerCommonEventParams(),i.getEnterEventParams(),o.getLinkMicParams(),s.getRoomPKParams(),o.getOrderSingParams(),this.getEnlargeParams()),{is_candidate:e,is_fans_guide:t,from_user_id:"",from_user_type:"",layout_type:o.getLayoutParams(m)}),o.isGroupFight()?l:{},o.isGuestBattle()?_:{},o.isCrossLink()?{play_mode:"link_room"}:{},d)),y._6.start()}),(0,o._)(this,"liveLeaveLinkMicEvent",a()((e,t,i,o)=>{let{linkmicStore:{playModes:s},eventStore:{basicEvent:a,pkEvent:l,linkmicBaseEvent:m}}=this.store,{linkMicLayout:_}=this.store.linkmicStore,v={play_mode:"grouppk",play_stage:m.getGorupFightStage(i)},d={compete_mode:m.getGuestBattleCompetaMode(),play_mode:"boom",play_stage:m.getGuestBattleStage()},u=s.map(e=>k.v[e]).filter(Boolean),c={};"request_song"in u&&(c=m.getOrderSingParams()),window.collectEvent("livesdk_guest_connection_over",(0,n._)((0,r._)((0,n._)({},a.getCommonEventParams(),a.getPlayerCommonEventParams(),a.getEnterEventParams(),m.getLinkMicParams(o),l.getRoomPKParams(),m.getOrderSingParams(),o?{function_type2:o}:{},this.getEnlargeParams()),{duration:y._6.getTotal(),over_type:t,break_page:e,from_user_id:"",from_user_type:"",layout_type:m.getLayoutParams(_||""),enlarge_duration:y.Ul.getTotal(),double_enlarge_duration:y.mp.getTotal()}),m.isGroupFight()?v:{},m.isGuestBattle()?d:{},m.isCrossLink()?{play_mode:"link_room"}:{},c)),y._6.reset()},400)),(0,o._)(this,"liveApplyLinkMicEvent",e=>{let{eventStore:{basicEvent:t,linkmicBaseEvent:i,pkEvent:o},linkmicStore:{playModes:s}}=this.store,a=i.getLinkMicParams(),l={play_mode:"grouppk",play_stage:i.getGorupFightStage(),grouppk_group:null==e?void 0:e.grouppk_group},m={compete_mode:i.getGuestBattleCompetaMode(),play_mode:"boom",play_stage:i.getGuestBattleStage()},{linkMicSeats:_,linkMicLayout:v}=this.store.linkmicStore,d=h.$A.FALSE;v!==f.yP.VIDEO_DYNAMIC?Object.values(_).every(e=>!!e.user)&&(d=h.$A.TRUE):9===Object.values(_).length&&(d=h.$A.TRUE);let u=s.map(e=>k.v[e]).filter(Boolean),c={};"request_song"in u&&(c=i.getOrderSingParams()),window.collectEvent("livesdk_guest_connection_apply",(0,n._)((0,r._)((0,n._)((0,r._)((0,n._)({},t.getCommonEventParams(),t.getPlayerCommonEventParams(),t.getEnterEventParams(),i.getLinkMicParams(),o.getRoomPKParams(),i.getOrderSingParams()),{is_full:d,function_type:a.function_type,duration:y.Ys.getTotal()}),i.isGroupFight()?l:{},i.isGuestBattle()?m:{},i.isCrossLink()?{play_mode:"link_room"}:{}),{layout_type:i.getLayoutParams(v||"")}),c))}),(0,o._)(this,"getGuestBattleCommonParams",()=>{let{eventStore:{basicEvent:e,linkmicBaseEvent:t}}=this.store;return(0,n._)({},v()(t.getLinkMicNoUserTypeParams(),["live_type"]),v()(e.getPlayerCommonEventParams(),["anchor_id","room_id"]),v()(t.getLinkMicParams(),["function_type","function_type2","seat_fit_status","play_mode","is_fans_guide"]))}),(0,o._)(this,"guestBattleLiveGuestConnectionInvitedEvent",()=>{let{eventStore:{linkmicBaseEvent:e,basicEvent:t}}=this.store;window.collectEvent("livesdk_guest_connection_invited",(0,r._)((0,n._)({},null==t?void 0:t.getEnterEventParams(),this.getGuestBattleCommonParams()),{play_stage:e.getGorupFightStage()}))}),(0,o._)(this,"guestBattleLiveConnectionGameTransformEvent",()=>{let{eventStore:{linkmicBaseEvent:e,basicEvent:t}}=this.store;window.collectEvent("livesdk_connection_game_transform",(0,r._)((0,n._)({},null==t?void 0:t.getEnterEventParams(),this.getGuestBattleCommonParams()),{user_cnt:e.getGuestBattleGusetCnt()+1,game_id:e.getGuestBattleId(),game_name:"boom",compete_mode:e.getGuestBattleCompetaMode()}))}),(0,o._)(this,"liveConnectionEquipmentSelectEvent",()=>{let{eventStore:{basicEvent:e,linkmicBaseEvent:t}}=this.store;window.collectEvent("livesdk_connection_equipment_select",(0,n._)({},e.getCommonEventParams(),e.getPlayerCommonEventParams(),e.getEnterEventParams(),t.getLinkMicParams()))}),(0,o._)(this,"liveConnectionEquipmentSelectPanelShowEvent",()=>{let{eventStore:{basicEvent:e,linkmicBaseEvent:t}}=this.store;window.collectEvent("livesdk_connection_equipment_select_panel_show",(0,n._)({},e.getCommonEventParams(),e.getPlayerCommonEventParams(),e.getEnterEventParams(),t.getLinkMicParams()))}),(0,o._)(this,"liveSdkAuidenceVoiceroomCaptionUseDuration",e=>{let{eventStore:{basicEvent:t,linkmicBaseEvent:i}}=this.store;window.collectEvent("livesdk_audience_voiceroom_caption_use_duration",(0,r._)((0,n._)({},t.getCommonEventParams(),t.getPlayerCommonEventParams(),t.getEnterEventParams(),i.getLinkMicParams()),{duration:e}))}),(0,o._)(this,"liveAudienceConnectionUserCameraOpenEvent",e=>{let{eventStore:{basicEvent:t,linkmicBaseEvent:i}}=this.store;window.collectEvent("livesdk_audience_connection_user_camera_open_click",(0,r._)((0,n._)({},t.getCommonEventParams(),t.getPlayerCommonEventParams(),t.getEnterEventParams(),i.getLinkMicParams()),{button_type:e}))}),(0,o._)(this,"liveGuestSwitchSeatEvent",(e,t)=>{let{eventStore:{basicEvent:i,linkmicBaseEvent:o}}=this.store,{from:s,to:a}=t||{},{selfLinkMicId:l,linkMicSeats:m}=this.store.linkmicStore,_="";Object.values(m).forEach(e=>{var t,i;l&&(null===(t=e.user)||void 0===t?void 0:t.linkmic_id_str)===l&&(_=null===(i=e.user)||void 0===i?void 0:i.user_position)});let v=(null==t?void 0:t.from)&&(null==t?void 0:t.to)?{grouppk_origin_group:s,grouppk_switch_group:a,grouppk_stage:o.getGorupFightStage()}:{};window.collectEvent("livesdk_guest_switch_connection_seat",(0,n._)((0,r._)((0,n._)({},i.getCommonEventParams(),i.getPlayerCommonEventParams(),i.getEnterEventParams(),o.getLinkMicParams()),{original_seat:_||"",switch_seat:e||""}),v))}),(0,o._)(this,"liveSeatHeadClickEvent",(e,t)=>{let{eventStore:{basicEvent:i,linkmicBaseEvent:o}}=this.store;window.collectEvent("livesdk_seat_head_click",(0,r._)((0,n._)({},i.getCommonEventParams(),i.getPlayerCommonEventParams(),i.getEnterEventParams(),o.getLinkMicParams()),{user_id:e,user_type:t}))}),(0,o._)(this,"liveUnSilenceEvent",()=>{let{eventStore:{basicEvent:e,linkmicBaseEvent:t}}=this.store;window.collectEvent("livesdk_guest_connection_mute_cancel",(0,r._)((0,n._)({},e.getCommonEventParams(),e.getPlayerCommonEventParams(),e.getEnterEventParams(),t.getLinkMicParams()),{request_page:"seat"}))}),(0,o._)(this,"liveSilenceEvent",()=>{let{eventStore:{basicEvent:e,linkmicBaseEvent:t}}=this.store;window.collectEvent("livesdk_guest_connection_mute",(0,r._)((0,n._)({},e.getCommonEventParams(),e.getPlayerCommonEventParams(),e.getEnterEventParams(),t.getLinkMicParams()),{request_page:"seat"}))}),(0,o._)(this,"liveLeaveBtnClickEvent",()=>{let{eventStore:{basicEvent:e,linkmicBaseEvent:t}}=this.store;window.collectEvent("livesdk_guest_connection_break_click",(0,n._)({},e.getCommonEventParams(),e.getPlayerCommonEventParams(),e.getEnterEventParams(),t.getLinkMicParams()))}),(0,o._)(this,"getIsAnchorEnlarge",e=>{var t,i,o,n,r,s,a;let l=null===(n=this.store)||void 0===n?void 0:null===(o=n.roomStore)||void 0===o?void 0:null===(i=o.roomInfo)||void 0===i?void 0:null===(t=i.anchor)||void 0===t?void 0:t.id_str;if(!l)return!1;let m=g()(e||[]).find(e=>{var t,i;return l===(null==e?void 0:null===(i=e.user)||void 0===i?void 0:null===(t=i.user)||void 0===t?void 0:t.id_str)});return null==m?void 0:null===(a=m.user)||void 0===a?void 0:null===(s=a.content)||void 0===s?void 0:null===(r=s.linkmic_audience_content)||void 0===r?void 0:r.is_enlarged}),(0,o._)(this,"getEnlargeParams",(e,t)=>{var i,o,r,s,a,l,_,v,d,u,c,h,p,P,E,y,S,C;let w;let L=null===(o=this.store)||void 0===o?void 0:null===(i=o.linkmicStore)||void 0===i?void 0:i.hasEnlargedSeat,I=null===(s=this.store)||void 0===s?void 0:null===(r=s.linkmicStore)||void 0===r?void 0:r.linkMicSeats,b=null===(v=this.store)||void 0===v?void 0:null===(_=v.roomStore)||void 0===_?void 0:null===(l=_.roomInfo)||void 0===l?void 0:null===(a=l.anchor)||void 0===a?void 0:a.id_str,R=(null===(u=this.store)||void 0===u?void 0:null===(d=u.userStore)||void 0===d?void 0:d.userInfo)||{},G=e||(null===(h=this.store)||void 0===h?void 0:null===(c=h.linkmicStore)||void 0===c?void 0:c.linkMicLayout),M=t||(null===(P=this.store)||void 0===P?void 0:null===(p=P.linkmicStore)||void 0===p?void 0:p.openUiLayout),F="";F=26===M&&G===f.yP.AUDIO_DOUBLE_C?"stable_double":k.i7[G];let O="normal";if(!L)return{enlarge_show_type:F,current_enlarge_user_type:O};let B=m()(I,"0"),A=this.getIsAnchorEnlarge(I);G===f.yP.VIDEO_2V4V4?O="double":[f.yP.VIDEO_1_V_8,f.yP.VIDEO_1V8,f.yP.AUDIO_1V8].includes(G)?O=A?"anchor":"guest":G===f.yP.AUDIO_DOUBLE_C&&26===M&&(O="stable_double");let T=g()(I).filter(e=>m()(e,"user.content.linkmic_audience_content.is_enlarged",!1)).length;G===f.yP.AUDIO_DOUBLE_C&&26===M&&(w=T<2?1:0);let V=g()(I).filter(e=>(null==R?void 0:R.id_str)===m()(e,"user.user.id_str","")&&m()(e,"user.content.linkmic_audience_content.is_enlarged",!1)).length;return(0,n._)({enlarge_user_id:null==B?void 0:null===(y=B.user)||void 0===y?void 0:null===(E=y.user)||void 0===E?void 0:E.id_str,enlarge_user_type:b===(null==B?void 0:null===(C=B.user)||void 0===C?void 0:null===(S=C.user)||void 0===S?void 0:S.id_str)?"anchor":"guest",enlarge_show_type:F,is_anchor_enlarge:A?1:0,is_enlarge:V,current_enlarge_user_type:O},void 0===w?{}:{is_empty_enlarge_seat:w})}),(0,o._)(this,"liveSdkLiveGuestEnlargeStart",e=>{var t;let{eventStore:{basicEvent:i,linkmicBaseEvent:o,pkEvent:s},linkmicStore:{linkMicSeats:a,linkMicLayout:l},roomStore:{roomInfo:m}}=this.store,_=null===(t=Object.values(a).filter(e=>{var t,i,o;return(null==e?void 0:e.user)&&(null===(i=e.user)||void 0===i?void 0:null===(t=i.user)||void 0===t?void 0:t.id_str)!==(null==m?void 0:null===(o=m.anchor)||void 0===o?void 0:o.id_str)}))||void 0===t?void 0:t.length;window.collectEvent("livesdk_live_guest_enlarge_start",(0,n._)((0,r._)((0,n._)({},i.getCommonEventParams(),i.getPlayerCommonEventParams(),i.getEnterEventParams(),o.getLinkMicParams(),s.getRoomPKParams(),o.getOrderSingParams(),o.getOrderSingLayoutType(),this.getEnlargeParams(),o.getOrderSingV3Params()),{seat_num:_,is_double:l===f.yP.VIDEO_2V4V4?1:0}),e))}),(0,o._)(this,"liveSdkLiveGuestEnlargeInvite",()=>{let{eventStore:{basicEvent:e,linkmicBaseEvent:t},linkmicStore:{linkMicLayout:i,playModes:o}}=this.store;window.collectEvent("livesdk_guest_enlarge_invited",(0,r._)((0,n._)({},e.getCommonEventParams(),e.getPlayerCommonEventParams(),e.getEnterEventParams(),t.getLinkMicParams()),{layout_type:t.getLayoutParams(i),play_mode:o.map(e=>k.v[e]).filter(Boolean)}))}),(0,o._)(this,"liveSdkLiveGuestEnlargeInviteClick",e=>{let{eventStore:{basicEvent:t,linkmicBaseEvent:i},linkmicStore:{linkMicLayout:o,playModes:s}}=this.store,{buttonType:a}=e;window.collectEvent("livesdk_guest_enlarge_invited_click",(0,r._)((0,n._)({},t.getCommonEventParams(),t.getPlayerCommonEventParams(),t.getEnterEventParams(),i.getLinkMicParams()),{layout_type:i.getLayoutParams(o),play_mode:s.map(e=>k.v[e]).filter(Boolean),button_type:a}))}),(0,o._)(this,"liveSdkLiveGuestEnlargeOpenSuccess",e=>{var t;let{eventStore:{basicEvent:i,linkmicBaseEvent:o},linkmicStore:{linkMicSeats:s,linkMicLayout:a,enlargeGuestType:l},roomInfo:m}=this.store,{buttonType:_,userId:v}=e,d=null===(t=Object.values(s).filter(e=>{var t,i,o;return(null==e?void 0:e.user)&&(null===(i=e.user)||void 0===i?void 0:null===(t=i.user)||void 0===t?void 0:t.id_str)!==(null==m?void 0:null===(o=m.anchor)||void 0===o?void 0:o.id_str)}))||void 0===t?void 0:t.length;window.collectEvent("livesdk_live_guest_enlarge_open_success",(0,r._)((0,n._)({},i.getCommonEventParams(),i.getPlayerCommonEventParams(),i.getEnterEventParams(),this.getEnlargeParams(),o.getLinkMicParams()),{user_type:"guest",seat_num:d,is_double:2===l?1:0,is_anchor_enlarge:this.getIsAnchorEnlarge(s)?1:0,action_type:_,enlarge_user_type:"guest",enlarge_user_id:v}))}),(0,o._)(this,"liveSdkLiveGuestEnlargeSettingClick",e=>{let{eventStore:{basicEvent:t,linkmicBaseEvent:i}}=this.store,{buttonType:o,userId:s,userType:a}=e;window.collectEvent("livesdk_live_anchor_enlarge_guest_setting_click",(0,r._)((0,n._)({},t.getCommonEventParams(),t.getPlayerCommonEventParams(),t.getEnterEventParams(),i.getLinkMicParams(),this.getEnlargeParams()),{user_type:"admin",enlarge_user_type:void 0===a?"":a,enlarge_user_id:void 0===s?"":s,action_type:o}))}),(0,o._)(this,"liveSdkLiveGuestEnlargeGuestInvite",e=>{let{eventStore:{basicEvent:t,linkmicBaseEvent:i},linkmicStore:{linkMicSeats:o,linkMicLayout:s}}=this.store,{enlargeType:a,userId:l}=e,m=this.getIsAnchorEnlarge(o),_="normal";s===f.yP.VIDEO_2V4V4?_="double":[f.yP.VIDEO_1_V_8,f.yP.VIDEO_1V8].includes(s)&&(_=m?"anchor":"guest"),window.collectEvent("livesdk_live_anchor_enlarge_guest_invite",(0,r._)((0,n._)({},t.getCommonEventParams(),t.getPlayerCommonEventParams(),t.getEnterEventParams(),i.getLinkMicParams(),this.getEnlargeParams()),{user_type:"admin",current_enlarge_user_type:_,enlarge_type:a,enlarge_user_type:"guest",enlarge_user_id:l}))}),(0,o._)(this,"liveLinkMicDurationEvent",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,{eventStore:{basicEvent:s,linkmicBaseEvent:a,pkEvent:l},linkmicStore:{playModes:m}}=t.store,_=a.getLinkMicParams(),v={play_mode:"grouppk",play_stage:a.getGorupFightStage(i)},d={compete_mode:a.getGuestBattleCompetaMode(),play_mode:"boom",play_stage:a.getGuestBattleStage()},u=o||(void 0!==e?a.getFunctionType(e):_.function_type),c=m.includes(E.V0.LinkmicPlayMode_OrderSing)&&"request_song",g=Object.assign((0,r._)((0,n._)({},s.getCommonEventParams(),s.getPlayerCommonEventParams(),s.getEnterEventParams(),a.getLinkMicNoUserTypeParams(),l.getRoomPKParams(),_),{function_type:u,function_type2:o||(void 0!==e?u:_.function_type2),play_mode:c||void 0!==e&&k.kV[e],duration:y.Ys.getTotal(),layout_type:a.getLayoutParams(e)}),a.isGroupFight()?v:{},a.isGuestBattle()?d:{},a.isCrossLink()?{play_mode:"link_room"}:{});window.collectEvent("livesdk_voice_room_watch_duration",g),y.Ys.reset()}),(0,o._)(this,"liveRequestSongListShowEvent",()=>{var e,t;let{userStore:{userInfo:i},roomStore:{roomInfo:o},linkmicStore:{linkMicSeats:s,orderSingSortRule:a,orderSingInfo:l},eventStore:{basicEvent:m,linkmicBaseEvent:_}}=this.store,v=_.getLinkMicParams(),d=null==o?void 0:null===(t=o.room)||void 0===t?void 0:null===(e=t.admin_user_ids_str)||void 0===e?void 0:e.includes(null==i?void 0:i.id_str),u=Object.values(s).some(e=>{var t,o;return(null==e?void 0:null===(o=e.user)||void 0===o?void 0:null===(t=o.user)||void 0===t?void 0:t.id_str)===(null==i?void 0:i.id_str)});window.collectEvent("livesdk_guest_connection_request_song_list_show",(0,r._)((0,n._)({},m.getCommonEventParams(),m.getPlayerCommonEventParams(),m.getEnterEventParams(),v,_.getOrderSingLayoutType(),_.getOrderSingV3Params(),_.getOrderSingParams()),{user_type:d?"administrator":u?"guest":"user",song_list_type:a===p.jQ.OrderSingGiftRule?"request_list":"seat_list",play_mode:"request_song"}))}),(0,o._)(this,"livesdkGuestConnectionRequestSongSelectShow",()=>{var e,t;let{userStore:{userInfo:i},roomStore:{roomInfo:o},linkmicStore:{linkMicSeats:s},eventStore:{basicEvent:a,linkmicBaseEvent:l}}=this.store,m=l.getLinkMicParams(),_=null==o?void 0:null===(t=o.room)||void 0===t?void 0:null===(e=t.admin_user_ids_str)||void 0===e?void 0:e.includes(null==i?void 0:i.id_str),v=Object.values(s).some(e=>{var t,o;return(null==e?void 0:null===(o=e.user)||void 0===o?void 0:null===(t=o.user)||void 0===t?void 0:t.id_str)===(null==i?void 0:i.id_str)});window.collectEvent("livesdk_guest_connection_request_song_select_show",(0,r._)((0,n._)({},a.getCommonEventParams(),a.getPlayerCommonEventParams(),a.getEnterEventParams(),m,l.getOrderSingLayoutType(),l.getOrderSingV3Params(),l.getOrderSingParams()),{user_type:_?"administrator":v?"guest":"user",play_mode:"request_song"}))}),(0,o._)(this,"livesdkGuestConnectionRequestSongEntrance",e=>{var t,i;let{userStore:{userInfo:o},roomStore:{roomInfo:s},linkmicStore:{linkMicSeats:a},eventStore:{basicEvent:l,linkmicBaseEvent:m}}=this.store,_=m.getLinkMicParams(),v=null==s?void 0:null===(i=s.room)||void 0===i?void 0:null===(t=i.admin_user_ids_str)||void 0===t?void 0:t.includes(null==o?void 0:o.id_str),d=Object.values(a).some(e=>{var t,i;return(null==e?void 0:null===(i=e.user)||void 0===i?void 0:null===(t=i.user)||void 0===t?void 0:t.id_str)===(null==o?void 0:o.id_str)});window.collectEvent("livesdk_guest_connection_request_song_entrance",(0,r._)((0,n._)({operate_type:e},l.getCommonEventParams(),l.getPlayerCommonEventParams(),l.getEnterEventParams(),m.getOrderSingParams(),_,m.getOrderSingLayoutType()),{user_type:v?"administrator":d?"guest":"user"}))}),(0,o._)(this,"livesdkGuestConnectionRequestSongSelectConfirm",e=>{var t,i;let{userStore:{userInfo:o},roomStore:{roomInfo:s},linkmicStore:{linkMicSeats:a},eventStore:{basicEvent:l,linkmicBaseEvent:m}}=this.store,_=m.getLinkMicParams(),v=null==s?void 0:null===(i=s.room)||void 0===i?void 0:null===(t=i.admin_user_ids_str)||void 0===t?void 0:t.includes(null==o?void 0:o.id_str),d=Object.values(a).some(e=>{var t,i;return(null==e?void 0:null===(i=e.user)||void 0===i?void 0:null===(t=i.user)||void 0===t?void 0:t.id_str)===(null==o?void 0:o.id_str)});window.collectEvent("livesdk_guest_connection_request_song_select_confirm",(0,r._)((0,n._)({},e,l.getCommonEventParams(),l.getPlayerCommonEventParams(),l.getEnterEventParams(),m.getOrderSingParams(),_,m.getOrderSingLayoutType()),{user_type:v?"administrator":d?"guest":"user"}))}),(0,o._)(this,"livesdkAnchorConnectionRequestSongButtonClick",e=>{var t,i;let{userStore:{userInfo:o},roomStore:{roomInfo:s},linkmicStore:{linkMicSeats:a},eventStore:{basicEvent:l,linkmicBaseEvent:m}}=this.store,_=m.getLinkMicParams(),v=null==s?void 0:null===(i=s.room)||void 0===i?void 0:null===(t=i.admin_user_ids_str)||void 0===t?void 0:t.includes(null==o?void 0:o.id_str),d=Object.values(a).some(e=>{var t,i;return(null==e?void 0:null===(i=e.user)||void 0===i?void 0:null===(t=i.user)||void 0===t?void 0:t.id_str)===(null==o?void 0:o.id_str)});window.collectEvent("livesdk_anchor_connection_request_song_button_click",(0,r._)((0,n._)({},e,l.getCommonEventParams(),l.getPlayerCommonEventParams(),l.getEnterEventParams(),m.getOrderSingParams(),m.getOrderSingV3Params(),_,m.getOrderSingLayoutType()),{user_type:v?"administrator":d?"guest":"user"}))}),(0,o._)(this,"liveSdkLiveGuestEnlargeOver",e=>{let{eventStore:{basicEvent:t,linkmicBaseEvent:i,pkEvent:o},linkmicStore:{linkMicLayout:s}}=this.store;window.collectEvent("livesdk_live_guest_enlarge_over",(0,r._)((0,n._)((0,r._)((0,n._)({},t.getCommonEventParams(),t.getPlayerCommonEventParams(),t.getEnterEventParams(),i.getLinkMicParams(),o.getRoomPKParams(),i.getOrderSingParams(),i.getOrderSingLayoutType(),this.getEnlargeParams(),i.getOrderSingV3Params()),{is_double:s===f.yP.VIDEO_2V4V4?1:0}),e),{duration:y.Ul.getTotal(),double_enlarge_duration:y.mp.getTotal()})),y.Ul.reset(),y.mp.reset()}),(0,o._)(this,"liveRequestSongInterruptEvent",e=>{var t;let{linkmicStore:{orderSingInfo:i},eventStore:{basicEvent:o,linkmicBaseEvent:s}}=this.store,a="";null==i||null===(t=i.user_microphone_list)||void 0===t||t.map(t=>{var i,o,n,r;String(null===(i=t.order_user)||void 0===i?void 0:i.id)===e&&((null==t?void 0:null===(r=t.microphone_list)||void 0===r?void 0:null===(n=r.filter(e=>(null==e?void 0:e.microphone_type)===P.W5.GOLDEN_MICROPHONE))||void 0===n?void 0:null===(o=n[0])||void 0===o?void 0:o.micro_phone_num)>0?P.W5.GOLDEN_MICROPHONE:P.W5.SILVER_MICROPHONE,a="golden_mic")}),window.collectEvent("livesdk_anchor_connection_request_song_interrupt",(0,r._)((0,n._)({},o.getCommonEventParams(),o.getPlayerCommonEventParams(),o.getEnterEventParams(),s.getLinkMicParams(),s.getOrderSingParams()),{user_type:"administrator",request_song_guest_id:e,request_song_guest_level:a}))}),(0,o._)(this,"liveRequestSongInviteEvent",(e,t)=>{var i,o;let{linkmicStore:{orderSingInfo:s},eventStore:{basicEvent:a,linkmicBaseEvent:l}}=null!==(o=this.store)&&void 0!==o?o:{},m="";null==s||null===(i=s.user_microphone_list)||void 0===i||i.map(e=>{var i,o,n,r;String(null===(i=e.order_user)||void 0===i?void 0:i.id)===t&&((null==e?void 0:null===(r=e.microphone_list)||void 0===r?void 0:null===(n=r.filter(e=>(null==e?void 0:e.microphone_type)===P.W5.GOLDEN_MICROPHONE))||void 0===n?void 0:null===(o=n[0])||void 0===o?void 0:o.micro_phone_num)>0?P.W5.GOLDEN_MICROPHONE:P.W5.SILVER_MICROPHONE,m="golden_mic")}),window.collectEvent("livesdk_anchor_connection_request_song_invite",(0,r._)((0,n._)({},a.getCommonEventParams(),a.getPlayerCommonEventParams(),a.getEnterEventParams(),l.getLinkMicParams(),l.getOrderSingParams()),{user_type:"administrator",request_song_line_up:e,request_song_guest_id:t,request_song_guest_level:m}))}),(0,o._)(this,"liveRoomGroupPKOthersClickEvent",e=>{var t,i,o,s,a,l;let m,{position:_=0,user:v={},actionType:d="head",gameName:u="",showTab:c=""}=e,{userStore:{userInfo:g},linkmicStore:{teamfightInfo:h,linkMicLayout:p},eventStore:{basicEvent:P,linkmicBaseEvent:E,pkEvent:y}}=null!==(l=this.store)&&void 0!==l?l:{},k=!1;null==h||null===(t=h.team_infos)||void 0===t||t.map(e=>{var t;null===(t=e.players)||void 0===t||t.map(e=>{(null==g?void 0:g.id_str)===String(e.user_id)&&(k=!0),(null==v?void 0:v.id_str)===String(e.user_id)&&(m=e)})});let S=null==h?void 0:null===(i=h.team_infos)||void 0===i?void 0:i.some(e=>{var t;return null==e?void 0:null===(t=e.players)||void 0===t?void 0:t.some(e=>{if((null==v?void 0:v.id_str)===String(null==e?void 0:e.user_id))return!0})}),C=0===_||p===f.yP.VIDEO_6V6&&_===f.Lf[p],w=(0,r._)((0,n._)({},P.getCommonEventParams(),P.getPlayerCommonEventParams(),P.getEnterEventParams(),E.getLinkMicParams(),y.getRoomPKParams()),{to_user_id:null==v?void 0:v.id_str,user_id:null===(a=this.store)||void 0===a?void 0:null===(s=a.userStore)||void 0===s?void 0:null===(o=s.userInfo)||void 0===o?void 0:o.id,to_user_type:E.isGroupFight()?S?"guest":"user":C,user_type:k?"guest":"user",others_income:m&&m.score,pc_live_action_type:d,game_name:E.isGuestBattle()?"boom":u,show_tab:E.isGuestBattle()?"contribution":c,user_cnt:E.getGroupFightGusetCnt()});window.collectEvent("livesdk_room_grouppk_others_guest_click",w)}),(0,o._)(this,"liveRoomGroupPkResultShowEvent",e=>{var t;let{userStore:{userInfo:i},linkmicStore:{teamfightInfo:o},eventStore:{basicEvent:s,linkmicBaseEvent:a,pkEvent:l}}=this.store,m=!1;null==o||null===(t=o.team_infos)||void 0===t||t.map(e=>{var t;null===(t=e.players)||void 0===t||t.map(e=>{(null==i?void 0:i.id_str)===String(e.user_id)&&(m=!0)})}),window.collectEvent("livesdk_room_grouppk_result_show",(0,n._)((0,r._)((0,n._)({},s.getCommonEventParams(),s.getPlayerCommonEventParams(),s.getEnterEventParams(),a.getLinkMicParams(),l.getRoomPKParams()),{user_type:m?"guest":"user",user_id:null==i?void 0:i.id_str}),a.isCrossLink()?{play_mode:"link_room"}:{},e))}),(0,o._)(this,"liveRoomTeamfightResultShowEvent",e=>{var t;let{userStore:{userInfo:i},linkmicStore:{teamfightInfo:o},eventStore:{basicEvent:s,linkmicBaseEvent:a}}=this.store,l=!1;null==o||null===(t=o.team_infos)||void 0===t||t.map(e=>{var t;null===(t=e.players)||void 0===t||t.map(e=>{(null==i?void 0:i.id_str)===String(e.user_id)&&(l=!0)})}),window.collectEvent("livesdk_chatroom_grouppk_result_show",(0,r._)((0,n._)({},s.getCommonEventParams(),s.getPlayerCommonEventParams(),s.getEnterEventParams(),a.getLinkMicParams()),{game_name:"grouppk",user_type:l?"guest":"user",user_id:s.getUserId(),settle_time:null==o?void 0:o.duration,blue_money:e.blueMoney,red_money:e.redMoney,blue_guest_cnt:e.blueGuestCnt,red_guest_cnt:e.redGuestCnt,red_to_user_id:e.redUserId,blue_to_user_id:e.blueUserId,red_crown_type:e.redCrownType,blue_crown_type:e.blueCrownType}))}),(0,o._)(this,"liveRoomGameMvpCrownShowEvent",e=>{var t,i;let{userStore:{userInfo:o},linkmicStore:{teamfightInfo:s},eventStore:{basicEvent:a,linkmicBaseEvent:l,pkEvent:m}}=null!==(i=this.store)&&void 0!==i?i:{},_=!1;null==s||null===(t=s.team_infos)||void 0===t||t.map(e=>{var t;null===(t=e.players)||void 0===t||t.map(e=>{(null==o?void 0:o.id_str)===String(e.user_id)&&(_=!0)})}),window.collectEvent("livesdk_chatroom_game_mvp_crown_show",(0,r._)((0,n._)({},a.getCommonEventParams(),a.getPlayerCommonEventParams(),a.getEnterEventParams(),l.getLinkMicParams(),m.getRoomPKParams()),{user_type:_?"guest":"user",red_to_user_id:e.redUserId,blue_to_user_id:e.blueUserId,red_crown_type:e.redCrownType,blue_crown_type:e.blueCrownType,my_team_type:e.myTeamType}))}),(0,o._)(this,"liveConnectionListShowEvent",e=>{var t,i;let{linkMicLayout:o,linkMicSeats:s}=this.store.linkmicStore,{eventStore:{basicEvent:a,linkmicBaseEvent:l,pkEvent:m}}=null!==(i=this.store)&&void 0!==i?i:{},_=null===(t=Object.values(s).filter(e=>(null==e?void 0:e.user)&&e))||void 0===t?void 0:t.length;window.collectEvent("livesdk_connection_contribution_list_show",(0,r._)((0,n._)({},a.getCommonEventParams(),a.getPlayerCommonEventParams(),a.getEnterEventParams(),l.getLinkMicParams()),{user_cnt:o===f.yP.VIDEO_6V6?_-2:_-1,show_tab:"contribution",to_user_id:null==e?void 0:e.id_str,game_name:o&&k.kV[o]}))}),(0,o._)(this,"liveRoomGroupPkRuleShowEvent",()=>{var e;let{eventStore:{basicEvent:t,linkmicBaseEvent:i,pkEvent:o}}=null!==(e=this.store)&&void 0!==e?e:{};window.collectEvent("livesdk_room_grouppk_rules_show",(0,n._)({},t.getCommonEventParams(),t.getPlayerCommonEventParams(),t.getEnterEventParams(),i.getLinkMicParams(),o.getRoomPKParams()))}),(0,o._)(this,"liveLinkMicRoomShowEvent",e=>{var t;let{eventStore:{basicEvent:i,linkmicBaseEvent:o}}=null!==(t=this.store)&&void 0!==t?t:{},s={play_mode:"grouppk",play_stage:o.getGorupFightStage()},a={compete_mode:o.getGuestBattleCompetaMode(),play_mode:"boom",play_stage:o.getGuestBattleStage()},l=(0,r._)((0,n._)({},i.getCommonEventParams(),i.getPlayerCommonEventParams(),i.getEnterEventParams(),o.getLinkMicNoUserTypeParams(),o.isGroupFight()?s:{},o.isGuestBattle()?a:{},o.isCrossLink()?{play_mode:"link_room"}:{}),{layout_type:o.getLayoutParams(e)});window.collectEvent("livesdk_audience_voice_room_show",l),y.Ys.start()}),(0,o._)(this,"liveAdminInviteEvent",e=>{var t;let{eventStore:{basicEvent:i,linkmicBaseEvent:o}}=null!==(t=this.store)&&void 0!==t?t:{};window.collectEvent("livesdk_anchor_admin_invite_guest",(0,r._)((0,n._)({},i.getCommonEventParams(),i.getPlayerCommonEventParams(),i.getEnterEventParams(),o.getLinkMicParams()),{invitee_id:e}))}),(0,o._)(this,"liveAdminManageEvent",(e,t)=>{var i;let{eventStore:{basicEvent:o,linkmicBaseEvent:s}}=null!==(i=this.store)&&void 0!==i?i:{};window.collectEvent("livesdk_anchor_admin_guest_management",(0,r._)((0,n._)({},o.getCommonEventParams(),o.getPlayerCommonEventParams(),o.getEnterEventParams(),s.getLinkMicParams()),{link_user_id:t,management_type:e}))}),(0,o._)(this,"liveApplyPanelShowEvent",(e,t)=>{var i;let{eventStore:{basicEvent:o,linkmicBaseEvent:s}}=null!==(i=this.store)&&void 0!==i?i:{};window.collectEvent("livesdk_audience_apply_panel_show",(0,r._)((0,n._)({},o.getCommonEventParams(),o.getPlayerCommonEventParams(),o.getEnterEventParams(),s.getLinkMicParams(),e),{user_type:t}))}),(0,o._)(this,"liveAudienceRoomLayoutShow",(e,t)=>{var i,o;let s=null===(o=this.store)||void 0===o?void 0:null===(i=o.linkmicStore)||void 0===i?void 0:i.hasEnlargedSeat,{eventStore:{basicEvent:a,linkmicBaseEvent:l}}=this.store,m=s?e===f.yP.AUDIO_DOUBLE_C?"seat_enlarge_double":"seat_enlarge":[f.yP.VIDEO_DYNAMIC,f.yP.VIDEO_DYNAMIC_FLOAT,f.yP.VIDEO_1_V_3,f.yP.VIDEO_1_V_6].includes(e)?"seat_fit":"normal",_=(0,r._)((0,n._)({},a.getCommonEventParams(),a.getPlayerCommonEventParams(),a.getEnterEventParams(),this.getEnlargeParams(e),l.getLinkMicParams(t)),{layout_type:m});y.RS.start(),window.collectEvent("livesdk_audience_room_layout_show",_)}),(0,o._)(this,"liveVoiceRoomLayoutWatchDuration",(e,t,i)=>{let{eventStore:{basicEvent:o,linkmicBaseEvent:s},linkmicStore:{lastOpenUiLayout:a}}=this.store,l=y.RS.getTotal(),m=(0,r._)((0,n._)({},o.getCommonEventParams(),o.getPlayerCommonEventParams(),o.getEnterEventParams(),this.getEnlargeParams(i,a),s.getLinkMicParams(t),t?{function_type2:t}:{}),{duration:l,layout_type:e});y.RS.reset(),l>1&&window.collectEvent("livesdk_voice_room_layout_watch_duration",m)}),(0,o._)(this,"livePassAudienceLinkEvent",(e,t)=>{let{eventStore:{basicEvent:i,linkmicBaseEvent:o}}=this.store,s={compete_mode:o.getGuestBattleCompetaMode(),play_mode:"boom",play_stage:o.getGuestBattleStage()},a={play_mode:"grouppk",play_stage:o.getGorupFightStage(),grouppk_group:o.getGroupFightGroupType()},l=(0,r._)((0,n._)({},i.getCommonEventParams(),i.getPlayerCommonEventParams(),i.getEnterEventParams(),o.getLinkMicParams(),o.getLinkMicNoUserTypeParams(),o.isGroupFight()?a:{},o.isGuestBattle()?s:{}),{link_user_id:e,is_application:1,pass_type:"administrator",request_page:"list",is_enlarge_seat:t});window.collectEvent("livesdk_anchor_audience_connection_pass",l)}),(0,o._)(this,"liveGamePauseIconEvent",e=>{let{eventStore:{basicEvent:t,linkmicBaseEvent:i}}=this.store;window.collectEvent("livesdk_connection_game_pause_icon_click",(0,r._)((0,n._)({},t.getCommonEventParams(),t.getPlayerCommonEventParams(),t.getEnterEventParams(),i.getLinkMicParams()),{click_type:e,compete_mode:i.getGuestBattleCompetaMode()}))}),(0,o._)(this,"liveChatRoomSettingsShowEvent",(e,t)=>{let{eventStore:{basicEvent:i,linkmicBaseEvent:o}}=this.store,s=(0,r._)((0,n._)({},i.getCommonEventParams(),i.getPlayerCommonEventParams(),i.getEnterEventParams(),o.getLinkMicParams()),{play_stage:o.getGuestBattleStage(),button_type:e,pc_live_action_type:t});window.collectEvent("livesdk_chatroom_game_bomb_settings_page",s)}),(0,o._)(this,"liveGameOneMoreEvent",(e,t)=>{let{eventStore:{basicEvent:i,linkmicBaseEvent:o}}=this.store;window.collectEvent("livesdk_audience_battle_page_oncemore_click",(0,r._)((0,n._)({},i.getCommonEventParams(),i.getPlayerCommonEventParams(),i.getEnterEventParams(),o.getLinkMicParams()),{game_name:"bomb",user_cnt:e,compete_mode:t}))}),(0,o._)(this,"liveGameOverEvent",()=>{let{eventStore:{basicEvent:e,linkmicBaseEvent:t}}=this.store;window.collectEvent("livesdk_audience_battle_page_end_click",(0,r._)((0,n._)({},e.getCommonEventParams(),e.getPlayerCommonEventParams(),e.getEnterEventParams(),t.getLinkMicParams()),{game_name:"bomb",user_cnt:t.getGuestBattleGusetCnt()+1,compete_mode:t.getGuestBattleCompetaMode()}))}),(0,o._)(this,"liveGroupFightStart",()=>{let{eventStore:{linkmicBaseEvent:e,basicEvent:t}}=this.store;window.collectEvent("livesdk_grouppk_start_click",(0,r._)((0,n._)({},null==t?void 0:t.getEnterEventParams(),e.getGroupFightEnterParams(),e.getGroupFightCommonParams()),{guest_cnt:e.getGroupFightGusetCnt()}))}),(0,o._)(this,"liveGroupFightStartSuccess",e=>{let{eventStore:{linkmicBaseEvent:t,basicEvent:i}}=this.store;window.collectEvent("livesdk_grouppk_start_res",(0,r._)((0,n._)({},null==i?void 0:i.getEnterEventParams(),t.getGroupFightEnterParams(),t.getGroupFightCommonParams()),{result:e}))}),(0,o._)(this,"liveGuestBattleAdminEnd",e=>{let{eventStore:{basicEvent:t,linkmicBaseEvent:i}}=this.store,o=(0,r._)((0,n._)({},t.getCommonEventParams(),t.getPlayerCommonEventParams(),t.getEnterEventParams(),i.getLinkMicParams()),{game_name:"bomb",user_cnt:i.getGuestBattleGusetCnt()+1,compete_mode:i.getGuestBattleCompetaMode(),click_content:e});window.collectEvent("livesdk_connection_game_quit_window",o)}),(0,o._)(this,"playModeApplyListshow",e=>{let{eventStore:{basicEvent:t,linkmicBaseEvent:i}}=this.store,o={compete_mode:i.getGuestBattleCompetaMode(),play_mode:"boom",play_stage:i.getGuestBattleStage()},s={play_mode:"grouppk",play_stage:i.getGorupFightStage(),grouppk_group:i.getGroupFightGroupType()},a=(0,r._)((0,n._)({},t.getCommonEventParams(),t.getPlayerCommonEventParams(),t.getEnterEventParams(),i.getLinkMicParams(),i.isGroupFight()?s:{},i.isGuestBattle()?o:{}),{request_page:"list",is_application:e});window.collectEvent("livesdk_anchor_audience_connection_pass_show",a)}),(0,o._)(this,"groupUserApplyPageShow",()=>{let{eventStore:{basicEvent:e,linkmicBaseEvent:t}}=this.store;window.collectEvent("livesdk_grouppk_user_apply_page_show",(0,r._)((0,n._)({},null==e?void 0:e.getEnterEventParams(),t.getGroupFightCommonParams(),t.getGroupFightEnterParams()),{play_stage:t.getGorupFightStage()}))}),(0,o._)(this,"groupUserApplyPageClick",(e,t)=>{let{eventStore:{linkmicBaseEvent:i,basicEvent:o}}=this.store;window.collectEvent("livesdk_grouppk_user_apply_page_click",(0,r._)((0,n._)({},null==o?void 0:o.getEnterEventParams(),i.getGroupFightCommonParams()),{play_stage:i.getGorupFightStage(),button_type:e,enter_from:t}))}),(0,o._)(this,"liveAudiencePlayModeRoomEvent",async function(){var e,i,o,s,a,l;let m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,_=arguments.length>1?arguments[1]:void 0,{eventStore:{basicEvent:v,linkmicBaseEvent:d,pkEvent:u},linkmicStore:{playModes:c}}=t.store,g=d.getLinkMicParams();d.isGroupFight()&&await d.waitForValue(null===(l=t.store)||void 0===l?void 0:null===(a=l.linkmicStore)||void 0===a?void 0:null===(s=a.teamfightInfo)||void 0===s?void 0:s.status,3e3);let h={play_mode:"grouppk",play_stage:d.getGorupFightStage(),guest_cnt:d.getGroupFightGusetCnt()},p={compete_mode:d.getGuestBattleCompetaMode(),play_mode:"boom",play_stage:d.getGuestBattleStage(),guest_cnt:d.getGuestBattleGusetCnt()};y.HX.start();let P=Object.assign((0,n._)((0,r._)((0,n._)({},null==v?void 0:null===(e=v.getCommonEventParams)||void 0===e?void 0:e.call(v),null==v?void 0:null===(i=v.getPlayerCommonEventParams)||void 0===i?void 0:i.call(v),null==v?void 0:null===(o=v.getEnterEventParams)||void 0===o?void 0:o.call(v),d.getLinkMicParams(),u.getRoomPKParams(),g,d.getOrderSingParams(),d.getOrderSingLayoutType()),{function_type:void 0!==m?d.getFunctionType(m):g.function_type}),_?{play_mode:_}:{}),d.isGroupFight()?h:{},d.isGuestBattle()?p:{},d.isCrossLink()?{play_mode:"link_room"}:{});window.collectEvent("livesdk_audience_playmode_room_watch",P)}),(0,o._)(this,"liveAudiencePlayModeRoomWatchDurationEvent",u()(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,{eventStore:{basicEvent:l,linkmicBaseEvent:m,pkEvent:_},linkmicStore:{playModes:v}}=t.store,d=m.getLinkMicParams(),u=_.getRoomPKParams(),c={play_mode:"grouppk",play_stage:m.getGorupFightStage(i),guest_cnt:m.getGroupFightGusetCnt()},g={play_mode:"room_grouppk",play_stage:m.getGorupFightStage(i),guest_cnt:m.getGroupFightGusetCnt()},h={compete_mode:m.getGuestBattleCompetaMode(a),play_mode:"boom",play_stage:m.getGuestBattleStage(a),guest_cnt:m.getGuestBattleGusetCnt()},p=v.map(e=>k.v[e]).filter(Boolean),P={};"request_song"in p&&(P=m.getOrderSingParams());let f=(0,n._)((0,r._)((0,n._)({},l.getCommonEventParams(),l.getPlayerCommonEventParams(),l.getEnterEventParams(),m.getLinkMicParams(),_.getRoomPKParams(),m.getOrderSingParams(o,s),m.getOrderSingLayoutType(),d),{play_stage:void 0===i?null==u?void 0:u.play_stage:(null==i?void 0:i.status)&&k._K[null==i?void 0:i.status],function_type:void 0!==e?m.getFunctionType(e):d.function_type,duration:y.HX.getTotal(),play_mode:o.includes(E.V0.LinkmicPlayMode_OrderSing)?"request_song":d.play_mode}),m.isGroupFight(i)?c:{},m.isGuestBattle(a)?h:{},m.isRoomBattle(i)?g:{},m.isCrossLink()?{play_mode:"link_room"}:{},P);window.collectEvent("livesdk_audience_playmode_room_watch_duration",f)},400)),(0,o._)(this,"liveAudiencePlayModeRoomLinkEvent",(e,t)=>{let{eventStore:{basicEvent:i,linkmicBaseEvent:o,pkEvent:s}}=this.store,a={play_mode:"grouppk",play_stage:o.getGorupFightStage(e),grouppk_group:o.getGroupFightGroupType(e)},l={play_mode:"room_grouppk",play_stage:o.getGorupFightStage(e),grouppk_group:o.getGroupFightGroupType(e)},m={compete_mode:o.getGuestBattleCompetaMode(),play_mode:"boom",play_stage:o.getGuestBattleStage()};window.collectEvent("livesdk_audience_playmode_room_link",(0,n._)((0,r._)((0,n._)({},i.getCommonEventParams(),i.getPlayerCommonEventParams(),i.getEnterEventParams(),o.getLinkMicParams(),s.getRoomPKParams(),o.isGroupFight(e)?a:{},o.isGuestBattle(e)?m:{},o.isRoomBattle(e)?l:{},o.isCrossLink()?{play_mode:"link_room"}:{}),{layout_type:o.getLayoutParams()}),t?{play_mode:t}:{})),y.ye.start()}),(0,o._)(this,"liveAudiencePlayModeRoomLinkDurationEvent",u()(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,{eventStore:{basicEvent:s,linkmicBaseEvent:a,pkEvent:l}}=t.store,m=l.getRoomPKParams(),_=a.getLinkMicParams(),v={play_mode:"grouppk",play_stage:a.getGorupFightStage(i),grouppk_group:a.getGroupFightGroupType(i)},d={compete_mode:a.getGuestBattleCompetaMode(o),play_mode:"boom",play_stage:a.getGuestBattleStage(o)};window.collectEvent("livesdk_audience_playmode_room_link_duration",(0,n._)((0,r._)((0,n._)({},s.getCommonEventParams(),s.getPlayerCommonEventParams(),s.getEnterEventParams(),a.getLinkMicParams(),l.getRoomPKParams(),_),{play_stage:void 0===i?null==m?void 0:m.play_stage:(null==i?void 0:i.status)&&k._K[null==i?void 0:i.status],function_type:void 0!==e?a.getFunctionType(e):_.function_type,duration:y.ye.getTotal()}),a.isGroupFight()?v:{},a.isGuestBattle()?d:{},a.isRoomBattle(i)?{play_mode:"room_grouppk"}:{},a.isCrossLink()?{play_mode:"link_room"}:{})),y.ye.reset()},400)),(0,o._)(this,"liveChatroomGameNamingShow",e=>{var t,i,o,s,a;let{eventStore:{basicEvent:l,linkmicBaseEvent:m,pkEvent:_}}=null!==(a=this.store)&&void 0!==a?a:{},v=2;null==e||null===(i=e.guestBattleInfo)||void 0===i||null===(t=i.results)||void 0===t||t.map(t=>{var i,o,n,r,s,a,l,m,_,d,u,c,g;(null==e?void 0:null===(i=e.userInfo)||void 0===i?void 0:i.nickname)===(null==t?void 0:t.nickname)?((null==e?void 0:null===(n=e.roomInfo)||void 0===n?void 0:null===(o=n.anchor)||void 0===o?void 0:o.id_str)===String(null==t?void 0:null===(r=t.title_sponsor)||void 0===r?void 0:r.id_str)&&(v=0),(null==e?void 0:null===(a=e.guestBattleInfo)||void 0===a?void 0:null===(s=a.results)||void 0===s?void 0:s.some(t=>{var i,o;return(null==t?void 0:null===(i=t.title_sponsor)||void 0===i?void 0:i.id_str)===(null==e?void 0:null===(o=e.userInfo)||void 0===o?void 0:o.id_str)}))&&(v=1)):((null==e?void 0:null===(m=e.roomInfo)||void 0===m?void 0:null===(l=m.anchor)||void 0===l?void 0:l.id_str)===String(null==t?void 0:null===(_=t.user)||void 0===_?void 0:_.id_str)&&String(null==t?void 0:null===(d=t.title_sponsor)||void 0===d?void 0:d.id_str)===String(null==t?void 0:null===(u=t.user)||void 0===u?void 0:u.id_str)&&(v=0),(null==e?void 0:null===(c=e.userInfo)||void 0===c?void 0:c.id_str)===String(null==t?void 0:null===(g=t.user)||void 0===g?void 0:g.id_str)&&(v=1))}),null==e||null===(s=e.teamfightInfo)||void 0===s||null===(o=s.team_infos)||void 0===o||o.map(t=>{var i;null===(i=t.players)||void 0===i||i.map(t=>{var i,o,n;(null==e?void 0:null===(o=e.roomInfo)||void 0===o?void 0:null===(i=o.anchor)||void 0===i?void 0:i.id_str)===String(t.user_id)&&(v=0),(null==e?void 0:null===(n=e.userInfo)||void 0===n?void 0:n.id_str)===String(t.user_id)&&(v=1)})}),window.collectEvent("livesdk_chatroom_game_naming_show",(0,r._)((0,n._)({},l.getCommonEventParams(),l.getPlayerCommonEventParams(),l.getEnterEventParams(),m.getLinkMicParams()),{play_mode:null==e?void 0:e.playMode,crown_type:null==e?void 0:e.crownType,user_type:{0:"anchor",1:"guest",2:"user"}[v],to_user_id:null==e?void 0:e.toUserId,play_stage:"ongoing",hornor_detail:null==e?void 0:e.hornorDetail,naming_userid:null==e?void 0:e.namingUserid}))}),(0,o._)(this,"liveChatroomHornorToastMessage",e=>{var t,i;let{userStore:{userInfo:o},linkmicStore:{teamfightInfo:s},roomStore:{roomInfo:a},eventStore:{basicEvent:l,linkmicBaseEvent:m,pkEvent:_}}=null!==(i=this.store)&&void 0!==i?i:{},v=2;null==s||null===(t=s.team_infos)||void 0===t||t.map(e=>{var t;null===(t=e.players)||void 0===t||t.map(e=>{var t;(null==a?void 0:null===(t=a.anchor)||void 0===t?void 0:t.id_str)===String(e.user_id)&&(v=0),(null==o?void 0:o.id_str)===String(e.user_id)&&(v=1)})}),window.collectEvent("livesdk_chatroom_game_mvp_crown_show",(0,r._)((0,n._)({},l.getCommonEventParams(),l.getPlayerCommonEventParams(),l.getEnterEventParams(),m.getLinkMicParams()),{user_type:{0:"anchor",1:"guest",2:"user"}[v],is_anchor:0===v?1:0,action_type:"show",meaasge_type:"audiencehornor",message_detail:null==e?void 0:e.messageDetail,message_naminguserid:null==e?void 0:e.messageNaminguserid}))}),(0,o._)(this,"liveAudiencePlaymodeMissionIconShow",e=>{var t;let{eventStore:{basicEvent:i,linkmicBaseEvent:o}}=null!==(t=this.store)&&void 0!==t?t:{};window.collectEvent("live_audience_playmode_mission_icon_show",(0,r._)((0,n._)({},i.getCommonEventParams(),i.getPlayerCommonEventParams(),i.getEnterEventParams(),o.getLinkMicParams()),{play_mode:null==e?void 0:e.play_mode,user_id:i.getUserId(),user_type:o.getGroupFightUserType(),mission_id:null==e?void 0:e.mission_id,mission_type:null==e?void 0:e.mission_type,mission_target:null==e?void 0:e.mission_target,mission_time:null==e?void 0:e.mission_time,mission_start_from_pkend:null==e?void 0:e.mission_start_from_pkend,mission_from:null==e?void 0:e.mission_from}))}),(0,o._)(this,"liveAudiencePlaymodeMissionIconClick",e=>{var t;let{eventStore:{basicEvent:i,linkmicBaseEvent:o}}=null!==(t=this.store)&&void 0!==t?t:{};window.collectEvent("live_audience_playmode_mission_icon_click",(0,r._)((0,n._)({},i.getCommonEventParams(),i.getPlayerCommonEventParams(),i.getEnterEventParams(),o.getLinkMicParams()),{play_mode:null==e?void 0:e.play_mode,user_id:i.getUserId(),user_type:o.getGroupFightUserType(),mission_id:null==e?void 0:e.mission_id,mission_type:null==e?void 0:e.mission_type,mission_target:null==e?void 0:e.mission_target,mission_time:null==e?void 0:e.mission_time,mission_start_from_pkend:null==e?void 0:e.mission_start_from_pkend,mission_from:null==e?void 0:e.mission_from}))}),(0,o._)(this,"liveAudiencePlaymodeMissionResultShow",e=>{var t;let{eventStore:{basicEvent:i,linkmicBaseEvent:o}}=null!==(t=this.store)&&void 0!==t?t:{};window.collectEvent("live_audience_playmode_mission_result_show",(0,r._)((0,n._)({},i.getCommonEventParams(),i.getPlayerCommonEventParams(),i.getEnterEventParams(),o.getLinkMicParams()),{play_mode:null==e?void 0:e.play_mode,user_id:i.getUserId(),user_type:o.getGroupFightUserType(),mission_id:null==e?void 0:e.mission_id,mission_type:null==e?void 0:e.mission_type,mission_target:null==e?void 0:e.mission_target,mission_time:null==e?void 0:e.mission_time,mission_start_from_pkend:null==e?void 0:e.mission_start_from_pkend,mission_from:null==e?void 0:e.mission_from,mission_result:null==e?void 0:e.mission_result}))}),(0,o._)(this,"liveAudiencePlaymodeMissionBuffResultShow",e=>{var t;let{eventStore:{basicEvent:i,linkmicBaseEvent:o}}=null!==(t=this.store)&&void 0!==t?t:{};window.collectEvent("live_audience_playmode_mission_buffresult_show",(0,r._)((0,n._)({},i.getCommonEventParams(),i.getPlayerCommonEventParams(),i.getEnterEventParams(),o.getLinkMicParams()),{play_mode:null==e?void 0:e.play_mode,user_id:i.getUserId(),user_type:o.getGroupFightUserType(),mission_id:null==e?void 0:e.mission_id,mission_type:null==e?void 0:e.mission_type,mission_target:null==e?void 0:e.mission_target,mission_time:null==e?void 0:e.mission_time,mission_start_from_pkend:null==e?void 0:e.mission_start_from_pkend,mission_from:null==e?void 0:e.mission_from,mission_buffnum:null==e?void 0:e.mission_buffnum}))}),(0,o._)(this,"linkAuidenceJoinRoomWithoutPreloadICE",()=>{var e;let{eventStore:{basicEvent:t,linkmicBaseEvent:i}}=null!==(e=this.store)&&void 0!==e?e:{};window.collectEvent("live_auidence_joinroom_without_preload_ice",(0,r._)((0,n._)({},t.getCommonEventParams(),t.getPlayerCommonEventParams(),t.getEnterEventParams(),i.getLinkMicParams()),{user_id:t.getUserId(),user_type:i.getGroupFightUserType()}))}),(0,o._)(this,"linkAuidenceActiveWithPreloadICE",()=>{var e;let{eventStore:{basicEvent:t,linkmicBaseEvent:i}}=null!==(e=this.store)&&void 0!==e?e:{};window.collectEvent("live_auidence_active_with_preload_ice",(0,r._)((0,n._)({},t.getCommonEventParams(),t.getPlayerCommonEventParams(),t.getEnterEventParams(),i.getLinkMicParams()),{user_id:t.getUserId(),user_type:i.getGroupFightUserType()}))}),(0,o._)(this,"linkAuidenceVoiceroomCaptionShow",()=>{y.MP.start()}),(0,o._)(this,"linkAuidenceVoiceroomCaptionUseDuration",()=>{var e;let{eventStore:{basicEvent:t,linkmicBaseEvent:i}}=null!==(e=this.store)&&void 0!==e?e:{};y.MP.getTotal()>0&&(window.collectEvent("livesdk_audience_voiceroom_caption_use_duration",(0,r._)((0,n._)({},t.getCommonEventParams(),t.getPlayerCommonEventParams(),t.getEnterEventParams(),i.getLinkMicParams()),{duration:y.MP.getTotal()})),y.MP.reset())}),this.store=e}}},243085:function(e,t,i){i.d(t,{p:function(){return s}});var o=i(134761),n=i(520739),r=i(878389);class s{constructor(e){(0,o._)(this,"store",null),(0,o._)(this,"liveLeadingLoginShowEvent",(e,t,i)=>{let{eventStore:{basicEvent:o}}=this.store;window.collectEvent("hd_login_guide_show",(0,r._)((0,n._)({},null==o?void 0:o.getEnterEventParams()),{parmas_for_special:"uc_login",guide_type:e,enter_from:t,clarity:i}))}),(0,o._)(this,"liveLeadingLoginClickEvent",(e,t,i,o,s)=>{let{eventStore:{basicEvent:a}}=this.store;window.collectEvent("hd_login_guide_click",(0,r._)((0,n._)({},null==a?void 0:a.getEnterEventParams()),{guide_type:e,enter_from:t,clarity:i,parmas_for_special:"uc_login",action:o,duration:s}))}),(0,o._)(this,"liveLeadingLoginCrashEvent",(e,t)=>{let{eventStore:{basicEvent:i}}=this.store;window.collectEvent("hd_login_guide_click",(0,r._)((0,n._)({},null==i?void 0:i.getEnterEventParams()),{guide_type:e,enter_from:t,parmas_for_special:"uc_login"}))}),this.store=e}}},428627:function(e,t,i){i.d(t,{CT:function(){return a},Uh:function(){return l}});var o=i(134761),n=i(520739),r=i(878389),s=i(457388),a={Invite:1,1:"Invite",Message:2,2:"Message"};class l{constructor(e){(0,o._)(this,"store",null),(0,o._)(this,"parserParams",e=>{var t,i,o,s,a;return(0,r._)((0,n._)({},null!=e?e:{}),{err:null==e?void 0:null===(t=e.err)||void 0===t?void 0:t.error,code:null!==(s=null==e?void 0:null===(i=e.err)||void 0===i?void 0:i.code)&&void 0!==s?s:"NOT_CATCH",message:null!==(a=null==e?void 0:null===(o=e.err)||void 0===o?void 0:o.message)&&void 0!==a?a:"NOT_CATCH"})}),(0,o._)(this,"getChoosePeopleInfo",()=>{try{let{linkmicStore:{choosePeopleArr:e,choosePeopleAll:t,choosePeopleShowTCC:i,choosePanelVisible:o,allowSendGiftGuest:n,useChoosePeopleFunc:r}}=this.store;return{choosePeopleArr:e,choosePeopleAll:t,choosePeopleShowTCC:i,choosePanelVisible:o,allowSendGiftGuest:n,useChoosePeopleFunc:r}}catch(e){}return{}}),(0,o._)(this,"getCommonInfo",()=>{try{var e,t,i;let{linkmicStore:{linkMicLayout:o,playModes:n,playModesPC:r,imLinkMicSeats:s,selectedLinkMicDevices:a},roomStore:{roomInfo:l},userStore:{userInfo:m}}=this.store,_=null===(i=Object.values(s).filter(e=>{var t,i;return(null==e?void 0:null===(i=e.user)||void 0===i?void 0:null===(t=i.user)||void 0===t?void 0:t.id_str)===m.id_str}))||void 0===i?void 0:null===(t=i[0])||void 0===t?void 0:null===(e=t.user)||void 0===e?void 0:e.linkmic_id_str;return{linkMicLayout:o,playModesPC:r,playModes:n,roomId:null==l?void 0:l.roomId,linkmicId:_,linkmicDevices:a}}catch(e){}return{}}),(0,o._)(this,"linkmicApplyClickLog",()=>{s.ZP.event("live_linkmic_apply_click",(0,n._)({},this.getCommonInfo()))}),(0,o._)(this,"linkmicDeviceChooseLog",e=>{s.ZP.event("live_linkmic_device_choose",(0,r._)((0,n._)({},this.getCommonInfo()),{devices:e}))}),(0,o._)(this,"linkmicApplyRequestLog",e=>{s.ZP.event("live_linkmic_apply_request",(0,r._)((0,n._)({},this.getCommonInfo()),{statusCode:e}))}),(0,o._)(this,"linkmicJoinChannelLog",e=>{s.ZP.event("live_linkmic_join_channel",(0,r._)((0,n._)({},this.getCommonInfo()),{statusCode:e}))}),(0,o._)(this,"linkmicJoinRTCRoomLog",e=>{s.ZP.event("live_linkmic_join_rtc_room",(0,r._)((0,n._)({},this.getCommonInfo()),{params:e}))}),(0,o._)(this,"linkmicCreateLocalStreamLog",e=>{s.ZP.event("live_linkmic_create_local_stream",(0,r._)((0,n._)({},this.getCommonInfo()),{params:e}))}),(0,o._)(this,"linkmicJoinRoomLog",e=>{s.ZP.event("live_linkmic_join_room",(0,r._)((0,n._)({},this.getCommonInfo()),{params:e}))}),(0,o._)(this,"linkmicCreateStreamsLog",e=>{s.ZP.event("live_linkmic_create_streams",(0,r._)((0,n._)({},this.getCommonInfo()),{params:e}))}),(0,o._)(this,"linkmicLeaveClickLog",()=>{s.ZP.event("live_linkmic_leave_click",(0,n._)({},this.getCommonInfo()))}),(0,o._)(this,"linkmicLeaveRequestLog",e=>{s.ZP.event("live_linkmic_leave_request",(0,r._)((0,n._)({},this.getCommonInfo()),{statusCode:e}))}),(0,o._)(this,"linkmicSilenceClickLog",()=>{s.ZP.event("live_linkmic_silence_click",(0,n._)({},this.getCommonInfo()))}),(0,o._)(this,"linkmicSilenceRequestLog",e=>{s.ZP.event("live_linkmic_silence_request",(0,r._)((0,n._)({},this.getCommonInfo()),{statusCode:e}))}),(0,o._)(this,"linkmicMuteAudioLog",e=>{s.ZP.event("live_linkmic_mute_audio",(0,r._)((0,n._)({},this.getCommonInfo()),{params:e}))}),(0,o._)(this,"linkmicUnsilenceClickLog",()=>{s.ZP.event("live_linkmic_unsilence_click",(0,n._)({},this.getCommonInfo()))}),(0,o._)(this,"linkmicStartAudioLog",()=>{s.ZP.event("live_linkmic_start_audio",(0,n._)({},this.getCommonInfo()))}),(0,o._)(this,"linkmicLeaveRoomLogicLog",e=>{s.ZP.event("live_linkmic_leave_room_logic",(0,r._)((0,n._)({},this.getCommonInfo()),{type:e}))}),(0,o._)(this,"linkmicLeaveRoomLog",e=>{s.ZP.event("live_linkmic_mute_audio",(0,r._)((0,n._)({},this.getCommonInfo()),{params:e}))}),(0,o._)(this,"linkmicLinkMessageImLog",e=>{s.ZP.event("live_linkmic_link_message_im",(0,r._)((0,n._)({},this.getCommonInfo()),{messageType:e}))}),(0,o._)(this,"linkmicLinkmicMethodImLog",e=>{s.ZP.event("live_linkmic_linkmic_method_im",(0,r._)((0,n._)({},this.getCommonInfo()),{messageType:e}))}),(0,o._)(this,"linkmicTeamfightMessageImLog",e=>{s.ZP.event("live_linkmic_teamfight_message_im",(0,r._)((0,n._)({},this.getCommonInfo()),{messageType:e}))}),(0,o._)(this,"linkmicSetRemoteVideoPlayerLog",(e,t)=>{s.ZP.event("live_linkmic_set_remote_video_player",(0,r._)((0,n._)({},this.getCommonInfo()),{uid:e,type:t}))}),(0,o._)(this,"linmicSetLocalVideoPlayerLog",()=>{s.ZP.event("live_linkmic_set_local_video_player",(0,n._)({},this.getCommonInfo()))}),(0,o._)(this,"linkmicVideoFirstFrameDecodedLog",e=>{s.ZP.event("live_linkmic_video_first_frame_decoded",(0,r._)((0,n._)({},this.getCommonInfo()),{userId:e}))}),(0,o._)(this,"linkmicAudioFirstFrameDecodedLog",e=>{s.ZP.event("live_linkmic_audio_first_frame_decoded",(0,r._)((0,n._)({},this.getCommonInfo()),{userId:e}))}),(0,o._)(this,"linkmicJoinRoomFailed",e=>{s.ZP.event("live_linkmic_joinroom_failed",(0,n._)({},this.getCommonInfo(),this.parserParams(e)))}),(0,o._)(this,"linkmicInviteLinkFailed",e=>{s.ZP.event("live_linkmic_invitelink_failed",(0,n._)({},this.getCommonInfo(),this.parserParams(e)))}),(0,o._)(this,"linkmicStartDeviceCapture",e=>{s.ZP.event("live_linkmic_start_device_capture_failed",(0,n._)({},this.getCommonInfo(),this.parserParams(e)))}),(0,o._)(this,"linkmicAIAnsOpen",e=>{s.ZP.event("live_linkmic_aians_open",(0,n._)({},this.getCommonInfo(),this.parserParams(e)))}),(0,o._)(this,"linkmicAIAnsCpuCritical",e=>{s.ZP.event("live_linkmic_aians_cpu_critical",(0,n._)({},this.getCommonInfo(),this.parserParams(e)))}),(0,o._)(this,"linkmicPublishStreamFailed",e=>{s.ZP.event("live_linkmic_publish_stream_failed",(0,n._)({},this.getCommonInfo(),this.parserParams(e)))}),(0,o._)(this,"linkmicVideoMountFailed",e=>{s.ZP.event("live_linkmic_video_mount_failed",(0,n._)({},this.getCommonInfo(),this.parserParams(e)))}),(0,o._)(this,"linkmicVideoAutoPlayFailed",e=>{s.ZP.event("live_linkmic_video_auto_play_failed",(0,n._)({},this.getCommonInfo(),this.parserParams(e)))}),(0,o._)(this,"linkmicVideoPlayerFailed",e=>{s.ZP.event("live_linkmic_video_player_failed",(0,n._)({},this.getCommonInfo(),this.parserParams(e)))}),(0,o._)(this,"sendGiftApiEvent",e=>{s.ZP.event("live_send_gift_api",(0,n._)({},this.getCommonInfo(),this.getChoosePeopleInfo(),e))}),(0,o._)(this,"sendGiftApiCbEvent",e=>{s.ZP.event("live_send_gift_api_cb",(0,n._)({},this.getCommonInfo(),this.getChoosePeopleInfo(),e))}),(0,o._)(this,"linkmicReadyToLink",e=>{s.ZP.event("live_linkmic_ready_to_link",(0,r._)((0,n._)({},this.getCommonInfo(),this.getChoosePeopleInfo()),{from:e}))}),(0,o._)(this,"linkmicJoinRTCSuccess",()=>{s.ZP.event("live_linkmic_join_rtc_success",(0,n._)({},this.getCommonInfo(),this.getChoosePeopleInfo()))}),(0,o._)(this,"linkmicJoinRTCFail",e=>{s.ZP.event("live_linkmic_join_rtc_fail",(0,n._)({},this.getCommonInfo(),this.parserParams(e),this.getChoosePeopleInfo()))}),(0,o._)(this,"landPageContainerErrorCapture",e=>{s.ZP.event("live_land_page_container_error_capture",(0,n._)({},this.getCommonInfo(),this.parserParams(e)))}),this.store=e}}},623926:function(e,t,i){i.d(t,{X:function(){return s}});var o=i(150566),n=i(529211),r=i(567754);let s=()=>{let{open_vip_panel:e=0}=r.parse((0,o.ht)())||{};if(!e){let t=sessionStorage.getItem(n.UY),i=window&&window.__INVISIBLE_QUERY__;e=null==i?void 0:i.open_vip_panel;try{if(!(null==i?void 0:i.open_vip_panel)){let i=JSON.parse(t)||{};e=(null==i?void 0:i.open_vip_panel)||0}}catch(e){}}return!!e}},344609:function(e,t,i){i.d(t,{j:function(){return m}});var o=i(88648),n=i(309931),r=i(744043),s=i(124393),a=i(797973),l=i(212368);function m(e,t){let i="hidden"!==(0,r.Z)(),m=(0,s.Z)(),_=(0,a.Z)(e),v=(0,o.useRef)([]),{run:d}=(0,l.Z)(()=>{if(m.current||t&&!i)return;let{current:e}=v;(null==e?void 0:e.length)&&n.flushSync(()=>{v.current=[],_(e)})},{wait:1200,leading:!0,trailing:!0});return(0,o.useEffect)(()=>{t&&i&&d()},[i]),[d,(0,a.Z)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];v.current=v.current.concat(e),t&&!i&&v.current.length>100&&(v.current=v.current.slice(-100))})]}},240965:function(e,t,i){i.d(t,{O:function(){return w}});var o=i(520739);i(675373),i(544943),i(874386),i(819117),i(429532);var n=i(456147),r=i(32369),s=i(852061),a=i(529211),l=i(120511),m=i(147542),_=i(210189),v=i(556895),d=i(534552),u=i(609968),c=i(516599),g=i(645260),h=i.n(g),p=i(96008),P=i.n(p),E=i(88648),f=i(850159),y=i(14108),k=i(831202),S=i(782563),C=i(428627);let w=()=>{let{roomStore:{roomInfo:e},linkmicStore:{setLinkStatus:t,linkStatus:i,setApplySource:o,setDevices:a},eventStore:{linkmicEvent:l,slardarEvent:v}}=(0,f.Z)(),{player:d}=(0,u.n)(),g=(null==e?void 0:e.roomId)||"";return E.useCallback((e,u,h)=>{var p;if(i===m.cK.NOT_LINK)return Promise.resolve();if(h&&"function"==typeof(null===(p=navigator)||void 0===p?void 0:p.sendBeacon)){let e=new URLSearchParams;return e.append("room_id",g),e.append("end_reason",`${_.n0.CloseRoomTypeNormal}`),e.append("request_source","leave_normally"),navigator.sendBeacon(`${(0,y.Pe)()}/webcast/linkmic_audience/leave/?aid=6383&live_id=1`,e),Promise.resolve()}return i===m.cK.LINKED&&(null==l||l.liveLeaveLinkMicEvent(e,u),null==l||l.liveAudiencePlayModeRoomLinkDurationEvent()),(0,n.TL)({room_id:g,end_reason:_.n0.CloseRoomTypeNormal,request_source:"leave_normally"}).then(e=>{var i;let{data:o,logId:n}=e,{status_code:s}=o;if(null==v||v.linkmicLeaveRequestLog(s),0===s?(a({audio:void 0,video:void 0}),t(m.cK.NOT_LINK)):31001===s?P()():c.F.info("",d.root),0===s)return Promise.resolve(o);return r.kg.event(`[${k.Tn.Error}]${k.Mo.LiveLeaveLinkError}`,{statusCode:s,logId:null!=n?n:"",message:(null==o?void 0:null===(i=o.data)||void 0===i?void 0:i.prompts)||"",is_client:(0,S.DT)()}),r.kg.error("",o,n),Promise.reject(o)}).finally(()=>{o(s.JW.NONE)})},[g,t,o,i,d,a])};t.Z=()=>{let{roomStore:{roomInfo:e},linkmicStore:{setLinkStatus:t,linkStatus:i,selectedPosition:_,setApplySource:g,setIsCandidate:p,linkMicSeats:y,setSelfLinkedPosition:L,linkMicConfig:I,setDevices:b,setFaceRecognitionShow:R},userStore:{userInfo:G},paidLiveStore:{paidLiveAuth:M},eventStore:{linkmicEvent:F,linkmicBaseEvent:O,slardarEvent:B,rtcEvent:A}}=(0,f.Z)(),{player:T}=(0,u.n)(),V=E.useMemo(()=>{var e;return null===(e=y[null!=_?_:""])||void 0===e?void 0:e.user},[y,_]),Z=h()(e,"anchor.id_str",""),j=h()(e,"roomId",""),N=E.useCallback((e,i)=>{let{priorityPosition:o,teamFightTeamId:s}=i||{},a=o||_;return(0,n.q7)(Object.assign({room_id:j,anchor_id:Z,link_type:e,apply_type:v.XC.NORMAL,guest_supported_vendor:4},void 0===a?{}:{position:a},s?{teamfight_team_id:s}:void 0)).then(e=>{var i,o,n,a,l;let{data:_,logId:v}=e,{status_code:u}=_;if(null==B||B.linkmicApplyRequestLog(u),0===u){if(t(m.cK.LINKING),null==A||A.livesdkRtcApplyJoinRoomEvent({type:"apply"}),I.config[d.V9.AU_BigPartyAcceptNeedVerified]===d.q2.OPEN||I.config[d.V9.AU_AudioChatAcceptNeedVerified]===d.q2.OPEN)c.F.info((null==_?void 0:null===(o=_.data)||void 0===o?void 0:o.prompts)||"",T.root);else{let e=null==_?void 0:null===(n=_.data)||void 0===n?void 0:n.prompts;e&&c.F.info(e,T.root)}(null==_?void 0:null===(i=_.data)||void 0===i?void 0:i.auto_join_full)&&p(!0),null==F||F.liveApplyLinkMicEvent({grouppk_group:"1"===s?"red":"blue"})}else 4016005===u?c.F.info("",T.root):30010===u?c.F.info("",T.root):4004272===u?R(!0):c.F.info((null==_?void 0:null===(a=_.data)||void 0===a?void 0:a.prompts)||"",T.root);return 0===u?Promise.resolve(_):(r.kg.event(`[${k.Tn.Error}]${k.Mo.LiveApplyLinkError}`,{statusCode:u,logId:null!=v?v:"",message:(null==_?void 0:null===(l=_.data)||void 0===l?void 0:l.prompts)||"",is_client:(0,S.DT)()}),r.kg.error("",_,v),Promise.reject(_))})},[t,j,Z,_,p,I.config,T,R]),D=w(),x=E.useCallback(()=>(0,n.JJ)(j).then(e=>{var i,o,n,l,_;let{data:v,logId:d}=e,{status_code:u}=v;if(null==B||B.linkmicJoinChannelLog(u),null==A||A.livesdkRtcJoinChannelEvent({code:u}),0===u){if(t(m.cK.LINKED),null==v?void 0:null===(i=v.data)||void 0===i?void 0:i.delegate_setting){let{enable_delegate:e}=null==v?void 0:null===(l=v.data)||void 0===l?void 0:l.delegate_setting;localStorage.setItem(a.QU,e?s.eG.ON:s.eG.OFF)}let e=null==v?void 0:null===(n=v.data)||void 0===n?void 0:null===(o=n.linked_users)||void 0===o?void 0:o.find(e=>{var t;return(null===(t=e.user)||void 0===t?void 0:t.id_str)===(null==G?void 0:G.id_str)});e&&L(e.user_position),c.F.info("",T.root),(O.isGuestBattle()||O.isGroupFight()||O.isRoomBattle())&&setTimeout(()=>{null==F||F.liveAudiencePlayModeRoomLinkEvent()},2e3)}return 0===u?Promise.resolve(v):(r.kg.event(`[${k.Tn.Error}]${k.Mo.LiveJoinChannelError}`,{statusCode:u,logId:null!=d?d:"",message:(null==v?void 0:null===(_=v.data)||void 0===_?void 0:_.prompts)||"",is_client:(0,S.DT)()}),r.kg.error("",v,d),Promise.reject(v))}),[j,t,L,G,T]),U=E.useCallback(e=>{var t;return(0,n.VV)({room_id:j,sec_to_user_id:e||(null==V?void 0:null===(t=V.user)||void 0===t?void 0:t.sec_uid)||"",silence_type:v.av.SILENCE_TYPE_NORMAL}).then(e=>{var t,i;let{data:o,logId:n}=e,{status_code:s}=o;if(null==B||B.linkmicSilenceRequestLog(s),0===s)return c.F.info(""),Promise.resolve(o);return r.kg.event(`[${k.Tn.Error}]${k.Mo.LiveApplySilenceError}`,{statusCode:s,logId:null!=n?n:"",message:(null==o?void 0:null===(t=o.data)||void 0===t?void 0:t.prompts)||"",is_client:(0,S.DT)()}),r.kg.error("",o,n),c.F.info((null==o?void 0:null===(i=o.data)||void 0===i?void 0:i.prompts)||"",T.root),Promise.reject(o)})},[j,V,T]),q=E.useCallback(e=>{var t;return(0,n.AE)({room_id:j,sec_to_user_id:e||(null==V?void 0:null===(t=V.user)||void 0===t?void 0:t.sec_uid)||""}).then(e=>{var t,i;let{data:o,logId:n}=e,{status_code:s}=o;if(0===s)return c.F.info("",T.root),Promise.resolve(o);return r.kg.event(`[${k.Tn.Error}]${k.Mo.LiveApplyUnSilenceError}`,{statusCode:s,logId:null!=n?n:"",message:(null==o?void 0:null===(t=o.data)||void 0===t?void 0:t.prompts)||"",is_client:(0,S.DT)()}),r.kg.error("",o,n),c.F.info((null==o?void 0:null===(i=o.data)||void 0===i?void 0:i.prompts)||"",T.root),Promise.reject(o)})},[j,V,T]),K=E.useCallback(e=>{let{from:t,to:i}=e||{};return null==F||F.liveGuestSwitchSeatEvent(_,{from:t,to:i}),(0,n.oX)({room_id:j,to_position:_}).then(e=>{let{data:t,logId:i}=e,{status_code:o}=t;if(0===o)return Promise.resolve(t);if(4004177===o)P()();else{var n,s;r.kg.event(`[${k.Tn.Error}]${k.Mo.LiveSwitchMicError}`,{statusCode:o,logId:null!=i?i:"",message:(null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.prompts)||"",is_client:(0,S.DT)()}),c.F.info((null==t?void 0:null===(s=t.data)||void 0===s?void 0:s.prompts)||"",T.root),r.kg.error("",t,i)}return Promise.reject(t)})},[j,_,T]),W=E.useCallback(e=>{var t;return(0,n.SR)(j,e||(null==V?void 0:null===(t=V.user)||void 0===t?void 0:t.id_str)||"").then(e=>{let{data:t,logId:i}=e;if((null==t?void 0:t.status_code)!==0){var o,n;r.kg.event(`[${k.Tn.Error}]${k.Mo.LiveEnableVideoError}`,{statusCode:null==t?void 0:t.status_code,logId:null!=i?i:"",message:(null==t?void 0:null===(o=t.data)||void 0===o?void 0:o.prompts)||"",is_client:(0,S.DT)()}),c.F.info((null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.prompts)||", ",T.root)}return(null==t?void 0:t.status_code)===0?Promise.resolve(t):(r.kg.error("",t,i),Promise.reject(t))})},[j,V,T]),J=E.useCallback(e=>{var t;return(0,n.cJ)(j,e||(null==V?void 0:null===(t=V.user)||void 0===t?void 0:t.id_str)||"").then(e=>{let{data:t,logId:i}=e;if((null==t?void 0:t.status_code)!==0){var o,n;r.kg.event(`[${k.Tn.Error}]${k.Mo.LiveDisableVideoError}`,{statusCode:null==t?void 0:t.status_code,logId:null!=i?i:"",message:(null==t?void 0:null===(o=t.data)||void 0===o?void 0:o.prompts)||"",is_client:(0,S.DT)()}),c.F.info((null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.prompts)||", ",T.root)}return(null==t?void 0:t.status_code)===0?Promise.resolve(t):(r.kg.error("",t,i),Promise.reject(t))})},[j,V,T]),Y=E.useCallback((e,t)=>{(0,n.bZ)({room_id:j,to_user_id:e,sec_to_user_id:t,request_source:"admin_stop_in_preview"}).then(e=>{let{data:t,logId:i}=e;if((null==t?void 0:t.status_code)!==0){var o;c.F.info((null==t?void 0:null===(o=t.data)||void 0===o?void 0:o.prompts)||"",T.root)}return(null==t?void 0:t.status_code)===0?Promise.resolve(t):(r.kg.error("",t,i),Promise.reject(t))})},[j,T]),H=E.useCallback(function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,n.Ix)({room_id:j,to_user_id:e,invite_type:t,to_enlarge_pos:i}).then(e=>{let{data:i,logId:o}=e;if((null==i?void 0:i.status_code)!==0){var n;c.F.info((null==i?void 0:null===(n=i.data)||void 0===n?void 0:n.prompts)||"",T.root)}return(null==i?void 0:i.status_code)===0?(t===v.fE.EnlargeGuestInviteType_ENLARGE&&c.F.info(""),Promise.resolve(i)):(r.kg.error("",i,o),Promise.reject(i))})},[j,T]),$=E.useCallback(e=>{(0,n.E3)({room_id:j,kickout_uids_str:e}).then(e=>{var t,i;let{data:o,logId:n}=e;return((null==o?void 0:o.status_code)!==0&&c.F.info((null==o?void 0:null===(t=o.data)||void 0===t?void 0:t.prompts)||"",T.root),(null==o?void 0:o.status_code)!==0)?(r.kg.error("",o,n),Promise.reject(o)):(null==o?void 0:o.prompts)?(c.F.info((null==o?void 0:null===(i=o.data)||void 0===i?void 0:i.prompts)||"",T.root),Promise.reject(o)):Promise.resolve(o)})},[j]),Q=E.useCallback((e,t)=>{(0,n.YG)({room_id:j,to_user_id:e,reply_type:t}).then(e=>{let{data:t,logId:i}=e;if((null==t?void 0:t.status_code)!==0){var o;c.F.info((null==t?void 0:null===(o=t.data)||void 0===o?void 0:o.prompts)||"",T.root)}return(null==t?void 0:t.status_code)===0?Promise.resolve(t):(r.kg.error("",t,i),Promise.reject(t))})},[j,T]);return{apply:N,leave:D,join:x,silence:U,unSilence:q,enableVideo:W,disableVideo:J,switchMic:K,kickout:Y,enlargeInvite:H,enlargeClose:$,applyCameraInvite:Q,applyLinkInvite:E.useCallback((e,t,i)=>{(0,n.fF)({room_id:j,sec_to_user_id:e,reply_type:t,link_type:i}).then(e=>{var t,i;let{data:n,logId:s}=e;if((null==n?void 0:n.status_code)!==0){if((null==n?void 0:n.status_code)===30010){c.F.info("",T.root);return}(null==n?void 0:n.status_code)===4004272&&R(!0),c.F.info((null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.prompts)||"",T.root)}if((null==n?void 0:n.status_code)!==0)return r.kg.error("",n,s),Promise.reject(n);{r.kg.info("",n),null==B||B.linkmicReadyToLink(C.CT.Invite);let e=new CustomEvent("webcast_join_room_invite",{detail:(0,o._)({},(0,l.OM)(null==n?void 0:n.data))});return null===(i=document)||void 0===i||i.dispatchEvent(e),Promise.resolve(n)}})},[j,T,R])}}},674360:function(e,t,i){var o=i(520739),n=i(850159),r=i(32369),s=i(88648),a=i(663744);t.Z=e=>{let{roomStore:{roomInfo:t},cameraStore:{cameraInfo:i},singletonStore:{message:l},feedStore:{isActive:m,isChangePending:_}}=(0,n.Z)(),{roomId:v=""}=t,{groupId:d,cameraId:u}=i||{},c=(0,s.useRef)({}),g=(0,s.useRef)(e);g.current=e;let{isInPreview:h,isInPreviewEnter:p,isInPreviewActive:P}=(0,a.DQ)(),E=(0,s.useCallback)(()=>{if(!c.current[v]&&!!m&&!h){if(!v){l.stop(),r.kg.info("stop by nil roomId");return}if(g.current){null==l||l.stop();return}l.start((0,o._)({room_id:v},u&&{sub_room_id:u},d&&{group_id:d})),c.current[v]=!0}},[v,d,u,l,m,h,_]);return(0,s.useEffect)(()=>{if(!h){if(m&&!_){var e,t;let i=0;(null===(e=navigator)||void 0===e?void 0:e.hardwareConcurrency)<=4&&(null===(t=navigator)||void 0===t?void 0:t.deviceMemory)<=2&&(i=9500);let o=c.current;return setTimeout(()=>{v&&E()},i),()=>{v&&(null==l||l.stop(),o[v]=!1)}}}},[v,d,u,E,e,l,m,h,_]),(0,s.useEffect)(()=>{if(!!h&&!!v){if(g.current){null==l||l.stop();return}c.current[v]&&!P&&(null==l||l.pause(),c.current[v]=!1),P&&(null==l||l.start((0,o._)({room_id:v},u&&{sub_room_id:u},d&&{group_id:d})),c.current[v]=!0)}},[h,p,P,v,d,u,l]),E}},356523:function(e,t,i){var o=i(520739),n=i(878389);i(874386);var r=i(859231),s=i(418831),a=i(388193),l=i(850159),m=i(834770),_=i(445238),v=i(645260),d=i.n(v),u=i(128231),c=i.n(u),g=i(508390),h=i.n(g),p=i(88648),P=i(31940),E=i(663744);t.Z=e=>{var t;let{saveVerify:i,isSavePlayer:v}=e,u=(0,p.useRef)(!1),[g,f]=(0,p.useState)(),y=(0,l.Z)(),{roomStore:{roomInfo:k,setRelativeRooms:S,setForeignUser:C},eventStore:{playerEvent:w},cameraStore:{cameraInfo:L}}=y,{roomEnterUserLogin:I="0"}=(0,P.j)(),{roomId:b="",web_rid:R}=k,{groupId:G,cameraId:M}=L||{},F=(0,m.Z)(),O=(0,p.useCallback)(c()(()=>{u.current=!0;try{var e;(null===(e=k.room)||void 0===e?void 0:e.status)!==r.LV.END&&(0,s.jL)(b)}catch(e){}},2e3,{leading:!0,trailing:!1}),[b,null===(t=k.room)||void 0===t?void 0:t.status,F]),B=(0,p.useCallback)(async()=>{var e,t,i,r,l,m,_,v;let u=window&&window.__INVISIBLE_QUERY__||sessionStorage.getItem("route_params"),c=u&&u.enter_from_merge,g=(null===(t=window)||void 0===t?void 0:null===(e=t.__INVISIBLE_QUERY__)||void 0===e?void 0:e.insert_task_id)||"",p=(null===(r=window)||void 0===r?void 0:null===(i=r.__INVISIBLE_QUERY__)||void 0===i?void 0:i.live_reason)||"",{data:P,headers:E,logId:y}=await (0,s.el)({webRid:R,roomId:b,enterFromMerge:c,roomEnterUserLogin:I,insertTaskId:g,liveReason:p});try{C(null==P?void 0:null===(v=P.data)||void 0===v?void 0:null===(_=v.data)||void 0===_?void 0:null===(m=_[0])||void 0===m?void 0:null===(l=m.owner)||void 0===l?void 0:l.foreign_user)}catch(e){}f(E);let k=d()(P,"data.similar_rooms",[]);h()(()=>{S(null==k?void 0:k.map(e=>(0,n._)((0,o._)({},e),{room:(0,a.C_)(e.room),request_id:y})))},8e3)},[b,R,k,y]);(0,_.ZP)({apis:_.w5.ENTER_API,roomId:b,cameraGroupId:G,cameraId:M,headers:g,saveVerify:i,isSavePlayer:v});let{isInPreview:A,isInPreviewEnter:T}=(0,E.DQ)();return(0,p.useEffect)(()=>{b&&(A?T&&B():B())},[b,A,T]),(0,p.useEffect)(()=>{if(!A||!!T)setTimeout(()=>{window.__INVISIBLE_QUERY__&&(null==w||w.liveEnterRoomEvent())},500)},[A,T]),(0,p.useEffect)(()=>b&&(!A||T)?A&&T?("undefined"!=typeof window&&window.addEventListener("beforeunload",O),()=>{"undefined"!=typeof window&&window.removeEventListener("beforeunload",O),!u.current&&(O(),u.current=!1)}):("undefined"!=typeof window&&window.addEventListener("beforeunload",O),()=>{"undefined"!=typeof window&&window.removeEventListener("beforeunload",O),!u.current&&O()}):void 0,[O,b,A,T]),{}}},288767:function(e,t,i){var o=i(850159),n=i(407217),r=i(645260),s=i.n(r),a=i(88648),l=i(948884);t.Z=()=>{let{giftStore:{setGiftTccStatus:e,setHoverGiftWhiteList:t,setDiyPluginIdWhiteList:i,setGiftBuffIdWhiteList:r,setDiyCardNameWhiteList:m,setHoverGiftWhiteListV2:_,setWanxiangGiftSwitch:v,setForceShowBuffList:d,setStarGuardEffectWhiteList:u,setMaxGiftTrayCount:c,setGiftBgEffectMap:g,setGiftTrayConfig:h},audienceStore:{setAudienceTccStatus:p},pkStore:{setPKTccStatus:P},fansClubStore:{setFansClubTccStatus:E},linkmicStore:{setChoosePeopleShowTCC:f},feedStore:{isActive:y},roomStore:{setLongtouchShowTcc:k,setUsePageUrlBannerId:S,setPollingFrequency:C}}=(0,o.Z)(),w=(0,l.k)();(0,a.useEffect)(()=>{try{(async()=>{let o=await (0,n.ZP)({service_name:"webcast.douyin.live_pc",key:"gift_config"}),a=(null==w?void 0:w.XTTENV)?o.ppe_pc_live_backup:o,l=s()(a,"gift_status",!1),p=s()(a,"hover_gift_white_list",[]),P=s()(a,"hover_gift_white_list_v2",[]),E=s()(a,"diy_plugin_id_white_list",[]),f=s()(a,"gift_buff_id_white_list",[]),y=s()(a,"diy_card_name_white_list",[]),k=s()(a,"wanxiang_gift_switch",0),S=s()(a,"force_show_buff_list",[]),C=s()(a,"gift_bg_effect_map",{}),L=s()(a,"gift_tray_config",{}),I=s()(a,"star_guard_effect_white_list",[]),b=s()(a,"gift_tray_max_count",Number.MAX_SAFE_INTEGER);t(p),_(P),i(E),m(y),r(f),v(k),d(S),u(I),c(b),e(l),g(C),h(L)})()}catch(e){}},[y]),(0,a.useEffect)(()=>{try{(async()=>{let e=await (0,n.ZP)({service_name:"webcast.douyin.live_pc",key:"pk_config"}),t=s()(e,"pk_status",!1);P(t)})()}catch(e){}},[y]),(0,a.useEffect)(()=>{try{(async()=>{let e=await (0,n.ZP)({service_name:"webcast.douyin.live_pc",key:"audience_config"}),t=s()(e,"audience_status",!1);p(t)})()}catch(e){}},[y]),(0,a.useEffect)(()=>{try{(async()=>{let e=await (0,n.ZP)({service_name:"webcast.douyin.live_pc",key:"fans_club_config"}),t=s()(e,"fans_status",!1);E(t)})()}catch(e){}},[y]),(0,a.useEffect)(()=>{try{(async()=>{let e=await (0,n.ZP)({service_name:"webcast.douyin.live_pc",key:"choose_peoples_info"}),t=s()(e,"choose_people_show",!1);f(t)})()}catch(e){}},[y]),(0,a.useEffect)(()=>{try{(async()=>{let e=await (0,n.ZP)({service_name:"webcast.douyin.live_pc",key:"banner"});k(s()(e,"long_touch.long_touch_show",!1)),S(s()(e,"long_touch.use_page_url_banner_id",[]))})()}catch(e){}},[y]),(0,a.useEffect)(()=>{try{(async()=>{let e=await (0,n.ZP)({service_name:"webcast.douyin.live_pc",key:"polling_frequency"});C(e)})()}catch(e){}},[y])}},894341:function(e,t,i){i.d(t,{Z:function(){return d}}),i(602157),i(874386);var o=i(563097),n=i(88648),r=i(330746),s=i(746025),a=i(399796),l=i(14108),m=i(35730),_=i(429719),v=i(909543);function d(e){let{title:t="",description:i,keywords:d}=e,u=(0,v.a)(),[c,g]=n.useState(!1);n.useEffect(()=>{(0,r.GP)()&&g(!0)},[]);let h=n.useMemo(()=>(0,s.Dr)(a.Q.getItem({sKey:m.CookieKeys.Theme})),[]);return(0,o.jsxs)(_.Head,{children:[(0,o.jsx)("title",{children:t}),(0,o.jsx)("meta",{name:"description",content:i}),(0,o.jsx)("meta",{name:"keywords",content:d}),(0,o.jsx)("link",{rel:"canonical",href:`${(0,l.Pe)()}${"/live"===u.pathname?"":u.pathname}`}),(0,o.jsx)("meta",{name:"theme-color",content:`${"light"===h?"#ffffff":"#161823"}`}),!c&&(0,o.jsx)("link",{rel:"manifest",href:"https://lf9-static.bytednsdoc.com/obj/eden-cn/nupthpqups/manifest.json"})]})}},381219:function(e,t,i){i.d(t,{n:function(){return a}});var o=i(563097);i(88648);var n=i(713097),r=i.n(n),s=i(82295);function a(e){let{children:t}=e;return(0,o.jsx)("div",{style:{background:"transparent"},className:r()("app-container",s.Z.app,{}),children:(0,o.jsx)("main",{className:r()(s.Z.main,"live-main"),"data-bytereplay-mask":"ignore",children:t})})}},151961:function(e,t,i){i.d(t,{r:function(){return p}}),i(250440);var o=i(563097);i(88648);var n=i(850159),r=i(421442),s=i(61812),a=i(82295),l=i(713097),m=i.n(l),_=i(128231),v=i.n(_),d=i(82794),u=i(25928),c=i(637005),g=i(725215),h=i(909543);(0,g.Pi)(function(e){let{domain:t,pathname:i,children:l,isDetail:_}=e,g=(0,n.Z)(),{forceTheme:h,hideErrorStyle:p,showFooter:P}=g.layoutStore;return(0,o.jsxs)("div",{className:m()(a.Z.scroll,h,{[a.Z.detailScroll]:_}),id:s.IS,ref:e=>t===r.LIVE_XIGUA_DOMAIN&&c.emit(c.EVENT.globalScrollEl,e),onScroll:v()(e=>{var t,i,o,n;(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.scrollTop)!==void 0&&c.emit(c.EVENT.tabContainerScroll,{tab:"live",scrollTop:null==e?void 0:null===(o=e.target)||void 0===o?void 0:o.scrollTop}),(null==e?void 0:null===(i=e.target)||void 0===i?void 0:i.scrollTop)>200&&(null==g||null===(n=g.appStore)||void 0===n||n.setHomeNeedIntial(!0))},20),children:[(0,o.jsx)("div",{className:m()({[a.Z.xiguaNormal]:t===r.LIVE_XIGUA_DOMAIN&&!(0,d.H)(i,t),[a.Z.xiguaPadding]:(0,d.H)(i,t),[a.Z.error]:p,[a.Z.loadingStyle]:_}),children:l}),P&&(0,o.jsx)(u.$,{})]})});let p=(0,g.Pi)(function(e){let{children:t}=e,{pathname:i}=(0,h.a)(),n=i.includes("/live/"),r=n?m()(a.Z.scroll,{[a.Z.detailScroll]:!0}):"";return(0,o.jsx)("div",{className:r,id:s.IS,style:n?{}:{display:"contents"},children:t})})},213080:function(e,t,i){var o=i(563097);i(88648);var n=i(916956),r=i(407217),s=i(850159),a=i(726011);t.Z=function(e){let{websocketKey:t}=e,{singletonStore:{message:i}}=(0,s.Z)();return(0,n.C)(()=>{if(t)null==i||i.setWebsocketKey(t);else{let e=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,r.ZP)({service_name:"webcast.douyin.live_pc",key:"message_websocket_params"}).then(e=>{null==i||i.setWebsocketKey(e)}).catch(i=>{t>1&&e(t-1)})};e(2)}},[]),(0,a.q)({message:i,socketData:t}),(0,o.jsx)(o.Fragment,{})}},314263:function(e,t,i){i.d(t,{a:function(){return s}}),i(874386);var o=i(213987),n=i(88648),r=i(936495);function s(e){let{isAppOnly:t=!1}=e,{getSwitchStatus:i,setSwitchStatus:s}=(0,r.P)(),a=(0,n.useMemo)(()=>i(r.$.JUNE_FULLSCREEN_SWITCH),[]),[l,m]=(0,n.useState)(()=>!t&&a);return(0,n.useEffect)(()=>{if(t){(0,o.q)("ISLAND_SYNC_HEADER"),(0,o.q)("ISLAND_LAYOUT_NAVIGATION"),m(!1);return}},[t]),{isTheaterOn:l,setIsTheaterOn:m}}},300810:function(e,t,i){i.d(t,{RR:function(){return o},mJ:function(){return n},sx:function(){return a},uJ:function(){return s},v6:function(){return r}});let o=3,n=1,r=3e4,s=3,a=3e4},677802:function(e,t,i){i.d(t,{Z:function(){return s}});var o=i(134761),n=i(895399),r=i(104013);class s extends n.Z{constructor(e){super(e),(0,o._)(this,"cartVisible",!1),(0,o._)(this,"showAgreement",!1),(0,o._)(this,"setCartVisible",e=>this.cartVisible=e),(0,o._)(this,"setShowAgreement",e=>this.showAgreement=e),(0,o._)(this,"reset",()=>{this.cartVisible=!1,this.showAgreement=!1}),(0,r.makeObservable)(this,{showAgreement:r.observable,cartVisible:r.observable,setCartVisible:r.action,setShowAgreement:r.action})}}},890903:function(e,t,i){i.d(t,{Z:function(){return l}});var o=i(134761),n=i(895399),r=i(104013),s=i(510972),a=i.n(s);class l extends n.Z{setIsActive(e){this.isActive=e}setIsChangePending(e){this.isChangePending=e}constructor(e){super(e),(0,o._)(this,"isActive",!1),(0,o._)(this,"hasPre",!1),(0,o._)(this,"hasNext",!1),(0,o._)(this,"isChangePending",!1),(0,o._)(this,"isPlayerLoading",!1),(0,o._)(this,"feedRoomIds",[]),(0,o._)(this,"feedList",[]),(0,o._)(this,"isBlocked",!1),(0,o._)(this,"curIndex",0),(0,o._)(this,"slideStarted",!1),(0,o._)(this,"skipLowQuality",!1),(0,o._)(this,"setFeedList",e=>{this.feedList=e}),(0,o._)(this,"addFeedList",e=>{this.setFeedList(a()(this.feedList,e,"roomId"))}),(0,o._)(this,"removeFeedByRoomId",e=>{let t=!1;return this.feedList=this.feedList.filter(i=>(i.roomId===e&&(t=!0),i.roomId!==e)),t}),(0,o._)(this,"removeFeedByWebRid",e=>{let t=!1;return this.feedList=this.feedList.filter(i=>(i.web_rid===e&&(t=!0),i.web_rid!==e)),t}),(0,o._)(this,"setIsPlayerLoading",e=>{this.isPlayerLoading=e}),(0,o._)(this,"setIsBlocked",e=>{this.isBlocked=e}),(0,o._)(this,"setCurIndex",e=>{this.curIndex=e}),(0,o._)(this,"setSlideStarted",e=>{this.slideStarted=e}),(0,o._)(this,"setSkipLowQuality",e=>{this.skipLowQuality=e}),!e.isLiveModal&&(this.isActive=!0),(0,r.makeObservable)(this,{isActive:r.observable,hasPre:r.observable,hasNext:r.observable,feedRoomIds:r.observable,isChangePending:r.observable,setIsActive:r.action,feedList:r.observable,addFeedList:r.action,setIsChangePending:r.action,isPlayerLoading:r.observable,setIsPlayerLoading:r.action,isBlocked:r.observable,setIsBlocked:r.action,curIndex:r.observable,setCurIndex:r.action,slideStarted:r.observable,setSlideStarted:r.action,skipLowQuality:r.observable,setSkipLowQuality:r.action})}}},964239:function(e,t,i){i.d(t,{Z:function(){return s}});var o=i(134761);i(874386);var n=i(895399),r=i(104013);class s extends n.Z{setContainerList(e){this.containerList=e}setLongtouchList(e){this.longtouchList=e}setCommonList(e){this.commonList=e}constructor(e){super(e),(0,o._)(this,"containerList",new Map),(0,o._)(this,"longtouchList",new Map),(0,o._)(this,"commonList",new Map),(0,o._)(this,"reset",()=>{this.containerList=new Map,this.longtouchList=new Map,this.store=null}),(0,r.makeObservable)(this,{containerList:r.observable,setContainerList:r.action,longtouchList:r.observable,setLongtouchList:r.action,commonList:r.observable,setCommonList:r.action})}}},574642:function(e,t,i){i.d(t,{Z:function(){return l}});var o=i(134761);i(874386),i(268917);var n=i(895399),r=i(104013),s=i(910510),a=i(725896);class l extends n.Z{get isPanelShow(){return this.renderItemList.length>0}get isFramePanelShow(){return this.frameRenderItemList.length>0}get playerMargin(){return this.renderItemList.length>0&&this.frameRenderItemList.length<=0?this.width+8:this.renderItemList.length<=0&&this.frameRenderItemList.length>0?this.frameWidth+8:this.renderItemList.length>0&&this.frameRenderItemList.length>0?Math.max(this.width,this.frameWidth)+8:0}get infoBarMargin(){return this.frameRenderItemList.length>0?this.frameWidth+10:10}constructor(e,t){super(e),(0,o._)(this,"itemList",[]),(0,o._)(this,"renderItemList",[]),(0,o._)(this,"rootEl",null),(0,o._)(this,"frameRootEl",null),(0,o._)(this,"width",375),(0,o._)(this,"frameWidth",0),(0,o._)(this,"frameItemList",[]),(0,o._)(this,"frameRenderItemList",[]),(0,o._)(this,"eventBus",void 0),(0,o._)(this,"itemClassName",void 0),(0,o._)(this,"frameItemClassName",void 0),(0,o._)(this,"operatingBarPluginIsShow",void 0),(0,o._)(this,"actStore",void 0),(0,o._)(this,"setOperatingBarPluginIsShow",e=>{this.operatingBarPluginIsShow=e}),(0,o._)(this,"setFrameWidth",e=>{this.frameWidth=e}),(0,o._)(this,"itemIndex",e=>this.renderItemList.findIndex(t=>t.itemKey===e)),(0,o._)(this,"frameItemIndex",e=>this.frameRenderItemList.findIndex(t=>t.itemKey===e)),(0,o._)(this,"setItemClassName",e=>{this.itemClassName=e}),(0,o._)(this,"setFrameItemClassName",e=>{this.frameItemClassName=e}),(0,o._)(this,"setRootEl",e=>{this.rootEl=e}),(0,o._)(this,"setFrameRootEl",e=>{this.frameRootEl=e}),(0,o._)(this,"closePanel",()=>{this.renderItemList.forEach(e=>e.onClose&&e.onClose()),this.renderItemList=[]}),(0,o._)(this,"closeFramePanel",()=>{this.frameRenderItemList.forEach(e=>e.onClose&&e.onClose()),this.frameRenderItemList=[]}),(0,o._)(this,"isItemShow",e=>this.renderItemList.findIndex(t=>t.itemKey===e)>=0),(0,o._)(this,"isFrameItemShow",e=>this.frameRenderItemList.findIndex(t=>t.itemKey===e)>=0),(0,o._)(this,"closeItem",e=>{if(!this.renderItemList)return;let t=this.renderItemList.findIndex(t=>t.itemKey===e);t>=0&&(this.renderItemList.splice(t,1),this.renderItemList=[...this.renderItemList])}),(0,o._)(this,"closeFrameItem",e=>{let t=this.frameRenderItemList.findIndex(t=>t.itemKey===e);t>=0&&(this.frameRenderItemList.splice(t,1),this.frameRenderItemList=[...this.frameRenderItemList])}),(0,o._)(this,"registerItem",e=>{e.group=e.group||e.itemKey;let t=this.itemList.findIndex(t=>t.itemKey===e.itemKey);t<0?this.itemList.push(e):this.itemList[t]=e,this.itemList=[...this.itemList]}),(0,o._)(this,"registerFrameItem",e=>{e.group=e.group||e.itemKey;let t=this.frameItemList.findIndex(t=>t.itemKey===e.itemKey);t<0?this.frameItemList.push(e):this.frameItemList[t]=e,this.frameItemList=[...this.frameItemList]}),(0,o._)(this,"unRegisterItem",e=>{let t=this.itemList.findIndex(t=>t.itemKey===e);t>=0&&(this.itemList.splice(t,1),this.itemList=[...this.itemList]),this.closeItem(e)}),(0,o._)(this,"unRegisterFrameItem",e=>{let t=this.frameItemList.findIndex(t=>t.itemKey===e);t>=0&&(this.frameItemList.splice(t,1),this.frameItemList=[...this.frameItemList]),this.closeFrameItem(e)}),(0,o._)(this,"openItem",e=>{let t=this.itemList.find(t=>t.itemKey===e);if(t&&t.group!==s.k.ACTIndicatorGroup){var i;null===(i=this.actStore)||void 0===i||i.setCurrentLandPage([])}if(!t)return;if(0===this.renderItemList.length){this.renderItemList=[t];return}if(this.renderItemList[0].group!==t.group){let e=this.renderItemList;this.renderItemList=[t],null==e||e.forEach(e=>e.onClose&&e.onClose());return}let o=this.renderItemList.findIndex(e=>e.itemKey===t.itemKey);if(o<0){this.renderItemList=[...this.renderItemList,t];return}if(o===this.renderItemList.length-1){let e=this.renderItemList[o];this.renderItemList.splice(o,1),this.renderItemList=[...this.renderItemList],e.onClose&&e.onClose();return}this.renderItemList.splice(o,1),this.renderItemList=[...this.renderItemList,t]}),(0,o._)(this,"openFrameItem",e=>{let t=this.frameItemList.find(t=>t.itemKey===e);if(!t)return;if(0===this.frameRenderItemList.length){this.frameRenderItemList=[t];return}if(this.frameRenderItemList[0].group!==t.group){let e=this.frameRenderItemList;this.frameRenderItemList=[t],null==e||e.forEach(e=>e.onClose&&e.onClose());return}let i=this.frameRenderItemList.findIndex(e=>e.itemKey===t.itemKey);if(i<0){this.frameRenderItemList=[...this.frameRenderItemList,t];return}if(0===i){let e=this.frameRenderItemList[i];this.frameRenderItemList.splice(i,1),this.frameRenderItemList=[...this.frameRenderItemList],e.onClose&&e.onClose();return}this.frameRenderItemList.splice(i,1),this.frameRenderItemList=[...this.frameRenderItemList,t]}),(0,r.makeObservable)(this,{frameItemClassName:r.observable,itemClassName:r.observable,itemList:r.observable,renderItemList:r.observable,rootEl:r.observable,frameRootEl:r.observable,width:r.observable,frameItemList:r.observable,frameRenderItemList:r.observable,closePanel:r.action,closeFramePanel:r.action,isPanelShow:r.computed,isFramePanelShow:r.computed,closeItem:r.action,closeFrameItem:r.action,registerItem:r.action,registerFrameItem:r.action,unRegisterItem:r.action,unRegisterFrameItem:r.action,playerMargin:r.computed,isItemShow:r.action,isFrameItemShow:r.action,setRootEl:r.action,setFrameRootEl:r.action,setItemClassName:r.action,setFrameItemClassName:r.action,frameWidth:r.observable,setFrameWidth:r.action,infoBarMargin:r.computed,operatingBarPluginIsShow:r.observable,setOperatingBarPluginIsShow:r.action}),this.eventBus=new a.N,this.actStore=t}}},201972:function(e,t,i){i.d(t,{Z:function(){return s}});var o=i(134761),n=i(895399),r=i(104013);class s extends n.Z{setShowShare(e){this.showShare=e}setLeft(e){this.left=e}setTop(e){this.top=e}setHeight(e){this.height=e}setShareFrom(e){this.shareFrom=e}constructor(e){super(e),(0,o._)(this,"showShare",!1),(0,o._)(this,"left",void 0),(0,o._)(this,"top",void 0),(0,o._)(this,"height",void 0),(0,o._)(this,"shareFrom","lottery"),(0,r.makeObservable)(this,{showShare:r.observable,left:r.observable,top:r.observable,height:r.observable,shareFrom:r.observable,setShowShare:r.action,setLeft:r.action,setTop:r.action,setHeight:r.action,setShareFrom:r.action})}}},228987:function(e,t,i){i.d(t,{Z:function(){return s}});var o=i(134761),n=i(104013),r=i(895399);class s extends r.Z{setVipEmojiConfig(e){this.vipEmojiConfig=e}constructor(e){super(e),(0,o._)(this,"isVip",!1),(0,o._)(this,"isShowVipPanel",!1),(0,o._)(this,"vipEmojiConfig",null),(0,o._)(this,"emojiPanelRef",null),(0,o._)(this,"vipLiveStatus",""),(0,o._)(this,"vipInfoLoaded",!1),(0,o._)(this,"vipSource","icon"),(0,o._)(this,"setIsShowVipPanel",e=>{let{isShow:t,source:i}=e;this.isShowVipPanel=t,i&&t&&(this.vipSource=i)}),(0,o._)(this,"setIsVip",e=>this.isVip=e),(0,o._)(this,"setEmojiPanelRef",e=>{this.emojiPanelRef=e}),(0,o._)(this,"setVipLiveStatus",e=>this.vipLiveStatus=e),(0,o._)(this,"setVipInfoLoaded",e=>this.vipInfoLoaded=e),(0,n.makeObservable)(this,{isShowVipPanel:n.observable,vipEmojiConfig:n.observable,setIsShowVipPanel:n.action,setVipEmojiConfig:n.action,emojiPanelRef:n.observable,isVip:n.observable,setIsVip:n.action,vipLiveStatus:n.observable,setVipLiveStatus:n.action,vipInfoLoaded:n.observable,setVipInfoLoaded:n.action,vipSource:n.observable})}}},632754:function(e,t,i){var o=i(520739),n=i(878389),r=i(563097),s=i(88648);let a=(0,s.forwardRef)((e,t)=>(0,r.jsxs)("svg",(0,n._)((0,o._)({width:26,height:26,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,r.jsxs)("g",{filter:"url(#close_svg__filter0_b_1145_23226)",children:[(0,r.jsx)("rect",{x:1,y:1,width:24,height:24,rx:12,fill:"#000",fillOpacity:".24"}),(0,r.jsx)("rect",{x:".5",y:".5",width:25,height:25,rx:12.5,stroke:"#fff",strokeOpacity:".1"}),(0,r.jsx)("path",{d:"M9 17l8-8M9 9l8 8",stroke:"#fff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,r.jsx)("defs",{children:(0,r.jsxs)("filter",{id:"close_svg__filter0_b_1145_23226",x:-20,y:-20,width:66,height:66,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,r.jsx)("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:10}),(0,r.jsx)("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_1145_23226"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_backgroundBlur_1145_23226",result:"shape"})]})})]})));t.Z=a}}]);