/*! For license information please see 55407.f4f0d8c7.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).xss={})}(this,function(e){"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function n(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var r=/[^a-zA-Z0-9\\_:.-]/gim,i=/</g,o=/>/g,a=/&#([a-zA-Z0-9]*);?/gim,s=/&quot;/g,l=/&colon;?/gim,c=/&newline;?/gim,u=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,h=/u\s*r\s*l\s*\(.*/gi,d=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,f=/"/g,p=function(e){return e.replace(i,"&lt;").replace(o,"&gt;")},v={indexOf:function(e,t){var n,r;for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return -1},forEach:function(e,t,n){var r,i;for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},some:function(e,t,n){var r,i;for(r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return!0;return!1},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},includes:function(e,t){if("string"==typeof e)return -1!==e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},uniq:function(e){for(var t={},n=[],r=0;r<e.length;r++)t[e[r]]||(n.push(e[r]),t[e[r]]=!0);return n},from:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},keys:function(e){var t=[];for(var n in e)t.push(n);return t}};function g(e){return null==e}function m(e){var t;return'"'===(t=e)[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1]?e.substr(1,e.length-2):e}function y(e){var t,n,r,i,o,a,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",u=0;for(e=function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?t+=String.fromCharCode(r>>6|192)+String.fromCharCode(63&r|128):t+=String.fromCharCode(r>>12|224)+String.fromCharCode(r>>6&63|128)+String.fromCharCode(63&r|128)}return t}(e);u<e.length;)i=(t=e.charCodeAt(u++))>>2,o=(3&t)<<4|(n=e.charCodeAt(u++))>>4,a=(15&n)<<2|(r=e.charCodeAt(u++))>>6,s=63&r,isNaN(n)?a=s=64:isNaN(r)&&(s=64),c=c+l.charAt(i)+l.charAt(o)+l.charAt(a)+l.charAt(s);return c}function _(e){var t,n,r,i,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",c=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");c<e.length;)t=s.indexOf(e.charAt(c++))<<2|(i=s.indexOf(e.charAt(c++)))>>4,n=(15&i)<<4|(o=s.indexOf(e.charAt(c++)))>>2,r=(3&o)<<6|(a=s.indexOf(e.charAt(c++))),l+=String.fromCharCode(t),64!==o&&(l+=String.fromCharCode(n)),64!==a&&(l+=String.fromCharCode(r));return function(e){for(var t="",n=0,r=0,i=0,o=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(t+=String.fromCharCode((31&r)<<6|63&(o=e.charCodeAt(n+1))),n+=2):(o=e.charCodeAt(n+1),t+=String.fromCharCode((15&r)<<12|(63&o)<<6|63&(i=e.charCodeAt(n+2))),n+=3);return t}(l)}function b(e,t,n){var r="",i=0,o=!1,a=!1,s=0,l=e.length,c="",u="";e:for(s=0;s<l;s++){var h=e.charAt(s);if(!1===o){if("<"===h){o=s;continue}}else if(!1===a){if("<"===h){r+=n(e.slice(i,s)),o=s,i=s;continue}if(">"===h||s===l-1){r+=n(e.slice(i,o)),c=function(e){var t,n=v.spaceIndex(e);return t=-1===n?e.slice(1,-1):e.slice(1,n+1),"/"===(t=v.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}(u=e.slice(o,s+1)),r+=t(o,r.length,c,u,"</"===u.slice(0,2)),i=s+1,o=!1;continue}if('"'===h||"'"===h)for(var d=1,f=e.charAt(s-d);""===f.trim()||"="===f;){if("="===f){a=h;continue e}f=e.charAt(s-++d)}}else if(h===a){a=!1;continue}}return i<l&&(r+=n(e.substr(i))),r}function w(e,t){var n=0,i=0,o=[],a=!1,s=e.length;function l(e,n){if(!((e=(e=v.trim(e)).replace(r,"").toLowerCase()).length<1)){var i=t(e,n||"");i&&o.push(i)}}for(var c=0;c<s;c++){var u=e.charAt(c),h=void 0;if(!1!==a||"="!==u){if(!1===a||c!==i){if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===a){if(-1===(h=function(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}return -1}(e,c))){l(v.trim(e.slice(n,c))),a=!1,n=c+1;continue}c=h-1;continue}if(-1===(h=function(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}return -1}(e,c-1))){l(a,m(v.trim(e.slice(n,c)))),a=!1,n=c+1;continue}}}else{if(-1===(h=e.indexOf(u,c+1)))break;l(a,v.trim(e.slice(i+1,h))),a=!1,n=(c=h)+1}}else a=e.slice(n,c),n=c+1,i='"'===e.charAt(n)||"'"===e.charAt(n)?n:function(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"'"===n||'"'===n?t:-1}return -1}(e,c+1)}return n<e.length&&(!1===a?l(e.slice(n)):l(a,m(v.trim(e.slice(n))))),v.trim(o.join(" "))}function S(e,t,n){if(n=function(e){return e=function(e){for(var t="",n=0,r=e.length;n<r;n++)t+=32>e.charCodeAt(n)?" ":e.charAt(n);return v.trim(t)}(e=(e=(e=e.replace(s,'"')).replace(a,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))})).replace(l,":").replace(c," "))}(n),"href"===t||"src"===t){if("#"===(n=v.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(u.lastIndex=0,u.test(n))return""}else if("style"===t&&(d.lastIndex=0,d.test(n)||(h.lastIndex=0,h.test(n)&&(u.lastIndex=0,u.test(n)))))return"";return n=function(e){return e=p(e=e.replace(f,"&quot;"))}(n)}var E=function(e){return"string"==typeof e?e.replace(/'/g,'"').replace('=""',"").replace(/\s+/g,"").toLowerCase():""},k=function(){function e(e){var t=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{});t.stripIgnoreTag&&(t.onIgnoreTag,t.onIgnoreTag=function(){return""}),t.whiteList={},t.onTag=function(){},t.onTagAttr=function(){},t.onIgnoreTag=function(){},t.onIgnoreTagAttr=function(){},t.safeAttrValue=S,t.escapeHtml=p,this.options=Object.assign(t,e)}return e.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t,n,r,i,o,a,s=this.options,l=s.whiteList,c=s.onTag,u=s.onIgnoreTag,h=s.onTagAttr,d=s.onIgnoreTagAttr,f=s.safeAttrValue,p=s.escapeHtml;s.stripBlankChar&&(e=(t=(t=e.split("")).filter(function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)})).join("")),s.allowCommentTag||(e=function(e){for(var t="",n=0;n<e.length;){var r=e.indexOf("\x3c!--",n);if(-1===r){t+=e.slice(n);break}t+=e.slice(n,r);var i=e.indexOf("--\x3e",r);if(-1===i)break;n=i+3}return t}(e));var g=!1;s.stripIgnoreTagBody&&(n=s.stripIgnoreTagBody,"function"!=typeof(r=u)&&(r=function(){}),i=!Array.isArray(n),o=[],a=!1,u=(g={onIgnoreTag:function(e,t,s){var l;if(l=e,i||-1!==v.indexOf(n,l)){if(s.isClosing){var c="[/removed]",u=s.position+c.length;return o.push([!1!==a?a:s.position,u]),a=!1,c}return a||(a=s.position),"[removed]"}return r(e,t,s)},remove:function(e){var t="",n=0;return v.forEach(o,function(r){t+=e.slice(n,r[0]),n=r[1]}),t+=e.slice(n)}}).onIgnoreTag);var m=b(e,function(e,t,n,r,i){var o={sourcePosition:e,position:t,isClosing:i,isWhite:Object.prototype.hasOwnProperty.call(l,n)},a=c(n,r,o);if(null!=a)return a;if(o.isWhite){if(o.isClosing)return"</".concat(n,">");var s=function(e){var t=v.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=v.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=v.trim(e.slice(0,-1))),{html:e,closing:n}}(r),g=l[n],m=w(s.html,function(e,t){var r=-1!==v.indexOf(g,e),i=h(n,e,t,r);return null==i?r?(t=f(n,e,t,null))?"".concat(e,'="').concat(t,'"'):e:null==(i=d(n,e,t,r))?void 0:i:i});return r="<".concat(n),m&&(r+=" ".concat(m)),s.closing&&(r+=" /"),r+=">"}return null==(a=u(n,r,o))?p(r):a},p);return g&&(m=g.remove(m)),m},e}(),T=Function("\nvar _checkXSS = function (it) {\n  return it && it.Math == Math && it;\n};\nreturn _checkXSS(typeof globalThis === 'object' && globalThis) ||\n_checkXSS(typeof window === 'object' && window) ||\n_checkXSS(typeof self === 'object' && self) ||\n_checkXSS(typeof global === 'object' && global) ||\nFunction('return this')();\n")(),x=new(function(){function e(){var e=this;this.batchData=[],this.uniqKeys=new Set,this.timeout=2e3,this.lock=!1,this.getSlardarBid=function(){var t,n,r="douyin_web";if(!v.includes(r,"bid"))return r;if(e.config&&e.config.bid)return e.config.bid;if(T&&T._xssBid)return T._xssBid;if(T&&T.slardar&&"function"==typeof T.slardar.config){var i=(T.slardar.config()||{}).bid;if(i)return i}if(T&&T.Slardar&&"function"==typeof T.Slardar.config){var o=(T.Slardar.config()||{}).bid;if(o)return o}return(null===(n=null===(t=null==T?void 0:T.Slardar)||void 0===t?void 0:t._baseParams)||void 0===n?void 0:n.bid)||"argus"},this.getConfigRegion=function(){var t;return v.includes("cn","region")?e.config&&e.config.region?e.config.region:((null===(t=null==T?void 0:T.gfdatav1)||void 0===t?void 0:t.region)||"cn").toLowerCase():"cn"},this.gerReportUrl=function(){var t={cn:_("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boe:_("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),ttp:_("aHR0cHM6Ly9tb24udXMudGlrdG9rdi5jb20vbW9uaXRvcl9icm93c2VyL2NvbGxlY3QvYmF0Y2gvc2VjdXJpdHkvP2JpZD0="),va:_("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),maliva:_("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),sg:_("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boei18n:_("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9")}[e.getConfigRegion()];if(t)return t+e.getSlardarBid()}}return e.prototype.setConfig=function(e){this.config=e},e.prototype.upload=function(){var e=this,t=this.gerReportUrl();!this.lock&&t&&0!==this.batchData.length&&(this.lock=!0,setTimeout(function(){var n=e.batchData.slice(0,100);e.batchData=e.batchData.slice(100),T.fetch(t,{method:"post",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).catch(function(e){}),e.lock=!1,e.upload()},this.timeout))},e.prototype.generateKey=function(e){return e.collectKey?[e.collectMode,e.collectKey].join("___"):""},e.prototype.push=function(e){this.batchData.push(e),this.upload()},e.prototype.report=function(e){var t=this.generateKey(e);if(T.fetch&&e.collectKey){var n="object"==typeof window?window.location.href:"SSR";e.documentUrl=n;var r={age:Math.floor(Date.now()),type:"xss",url:n,body:e,"user-agent":""};"enforce"===e.disposition&&"SSR"!==n||(r.url=t),"SSR"===n&&(r.url="SSR___".concat(r.url),r.body.ssr=!0),this.push(r)}},e}()),C=function(e){for(var t=0,n=function(n){Array.isArray(e[n])?0===e[n].length?delete e[n]:(e[n]=v.from(v.uniq(e[n])),t+=e[n].length):0===v.keys(e[n]).length?delete e[n]:v.keys(e[n]).forEach(function(r){e[n][r]=v.from(v.uniq(e[n][r])),t+=e[n][r].length})},r=0,i=v.keys(e);r<i.length;r++)n(i[r]);return{count:t,ret:e}};function I(e,t){return x.setConfig(t),new k(t).process(e)}function O(e){var t,n=(t=/\s|\n|\t/.exec(e))?t.index:-1;if(-1===n)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=e.slice(n+1,-1).trim())[e.length-1];return r&&(e=e.slice(0,-1).trim()),{html:e,closing:r}}var A=function(e){return -1===(e=(e=(e=(e=e.replace(/&colon;/gi,":")).replace(/&tab;/gi,"")).replace(/&newline;/gi,"")).replace(/(\t|\n|\r)/g,"")).indexOf("&#")?e.trim().toLowerCase():e.trim().replace(/&#(?:(x)([0-9a-f]+)|([0-9]+));?/gi,function(e,t,n,r){return String.fromCharCode(t?parseInt(n,16):parseInt(r))}).replace(/(\t|\n|\r)/g,"").toLowerCase()};function P(e,t){if(void 0===e&&(e=""),"string"!=typeof e)return!0;if(e=A(e),v.includes(e,"base64")&&!function(e){if(""===e||""===e.trim())return!0;try{return!v.includes(e,"data:text/html;base64")}catch(e){return!0}}(e))return t&&t("data:text/html;base64"),!1;var n=["expression(","behavior:","view-source:"];if(v.some(n,function(t){return -1!==e.indexOf(t)}))return v.forEach(n,function(n){-1!==e.indexOf(n)&&t&&t(n)}),!1;var r=["data:application","data:javascript","data:text/html","data:texthtml"];if(v.some(r,function(t){return -1!==e.indexOf(t)}))return v.forEach(r,function(n){-1!==e.indexOf(n)&&t&&t(n)}),!1;if(e.indexOf("javascript:")>0)return t&&t("javascript:"),!1;if(/^javascript:/i.test(e)){var i=e.slice(11).replace(/\s/g,"").trim();return!!v.some(["void","void(0)","void0","false","undefined",";"],function(e){return e===i})||(t&&t("javascript:"),!1)}return!0}var R=function(e,t){var n,r,i="<%= isSaveValidUrl =>";if("string"!=typeof e||(r=Number("<%= urlLimit =>"),void 0!==n&&(r=n),"NaN"!==e.toString()&&-1!==r&&e.length>=r)||P(e,t))return e;try{if(!0===(i=JSON.parse(i))||"true"===i){var o=new URL(e);return o.origin+o.pathname}}catch(e){}return"#"};function D(e,t,r){if(void 0===e&&(e=""),void 0===t&&(t=[]),"string"!=typeof e)return!0;if(!P(e=A(e)))return!1;var i,o={url:(i=e.match(/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/)||[])[0],scheme:i[1],slash:i[2],host:i[3],port:i[4],path:i[5],query:i[6],hash:i[7]},a=o.scheme,s=o.host;return r?!!r(e):!(!a||!s)&&(!v.includes(["http","https","file"],a)||("object"==typeof window&&window&&(t=n(n([],t,!0),[location.host],!1)),v.some(t,function(e){return!!(e instanceof RegExp&&e.test(s))||e===s})))}var L={a:["target","title","spellcheck","rel"],canvas:[],abbr:["title"],address:[],area:["shape","coords","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:["dir"],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["alt","title","width","height","decoding"],ins:["datetime"],li:[],mark:[],nav:[],ol:["start"],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],delete:[],form:[],strong:[],mask:["maskunits","x","y","width","height","fill"],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],wbr:[],video:["autoplay","controls","loop","preload","height","width"],svg:["viewBox","version","xmlns","fill","width","height","stroke","stroke-width","style"],path:["d","fill","opacity","stroke","p-id","fill-rule","clip-rule","stroke-width","stroke-linecap","stroke-linejoin","fill-opacity","mask"],rect:["x","y","width","height","fill","stroke","rx"],g:[]},M={collect:null,initCollect:function(){this.collect={whiteList:{},filterProtocol:[]}},removeCollect:function(){var e=C(this.collect),t=e.count,n=e.ret;return this.collect=null,{collectKey:0===t?null:JSON.stringify(n),collectMode:"white"}},onIgnoreTagAttr:function(e,t,r){return e&&v.indexOf(["href","src"],t)>-1?M.domainWhiteList&&Array.isArray(M.domainWhiteList)&&M.domainWhiteList.length>0&&!D(r,n([],M.domainWhiteList,!0))?"":"".concat(t,'="').concat(R(r,function(e){var t;null===(t=M.collect)||void 0===t||t.filterProtocol.push(e)}),'"'):e&&(v.indexOf(["style","class","id"],t)>-1||t.indexOf("data-")>-1)?"".concat(t,'="').concat(r,'"'):(M.collect.whiteList[e]=M.collect.whiteList[e]||[],void M.collect.whiteList[e].push(t))},onIgnoreTag:function(e,t){if("style"===e)return t;b(t,function(e,t,n,r){w(O(r).html.replace("/",""),function(e){M.collect.whiteList[n]=M.collect.whiteList[n]||[],M.collect.whiteList[n].push(e)})},p)},whiteList:L,mergeWhiteList:function(e){for(var t,n={},r=0,i=v.keys(L);r<i.length;r++)n[t=i[r]]=v.from(L[t]);for(var o=0,a=v.keys(e);o<a.length;o++)n[t=a[o]]=t in L?L[t].concat(e[t]):v.from(e[t]);return n},setWhiteList:function(e){for(var t=0,n=v.keys(e);t<n.length;t++){var r=n[t];this.whiteList[r]=r in L?L[r].concat(e[r]):v.from(e[r])}}};try{var z={},N="merge";v.includes(N,"override")&&(M.whiteList=z.whiteList),v.includes(N,"merge")&&M.setWhiteList(z.whiteList)}catch(e){}var j=function(e,t){for(var n={},r=0,i=v.keys(e);r<i.length;r++){var o=i[r];Array.isArray(e[o])?n[o]=v.from(e[o]):n[o]=j({},e[o])}for(var a=0,s=v.keys(t);a<s.length;a++)(o=s[a])in e?Array.isArray(e[o])?n[o]=e[o].concat(t[o]):n[o]=j(e[o],t[o]):Array.isArray(t[o])?n[o]=v.from(t[o]):n[o]=j({},t[o]);return n},B={blackList:{a:["folder"],meta:["content"],iframe:["srcdoc"],input:["pattern"],vmlframe:["xmlns"]},blackTags:["script","xml","embed","isindex","object","base","set","handler","animate","payload","import"],blackAttrs:["charset","ns","namespace","formaction","xlink:href","xmlns:xlink","handler","repeat","repeat-start","repeat-end"],blackAttrRegExps:[/^on/],filterList:{param:["value"],video:["poster"],form:["action"]},filterAttrs:["href","src","background","style","dynsrc","lowsrc","content"]};try{var U={};U.blackAttrRegExps&&(U.blackAttrRegExps=U.blackAttrRegExps.map(function(e){return new RegExp(e.toString().slice(1,e.toString().length-1))}));var F="merge";v.includes(F,"override")&&(B=U),v.includes(F,"merge")&&(B=j(B,U))}catch(e){}var G={mode:"black",whiteList:{},blackConfig:B,collect:null,initCollect:function(){G.collect={blackList:{},blackTags:[],blackAttrs:[],blackAttrRegExps:[],filterAttrs:[],filterList:{},filterProtocol:[]}},removeCollect:function(){var e=C(G.collect),t=e.count,n=e.ret;return G.collect=null,{collectKey:0===t?null:JSON.stringify(n),collectMode:"black"}},onIgnoreTag:function(e,t){var n;if(!v.includes(B.blackTags,e))return b(t,function(e,t,n,r,i){if(-1!==n.indexOf("/"))return p(r);if(i)return"</".concat(n,">");var o=O(r),a=w(o.html,function(e,t){var r,i=0;if(B.blackList[n]&&v.includes(B.blackList[n],e)&&(G.collect.blackList[n]=G.collect.blackList[n]||[],G.collect.blackList[n].push(e),i++),B.blackAttrRegExps.length&&B.blackAttrRegExps.some(function(t){return t.test(e)})&&v.forEach(B.blackAttrRegExps,function(t){t.test(e)&&(G.collect.blackAttrRegExps.push("".concat(t.toString(),"->").concat(e)),i++)}),B.blackAttrs.length&&v.includes(B.blackAttrs,e)&&(B.blackAttrs.push(e),i++),!i){if(B.filterList&&B.filterList[n]&&v.includes(B.filterList[n],e)){var o=R(t,function(e){var t;null===(t=G.collect)||void 0===t||t.filterProtocol.push(e)});return o!==t&&(G.collect.filterList[n]=G.collect.filterList[n]||[],G.collect.filterList[n].push(e)),t?"".concat(e,"='").concat(o,"'"):e}return B.filterAttrs&&v.includes(B.filterAttrs,e)?((o=R(t,function(e){var t;null===(t=G.collect)||void 0===t||t.filterProtocol.push(e)}))!==t&&(null===(r=G.collect)||void 0===r||r.filterAttrs.push(e)),t?"".concat(e,"='").concat(o,"'"):e):t?"".concat(e,"='").concat(t,"'"):e}});return r="<".concat(n),a&&(r+=" ".concat(a)),o.closing&&(r+=" /"),r+=">"},p);null===(n=G.collect)||void 0===n||n.blackTags.push(e)}},V=function(e){var t=e.reportOnly,n=void 0===t||t,r=e.block;return n&&"all"===n?"report":("string"==typeof n&&("true"===n&&(n=!0),"false"===n&&(n=!1)),r?"enforce":n?"report":"enforce")},H=function(e){return function(n,r,i){if(!n||"string"!=typeof n)return n;var o=r;e===I&&(o=M).initCollect();var a=e(n,o);if(E(a)===E(n))return n;if(!i)return a;var s=i.logType,l=V(i),c=o.removeCollect();return x.report(t(t({type:s,disposition:l},c),{sourceText:y(n),filterText:y(a)})),"enforce"===l?a:n}},Z=H(function(e,t){return void 0===t&&(t={}),t&&t.whiteList||(t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}),new k(t).process(e)}),K=H(I),W=function(e,t,n){var r=[],i=R(e,function(e){r.push(e)});if(i===e)return e;r=v.from(v.uniq(r));var o=t||n||{};if(!o)return i;var a=o.logType,s=V(n);return x.report({type:a,disposition:s,collectKey:r.join("___"),collectData:JSON.stringify(r),collectMode:"black",sourceText:y(e),filterText:y(i)}),"enforce"===s?i:e},$=T._xssProject||{},q=T.xssNamespace||{},X="3.0.26",J={FilterXSS:k,version:X,webpackPluginVersion:"<%= webpackPluginVersion =>",reportOnly:"<%= reportOnly =>",filterXSS:Z,_filterXSS:K,filterUrl:W,Config:M,BlackConfig:G,project:$,setProjectName:function(e){$[e]=this,T._xssProjectName=e}};q.douyin_web=J,T.xssNamespace=q,T.Math&&!T.Math.xssNamespace&&(T.Math.xssNamespace=q),$[X]=J,T.globalThis=T,T.getFilterXss=function(){return void 0!==this._xssProjectName?this._xssProject[this._xssProjectName]:J},T.xss=J,T.isSafeUrl=D,T.isSafeDomain=D,T.isSafeProtocol=P,T._xssProject=$,T._xssProjectName&&($[T._xssProjectName]=J);var Y=J.setProjectName.bind(J);e.BlackConfig=G,e.Config=M,e.FilterXSS=k,e._filterXSS=K,e.filterUrl=W,e.filterXSS=Z,e.isSafeDomain=D,e.isSafeProtocol=P,e.isSafeUrl=D,e.project=$,e.setProjectName=Y,e.setXssNamespace=function(e){var t=e.appId,n=e.bid,r=e.region;q[t]=J;M.bid=n,M.region=r,M.enabled=!0},e.xssNamespace=q,Object.defineProperty(e,"__esModule",{value:!0})}),(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["55407"],{725342:function(e,t,n){"use strict";var r=n(88648),i=n(153673);let o=(0,i.A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 1a2 2 0 0 0-2 2v18c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.41A2 2 0 0 0 20.41 7L15 1.59A2 2 0 0 0 13.59 1H5Zm8 2H5v18h14V9h-5a1 1 0 0 1-1-1V3Zm4.59 4L15 4.41V7h2.59Zm-6.09 5a.5.5 0 0 0-.5.5v1c0 .28.22.5.5.5h5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-5Zm-4.5.5c0-.28.22-.5.5-.5h1c.28 0 .5.22.5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1Zm4.5 3.5a.5.5 0 0 0-.5.5v1c0 .28.22.5.5.5h5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-5Zm-4.5.5c0-.28.22-.5.5-.5h1c.28 0 .5.22.5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1Z",fill:"currentColor"}))},"brief_stroked");t.Z=o},783629:function(e,t,n){"use strict";var r=n(88648),i=n(153673);let o=(0,i.A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{d:"M2 5v14a3 3 0 0 0 3 3h7.1a7.02 7.02 0 0 1-1.43-2H6a2 2 0 0 1-2-2V8a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2.67c.75.36 1.43.85 2 1.43V5a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3Z",fill:"currentColor"}),r.createElement("path",{d:"M16 10h1c-.54 0-1.06.06-1.57.18A1 1 0 0 1 16 10Z",fill:"currentColor"}),r.createElement("path",{d:"M13.5 10.94a1 1 0 0 0-1-.94h-1a1 1 0 0 0-1 1v1a1 1 0 0 0 .77.97 7.03 7.03 0 0 1 2.23-2.03Z",fill:"currentColor"}),r.createElement("path",{d:"M7 10a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1H7Z",fill:"currentColor"}),r.createElement("path",{d:"M6 16a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-1Z",fill:"currentColor"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 17a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-4-2a1 1 0 1 0-2 0v2c0 .27.1.52.3.7l1.5 1.5a1 1 0 0 0 1.4-1.4L18 16.58V15Z",fill:"currentColor"}))},"calendar_clock");t.Z=o},323312:function(e,t,n){"use strict";var r=n(88648),i=n(153673);let o=(0,i.A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.92 4.01a1.5 1.5 0 0 0-2.84 0l-5 14.5a1.5 1.5 0 0 0 2.84.98l1.03-2.99h5.1l1.03 2.99a1.5 1.5 0 1 0 2.84-.98l-5-14.5Zm.1 9.49H5.98L7.5 9.1l1.52 4.4Zm6.98 1c0-2.03 1.22-3 2-3s2 .97 2 3c0 2.03-1.22 3-2 3s-2-.97-2-3Zm2-6c.85 0 1.62.23 2.28.63A1.5 1.5 0 0 1 23 10v9a1.5 1.5 0 0 1-2.72.87c-.66.4-1.43.63-2.28.63-3.1 0-5-3.06-5-6s1.9-6 5-6Z",fill:"currentColor"}))},"case_sensitive");t.Z=o},756006:function(e,t,n){"use strict";var r=n(88648),i=n(153673);let o=(0,i.A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{d:"M20.5 13.5a1.5 1.5 0 0 0 0-3h-7v-7a1.5 1.5 0 0 0-3 0v7h-7a1.5 1.5 0 0 0 0 3h7v7a1.5 1.5 0 0 0 3 0v-7h7Z",fill:"currentColor"}))},"plus");t.Z=o},281767:function(e,t,n){"use strict";var r=n(88648),i=n(153673);let o=(0,i.A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("circle",{cx:12,cy:12,r:5,fill:"currentColor"}))},"radio");t.Z=o},966634:function(e,t,n){"use strict";var r=n(88648),i=n(153673);let o=(0,i.A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 12a7.5 7.5 0 0 1 13.8-4.07l-2-.4a1.5 1.5 0 0 0-.6 2.94l5 1c.76.15 1.51-.3 1.74-1.04l1.5-5a1.5 1.5 0 1 0-2.88-.86l-.43 1.45A10.49 10.49 0 0 0 1.5 12a10.5 10.5 0 0 0 20.4 3.5 1.5 1.5 0 1 0-2.83-1A7.5 7.5 0 0 1 4.5 12Z",fill:"currentColor"}))},"refresh");t.Z=o},868750:function(e,t,n){"use strict";var r=n(88648),i=n(153673);let o=(0,i.A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{d:"M4.5 2C3.67 2 3 2.67 3 3.5v17a1.5 1.5 0 0 0 3 0v-17C6 2.67 5.33 2 4.5 2Z",fill:"currentColor"}),r.createElement("path",{d:"m8 11.21 11.38-8.94a1 1 0 0 1 1.62.79v17.88a1 1 0 0 1-1.62.79L8 12.79a1 1 0 0 1 0-1.58Z",fill:"currentColor"}))},"restart");t.Z=o},819009:function(e,t,n){"use strict";var r=n(88648),i=n(153673);let o=(0,i.A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 2a8.5 8.5 0 1 0 4.86 15.48l4.08 4.08a1.5 1.5 0 1 0 2.12-2.12l-4.08-4.08A8.5 8.5 0 0 0 10.5 2ZM5 10.5a5.5 5.5 0 1 1 11 0 5.5 5.5 0 0 1-11 0Z",fill:"currentColor"}))},"search");t.Z=o},211124:function(e,t,n){"use strict";var r=n(88648),i=n(153673);let o=(0,i.A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.84 8.06A6.5 6.5 0 1 0 5.18 11 4.5 4.5 0 0 0 5.5 20H17a6 6 0 0 0 .84-11.94Zm-5.52.2a.5.5 0 0 0-.64 0l-5.15 4.3a.25.25 0 0 0 .16.44H10v4.5c0 .28.22.5.5.5h3a.5.5 0 0 0 .5-.5V13h3.31c.23 0 .34-.3.16-.44l-5.15-4.3Z",fill:"currentColor"}))},"upload");t.Z=o},843466:function(e,t,n){"use strict";var r=n(88648),i=n(153673);let o=(0,i.A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.43 2.1A1 1 0 0 1 12 3v18a1 1 0 0 1-1.62.78L4.65 17H2a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h2.65l5.73-4.78a1 1 0 0 1 1.05-.12Zm2.52 6.33a1.5 1.5 0 0 1 2.12.02 4.99 4.99 0 0 1 0 7 1.5 1.5 0 1 1-2.14-2.1 1.99 1.99 0 0 0 0-2.8 1.5 1.5 0 0 1 .02-2.12Zm4.9-4.28a1.5 1.5 0 0 0-1.7 2.47 6.5 6.5 0 0 1 0 10.76 1.5 1.5 0 0 0 1.7 2.47 9.5 9.5 0 0 0 0-15.7Z",fill:"currentColor"}))},"volume_2");t.Z=o},640384:function(e,t,n){"use strict";var r=n(88648),i=n(153673);let o=(0,i.A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v6a1 1 0 1 1-2 0V4h-5a1 1 0 0 1-1-1Zm-4 18a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-6a1 1 0 1 1 2 0v5h5a1 1 0 0 1 1 1ZM2 9a1 1 0 0 0 2 0V4h5a1 1 0 1 0 0-2H3a1 1 0 0 0-1 1v6Zm19 5a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-6a1 1 0 1 1 0-2h5v-5a1 1 0 0 1 1-1ZM8.5 7.5a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1v-7a1 1 0 0 0-1-1h-7Zm1 7v-5h5v5h-5Z",fill:"currentColor"}))},"window_adaption_stroked");t.Z=o},659643:function(e,t,n){"use strict";n.r(t)},200137:function(e,t,n){"use strict";n.r(t)},109415:function(e,t,n){"use strict";n.r(t)},863387:function(e,t,n){"use strict";n.r(t)},185123:function(e,t,n){"use strict";n.r(t)},69241:function(e,t,n){"use strict";n.r(t)},479618:function(e,t,n){"use strict";n.r(t)},290866:function(e,t,n){"use strict";n.r(t)},254830:function(e,t,n){"use strict";n.r(t)},374709:function(e,t,n){"use strict";n.r(t)},639849:function(e,t,n){"use strict";n.r(t)},142840:function(e,t,n){"use strict";n.r(t)},682476:function(e,t,n){"use strict";n.r(t)},608470:function(e,t,n){"use strict";n.r(t)},115271:function(e,t,n){"use strict";n.r(t)},428001:function(e,t,n){"use strict";n.r(t)},804850:function(e,t,n){"use strict";n.r(t)},786460:function(e,t,n){"use strict";n.r(t)},598643:function(e,t,n){"use strict";n.r(t)},468598:function(e,t,n){"use strict";n.r(t)},316876:function(e,t,n){"use strict";n.r(t)},297447:function(e,t,n){"use strict";n.r(t)},745569:function(e,t,n){"use strict";n.r(t)},418982:function(e,t,n){"use strict";n.r(t)},465349:function(e,t,n){"use strict";n.r(t)},50031:function(e,t,n){"use strict";n.r(t)},4030:function(e,t,n){"use strict";n.r(t)},737743:function(e,t){"use strict";t.Z=new class e{constructor(){this.config={}}}},969480:function(e,t,n){"use strict";let r=n(88648).createContext(null);t.Z=r},962734:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}}),n("429532");var r=n("705514"),i=n("88648"),o=n("713097"),a=n.n(o);n("659643");var s=n("11991"),l=n("518593"),c=n("143690"),u=n("754595"),h=n("343850"),d=n("483355"),f=n("868750"),p=n("540818"),v=n("512666"),g=n("843466"),m=n("153673");let y=(0,m.A)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.43 2.1A1 1 0 0 1 12 3v18a1 1 0 0 1-1.62.78L4.65 17H2a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h2.65l5.73-4.78a1 1 0 0 1 1.05-.12Z",fill:"currentColor"}))},"volumn_silent");var _=n("194235");let b=(0,m.A)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{d:"M1 5.96a1 1 0 0 1 1.59-.8l8.3 6.03a1 1 0 0 1 0 1.62l-8.3 6.03a1 1 0 0 1-1.59-.8V5.96Z",fill:"currentColor"}),i.createElement("path",{d:"M12 5.96a1 1 0 0 1 1.59-.8l8.3 6.03a1 1 0 0 1 0 1.62l-8.3 6.03a1 1 0 0 1-1.59-.8V5.96Z",fill:"currentColor"}))},"fast_forward");var w=n("966634"),S=n("508597"),E=n("140561"),k=n("130998"),T=n("628942");let x=s.U.PREFIX;class C extends r.Z{get adapter(){return Object.assign(Object.assign({},super.adapter),{init:()=>{this.audioRef.current&&(this.audioRef.current.addEventListener("loadedmetadata",()=>{this.foundation.initAudioState()}),this.audioRef.current.addEventListener("error",()=>{this.foundation.errorHandler()}),this.audioRef.current.addEventListener("ended",()=>{this.foundation.endHandler()}))},destroy:()=>{this.audioRef.current&&(this.audioRef.current.removeEventListener("loadedmetadata",()=>{this.foundation.initAudioState()}),this.audioRef.current.removeEventListener("error",()=>{this.foundation.errorHandler()}),this.audioRef.current.removeEventListener("ended",()=>{this.foundation.endHandler()}))},handleStatusClick:()=>{this.audioRef.current&&(this.state.isPlaying?this.audioRef.current.pause():this.audioRef.current.play(),this.setState({isPlaying:!this.state.isPlaying}))},getAudioRef:()=>this.audioRef.current,resetAudioState:()=>{this.setState({isPlaying:!0,currentTime:0,currentRate:{label:"1.0x",value:1}},()=>{this.audioRef.current&&(this.audioRef.current.currentTime=this.state.currentTime,this.audioRef.current.playbackRate=this.state.currentRate.value,this.audioRef.current.play())})},handleTimeUpdate:()=>{this.audioRef.current&&this.setState({currentTime:this.audioRef.current.currentTime})},handleTrackChange:e=>{if(!this.audioRef.current)return;let{audioUrl:t}=this.props;Array.isArray(t)&&("next"===e?this.setState({currentIndex:(this.state.currentIndex+1)%t.length,error:!1}):this.setState({currentIndex:(this.state.currentIndex-1+t.length)%t.length,error:!1})),this.foundation.resetAudioState()},handleTimeChange:e=>{this.audioRef.current&&(this.audioRef.current.currentTime=e,this.setState({currentTime:e}))},handleRefresh:()=>{this.audioRef.current&&(this.state.error?this.audioRef.current.load():(this.audioRef.current.currentTime=0,this.setState({currentTime:0})))},handleSpeedChange:e=>{this.audioRef.current&&(this.audioRef.current.playbackRate=e.value,this.setState({currentRate:e}))},handleSeek:e=>{if(!this.audioRef.current)return;let{skipDuration:t=10}=this.props,n=Math.min(Math.max(this.audioRef.current.currentTime+e*t,0),this.audioRef.current.duration);this.audioRef.current.currentTime=n},handleVolumeChange:e=>{if(!this.audioRef.current)return;let t=Math.floor(e);this.audioRef.current.volume=t/100,this.setState({volume:t})}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){let{audioUrl:e,autoPlay:t,className:n,style:r,showToolbar:o=!0,theme:s="dark"}=this.props,l=this.getAudioInfo(e).src;return i.createElement("div",{className:a()(x,n,`${x}-${s}`),style:r},i.createElement("audio",{src:l,autoPlay:t,className:a()(x,n),style:r,ref:this.audioRef,onTimeUpdate:this.handleTimeUpdate},i.createElement("track",{kind:"captions",src:l})),this.renderControl(),this.renderInfo(),o&&this.renderToolbar())}constructor(e){super(e),this.audioRef=i.createRef(),this.rateOptions=[{label:"0.5x",value:.5},{label:"0.75x",value:.75},{label:"1.0x",value:1},{label:"1.5x",value:1.5},{label:"2.0x",value:2}],this.handleStatusClick=()=>{this.foundation.handleStatusClick()},this.handleTrackChange=e=>{this.foundation.handleTrackChange(e)},this.handleTimeChange=e=>{this.foundation.handleTimeChange(e)},this.handleRefresh=()=>{this.foundation.handleRefresh()},this.handleSpeedChange=e=>{this.foundation.handleSpeedChange(e)},this.handleSeek=e=>{this.foundation.handleSeek(e)},this.handleTimeUpdate=()=>{this.foundation.handleTimeUpdate()},this.handleVolumeChange=e=>{this.foundation.handleVolumeChange(e)},this.handleVolumeSilent=()=>{this.audioRef.current&&(this.audioRef.current.volume=0===this.state.volume?.5:0,this.setState({volume:0===this.state.volume?50:0}))},this.getAudioInfo=e=>{if(Array.isArray(e)){let t=e[this.state.currentIndex];return"string"==typeof t?{src:t,audioTitle:null,audioCover:null}:{src:t.src,audioTitle:t.title,audioCover:t.cover}}if("string"==typeof e)return{src:e,audioTitle:null,audioCover:null};return{src:e.src,audioTitle:e.title,audioCover:e.cover}},this.renderControl=()=>{let{error:e}=this.state,t=Array.isArray(this.props.audioUrl),n=a()(`${x}-control-button-icon`),r={borderRadius:"50%"},o={background:"transparent"};return i.createElement("div",{className:a()(`${x}-control`)},t&&i.createElement(h.Z,{content:"Previous",autoAdjustOverflow:!0,showArrow:!1},i.createElement(l.Z,{style:Object.assign(Object.assign({},r),o),size:"large",icon:i.createElement(f.Z,{size:"large",className:n}),onClick:()=>this.handleTrackChange("prev")})),i.createElement(l.Z,{style:r,size:"large",disabled:e,onClick:this.handleStatusClick,icon:this.state.isPlaying?i.createElement(p.Z,{size:"large"}):i.createElement(v.Z,{style:{marginLeft:"1px"},size:"large"}),className:a()(`${s.U.PREFIX}-control-button-play`,{[`${s.U.PREFIX}-control-button-play-disabled`]:e})}),t&&i.createElement(h.Z,{content:"Next",autoAdjustOverflow:!0,showArrow:!1},i.createElement(l.Z,{style:Object.assign(Object.assign({},r),o),size:"large",icon:i.createElement(f.Z,{size:"large",rotate:180,className:n}),onClick:()=>this.handleTrackChange("next")})))},this.renderInfo=()=>{let{audioTitle:e,audioCover:t}=this.getAudioInfo(this.props.audioUrl),{theme:n}=this.props,{currentTime:r,totalTime:o,error:s}=this.state;return i.createElement("div",{className:a()(`${x}-info-container`)},t&&i.createElement(u.ZP,{src:t,width:50,height:50}),i.createElement("div",{className:a()(`${x}-info`)},e&&i.createElement("div",{className:a()(`${x}-info-title`)},e,s&&this.renderError()),!s&&i.createElement("div",{className:a()(`${x}-info-time`)},i.createElement("span",{style:{width:"38px"}},(0,T.m)(r)),i.createElement("div",{className:a()(`${x}-slider-container`)},i.createElement(E.Z,{value:r,max:o,theme:n,onChange:this.handleTimeChange})),i.createElement("span",{style:{width:"38px"}},(0,T.m)(o)))))},this.renderToolbar=()=>{let{volume:e,error:t}=this.state,{skipDuration:n=10,theme:r="dark"}=this.props,o=a()(`${x}-control-button-icon`),s={background:"transparent"},u=0===e;return t?i.createElement("div",{className:a()(`${x}-control`)},i.createElement(l.Z,{onClick:()=>this.handleRefresh(),style:s,icon:i.createElement(w.Z,{style:{transform:"rotateY(180deg)"},className:o})})):i.createElement("div",{className:a()(`${x}-control`)},i.createElement(d.Z,{autoAdjustOverflow:!0,content:i.createElement("div",{className:a()(`${x}-control-volume`)},i.createElement("div",{className:a()(`${x}-control-volume-title`)},e,"%"),i.createElement(E.Z,{value:e,max:100,vertical:!0,height:120,theme:r,showTooltip:!1,onChange:this.handleVolumeChange}))},i.createElement(l.Z,{style:s,icon:u?i.createElement(y,{className:o}):i.createElement(g.Z,{className:o}),onClick:this.handleVolumeSilent})),i.createElement(h.Z,{content:`Backward ${n}s`,autoAdjustOverflow:!0,showArrow:!1},i.createElement(l.Z,{style:s,icon:i.createElement(_.Z,{className:o}),onClick:()=>this.handleSeek(-1)})),i.createElement(h.Z,{content:`Forward ${n}s`,autoAdjustOverflow:!0,showArrow:!1},i.createElement(l.Z,{style:s,icon:i.createElement(b,{className:o}),onClick:()=>this.handleSeek(1)})),i.createElement(c.Z,{className:a()(`${x}-control-speed-menu`),render:i.createElement(c.Z.Menu,null,this.rateOptions.map(e=>i.createElement(c.Z.Item,{className:a()(`${x}-control-speed-menu-item`),key:e.value,onClick:()=>this.handleSpeedChange(e),active:e.value===this.state.currentRate.value},e.label))),onChange:this.handleSpeedChange},i.createElement("div",{className:a()(`${x}-control-speed`)},i.createElement("span",null,this.state.currentRate.label))),i.createElement(l.Z,{onClick:()=>this.handleRefresh(),style:s,icon:i.createElement(w.Z,{style:{transform:"rotateY(180deg)"},className:o})}))},this.renderError=()=>i.createElement("div",{className:a()(`${x}-error`)},i.createElement(S.Z,{size:"large"}),"音频加载失败"),this.state={isPlaying:!1,currentIndex:0,totalTime:0,currentTime:0,currentRate:{label:"1.0x",value:1},volume:100,error:!1},this.audioRef=i.createRef(),this.foundation=new k.Z(this.adapter)}}C.defaultProps={autoPlay:!1,showToolbar:!0,skipDuration:10,theme:"dark"};var I=C},481703:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}}),n(429532),n(874386);var r=n(479980),i=n.n(r),o=n(300277),a=n.n(o),s=n(291051),l=n.n(s),c=n(88648),u=n(713097),h=n.n(u),d=n(201845),f=n.n(d),p=n(406030),v=n(328842),g=n(705514),m=n(601472),y=n(687975),_=n(87357);let b=p.U.PREFIX;class w extends g.Z{get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{notifyClick:function(){e.props.onClick(...arguments)},notifyParent:function(){e.context.onClick(...arguments)}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){let{active:e,shouldRenderSeparator:t}=this.props,n=this.renderItem(),r=this.props.separator||c.createElement("span",{className:`${b}-separator`},this.context.separator),i=h()({[`${b}-item-wrap`]:!0});return c.createElement("span",Object.assign({className:i},e?{"aria-current":"page"}:{},this.getDataAttr(this.props)),n,t&&r)}constructor(e){super(e),this.renderIcon=()=>{let e=this.props.icon,{compact:t}=this.context,n=`${b}-item-icon`;return c.isValidElement(e)?c.cloneElement(e,{className:n,size:t?"small":"default"}):e},this.getTooltipOpt=()=>{let{showTooltip:e}=this.context;if(!e)return{width:150,ellipsisPos:"end"};let t={width:150,ellipsisPos:"end",opts:{autoAdjustOverflow:!0,position:"top"}};return"object"==typeof e?l()(t,e):t},this.getItemInfo=()=>{let e={},{route:t,children:n,href:r}=this.props,o=!a()(r)&&!i()(r);return t?e=t:(e.name=n,o&&(e.href=r)),e},this.renderBreadItem=()=>{let{children:e}=this.props,{compact:t}=this.context,n=this.getTooltipOpt(),r=this.renderIcon();if(e&&"string"==typeof e){let{opts:i,ellipsisPos:o,width:a}=n;return c.createElement(c.Fragment,null,r,c.createElement("span",{className:`${b}-item-title`},c.createElement(_.Z.Text,{ellipsis:{showTooltip:!!i&&{opts:i},pos:o},style:{maxWidth:a},size:t?"small":"normal"},e)))}return c.createElement(c.Fragment,null,r,e?c.createElement("span",{className:`${b}-item-title ${b}-item-title-inline`},e):null)},this.renderItem=()=>{let{href:e,active:t,noLink:n}=this.props,r=null!=e,i=h()({[`${b}-item`]:!0,[`${b}-item-active`]:t,[`${b}-item-link`]:!n}),o=this.renderBreadItem(),a=t||!r?"span":"a",s=this.getItemInfo();return c.createElement(a,{className:i,onClick:e=>this.foundation.handleClick(s,e),href:e},o)},this.foundation=new v.Z(this.adapter)}}w.isBreadcrumbItem=!0,w.contextType=y.Z,w.propTypes={onClick:f().func,route:f().oneOfType([f().object,f().string]),name:f().string,children:f().node,active:f().bool,shouldRenderSeparator:f().bool,icon:f().node,separator:f().node,noLink:f().bool},w.defaultProps={onClick:m.Z,shouldRenderSeparator:!0}},515925:function(e,t,n){"use strict";n(602157),n(429532);var r=n(88648),i=n(201845),o=n.n(i),a=n(580274),s=n(713097),l=n.n(s),c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let u=a.U.PREFIX;class h extends r.PureComponent{render(){let e=this.props,{avatar:t,className:n,description:i,style:o,title:a}=e,s=c(e,["avatar","className","description","style","title"]),h=l()(`${u}-meta`,n),d=t&&r.createElement("div",{className:`${u}-meta-avatar`},t),f=a&&r.createElement("div",{className:`${u}-meta-wrapper-title`},a),p=i&&r.createElement("div",{className:`${u}-meta-wrapper-description`},i),v=a||i?r.createElement("div",{className:`${u}-meta-wrapper`},f,p):null;return r.createElement("div",Object.assign({},s,{className:h,style:o}),d,v)}}h.propTypes={avatar:o().node,className:o().string,description:o().node,style:o().object,title:o().node},t.Z=h},15349:function(e,t,n){"use strict";n(250440),n(429532),n(874386),n(675373),n(268917),n(527785),n(179133),n(826893);var r=n(960734),i=n.n(r),o=n(96008),a=n.n(o),s=n(251526),l=n.n(s),c=n(866674),u=n.n(c),h=n(23902),d=n.n(h),f=n(43715),p=n.n(f),v=n(207813),g=n.n(v),m=n(248281),y=n.n(m),_=n(88648),b=n(309931),w=n(713097),S=n.n(w),E=n(201845),k=n.n(E),T=n(35329),x=n(297922),C=n(274220);n(618682);var I=n(712680),O=n(75378),A=n(120705),P=n(295404),R=n(826898),D=n(705514),L=n(906550),M=n(483355),z=n(99828),N=n(234927),j=n(305903),B=n(400771),U=n(98573);let F=x.UX.PREFIX;class G extends D.Z{get adapter(){var e=this;return Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),{updateInputValue:e=>{this.setState({inputValue:e})},updateInputPlaceHolder:e=>{this.setState({inputPlaceHolder:e})},focusInput:()=>{let{preventScroll:e}=this.props;this.inputRef&&this.inputRef.current&&this.inputRef.current.focus({preventScroll:e})},blurInput:()=>{this.inputRef&&this.inputRef.current&&this.inputRef.current.blur()}}),{registerClickOutsideHandler:e=>{let t=t=>{let n=this.optionsRef&&this.optionsRef.current,r=this.triggerRef&&this.triggerRef.current,i=b.findDOMNode(n),o=t.target,a=t.composedPath&&t.composedPath()||[o];i&&(!i.contains(o)||!i.contains(o.parentNode))&&r&&!r.contains(o)&&!(a.includes(r)||a.includes(i))&&e(t)};this.clickOutsideHandler=t,document.addEventListener("mousedown",t,!1)},unregisterClickOutsideHandler:()=>{document.removeEventListener("mousedown",this.clickOutsideHandler,!1)},rePositionDropdown:()=>{let{rePosKey:e}=this.state;e+=1,this.setState({rePosKey:e})}}),{setEmptyContentMinWidth:e=>{this.setState({emptyContentMinWidth:e})},getTriggerWidth:()=>{let e=this.triggerRef.current;return e&&e.getBoundingClientRect().width},updateStates:e=>{this.setState(Object.assign({},e))},openMenu:()=>{this.setState({isOpen:!0})},closeMenu:e=>{this.setState({isOpen:!1},()=>{e&&e()})},updateSelection:e=>this.setState({selectedKeys:e}),notifyChange:e=>{this.props.onChange&&this.props.onChange(e)},notifySelect:e=>{this.props.onSelect&&this.props.onSelect(e)},notifyOnSearch:e=>{this.props.onSearch&&this.props.onSearch(e)},notifyFocus:function(){e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){e.props.onBlur&&e.props.onBlur(...arguments)},notifyDropdownVisibleChange:e=>{this.props.onDropdownVisibleChange(e)},toggleHovering:e=>{this.setState({isHovering:e})},notifyLoadData:(e,t)=>{let{loadData:n}=this.props;n&&new Promise(r=>{n(e).then(()=>{setTimeout(()=>{t(),this.setState({loading:!1}),r()})})})},notifyOnLoad:(e,t)=>{let{onLoad:n}=this.props;n&&n(e,t)},notifyListScroll:(e,t)=>{let{panelIndex:n,activeNode:r}=t;this.props.onListScroll(e,{panelIndex:n,activeNode:r})},notifyOnExceed:e=>this.props.onExceed(e),notifyClear:()=>this.props.onClear(),toggleInputShow:(e,t)=>{this.setState({showInput:e},()=>{t()})},updateFocusState:e=>{this.setState({isFocus:e})},updateLoadingKeyRefValue:e=>{this.loadingKeysRef.current=e},getLoadingKeyRefValue:()=>this.loadingKeysRef.current,updateLoadedKeyRefValue:e=>{this.loadedKeysRef.current=e},getLoadedKeyRefValue:()=>this.loadedKeysRef.current})}static getDerivedStateFromProps(e,t){let{multiple:n,value:r,defaultValue:o,onChangeWithObject:a,leafOnly:s,autoMergeValue:l,checkRelation:c,searchPlaceholder:u,placeholder:h}=e,{prevProps:f}=t,p=t.keyEntities||{},v={},m=u||h;m!==t.inputPlaceHolder&&(v.inputPlaceHolder=m);let _=t=>{let n=d()(f)&&t in e,r=f&&!g()(f[t],e[t]);return n||r},b=(e,t)=>{let n=[];Array.isArray(e)?n=Array.isArray(e[0])?e:[e]:void 0!==e&&(n=[[e]]);let r=[];return n.forEach(e=>{let t=a&&i()(e[0])?e.map(e=>null==e?void 0:e.value):e;t.length>0&&r.push(t)}),r.reduce((e,n)=>{let r=(0,A.J1)(n);return t[r]&&e.push(r),e},[])};if(n){let n=_("treeData")||(()=>{let t=!f&&"treeData"in e,n=f&&f.treeData!==e.treeData;return t||n})(),i=_("value")||d()(f)&&o;if(n||i){n&&(v.treeData=e.treeData,p=(0,A.I8)(e.treeData),v.keyEntities=p);let a=t.checkedKeys;if(i?a=b(_("value")?r:o,p):n&&"value"in e&&(a=b(r,p)),y()(a)&&(a=[...a]),c===x.j2.RELATED){let t=(0,P.fM)(a,p),n=new Set(t.checkedKeys),r=new Set(t.halfCheckedKeys);e.disableStrictly&&(v.disabledKeys=(0,P.vP)(p));let i=(0,A.XT)(l,s)===x.j2.LEAF_ONLY_MERGE_TYPE;v.checkedKeys=n,v.halfCheckedKeys=r,v.resolvedCheckedKeys=new Set((0,P.yI)(n,p,i))}else v.checkedKeys=new Set(a);v.prevProps=e}}return v}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e){if(this.props.multiple)return;let t=!1;!g()(e.treeData,this.props.treeData)&&(t=!0,this.foundation.collectOptions()),e.value!==this.props.value&&!t&&this.foundation.handleValueChange(this.props.value)}renderTagInput(){let{size:e,disabled:t,placeholder:n,maxTagCount:r,showRestTagsPopover:i,restTagsPopoverProps:o,checkRelation:a}=this.props,{inputValue:s,checkedKeys:l,keyEntities:c,resolvedCheckedKeys:u,inputPlaceHolder:h}=this.state,d=S()(`${F}-tagInput-wrapper`),f=this.mergeType===x.j2.NONE_MERGE_TYPE||a===x.j2.UN_RELATED?l:u;return _.createElement(B.Z,{className:d,ref:this.inputRef,disabled:t,size:e,value:[...f],showRestTagsPopover:i,restTagsPopoverProps:o,maxTagCount:r,renderTagItem:this.renderTagItem,inputValue:s,onInputChange:this.handleInputChange,onRemove:this.onRemoveInTagInput,placeholder:h,expandRestTagsOnClick:!1})}renderInput(){let{size:e,disabled:t}=this.props,n=S()(`${F}-input`),{inputValue:r,inputPlaceHolder:i,showInput:o}=this.state,a={disabled:t,value:r,className:n,onChange:this.handleInputChange},s=S()({[`${F}-search-wrapper`]:!0,[`${F}-search-wrapper-${e}`]:"default"!==e}),l=this.renderDisplayText(),c=S()({[`${F}-selection-placeholder`]:!l,[`${F}-selection-text-hide`]:o&&r,[`${F}-selection-text-inactive`]:o&&!r});return _.createElement("div",{className:s},_.createElement("span",{className:c},l||i),o&&_.createElement(L.Z,Object.assign({ref:this.inputRef,size:e},a)))}close(){this.foundation.close()}open(){this.foundation.open()}focus(){this.foundation.focus()}blur(){this.foundation.blur()}render(){let{zIndex:e,getPopupContainer:t,autoAdjustOverflow:n,stopPropagation:r,mouseLeaveDelay:i,mouseEnterDelay:o,position:a,motion:s,dropdownMargin:l}=this.props,{isOpen:c,rePosKey:u}=this.state,{direction:h}=this.context,d=this.renderContent(),f=this.renderSelection();return _.createElement(M.Z,{getPopupContainer:t,zIndex:e,motion:s,margin:l,ref:this.optionsRef,content:d,visible:c,trigger:"custom",rePosKey:u,position:null!=a?a:"rtl"===h?"bottomRight":"bottomLeft",autoAdjustOverflow:n,stopPropagation:r,mouseLeaveDelay:i,mouseEnterDelay:o,afterClose:()=>this.foundation.updateSearching(!1)},f)}constructor(e){super(e),this.search=e=>{this.handleInputChange(e)},this.handleInputChange=e=>{this.foundation.handleInputChange(e)},this.handleTagRemoveInTrigger=e=>{this.foundation.handleTagRemoveInTrigger(e)},this.handleTagClose=(e,t,n)=>{t.preventDefault(),this.foundation.handleTagRemoveByKey(n)},this.renderTagItem=(e,t)=>{let{keyEntities:n,disabledKeys:r}=this.state,{size:i,disabled:o,displayProp:a,displayRender:s,disableStrictly:l}=this.props;if(n[e]){let c=o||n[e].data.disabled||l&&r.has(e),h=S()(`${F}-selection-tag`,{[`${F}-selection-tag-disabled`]:c});return u()(s)?s(n[e],t):_.createElement(j.Z,{size:"default"===i?"large":i,key:`tag-${e}-${t}`,color:"white",tagKey:e,className:h,closable:!0,onClose:this.handleTagClose},n[e].data[a])}return null},this.onRemoveInTagInput=e=>{this.foundation.handleTagRemoveByKey(e)},this.handleItemClick=(e,t)=>{this.foundation.handleItemClick(e,t)},this.handleItemHover=(e,t)=>{this.foundation.handleItemHover(e,t)},this.onItemCheckboxClick=e=>{this.foundation.onItemCheckboxClick(e)},this.handleListScroll=(e,t)=>{this.foundation.handleListScroll(e,t)},this.renderContent=()=>{let{inputValue:e,isSearching:t,activeKeys:n,selectedKeys:r,checkedKeys:i,halfCheckedKeys:o,loadedKeys:a,loadingKeys:s}=this.state,{filterTreeNode:l,dropdownClassName:c,dropdownStyle:u,loadData:h,emptyContent:d,separator:f,topSlot:p,bottomSlot:v,showNext:g,multiple:m,filterRender:y,virtualizeInSearch:b,expandIcon:w}=this.props,E=S()(c,`${F}-popover`),k=this.foundation.getRenderData(),T=k&&k.length?u:Object.assign(Object.assign({},u),{minWidth:this.state.emptyContentMinWidth});return _.createElement("div",{className:E,role:"listbox",style:T,onKeyDown:this.foundation.handleKeyDown},p,_.createElement(z.Z,{activeKeys:n,selectedKeys:r,separator:f,loadedKeys:a,loadingKeys:s,onItemClick:this.handleItemClick,onItemHover:this.handleItemHover,showNext:g,onItemCheckboxClick:this.onItemCheckboxClick,onListScroll:this.handleListScroll,searchable:!!l&&t,keyword:e,emptyContent:d,loadData:h,data:k,multiple:m,checkedKeys:i,halfCheckedKeys:o,filterRender:y,virtualize:b,expandIcon:w}),v)},this.renderPlusN=e=>{let{disabled:t,showRestTagsPopover:n,restTagsPopoverProps:r}=this.props,i=S()(`${F}-selection-n`,{[`${F}-selection-n-disabled`]:t}),o=_.createElement("span",{className:i},"+",e.length);return n?_.createElement(M.Z,Object.assign({content:e,showArrow:!0,trigger:"hover",position:"top",autoAdjustOverflow:!0},r),o):o},this.renderMultipleTags=()=>{let{autoMergeValue:e,maxTagCount:t,checkRelation:n}=this.props,{checkedKeys:r,resolvedCheckedKeys:i}=this.state,o=this.mergeType===x.j2.NONE_MERGE_TYPE||n===x.j2.UN_RELATED?r:i,a=[],s=[];return[...o].forEach((e,n)=>{let r=!l()(t)||t>=n+1,i=this.renderTagItem(e,n);r?a.push(i):s.push(i)}),_.createElement(_.Fragment,null,a,!d()(s)&&this.renderPlusN(s))},this.renderDisplayText=()=>{let{displayProp:e,separator:t,displayRender:n}=this.props,{selectedKeys:r}=this.state,i="";if(r.size){let o=this.foundation.getItemPropPath([...r][0],e);i=n&&"function"==typeof n?n(o):o.map((e,n)=>_.createElement(_.Fragment,{key:`${e}-${n}`},n<o.length-1?_.createElement(_.Fragment,null,e,t):e))}return i},this.renderSelectContent=()=>{let{placeholder:e,filterTreeNode:t,multiple:n,searchPosition:r}=this.props,{checkedKeys:i}=this.state;if(!(t&&r===x.j2.SEARCH_POSITION_TRIGGER)){if(n)return 0===i.size?_.createElement("span",{className:`${F}-selection-placeholder`},e):this.renderMultipleTags();{let t=this.renderDisplayText(),n=S()({[`${F}-selection-placeholder`]:!t});return _.createElement("span",{className:n},t||e)}}return n?this.renderTagInput():this.renderInput()},this.renderSuffix=()=>{let{suffix:e}=this.props,t=S()({[`${F}-suffix`]:!0,[`${F}-suffix-text`]:e&&p()(e),[`${F}-suffix-icon`]:(0,U.ID)(e)});return _.createElement("div",{className:t,"x-semi-prop":"suffix"},e)},this.renderPrefix=()=>{let{prefix:e,insetLabel:t,insetLabelId:n}=this.props,r=e||t,i=S()({[`${F}-prefix`]:!0,[`${F}-inset-label`]:t,[`${F}-prefix-text`]:r&&p()(r),[`${F}-prefix-icon`]:(0,U.ID)(r)});return _.createElement("div",{className:i,id:n,"x-semi-prop":"prefix,insetLabel"},r)},this.renderCustomTrigger=()=>{var e;let t;let{disabled:n,triggerRender:r,multiple:i}=this.props,{selectedKeys:o,inputValue:a,inputPlaceHolder:s,resolvedCheckedKeys:l,checkedKeys:c,keyEntities:u}=this.state;return i?this.mergeType===x.j2.NONE_MERGE_TYPE?(t=new Set,c.forEach(e=>{var n;t.add(null===(n=u[e])||void 0===n?void 0:n.pos)})):(t=new Set,l.forEach(e=>{var n;t.add(null===(n=u[e])||void 0===n?void 0:n.pos)})):t=null===(e=u[[...o][0]])||void 0===e?void 0:e.pos,_.createElement(N.Z,{value:t,inputValue:a,onChange:this.handleInputChange,onClear:this.handleClear,placeholder:s,disabled:n,triggerRender:r,componentName:"Cascader",componentProps:Object.assign({},this.props),onSearch:this.handleInputChange,onRemove:this.handleTagRemoveInTrigger})},this.handleMouseOver=()=>{this.foundation.toggleHoverState(!0)},this.handleMouseLeave=()=>{this.foundation.toggleHoverState(!1)},this.handleClear=e=>{e&&e.stopPropagation(),this.foundation.handleClear()},this.handleClearEnterPress=e=>{e&&e.stopPropagation(),this.foundation.handleClearEnterPress(e)},this.showClearBtn=()=>{let{showClear:e,disabled:t,multiple:n}=this.props,{selectedKeys:r,isOpen:i,isHovering:o,checkedKeys:a,inputValue:s}=this.state,l=r.size,c=n&&a.size;return e&&(s||l||c)&&!t&&(i||o)},this.renderClearBtn=()=>{let e=S()(`${F}-clearbtn`),{clearIcon:t}=this.props;return this.showClearBtn()?_.createElement("div",{className:e,onClick:this.handleClear,onKeyPress:this.handleClearEnterPress,role:"button",tabIndex:0},t||_.createElement(I.Z,null)):null},this.renderArrow=()=>{let{arrowIcon:e}=this.props;return this.showClearBtn()?null:e?_.createElement("div",{className:S()(`${F}-arrow`),"x-semi-prop":"arrowIcon"},e):null},this.renderSelection=()=>{let{disabled:e,multiple:t,filterTreeNode:n,style:r,size:i,className:o,validateStatus:a,prefix:s,suffix:l,insetLabel:c,triggerRender:u,showClear:h,id:f,borderless:p}=this.props,{isOpen:v,isFocus:g,isInput:m,checkedKeys:y}=this.state,b="function"==typeof u,w=b?S()(o):S()(F,o,{[`${F}-borderless`]:p,[`${F}-focus`]:g||v&&!m,[`${F}-disabled`]:e,[`${F}-single`]:!0,[`${F}-filterable`]:!!n,[`${F}-error`]:"error"===a,[`${F}-warning`]:"warning"===a,[`${F}-small`]:"small"===i,[`${F}-large`]:"large"===i,[`${F}-with-prefix`]:s||c,[`${F}-with-suffix`]:l}),E=S()(`${F}-selection`,{[`${F}-selection-multiple`]:t&&!d()(y)}),k=b?this.renderCustomTrigger():[_.createElement(_.Fragment,{key:"prefix"},s||c?this.renderPrefix():null),_.createElement(_.Fragment,{key:"selection"},_.createElement("div",{className:E},this.renderSelectContent())),_.createElement(_.Fragment,{key:"suffix"},l?this.renderSuffix():null),_.createElement(_.Fragment,{key:"clearbtn"},this.renderClearBtn()),_.createElement(_.Fragment,{key:"arrow"},this.renderArrow())];return _.createElement("div",Object.assign({className:w,style:r,ref:this.triggerRef,onClick:e=>this.foundation.handleClick(e),onKeyPress:e=>this.foundation.handleSelectionEnterPress(e),"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],id:f,onKeyDown:this.foundation.handleKeyDown},h?{onMouseEnter:()=>this.handleMouseOver(),onMouseLeave:()=>this.handleMouseLeave()}:{},{role:"combobox",tabIndex:0},this.getDataAttr(this.props)),k)},this.state={emptyContentMinWidth:null,disabledKeys:new Set,isOpen:e.defaultOpen,rePosKey:0,keyEntities:{},selectedKeys:new Set([]),activeKeys:new Set([]),filteredKeys:new Set([]),inputValue:"",isSearching:!1,inputPlaceHolder:e.searchPlaceholder||e.placeholder,prevProps:{},isHovering:!1,checkedKeys:new Set([]),halfCheckedKeys:new Set([]),resolvedCheckedKeys:new Set([]),loadedKeys:new Set,loadingKeys:new Set,loading:!1,showInput:!1},this.options={},this.isEmpty=!1,this.mergeType=(0,A.XT)(e.autoMergeValue,e.leafOnly),this.inputRef=_.createRef(),this.triggerRef=_.createRef(),this.optionsRef=_.createRef(),this.clickOutsideHandler=null,this.foundation=new T.Z(this.adapter),this.loadingKeysRef=_.createRef(),this.loadedKeysRef=_.createRef()}}G.__SemiComponentName__="Cascader",G.contextType=R.Z,G.propTypes={"aria-labelledby":k().string,"aria-invalid":k().bool,"aria-errormessage":k().string,"aria-describedby":k().string,"aria-required":k().bool,"aria-label":k().string,arrowIcon:k().node,borderless:k().bool,clearIcon:k().node,changeOnSelect:k().bool,defaultValue:k().oneOfType([k().string,k().array]),disabled:k().bool,dropdownClassName:k().string,dropdownStyle:k().object,dropdownMargin:k().oneOfType([k().number,k().object]),emptyContent:k().node,motion:k().bool,filterTreeNode:k().oneOfType([k().func,k().bool]),filterLeafOnly:k().bool,placeholder:k().string,searchPlaceholder:k().string,size:k().oneOf(x.j2.SIZE_SET),style:k().object,className:k().string,treeData:k().arrayOf(k().shape({value:k().oneOfType([k().string,k().number]),label:k().any})),treeNodeFilterProp:k().string,suffix:k().node,prefix:k().node,insetLabel:k().node,insetLabelId:k().string,id:k().string,displayProp:k().string,displayRender:k().func,onChange:k().func,onSearch:k().func,onSelect:k().func,onBlur:k().func,onFocus:k().func,children:k().node,getPopupContainer:k().func,zIndex:k().number,value:k().oneOfType([k().string,k().number,k().array]),validateStatus:k().oneOf(x.j2.VALIDATE_STATUS),showNext:k().oneOf([x.j2.SHOW_NEXT_BY_CLICK,x.j2.SHOW_NEXT_BY_HOVER]),stopPropagation:k().oneOfType([k().bool,k().string]),showClear:k().bool,defaultOpen:k().bool,autoAdjustOverflow:k().bool,onDropdownVisibleChange:k().func,triggerRender:k().func,onListScroll:k().func,onChangeWithObject:k().bool,bottomSlot:k().node,topSlot:k().node,multiple:k().bool,autoMergeValue:k().bool,maxTagCount:k().number,showRestTagsPopover:k().bool,restTagsPopoverProps:k().object,max:k().number,separator:k().string,onExceed:k().func,onClear:k().func,loadData:k().func,onLoad:k().func,loadedKeys:k().array,disableStrictly:k().bool,leafOnly:k().bool,enableLeafClick:k().bool,preventScroll:k().bool,position:k().string,searchPosition:k().string},G.defaultProps=(0,U.GW)(G.__SemiComponentName__,{borderless:!1,leafOnly:!1,arrowIcon:_.createElement(O.Z,null),stopPropagation:!0,motion:!0,defaultOpen:!1,zIndex:C.KT.DEFAULT_Z_INDEX,showClear:!1,autoClearSearchValue:!0,changeOnSelect:!1,disableStrictly:!1,autoMergeValue:!0,multiple:!1,filterTreeNode:!1,filterLeafOnly:!0,showRestTagsPopover:!1,restTagsPopoverProps:{},separator:" / ",size:"default",treeNodeFilterProp:"label",displayProp:"label",treeData:[],showNext:x.j2.SHOW_NEXT_BY_CLICK,onExceed:a(),onClear:a(),onDropdownVisibleChange:a(),onListScroll:a(),enableLeafClick:!1,"aria-label":"Cascader",searchPosition:x.j2.SEARCH_POSITION_TRIGGER,checkRelation:x.j2.RELATED}),t.Z=G},115018:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}}),n("429532"),n("250440"),n("268917");var r=n("88648"),i=n("201845"),o=n.n(i),a=n("981710"),s=n("963287"),l=n("153673");let c=(0,l.A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m11.42 2.1-.83-.4L6.42 9H3.2C2.54 9 2 9.54 2 10.2v10.6c0 .66.54 1.2 1.2 1.2H17.67c.65 0 1.19-.12 1.6-.4.38-.23.66-.61.72-1.06a251.76 251.76 0 0 0 1.77-7.79c.13-.68.24-1.32.24-1.68 0-.77-.3-1.38-.76-1.79a2.18 2.18 0 0 0-1.4-.53h-6.5l.19-1.16.03-.17c.13-.76.27-1.6.27-2.17 0-.97-.58-1.72-1.05-2.18a5.37 5.37 0 0 0-1.36-.98ZM6 20v-9H4v9h2Zm2 0h9.67c.19 0 .32-.02.4-.04a250.3 250.3 0 0 0 1.73-7.58c.14-.74.2-1.18.2-1.31 0-.13-.02-.2-.04-.22a.14.14 0 0 0-.03-.06.18.18 0 0 0-.06-.03l-.04-.01h-8.58v-1c0-.7.17-1.68.3-2.5v-.02c.16-.89.28-1.6.28-1.98 0-.16-.1-.42-.45-.76a2.85 2.85 0 0 0-.05-.05L8 10.27V20Z",fill:"currentColor"}))},"thumb_up_stroked");var u=n("854098"),h=n("958954"),d=n("747909"),f=n("507637"),p=n.n(f),v=n("888555"),g=n("211312"),m=n("657794"),y=n("713097"),_=n.n(y);let{PREFIX_CHAT_BOX_ACTION:b}=v.U,{ROLE:w,MESSAGE_STATUS:S}=v.j;class E extends d.BaseComponent{componentDidMount(){this.copySuccessNode=r.createElement(m.Z,{componentName:"Chat"},e=>e.copySuccess)}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyDeleteMessage:()=>{let{message:e,onMessageDelete:t}=this.props;null==t||t(e)},notifyMessageCopy:()=>{let{message:e,onMessageCopy:t}=this.props;null==t||t(e)},copyToClipboardAndToast:()=>{var e;let{message:t={},toast:n}=this.props;if("string"==typeof t.content)p()(t.content);else if(Array.isArray(t.content)){let n=null===(e=t.content)||void 0===e?void 0:e.map(e=>e.text).join("");p()(n)}n.success({content:this.copySuccessNode})},notifyLikeMessage:()=>{let{message:e,onMessageGoodFeedback:t}=this.props;null==t||t(e)},notifyDislikeMessage:()=>{let{message:e,onMessageBadFeedback:t}=this.props;null==t||t(e)},notifyResetMessage:()=>{let{message:e,onMessageReset:t}=this.props;null==t||t(e)},setVisible:e=>{this.setState({visible:e})},setShowAction:e=>{this.setState({showAction:e})},registerClickOutsideHandler:e=>{this.clickOutsideHandler&&this.adapter.unregisterClickOutsideHandler(),this.clickOutsideHandler=t=>{let n=this.popconfirmTriggerRef&&this.popconfirmTriggerRef.current,r=t.target,i=t.composedPath&&t.composedPath()||[r];n&&!n.contains(r)&&!i.includes(n)&&e()},window.addEventListener("mousedown",this.clickOutsideHandler)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(window.removeEventListener("mousedown",this.clickOutsideHandler),this.clickOutsideHandler=null)}})}render(){let{message:e={},lastChat:t}=this.props,{showAction:n}=this.state,{role:i,status:o=S.COMPLETE}=e,a=o===S.COMPLETE,s=i!==w.USER&&a,l=t&&i===w.ASSISTANT,c=o!==S.LOADING&&o!==S.INCOMPLETE,u=_()(b,{[`${b}-show`]:l&&c||n,[`${b}-hidden`]:!c}),{customRenderFunc:h}=this.props;if(h){let t=[],n={};if(a){let e=this.copyNode();t.push(e),n.copyNode=e}if(s){let e=this.likeNode();t.push(e),n.likeNode=e;let r=this.dislikeNode();t.push(r),n.dislikeNode=r}if(l){let e=this.resetNode();t.push(e),n.resetNode=e}let r=this.deleteNode();return t.push(r),n.deleteNode=r,h({message:e,defaultActions:t,className:u,defaultActionsObj:n})}return r.createElement("div",{className:u,ref:this.containerRef},a&&this.copyNode(),s&&this.likeNode(),s&&this.dislikeNode(),l&&this.resetNode(),this.deleteNode())}constructor(e){super(e),this.copyNode=()=>r.createElement(d.Button,{key:"copy",theme:"borderless",icon:r.createElement(a.Z,null),type:"tertiary",onClick:this.foundation.copyMessage,className:`${b}-btn`}),this.likeNode=()=>{let{message:e={}}=this.props,{like:t}=e;return r.createElement(d.Button,{key:"like",theme:"borderless",icon:t?r.createElement(s.Z,null):r.createElement(c,null),type:"tertiary",className:`${b}-btn`,onClick:this.foundation.likeMessage})},this.dislikeNode=()=>{let{message:e={}}=this.props,{dislike:t}=e;return r.createElement(d.Button,{theme:"borderless",key:"dislike",icon:t?r.createElement(s.Z,{className:`${b}-icon-flip`}):r.createElement(c,{className:"semi-chat-chatBox-action-icon-flip"}),type:"tertiary",className:`${b}-btn`,onClick:this.foundation.dislikeMessage})},this.resetNode=()=>r.createElement(d.Button,{key:"reset",theme:"borderless",icon:r.createElement(u.Z,{className:`${b}-icon-redo`}),type:"tertiary",onClick:this.foundation.resetMessage,className:`${b}-btn`}),this.deleteNode=()=>{let e=r.createElement(m.Z,{componentName:"Chat"},e=>e.deleteConfirm);return r.createElement(d.Popconfirm,{trigger:"custom",visible:this.state.visible,key:"delete",title:e,onConfirm:this.foundation.deleteMessage,onCancel:this.foundation.hideDeletePopup,position:"top"},r.createElement("span",{ref:this.popconfirmTriggerRef,className:`${b}-delete-wrap`},r.createElement(d.Button,{theme:"borderless",icon:r.createElement(h.Z,null),type:"tertiary",className:`${b}-btn`,onClick:this.foundation.showDeletePopup})))},this.foundation=new g.Z(this.adapter),this.copySuccessNode=null,this.state={visible:!1,showAction:!1},this.clickOutsideHandler=null,this.containerRef=r.createRef(),this.popconfirmTriggerRef=r.createRef()}}E.propTypes={role:o().object,message:o().object,showReset:o().bool,onMessageBadFeedback:o().func,onMessageGoodFeedback:o().func,onMessageCopy:o().func,onChatsChange:o().func,onMessageDelete:o().func,onMessageReset:o().func,customRenderFunc:o().func};var k=E},928875:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}}),n("429532");var r=n("88648"),i=n("713097"),o=n.n(i),a=n("201845"),s=n.n(a),l=n("747909"),c=n("153673");let u=(0,c.A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.36 5.64a3 3 0 0 0-4.24 0L12 7.76a1 1 0 1 1-1.41-1.42l2.12-2.12a5 5 0 0 1 7.07 7.07l-2.12 2.12A1 1 0 0 1 16.24 12l2.12-2.12a3 3 0 0 0 0-4.24ZM5.64 18.36a3 3 0 0 0 4.24 0L12 16.24a1 1 0 0 1 1.41 1.42l-2.12 2.12a5 5 0 0 1-7.07-7.07l2.12-2.12A1 1 0 0 1 7.76 12l-2.12 2.12a3 3 0 0 0 0 4.24Zm9.9-8.48a1 1 0 0 0-1.42-1.42l-5.66 5.66a1 1 0 1 0 1.42 1.42l5.66-5.66Z",fill:"currentColor"}))},"chain_stroked");var h=n("958954"),d=n("272040"),f=n("888555"),p=n("770974"),v=n("738452"),g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let{PREFIX_INPUT_BOX:m}=f.U,{SEND_HOT_KEY:y}=f.j,_={minRows:1,maxRows:5};class b extends l.BaseComponent{get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyInputChange:e=>{let{onInputChange:t}=this.props;t&&t(e)},setInputValue:e=>{this.setState({content:e})},setAttachment:e=>{this.setState({attachment:e})},notifySend:(e,t)=>{let{onSend:n}=this.props;n&&n(e,t)}})}render(){let{onClearContext:e,renderInputArea:t,onSend:n,style:i,className:a,showClearContext:s}=this.props,l=this.renderClearButton(),c=this.renderUploadButton(),u=this.renderInputArea(),h=this.renderSendButton(),d=r.createElement("div",{className:o()(m,{[a]:a}),style:i},r.createElement("div",{className:`${m}-inner`,onClick:this.onClick},s&&l,r.createElement("div",{className:`${m}-container`},c,u,h)));return t?t({defaultNode:d,onClear:e,onSend:n,detailProps:{clearContextNode:l,uploadNode:c,inputNode:u,sendNode:h,onClick:this.onClick}}):d}constructor(e){super(e),this.onClick=()=>{var e;null===(e=this.inputAreaRef.current)||void 0===e||e.focus()},this.renderUploadButton=()=>{let{uploadProps:e,uploadRef:t,uploadTipProps:n,clickUpload:i}=this.props;if(!i)return null;let{attachment:a}=this.state,{className:s,onChange:c,renderFileItem:h,children:d}=e,f=Object.assign(Object.assign({},g(e,["className","onChange","renderFileItem","children"])),{className:o()(`${m}-upload`,{[s]:s}),onChange:this.foundation.onAttachmentAdd}),p=r.createElement(l.Upload,Object.assign({ref:t,fileList:a},f),d||r.createElement(l.Button,{className:`${m}-uploadButton`,icon:r.createElement(u,{size:"extra-large"}),theme:"borderless"}));return n?r.createElement(l.Tooltip,Object.assign({},n),r.createElement("span",null,p)):p},this.renderInputArea=()=>{let{content:e,attachment:t}=this.state,{placeholder:n,sendHotKey:i}=this.props;return r.createElement("div",{className:`${m}-inputArea`},r.createElement(l.TextArea,{placeholder:n,onEnterPress:this.foundation.onEnterPress,value:e,onChange:this.foundation.onInputAreaChange,ref:this.inputAreaRef,className:`${m}-textarea`,autosize:_,disabledEnterStartNewLine:i===y.ENTER,onPaste:this.foundation.onPaste}),r.createElement(v.ZP,{attachment:t,onClear:this.foundation.onAttachmentDelete}))},this.renderClearButton=()=>{let{onClearContext:e}=this.props;return r.createElement(l.Button,{className:`${m}-clearButton`,theme:"borderless",icon:r.createElement(h.Z,null),onClick:e})},this.renderSendButton=()=>{let e=this.foundation.getDisableSend();return r.createElement(l.Button,{disabled:e,theme:"solid",type:"primary",className:`${m}-sendButton`,icon:r.createElement(d.Z,{size:"large",className:`${m}-sendButton-icon`}),onClick:this.foundation.onSend})},this.inputAreaRef=r.createRef(),this.foundation=new p.Z(this.adapter),this.state={content:"",attachment:[]}}}b.propTypes={uploadProps:s().object},b.defaultProps={uploadProps:{}};var w=b},116617:function(e,t,n){"use strict";n(429532);var r=n(96008),i=n.n(r),o=n(88648),a=n(713097),s=n.n(a),l=n(201845),c=n.n(l),u=n(869239),h=n(605471),d=n(672144),f=n(307570);class p extends o.PureComponent{blur(){this.inputEntity.blur()}focus(){let{preventScroll:e}=this.props;this.inputEntity.focus({preventScroll:e})}render(){let{indeterminate:e,checked:t,disabled:n,prefixCls:r,name:a,isPureCardType:l,addonId:c,extraId:h,focusInner:p,onInputFocus:v,onInputBlur:g}=this.props,m=r||u.gX.PREFIX,y=s()({[`${m}-inner`]:!0,[`${m}-inner-checked`]:!!t,[`${m}-inner-pureCardType`]:l},u.gX.WRAPPER),_=s()({[`${m}-inner-display`]:!0,[`${m}-focus`]:p,[`${m}-focus-border`]:p&&!t}),b=t?o.createElement(d.Z,null):e?o.createElement(f.Z,null):null,w={type:"checkbox","aria-label":this.props["aria-label"],"aria-disabled":n,"aria-checked":t,"aria-labelledby":c,"aria-describedby":h||this.props["aria-describedby"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-required":this.props["aria-required"],className:u.gX.INPUT,onChange:i(),checked:t,disabled:n,onFocus:v,onBlur:g};return a&&(w.name=a),o.createElement("span",{className:y},o.createElement("input",Object.assign({},w,{ref:e=>{this.inputEntity=e}})),o.createElement("span",{className:_},b))}}p.contextType=h._,p.propTypes={"aria-describedby":c().string,"aria-errormessage":c().string,"aria-invalid":c().bool,"aria-labelledby":c().string,"aria-required":c().bool,checked:c().bool,disabled:c().bool,onChange:c().func,children:c().node,grouped:c().bool,value:c().any,isPureCardType:c().bool,addonId:c().string,extraId:c().string,focusInner:c().bool,onInputFocus:c().func,onInputBlur:c().func,preventScroll:c().bool},p.defaultProps={onChange:i()},t.Z=p},383714:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}}),n(429532),n(874386);var r=n(88648),i=n(713097),o=n.n(i),a=n(201845),s=n.n(a),l=n(515481),c=n(398544),u=n(92936),h=n(75378),d=n(914446),f=n(74066),p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class v extends r.PureComponent{componentDidMount(){this.ariaID=(0,f.Ms)({})}renderHeader(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{showArrow:n,header:i,extra:a}=this.props,{expandIcon:s,collapseIcon:c}=this.context,{expandIconPosition:u}=this.context;void 0===s&&(s=r.createElement(h.Z,null)),void 0===c&&(c=r.createElement(d.Z,null));let f=r.createElement("span",{ref:this.headerExpandIconTriggerRef,"aria-hidden":"true",className:o()([`${l.U.PREFIX}-header-icon`,{[`${l.U.PREFIX}-header-iconDisabled`]:!t}])},t&&e?c:s),p="left"===u;return"string"==typeof i?r.createElement(r.Fragment,null,n&&(p?f:null),r.createElement("span",null,i),r.createElement("span",{className:`${l.U.PREFIX}-header-right`},r.createElement("span",null,a),n&&(p?null:f))):r.createElement(r.Fragment,null,n&&(p?f:null),i,n&&(p?null:f))}render(){let e=this.props,{className:t,children:n,itemKey:i,reCalcKey:a,header:s,extra:u,showArrow:h,disabled:d}=e,f=p(e,["className","children","itemKey","reCalcKey","header","extra","showArrow","disabled"]),{keepDOM:v,expandIconPosition:g,activeSet:m,motion:y,lazyRender:_}=this.context,b=m.has(i),w=o()(t,{[`${l.U.PREFIX}-item`]:!0}),S=o()({[`${l.U.PREFIX}-header`]:!0,[`${l.U.PREFIX}-header-disabled`]:d,[`${l.U.PREFIX}-header-iconLeft`]:"left"===g}),E=o()({[`${l.U.PREFIX}-content`]:!0});return r.createElement("div",Object.assign({className:w},f),r.createElement("div",{role:"button",tabIndex:0,className:S,"aria-disabled":d,"aria-expanded":b?"true":"false","aria-owns":this.ariaID,onClick:e=>!d&&this.handleClick(i,e)},this.renderHeader(b,void 0!==n&&!d)),n&&r.createElement(c.Z,{lazyRender:_,isOpen:b,keepDOM:v,motion:y,onMotionEnd:this.props.onMotionEnd,reCalcKey:a},r.createElement("div",{className:E,"aria-hidden":!b,id:this.ariaID},r.createElement("div",{className:`${l.U.PREFIX}-content-wrapper`},n))))}constructor(){super(...arguments),this.headerExpandIconTriggerRef=r.createRef(),this.ariaID="",this.handleClick=(e,t)=>{var n;(this.context.clickHeaderToExpand||(null===(n=this.headerExpandIconTriggerRef.current)||void 0===n?void 0:n.contains(t.target)))&&this.context.onClick(e,t)}}}v.contextType=u.Z,v.propTypes={itemKey:s().string,extra:s().node,header:s().oneOfType([s().string,s().node]),className:s().string,reCalcKey:s().oneOfType([s().string,s().number]),showArrow:s().bool,disabled:s().bool},v.defaultProps={showArrow:!0,disabled:!1}},206285:function(e,t,n){"use strict";n(429532),n(250440);var r=n(300277),i=n.n(r),o=n(88648),a=n(705514),s=n(713097),l=n.n(s),c=n(201845),u=n.n(c);n(846842);var h=n(794207),d=n(108791),f=n(745146);let p=d.U.PREFIX;class v extends a.Z{get adapter(){return Object.assign(Object.assign({},super.adapter),{getContainer:()=>this.containerRef,notifyZoomChange:e=>{let{onZoomChange:t}=this.props;null==t||t(e)},getImg:()=>this.imgRef.current})}static getDerivedStateFromProps(e,t){let{rotate:n,zoom:r}=e,{rotate:o,zoom:a,imgData:s,cropperBox:l,loaded:c}=t,u=s.width,h=s.height,d=Object.assign({},s.centerPoint),f={};if(!c)return null;if(!i()(n)&&n!==o&&(f.rotate=n,c)){let e={x:l.centerPoint.x,y:-l.centerPoint.y},t={x:s.centerPoint.x,y:-s.centerPoint.y},r=(n-o)*Math.PI/180;d={x:(t.x-e.x)*Math.cos(r)+(t.y-e.y)*Math.sin(r)+e.x,y:-(-(t.x-e.x)*Math.sin(r)+(t.y-e.y)*Math.cos(r)+e.y)}}if(!i()(n)&&r!==a&&(f.zoom=r,c)){let e={x:l.centerPoint.x,y:-l.centerPoint.y},t={x:d.x,y:-d.y};u=s.width/a*r,h=s.height/a*r,d={x:(t.x-e.x)/a*r+e.x,y:-[(t.y-e.y)/a*r+e.y]}}return((n!==o||r!==a)&&(f.imgData={width:u,height:h,centerPoint:d}),Object.keys(f).length)?f:null}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy(),this.unRegisterImageWrapRef()}render(){let{className:e,style:t,src:n,shape:r,showResizeBox:i,cropperBoxStyle:a,cropperBoxCls:s}=this.props,{imgData:c,cropperBox:u,rotate:h,loaded:v}=this.state,g=c.centerPoint.x-c.width/2,m=c.centerPoint.y-c.height/2,y=u.centerPoint.x-u.width/2,_=u.centerPoint.y-u.height/2,b=g-y,w=m-_;return this.foundation.updatePreview({width:c.width,height:c.height,translateX:b,translateY:w,rotate:h}),o.createElement(f.Z,{onResize:this.foundation.handleResize,observerProperty:f.t.Width},o.createElement("div",{className:l()(p,e),style:t,ref:this.registryImageWrapRef},o.createElement("div",{className:d.U.IMG_WRAPPER},o.createElement("img",{ref:this.imgRef,src:n,onLoad:this.foundation.handleImageLoad,className:d.U.IMG,crossOrigin:"anonymous",style:{width:c.width,height:c.height,transformOrigin:"center",transform:`translate(${g}px, ${m}px) rotate(${h}deg)`}})),o.createElement("div",{className:d.U.MASK,onMouseDown:this.foundation.handleMaskMouseDown}),o.createElement("div",{className:l()(d.U.CROPPER_BOX,{[s]:s,[d.U.CROPPER_VIEW_BOX_ROUND]:"round"===r}),style:Object.assign(Object.assign({},a),{width:u.width,height:u.height,transform:`translate(${y}px, ${_}px)`}),onMouseDown:this.foundation.handleCropperBoxMouseDown},o.createElement("div",{className:l()(d.U.CROPPER_VIEW_BOX,{[d.U.CROPPER_VIEW_BOX_ROUND]:r.includes("round")})},o.createElement("img",{onDragStart:this.foundation.viewIMGDragStart,className:d.U.CROPPER_IMG,src:n,style:{width:c.width,height:c.height,transformOrigin:"center",transform:`translate(${b}px, ${w}px) rotate(${h}deg)`}})),v&&i&&("round"===r?d.j.roundCorner:d.j.corner).map(e=>o.createElement("div",{className:l()(d.U.CORNER,`${d.U.CORNER}-${e}`),"data-dir":e,key:e,onMouseDown:this.foundation.handleCornerMouseDown})))))}constructor(e){super(e),this.unRegisterImageWrapRef=()=>{this.containerRef&&this.containerRef.removeEventListener("wheel",this.foundation.handleWheel),this.containerRef=null},this.registryImageWrapRef=e=>{this.unRegisterImageWrapRef(),e&&e.addEventListener("wheel",this.foundation.handleWheel,{passive:!1}),this.containerRef=e},this.getCropperCanvas=()=>this.foundation.getCropperCanvas(),this.state={imgData:{width:0,height:0,centerPoint:{x:0,y:0}},cropperBox:{width:0,height:0,centerPoint:{x:0,y:0}},zoom:1,rotate:0,loaded:!1},this.foundation=new h.Z(this.adapter),this.imgRef=o.createRef()}}v.__SemiComponentName__="Cropper",v.propTypes={className:u().string,style:u().object},v.defaultProps={shape:"rect",defaultAspectRatio:1,showResizeBox:!0,fill:"rgba(0, 0, 0, 0)",maxZoom:3,minZoom:.1,zoomStep:.1},t.Z=v},490241:function(e,t,n){"use strict";n(429532),n(954372),n(826893),n(250440);var r=n(88648),i=n(832793),o=n(786462),a=n(146166),s=n(826898),l=n(657794);t.Z=(0,i.zA)(r.forwardRef((e,t)=>{let n=Object.assign({},e),{type:i,format:c,rangeSeparator:u}=n;return"string"==typeof c&&c&&!/[Hhms]+/.test(c)&&("dateTime"===i?n.type="date":"dateTimeRange"===i&&(n.type="dateRange")),u&&"string"==typeof u&&(n.rangeSeparator=` ${u.trim()} `),n.insetInput&&(!n.position&&(n.position=o.j2.POSITION_INLINE_INPUT),n.position.includes("Over")&&!n.spacing&&(n.spacing=o.KT.SPACING_INSET_INPUT)),r.createElement(s.Z.Consumer,null,e=>{let{timeZone:i}=e;return r.createElement(l.Z,{componentName:"DatePicker"},(e,o,s)=>r.createElement(a.Z,Object.assign({timeZone:i,localeCode:o,locale:e,dateFnsLocale:s},n,{ref:t})))})}),a.Z)},147111:function(e,t,n){"use strict";var r=n(88648),i=n(713097),o=n.n(i),a=n(201845),s=n.n(a);let l=n(467308).UX.PREFIX,c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{style:t,className:n}=e;return r.createElement("div",{className:o()(`${l}-divider`,n),style:t})};c.propTypes={style:s().object,className:s().string},t.Z=c},510703:function(e,t,n){"use strict";n(429532);var r=n(88648),i=n(201845),o=n.n(i),a=n(713097),s=n.n(a),l=n(467308),c=n(204263),u=n(301945),h=n(705514),d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let f=l.UX.PREFIX;class p extends h.Z{get adapter(){return Object.assign({},super.adapter)}render(){let e=this.props,{children:t,className:n,style:i}=e,o=d(e,["children","className","style"]);return r.createElement("ul",Object.assign({role:"menu","aria-orientation":"vertical"},o,{className:s()(`${f}-menu`,n),style:i,onKeyDown:e=>this.foundation.onMenuKeydown(e)}),t)}constructor(e){super(e),this.foundation=new c.Z(this.adapter)}}p.propTypes={children:o().node,className:o().string,style:o().object},p.contextType=u.Z,t.Z=p},415976:function(e,t,n){"use strict";n(429532),n(268917);var r=n(43715),i=n.n(r),o=n(88648),a=n(713097),s=n.n(a),l=n(90903),c=n(395075),u=n(832793),h=n(601083),d=n(673278),f=n(658740),p=n(737928),v=n(707696),g=n(766380),m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let y=c.UX.PREFIX,_=e=>{let{fieldSet:t}=e,n=(0,p.Z)(),r=t.map(e=>u.U2(n.errors,e));return(0,l.JY)(r)?null:o.createElement(h.Z,{error:r,showValidateIcon:e.showValidateIcon,isInInputGroup:e.isInInputGroup})};class b extends o.Component{renderLabel(e,t){if(e)return i()(e)?o.createElement(d.Z,{width:t.labelWidth,text:e}):o.createElement(d.Z,Object.assign({width:t.labelWidth},e));return null}render(){let e;let t=this.props,{children:n,label:r,extraText:i,extraTextPosition:a}=t,l=m(t,["children","label","extraText","extraTextPosition"]),c=this.context.getFormProps(["labelPosition","labelWidth","labelAlign","showValidateIcon","wrapperCol","labelCol","disabled"]),u=this.props.labelPosition||c.labelPosition,h=[],d=o.Children.map(n,e=>e&&e.props&&e.props.field?(h.push(e.props.field),o.cloneElement(e,{isInInputGroup:!0})):null),f=s()({[`${y}-field-group`]:!0}),p=c.labelCol,b=c.wrapperCol,w=c.labelAlign,S=p&&b,E=p?`${y}-col-${w}`:"",k=this.renderLabel(r,c),T=o.createElement(v.Z,Object.assign({disabled:c.disabled},l),d),x=o.createElement(_,{fieldSet:h,showValidateIcon:c.showValidateIcon,isInInputGroup:!0}),C=s()(`${y}-field-extra`,{[`${y}-field-extra-string`]:"string"==typeof i,[`${y}-field-extra-middle`]:"middle"===a,[`${y}-field-extra-bottom`]:"bottom"===a}),I=i?o.createElement("div",{className:C,"x-semi-prop":"extraText"},i):null;switch(!0){case!S:e=o.createElement(o.Fragment,null,k,o.createElement("div",null,"middle"===a?I:null,T,"bottom"===a?I:null,x));break;case S&&"top"===u:e=o.createElement(o.Fragment,null,o.createElement("div",{style:{overflow:"hidden"}},o.createElement(g.Z,Object.assign({},p,{className:E}),k)),o.createElement(g.Z,Object.assign({},b),"middle"===a?I:null,T,"bottom"===a?I:null,x));break;case S&&"top"!==u:e=o.createElement(o.Fragment,null,o.createElement(g.Z,Object.assign({},p,{className:E}),k),o.createElement(g.Z,Object.assign({},b),"middle"===a?I:null,T,"bottom"===a?I:null,x))}return o.createElement("div",{"x-label-pos":u,className:f},e)}}b.contextType=f.kn,b.defaultProps={extraTextPosition:"bottom"},t.Z=b},248190:function(e,t,n){"use strict";n(874386);var r=n(737928),i=n(832793);let o=(e,t)=>({value:i.U2(e.values,t),error:i.U2(e.errors,t),touched:i.U2(e.touched,t)});t.Z=function(e){return o((0,r.Z)(),e)}},737928:function(e,t,n){"use strict";var r=n(88648),i=n(658740);t.Z=function(){return(0,r.useContext)(i.Ar)}},394222:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(88648),i=n(658740);function o(){return(0,r.useContext)(i.kn)}},682366:function(e,t,n){"use strict";var r=n(898577);t.Z=r.ZPm},418574:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});let r=(0,n(88648).createContext)({})},271386:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}}),n(429532),n(874386);var r=n(866674),i=n.n(r),o=n(207813),a=n.n(o),s=n(88648),l=n(705514),c=n(201845),u=n.n(c),h=n(857759),d=n(713097),f=n.n(d),p=n(218633),v=n(444753),g=n(37704),m=n(776901),y=n(446785),_=n(758826),b=n(934750),w=n(418574),S=n(98573);let E=h.U.PREFIX;class k extends l.Z{get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{getIsInGroup:()=>this.isInGroup(),disabledBodyScroll:()=>{let{getPopupContainer:e}=this.props;this.bodyOverflow=document.body.style.overflow||"",!e&&"hidden"!==this.bodyOverflow&&(document.body.style.overflow="hidden",document.body.style.width=`calc(${this.originBodyWidth||"100%"} - ${this.scrollBarWidth}px)`)},enabledBodyScroll:()=>{let{getPopupContainer:e}=this.props;!e&&"hidden"!==this.bodyOverflow&&(document.body.style.overflow=this.bodyOverflow,document.body.style.width=this.originBodyWidth)},notifyChange:(e,t)=>{let{onChange:n,onPrev:r,onNext:o}=this.props;i()(n)&&n(e),"prev"===t?r&&r(e):o&&o(e)},notifyZoom:(e,t)=>{let{onZoomIn:n,onZoomOut:r}=this.props;t?i()(n)&&n(e):i()(r)&&r(e)},notifyClose:()=>{let{onClose:e}=this.props;i()(e)&&e()},notifyVisibleChange:e=>{let{onVisibleChange:t}=this.props;i()(t)&&t(e)},notifyRatioChange:e=>{let{onRatioChange:t}=this.props;i()(t)&&t(e)},notifyRotateChange:e=>{let{onRotateLeft:t}=this.props;i()(t)&&t(e)},notifyDownload:(e,t)=>{let{onDownload:n}=this.props;i()(n)&&n(e,t)},notifyDownloadError:e=>{let{onDownloadError:t}=this.props;i()(t)&&t(e)},registerKeyDownListener:()=>{window&&window.addEventListener("keydown",this.handleKeyDown)},unregisterKeyDownListener:()=>{window&&window.removeEventListener("keydown",this.handleKeyDown)},getSetDownloadFunc:()=>{var e,t;return null!==(t=null===(e=this.context)||void 0===e?void 0:e.setDownloadName)&&void 0!==t?t:this.props.setDownloadName},isValidTarget:e=>{let t=this.headerRef&&this.headerRef.current,n=this.footerRef&&this.footerRef.current,r=this.leftIconRef&&this.leftIconRef.current,i=this.rightIconRef&&this.rightIconRef.current,o=e.target;return!(t&&t.contains(o)||n&&n.contains(o)||r&&r.contains(o)||i&&i.contains(o))&&!0},changeImageZoom:function(){var t;(null===(t=e.imageRef)||void 0===t?void 0:t.current)&&e.imageRef.current.foundation.changeZoom(...arguments)}})}static getDerivedStateFromProps(e,t){let n={},r=[];return e.visible&&(r=Array.isArray(e.src)?e.src:[e.src]),!a()(r,t.imgSrc)&&(n.imgSrc=r),e.visible!==t.visible&&(n.visible=e.visible,e.visible&&(n.preloadAfterVisibleChange=!0,n.viewerVisible=!0,n.rotation=0,n.ratio="adaptation")),"currentIndex"in e&&e.currentIndex!==t.currentIndex&&(n.currentIndex=e.currentIndex,n.ratio="adaptation"),n}componentDidMount(){this.scrollBarWidth=(0,S.np)(),this.originBodyWidth=document.body.style.width,this.props.visible&&this.foundation.beforeShow()}componentDidUpdate(e,t){e.src!==this.props.src&&this.foundation.updateTimer(),!e.visible&&this.props.visible&&this.foundation.beforeShow(),e.visible&&!this.props.visible&&this.foundation.afterHide()}componentWillUnmount(){this.foundation.clearTimer()}isInGroup(){return!!(this.context&&this.context.isGroup)}render(){let{getPopupContainer:e,closable:t,zIndex:n,visible:r,className:i,style:o,infinite:a,zoomStep:l,crossOrigin:c,prevTip:u,nextTip:h,zoomInTip:d,zoomOutTip:b,rotateTip:w,downloadTip:S,adaptiveTip:k,originTip:T,showTooltip:x,disableDownload:C,renderPreviewMenu:I,renderHeader:O}=this.props,{currentIndex:A,imgSrc:P,zoom:R,ratio:D,rotation:L,viewerVisible:M}=this.state,z={zIndex:n};e&&(z={zIndex:n,position:"static"});let N=`${E}-preview`,j=f()(N,{[`${E}-hide`]:!r,[`${N}-popup`]:e},i),B=M?"":`${N}-hide`,U=P.length,F=1!==U&&(a||0!==A),G=1!==U&&(a||A!==U-1);return r&&s.createElement(p.Z,{getPopupContainer:e,style:z},s.createElement("div",{className:j,style:o,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,ref:this.registryImageWrapRef,onMouseMove:this.handleMouseMove},s.createElement(m.Z,{ref:this.headerRef,className:f()(B),onClose:this.handlePreviewClose,renderHeader:O,closable:t}),s.createElement(_.Z,{ref:this.imageRef,src:P[A],onZoom:this.handleZoomImage,disableDownload:C,setRatio:this.handleAdjustRatio,zoom:R,ratio:D,rotation:L,crossOrigin:c,onError:this.onImageError,onLoad:this.onImageLoad}),F&&s.createElement("div",{ref:this.leftIconRef,className:f()(`${N}-icon`,`${N}-prev`,B),onClick:()=>this.handleSwitchImage("prev")},s.createElement(v.Z,{size:"large"})),G&&s.createElement("div",{ref:this.rightIconRef,className:f()(`${N}-icon`,`${N}-next`,B),onClick:()=>this.handleSwitchImage("next")},s.createElement(g.Z,{size:"large"})),s.createElement(y.Z,{forwardRef:this.footerRef,className:B,totalNum:U,curPage:A+1,disabledPrev:!F,disabledNext:!G,zoom:100*R,step:100*l,showTooltip:x,ratio:D,prevTip:u,nextTip:h,zIndex:n,zoomInTip:d,zoomOutTip:b,rotateTip:w,downloadTip:S,disableDownload:C,adaptiveTip:k,originTip:T,onPrev:()=>this.handleSwitchImage("prev"),onNext:()=>this.handleSwitchImage("next"),onZoomIn:this.handleZoomImage,onZoomOut:this.handleZoomImage,onDownload:this.handleDownload,onRotate:this.handleRotateImage,onAdjustRatio:this.handleAdjustRatio,renderPreviewMenu:I})))}constructor(e){var t;super(e),t=this,this.viewVisibleChange=()=>{this.foundation.handleViewVisibleChange()},this.handleSwitchImage=e=>{this.foundation.handleSwitchImage(e)},this.handleDownload=()=>{this.foundation.handleDownload()},this.handlePreviewClose=e=>{this.foundation.handlePreviewClose(e)},this.handleAdjustRatio=e=>{this.foundation.handleAdjustRatio(e)},this.handleRotateImage=e=>{this.foundation.handleRotateImage(e)},this.handleZoomImage=function(e){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];t.foundation.handleZoomImage(e,n)},this.handleMouseUp=e=>{this.foundation.handleMouseUp(e.nativeEvent)},this.handleMouseMove=e=>{this.foundation.handleMouseMove(e)},this.handleKeyDown=e=>{this.foundation.handleKeyDown(e)},this.onImageError=()=>{this.foundation.preloadSingleImage()},this.onImageLoad=e=>{this.foundation.onImageLoad(e)},this.handleMouseDown=e=>{this.foundation.handleMouseDown(e)},this.handleWheel=e=>{this.foundation.handleWheel(e)},this.registryImageWrapRef=e=>{this.imageWrapRef&&this.imageWrapRef.removeEventListener("wheel",this.handleWheel),e&&e.addEventListener("wheel",this.handleWheel,{passive:!1}),this.imageWrapRef=e},this.state={imgSrc:[],imgLoadStatus:new Map,zoom:.1,currentIndex:0,ratio:"adaptation",rotation:0,viewerVisible:!0,visible:!1,preloadAfterVisibleChange:!0,direction:""},this.foundation=new b.Z(this.adapter),this.bodyOverflow="",this.originBodyWidth="100%",this.scrollBarWidth=0,this.imageWrapRef=null,this.imageRef=s.createRef(),this.headerRef=s.createRef(),this.footerRef=s.createRef(),this.leftIconRef=s.createRef(),this.rightIconRef=s.createRef()}}k.contextType=w.X,k.propTypes={style:u().object,className:u().string,visible:u().bool,src:u().oneOfType([u().string,u().array]),currentIndex:u().number,defaultCurrentIndex:u().number,defaultVisible:u().bool,maskClosable:u().bool,closable:u().bool,zoomStep:u().number,infinite:u().bool,showTooltip:u().bool,closeOnEsc:u().bool,prevTip:u().string,nextTip:u().string,zoomInTip:u().string,zoomOutTip:u().string,downloadTip:u().string,adaptiveTip:u().string,originTip:u().string,lazyLoad:u().bool,preLoad:u().bool,preLoadGap:u().number,disableDownload:u().bool,viewerVisibleDelay:u().number,zIndex:u().number,maxZoom:u().number,minZoom:u().number,renderHeader:u().func,renderPreviewMenu:u().func,getPopupContainer:u().func,onVisibleChange:u().func,onChange:u().func,onClose:u().func,onZoomIn:u().func,onZoomOut:u().func,onPrev:u().func,onNext:u().func,onDownload:u().func,onRatioChange:u().func,onRotateLeft:u().func},k.defaultProps={showTooltip:!1,zoomStep:.1,infinite:!1,closeOnEsc:!0,lazyLoad:!1,preLoad:!0,preLoadGap:2,zIndex:h.K.DEFAULT_Z_INDEX,maskClosable:!0,viewerVisibleDelay:1e4,maxZoom:5,minZoom:.1}},707696:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}}),n(429532);var r=n(866674),i=n.n(r),o=n(645260),a=n.n(o),s=n(88648),l=n(713097),c=n.n(l),u=n(201845),h=n.n(u),d=n(434813),f=n(705514),p=n(673278),v=n(601472),g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let m=d.UX.PREFIX,y=d.j2.SIZE;class _ extends f.Z{renderGroupWithLabel(e){let t=this.props,{size:n,className:r,label:i,labelPosition:o}=t;g(t,["size","className","label","labelPosition"]);let a=c()({[`${m}-group-wrapper`]:!0,[`${m}-group-wrapper-with-top-label`]:"top"===o,[`${m}-group-wrapper-with-left-label`]:"left"===o}),l=c()(`${m}-group`,r,{[`${m}-${n}`]:"default"!==n}),u="input-group";return s.createElement("div",{className:a},i&&i.text?s.createElement(p.Z,Object.assign({name:u},i)):null,s.createElement("span",{role:"group","aria-disabled":this.props.disabled,id:i&&i.name||u,className:l,style:this.props.style,onFocus:this.props.onFocus,onBlur:this.props.onBlur},e))}render(){let e;let t=this.props,{size:n,style:r,className:o,children:l,label:u,onBlur:h,onFocus:d,disabled:f}=t,p=g(t,["size","style","className","children","label","onBlur","onFocus","disabled"]),v=c()(`${m}-group`,{[`${m}-${n}`]:"default"!==n},o);return(l&&(e=(Array.isArray(l)?l:[l]).map((e,t)=>{if(e){let{onBlur:r,onFocus:o,disabled:l}=e.props,c=i()(r)&&"noop"!==a()(r,"name")?r:h,u=i()(o)&&"noop"!==a()(o,"name")?o:d,v="boolean"==typeof l?l:f;return s.cloneElement(e,Object.assign(Object.assign({key:t},p),{size:n,onBlur:c,onFocus:u,disabled:v}))}return null})),u&&u.text)?this.renderGroupWithLabel(e):s.createElement("span",{role:"group","aria-label":"Input group","aria-disabled":this.props.disabled,className:v,style:r,onFocus:this.props.onFocus,onBlur:this.props.onBlur},e)}}_.propTypes={className:h().string,children:h().node,size:h().oneOf(y),style:h().object,onBlur:h().func,onFocus:h().func,label:h().object,labelPosition:h().string},_.defaultProps={size:"default",className:"",onBlur:v.Z,onFocus:v.Z}},598521:function(e,t,n){"use strict";n(429532),n(874386);var r=n(96008),i=n.n(r),o=n(43715),a=n.n(o),s=n(306187),l=n.n(s),c=n(88648),u=n(201845),h=n.n(u),d=n(713097),f=n.n(d),p=n(906550),v=n(832793),g=n(101108),m=n(466648),y=n(187858),_=n(705514),b=n(981570),w=n(914446),S=n(75378);n(186842);var E=n(657794),k=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class T extends _.Z{get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{setValue:(e,t)=>this.setState({value:e},t),setNumber:(e,t)=>this.setState({number:e},t),setFocusing:(e,t)=>this.setState({focusing:e},t),setHovering:e=>this.setState({hovering:e}),notifyChange:function(){return e.props.onChange(...arguments)},notifyNumberChange:function(){return e.props.onNumberChange(...arguments)},notifyBlur:e=>this.props.onBlur(e),notifyFocus:e=>this.props.onFocus(e),notifyUpClick:(e,t)=>this.props.onUpClick(e,t),notifyDownClick:(e,t)=>this.props.onDownClick(e,t),notifyKeyDown:e=>this.props.onKeyDown(e),registerGlobalEvent:(e,t)=>{e&&"function"==typeof t&&(this.adapter.unregisterGlobalEvent(e),this.adapter.setCache(e,t),document.addEventListener(e,t))},unregisterGlobalEvent:e=>{if(e){let t=this.adapter.getCache(e);document.removeEventListener(e,t),this.adapter.setCache(e,null)}},getInputCharacter:e=>this.inputNode.value[e],recordCursorPosition:()=>{try{this.inputNode&&(this.cursorStart=this.inputNode.selectionStart,this.cursorEnd=this.inputNode.selectionEnd,this.currentValue=this.inputNode.value,this.cursorBefore=this.inputNode.value.substring(0,this.cursorStart),this.cursorAfter=this.inputNode.value.substring(this.cursorEnd))}catch(e){}},restoreByAfter:e=>{if((0,g.Z)(e))return!1;let t=this.inputNode.value,n=t.lastIndexOf(e);return -1!==n&&n+e.length===t.length&&(this.adapter.fixCaret(n,n),!0)},restoreCursor:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.cursorAfter;return!(0,g.Z)(t)&&Array.prototype.some.call(t,(n,r)=>{let i=t.substring(r);return e.adapter.restoreByAfter(i)})},fixCaret:(e,t)=>{if(void 0!==e&&void 0!==t&&!!this.inputNode&&!!this.inputNode.value)try{let n=this.inputNode.selectionStart,r=this.inputNode.selectionEnd;(e!==n||t!==r)&&this.inputNode.setSelectionRange(e,t)}catch(e){}},setClickUpOrDown:e=>{this.clickUpOrDown=e},updateStates:(e,t)=>{this.setState(e,t)}})}componentDidUpdate(e){let t;let{value:n,preventScroll:r}=this.props,{focusing:i}=this.state;if(n!==e.value&&!(0,m.Z)(n,e.value)){if((0,g.Z)(n)||""===n)t="",this.foundation.updateStates({value:t,number:null});else{let e=n;"number"==typeof n&&(e=this.foundation.doFormat(n));let r=this.foundation.doParse(e,!1,!0,!0),o="number"==typeof n?n:this.foundation.doParse(e,!1,!1,!1);if(i){if(this.foundation.isValidNumber(r)&&r!==this.state.number){let e={number:r};this.clickUpOrDown&&(e.value=this.foundation.doFormat(e.number,!0),t=e.value),this.foundation.updateStates(e,()=>this.adapter.restoreCursor())}else l()(o)?this.foundation.updateStates({value:e}):(t=this.foundation.doFormat(o,!1),this.foundation.updateStates({value:t}))}else this.foundation.isValidNumber(r)?(t=this.foundation.doFormat(r,!0,!0),this.foundation.updateStates({number:r,value:t})):(t="",this.foundation.updateStates({number:null,value:t}))}if(t&&a()(t)&&t!==String(this.props.value)){if(this.foundation._isCurrency()){let e=this.foundation.doParse(t);e!==("string"==typeof this.props.value?this.foundation.doParse(this.props.value):this.props.value)&&this.foundation.notifyChange(t,null)}else this.foundation.notifyChange(t,null)}}if(!!this.clickUpOrDown)this.props.keepFocus&&this.state.focusing&&document.activeElement!==this.inputNode&&this.inputNode.focus({preventScroll:r})}render(){let e=this.props,{disabled:t,className:n,prefixCls:r,min:i,max:o,step:a,shiftStep:s,precision:l,formatter:u,parser:h,forwardedRef:d,onUpClick:v,onDownClick:g,pressInterval:m,pressTimeout:y,suffix:_,size:b,hideButtons:w,innerButtons:S,style:E,onNumberChange:T,keepFocus:x,defaultValue:C}=e,I=k(e,["disabled","className","prefixCls","min","max","step","shiftStep","precision","formatter","parser","forwardedRef","onUpClick","onDownClick","pressInterval","pressTimeout","suffix","size","hideButtons","innerButtons","style","onNumberChange","keepFocus","defaultValue"]),{value:O,number:A}=this.state,P=f()(n,`${r}-number`,{[`${r}-number-size-${b}`]:b}),R=this.renderButtons(),D={"aria-disabled":t,step:a};return A&&(D["aria-valuenow"]=A),o!==1/0&&(D["aria-valuemax"]=o),i!==-1/0&&(D["aria-valuemin"]=i),c.createElement("div",{className:P,style:E,onMouseMove:e=>this.handleInputMouseMove(e),onMouseEnter:e=>this.handleInputMouseEnter(e),onMouseLeave:e=>this.handleInputMouseLeave(e)},c.createElement(p.Z,Object.assign({role:"spinbutton"},D,I,{size:b,disabled:t,ref:this.setInputRef,value:O,onFocus:this.handleInputFocus,onChange:this.handleInputChange,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,suffix:this.renderSuffix()})),w||S?null:R)}constructor(e){super(e),this.setInputRef=e=>{let{forwardedRef:t}=this.props;this.inputNode=e,t&&"object"==typeof t?t.current=e:"function"==typeof t&&t(e)},this.handleInputFocus=e=>this.foundation.handleInputFocus(e),this.handleInputChange=(e,t)=>this.foundation.handleInputChange(e,t),this.handleInputBlur=e=>this.foundation.handleInputBlur(e),this.handleInputKeyDown=e=>this.foundation.handleInputKeyDown(e),this.handleInputMouseEnter=e=>this.foundation.handleInputMouseEnter(e),this.handleInputMouseLeave=e=>this.foundation.handleInputMouseLeave(e),this.handleInputMouseMove=e=>this.foundation.handleInputMouseMove(e),this.handleUpClick=e=>this.foundation.handleUpClick(e),this.handleDownClick=e=>this.foundation.handleDownClick(e),this.handleMouseUp=e=>this.foundation.handleMouseUp(e),this.handleMouseLeave=e=>this.foundation.handleMouseLeave(e),this.renderButtons=()=>{let{prefixCls:e,disabled:t,innerButtons:n,max:r,min:o}=this.props,{hovering:a,focusing:s,number:l}=this.state,u=t||l===r,h=t||l===o,d=f()(`${e}-number-suffix-btns`,{[`${e}-number-suffix-btns-inner`]:n,[`${e}-number-suffix-btns-inner-hover`]:n&&a&&!s}),p=f()(`${e}-number-button`,`${e}-number-button-up`,{[`${e}-number-button-up-disabled`]:t,[`${e}-number-button-up-not-allowed`]:u}),v=f()(`${e}-number-button`,`${e}-number-button-down`,{[`${e}-number-button-down-disabled`]:t,[`${e}-number-button-down-not-allowed`]:h});return c.createElement("div",{className:d},c.createElement("span",{className:p,onMouseDown:u?i():this.handleUpClick,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave},c.createElement(w.Z,{size:"extra-small"})),c.createElement("span",{className:v,onMouseDown:h?i():this.handleDownClick,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave},c.createElement(S.Z,{size:"extra-small"})))},this.renderSuffix=()=>{let{innerButtons:e,suffix:t}=this.props,{hovering:n,focusing:r}=this.state;return e&&(n||r)?this.renderButtons():t},this.state={value:"",number:null,focusing:!!e.autofocus,hovering:!1},this.inputNode=null,this.foundation=new y.Z(this.adapter),this.clickUpOrDown=!1}}T.propTypes={"aria-label":h().string,"aria-labelledby":h().string,"aria-invalid":h().bool,"aria-errormessage":h().string,"aria-describedby":h().string,"aria-required":h().bool,autofocus:h().bool,clearIcon:h().node,className:h().string,defaultValue:h().oneOfType([h().number,h().string]),disabled:h().bool,formatter:h().func,forwardedRef:h().any,hideButtons:h().bool,innerButtons:h().bool,insetLabel:h().node,insetLabelId:h().string,keepFocus:h().bool,max:h().number,min:h().number,parser:h().func,precision:h().number,prefixCls:h().string,pressInterval:h().number,pressTimeout:h().number,preventScroll:h().bool,shiftStep:h().number,showCurrencySymbol:h().bool,step:h().number,style:h().object,suffix:h().any,value:h().oneOfType([h().number,h().string]),onBlur:h().func,onChange:h().func,onDownClick:h().func,onKeyDown:h().func,onNumberChange:h().func,onUpClick:h().func},T.defaultProps={forwardedRef:i(),innerButtons:!1,keepFocus:!1,max:1/0,min:-1/0,prefixCls:b.UX.PREFIX,pressInterval:b.KT.DEFAULT_PRESS_TIMEOUT,pressTimeout:b.KT.DEFAULT_PRESS_TIMEOUT,shiftStep:b.KT.DEFAULT_SHIFT_STEP,showCurrencySymbol:!0,size:b.j2.DEFAULT_SIZE,step:b.KT.DEFAULT_STEP,onBlur:i(),onChange:i(),onDownClick:i(),onFocus:i(),onKeyDown:i(),onNumberChange:i(),onUpClick:i()},t.Z=(0,v.zA)(c.forwardRef(function(e,t){return c.createElement(E.Z,{componentName:"InputNumber"},(n,r,i,o)=>c.createElement(T,Object.assign({localeCode:r,defaultCurrency:o},e,{forwardedRef:t})))}),T)},204424:function(e,t,n){"use strict";n.d(t,{A:function(){return y}}),n(429532),n(874386),n(675373);var r=n(88648),i=n(713097),o=n.n(i),a=n(201845),s=n.n(a),l=n(574601);n(136404);var c=n(405287),u=n(772908),h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let d={Header:"header",Footer:"footer",Content:"main",Layout:"section"};function f(e){let t=d[e],n=e.toLowerCase();return e=>{class i extends r.PureComponent{render(){return r.createElement(e,Object.assign({role:this.props.role,"aria-label":this.props["aria-label"],type:n,tagName:t},this.props))}}return i}}class p extends r.PureComponent{render(){let e=this.props,{prefixCls:t,type:n,className:i,children:a,tagName:s}=e,l=h(e,["prefixCls","type","className","children","tagName"]),c=o()(i,`${t}-${n}`);return r.createElement(s,Object.assign({className:c},l),a)}}p.propTypes={prefixCls:s().string,style:s().object,className:s().string},p.defaultProps={prefixCls:l.U.PREFIX};let v=f("Header")(p),g=f("Footer")(p),m=f("Content")(p);class y extends r.Component{getSiderHook(){return{addSider:e=>{this.setState(t=>({siders:[...t.siders,e]}))},removeSider:e=>{this.setState(t=>({siders:t.siders.filter(t=>t!==e)}))}}}render(){let e=this.props,{prefixCls:t,className:n,children:i,hasSider:a,tagName:s}=e,l=h(e,["prefixCls","className","children","hasSider","tagName"]),{siders:u}=this.state,d=o()(n,t,{[`${t}-has-sider`]:"boolean"==typeof a&&a||u.length>0||r.Children.toArray(i).some(e=>r.isValidElement(e)&&e.type&&"Layout.Sider"===e.type.elementType)});return r.createElement(c.Z.Provider,{value:{siderHook:this.getSiderHook()}},r.createElement(s,Object.assign({className:d},l),i))}constructor(e){super(e),this.state={siders:[]}}}y.propTypes={prefixCls:s().string,style:s().object,className:s().string},y.defaultProps={prefixCls:l.U.PREFIX,tagName:"section"},y.Header=v,y.Footer=g,y.Content=m,y.Sider=u.Z},27755:function(e,t,n){"use strict";n(429532);var r=n(88648),i=n(87357),o=n(902968);t.Z=e=>r.createElement(i.Z.Title,Object.assign({heading:4,className:`${o.U.PREFIX}-component-header`},e))},25491:function(e,t,n){"use strict";n(429532);var r=n(88648),i=n(87357),o=n(902968);t.Z=e=>r.createElement(i.Z.Title,Object.assign({heading:5,className:`${o.U.PREFIX}-component-header`},e))},840090:function(e,t,n){"use strict";n(429532);var r=n(88648),i=n(87357),o=n(902968);t.Z=e=>r.createElement(i.Z.Title,Object.assign({heading:6,className:`${o.U.PREFIX}-component-header`},e))},32268:function(e,t,n){"use strict";n(429532);var r=n(633364),i=n.n(r),o=n(88648),a=n(754595),s=n(221799),l=n(902968);t.Z=e=>o.createElement("div",{className:`${l.U.PREFIX}-component-image`},o.createElement(a.ZP,Object.assign({fallback:o.createElement(s.Z,null),width:"100%"},i()(e,"children"))),o.createElement("div",{className:`${l.U.PREFIX}-component-image-alt`},e.alt))},870285:function(e,t,n){"use strict";n(429532);var r=n(88648),i=n(87357),o=n(902968);t.Z=e=>r.createElement(i.Z.Paragraph,Object.assign({className:`${o.U.PREFIX}-component-p`},e))},139689:function(e,t,n){"use strict";n(429532);var r,i=n(88648),o=n(705514),a=n(872785);n(59447);var s=n(563097),l=n(902968),c=n(580691),u=n(713097),h=n.n(u),d=n(201845),f=n.n(d),p=n(98573);class v extends o.Z{componentDidUpdate(e,t,n){e.raw!==this.props.raw&&this.setState({MDXContentComponent:this.foundation.evaluateSync(this.props.raw)})}get adapter(){return Object.assign(Object.assign({},super.adapter),{getRuntime:()=>r||(r=n.t(s,2))})}render(){let e=this.state.MDXContentComponent;return i.createElement("div",Object.assign({className:h()(l.U.PREFIX,this.props.className),style:this.props.style},this.getDataAttr()),i.createElement(e,{components:Object.assign(Object.assign({},c),this.props.components)}))}constructor(e){super(e),this.foundation=new a.Z(this.adapter),this.state={MDXContentComponent:this.foundation.evaluateSync(this.props.raw)}}}v.propTypes={className:f().string,style:f().object,format:f().string,components:f().any,raw:f().string,remarkPlugins:f().arrayOf(f().object),rehypePlugins:f().arrayOf(f().object),remarkGfm:f().bool},v.__SemiComponentName__="MarkdownRender",v.defaultProps=(0,p.GW)(v.__SemiComponentName__,{format:"mdx",remarkGfm:!0}),v.defaultComponents=c,t.Z=v},470685:function(e,t,n){"use strict";n(374709);var r=n(537122);t.Z=r.Z},578626:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}}),n(429532);var r=n(96008),i=n.n(r),o=n(88648),a=n(202710),s=n(518593),l=n(343850);function c(e){let{prefixCls:t,locale:n,collapseText:r,isCollapsed:c,onClick:u=i()}=e,h={icon:o.createElement(a.Z,null),type:"tertiary",theme:"borderless",onClick:()=>{"function"==typeof u&&u(!c)}},d=c?null==n?void 0:n.expandText:null==n?void 0:n.collapseText;return"function"==typeof r&&(d=r(c)),o.createElement("div",{className:`${t}-collapse-btn`},c?o.createElement(l.Z,{content:d,position:"right"},o.createElement(s.Z,Object.assign({},h))):o.createElement(s.Z,Object.assign({},h),d))}},627919:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}}),n(874386),n(429532),n(250440);var r=n(601249),i=n.n(r),o=n(96008),a=n.n(o),s=n(705514),l=n(88648),c=n(201845),u=n.n(c),h=n(713097),d=n.n(h),f=n(101108),p=n(98573),v=n(139357),g=n(273862),m=n(343850),y=n(736442),_=n(143690);let b=`${g.UX.PREFIX}-item`;class w extends s.Z{_invokeContextFunc(e){if(e&&this.context&&"function"==typeof this.context[e]){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.context[e](...n)}return null}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{cloneDeep:p.Xh,updateTooltipShow:e=>this.setState({tooltipShow:e}),updateSelected:e=>this._invokeContextFunc("updateSelectedKeys",[this.props.itemKey]),updateGlobalSelectedKeys:e=>this._invokeContextFunc("updateSelectedKeys",[...e]),getSelectedKeys:()=>this.context&&this.context.selectedKeys,getSelectedKeysIsControlled:()=>this.context&&this.context.selectedKeysIsControlled,notifyGlobalOnSelect:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e._invokeContextFunc("onSelect",...n)},notifyGlobalOnClick:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e._invokeContextFunc("onClick",...n)},notifyClick:function(){return e.props.onClick(...arguments)},notifyMouseEnter:function(){return e.props.onMouseEnter(...arguments)},notifyMouseLeave:function(){return e.props.onMouseLeave(...arguments)},getIsCollapsed:()=>this.props.isCollapsed||!!(this.context&&this.context.isCollapsed)||!1,getSelected:()=>!!(this.context&&this.context.selectedKeys&&this.context.selectedKeys.includes(this.props.itemKey)),getIsOpen:()=>!!(this.context&&this.context.openKeys&&this.context.openKeys.includes(this.props.itemKey))})}renderIcon(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(this.props.isSubNav||!e&&this.context.mode===g.j2.MODE_HORIZONTAL)return null;let i="large";t===g.j2.ICON_POS_RIGHT&&(i="default");let o=d()(`${b}-icon`,{[`${b}-icon-toggle-${this.context.toggleIconPosition}`]:n,[`${b}-icon-info`]:!n});return l.createElement("i",{className:o,key:r},(0,p.ID)(e)?l.cloneElement(e,{size:e.props.size||i}):e)}render(){var e;let{text:t,icon:n,toggleIcon:r,className:o,isSubNav:a,style:s,indent:c,onMouseEnter:u,onMouseLeave:h,link:p,linkOptions:v,disabled:m,level:y=0,tabIndex:w}=this.props,{mode:S,isInSubNav:E,prefixCls:k,limitIndent:T}=this.context,x=this.adapter.getIsCollapsed(),C=this.adapter.getSelected(),I=null,O=null===(e=this.props)||void 0===e?void 0:e.children;if((0,f.Z)(O)){let e=null;S===g.j2.MODE_VERTICAL&&!T&&!x&&(e=i()(n&&!c?y:y-1,e=>this.renderIcon(null,g.j2.ICON_POS_RIGHT,!1,e))),I=l.createElement(l.Fragment,null,e,this.context.toggleIconPosition===g.j2.TOGGLE_ICON_LEFT&&this.renderIcon(r,g.j2.ICON_POS_RIGHT,!0,"key-toggle-pos-right"),n||c||E?this.renderIcon(n,g.j2.ICON_POS_LEFT,!1,"key-position-left"):null,(0,f.Z)(t)?"":l.createElement("span",{className:`${g.UX.PREFIX}-item-text`},t),this.context.toggleIconPosition===g.j2.TOGGLE_ICON_RIGHT&&this.renderIcon(r,g.j2.ICON_POS_RIGHT,!0,"key-toggle-pos-right"))}else I=O;"string"==typeof p&&(I=l.createElement("a",Object.assign({className:`${k}-item-link`,href:p,tabIndex:-1},v),I));let A="";if(E&&(x||S===g.j2.MODE_HORIZONTAL)){let e=d()({[b]:!0,[`${b}-sub`]:a,[`${b}-selected`]:C,[`${b}-collapsed`]:x,[`${b}-disabled`]:m});A=l.createElement(_.Z.Item,{selected:C,active:C,forwardRef:this.setItemRef,className:e,onClick:this.handleClick,onMouseEnter:u,onMouseLeave:h,disabled:m,onKeyDown:this.handleKeyPress},I)}else{let e=d()(`${o||`${b}-normal`}`,{[b]:!0,[`${b}-sub`]:a,[`${b}-selected`]:C&&!a,[`${b}-collapsed`]:x,[`${b}-disabled`]:m,[`${b}-has-link`]:"string"==typeof p}),t={"aria-disabled":m};if(a){let e=this.adapter.getIsOpen();t["aria-expanded"]=e}A=l.createElement("li",Object.assign({role:a?null:"menuitem",tabIndex:a?-1:w},t,{style:s,ref:this.setItemRef,className:e,onClick:this.handleClick,onMouseEnter:u,onMouseLeave:h,onKeyPress:this.handleKeyPress},this.getDataAttr(this.props)),I)}return((x&&!E&&!a||x&&a&&m)&&(A=this.wrapTooltip(A)),"function"==typeof this.context.renderWrapper)?this.context.renderWrapper({itemElement:A,isSubNav:a,isInSubNav:E,props:this.props}):A}constructor(e){super(e),this.setItemRef=e=>{this.props.forwardRef&&this.props.forwardRef(e)},this.wrapTooltip=e=>{let{text:t,tooltipHideDelay:n,tooltipShowDelay:r}=this.props,i=null!=n?n:this.context.tooltipHideDelay,o=null!=r?r:this.context.tooltipShowDelay;return l.createElement(m.Z,{content:t,wrapWhenSpecial:!1,position:"right",trigger:"hover",mouseEnterDelay:o,mouseLeaveDelay:i},e)},this.handleClick=e=>this.foundation.handleClick(e),this.handleKeyPress=e=>this.foundation.handleKeyPress(e),this.state={tooltipShow:!1},this.foundation=new v.Z(this.adapter)}}w.contextType=y.Z,w.propTypes={text:u().oneOfType([u().string,u().node]),itemKey:u().oneOfType([u().string,u().number]),onClick:u().func,onMouseEnter:u().func,onMouseLeave:u().func,icon:u().oneOfType([u().node]),className:u().string,toggleIcon:u().string,style:u().object,forwardRef:u().func,indent:u().oneOfType([u().bool,u().number]),isCollapsed:u().bool,isSubNav:u().bool,link:u().string,linkOptions:u().object,disabled:u().bool,tabIndex:u().number},w.defaultProps={isSubNav:!1,indent:!1,forwardRef:a(),isCollapsed:!1,onClick:a(),onMouseEnter:a(),onMouseLeave:a(),disabled:!1,tabIndex:0}},182437:function(e,t,n){"use strict";n(874386),n(429532),n(675373),n(268917);var r=n(207813),i=n.n(r),o=n(645260),a=n.n(o),s=n(96008),l=n.n(s),c=n(705514),u=n(88648),h=n(201845),d=n.n(h),f=n(713097),p=n.n(f),v=n(169456),g=n(273862),m=n(83424),y=n(627919),_=n(173308),b=n(822103),w=n(736442),S=n(657794);n(914689);var E=n(98573),k=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function T(e,t){return function(){let n=new Set(e.state[t]);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];i.forEach(e=>e&&n.add(e)),e.setState({[t]:Array.from(n)})}}function x(e,t){return function(){let n=new Set(e.state[t]);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];i.forEach(e=>e&&n.delete(e)),e.setState({[t]:Array.from(n)})}}let{hasOwnProperty:C}=Object.prototype;class I extends c.Z{static getDerivedStateFromProps(e,t){let n={};return C.call(e,"isCollapsed")&&e.isCollapsed!==t.isCollapsed&&(n.isCollapsed=e.isCollapsed),n}componentDidMount(){}componentDidUpdate(e){if(e.items!==this.props.items||e.children!==this.props.children)this.foundation.init();else{if(this.foundation.handleItemsChange(!1),this.props.selectedKeys&&!i()(e.selectedKeys,this.props.selectedKeys)){this.adapter.updateSelectedKeys(this.props.selectedKeys);let e=this.foundation.getWillOpenKeys(this.state.itemKeysMap);this.adapter.updateOpenKeys(e)}this.props.openKeys&&!i()(e.openKeys,this.props.openKeys)&&this.adapter.updateOpenKeys(this.props.openKeys)}}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{notifySelect:function(){return e.props.onSelect(...arguments)},notifyOpenChange:function(){return e.props.onOpenChange(...arguments)},setIsCollapsed:e=>this.setState({isCollapsed:e}),notifyCollapseChange:function(){return e.props.onCollapseChange(...arguments)},updateItems:e=>this.setState({items:[...e]}),setItemKeysMap:e=>this.setState({itemKeysMap:Object.assign({},e)}),addSelectedKeys:T(this,"selectedKeys"),removeSelectedKeys:x(this,"selectedKeys"),updateSelectedKeys:function(t){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=t;if(n){let n=e.foundation.selectLevelZeroParentKeys(null,t);r=Array.from(new Set(t.concat(n)))}e.setState({selectedKeys:r})},updateOpenKeys:e=>this.setState({openKeys:[...e]}),addOpenKeys:T(this,"openKeys"),removeOpenKeys:x(this,"openKeys"),setItemsChanged:e=>{this.itemsChanged=e}})}renderItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,{expandIcon:n,subDropdownProps:r}=this.props;return u.createElement(u.Fragment,null,e.map((e,i)=>Array.isArray(e.items)&&e.items.length?u.createElement(m.Z,Object.assign({key:e.itemKey||String(t)+i},e,{level:t,expandIcon:n,subDropdownProps:r}),this.renderItems(e.items,t+1)):u.createElement(y.Z,Object.assign({key:e.itemKey||String(t)+i},e,{level:t}))))}render(){let e=this.props,{children:t,mode:n,onOpenChange:r,onSelect:i,onClick:o,style:s,className:l,subNavCloseDelay:c,subNavOpenDelay:h,subNavMotion:d,tooltipShowDelay:f,tooltipHideDelay:v,prefixCls:g,bodyStyle:m,footer:y,header:E,toggleIconPosition:T,limitIndent:x,renderWrapper:C,getPopupContainer:I}=e,O=k(e,["children","mode","onOpenChange","onSelect","onClick","style","className","subNavCloseDelay","subNavOpenDelay","subNavMotion","tooltipShowDelay","tooltipHideDelay","prefixCls","bodyStyle","footer","header","toggleIconPosition","limitIndent","renderWrapper","getPopupContainer"]),{selectedKeys:A,openKeys:P,items:R,isCollapsed:D}=this.state,{updateOpenKeys:L,addOpenKeys:M,removeOpenKeys:z,updateSelectedKeys:N,addSelectedKeys:j,removeSelectedKeys:B}=this.adapter,U=Object.assign({},s),F=u.Children.toArray(t),G=[],V=[];if(u.isValidElement(y)?G.push(u.createElement(_.Z,{key:0},y)):y&&"object"==typeof y&&G.push(u.createElement(_.Z,Object.assign({key:0},y))),u.isValidElement(E)?V.push(u.createElement(b.Z,{key:0},E)):E&&"object"==typeof E&&V.push(u.createElement(b.Z,Object.assign({key:0},E))),Array.isArray(F)&&F.length){let e=(F=[...F]).length;for(let t=0;t<e;t++){let n=F[t];n.type===_.Z||"NavFooter"===a()(n,"type.elementType")?(G.push(n),F.splice(t,1),t--,e--):(n.type===b.Z||"NavHeader"===a()(n,"type.elementType"))&&(V.push(n),F.splice(t,1),t--,e--)}}let H=p()(g,l,{[`${g}-collapsed`]:D,[`${g}-horizontal`]:"horizontal"===n,[`${g}-vertical`]:"vertical"===n}),Z=p()(`${g}-header-list-outer`,{[`${g}-header-list-outer-collapsed`]:D});return this.itemsChanged&&this.adapter.setCache("itemElems",this.renderItems(R)),u.createElement(S.Z,{componentName:"Navigation"},e=>u.createElement(w.Z.Provider,{value:{subNavCloseDelay:c,subNavOpenDelay:h,subNavMotion:d,tooltipShowDelay:f,tooltipHideDelay:v,openKeys:P,openKeysIsControlled:this.isControlled("openKeys")&&"vertical"===n&&!D,canUpdateOpenKeys:!0,selectedKeys:A,selectedKeysIsControlled:this.isControlled("selectedKeys"),isCollapsed:D,onCollapseChange:this.onCollapseChange,mode:n,onSelect:i,onOpenChange:r,updateOpenKeys:L,addOpenKeys:M,removeOpenKeys:z,updateSelectedKeys:N,addSelectedKeys:j,removeSelectedKeys:B,onClick:o,locale:e,prefixCls:g,toggleIconPosition:T,limitIndent:x,renderWrapper:C,getPopupContainer:I}},u.createElement("div",Object.assign({className:H,style:U},this.getDataAttr(O)),u.createElement("div",{className:`${g}-inner`},u.createElement("div",{className:Z},V,u.createElement("div",{style:m,className:`${g}-list-wrapper`},u.createElement("ul",{role:"menu","aria-orientation":n,className:`${g}-list`},this.adapter.getCache("itemElems"),F))),G))))}constructor(e){super(e),this.onCollapseChange=()=>{this.foundation.handleCollapseChange()},this.foundation=new v.Z(this.adapter),this.itemsChanged=!0;let{isCollapsed:t,defaultIsCollapsed:n,items:r,children:i}=e,o={isCollapsed:!!(this.isControlled("isCollapsed")?t:n),openKeys:[],items:[],itemKeysMap:{},selectedKeys:[]};if(this.state=Object.assign({},o),r&&r.length||i){let e=this.foundation.init("constructor");this.state=Object.assign(Object.assign({},o),e)}}}I.Sub=m.Z,I.Item=y.Z,I.Header=b.Z,I.Footer=_.Z,I.propTypes={collapseIcon:d().node,defaultOpenKeys:d().arrayOf(d().oneOfType([d().string,d().number])),openKeys:d().arrayOf(d().oneOfType([d().string,d().number])),defaultSelectedKeys:d().arrayOf(d().oneOfType([d().string,d().number])),expandIcon:d().node,selectedKeys:d().arrayOf(d().oneOfType([d().string,d().number])),mode:d().oneOf([...g.j2.MODE]),onSelect:d().func,onClick:d().func,onOpenChange:d().func,items:d().array,isCollapsed:d().bool,defaultIsCollapsed:d().bool,onCollapseChange:d().func,multiple:d().bool,onDeselect:d().func,subNavMotion:d().oneOfType([d().bool,d().object,d().func]),subNavCloseDelay:d().number,subNavOpenDelay:d().number,tooltipShowDelay:d().number,tooltipHideDelay:d().number,children:d().node,style:d().object,bodyStyle:d().object,className:d().string,toggleIconPosition:d().string,prefixCls:d().string,header:d().oneOfType([d().node,d().object]),footer:d().oneOfType([d().node,d().object]),limitIndent:d().bool,getPopupContainer:d().func},I.__SemiComponentName__="Navigation",I.defaultProps=(0,E.GW)(I.__SemiComponentName__,{subNavCloseDelay:g.KT.DEFAULT_SUBNAV_CLOSE_DELAY,subNavOpenDelay:g.KT.DEFAULT_SUBNAV_OPEN_DELAY,tooltipHideDelay:g.KT.DEFAULT_TOOLTIP_HIDE_DELAY,tooltipShowDelay:g.KT.DEFAULT_TOOLTIP_SHOW_DELAY,onCollapseChange:l(),onSelect:l(),onClick:l(),onOpenChange:l(),toggleIconPosition:"right",limitIndent:!0,prefixCls:g.UX.PREFIX,subNavMotion:!0,mode:g.j2.MODE_VERTICAL}),t.Z=I},483355:function(e,t,n){"use strict";n(429532);var r=n(96008),i=n.n(r),o=n(866674),a=n.n(o),s=n(88648),l=n(713097),c=n.n(l),u=n(201845),h=n.n(u),d=n(826898),f=n(274220),p=n(343850),v=n(4884);n(682476);var g=n(101108),m=n(98573),y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let _=f.j2.POSITION_SET,b=f.j2.TRIGGER_SET;class w extends s.PureComponent{render(){let e=this.props,{children:t,prefixCls:n,showArrow:r,arrowStyle:i={},arrowBounding:o,position:a,style:l,trigger:c}=e,u=y(e,["children","prefixCls","showArrow","arrowStyle","arrowBounding","position","style","trigger"]),{spacing:h}=this.props,d=!!r&&s.createElement(v.Z,Object.assign({},{position:a,className:"",popStyle:l,arrowStyle:i}));return(0,g.Z)(h)&&(h=r?f.KT.SPACING_WITH_ARROW:f.KT.SPACING),s.createElement(p.Z,Object.assign({guardFocus:!0,ref:this.tooltipRef},u,{trigger:c,position:a,style:l,content:this.renderPopCard,prefixCls:n,spacing:h,showArrow:d,arrowBounding:o,role:"click"===c||"custom"===c?"dialog":"tooltip"}),t)}constructor(e){super(e),this.focusTrigger=()=>{var e;null===(e=this.tooltipRef.current)||void 0===e||e.focusTrigger()},this.renderPopCard=e=>{let{initialFocusRef:t}=e,{content:n,contentClassName:r,prefixCls:i}=this.props,{direction:o}=this.context,a=c()(i,r,{[`${i}-rtl`]:"rtl"===o}),l=this.renderContentNode({initialFocusRef:t,content:n});return s.createElement("div",{className:a},s.createElement("div",{className:`${i}-content`},l))},this.renderContentNode=e=>{let{initialFocusRef:t,content:n}=e;return a()(n)?n({initialFocusRef:t}):n},this.tooltipRef=s.createRef()}}w.contextType=d.Z,w.propTypes={children:h().node,content:h().oneOfType([h().node,h().func]),visible:h().bool,autoAdjustOverflow:h().bool,motion:h().bool,position:h().oneOf(_),margin:h().oneOfType([h().number,h().object]),mouseEnterDelay:h().number,mouseLeaveDelay:h().number,trigger:h().oneOf(b).isRequired,contentClassName:h().oneOfType([h().string,h().array]),onVisibleChange:h().func,onClickOutSide:h().func,style:h().object,spacing:h().oneOfType([h().number,h().object]),zIndex:h().number,showArrow:h().bool,arrowStyle:h().shape({borderColor:h().string,backgroundColor:h().string,borderOpacity:h().oneOfType([h().string,h().number])}),arrowPointAtCenter:h().bool,arrowBounding:h().object,prefixCls:h().string,guardFocus:h().bool,disableArrowKeyDown:h().bool},w.__SemiComponentName__="Popover",w.defaultProps=(0,m.GW)(w.__SemiComponentName__,{arrowBounding:f.KT.ARROW_BOUNDING,showArrow:!1,autoAdjustOverflow:!0,zIndex:f.KT.DEFAULT_Z_INDEX,motion:!0,trigger:"hover",cancelText:"No",okText:"Yes",position:"bottom",prefixCls:f.UX.PREFIX,onClickOutSide:i(),onEscKeyDown:i(),closeOnEsc:!0,returnFocusOnClose:!0,guardFocus:!0,disableFocusListener:!0}),t.Z=w},971046:function(e,t,n){"use strict";let r=n(88648).createContext(null);t.Z=r},723402:function(e,t,n){"use strict";n(429532);var r=n(590098),i=n.n(r),o=n(300277),a=n.n(o),s=n(96008),l=n.n(s),c=n(88648),u=n(201845),h=n.n(u),d=n(713097),f=n.n(d),p=n(861388),v=n(953966),g=n(74066);n(294981);var m=n(705514),y=n(578115),_=n(971046),b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class w extends m.Z{componentDidUpdate(e){this.props.checked!==e.checked&&(a()(this.props.checked)?this.foundation.setChecked(!1):i()(this.props.checked)&&this.foundation.setChecked(this.props.checked))}get adapter(){return Object.assign(Object.assign({},super.adapter),{setHover:e=>{this.setState({hover:e})},setAddonId:()=>{this.setState({addonId:(0,g.Ms)({prefix:"addon"})})},setChecked:e=>{this.setState({checked:e})},setExtraId:()=>{this.setState({extraId:(0,g.Ms)({prefix:"extra"})})},setFocusVisible:e=>{this.setState({focusVisible:e})}})}isInGroup(){return this.context&&this.context.radioGroup}focus(){this.radioEntity.focus()}blur(){this.radioEntity.blur()}render(){let e,t,n,r,i,o,a,s,l;let u=this.props,{addonClassName:h,addonStyle:d,disabled:p,style:g,className:m,prefixCls:_,displayMode:w,children:S,extra:E,mode:k,type:T,value:x,name:C}=u,I=b(u,["addonClassName","addonStyle","disabled","style","className","prefixCls","displayMode","children","extra","mode","type","value","name"]),{hover:O,addonId:A,extraId:P,focusVisible:R,checked:D}=this.state,L={checked:D,disabled:p};this.isInGroup()?(e=this.context.radioGroup.value===x,t=p||this.context.radioGroup.disabled,n=this.context.mode,r=this.context.radioGroup.isButtonRadio,i=this.context.radioGroup.isCardRadio,o=this.context.radioGroup.isPureCardRadio,s=this.context.radioGroup.buttonSize,l=_||this.context.radioGroup.prefixCls,L.checked=e,L.disabled=t):(e=D,t=p,n=k,a="button"===T,l=_,r=T===v.j2.TYPE_BUTTON,o=T===v.j2.TYPE_PURECARD,i=T===v.j2.TYPE_CARD||o);let M=void 0===r?a:r,z=l||v.Gv.PREFIX,N=i||o||M,j=f()(z,{[`${z}-disabled`]:t,[`${z}-checked`]:e,[`${z}-${w}`]:!!w,[`${z}-buttonRadioComponent`]:a,[`${z}-buttonRadioGroup`]:r,[`${z}-buttonRadioGroup-${s}`]:r&&s,[`${z}-cardRadioGroup`]:i,[`${z}-cardRadioGroup_disabled`]:t&&i,[`${z}-cardRadioGroup_checked`]:i&&e&&!t,[`${z}-cardRadioGroup_checked_disabled`]:i&&e&&t,[`${z}-cardRadioGroup_hover`]:i&&!e&&O&&!t,[m]:!!m,[`${z}-focus`]:R&&(i||o)}),B=this.isInGroup()&&this.context.radioGroup.name,U=f()({[`${z}-addon`]:!M,[`${z}-addon-buttonRadio`]:M,[`${z}-addon-buttonRadio-checked`]:M&&e,[`${z}-addon-buttonRadio-disabled`]:M&&t,[`${z}-addon-buttonRadio-hover`]:M&&!e&&!t&&O,[`${z}-addon-buttonRadio-${s}`]:M&&s,[`${z}-focus`]:R&&M},h);return c.createElement("label",Object.assign({style:g,className:j,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.getDataAttr(I)),c.createElement(y.Z,Object.assign({},this.props,L,{mode:n,name:null!=C?C:B,isButtonRadio:M,isPureCardRadioGroup:o,onChange:this.onChange,ref:e=>{this.radioEntity=e},addonId:S&&A,extraId:E&&P,focusInner:R&&!N,onInputFocus:this.handleFocusVisible,onInputBlur:this.handleBlur})),S||E?c.createElement("div",{className:f()([`${z}-content`,{[`${z}-isCardRadioGroup_content`]:i}])},S?c.createElement("span",{className:U,style:d,id:A,"x-semi-prop":"children"},S):null,E&&!M?c.createElement("div",{className:`${z}-extra`,id:P,"x-semi-prop":"extra"},E):null):null)}constructor(e){super(e),this.onChange=e=>{let{onChange:t}=this.props;if(this.isInGroup()){let{radioGroup:t}=this.context;t.onChange&&t.onChange(e)}"checked"in this.props||this.foundation.setChecked(e.target.checked),t&&t(e)},this.handleMouseEnter=e=>{this.props.onMouseEnter(e),this.foundation.setHover(!0)},this.handleMouseLeave=e=>{this.props.onMouseLeave(e),this.foundation.setHover(!1)},this.handleFocusVisible=e=>{this.foundation.handleFocusVisible(e)},this.handleBlur=e=>{this.foundation.handleBlur()},this.state={hover:!1,addonId:e.addonId,extraId:e.extraId,checked:e.checked||e.defaultChecked||!1},this.foundation=new p.Z(this.adapter),this.radioEntity=null}}w.contextType=_.Z,w.propTypes={autoFocus:h().bool,checked:h().bool,defaultChecked:h().bool,value:h().any,style:h().object,className:h().string,disabled:h().bool,prefixCls:h().string,displayMode:h().oneOf(["vertical",""]),onChange:h().func,onMouseEnter:h().func,onMouseLeave:h().func,mode:h().oneOf(v.j2.MODE),extra:h().node,addonStyle:h().object,addonClassName:h().string,type:h().oneOf([v.j2.TYPE_DEFAULT,v.j2.TYPE_BUTTON,v.j2.TYPE_CARD,v.j2.TYPE_PURECARD]),"aria-label":h().string,preventScroll:h().bool},w.defaultProps={autoFocus:!1,defaultChecked:!1,value:void 0,style:void 0,onMouseEnter:l(),onMouseLeave:l(),mode:"",type:"default"},w.elementType="Radio",t.Z=w},348278:function(e,t,n){"use strict";n.d(t,{M:function(){return r}});let r=(0,n(88648).createContext)(void 0)},380381:function(e,t,n){"use strict";n(429532);var r=n(96008),i=n.n(r),o=n(88648),a=n(713097),s=n.n(a),l=n(201845),c=n.n(l),u=n(308429),h=n(345918),d=n(705514),f=n(348278);let p=h.U.PREFIX;class v extends d.Z{componentDidMount(){this.foundation.init();let{min:e,max:t,onResizeStart:n,onChange:r,onResizeEnd:i,defaultSize:o}=this.props;-1===this.itemIndex&&(this.itemIndex=this.context.registerItem(this.itemRef,e,t,o,n,r,i)),this.direction=this.context.direction}componentDidUpdate(e){var t,n;if(this.context.direction!==this.direction){if(this.direction=this.context.direction,"horizontal"===this.direction){let e=null===(t=this.itemRef.current)||void 0===t?void 0:t.style.height;this.itemRef.current.style.width=e,this.itemRef.current.style.removeProperty("height")}else{let e=null===(n=this.itemRef.current)||void 0===n?void 0:n.style.width;this.itemRef.current.style.height=e,this.itemRef.current.style.removeProperty("width")}}}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign({},super.adapter)}render(){let e=Object.assign({},this.props.style);return o.createElement("div",{style:e,className:s()(this.props.className,p+"-item"),ref:this.itemRef},this.props.children)}constructor(e){super(e),this.itemRef=(0,o.createRef)(),this.foundation=new u.Sn(this.adapter),this.state={isResizing:!1},this.itemIndex=-1}}v.propTypes={style:c().object,className:c().string,min:c().string,max:c().string,children:c().object,onResizeStart:c().func,onChange:c().func,onResizeEnd:c().func,defaultSize:c().oneOfType([c().string,c().number])},v.defaultProps={onResizeStart:i(),onChange:i(),onResizeEnd:i()},v.contextType=f.M,t.Z=v},982857:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}}),n("429532"),n("874386"),n("981168"),n("675373");var r=n("96008"),i=n.n(r),o=n("207813"),a=n.n(o),s=n("88648"),l=n("309931"),c=n("201845"),u=n.n(c),h=n("713097"),d=n.n(h),f=n("818749");let p={PREFIX:`${f.T}-slider`,DISABLED:`${f.T}-slider-disabled`,VERTICAL:`${f.T}-slider-vertical`,TRACK:`${f.T}-slider-track`,DOTS:`${f.T}-slider-dots`,MARKS:`${f.T}-slider-marks`,HANDLE:`${f.T}-slider-handle`,HANDLE_DOT:`${f.T}-slider-handle-dot`};var v=n("705514"),g=n("652594"),m=n("343850");n("795540");var y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let _=p.PREFIX;class b extends v.Z{get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{getSliderLengths:()=>{var e;if(this.sliderEl&&this.sliderEl.current){let t=this.sliderEl.current.getBoundingClientRect(),n=null===(e=this.sliderEl.current.offsetParent)||void 0===e?void 0:e.getBoundingClientRect(),r={x:n?t.left-n.left:this.sliderEl.current.offsetLeft,y:n?t.top-n.top:this.sliderEl.current.offsetTop};return{sliderX:r.x,sliderY:r.y,sliderWidth:t.width,sliderHeight:t.height}}return{sliderX:0,sliderY:0,sliderWidth:0,sliderHeight:0}},getParentRect:()=>{let e=this.sliderEl&&this.sliderEl.current&&this.sliderEl.current.offsetParent;if(!!e)return e.getBoundingClientRect()},getScrollParentVal:()=>{let e=this.foundation.getScrollParent(this.sliderEl.current);return{scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}},isEventFromHandle:e=>{let t=[this.minHanleEl,this.maxHanleEl],n=!1;return t.forEach(t=>{if(!t)return;let r=t&&t.current,i=l.findDOMNode(r);i&&i.contains(e.target)&&(n=!0)}),n},getOverallVars:()=>({dragging:this.dragging}),updateDisabled:e=>{this.setState({disabled:e})},transNewPropsToState(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i();this.setState(e,t)},notifyChange:e=>{this.props.onChange(Array.isArray(e)?[...e].sort((e,t)=>e-t):e)},setDragging:e=>{this.dragging=e},updateCurrentValue:e=>{let{currentValue:t}=this.state;e!==t&&this.setState({currentValue:e})},setOverallVars:(e,t)=>{this[e]=t},getMinHandleEl:()=>this.minHanleEl.current,getMaxHandleEl:()=>this.maxHanleEl.current,onHandleDown:e=>{this.handleDownEventListenerSet.add(this._addEventListener(document.body,"mousemove",this.foundation.onHandleMove,!1)),this.handleDownEventListenerSet.add(this._addEventListener(window,"mouseup",this.foundation.onHandleUp,!1)),this.handleDownEventListenerSet.add(this._addEventListener(document.body,"touchmove",this.foundation.onHandleTouchMove,!1))},onHandleMove:function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i(),o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4?arguments[4]:void 0;if(!e.foundation.checkAndUpdateIsInRenderTreeState())return;let{value:l}=e.props,c=s;if(void 0===c){let r=e.foundation.transPosToValue(t,n);if(!1===r)return;c=e.foundation.outPutValue(r)}let{currentValue:u}=e.state;if(!a()(e.foundation.outPutValue(u),c)){if(!o&&e.foundation.valueFormatIsCorrect(l))return!1;e.setState({currentValue:c},r)}},setEventDefault:e=>{e.stopPropagation(),e.preventDefault()},setStateVal:(e,t)=>{this.setState({[e]:t})},checkAndUpdateIsInRenderTreeState:()=>{var e;let t=!!(e=this.sliderEl.current)&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length);return t!==this.state.isInRenderTree&&this.setState({isInRenderTree:t}),t},onHandleEnter:e=>{this.setState({focusPos:e})},onHandleLeave:()=>{this.setState({focusPos:""})},onHandleUpBefore:e=>{var t,n;null===(n=(t=this.props).onMouseUp)||void 0===n||n.call(t,e),e.stopPropagation(),e.preventDefault(),Array.from(this.handleDownEventListenerSet).forEach(e=>e()),this.handleDownEventListenerSet.clear()},onHandleUpAfter:()=>{let{currentValue:e}=this.state,t=this.foundation.outPutValue(e);this.props.onAfterChange(t)},unSubscribeEventListener:()=>{Array.from(this.eventListenerSet).forEach(e=>e())}})}componentDidMount(){this.foundation.init()}componentDidUpdate(e,t){let n=!a()(this.props.value,e.value);if(this.props.disabled!==e.disabled&&this.foundation.handleDisabledChange(this.props.disabled),n){let e=this.props.value,t=this.state.currentValue;this.foundation.handleValueChange(t,e),this.props.onAfterChange(this.props.value)}}componentWillUnmount(){this.foundation.destroy()}render(){let{disabled:e,currentValue:t,min:n,max:r}=this.state,i=this.props,{vertical:o,verticalReverse:a,style:l,railStyle:c,range:u,className:h}=i,f=y(i,["vertical","verticalReverse","style","railStyle","range","className"]),v=d()(`${_}-wrapper`,{[`${_}-disabled`]:e,[`${p.VERTICAL}-wrapper`]:o,[`${_}-reverse`]:o&&a},h),g=d()(`${_}-boundary`,{[`${_}-boundary-show`]:this.props.showBoundary&&this.state.showBoundary}),m=d()({[`${_}`]:!o,[p.VERTICAL]:o}),b=Array.isArray(t)?[...t].sort():t,w=u?`Range: ${this._getAriaValueText(b[0],0)} to ${this._getAriaValueText(b[1],1)}`:void 0,S=s.createElement("div",Object.assign({className:v,style:l,ref:this.sliderEl,"aria-label":w,onMouseEnter:()=>this.foundation.handleWrapperEnter(),onMouseLeave:()=>this.foundation.handleWrapperLeave()},this.getDataAttr(f)),s.createElement("div",{className:`${_}-rail`,onClick:this.foundation.handleWrapClick,style:c}),this.renderTrack(),this.renderStepDot(),s.createElement("div",null,this.renderHandle()),this.renderLabel(),s.createElement("div",{className:g},s.createElement("span",{className:`${_}-boundary-min`},n),s.createElement("span",{className:`${_}-boundary-max`},r)));return o?S:s.createElement("div",{className:m},S)}_addEventListener(e,t,n){if(!e.addEventListener)return i();{for(var r=arguments.length,o=Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];e.addEventListener(t,n,...o);let i=()=>{null==e||e.removeEventListener(t,n),Promise.resolve().then(()=>{this.eventListenerSet.delete(i)})};return this.eventListenerSet.add(i),i}}constructor(e){super(e),this.renderHandle=()=>{var e,t,n,r,i;let{vertical:o,range:a,tooltipVisible:l,tipFormatter:c,"aria-label":u,"aria-labelledby":h,"aria-valuetext":f,getAriaValueText:v,disabled:g}=this.props,{chooseMovePos:y,isDrag:_,isInRenderTree:b,firstDotFocusVisible:w,secondDotFocusVisible:S}=this.state,E=o?"top":"left",k=this.foundation.getMinAndMaxPercent(this.state.currentValue),T=k.min,x=k.max,{tipVisible:C,tipChildren:I}=this.foundation.computeHandleVisibleVal(l&&b,c,a),O=d()(p.HANDLE,{[`${p.HANDLE}-clicked`]:"min"===y&&_}),A=d()(p.HANDLE,{[`${p.HANDLE}-clicked`]:"max"===y&&_}),{min:P,max:R,currentValue:D}=this.state,L={"aria-label":null!=u?u:g?"Disabled Slider":void 0,"aria-labelledby":h,"aria-disabled":g};o&&Object.assign(L,{"aria-orientation":"vertical"});let M=this.props.handleDot;return a?s.createElement(s.Fragment,null,s.createElement(m.Z,{content:I.min,position:"top",trigger:"custom",rePosKey:T,visible:b&&(C.min||w),className:`${p.HANDLE}-tooltip`},s.createElement("span",Object.assign({ref:this.minHanleEl,className:O,style:{[E]:`${100*T}%`,zIndex:"min"===y?2:1},onMouseDown:e=>{this.foundation.onHandleDown(e,"min")},onMouseEnter:()=>{this.foundation.onHandleEnter("min")},onTouchStart:e=>{this.foundation.onHandleTouchStart(e,"min")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:e=>{this.foundation.onHandleUp(e)},onTouchEnd:e=>{this.foundation.onHandleUp(e)},onKeyDown:e=>{this.foundation.handleKeyDown(e,"min")},onFocus:e=>{this.foundation.onFocus(e,"min")},onBlur:e=>{this.foundation.onBlur(e,"min")},role:"slider",tabIndex:g?-1:0},L,{"aria-valuetext":v?v(D[0],0):f,"aria-valuenow":D[0],"aria-valuemax":D[1],"aria-valuemin":P}),(null==M?void 0:M[0])&&s.createElement("div",{className:p.HANDLE_DOT,style:Object.assign(Object.assign({},(null===(e=M[0])||void 0===e?void 0:e.size)?{width:M[0].size,height:M[0].size}:{}),(null===(t=M[0])||void 0===t?void 0:t.color)?{backgroundColor:M[0].color}:{})}))),s.createElement(m.Z,{content:I.max,position:"top",trigger:"custom",rePosKey:x,visible:b&&(C.max||S),className:`${p.HANDLE}-tooltip`},s.createElement("span",Object.assign({ref:this.maxHanleEl,className:A,style:{[E]:`${100*x}%`,zIndex:"max"===y?2:1},onMouseDown:e=>{this.foundation.onHandleDown(e,"max")},onMouseEnter:()=>{this.foundation.onHandleEnter("max")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:e=>{this.foundation.onHandleUp(e)},onTouchStart:e=>{this.foundation.onHandleTouchStart(e,"max")},onTouchEnd:e=>{this.foundation.onHandleUp(e)},onKeyDown:e=>{this.foundation.handleKeyDown(e,"max")},onFocus:e=>{this.foundation.onFocus(e,"max")},onBlur:e=>{this.foundation.onBlur(e,"max")},role:"slider",tabIndex:g?-1:0},L,{"aria-valuetext":v?v(D[1],1):f,"aria-valuenow":D[1],"aria-valuemax":R,"aria-valuemin":D[0]}),(null===(n=this.props.handleDot)||void 0===n?void 0:n[1])&&s.createElement("div",{className:p.HANDLE_DOT,style:Object.assign(Object.assign({},(null===(r=this.props.handleDot[1])||void 0===r?void 0:r.size)?{width:this.props.handleDot[1].size,height:this.props.handleDot[1].size}:{}),(null===(i=this.props.handleDot[1])||void 0===i?void 0:i.color)?{backgroundColor:this.props.handleDot[1].color}:{})})))):s.createElement(m.Z,{content:I.min,showArrow:this.props.showArrow,position:"top",trigger:"custom",rePosKey:T,visible:b&&(C.min||w),className:`${p.HANDLE}-tooltip`},s.createElement("span",Object.assign({onMouseOver:this.foundation.checkAndUpdateIsInRenderTreeState,ref:this.minHanleEl,className:O,style:{[E]:`${100*T}%`,zIndex:"min"===y&&_?2:1},onMouseDown:e=>{this.foundation.onHandleDown(e,"min")},onMouseEnter:()=>{this.foundation.onHandleEnter("min")},onTouchStart:e=>{this.foundation.onHandleTouchStart(e,"min")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:e=>{this.foundation.onHandleUp(e)},onTouchEnd:e=>{this.foundation.onHandleUp(e)},onKeyDown:e=>{this.foundation.handleKeyDown(e,"min")},onFocus:e=>{this.foundation.onFocus(e,"min")},onBlur:e=>{this.foundation.onBlur(e,"min")},role:"slider","aria-valuetext":v?v(D,0):f,tabIndex:g?-1:0},L,{"aria-valuenow":D,"aria-valuemax":R,"aria-valuemin":P}),M&&s.createElement("div",{className:p.HANDLE_DOT,style:Object.assign(Object.assign({},(null==M?void 0:M.size)?{width:M.size,height:M.size}:{}),(null==M?void 0:M.color)?{backgroundColor:M.color}:{})})))},this.renderTrack=()=>{let{range:e,included:t,vertical:n}=this.props,r=this.foundation.getMinAndMaxPercent(this.state.currentValue),i=r.min,o=r.max,a=n?{height:e?`${100*Math.abs(o-i)}%`:`${100*i}%`,top:e?`${100*Math.min(i,o)}%`:0}:{width:e?`${100*Math.abs(o-i)}%`:`${100*i}%`,left:e?`${100*Math.min(i,o)}%`:0};return a=t?a:{},s.createElement("div",{className:p.TRACK,style:a,onClick:this.foundation.handleWrapClick})},this.renderStepDot=()=>{let{min:e,max:t,vertical:n,marks:r}=this.props,i=n?"top":"left";return r&&Object.keys(r).length>0?s.createElement("div",{className:p.DOTS},Object.keys(r).map(n=>{let o=this.foundation.isMarkActive(Number(n)),a=d()(`${_}-dot`,{[`${_}-dot-active`]:"active"===this.foundation.isMarkActive(Number(n))}),l=(Number(n)-e)/(t-e),c=s.createElement("span",{key:n,onClick:this.foundation.handleWrapClick,className:a,style:{[i]:`calc(${100*l}% - 2px)`}});return o?this.props.tooltipOnMark?s.createElement(m.Z,{content:r[n]},c):c:null})):null},this.renderLabel=()=>{if(!this.props.showMarkLabel)return null;let{min:e,max:t,vertical:n,marks:r,verticalReverse:i}=this.props,o=n?"top":"left";return r&&Object.keys(r).length>0?s.createElement("div",{className:p.MARKS+(n&&i?"-reverse":"")},Object.keys(r).map(a=>{let l=this.foundation.isMarkActive(Number(a)),c=(Number(a)-e)/(t-e);return l?s.createElement("span",{key:a,className:d()(`${_}-mark${n&&i?"-reverse":""}`),style:{[o]:`${100*c}%`},onClick:this.foundation.handleWrapClick},r[a]):null})):null},this._getAriaValueText=(e,t)=>{let{getAriaValueText:n}=this.props;return n?n(e,t):e};let{value:t}=this.props;!t&&(t=this.props.defaultValue),this.state={currentValue:t||(this.props.range?[0,0]:0),min:this.props.min||0,max:this.props.max||0,focusPos:"",onChange:this.props.onChange,disabled:this.props.disabled||!1,chooseMovePos:"",isDrag:!1,clickValue:0,showBoundary:!1,isInRenderTree:!0,firstDotFocusVisible:!1,secondDotFocusVisible:!1},this.sliderEl=s.createRef(),this.minHanleEl=s.createRef(),this.maxHanleEl=s.createRef(),this.dragging=[!1,!1],this.foundation=new g.Z(this.adapter),this.eventListenerSet=new Set,this.handleDownEventListenerSet=new Set}}b.propTypes={defaultValue:u().oneOfType([u().number,u().array]),disabled:u().bool,showMarkLabel:u().bool,included:u().bool,marks:u().object,max:u().number,min:u().number,range:u().bool,step:u().number,tipFormatter:u().func,value:u().oneOfType([u().number,u().array]),vertical:u().bool,onAfterChange:u().func,onChange:u().func,onMouseUp:u().func,tooltipOnMark:u().bool,tooltipVisible:u().bool,showArrow:u().bool,style:u().object,className:u().string,showBoundary:u().bool,railStyle:u().object,verticalReverse:u().bool,getAriaValueText:u().func,handleDot:u().oneOfType([u().shape({size:u().string,color:u().string}),u().arrayOf(u().shape({size:u().string,color:u().string}))])},b.defaultProps={disabled:!1,showMarkLabel:!0,tooltipOnMark:!1,included:!0,max:100,min:0,range:!1,showArrow:!0,step:1,tipFormatter:e=>e,vertical:!1,showBoundary:!1,onAfterChange:e=>{},onChange:e=>{},verticalReverse:!1}},893688:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}}),n("429532");var r=n("88648"),i=n("201845"),o=n.n(i);n("692484");var a=n("545605"),s=n("282921"),l=n("265434");n("675373");var c=n("437749"),u=n("713097"),h=n.n(u),d=n("204467"),f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let p=e=>{let{size:t,current:n,initial:i,children:o,prefixCls:a,className:s,style:l,onChange:u}=e,d=f(e,["size","current","initial","children","prefixCls","className","style","onChange"]),p=(0,r.useMemo)(()=>{let e=r.Children.toArray(o).filter(e=>(0,r.isValidElement)(e)),t=e.length;return r.Children.map(e,(e,o)=>{if(!e)return null;let a=Object.assign({index:o,total:t},e.props);return a.active=o===n,a.onChange=u?()=>{o!==n&&u(o+i)}:void 0,(0,r.cloneElement)(e,Object.assign({},a))})},[o,a,n,t,i,u]),v=h()(s,{[`${a}-nav`]:!0,[`${a}-${t}`]:"default"!==t});return r.createElement("div",Object.assign({"aria-label":e["aria-label"],className:v,style:l},(0,c.Z)(d)),p)};p.propTypes={prefixCls:o().string,className:o().string,style:o().object,current:o().number,initial:o().number,size:o().oneOf(["small","default"])},p.defaultProps={prefixCls:d.v.PREFIX,current:0,direction:"horizontal",size:"default",initial:0,status:"process"};var v=n("670551"),g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class m extends r.Component{renderComponent(){let e=this.props,{type:t}=e,n=g(e,["type"]);switch(t){case"fill":return r.createElement(s.Z,Object.assign({},n));case"basic":return r.createElement(l.Z,Object.assign({},n));case"nav":return r.createElement(p,Object.assign({},n));default:return null}}render(){let{type:e}=this.props;return r.createElement(v.Z.Provider,{value:{type:e}},this.renderComponent())}}m.Step=a.Z,m.propTypes={onChange:o().func,type:o().oneOf(["fill","basic","nav"]),size:o().oneOf(["small","default"])},m.defaultProps={type:"fill",size:"default"};var y=m},681472:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}}),n(927234),n(429532);var r=n(479980),i=n.n(r),o=n(613063),a=n.n(o),s=n(645260),l=n.n(s),c=n(88648),u=n(201845),h=n.n(u),d=n(713097),f=n.n(d),p=n(764548),v=n(764854),g=n(393868),m=n(696991),y=n(996640),_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class b extends c.PureComponent{render(){let{record:e,columns:t=[],prefixCls:n,className:r,expanded:o,expandedRowRender:s,renderExpandIcon:u,index:h,store:d,components:g,style:b,virtualized:w,indentSize:S,cellWidths:E,displayNone:k}=this.props,{tableWidth:T,anyColumnFixed:x,getCellWidths:C}=this.context,I=s(e,h,o),O=null,A={},P={};if(i()(I))return null;if((0,c.isValidElement)(I))O=I;else if(I&&"[object Object]"===Object.prototype.toString.call(I)){let{children:e,fixed:t}=I,n=_(I,["children","fixed"]);O=e,P=Object.assign({},n)}l()(g,"body.cell")!==p.j2.DEFAULT_COMPONENTS.body.cell?(w&&a()(A,"style.height","100%"),a()(A,"style.display","block"),a()(A,"style.width",(0,v.iT)(E,0,t.length))):A.colSpan=(0,v.I2)(t).length;let R=[Object.assign({render:()=>({props:A,children:c.createElement("div",{className:f()(`${n}-expand-inner`),style:{width:x?(0,y.OG)(T):void 0}},O)})},P)],D=f()(r,`${n}-row-expand`),L=C(R);return c.createElement(m.Z,{style:b,components:g,className:D,expandedRow:!0,renderExpandIcon:u,rowKey:`${e.key}-expanded-row`,columns:R,store:d,virtualized:w,indentSize:S,cellWidths:L,displayNone:k})}}b.contextType=g.Z,b.propTypes={cellWidths:h().array.isRequired,className:h().string,columns:h().array,components:h().object,defaultExpandAllRows:h().bool,defaultExpandedRowKeys:h().array,expandIcon:h().oneOfType([h().object,h().node,h().func]),expandRowByClick:h().bool,expanded:h().bool,expandedRowKeys:h().array,expandedRowRender:h().func,indentSize:h().number,index:h().oneOfType([h().string,h().number]),onExpand:h().func,onExpandedRowsChange:h().func,prefixCls:h().string,record:h().object,renderExpandIcon:h().func,store:h().object,style:h().object,virtualized:h().oneOfType([h().bool,h().object])},b.defaultProps={record:{},prefixCls:p.UX.PREFIX}},68101:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(645260),i=n.n(r),o=n(88648),a=n(201845),s=n.n(a),l=n(713097),c=n.n(l),u=n(764548),h=n(764854);class d extends o.PureComponent{render(){let{columns:e,className:t,style:n,prefixCls:r,components:a}=this.props,s=i()(a,"colgroup.wrapper","colgroup"),l=i()(a,"colgroup.col","col"),u=(0,h.L8)(e).map((e,t)=>{let n={};return e.width&&(n.width=e.width,n.minWidth=n.width),o.createElement(l,{className:c()(`${r}-col`,e.className),key:e.key||e.dataIndex||t,style:n})}),d=c()(`${r}-colgroup`,t);return o.createElement(s,{className:d,style:n},u)}}d.propTypes={columns:s().array,prefixCls:s().string,className:s().string,style:s().object,components:s().object},d.defaultProps={columns:[],prefixCls:u.UX.PREFIX}},189273:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}}),n("429532");var r=n("96008"),i=n.n(r),o=n("88648"),a=n("201845"),s=n.n(a),l=n("713097"),c=n.n(l),u=n("153673");let h=(0,u.A)(function(e){return o.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),o.createElement("path",{d:"m6.45 8.34 4.8-5.48a1 1 0 0 1 1.5 0l4.8 5.48A1 1 0 0 1 16.8 10H7.2a1 1 0 0 1-.75-1.66Z",fill:"currentColor"}))},"caretup"),d=(0,u.A)(function(e){return o.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),o.createElement("path",{d:"m17.55 15.66-4.8 5.48a1 1 0 0 1-1.5 0l-4.8-5.48A1 1 0 0 1 7.2 14h9.6a1 1 0 0 1 .75 1.66Z",fill:"currentColor"}))},"caretdown");var f=n("764548"),p=n("343850"),v=n("794158"),g=n("996640"),m=n("657794");class y extends o.PureComponent{render(){let{prefixCls:e,onClick:t,sortOrder:n,style:r,title:i,sortIcon:a,showTooltip:s}=this.props,l="default",u=c()(`${e}-column-sorter-up`,{on:n===f.j2.SORT_DIRECTIONS["0"]}),y=c()(`${e}-column-sorter-down`,{on:n===f.j2.SORT_DIRECTIONS["1"]}),_={"aria-label":`Current sort order is ${n?`${n}ing`:"none"}`,"aria-roledescription":"Sort data with this column"};return o.createElement("div",Object.assign({role:"button"},_,{tabIndex:-1,className:`${e}-column-sorter-wrapper`,onClick:t,onKeyPress:e=>(0,v.Z)(e)&&t(e)}),i,(()=>{if("function"==typeof a)return a({sortOrder:n});{let t=o.createElement("div",{style:r,className:`${e}-column-sorter`},o.createElement("span",{className:`${u}`},o.createElement(h,{size:l})),o.createElement("span",{className:`${y}`},o.createElement(d,{size:l})));if(s){let e=(0,g.mC)(n);return o.createElement(m.Z,{componentName:"Table"},(n,r)=>o.createElement(p.Z,{content:n[e]},t))}return t}})())}}y.propTypes={className:s().string,style:s().object,onClick:s().func,prefixCls:s().string,sortOrder:s().oneOfType([s().string,s().bool]),sortIcon:s().func,showTooltip:s().bool},y.defaultProps={prefixCls:f.UX.PREFIX,onClick:i(),sortOrder:!1,showTooltip:!1}},616294:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(96008),i=n.n(r),o=n(88648),a=n(201845),s=n.n(a),l=n(154337),c=n(450779),u=n(75378),h=n(61820),d=n(764548),f=n(794158),p=n(834718);function v(e){let t;let{expanded:n,componentType:r,onClick:a=i(),onMouseEnter:s=i(),onMouseLeave:v=i(),expandIcon:g,prefixCls:m=d.UX.PREFIX,motion:y=!0}=e;t=o.isValidElement(g)?g:"function"==typeof g?g(n):"tree"===r?n&&!y?o.createElement(l.Z,{size:"small"}):o.createElement(c.Z,{size:"small"}):n&&!y?o.createElement(u.Z,null):o.createElement(h.Z,null);let _=(0,o.useCallback)(e=>{"function"==typeof a&&a(!n,e)},[n]);if(y){let e=t;t=o.createElement(p.Z,{animationState:n?"enter":"leave",startClassName:`${d.UX.PREFIX}-expandedIcon-${n?"show":"hide"}`},t=>{let{animationClassName:n}=t;return o.cloneElement(e,{className:(e.props.className||"")+" "+n})})}return o.createElement("span",{role:"button","aria-label":"Expand this row",tabIndex:-1,onClick:_,onMouseEnter:s,onMouseLeave:v,className:`${m}-expand-icon`,onKeyPress:e=>(0,f.Z)(e)&&_(e)},t)}v.propTypes={expanded:s().bool,componentType:s().oneOf(["tree","expand"]),onClick:s().func,onMouseEnter:s().func,onMouseLeave:s().func,expandIcon:s().oneOfType([s().node,s().func]),prefixCls:s().string,motion:s().bool},v.defaultProps={componentType:"expand",onClick:i(),onMouseEnter:i(),onMouseLeave:i(),prefixCls:d.UX.PREFIX}},305903:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}}),n(429532);var r=n(43715),i=n.n(r),o=n(88648),a=n(713097),s=n.n(a),l=n(201845),c=n.n(l),u=n(415317),h=n(706201),d=n(597773),f=n(68089);n(158345);var p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let v=u.U.PREFIX,g=u.j.TAG_COLOR,m=u.j.TAG_SIZE,y=u.j.TAG_TYPE,_=u.j.AVATAR_SHAPE;class b extends o.Component{static getDerivedStateFromProps(e){return"visible"in e?{visible:e.visible}:null}setVisible(e){!("visible"in this.props)&&this.setState({visible:e})}close(e,t,n){let{onClose:r}=this.props;if(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),r&&r(t,e,n),!e.defaultPrevented)this.setVisible(!1)}handleKeyDown(e){let{closable:t,onClick:n,onKeyDown:r}=this.props;switch(e.key){case"Backspace":case"Delete":t&&this.close(e,this.props.children,this.props.tagKey),(0,f.Jt)(e);break;case"Enter":n(e),(0,f.Jt)(e);break;case"Escape":e.target.blur()}r&&r(e)}renderAvatar(){let{avatarShape:e,avatarSrc:t}=this.props;return o.createElement(h.Z,{src:t,shape:e})}render(){let e=this.props,{tagKey:t,children:n,size:r,color:a,closable:l,visible:c,onClose:u,onClick:h,className:f,type:g,shape:m,avatarSrc:y,avatarShape:_,tabIndex:w,prefixIcon:S,suffixIcon:E}=e,k=p(e,["tagKey","children","size","color","closable","visible","onClose","onClick","className","type","shape","avatarSrc","avatarShape","tabIndex","prefixIcon","suffixIcon"]),{visible:T}=this.state,x=h!==b.defaultProps.onClick||l,C={role:"button",tabIndex:w||0,onKeyDown:this.handleKeyDown},I=Object.assign(Object.assign({},k),{onClick:h,tabIndex:w,className:s()(v,{[`${v}-default`]:"default"===r,[`${v}-small`]:"small"===r,[`${v}-large`]:"large"===r,[`${v}-square`]:"square"===m,[`${v}-circle`]:"circle"===m,[`${v}-${g}`]:g,[`${v}-${a}-${g}`]:a&&g,[`${v}-closable`]:l,[`${v}-invisible`]:!T,[`${v}-avatar-${_}`]:y},f)}),O=x?Object.assign(Object.assign({},I),C):I,A=l?o.createElement("div",{className:`${v}-close`,onClick:e=>this.close(e,n,t)},o.createElement(d.Z,{size:"small"})):null,P=i()(n),R=s()(`${v}-content`,`${v}-content-${P?"ellipsis":"center"}`);return o.createElement("div",Object.assign({"aria-label":this.props["aria-label"]||P?`${l?"Closable ":""}Tag: ${n}`:""},O),S?o.createElement("div",{className:`${v}-prefix-icon`},S):null,y?this.renderAvatar():null,o.createElement("div",{className:R},n),E?o.createElement("div",{className:`${v}-suffix-icon`},E):null,A)}constructor(e){super(e),this.state={visible:!0},this.close=this.close.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}}b.defaultProps={size:m[0],color:g[0],closable:!1,type:y[0],onClose:()=>void 0,onClick:()=>void 0,onMouseEnter:()=>void 0,style:{},className:"",shape:"square",avatarShape:"square",prefixIcon:null,suffixIcon:null},b.propTypes={children:c().node,tagKey:c().oneOfType([c().string,c().number]),size:c().oneOf(m),color:c().oneOf(g),type:c().oneOf(y),closable:c().bool,visible:c().bool,onClose:c().func,onClick:c().func,prefixIcon:c().node,suffixIcon:c().node,style:c().object,className:c().string,avatarSrc:c().string,avatarShape:c().oneOf(_),"aria-label":c().string}},400771:function(e,t,n){"use strict";n.d(t,{Z:function(){return G}}),n("429532"),n("250440"),n("874386");var r=n("866674"),i=n.n(r),o=n("300277"),a=n.n(o),s=n("479980"),l=n.n(s),c=n("419936"),u=n.n(c),h=n("43715"),d=n.n(h),f=n("96008"),p=n.n(f),v=n("88648"),g=n("713097"),m=n.n(g),y=n("201845"),_=n.n(y),b=n("873819");n("937340"),n("268917");var w=n("251526"),S=n.n(w),E=n("883520"),k=n("766309"),T=n("220006"),x=n("794158"),C=n("228858");class I extends E.Z{_handleAddTags(e){let{separator:t,max:n,onExceed:r,allowDuplicates:o}=this._adapter.getProps(),{inputValue:a,tagsArray:s}=this._adapter.getStates(),l=(0,T.Z)(a,t);l=l.filter((e,t)=>!(!o&&(s.includes(e)||l.indexOf(e)!==t))&&d()(e)&&""!==e.trim());let c=s.concat(l);S()(n)&&c.length>n&&(i()(r)&&r(c),c=c.slice(0,n),l=l.slice(0,n-s.length)),l.length>0&&this._onAdd(c,l),this._onInputChange("",e)}handleInputBlur(e){let{addOnBlur:t}=this._adapter.getProps();!0===t&&this._handleAddTags(e),this._adapter.setFocusing(!1),this._adapter.notifyBlur(e)}handleInputFocus(e){this._adapter.setFocusing(!0),this._adapter.notifyFocus(e)}handleClearEnterPress(e){(0,x.Z)(e)&&this.handleClearBtn(e)}handleClearBtn(e){let{inputValue:t,tagsArray:n}=this._adapter.getStates();n.length>0&&(this._adapter.setTagsArray([]),this._adapter.notifyTagChange([])),t.length>0&&this._onInputChange("",e),e.stopPropagation()}handleTagClose(e){let{tagsArray:t}=this._adapter.getStates(),n=[...t];n.splice(e,1);let r=t[e];this._onRemove(n,r,e)}handleInputMouseEnter(){this._adapter.setHovering(!0)}handleInputMouseLeave(){this._adapter.setHovering(!1)}handleClick(e){let{disabled:t}=this.getProps();if(!t)!this._adapter.getClickOutsideHandler()&&(this._adapter.setActive(!0),this._adapter.registerClickOutsideHandler(e=>this.clickOutsideCallBack()))}clickOutsideCallBack(){this._adapter.unregisterClickOutsideHandler(),this._adapter.setActive(!1)}handleClickPrefixOrSuffix(e){let{disabled:t}=this._adapter.getProps(),{isFocus:n}=this._adapter.getStates();!t&&!n&&this._adapter.toggleFocusing(!0)}handlePreventMouseDown(e){e&&i()(e.preventDefault)&&e.preventDefault()}_onRemove(e,t,n){!this._isControlledComponent()&&this._adapter.setTagsArray(e),this._adapter.notifyTagChange(e),this._adapter.notifyTagRemove(t,n)}_onAdd(e,t){!this._isControlledComponent()&&this._adapter.setTagsArray(e),this._adapter.notifyTagChange(e),this._adapter.notifyTagAdd(t)}_onInputChange(e,t){this._adapter.setInputValue(e),this._adapter.notifyInputChange(e,t)}handleSortEnd(e){let{oldIndex:t,newIndex:n}=e,{tagsArray:r}=this.getStates(),i=(0,C.Z)(r,t,n);!this._isControlledComponent()&&this._adapter.setTagsArray(i),this._adapter.notifyTagChange(i)}constructor(e){super(Object.assign({},e)),this.handleInputChange=e=>{let{value:t}=e.target,{entering:n}=this.getStates();n?this._onInputChange(t,e):this._checkInputChangeValid(t)&&this._onInputChange(t,e)},this.handleInputCompositionStart=e=>{let{maxLength:t}=this.getProps();if(!!S()(t))this._adapter.setEntering(!0)},this.handleInputCompositionEnd=e=>{let{value:t}=e.target,{maxLength:n,onInputExceed:r,separator:o}=this.getProps();if(!S()(n))return;this._adapter.setEntering(!1);let a=!0,s=(0,T.Z)(t,o),l=0;for(;l<s.length;l++)if(s[l].length>n){a=!1,i()(r)&&r(t);break}if(a)this._adapter.setInputValue(t);else{let e=s.slice(0,l);l<s.length&&e.push(s[l].slice(0,n)),this._adapter.setInputValue(e.join(o))}},this._checkInputChangeValid=e=>{let{maxLength:t,onInputExceed:n,separator:r}=this._adapter.getProps(),{inputValue:o}=this._adapter.getStates(),s=!0;if(S()(t)){let l=(0,T.Z)(e,r),c=(0,T.Z)(o,r),u=Math.max(l.length,c.length);for(let r=0;r<u;r++)if(!a()(l[r])&&(a()(c[r])||l[r].length>c[r].length)&&l[r].length>t){s=!1,i()(n)&&n(e);break}}return s},this.handleKeyDown=e=>{let{inputValue:t,tagsArray:n}=this._adapter.getStates(),r=e.keyCode;r===k.ZP.ENTER&&(e.preventDefault(),""!==t&&this._handleAddTags(e));let{length:i}=n;if(r===k.ZP.BACKSPACE&&""===t&&i>0){let e=n.slice(0,i-1),t=n[i-1];this._onRemove(e,t,i-1)}this._adapter.notifyKeyDown(e)}}}var O=n("98573"),A=n("705514"),P=n("305903"),R=n("906550"),D=n("483355"),L=n("818458"),M=n("712680"),z=n("541367"),N=n("135535"),j=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let B=b.U.PREFIX;function U(e){return v.createElement("div",Object.assign({className:`${B}-sortable-list`},e))}class F extends A.Z{static getDerivedStateFromProps(e,t){let n;let{value:r,inputValue:i}=e,{tagsArray:o}=t;return{tagsArray:n=u()(r)?r:"value"in e&&!r?[]:o,inputValue:d()(i)?i:t.inputValue}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setInputValue:e=>{this.setState({inputValue:e})},setTagsArray:e=>{this.setState({tagsArray:e})},setFocusing:e=>{this.setState({focusing:e})},toggleFocusing:e=>{let{preventScroll:t}=this.props,n=this.inputRef&&this.inputRef.current;e?n&&n.focus({preventScroll:t}):n&&n.blur(),this.setState({focusing:e})},setHovering:e=>{this.setState({hovering:e})},setActive:e=>{this.setState({active:e})},setEntering:e=>{this.setState({entering:e})},getClickOutsideHandler:()=>this.clickOutsideHandler,notifyBlur:e=>{this.props.onBlur(e)},notifyFocus:e=>{this.props.onFocus(e)},notifyInputChange:(e,t)=>{this.props.onInputChange(e,t)},notifyTagChange:e=>{this.props.onChange(e)},notifyTagAdd:e=>{this.props.onAdd(e)},notifyTagRemove:(e,t)=>{this.props.onRemove(e,t)},notifyKeyDown:e=>{this.props.onKeyDown(e)},registerClickOutsideHandler:e=>{let t=t=>{let n=this.tagInputRef&&this.tagInputRef.current,r=t.target,i=t.composedPath&&t.composedPath()||[r];n&&!n.contains(r)&&!i.includes(n)&&e(t)};this.clickOutsideHandler=t,document.addEventListener("click",t,!1)},unregisterClickOutsideHandler:()=>{document.removeEventListener("click",this.clickOutsideHandler,!1),this.clickOutsideHandler=null}})}componentDidMount(){let{disabled:e,autoFocus:t,preventScroll:n}=this.props;!e&&t&&(this.inputRef.current.focus({preventScroll:n}),this.foundation.handleClick()),this.foundation.init()}renderClearBtn(){let{hovering:e,tagsArray:t,inputValue:n}=this.state,{showClear:r,disabled:i,clearIcon:o}=this.props,a=m()(`${B}-clearBtn`,{[`${B}-clearBtn-invisible`]:!e||""===n&&0===t.length||i});return r?v.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear TagInput value",className:a,onClick:e=>this.handleClearBtn(e),onKeyPress:e=>this.handleClearEnterPress(e)},o||v.createElement(M.Z,null)):null}renderPrefix(){let{prefix:e,insetLabel:t,insetLabelId:n}=this.props,r=e||t;if(l()(r)||a()(r))return null;let i=m()(`${B}-prefix`,{[`${B}-inset-label`]:t,[`${B}-prefix-text`]:r&&d()(r),[`${B}-prefix-icon`]:(0,O.ID)(r)});return v.createElement("div",{className:i,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:n,"x-semi-prop":"prefix"},r)}renderSuffix(){let{suffix:e}=this.props;if(l()(e)||a()(e))return null;let t=m()(`${B}-suffix`,{[`${B}-suffix-text`]:e&&d()(e),[`${B}-suffix-icon`]:(0,O.ID)(e)});return v.createElement("div",{className:t,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},e)}renderTags(){let{disabled:e,maxTagCount:t,showRestTagsPopover:n,restTagsPopoverProps:r={},draggable:i,expandRestTagsOnClick:o}=this.props,{tagsArray:a,active:s}=this.state,l=m()(`${B}-wrapper-n`,{[`${B}-wrapper-n-disabled`]:e}),c=this.getAllTags(),u=[],h=[...c];(!s||!o)&&t&&t<c.length&&(h=c.slice(0,t),u=c.slice(t));let d=v.createElement("span",{className:l},"+",a.length-t),f=c.map((e,t)=>({item:e,key:a[t]}));return s&&i&&f.length>0?v.createElement(N.b,{items:a,onSortEnd:this.onSortEnd,renderItem:this.renderSortTag,container:U,prefix:B,transition:null,dragOverlayCls:`${B}-right-item-drag-item-move`}):v.createElement(v.Fragment,null,h,u.length>0&&(n?v.createElement(D.Z,Object.assign({content:u,showArrow:!0,trigger:"hover",position:"top",autoAdjustOverflow:!0},r),d):d))}blur(){this.inputRef.current.blur(),this.foundation.clickOutsideCallBack()}focus(){let{preventScroll:e,disabled:t}=this.props;this.inputRef.current.focus({preventScroll:e}),!t&&this.foundation.handleClick()}render(){let e=this.props,{size:t,style:n,className:r,disabled:i,placeholder:o,validateStatus:a,prefix:s,insetLabel:l,suffix:c}=e,u=j(e,["size","style","className","disabled","placeholder","validateStatus","prefix","insetLabel","suffix"]),{focusing:h,hovering:d,tagsArray:f,inputValue:p,active:g}=this.state,y=m()(B,r,{[`${B}-focus`]:h||g,[`${B}-disabled`]:i,[`${B}-hover`]:d&&!i,[`${B}-error`]:"error"===a,[`${B}-warning`]:"warning"===a,[`${B}-small`]:"small"===t,[`${B}-large`]:"large"===t,[`${B}-with-prefix`]:!!s||!!l,[`${B}-with-suffix`]:!!c}),_=m()(`${B}-wrapper-input`,`${B}-wrapper-input-${t}`),b=m()(`${B}-wrapper`);return v.createElement("div",Object.assign({ref:this.tagInputRef,style:n,className:y,"aria-disabled":i,"aria-label":this.props["aria-label"],"aria-invalid":"error"===a,onMouseEnter:e=>{this.handleInputMouseEnter(e)},onMouseLeave:e=>{this.handleInputMouseLeave(e)},onClick:e=>{this.handleClick(e)}},this.getDataAttr(u)),this.renderPrefix(),v.createElement("div",{className:b},this.renderTags(),v.createElement(R.Z,{"aria-label":"input value",ref:this.inputRef,className:_,disabled:i,value:p,size:t,placeholder:0===f.length?o:"",onKeyDown:e=>{this.handleKeyDown(e)},onChange:(e,t)=>{this.handleInputChange(t)},onBlur:e=>{this.handleInputBlur(e)},onFocus:e=>{this.handleInputFocus(e)},onCompositionStart:this.handleInputCompositionStart,onCompositionEnd:this.handleInputCompositionEnd})),this.renderClearBtn(),this.renderSuffix())}constructor(e){super(e),this.handleInputChange=e=>{this.foundation.handleInputChange(e)},this.handleKeyDown=e=>{this.foundation.handleKeyDown(e)},this.handleInputFocus=e=>{this.foundation.handleInputFocus(e)},this.handleInputBlur=e=>{this.foundation.handleInputBlur(e)},this.handleClearBtn=e=>{this.foundation.handleClearBtn(e)},this.handleClearEnterPress=e=>{this.foundation.handleClearEnterPress(e)},this.handleTagClose=e=>{this.foundation.handleTagClose(e)},this.handleInputMouseLeave=e=>{this.foundation.handleInputMouseLeave()},this.handleClick=e=>{this.foundation.handleClick(e)},this.handleInputMouseEnter=e=>{this.foundation.handleInputMouseEnter()},this.handleClickPrefixOrSuffix=e=>{this.foundation.handleClickPrefixOrSuffix(e)},this.handlePreventMouseDown=e=>{this.foundation.handlePreventMouseDown(e)},this.getAllTags=()=>{let{tagsArray:e}=this.state;return e.map((e,t)=>this.renderTag(e,t))},this.renderTag=(e,t,n)=>{let{size:r,disabled:o,renderTagItem:a,showContentTooltip:s,draggable:l}=this.props,{active:c}=this.state,u=c&&l,h=m()(`${B}-wrapper-tag`,{[`${B}-wrapper-tag-size-${r}`]:r,[`${B}-wrapper-tag-icon`]:u}),d=m()(`${B}-wrapper-typo`,{[`${B}-wrapper-typo-disabled`]:o}),f=m()({[`${B}-drag-item`]:u,[`${B}-wrapper-tag-icon`]:u}),p=n&&n(()=>v.createElement(z.Z,{className:`${B}-drag-handler`})),g=u?e:`${t}${e}`,y=()=>{o||this.handleTagClose(t)};return i()(a)?v.createElement("div",{className:f,key:g},u&&n?v.createElement(p,null):null,a(e,t,y)):v.createElement(P.Z,{className:h,color:"white",size:"small"===r?"small":"large",type:"light",onClose:y,closable:!o,key:g,visible:!0,"aria-label":`${o?"":"Closable "}Tag: ${e}`},u&&n?v.createElement(p,null):null,v.createElement(L.Z,{className:d,ellipsis:{showTooltip:s,rows:1}},e))},this.renderSortTag=e=>{let{id:t,sortableHandle:n}=e,{tagsArray:r}=this.state,i=r.indexOf(t);return this.renderTag(t,i,n)},this.onSortEnd=e=>{this.foundation.handleSortEnd(e)},this.handleInputCompositionStart=e=>{this.foundation.handleInputCompositionStart(e)},this.handleInputCompositionEnd=e=>{this.foundation.handleInputCompositionEnd(e)},this.foundation=new I(this.adapter),this.state={tagsArray:e.defaultValue||[],inputValue:"",focusing:!1,hovering:!1,active:!1,entering:!1},this.inputRef=v.createRef(),this.tagInputRef=v.createRef(),this.clickOutsideHandler=null}}F.propTypes={children:_().node,clearIcon:_().node,style:_().object,className:_().string,disabled:_().bool,allowDuplicates:_().bool,max:_().number,maxTagCount:_().number,maxLength:_().number,showRestTagsPopover:_().bool,restTagsPopoverProps:_().object,showContentTooltip:_().oneOfType([_().shape({type:_().string,opts:_().object}),_().bool]),defaultValue:_().array,value:_().array,inputValue:_().string,placeholder:_().string,separator:_().oneOfType([_().string,_().array]),showClear:_().bool,addOnBlur:_().bool,draggable:_().bool,expandRestTagsOnClick:_().bool,autoFocus:_().bool,renderTagItem:_().func,onBlur:_().func,onFocus:_().func,onChange:_().func,onInputChange:_().func,onExceed:_().func,onInputExceed:_().func,onAdd:_().func,onRemove:_().func,onKeyDown:_().func,size:_().oneOf(b.j.SIZE_SET),validateStatus:_().oneOf(b.j.STATUS),prefix:_().oneOfType([_().string,_().node]),suffix:_().oneOfType([_().string,_().node]),"aria-label":_().string,preventScroll:_().bool},F.defaultProps={showClear:!1,addOnBlur:!1,allowDuplicates:!0,showRestTagsPopover:!0,autoFocus:!1,draggable:!1,expandRestTagsOnClick:!0,showContentTooltip:!0,separator:",",size:"default",validateStatus:"default",onBlur:p(),onFocus:p(),onChange:p(),onInputChange:p(),onExceed:p(),onInputExceed:p(),onAdd:p(),onRemove:p(),onKeyDown:p()};var G=F},24363:function(e,t,n){"use strict";n(429532),n(284961),n(826893);var r=n(96008),i=n.n(r),o=n(88648),a=n(201845),s=n.n(a),l=n(38470),c=n(705514),u=n(708382),h=n(329067),d=n(131930),f=n(419216),p=n(657794);class v extends c.Z{componentDidUpdate(e,t){(e.timeStampValue!==this.props.timeStampValue||e.format!==this.props.format)&&this.setState(Object.assign({},this.foundation.initData()))}componentWillUnmount(){}componentDidMount(){}renderHourSelect(e,t){let n,r;let{prefixCls:i,disabledHours:a,use12Hours:s,scrollItemProps:l}=this.props,{showHour:c,hourOptions:u}=this.state;if(!c)return null;let h=a();s?(n=[12].concat(u.filter(e=>e<12&&e>0)),r=e%12||12):(n=u,r=e);let p=`${i}-list-hour`;return o.createElement(d.Z,Object.assign({ref:e=>this.cacheRefCurrent("hour",e),mode:"normal",transform:e=>e+t.hour,className:p,list:n.map(e=>(0,f.k)(e,h)),selectedIndex:n.indexOf(r),type:"hour",onSelect:this.onItemChange},l))}renderMinuteSelect(e,t){let{prefixCls:n,disabledMinutes:r,timeStampValue:i,scrollItemProps:a}=this.props,{showMinute:s,minuteOptions:l}=this.state;if(!s)return null;let c=new Date(i),u=r&&r(c.getHours()),h=`${n}-list-minute`;return o.createElement(d.Z,Object.assign({ref:e=>this.cacheRefCurrent("minute",e),mode:"normal",transform:e=>e+t.minute,list:l.map(e=>(0,f.k)(e,u)),selectedIndex:l.indexOf(e),type:"minute",onSelect:this.onItemChange,className:h},a))}renderSecondSelect(e,t){let{prefixCls:n,disabledSeconds:r,timeStampValue:i,scrollItemProps:a}=this.props,{showSecond:s,secondOptions:l}=this.state;if(!s)return null;let c=new Date(i),u=r&&r(c.getHours(),c.getMinutes()),h=`${n}-list-second`;return o.createElement(d.Z,Object.assign({ref:e=>this.cacheRefCurrent("second",e),mode:"normal",transform:e=>String(e)+t.second,list:l.map(e=>(0,f.k)(e,u)),selectedIndex:l.indexOf(e),className:h,type:"second",onSelect:this.onItemChange},a))}renderAMPMSelect(e,t){let{prefixCls:n,use12Hours:r,isAM:i,scrollItemProps:a}=this.props;if(!r)return null;let s=[{value:"AM",text:e.AM||"上午"},{value:"PM",text:e.PM||"下午"}],l=`${n}-list-ampm`;return o.createElement(d.Z,Object.assign({ref:e=>this.cacheRefCurrent("ampm",e),mode:"normal",className:l,list:s,selectedIndex:i?0:1,type:"ampm",onSelect:this.onItemChange},a))}render(){let{timeStampValue:e,panelHeader:t,panelFooter:n}=this.props,r=this.getDisplayDateFromTimeStamp(e);return o.createElement(p.Z,{componentName:"TimePicker"},(e,i)=>o.createElement(h.Z,{header:t,footer:n,"x-semi-header-alias":"panelHeader","x-semi-footer-alias":"panelFooter"},this.renderAMPMSelect(e,i),this.renderHourSelect(r.getHours(),e),this.renderMinuteSelect(r.getMinutes(),e),this.renderSecondSelect(r.getSeconds(),e)))}constructor(e){super(e),this.cacheRefCurrent=(e,t)=>{e&&"string"==typeof e&&this.adapter.setCache(e,t)},this.reselect=()=>{["ampm","hour","minute","second"].forEach(e=>{let t=this.adapter.getCache(e);t&&t.scrollToIndex&&t.scrollToIndex()})},this.onItemChange=e=>{let{type:t,value:n,disabled:r}=e,{onChange:i,use12Hours:o,isAM:a,format:s,timeStampValue:c}=this.props,u=this.foundation.getDisplayDateFromTimeStamp(c);if("hour"===t)o?a?u.setHours(Number(n)%12):u.setHours(Number(n)%12+12):u.setHours(Number(n));else if("minute"===t)u.setMinutes(Number(n));else if("ampm"===t){let e=n.toUpperCase();o&&("PM"===e&&(a=!1,12>u.getHours()&&u.setHours(u.getHours()%12+12)),"AM"===e&&(a=!0,u.getHours()>=12&&u.setHours(u.getHours()-12)))}else u.setSeconds(Number(n));i&&i({isAM:a,value:(0,l.Z)(u,s&&s.replace(/(\s+)A/g,"$1a")),timeStampValue:Number(u)})},this.onEnterSelectPanel=e=>{let{onCurrentSelectPanelChange:t}=this.props;t(e)},this.getDisplayDateFromTimeStamp=e=>this.foundation.getDisplayDateFromTimeStamp(e),this.foundation=new f.Z(this.adapter),this.state=Object.assign({},this.foundation.initData())}}v.propTypes={format:s().string,defaultOpenValue:s().object,prefixCls:s().string,onChange:s().func,showHour:s().bool,showMinute:s().bool,showSecond:s().bool,disabledHours:s().func,disabledMinutes:s().func,disabledSeconds:s().func,hideDisabledOptions:s().bool,onCurrentSelectPanelChange:s().func,use12Hours:s().bool,isAM:s().bool,timeStampValue:s().any,scrollItemProps:s().object},v.defaultProps={disabledHours:i(),disabledMinutes:i(),disabledSeconds:i(),format:u.j2.DEFAULT_FORMAT},t.Z=v},738786:function(e,t,n){"use strict";n.d(t,{l:function(){return o},z:function(){return a}});var r=n(201845),i=n.n(r);let o={panelHeader:i().oneOfType([i().node,i().string]),panelFooter:i().oneOfType([i().node,i().string])},a={}},918554:function(e,t,n){"use strict";n(429532);var r=n(96008),i=n.n(r),o=n(88648),a=n(713097),s=n.n(a),l=n(201845),c=n.n(l),u=n(826898),h=n(276204),d=n(787977),f=n(705514),p=n(313561),v=n(966379),g=n(655841),m=n(837056),y=n(508597),_=n(597773),b=n(98573);let w=d.UX.PREFIX;class S extends f.Z{get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyWrapperToRemove:e=>{this.props.close(e)},notifyClose:()=>{this.props.onClose()}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}close(e){this.foundation.close(e)}renderIcon(){let{type:e,icon:t}=this.props,n={warning:o.createElement(v.Z,null),success:o.createElement(g.Z,null),info:o.createElement(m.Z,null),error:o.createElement(y.Z,null)}[e],r="large",i=s()(`${w}-icon`,`${w}-icon-${e}`);return t?(0,b.ID)(t)?o.cloneElement(t,{size:r,className:`${w}-icon`}):t:e&&n?o.cloneElement(n,{size:r,className:i}):null}render(){let{content:e,type:t,theme:n,showClose:r,textMaxWidth:i,className:a,style:l}=this.props,c=this.props.direction||this.context.direction,u=s()(w,a,{[`${w}-${t}`]:!0,[`${w}-${n}`]:"light"===n,[`${w}-rtl`]:"rtl"===c}),h={};h.maxWidth=i;let d=this.props.positionInList?this.props.positionInList.length-this.props.positionInList.index-1:0,f=o.createElement("div",{ref:this.toastEle,role:"alert","aria-label":`${t||"default"} type`,className:u,style:Object.assign(Object.assign({},l),{transform:`translate3d(0,0,${-10*d}px)`}),onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onAnimationStart:this.props.onAnimationStart,onAnimationEnd:this.props.onAnimationEnd},o.createElement("div",{className:`${w}-content`},this.renderIcon(),o.createElement("span",{className:`${w}-content-text`,style:h,"x-semi-prop":"content"},e),r&&o.createElement("div",{className:`${w}-close-button`},o.createElement(p.Z,{onClick:e=>this.close(e),type:"tertiary",icon:o.createElement(_.Z,{"x-semi-prop":"icon"}),theme:"borderless",size:"small"}))));if(!this.props.stack)return f;{let e=this.props.stackExpanded&&this.toastEle.current&&getComputedStyle(this.toastEle.current).height||0;return o.createElement("div",{className:`${w}-zero-height-wrapper`,style:{height:e}},f)}}constructor(e){super(e),this.toastEle=o.createRef(),this.clearCloseTimer=()=>{this.foundation.clearCloseTimer_()},this.startCloseTimer=()=>{this.foundation.startCloseTimer_()},this.restartCloseTimer=()=>{this.foundation.restartCloseTimer()},this.state={},this.foundation=new h.Z(this.adapter)}}S.contextType=u.Z,S.propTypes={onClose:c().func,content:c().node,close:c().func,duration:c().number,theme:c().oneOf(d.j2.themes),type:c().oneOf(d.j2.types),textMaxWidth:c().oneOfType([c().string,c().number]),style:c().object,className:c().string,showClose:c().bool,stack:c().bool,stackExpanded:c().bool,icon:c().node,direction:c().oneOf(d.j2.directions)},S.__SemiComponentName__="Toast",S.defaultProps=(0,b.GW)(S.__SemiComponentName__,{onClose:i(),content:"",close:i(),duration:d.KT.duration,textMaxWidth:450,showClose:!0,stack:!1,stackExpanded:!1,theme:"normal"}),t.Z=S},167935:function(e,t,n){"use strict";n(250440),n(874386),n(429532),n(179133),n(826893),n(284961),n(268917);var r=n(419936),i=n.n(r),o=n(23902),a=n.n(o),s=n(633364),l=n.n(s),c=n(96008),u=n.n(c),h=n(207813),d=n.n(h),f=n(88648),p=n(713097),v=n.n(p),g=n(201845),m=n.n(g),y=n(45501),_=n(366690),b=n(511900);n(747678);var w=n(705514),S=n(657794),E=n(619835),k=n(906550),T=n(904542),x=n(518593),C=n(208171),I=n(819009),O=n(541367),A=n(597773),P=n(135535),R=n(211284),D=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let L=b.UX.PREFIX;class M extends w.Z{static getDerivedStateFromProps(e,t){let{value:n,dataSource:r,type:i,filter:o}=e,s={},l=t.data,c=t.selectedItems;if(r&&Array.isArray(r)&&(l=(0,_.$6)(r,i),s.data=l),n&&Array.isArray(n)&&(c=(0,_.Hb)(n,l),s.selectedItems=c),!d()(t.data,l)&&"string"==typeof t.inputValue&&""!==t.inputValue){let e="function"==typeof o?e=>o(t.inputValue,e):e=>"string"==typeof e.label&&e.label.includes(t.inputValue),n=new Set(l.filter(e).map(e=>e.key));s.searchResult=n}return a()(s)?null:s}get adapter(){return Object.assign(Object.assign({},super.adapter),{getSelected:()=>new Map(this.state.selectedItems),updateSelected:e=>{this.setState({selectedItems:e})},notifyChange:(e,t)=>{this.props.onChange(e,t)},notifySearch:e=>{this.props.onSearch(e)},notifySelect:e=>{this.props.onSelect(e)},notifyDeselect:e=>{this.props.onDeselect(e)},updateInput:e=>{this.setState({inputValue:e})},updateSearchResult:e=>{this.setState({searchResult:e})},searchTree:e=>{this._treeRef&&this._treeRef.search(e)}})}onInputChange(e){this.foundation.handleInputChange(e,!0)}search(e){this.foundation.handleInputChange(e,!1)}onSelectOrRemove(e){this.foundation.handleSelectOrRemove(e)}onSortEnd(e){this.foundation.handleSortEnd(e)}renderFilter(e){let{inputProps:t,filter:n,disabled:r}=this.props;return"boolean"!=typeof n||n?f.createElement("div",{role:"search","aria-label":"Transfer filter",className:`${L}-filter`},f.createElement(k.Z,Object.assign({prefix:f.createElement(I.Z,null),placeholder:e.placeholder,showClear:!0,value:this.state.inputValue,disabled:r,onChange:this.onInputChange},t))):null}renderHeader(e){let{disabled:t,renderSourceHeader:n,renderSelectedHeader:r}=this.props,{totalContent:i,allContent:o,onAllClick:a,type:s,showButton:l}=e,c=v()({[`${L}-header`]:!0,[`${L}-right-header`]:"right"===s,[`${L}-left-header`]:"left"===s});if("left"===s&&"function"==typeof n){let{num:t,showButton:r,allChecked:i,onAllClick:o}=e;return n({num:t,showButton:r,allChecked:i,onAllClick:o})}if("right"===s&&"function"==typeof r){let{num:t,showButton:n,onAllClick:i}=e;return r({num:t,showButton:n,onClear:i})}return f.createElement("div",{className:c},f.createElement("span",{className:`${L}-header-total`},i),l?f.createElement(x.Z,{theme:"borderless",disabled:t,type:"tertiary",size:"small",className:`${L}-header-all`,onClick:a},o):null)}renderLeftItem(e,t){let{renderSourceItem:n,disabled:r}=this.props,{selectedItems:i}=this.state,o=i.has(e.key);if(n)return n(Object.assign(Object.assign({},e),{checked:o,onChange:()=>this.onSelectOrRemove(e)}));let a=v()({[`${L}-item`]:!0,[`${L}-item-disabled`]:e.disabled});return f.createElement(E.Z,{key:t,disabled:e.disabled||r,className:a,checked:o,role:"listitem",onChange:()=>this.onSelectOrRemove(e),"x-semi-children-alias":`dataSource[${t}].label`},e.label)}renderLeft(e){let{data:t,selectedItems:n,inputValue:r,searchResult:i}=this.state,{loading:o,type:a,emptyContent:s,renderSourcePanel:l,dataSource:c}=this.props,u=e.total,h=""!==r,d=h?i.size:t.length,p=h?t.filter(e=>i.has(e.key)):t,v=!0,g=!!p.find(e=>!e.disabled&&(v&&(v=!1),!n.has(e.key))),m={totalContent:u.replace("${total}",`${d}`),allContent:g?e.selectAll:e.clearSelectAll,onAllClick:()=>this.foundation.handleAll(g),type:"left",showButton:a!==b.j2.TYPE_TREE_TO_LIST&&!v,num:d,allChecked:!g},y=this.renderFilter(e),_=this.renderHeader(m),w=h&&0===i.size,S=s.search?s.search:e.emptySearch,E=s.left?s.left:e.emptyLeft,k=this.renderEmpty("left",E),x=this.renderEmpty("left",S),C=f.createElement(T.Z,null),I=null;switch(!0){case o:I=C;break;case w:I=x;break;case 0===t.length:I=k;break;case a===b.j2.TYPE_TREE_TO_LIST:I=f.createElement(f.Fragment,null,_,this.renderLeftTree());break;case!w&&(a===b.j2.TYPE_LIST||a===b.j2.TYPE_GROUP_LIST):I=f.createElement(f.Fragment,null,_,this.renderLeftList(p));break;default:I=null}let{values:O}=this.foundation.getValuesAndItemsFromMap(n),A={loading:o,noMatch:w,filterData:p,sourceData:t,propsDataSource:c,allChecked:!g,showNumber:d,inputValue:r,selectedItems:n,value:O,onSelect:this.foundation.handleSelect.bind(this.foundation),onAllClick:()=>this.foundation.handleAll(g),onSearch:this.onInputChange,onSelectOrRemove:e=>this.onSelectOrRemove(e)};return l?l(A):f.createElement("section",{className:`${L}-left`},y,I)}renderGroupTitle(e,t){let n=v()(`${L}-group-title`);return f.createElement("div",{className:n,key:`title-${t}`},e.title)}renderLeftTree(){let{selectedItems:e}=this.state,{disabled:t,dataSource:n,treeProps:r}=this.props,{values:i}=this.foundation.getValuesAndItemsFromMap(e),o=l()(r,["value","ref","onChange"]);return f.createElement(C.Z,Object.assign({disabled:t,treeData:n,multiple:!0,disableStrictly:!0,value:i,defaultExpandAll:!0,leafOnly:!0,ref:e=>this._treeRef=e,filterTreeNode:!0,searchRender:!1,searchStyle:{padding:0},style:{flex:1,overflow:"overlay"},onChange:e=>{this.foundation.handleSelect(e)}},o))}renderLeftList(e){let t=[],n=new Map;return e.forEach((e,r)=>{let i=e._parent,o=this.renderLeftItem(e,r);if(i&&n.has(i.title))t.push(o);else if(i){let e=this.renderGroupTitle(i,r);n.set(i.title,!0),t.push(e),t.push(o)}else t.push(o)}),f.createElement("div",{className:`${L}-left-list`,role:"list","aria-label":"Option list"},t)}renderEmpty(e,t){let n=v()({[`${L}-empty`]:!0,[`${L}-right-empty`]:"right"===e,[`${L}-left-empty`]:"left"===e});return f.createElement("div",{"aria-label":"empty",className:n},t)}renderRightSortableList(e){let t=e.map(e=>e.key);return f.createElement(P.b,{strategy:R.qw,onSortEnd:this.onSortEnd,items:t,renderItem:this.renderSortItem,prefix:`${L}-right-item`,dragOverlayCls:`${L}-right-item-drag-item-move`})}renderRight(e){let{selectedItems:t}=this.state,{emptyContent:n,renderSelectedPanel:r,draggable:i}=this.props,o=[...t.values()],a={length:o.length,selectedData:o,onClear:()=>this.foundation.handleClear(),onRemove:e=>this.foundation.handleSelectOrRemove(e),onSortEnd:e=>this.onSortEnd(e)};if(r)return r(a);let s=e.selected.replace("${total}",`${o.length}`),l=-1!==o.findIndex(e=>!e.disabled),c={totalContent:s,allContent:e.clear,onAllClick:()=>this.foundation.handleClear(),type:"right",showButton:!!o.length&&l,num:o.length},u=this.renderHeader(c),h=this.renderEmpty("right",n.right?n.right:e.emptyRight),d=`${L}-right`,p=null;switch(!0){case!o.length:p=h;break;case o.length&&!i:p=f.createElement("div",{className:`${L}-right-list`,role:"list","aria-label":"Selected list"},o.map(e=>this.renderRightItem(Object.assign({},e))));break;case o.length&&i:p=this.renderRightSortableList(o)}return f.createElement("section",{className:d},u,p)}render(){let e=this.props,{className:t,style:n,disabled:r,renderSelectedPanel:i,renderSourcePanel:o}=e,a=D(e,["className","style","disabled","renderSelectedPanel","renderSourcePanel"]),s=v()(L,t,{[`${L}-disabled`]:r,[`${L}-custom-panel`]:i&&o});return f.createElement(S.Z,{componentName:"Transfer"},e=>f.createElement("div",Object.assign({className:s,style:n},this.getDataAttr(a)),this.renderLeft(e),this.renderRight(e)))}constructor(e){super(e),this._treeRef=null,this.renderRightItem=(e,t)=>{let{renderSelectedItem:n,draggable:r,type:i,showPath:o}=this.props,a=()=>this.foundation.handleSelectOrRemove(e),s=v()({[`${L}-item`]:!0,[`${L}-right-item`]:!0,[`${L}-right-item-draggable`]:r}),l=i===b.j2.TYPE_TREE_TO_LIST&&!0===o?this.foundation._generatePath(e):e.label;if(n)return n(Object.assign(Object.assign({},e),{onRemove:a,sortableHandle:t}));let c=t&&t(()=>f.createElement(O.Z,{role:"button","aria-label":"Drag and sort",className:`${L}-right-item-drag-handler`}));return f.createElement("div",{role:"listitem",className:s,key:e.key},r&&t?f.createElement(c,null):null,f.createElement("div",{className:`${L}-right-item-text`},l),f.createElement(A.Z,{onClick:a,"aria-disabled":e.disabled,className:v()(`${L}-item-close-icon`,{[`${L}-item-close-icon-disabled`]:e.disabled})}))},this.renderSortItem=e=>{let{id:t,sortableHandle:n}=e,{selectedItems:r}=this.state,i=[...r.values()].find(e=>e.key===t);return this.renderRightItem(i,n)};let{defaultValue:t=[],dataSource:n,type:r}=e;this.foundation=new y.Z(this.adapter),this.state={data:[],selectedItems:new Map,searchResult:new Set,inputValue:""},n&&i()(n)&&(this.state.data=(0,_.$6)(n,r)),t&&i()(t)&&(this.state.selectedItems=(0,_.Hb)(t,this.state.data)),this.onSelectOrRemove=this.onSelectOrRemove.bind(this),this.onInputChange=this.onInputChange.bind(this),this.onSortEnd=this.onSortEnd.bind(this)}}M.propTypes={style:m().object,className:m().string,disabled:m().bool,dataSource:m().array,filter:m().oneOfType([m().func,m().bool]),onSearch:m().func,inputProps:m().object,value:m().array,defaultValue:m().array,onChange:m().func,onSelect:m().func,onDeselect:m().func,renderSourceItem:m().func,renderSelectedItem:m().func,loading:m().bool,type:m().oneOf(["list","groupList","treeList"]),treeProps:m().object,showPath:m().bool,emptyContent:m().shape({search:m().node,left:m().node,right:m().node}),renderSourcePanel:m().func,renderSelectedPanel:m().func,draggable:m().bool},M.defaultProps={type:b.j2.TYPE_LIST,dataSource:[],onSearch:u(),onChange:u(),onSelect:u(),onDeselect:u(),onClear:u(),defaultValue:[],emptyContent:{},showPath:!1},t.Z=M},234927:function(e,t,n){"use strict";n(429532);var r=n(88648),i=n(201845),o=n.n(i),a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class s extends r.PureComponent{render(){let e=this.props,{triggerRender:t,componentName:n}=e;return t(Object.assign({},a(e,["triggerRender","componentName"])))}}s.propTypes={triggerRender:o().func.isRequired,componentName:o().string,componentProps:o().object,value:o().any,inputValue:o().string,placeholder:o().oneOfType([o().string,o().array]),className:o().string,style:o().object},t.Z=s},818458:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}}),n(429532);var r=n(88648),i=n(201845),o=n.n(i),a=n(713097),s=n.n(a),l=n(575005),c=n(199654);let u=l.U.PREFIX;class h extends r.PureComponent{render(){let{className:e}=this.props,t=s()(e,`${u}-paragraph`);return r.createElement(c.Z,Object.assign({component:"p"},this.props,{className:t}))}}h.propTypes={copyable:o().oneOfType([o().object,o().bool]),delete:o().bool,disabled:o().bool,ellipsis:o().oneOfType([o().object,o().bool]),mark:o().bool,link:o().oneOfType([o().object,o().bool]),underline:o().bool,strong:o().bool,type:o().oneOf(l.j.TYPE),size:o().oneOf(l.j.SIZE),spacing:o().oneOf(l.j.SPACING),style:o().object,className:o().string,component:o().string},h.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",size:"normal",spacing:"normal",style:{},className:""}},196952:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}}),n("429532");var r=n("88648"),i=n("713097"),o=n.n(i),a=n("705514"),s=n("236050"),l=n("794924");n("31277");var c=n("540818"),u=n("512666"),h=n("868750"),d=n("153673");let f=(0,d.A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 3a1.25 1.25 0 0 0-2.42-.44L1.83 20.3A1.25 1.25 0 0 0 3 22h6.75c.69 0 1.25-.56 1.25-1.25V3ZM8.5 19.5H4.81L8.5 9.8v9.7Z",fill:"currentColor"}),r.createElement("path",{d:"M14.02 1.77C13.43 1.88 13 2.4 13 3v17.75c0 .69.56 1.25 1.25 1.25H21a1.25 1.25 0 0 0 1.17-1.7L15.42 2.57c-.22-.57-.8-.9-1.4-.79Z",fill:"currentColor"}))},"flip_horizontal");var p=n("386003");let v=(0,d.A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 3.5c0-.83.67-1.5 1.5-1.5h3A3.5 3.5 0 0 1 22 5.5v3a1.5 1.5 0 0 1-3 0v-3a.5.5 0 0 0-.5-.5h-3A1.5 1.5 0 0 1 14 3.5Zm-12 2A3.5 3.5 0 0 1 5.5 2h3a1.5 1.5 0 1 1 0 3h-3a.5.5 0 0 0-.5.5v3a1.5 1.5 0 1 1-3 0v-3ZM3.5 14c.83 0 1.5.67 1.5 1.5v3c0 .28.22.5.5.5h3a1.5 1.5 0 0 1 0 3h-3A3.5 3.5 0 0 1 2 18.5v-3c0-.83.67-1.5 1.5-1.5Zm17 0c.83 0 1.5.67 1.5 1.5v3a3.5 3.5 0 0 1-3.5 3.5h-3a1.5 1.5 0 0 1 0-3h3a.5.5 0 0 0 .5-.5v-3c0-.83.67-1.5 1.5-1.5Z",fill:"currentColor"}))},"maximize");var g=n("7960"),m=n("537015"),y=n("429242"),_=n("843466"),b=n("325545"),w=n("518593"),S=n("483355"),E=n("140561"),k=n("143690"),T=n("826397"),x=n("492519"),C=n("101108"),I=n("657794"),O=n("568838");let A=s.UX.PREFIX;class P extends a.Z{get adapter(){return Object.assign(Object.assign({},super.adapter),{getVideo:()=>this.videoRef.current,getVideoWrapper:()=>this.videoWrapperRef.current,notifyPause:()=>{var e,t;return null===(t=(e=this.props).onPause)||void 0===t?void 0:t.call(e)},notifyPlay:()=>{var e,t;return null===(t=(e=this.props).onPlay)||void 0===t?void 0:t.call(e)},notifyQualityChange:e=>{var t,n;return null===(n=(t=this.props).onQualityChange)||void 0===n?void 0:n.call(t,e)},notifyRateChange:e=>{var t,n;return null===(n=(t=this.props).onRateChange)||void 0===n?void 0:n.call(t,e)},notifyRouteChange:e=>{var t,n;return null===(n=(t=this.props).onRouteChange)||void 0===n?void 0:n.call(t,e)},notifyVolumeChange:e=>{var t,n;return null===(n=(t=this.props).onVolumeChange)||void 0===n?void 0:n.call(t,e)},setBufferedValue:e=>this.setState({bufferedValue:e}),setCurrentTime:e=>this.setState({currentTime:e}),setIsError:e=>this.setState({isError:e}),setIsMirror:e=>this.setState({isMirror:e}),setIsPlaying:e=>this.setState({isPlaying:e}),setMuted:e=>this.setState({muted:e}),setNotificationContent:e=>this.setState({notificationContent:e}),setPlaybackRate:e=>this.setState({playbackRate:e}),setQuality:e=>this.setState({currentQuality:e}),setRoute:e=>this.setState({currentRoute:e}),setShowControls:e=>this.setState({showControls:e}),setShowNotification:e=>this.setState({showNotification:e}),setTotalTime:e=>this.setState({totalTime:e}),setVolume:e=>this.setState({volume:e})})}static getDerivedStateFromProps(e,t){let n={};return!(0,C.Z)(e.src)&&e.src!==t.src&&(n.src=e.src),n}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){let{markers:e,qualityList:t,routeList:n,width:i,height:a,autoPlay:l,style:d,className:m,loop:y,captionsSrc:_,crossOrigin:b,theme:w}=this.props,{isPlaying:S,playbackRate:E,playbackRateList:k,isMirror:x,currentTime:C,totalTime:O,currentQuality:P,currentRoute:R,src:D,bufferedValue:L,showControls:M}=this.state;return r.createElement(I.Z,{componentName:"VideoPlayer"},I=>r.createElement("div",{className:o()(`${A}`,m,{[`${A}-mirror`]:x}),style:Object.assign({width:i,height:a},d),ref:this.videoWrapperRef,onMouseEnter:this.handleMouseEnterWrapper,onMouseLeave:this.handleMouseLeaveWrapper},r.createElement("div",{className:o()(`${A}-wrapper`,{[`${s.UX.PREFIX}-wrapper-${w}`]:w})},r.createElement("video",{ref:this.videoRef,autoPlay:l,loop:y,controls:!1,crossOrigin:b,src:D,onTimeUpdate:this.handleTimeUpdate,onDurationChange:this.handleDurationChange,onClick:()=>{this.foundation.handlePlayOrPause()},onError:this.handleError,onCanPlay:this.handleCanPlay,onWaiting:()=>this.handleWaiting(I),onStalled:()=>this.handleStalled(I),onProgress:this.handleProgress,onEnded:this.handleEnded},r.createElement("track",{kind:"captions",src:_})),this.isResourceNotFound()&&this.renderResourceNotFound(I)),this.renderPoster(),this.renderPauseIcon(),this.renderError(I),this.renderNotification(),r.createElement("div",{className:o()(`${s.UX.PREFIX_CONTROLS}`,{[`${s.UX.PREFIX_CONTROLS}-hide`]:!M})},r.createElement(T.Z,{key:O,value:C,max:O,onChange:this.handleTimeChange,markers:e,bufferedValue:L}),r.createElement("div",{className:o()(`${s.UX.PREFIX_CONTROLS}-menu`)},r.createElement("div",{className:o()(`${s.UX.PREFIX_CONTROLS}-menu-left`)},this.renderIconButton(S?r.createElement(c.Z,null):r.createElement(u.Z,null),S?this.handlePause:this.handlePlay,s.j2.PLAY),this.renderIconButton(r.createElement(h.Z,{rotate:180}),S?this.handlePause:this.handlePlay,s.j2.NEXT),this.renderTime(),this.renderVolume(),this.renderDropdownButton(E,k,this.handleRateChange,s.j2.PLAYBACK_RATE,I)),r.createElement("div",{className:o()(`${s.UX.PREFIX_CONTROLS}-menu-right`)},t&&t.length>0&&this.renderDropdownButton(P,t,this.handleQualityChange,s.j2.QUALITY,I),n&&n.length>0&&this.renderDropdownButton(R,n,this.handleRouteChange,s.j2.ROUTE,I),this.renderIconButton(r.createElement(f,null),()=>this.handleMirror(I),s.j2.MIRROR),this.renderIconButton(this.foundation.checkFullScreen()?r.createElement(p.Z,null):r.createElement(v,null),this.handleFullscreen,s.j2.FULLSCREEN),this.renderIconButton(r.createElement(g.Z,null),this.handlePictureInPicture,s.j2.PICTURE_IN_PICTURE))))))}constructor(e){super(e),this.handleMouseEnterWrapper=()=>{this.foundation.handleMouseEnterWrapper()},this.handleMouseLeaveWrapper=()=>{this.foundation.handleMouseLeaveWrapper()},this.handleTimeChange=e=>{this.foundation.handleTimeChange(e)},this.handleTimeUpdate=()=>{this.foundation.handleTimeUpdate()},this.handleError=()=>{this.foundation.handleError()},this.handlePlay=()=>{this.foundation.handlePlay()},this.handlePause=()=>{this.foundation.handlePause()},this.handleCanPlay=()=>{this.foundation.handleCanPlay()},this.handleWaiting=e=>{this.foundation.handleWaiting(e)},this.handleStalled=e=>{this.foundation.handleStalled(e)},this.handleProgress=()=>{this.foundation.handleProgress()},this.handleEnded=()=>{this.foundation.handleEnded()},this.handleDurationChange=()=>{this.foundation.handleDurationChange()},this.handleVolumeChange=e=>{this.foundation.handleVolumeChange(e)},this.handleVolumeSilent=()=>{this.foundation.handleVolumeSilent()},this.handleRateChange=(e,t)=>{this.foundation.handleRateChange(e,t)},this.handleQualityChange=(e,t)=>{this.foundation.handleQualityChange(e,t)},this.handleRouteChange=(e,t)=>{this.foundation.handleRouteChange(e,t)},this.handleMirror=e=>{this.foundation.handleMirror(e)},this.handleFullscreen=()=>{this.foundation.handleFullscreen()},this.handlePictureInPicture=()=>{this.foundation.handlePictureInPicture()},this.getVolumeIcon=()=>{let{volume:e,muted:t}=this.state;return t?r.createElement(m.Z,null):e<50?r.createElement(y.Z,null):r.createElement(_.Z,null)},this.isResourceNotFound=()=>{let{src:e}=this.props;return(0,C.Z)(e)},this.renderTime=()=>{let{currentTime:e,totalTime:t}=this.state;return this.foundation.shouldShowControlItem(s.j2.TIME)?r.createElement("div",{className:o()(`${s.UX.PREFIX_CONTROLS}-time`)},(0,x.m)(e)," / ",(0,x.m)(t)):null},this.renderResourceNotFound=e=>r.createElement("div",{className:o()(`${A}-resource-not-found`)},e.noResource),this.renderPauseIcon=()=>{let{isPlaying:e,isError:t}=this.state;return e||t?null:r.createElement("div",{className:o()(`${A}-pause`)},r.createElement(b.Z,null))},this.renderError=e=>{let{isError:t}=this.state,{theme:n}=this.props;return t?r.createElement("div",{className:o()(`${A}-error`,{[`${A}-error-${n}`]:n})},r.createElement("div",{className:o()(`${A}-error-svg`)},r.createElement(O.Z,null)),e.videoError):null},this.renderPoster=()=>{let{poster:e}=this.props,{isPlaying:t,currentTime:n,totalTime:i}=this.state;return!t&&e?r.createElement("img",{className:o()(`${A}-poster`,{[`${A}-poster-hide`]:n>0&&n<i}),src:e,alt:"poster"}):null},this.renderNotification=()=>{let{showNotification:e,notificationContent:t}=this.state;return e&&t?r.createElement("div",{className:o()(`${A}-notification`)},this.state.notificationContent):null},this.renderVolume=()=>{let{volume:e,muted:t}=this.state;return this.foundation.shouldShowControlItem(s.j2.VOLUME)?r.createElement(S.Z,{autoAdjustOverflow:!0,position:"top",className:o()(`${s.UX.PREFIX_CONTROLS}-popover`),content:r.createElement("div",{className:o()(`${s.UX.PREFIX_CONTROLS}-volume`)},r.createElement("div",{className:o()(`${s.UX.PREFIX_CONTROLS}-volume-title`)},t?0:e,"%"),r.createElement(E.Z,{value:t?0:e,max:100,vertical:!0,height:120,showTooltip:!1,onChange:this.handleVolumeChange}))},r.createElement(w.Z,{className:o()(`${s.UX.PREFIX_CONTROLS}-menu-item`,`${s.UX.PREFIX_CONTROLS}-menu-button`),theme:"borderless",icon:this.getVolumeIcon(),onClick:this.handleVolumeSilent})):null},this.renderIconButton=(e,t,n)=>this.foundation.shouldShowControlItem(n)?r.createElement(w.Z,{theme:"borderless",className:o()(`${s.UX.PREFIX_CONTROLS}-menu-item`,`${s.UX.PREFIX_CONTROLS}-menu-button`),icon:e,onClick:t}):null,this.renderDropdownButton=(e,t,n,i,a)=>{var l;return this.foundation.shouldShowControlItem(i)?r.createElement(k.Z,{position:"top",className:o()(`${s.UX.PREFIX_CONTROLS}-popup-menu`),render:r.createElement(k.Z.Menu,null,t.map(t=>r.createElement(k.Z.Item,{className:o()(`${s.UX.PREFIX_CONTROLS}-popup-menu-item`),key:t.value,onClick:()=>n(t,a),active:t.value===e},t.label))),onChange:e=>n(e,a)},r.createElement("div",{className:o()(`${s.UX.PREFIX_CONTROLS}-menu-item`,`${s.UX.PREFIX_CONTROLS}-popup`)},null===(l=t.find(t=>t.value===e))||void 0===l?void 0:l.label)):null},this.state={bufferedValue:0,currentQuality:e.defaultQuality||"",currentRoute:e.defaultRoute||"",currentTime:0,isError:!1,isMirror:!1,isPlaying:!1,muted:e.muted,notificationContent:"",playbackRate:e.defaultPlaybackRate||1,playbackRateList:e.playbackRateList,showNotification:!1,showControls:!0,src:e.src||"",totalTime:0,volume:e.muted?0:e.volume},this.videoRef=r.createRef(),this.videoWrapperRef=r.createRef(),this.foundation=new l.Z(this.adapter)}}P.defaultProps={autoPlay:!1,clickToPlay:!0,defaultPlaybackRate:s.KT.DEFAULT_PLAYBACK_RATE,controlsList:[s.j2.PLAY,s.j2.NEXT,s.j2.TIME,s.j2.VOLUME,s.j2.PLAYBACK_RATE,s.j2.QUALITY,s.j2.ROUTE,s.j2.MIRROR,s.j2.FULLSCREEN,s.j2.PICTURE_IN_PICTURE],loop:!1,muted:!1,playbackRateList:s.mw,seekTime:s.KT.DEFAULT_SEEK_TIME,theme:s.j2.DARK,volume:s.KT.DEFAULT_VOLUME};var R=P},134065:function(e,t,n){"use strict";n(675373),Promise.all([n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("6593"),n.e("27269"),n.e("86594")]).then(n.bind(n,25616))},880225:function(e,t,n){"use strict";n(675373),n.e("36049").then(n.bind(n,556176)),n.e("36049").then(n.bind(n,522573)),n.e("36049").then(n.bind(n,459609)),n.e("36049").then(n.bind(n,893065)),n.e("36049").then(n.bind(n,327984)),n.e("36049").then(n.bind(n,487935)),n.e("36049").then(n.bind(n,316102)),n.e("36049").then(n.bind(n,836271)),n.e("36049").then(n.bind(n,428001)),n.e("36049").then(n.bind(n,861515)),n.e("36049").then(n.bind(n,811409)),n.e("36049").then(n.bind(n,192673)),n.e("36049").then(n.bind(n,404521)),n.e("36049").then(n.bind(n,130266)),n.e("36049").then(n.bind(n,284858)),n.e("36049").then(n.bind(n,216851)),n.e("36049").then(n.bind(n,400986)),n.e("36049").then(n.bind(n,439036)),n.e("36049").then(n.bind(n,598643)),n.e("36049").then(n.bind(n,492017)),n.e("36049").then(n.bind(n,274934)),n.e("36049").then(n.bind(n,865190)),n.e("36049").then(n.bind(n,321374)),n.e("36049").then(n.bind(n,141835)),n.e("36049").then(n.bind(n,728807)),n.e("36049").then(n.bind(n,193781)),n.e("36049").then(n.bind(n,37594)),n.e("36049").then(n.bind(n,931176)),n.e("36049").then(n.bind(n,804850)),n.e("36049").then(n.bind(n,741748)),n.e("36049").then(n.bind(n,19434)),n.e("36049").then(n.bind(n,786460)),n.e("36049").then(n.bind(n,377001)),n.e("36049").then(n.bind(n,836507)),n.e("36049").then(n.bind(n,81824)),n.e("36049").then(n.bind(n,115429)),n.e("36049").then(n.bind(n,24602)),n.e("36049").then(n.bind(n,468598)),n.e("36049").then(n.bind(n,92963)),n.e("36049").then(n.bind(n,279801)),n.e("36049").then(n.bind(n,183776)),n.e("36049").then(n.bind(n,197822)),n.e("36049").then(n.bind(n,542684)),n.e("36049").then(n.bind(n,415033)),n.e("36049").then(n.bind(n,710613)),n.e("36049").then(n.bind(n,422487))},831905:function(e,t,n){"use strict";n(675373),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,84626)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,522573)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,459609)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,893065)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,327984)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,487935)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,316102)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,836271)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,428001)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,861515)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,811409)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,192673)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,404521)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,130266)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,284858)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,216851)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,400986)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,439036)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,598643)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,492017)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,274934)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,865190)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,321374)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,141835)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,728807)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,193781)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,37594)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,931176)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,804850)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,741748)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,19434)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,786460)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,377001)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,836507)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,81824)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,115429)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,24602)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,468598)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,92963)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,279801)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,183776)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,197822)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,542684)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,415033)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,710613)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("58195"),n.e("92686"),n.e("90565"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("21773"),n.e("79373"),n.e("80303"),n.e("81527"),n.e("6593"),n.e("27269"),n.e("94643"),n.e("92483"),n.e("60818"),n.e("80070"),n.e("49512")]).then(n.bind(n,422487))},753385:function(e,t,n){"use strict";n(675373),n.e("78501").then(n.bind(n,641799))},789425:function(e,t,n){"use strict";n(675373),n.e("92967").then(n.bind(n,682926))},27340:function(e,t,n){"use strict";n(675373),n.e("49447").then(n.bind(n,522573)),n.e("49447").then(n.bind(n,459609)),n.e("49447").then(n.bind(n,893065)),n.e("49447").then(n.bind(n,327984)),n.e("49447").then(n.bind(n,487935)),n.e("49447").then(n.bind(n,316102)),n.e("49447").then(n.bind(n,836271)),n.e("49447").then(n.bind(n,428001)),n.e("49447").then(n.bind(n,861515)),n.e("49447").then(n.bind(n,811409)),n.e("49447").then(n.bind(n,192673)),n.e("49447").then(n.bind(n,404521)),n.e("49447").then(n.bind(n,130266)),n.e("49447").then(n.bind(n,284858)),n.e("49447").then(n.bind(n,216851)),n.e("49447").then(n.bind(n,400986)),n.e("49447").then(n.bind(n,439036)),n.e("49447").then(n.bind(n,598643)),n.e("49447").then(n.bind(n,492017)),n.e("49447").then(n.bind(n,274934)),n.e("49447").then(n.bind(n,865190)),n.e("49447").then(n.bind(n,321374)),n.e("49447").then(n.bind(n,141835)),n.e("49447").then(n.bind(n,728807)),n.e("49447").then(n.bind(n,193781)),n.e("49447").then(n.bind(n,37594)),n.e("49447").then(n.bind(n,931176)),n.e("49447").then(n.bind(n,804850)),n.e("49447").then(n.bind(n,741748)),n.e("49447").then(n.bind(n,19434)),n.e("49447").then(n.bind(n,786460)),n.e("49447").then(n.bind(n,377001)),n.e("49447").then(n.bind(n,836507)),n.e("49447").then(n.bind(n,81824)),n.e("49447").then(n.bind(n,115429)),n.e("49447").then(n.bind(n,24602)),n.e("49447").then(n.bind(n,468598)),n.e("49447").then(n.bind(n,92963)),n.e("49447").then(n.bind(n,279801)),n.e("49447").then(n.bind(n,183776)),n.e("49447").then(n.bind(n,197822)),n.e("49447").then(n.bind(n,542684)),n.e("49447").then(n.bind(n,415033)),n.e("49447").then(n.bind(n,710613)),n.e("49447").then(n.bind(n,422487)),n.e("49447").then(n.bind(n,742367))},286449:function(e,t,n){"use strict";n(675373),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,402258)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,522573)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,459609)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,893065)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,327984)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,487935)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,316102)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,836271)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,428001)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,861515)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,811409)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,192673)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,404521)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,130266)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,284858)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,216851)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,400986)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,439036)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,598643)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,492017)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,274934)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,865190)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,321374)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,141835)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,728807)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,193781)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,37594)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,931176)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,804850)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,741748)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,19434)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,786460)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,377001)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,836507)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,81824)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,115429)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,24602)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,468598)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,92963)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,279801)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,183776)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,197822)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,542684)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,415033)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,710613)),Promise.all([n.e("74792"),n.e("66135"),n.e("21692"),n.e("52405"),n.e("65346"),n.e("923"),n.e("42562"),n.e("41442"),n.e("23503"),n.e("9042"),n.e("97607"),n.e("75935"),n.e("47439"),n.e("17275"),n.e("5405"),n.e("58742"),n.e("13691"),n.e("47102"),n.e("50535"),n.e("55691"),n.e("6593"),n.e("27269"),n.e("810"),n.e("62960"),n.e("15723")]).then(n.bind(n,422487))},412306:function(e,t,n){"use strict";n.d(t,{l:function(){return o}});var r=n(134761),i=n(636311);class o{do(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return;let o=e.currentTime,a=0;if(this._prevCurrentTime===o){let s=i.l.info(i.l.get(e),o);if(!s.buffers.length)return;n&&s.nextStart||s.nextStart&&s.nextStart-o<t?a=s.nextStart+.1:s.end&&s.end-o>r&&!e.seeking&&(a=o+.1)}this._prevCurrentTime=o,a&&o!==a&&(e.currentTime=a)}constructor(){(0,r._)(this,"_prevCurrentTime",0)}}},254534:function(e,t,n){"use strict";n.d(t,{r:function(){return T}});var r=n("134761");n("675373"),n("429532"),n("874386");var i=n("593489"),o=n("636311"),a=n("412306"),s=n("640345"),l=n("754077"),c=n("553354"),u=n("141679"),h=n("770153"),d=n("85422"),f=n("383177"),p=n("404529"),v=n("321733"),g=n("584725"),m=n("520739"),y=n("878389"),_=n("803389"),b=n("840048");class w{speedInfo(){return{}}load(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,i=[];return e&&(i[0]=this.loadVideoSegment(e,n)),t&&(i[1]=this.loadAudioSegment(t,r)),Promise.all(i)}loadVideoSegment(e,t){return this._loadSegment(this._segmentLoader,e,t)}loadAudioSegment(e,t){return this._loadSegment(this._audioSegmentLoader,e,t)}async _loadSegment(e,t,n){var r,i;let o,a,s,l,c;let u=[];if(this.hls.emit("loadStart",{url:t.url}),u[0]=e.load(t.url),n&&t.initSegment){let n=t.initSegment.url;!(o=this._mapCache[n])&&(this.hls.emit("loadStart",{url:n}),u[1]=e.load(n).then(e=>{e&&(Object.keys(this._mapCache)>30&&(this._mapCache={}),o=this._mapCache[n]=e.data,this._emitOnLoaded(e,n))}));let r=null===(i=t.initSegment.key)||void 0===i?void 0:i.url;r&&(c=t.initSegment.key.iv,!(l=this._keyCache[r])&&(this.hls.emit("loadStart",{url:r}),u[2]=this._keyLoader.load(r).then(e=>{e&&(l=this._keyCache[r]=e.data,this._emitOnLoaded(e,r))})))}let h=null===(r=t.key)||void 0===r?void 0:r.url;h&&t.key.isSegmentEncrypted()&&(s=t.key.iv,!(a=this._keyCache[h])&&(this.hls.emit("loadStart",{url:h}),u[3]=this._keyLoader.load(h).then(e=>{e&&(a=this._keyCache[h]=e.data,this._emitOnLoaded(e,h))})));let[d]=await Promise.all(u);if(!d)return;let f=d.data;return this._emitOnLoaded(d,t.url),{data:f,map:o,key:a,mapKey:l,keyIv:s,mapKeyIv:c}}reset(){this.error=null,this._mapCache={},this._keyCache={}}async cancel(){await Promise.all([this._keyLoader.cancel(),this._segmentLoader.cancel(),this._audioSegmentLoader.cancel()])}constructor(e){(0,r._)(this,"error",null),(0,r._)(this,"_emitOnLoaded",(e,t)=>{let{data:n,response:r,options:i}=e,{firstByteTime:o,startTime:a,endTime:s,contentLength:l}=i||{},c=s-a;this.hls.emit("speed",{time:c,byteLength:l,url:t}),this.hls.emit("loadComplete",{url:t,elapsed:c||0}),this.hls.emit("ttfb",{url:t,responseUrl:r.url,elapsed:o-a}),this.hls.emit("loadResponseHeaders",{headers:r.headers,url:t})}),(0,r._)(this,"_onLoaderRetry",(e,t)=>{this.hls.emit("loadRetry",{error:b.Fc.network(e),retryTime:t})}),this.hls=e,this._mapCache={},this._keyCache={};let{retryCount:t,retryDelay:n,loadTimeout:i,fetchOptions:o}=this.hls.config;this._segmentLoader=new _.mf((0,y._)((0,m._)({},o),{responseType:"arraybuffer",retry:t,retryDelay:n,timeout:i,onRetryError:this._onLoaderRetry})),this._audioSegmentLoader=new _.mf((0,y._)((0,m._)({},o),{responseType:"arraybuffer",retry:t,retryDelay:n,timeout:i,onRetryError:this._onLoaderRetry})),this._keyLoader=new _.mf((0,y._)((0,m._)({},o),{responseType:"arraybuffer",retry:t,retryDelay:n,timeout:i,onRetryError:this._onLoaderRetry}))}}var S=n("646664"),E=n("289493");let k=new s.ZP("hls");class T extends i.Z{get isLive(){var e;return null===(e=this._playlist)||void 0===e?void 0:e.isLive}get streams(){var e;return null===(e=this._playlist)||void 0===e?void 0:e.streams}get currentStream(){var e;return null===(e=this._playlist)||void 0===e?void 0:e.currentStream}get hasSubtitle(){var e;return null===(e=this._playlist)||void 0===e?void 0:e.hasSubtitle}get totalDuration(){var e;return null===(e=this._playlist)||void 0===e?void 0:e.totalDuration}get baseDts(){var e;return null===(e=this._bufferService)||void 0===e?void 0:e.baseDts}get abrSwitchPoint(){var e,t;let n=this._urlSwitching?null===(e=this._playlist)||void 0===e?void 0:e.currentSegment:null===(t=this._playlist)||void 0===t?void 0:t.nextSegment;return n?n.start+n.duration/2:null}speedInfo(){var e;return null===(e=this._segmentLoader)||void 0===e?void 0:e.speedInfo()}bufferInfo(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1;return o.l.info(o.l.get(this.media),null===(e=this.media)||void 0===e?void 0:e.currentTime,t)}async load(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="boolean"==typeof t?t:!!(null==t?void 0:t.reuseMse);"object"==typeof t&&(null==t?void 0:t.clearSwitchStatus)&&(this._urlSwitching=!1,this._switchUrlOpts=null,this.config.startTime=void 0),e?this.config.url=e:e=this.config.url,await this._reset(n),await this._loadData(e),this._startTick()}async _loadData(e){var t,n,r,i;try{e&&(e=e.trim())}catch(e){}if(!e)return;let o=await this._loadM3U8(e),{currentStream:a}=this._playlist;if(this._urlSwitching){if(this.isLive){let e=this._playlist.setNextSegmentBySN(this._prevSegSn);k.log(`segment nb=${this._prevSegSn} index of ${e} in the new playlist`),-1===e&&(this._prevSegCc=null,this._prevSegSn=null)}else{0===a.bitrate&&(null===(t=this._switchUrlOpts)||void 0===t?void 0:t.bitrate)&&(a.bitrate=null===(r=this._switchUrlOpts)||void 0===r?void 0:r.bitrate);let e=typeof(null===(n=this._switchUrlOpts)||void 0===n?void 0:n.startTime);this.config.startTime=e;let i=this._playlist.findSegmentIndexByTime(e),o=this._playlist.getSegmentByIndex(i+1);if(o){let e=o.start;await this._bufferService.removeBuffer(e)}}}if(!o)return;if(this.isLive){if(this._bufferService.setLiveSeekableRange(0,4294967295),k.log("totalDuration first time got:",this._playlist.totalDuration),k.log("nb segments got:",this._playlist.nbSegments),this.config.targetLatency<this._playlist.totalDuration&&(this.config.targetLatency=this._playlist.totalDuration,this.config.maxLatency=1.5*this.config.targetLatency),!o.isMaster&&this._pollM3U8(e),this._playlist.nbSegments<this.config.minSegmentsStartPlay)return;await this._loadSegment();return}await this._bufferService.updateDuration(a.totalDuration);let{startTime:s}=this.config;s&&(!(null===(i=this._switchUrlOpts)||void 0===i?void 0:i.seamless)&&this.media&&(this.media.currentTime=s),this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(s)||0)),await this._loadSegment()}async replay(){var e;return this.config.startTime=0,this._urlSwitching=!1,this._switchUrlOpts=null,await this.load(),this._reloadOnPlay=!1,null===(e=this.media)||void 0===e?void 0:e.play().catch(()=>{})}async switchURL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(typeof t){case"number":t={startTime:t};break;case"boolean":t={seamless:t};break;case"object":for(let e in t)(void 0===t[e]||null===t[e])&&delete t[e];break;default:throw`unsupported switchURL args: ${t}`}let{seamless:n,startTime:r}=t=Object.assign({},{seamless:!1,startTime:0,bitrate:0},t);if(this.config.url=e,this.config.startTime=r,this._switchUrlOpts=t,n)this._urlSwitching=!0,!this.isLive&&(this._prevSegSn=null,this._prevSegCc=null),this._playlist.reset(),this._bufferService.seamlessSwitch(),await this._clear(),await this._loadData(e),this._startTick();else{var i;let t;try{t=this.config.softDecode?this.load(e):await this.load(e)}catch(e){throw this._player.emit("switch_url_fail",e),e}return this._reloadOnPlay=!1,t&&this._player.emit(E.le.SWITCH_COMPLETE,{url:e}),null===(i=this.media)||void 0===i?void 0:i.play().catch(()=>{})}this._switchUrlOpts=null}async switchStream(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=this.currentStream,r=this.streams;if(!n||n.id===e||!r||r.length<2)return;let i=r.find(t=>t.id===e);if(i){try{await this._clear(),t&&await this._bufferService.clearAllBuffer()}catch(e){}if(n.currentAudioStream&&i.audioStreams.length>2){let e=n.currentAudioStream.id;i.currentAudioStream=i.audioStreams.find(t=>t.id===e)||i.currentAudioStream}this._playlist.currentStream=i;try{var o;(this.isLive||!i.segments.length)&&await this._refreshM3U8(),this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(null===(o=this.media)||void 0===o?void 0:o.currentTime)||0),this._prevSegCc=null,await this._loadSegmentDirect()}catch(e){throw this._playlist.currentStream=n,e}return this._startTick(),i}}async switchAudioStream(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=this.currentStream;if(!n)return;let r=n.currentAudioStream;if(!r||r.id===e||n.audioStreams.length<2)return;let i=n.audioStreams.find(t=>t.id===e);if(i){try{await this._clear(),t&&await this._bufferService.clearAllBuffer()}catch(e){}n.currentAudioStream=i;try{var o;(this.isLive||!i.segments.length)&&await this._refreshM3U8(),this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(null===(o=this.media)||void 0===o?void 0:o.currentTime)||0),this._prevSegCc=null,await this._loadSegmentDirect()}catch(e){throw n.currentAudioStream=r,e}return this._startTick(),i}}async switchSubtitleStream(e){this._playlist.switchSubtitle(e),await this._manifestLoader.stopPoll(),await this._refreshM3U8()}async detachMedia(){this._bufferService&&await this._bufferService.detachMedia()}async destroy(){var e;this.media&&(this.removeAllListeners(),this._playlist.reset(),this._segmentLoader.reset(),null===(e=this._seiService)||void 0===e||e.reset(),this.off("core.sei",this._onSei),this.media.removeEventListener("loadeddata",this._onLoadeddata),this.media.removeEventListener("play",this._onPlay),this.media.removeEventListener("pause",this._onPause),this.media.removeEventListener("seeking",this._onSeeking),this.media.removeEventListener("timeupdate",this._onTimeupdate),await Promise.all([this._clear(),this._bufferService.destroy()]),this.media=void 0)}static isSupported(e){return e&&"video"!==e&&"audio"!==e?"undefined"!=typeof WebAssembly:l.d1.isSupported()}static enableLogger(){s.ZP.setEnable(!0)}static disableLogger(){s.ZP.setEnable(!1)}async _loadM3U8(e){var t,n,r;let i;try{let r=null===(n=this.config.manifestList)||void 0===n?void 0:null===(t=n.filter(t=>t.url===e)[0])||void 0===t?void 0:t.manifest;[i]=r?this._manifestLoader.parseText(r,e):await this._manifestLoader.load(e)}catch(e){throw this._emitError(h.Fc.network(e))}if(i)return this._playlist.upsertPlaylist(i),i.isMaster&&((null===(r=this._playlist.currentStream.subtitleStreams)||void 0===r?void 0:r.length)&&this._player.emit(p.j.SUBTITLE_PLAYLIST,{list:this._playlist.currentStream.subtitleStreams}),await this._refreshM3U8()),this._player.emit(p.j.STREAM_PARSED),i}_refreshM3U8(){var e,t;let n=this._playlist.currentStream;if(!n||!n.url)return;let r=n.url,i=null===(e=n.currentAudioStream)||void 0===e?void 0:e.url,o=null===(t=n.currentSubtitleStream)||void 0===t?void 0:t.url;return this._manifestLoader.load(r,i,o).then(e=>{let[t,n,a]=e;if(!!t)this._playlist.upsertPlaylist(t,n,a),this.isLive&&this._pollM3U8(r,i,o)}).catch(e=>{throw this._emitError(h.Fc.network(e))})}_pollM3U8(e,t,n){let r,i=this._playlist.isEmpty;if(this._playlist.lowLatency)r=1e3*(this._playlist.currentStream.partTargetDuration||0);else{var o;r=1e3*((null===(o=this._playlist.lastSegment)||void 0===o?void 0:o.duration)||0)}this._manifestLoader.poll(e,t,n,(e,t,n)=>{this._playlist.upsertPlaylist(e,t,n),this._playlist.clearOldSegment(),(e&&i&&!this._playlist.isEmpty||!this._playlist.hadSegmentLoaded&&this._playlist.nbSegments>=this.config.minSegmentsStartPlay)&&this._loadSegment(),i&&(i=this._playlist.isEmpty)},e=>{this._emitError(h.Fc.network(e))},r)}async _loadSegmentDirect(e){let t=this._playlist.nextSegment;if(!t)return;let n=!1,r=null;try{this._segmentProcessing=!0,k.log(`load segment, sn:${t.sn}, [${t.start}, ${t.end}], partIndex:${t.partIndex}`),n=await this._reqAndBufferSegment(t,this._playlist.getAudioSegment(t))}catch(e){r=e}finally{this._segmentProcessing=!1}if(r)return this._bufferService.isFull()?(k.log(`load segment, sn:${t.sn}, partIndex:${t.partIndex}`),this._segmentProcessing=!0,this._isProcessQuotaExceeded=!0,!1):this._emitError(h.Fc.network(r));if(n){var i,o;let n=this.bufferInfo().end;this.isLive&&!(null===(i=this.media)||void 0===i?void 0:i.seeking)&&n&&Math.abs(t.end-n)>1&&(k.warn(`segment: ${t.sn} expected end=${t.end}, real end=${n}`),this._playlist.feedbackLiveEdge(t,n));let r=(null===(o=this._playlist.currentStream)||void 0===o?void 0:o.url)===t.parentUrl;this._urlSwitching&&!r&&(k.warn("pre playlist segment appended!"),this._bufferService.seamlessSwitch()),this.isLive&&this._urlSwitching&&r&&(this._urlSwitching=!1,this._player.emit(E.le.SWITCH_COMPLETE,{url:this.config.url})),this._playlist.moveSegmentPointer(),t.isLast?this._end():!e&&this._loadSegment()}return n}async _reqAndBufferSegment(e,t){let n=e?e.cc:t.cc,r=this._prevSegCc!==n,i=[];try{i=await this._segmentLoader.load(e,t,r)}catch(e){throw e.fatal=!1,this._segmentLoader.error=e,e}if(!i[0])return!1;let o=await this._bufferService.decryptBuffer(...i);if(!o)return!1;let a=e?e.sn:t.sn,s=e?e.start:t.start,l=this._playlist.currentStream;this._bufferService.createSource(o[0],o[1],null==l?void 0:l.videoCodec,null==l?void 0:l.audioCodec);let c=Date.now(),u=this._prevSegSn===a-1;if(this.isLive&&this._urlSwitching){let e=this.bufferInfo().end;this._playlist.updateSegmentsRanges(a,e),k.warn(`update the new playlist liveEdge, segment id=${a}, buffer start=${e}, liveEdge=${this._playlist.liveEdge}`),s=e}return await this._bufferService.appendBuffer(e,t,o[0],o[1],r,u,s),this._player.emit(p.j.APPEND_COST,{elapsed:Date.now()-c,url:e.url}),await this._bufferService.evictBuffer(this.config.bufferBehind),this._prevSegCc=n,this._prevSegSn=a,!0}async _onCheckQuotaExceeded(){let e=this.media.currentTime,t=this.media.buffered,n=!1;for(let r=0;r<t.length;r++)if(t.start(0)>=e&&e<t.end(r)){n=!0;break}if(this._bufferService.isFull()){let e=n?this.config.bufferBehind:5,t=this.media.currentTime;t-e>0&&await this._bufferService.removeBuffer(0,t-e)}}_checkStreamTrackChange(e){let t=this._playlist.checkSegmentTrackChange(e,this._bufferService.nbSb);t&&this.switchURL(this.config.url,t.start+.2)}async _clear(){clearTimeout(this._disconnectTimer),this._stopTick(),await Promise.all([this._segmentLoader.cancel(),this._manifestLoader.stopPoll()]),this._segmentProcessing=!1}async _reset(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._reloadOnPlay=!1,this._prevSegSn=null,this._prevSegCc=null,this._switchUrlOpts=null,this._playlist.reset(),this._segmentLoader.reset(),null===(e=this._seiService)||void 0===e||e.reset(),await this._clear(),this._bufferService.reset(t)}_end(){this._clear(),this._bufferService.endOfStream(),(this.media.readyState<=2||this.media.buffered.length>1)&&this._startTick()}_stopTick(){this._tickTimer&&clearTimeout(this._tickTimer),this._tickTimer=null}_startTick(){this._stopTick(),this._tickTimer=setTimeout(this._tick,this._tickInterval)}_emitError(e){var t,n,r,i;let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(null===(t=e.originError)||void 0===t?void 0:t.fatal)===!1?k.warn(e):(k.table(e),k.error(e),k.error(null===(n=this.media)||void 0===n?void 0:n.error),(null===(r=this.media)||void 0===r?void 0:r.readyState)&&this.media.pause(),this._stopTick(),this._urlSwitching&&(this._urlSwitching=!1,this._player.emit("switch_url_fail",e)),this._player.emit(E.le.FLVERROR,e),o&&this._end(),null===(i=this._seiService)||void 0===i||i.reset()),e}_tryEos(){var e,t;if(this._isProcessQuotaExceeded)return;let{media:n}=this,{nextSegment:r,lastSegment:i}=this._playlist;if(!((!r||i&&o.l.isBuffered(n,i.start+i.duration/2))&&n.readyState&&n.duration>0&&(null===(e=this._bufferService)||void 0===e?void 0:e.msIsOpened)&&!(null===(t=this._bufferService)||void 0===t?void 0:t.msHasOpTasks)))return;let a=this.bufferInfo();n.paused&&!n.currentTime&&(a=this.bufferInfo(a.nextStart||.5)),(.1>Math.abs(a.end-n.duration)||!this.isLive&&i&&a.end>=i.start+i.duration)&&this._bufferService.endOfStream()}constructor(e,t){super(),(0,r._)(this,"media",void 0),(0,r._)(this,"config",void 0),(0,r._)(this,"_player",void 0),(0,r._)(this,"_manifestLoader",void 0),(0,r._)(this,"_segmentLoader",void 0),(0,r._)(this,"_playlist",void 0),(0,r._)(this,"_bufferService",void 0),(0,r._)(this,"_gapService",void 0),(0,r._)(this,"_seiService",void 0),(0,r._)(this,"_disconnectTimer",void 0),(0,r._)(this,"_tickTimer",void 0),(0,r._)(this,"_prevSegSn",null),(0,r._)(this,"_prevSegCc",null),(0,r._)(this,"_tickInterval",500),(0,r._)(this,"_segmentProcessing",!1),(0,r._)(this,"_reloadOnPlay",!1),(0,r._)(this,"_switchUrlOpts",null),(0,r._)(this,"_isProcessQuotaExceeded",!1),(0,r._)(this,"_urlSwitching",!1),(0,r._)(this,"_onSei",e=>{var t;null===(t=this._seiService)||void 0===t||t.addSample(e)}),(0,r._)(this,"_loadSegment",async()=>{if(this._segmentProcessing||!this.media)return;let{nextSegment:e,lastSegment:t}=this._playlist,{config:n}=this,r=Math.min(Math.max((null==t?void 0:t.duration)-.008||0,.016),.1);if(e){if(!this.isLive){let t=this.bufferInfo();this.media.paused&&!this.media.currentTime&&(t=this.bufferInfo(t.nextStart||.5));let i=Math.abs(t.end-this.media.duration)<r;if(t.remaining>=n.preloadTime||i){this._tryEos();return}if(n.preferMMSStreaming&&!this._bufferService.msStreaming)return;!this._urlSwitching&&this._prevSegSn!==e.sn-1&&t.end&&Math.abs(e.start-t.end)>1&&this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(t.end+.1))}return this._loadSegmentDirect()}}),(0,r._)(this,"_onLoadeddata",()=>{this.isLive&&!this.config.mseLowLatency&&this.media.duration!==1/0&&this._bufferService.updateDuration(1/0).catch(e=>{})}),(0,r._)(this,"_onPlay",async()=>{if(this.media.seeking&&0===this.media.currentTime){k.debug("replay currentTime 0, return");return}clearTimeout(this._disconnectTimer),this._reloadOnPlay?(this._reloadOnPlay=!1,this.replay()):(await this._loadSegment(),this._startTick())}),(0,r._)(this,"_onPause",()=>{if(this.isLive){if(!this._reloadOnPlay){let{disconnectTime:e}=this.config;null==e&&(e=this._playlist.dvrWindow),Number.isFinite(e)&&(clearTimeout(this._disconnectTimer),this._disconnectTimer=setTimeout(()=>{this._reloadOnPlay=!0,this._clear()},e||0))}}else this._stopTick()}),(0,r._)(this,"_onSeeking",async()=>{if(!this.media)return;this._onCheckQuotaExceeded();let e=this.media.currentTime,t=this._playlist.seekRange;if(t){let n=(0,S.u)(e,t[0],this.isLive?t[1]:this.media.duration);if(n>=0&&Math.abs(e-n)>=.1){this.media.currentTime=n;return}}let n=this._playlist.currentSegment,r=o.l.info(o.l.get(this.media),e,.1);if(n&&(r.end&&.2>Math.abs(r.end-n.end)||this.isLive&&r.end))return;let i=this._playlist.findSegmentIndexByTime(e),a=this._playlist.getSegmentByIndex(i);null!=i&&a&&(!this._segmentProcessing||a!==this._playlist.nextSegment)&&(k.debug("seek to",e,a),this._playlist.setNextSegmentByIndex(i),this._stopTick(),await this._segmentLoader.cancel(),this._segmentProcessing=!1,(!r.end||this.isLive)&&await this._loadSegmentDirect(!0),this._startTick())}),(0,r._)(this,"_onTimeupdate",()=>{if(!this.media)return;let e=this.config;if(e.isLive&&e.maxLatency&&e.targetLatency){let t=this._playlist.liveEdge;if(!t)return;let n=t-this.media.currentTime;n>=e.maxLatency&&(k.debug(`latency jump, currentTime:${this.media.currentTime}, liveEdge:${t},  latency=${n}`),this.media.currentTime=t-e.targetLatency)}if(e.seiInTime){var t;null===(t=this._seiService)||void 0===t||t.throw(this.media.currentTime)}e.allowedStreamTrackChange&&!e.softDecode&&this.media.readyState&&this._checkStreamTrackChange(this.media.currentTime)}),(0,r._)(this,"_tick",()=>{if(!this.media)return;this._startTick();let e=this.media,t=this._segmentLoader.error;if(this._onCheckQuotaExceeded(),this._isProcessQuotaExceeded&&!this._bufferService.isFull()&&(this._isProcessQuotaExceeded=!1,this._segmentProcessing=!1),t){(!e.readyState||this.bufferInfo(.5).remaining<1)&&this._emitError(h.Fc.network(t));return}e.readyState&&((0,u.k)(e)?(this._loadSegment(),this._gapService&&this._gapService.do(e,this.config.maxJumpDistance,this.isLive)):e.readyState<2&&this._gapService&&this._gapService.do(e,this.config.maxJumpDistance,!e.currentTime||this.isLive)),!this.isLive&&this._tryEos()}),this.config=e=(0,f.i)(e),this._player=t,this.media=this.config.media,this._manifestLoader=new v.Y(this),this._segmentLoader=new w(this),this._playlist=new g.g(this),this._bufferService=new d.y(this),e.seiInTime&&(this._seiService=new c.Z(this)),!e.softDecode&&(this._gapService=new a.l),this.on("core.sei",this._onSei),this.media.addEventListener("loadeddata",this._onLoadeddata),this.media.addEventListener("play",this._onPlay),this.media.addEventListener("pause",this._onPause),this.media.addEventListener("seeking",this._onSeeking),this.media.addEventListener("timeupdate",this._onTimeupdate)}}try{localStorage.getItem("xgd")?T.enableLogger():T.disableLogger()}catch(e){}},549717:function(e,t,n){"use strict";n.d(t,{AK:function(){return c},I6:function(){return f},UM:function(){return s},WN:function(){return u},nI:function(){return l},wq:function(){return d}}),n(413806),n(826893),n(110006),n(284961),n(954372),n(455663),n(527785);let r=/^#(EXT[^:]*)(?::(.*))?$/,i=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g,o=/^(?:[a-zA-Z0-9+\-.]+:)?\/\//,a=/^((?:[a-zA-Z0-9+\-.]+:)?\/\/[^/?#]*)?([^?#]*\/)?/;function s(e){return e.split(/[\r\n]/).map(e=>e.trim()).filter(Boolean)}function l(e){let t=e.match(r);if(t&&t[1])return[t[1].replace("EXT-X-",""),t[2]]}function c(e){let t={},n=i.exec(e);for(;n;)t[n[1]]=n[2]||n[3],n=i.exec(e);return t}function u(e,t){if(!t||!e||o.test(e))return e;let n=a.exec(t);return n?"/"===e[0]?n[1]+e:n[1]+n[2]+e:e}let h={audio:[/^mp4a/,/^vorbis$/,/^opus$/,/^flac$/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function d(e,t){let n=h[e];if(n&&t&&t.length){for(let e=0;e<n.length;e++)for(let r=0;r<t.length;r++)if(n[e].test(t[r]))return t[r]}}function f(e,t){let n;if(t){for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e[r]!==t[r]){n=r;break}}let r=null;e.DURATION&&(Number.isFinite(r=parseFloat(e.DURATION))?e._endDate&&(r=(e._endDate.getTime()-e._startDate.getTime())/1e3):r=null);let i=function(e,t){return(e?e.split(/[ ,]+/):[]).reduce((e,t)=>(e[t.toLowerCase()]=!0,e),t)}(e.CUE||e["X-CUE"],{pre:!1,post:!1,once:!1});return!!e.ID&&!n&&Number.isFinite(e._startDate.getTime())&&(null===r||r>=0)&&("YES"!==e.END_ON_NEXT||!!e.CLASS)&&(!e.CUE||!i.pre&&!i.post||i.pre!==i.post)&&("com.apple.hls.interstitial"!==e.CLASS||"X-ASSET-URI"in e||"X-ASSET-LIST"in e)}},161011:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(134761);n(209955),n(268917),n(112587),n(17322),n(560401),n(779566),n(69896),n(416555),n(404948);var i=n(858518);class o{static getRateIndexByRate(e){return o.FREQ.indexOf(e)}static parseADTS(e,t){let n,r;let i=e.length,a=0;for(;a+2<i&&(255!==e[a]||(246&e[a+1])!=240);){;a++}if(a>=i)return;let s=a,l=[],c=(60&e[a+2])>>>2,u=o.FREQ[c];if(!u)throw Error(`Invalid sampling index: ${c}`);let h=((192&e[a+2])>>>6)+1,d=(1&e[a+2])<<2|(192&e[a+3])>>>6,{config:f,codec:p}=o._getConfig(c,d,h),v=0,g=o.getFrameDuration(u);for(;a+7<i;){if(255!==e[a]||(246&e[a+1])!=240){a++;continue}if(!(r=(3&e[a+3])<<11|e[a+4]<<3|(224&e[a+5])>>5)||i-a<r)break;n=(1&~e[a+1])*2,l.push({pts:t+v*g,data:e.subarray(a+7+n,a+r)}),v++,a+=r}return{skip:s,remaining:a>=i?void 0:e.subarray(a),frames:l,samplingFrequencyIndex:c,sampleRate:u,objectType:h,channelCount:d,codec:p,config:f,originCodec:`mp4a.40.${h}`}}static parseAudioSpecificConfig(e){if(!e.length)return;let t=e[0]>>>3,n=(7&e[0])<<1|e[1]>>>7,r=(120&e[1])>>>3,i=o.FREQ[n];if(!i)return;let{config:a,codec:s}=o._getConfig(n,r,t);return{samplingFrequencyIndex:n,sampleRate:i,objectType:t,channelCount:r,config:a,codec:s,originCodec:`mp4a.40.${t}`}}static getFrameDuration(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e4;return 1024*t/e}static _getConfig(e,t,n){let r,o;let a=[];return i.vU?e>=6?(r=5,o=e-3):(r=2,o=e):i.Dt?(r=2,o=e):(r=5,o=e,e>=6?o=e-3:1===t&&(r=2,o=e)),a[0]=r<<3,a[0]|=(14&e)>>1,a[1]=(1&e)<<7,a[1]|=t<<3,5===r&&(a[1]|=(14&o)>>1,a[2]=(1&o)<<7,a[2]|=8,a[3]=0),{config:a,codec:`mp4a.40.${r}`}}static getSilentFrame(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t||3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}(0,r._)(o,"FREQ",[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350])},420435:function(e,t,n){"use strict";n.d(t,{FO:function(){return u},Vc:function(){return i.Vc},_e:function(){return i._e},_A:function(){return s._},Xw:function(){return l.X},WP:function(){return a},m$:function(){return h},qT:function(){return o},Bc:function(){return i.Bc}});var r=n("134761");n("954372"),n("826893");var i=n("482792");class o{reset(){this.sequenceNumber=this.width=this.height=this.fpsDen=this.fpsNum=this.duration=this.baseMediaDecodeTime=this.timescale=0,this.codec="",this.present=!1,this.pid=-1,this.pps=[],this.sps=[],this.vps=[],this.sarRatio=[],this.samples=[],this.warnings=[],this.hvcC=null}get firstDts(){return this.samples.length?this.samples[0].dts:null}get firstPts(){return this.samples.length?this.samples[0].pts:null}get samplesDuration(){if(this.samples.length>0){let e=this.samples[0],t=this.samples[this.samples.length-1];return t.dts-e.dts+t.duration}return 0}exist(){return!!/av01/.test(this.codec)||!!(this.pps.length&&this.sps.length&&this.codec)}hasSample(){return!!this.samples.length}get isEncryption(){return this.isVideoEncryption}constructor(){(0,r._)(this,"id",1),(0,r._)(this,"type",i.Vc.VIDEO),(0,r._)(this,"codecType",i._e.AVC),(0,r._)(this,"pid",-1),(0,r._)(this,"hvcC",void 0),(0,r._)(this,"codec",""),(0,r._)(this,"timescale",0),(0,r._)(this,"formatTimescale",0),(0,r._)(this,"sequenceNumber",0),(0,r._)(this,"baseMediaDecodeTime",0),(0,r._)(this,"baseDts",0),(0,r._)(this,"duration",0),(0,r._)(this,"warnings",[]),(0,r._)(this,"samples",[]),(0,r._)(this,"pps",[]),(0,r._)(this,"sps",[]),(0,r._)(this,"vps",[]),(0,r._)(this,"fpsNum",0),(0,r._)(this,"fpsDen",0),(0,r._)(this,"sarRatio",[]),(0,r._)(this,"width",0),(0,r._)(this,"height",0),(0,r._)(this,"nalUnitSize",4),(0,r._)(this,"present",!1),(0,r._)(this,"isVideoEncryption",!1),(0,r._)(this,"isAudioEncryption",!1),(0,r._)(this,"isVideo",!0),(0,r._)(this,"lastKeyFrameDts",0),(0,r._)(this,"kid",null),(0,r._)(this,"pssh",null),(0,r._)(this,"ext",void 0)}}class a{reset(){this.sequenceNumber=0,this.timescale=0,this.sampleDuration=0,this.sampleRate=0,this.channelCount=0,this.baseMediaDecodeTime=0,this.present=!1,this.pid=-1,this.codec="",this.samples=[],this.config=[],this.warnings=[]}exist(){return!!(this.sampleRate&&this.channelCount&&(this.codec||this.container)&&(this.codecType===i.yQ.AAC||this.codecType===i.yQ.G711PCMA||this.codecType===i.yQ.G711PCMU||this.codecType===i.yQ.OPUS||this.codecType===i.yQ.MP3))}hasSample(){return!!this.samples.length}get isEncryption(){return this.isAudioEncryption}get firstDts(){return this.samples.length?this.samples[0].dts:null}get firstPts(){return this.samples.length?this.samples[0].pts:null}get samplesDuration(){if(this.samples.length>0){let e=this.samples[0],t=this.samples[this.samples.length-1];return t.dts-e.dts+t.duration}return 0}constructor(){(0,r._)(this,"id",2),(0,r._)(this,"type",i.Vc.AUDIO),(0,r._)(this,"codecType",i.yQ.AAC),(0,r._)(this,"pid",-1),(0,r._)(this,"codec",""),(0,r._)(this,"container",""),(0,r._)(this,"sequenceNumber",0),(0,r._)(this,"sampleDuration",0),(0,r._)(this,"timescale",0),(0,r._)(this,"formatTimescale",0),(0,r._)(this,"baseMediaDecodeTime",0),(0,r._)(this,"duration",0),(0,r._)(this,"warnings",[]),(0,r._)(this,"samples",[]),(0,r._)(this,"baseDts",0),(0,r._)(this,"sampleSize",16),(0,r._)(this,"sampleRate",0),(0,r._)(this,"channelCount",0),(0,r._)(this,"objectType",0),(0,r._)(this,"sampleRateIndex",0),(0,r._)(this,"config",[]),(0,r._)(this,"present",!1),(0,r._)(this,"isVideoEncryption",!1),(0,r._)(this,"isAudioEncryption",!1),(0,r._)(this,"kid",null),(0,r._)(this,"ext",void 0)}}var s=n("415890"),l=n("730468");class c{constructor(e,t){(0,r._)(this,"time",0),this.data=e,this.originPts=this.pts=t}}class u extends c{}class h{exist(){return!!((this.flvScriptSamples.length||this.seiSamples.length)&&this.timescale)}reset(){this.timescale=0,this.flvScriptSamples=[],this.seiSamples=[]}hasSample(){return!!(this.flvScriptSamples.length||this.seiSamples.length)}constructor(){(0,r._)(this,"id",3),(0,r._)(this,"type",i.Vc.METADATA),(0,r._)(this,"timescale",0),(0,r._)(this,"flvScriptSamples",[]),(0,r._)(this,"seiSamples",[])}}},35761:function(e,t,n){"use strict";n(268917)},806237:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n("134761"),i=n("520739"),o=n("593489"),a=n("878389");n("675373"),n("70372"),n("874386"),n("209955");var s=n("264773"),l=n("291589"),c=n("141679"),u=n("337204"),h=n("640345"),d=n("756134");n("897860"),n("268917"),n("527785");class f{recordLoading(e){let t=parseInt(e.get("content-length")||"0"),n=e.get("Accept-Ranges"),r=e.get("Content-Range");if(!t||n||r)return;this._contentLength=t;let i=Math.floor(t/this._speed*1e3);!(i<50)&&(this._dit=performance.now(),this._startTick(t,i))}recordLoaded(){this._cleanTimer();let e=performance.now()-this._dit;this._addSample(Math.floor(this._contentLength/e))}recordChunk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this._timer){this._dit=performance.now(),this._startTickForStream();return}this._totalByteSize+=e,this._contentLength+=e}_startTick(e,t){this._cleanTimer(),this._timer=setInterval(()=>{let t=performance.now()-this._dit;this._addSample(Math.floor(e/t))},t)}_startTickForStream(){this._timer=setInterval(()=>{this._addSample(this._calcSampleSpeed())},3e3)}_calcSampleSpeed(){if(!this._contentLength)return this._dit=performance.now(),0;let e=performance.now()-this._dit,t=Math.floor(this._contentLength/e);return this._contentLength=0,this._dit=performance.now(),t}_addSample(e){this._recentSpeed=1e3*e,this._sampleQueue.length>3&&(this._sampleQueue=[]),this._sampleQueue.push(e),this._calcAvgSpeed(this._sampleQueue)}_calcAvgSpeed(e){let t=e.length,n=e.reduce((e,t)=>e+=t,0)/t;this._speed=1e3*Math.floor(n)}_cleanTimer(){clearTimeout(this._timer),this._timer=0}reset(){this._cleanTimer(),this._totalByteSize=0,this._sampleQueue=[]}destroy(){this._cleanTimer()}get speedInfo(){return{totalByteSize:this._totalByteSize,currentSpeed:this.avgSpeed/8e3,avgSpeed:this.avgSpeed,recentSpeed:this.recentSpeed}}get totalByteSize(){return this._totalByteSize}get avgSpeed(){return!this._speed&&this._addSample(this._calcSampleSpeed()),8*this._speed}get recentSpeed(){return!this._recentSpeed&&this._addSample(this._calcSampleSpeed()),8*this._recentSpeed}constructor(){(0,r._)(this,"_sampleQueue",[]),(0,r._)(this,"_speed",0),(0,r._)(this,"_recentSpeed",0),(0,r._)(this,"_timer",0),(0,r._)(this,"_dit",0),(0,r._)(this,"_contentLength",0),(0,r._)(this,"_totalByteSize",0),(0,r._)(this,"_speedDown",!1)}}var p=n("636311"),v=n("289493"),g=n("770153"),m=n("412306");let y=new h.ZP("flv");class _ extends o.Z{get isLive(){return this._opts.isLive}get seekable(){return!!this._keyframes&&this._acceptRanges}get loader(){return this._mediaLoader}speedInfo(){return this._bandwidthService.speedInfo}bufferInfo(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1;return p.l.info(p.l.get(this.media),null===(e=this.media)||void 0===e?void 0:e.currentTime,t)}updateOption(e){this._opts=(0,l.R)((0,i._)({},this._opts,e)),this._bufferService&&(this._bufferService._demuxer._awManager=this._opts.awManager),this.initAbr()}initAbr(){if(!!this._opts.useAbr)this._abr?this._abr.updateConfig(this._opts.abr):this._opts.abr&&!this._initABRing&&(this._initABRing=!0,fetch("https://unpkg.byted-static.com/byted/webplayer-extensions/0.0.8-beta.5/dist/abr.js").then(e=>e.text()).then(e=>{Function(e)(),this._player.seamlessLoad=this.seamlessLoad.bind(this),this._abr=new globalThis.__ABRClass(this._opts.abr,this._player),this._initABRing=!1}).catch(e=>{this._initABRing=!1}))}async load(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._opts.url,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._bufferService){if(!e)return;await this._reset(t),this._loadData(e,this._opts.isLive?[]:[0,this._opts.defaultVodLoadSize]),clearTimeout(this._tickTimer),this._tickTimer=setTimeout(this._tick,this._tickInterval)}}disconnect(){return y.debug("disconnect!"),this._clear()}async switchURL(e,t){if(this._bufferService){if(this._resetDisconnectCount(),!t||!this._opts.isLive){var n;return await this.load(e),this._urlSwitching=!0,null===(n=this.media)||void 0===n?void 0:n.play().catch(()=>{})}await this._clear(),setTimeout(()=>{this._urlSwitching=!0,this._seamlessSwitching=!0,this._loadData(e,[]),this._bufferService.seamlessSwitch()})}}async seamlessLoad(e){this._player._onSwitchURL(e,!0)}async destroy(){this.media&&(this.removeAllListeners(),this.media.removeEventListener("play",this._onPlay),this.media.removeEventListener("loadeddata",this._onLoadeddata),this.media.removeEventListener("seeking",this._onSeeking),this.media.removeEventListener("timeupdate",this._onTimeupdate),this.media.removeEventListener("waiting",this._onWaiting),this.media.removeEventListener("progress",this._onBufferUpdate),this._player.off(v.le.KEYFRAME,this._onKeyframe),await Promise.all([this._clear(),this._bufferService.destroy()]),this.media=null,this._bufferService=null)}_emitError(e){var t;let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];y.table(e),y.error(e),y.error(null===(t=this.media)||void 0===t?void 0:t.error),this._urlSwitching&&(this._urlSwitching=!1,this._seamlessSwitching=!1,this._player.emit("switch_url_fail",e)),this._player.emit(v.le.FLVERROR,e),n&&this._end()}async _reset(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._bandwidthService.reset(),await this._clear(),await this._bufferService.reset(e)}async _loadData(e,t){e&&(this._opts.url=e);let n=e=this._opts.url;if(!e)throw Error("Source url is missing");this._opts.preProcessUrl&&(n=this._opts.preProcessUrl(e).url),this._mediaLoader._finnalUrl=n,y.debug("load data, loading:",this._loading,n),this._loading&&await this._mediaLoader.cancel(),this._loading=!0;try{this._seamlessSwitching&&this._player.emit(v.le.SWITCH_START,{url:e}),await this._mediaLoader.load((0,a._)((0,i._)({},this._opts.fetchOptions),{url:n,range:t,retry:this._opts.retryCount,retryDelay:this._opts.retryDelay,timeout:this._opts.loadTimeout,onRetryError:this._onRetryError,onProgress:this._onProgress,responseType:"arraybuffer"}))}catch(n){let t=g.Fc.network(n);if(this._loading=!1,this._seamlessSwitching){var r;this._seamlessSwitching=!1,this._player.emit(v.le.SWITCH_ERROR,{errorType:t.errorType,code:t.errorCode,message:t.message,httpCode:null===(r=t.ext)||void 0===r?void 0:r.httpCode,url:e})}return this._emitError(t,!1)}}async _clear(){this._mediaLoader&&await this._mediaLoader.cancel(),clearTimeout(this._maxChunkWaitTimer),clearTimeout(this._tickTimer),this._loading=!1,this._firstProgressEmit=!1}constructor(e,t){super(),(0,r._)(this,"media",void 0),(0,r._)(this,"_loading",!1),(0,r._)(this,"_opts",void 0),(0,r._)(this,"_player",void 0),(0,r._)(this,"_abr",void 0),(0,r._)(this,"_bufferService",void 0),(0,r._)(this,"_mediaLoader",void 0),(0,r._)(this,"_bandwidthService",void 0),(0,r._)(this,"_maxChunkWaitTimer",void 0),(0,r._)(this,"_tickTimer",void 0),(0,r._)(this,"_tickInterval",500),(0,r._)(this,"_urlSwitching",!1),(0,r._)(this,"_seamlessSwitching",!1),(0,r._)(this,"_disconnectRetryCount",0),(0,r._)(this,"_preLoadEndPoint",0),(0,r._)(this,"_seamlessSwitchTime",Date.now()),(0,r._)(this,"_keyframes",null),(0,r._)(this,"_acceptRanges",!0),(0,r._)(this,"_firstProgressEmit",!1),(0,r._)(this,"_transferCost",new u.P),(0,r._)(this,"_initABRing",!1),(0,r._)(this,"_gapService",new m.l),(0,r._)(this,"_onKeyframe",e=>{let{pts:t}=e;if(!this._abr||this._seamlessSwitching||Date.now()-this._seamlessSwitchTime<this._abr.config.start_limit)return;let{playbackRate:n=1}=this.media,r=this._player.bufferLength/1e3;this._abr.checkStatus(t,this._bandwidthService.speedInfo.currentSpeed,n,r)}),(0,r._)(this,"_onProgress",async(e,t,n,r)=>{var i,o;let{startTime:a,endTime:s,st:l,firstByteTime:c}=n;if(this._loading=!t,!this._firstProgressEmit){if(!this.media){null===(i=this._mediaLoader)||void 0===i||i.cancel();return}let e=r.headers,t=l?c-l:s-a;this._player.emit(v.le.TTFB,{url:this._opts.url,responseUrl:r.url,elapsed:t}),this._player.emit(v.le.RESPONSEHEADERS,{headers:e}),this._transferCost.set(u.b.TTFB,t),this._acceptRanges=!!(null==e?void 0:e.get("Accept-Ranges"))||!!(null==e?void 0:e.get("Content-Range")),this._firstProgressEmit=!0}if(!this._bufferService)return;clearTimeout(this._maxChunkWaitTimer),this._bandwidthService.recordChunk(null==e?void 0:e.byteLength);try{await this._bufferService.appendBuffer(e),null===(o=this._bufferService)||void 0===o||o.evictBuffer(this._opts.bufferBehind)}catch(e){if(!this.isLive&&this._bufferService.isFull()){await this._mediaLoader.cancel(),this._loading=!1;let e=this.bufferInfo().remaining;this._opts.preloadTime=e/2;return}}if(this._urlSwitching&&(this._urlSwitching=!1),this._seamlessSwitching&&(this._seamlessSwitchTime=Date.now(),this._player.emit(v.le.SWITCH_COMPLETE,{url:this._opts.url}),this._seamlessSwitching=!1,this._tick()),t&&!this.media.seeking){y.debug("load done"),this.isLive&&this._disconnectRetryCount<=0&&this._end();return}if(!this.isLive)return;let{maxReaderInterval:h}=this._opts;h&&this._firstProgressEmit&&(clearTimeout(this._maxChunkWaitTimer),this._maxChunkWaitTimer=setTimeout(()=>{if(this._disconnectRetryCount){this._disconnectRetryCount--,this.load(this._opts.url,!1);return}y.debug("onMaxChunkWait",h),this._end()},h))}),(0,r._)(this,"_onRetryError",(e,t)=>{y.debug("load retry",e,t)}),(0,r._)(this,"_end",()=>{var e;this._clear(),this._bufferService&&this._bufferService.endOfStream(),null===(e=this.media)||void 0===e||e.dispatchEvent(new CustomEvent("ended")),y.debug("end stream")}),(0,r._)(this,"_resetDisconnectCount",()=>{this._disconnectRetryCount=this._opts.disconnectRetryCount}),(0,r._)(this,"_tick",()=>{clearTimeout(this._tickTimer);let{media:e}=this;if(!e)return;this._tickTimer=setTimeout(this._tick,this._tickInterval);let t=p.l.end(p.l.get(e));if(t<.1||!e.readyState)return;let n=this._opts;if((0,c.k)(e))this._gapService&&this._gapService.do(e,n.maxJumpDistance,this.isLive,3);else{if(!e.currentTime&&this._gapService&&n.enableStartGapJump){(this._opts.mseLowLatency||!1===this._opts.mseLowLatency&&this.bufferInfo(.3).nextStart)&&this._gapService.do(e,n.maxJumpDistance,this.isLive,3);return}n.isLive&&4===e.readyState&&t-e.currentTime>n.disconnectTime&&this.disconnect()}}),(0,r._)(this,"_onPlay",()=>{var e,t,n;let r=this._opts.softDecode||(null===(t=this.media)||void 0===t?void 0:null===(e=t.buffered)||void 0===e?void 0:e.length);if(this.isLive)return!this._loading&&r?(this._resetDisconnectCount(),this.load(this._opts.url),null===(n=this.media)||void 0===n?void 0:n.play().catch(()=>{})):void 0;let i=this.bufferInfo();(i.start||i.nextStart)>.1&&this._tick()}),(0,r._)(this,"_onLoadeddata",()=>{this.isLive&&!this._opts.mseLowLatency&&this.media.duration!==1/0&&this._bufferService.updateDuration(1/0).catch(()=>{})}),(0,r._)(this,"_onSeeking",async()=>{!this.isLive&&this.seekable&&(this._preLoadEndPoint=-1,this._checkPreload())}),(0,r._)(this,"_onTimeupdate",()=>{var e;if(!this.media)return;let t=this._opts,n=this.media.currentTime;if(t.isLive&&t.maxLatency&&t.targetLatency){let e=p.l.end(p.l.get(this.media));e-n>=t.maxLatency&&(this.media.currentTime=e-t.targetLatency)}null===(e=this._bufferService)||void 0===e||e._seiService.throw(n),!t.isLive&&this.seekable&&!this._loading&&this._checkPreload()}),(0,r._)(this,"_onWaiting",()=>{this.isLive&&!this._loading&&this._disconnectRetryCount&&(this._disconnectRetryCount--,this.load())}),(0,r._)(this,"_onBufferUpdate",()=>{if(this._opts.isLive)return;let{end:e,nextEnd:t}=this.bufferInfo();1>Math.abs((e||t)-this.media.duration)&&(this._end(),this.media.readyState<=2&&this._tick())}),(0,r._)(this,"_checkPreload",async()=>{let{remaining:e=0}=this.bufferInfo(),t=this._opts,n=this._keyframes.filepositions,r=this._keyframes.times,i=this.media.currentTime;if(e<t.preloadTime){let t=(0,c.s)(this._keyframes.times,i+e+.1),o=(0,c.s)(this._keyframes.times,i+e+this._opts.preloadTime);if(o===t&&(o=t+1),this._preLoadEndPoint===o)return;let a=n[t];if(null==a)return;await this._mediaLoader.cancel(),this._preLoadEndPoint=o,this._bufferService.unContiguous(r[t])}}),(0,r._)(this,"_onFlvScriptData",e=>{var t,n,r,i;let o=null===(n=e.data)||void 0===n?void 0:null===(t=n.onMetaData)||void 0===t?void 0:t.keyframes,a=null===(i=e.data)||void 0===i?void 0:null===(r=i.onMetaData)||void 0===r?void 0:r.duration;o&&(this._keyframes=o),!this._opts.isLive&&a&&this._bufferService.updateDuration(a)}),this._opts=(0,l.R)(e),this._player=t,this.media=this._opts.media,this._mediaLoader=new d.j,this._disconnectRetryCount=this._opts.disconnectRetryCount,this._transferCost=new u.P,this._bufferService=new s.y(this,null,this._opts),this._bandwidthService=new f,this.media.addEventListener("play",this._onPlay),this.media.addEventListener("loadeddata",this._onLoadeddata),this.media.addEventListener("seeking",this._onSeeking),this.media.addEventListener("timeupdate",this._onTimeupdate),this.media.addEventListener("progress",this._onBufferUpdate),this.media.addEventListener("waiting",this._onWaiting),this._player.on(v.le.KEYFRAME,this._onKeyframe),this.initAbr()}}var b=n("548548"),w=n("467133"),S=n("989456"),E=n("647502");class k extends o.v{init(e){this._media=e;let{config:t}=this;if(this._flv=new _((0,i._)({isLive:!t.isVod,media:e},t),this),e.addEventListener("timeupdate",this.handleTimeupdate),e.autoplay){let t=()=>{e.removeEventListener("canplay",t),e.play().catch(()=>{null==e||e.dispatchEvent(new CustomEvent(E.c.AUTOPLAY_WAS_PREVENTED,{}))})};e.addEventListener("canplay",t)}this.initPlugins()}initPlugins(){let{plugins:e}=this.config;e&&(this.plugins=e.map(e=>new e(this))),this.plugins.forEach(e=>{e.afterPlayerInit()})}playBy(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{url:n}=t;this._src=n,this.updateProtoConfig(t),t.seamless?this.emit(b.Zo.SEAMLESS_LOAD_STREAM,{url:n}):this.emit(b.Zo.URLCHANGE,{url:n}),this._onSwitchURL(t.url,!!t.seamless),null===(e=this.media)||void 0===e||e.dispatchEvent(new CustomEvent("loadstart",{}))}updateProtoConfig(){var e,t,n,r;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o.decryption){if(o.decryption.entry!==(null===(t=this.config.decryption)||void 0===t?void 0:t.entry)){let e=(0,S.j)(o.decryption.entry);(null==e?void 0:e.default)&&(o.awManager=new e.default)}else o.awManager=this.config.awManager;o.decryption.keyStr!==(null===(n=this.config.decryption)||void 0===n?void 0:n.keyStr)&&(null===(r=o.awManager)||void 0===r||r.descryptKey(o.decryption.keyStr))}else null===o.decryption&&(o.awManager=void 0);let a=(0,w.i)((0,i._)({},this.config,o));return this.config=a,null===(e=this._flv)||void 0===e||e.updateOption((0,i._)({isLive:!a.isVod},a)),a}reset(){this._flv&&(this._flv.destroy(),this._flv=void 0)}get src(){return this._src}get buffered(){var e;return null===(e=this.media)||void 0===e?void 0:e.buffered}get currentTime(){var e;return null===(e=this.media)||void 0===e?void 0:e.currentTime}get duration(){var e;return null===(e=this.media)||void 0===e?void 0:e.duration}get media(){return this._media}get speed(){var e;return null===(e=this.media)||void 0===e?void 0:e.playbackRate}set speed(e){this.speed!==e&&(this.media.playbackRate=e)}get bufferLength(){let{currentTime:e=0,buffered:t}=this._media||{};if(!t)return 0;for(let n=0;n<t.length;n++){let r=t.end(n);if(t.start(n)<=e&&r>=e)return(r-e)*1e3}return 0}play(){var e;return null===(e=this._media)||void 0===e?void 0:e.play()}constructor(e,t){super(),(0,r._)(this,"_media",null),(0,r._)(this,"_flv",void 0),(0,r._)(this,"_src",void 0),(0,r._)(this,"preUrl",void 0),(0,r._)(this,"_revocable",null),(0,r._)(this,"config",{}),(0,r._)(this,"plugins",[]),(0,r._)(this,"destroy",()=>{var e;this.removeAllListeners(),null===(e=this._media)||void 0===e||e.removeEventListener("timeupdate",this.handleTimeupdate),this._flv&&(this._flv.destroy(),this._flv=void 0),this.plugins.forEach(e=>{e.destroy()})}),(0,r._)(this,"_onSwitchURL",(e,t)=>{if(this._flv){var n;this.preUrl=this.config.url,this.config.url=e,this._flv.switchURL(e,t),!t&&(null===(n=this.config)||void 0===n?void 0:n.keepStatusAfterSwitch)&&this._keepPauseStatus()}}),(0,r._)(this,"onSwitchCancel",()=>{this._flv&&this._flv._seamlessSwitching&&this._flv._loading&&this.preUrl&&this.playBy({url:this.preUrl})}),(0,r._)(this,"_keepPauseStatus",()=>{var e,t;if(!(null===(e=this._media)||void 0===e?void 0:e.paused))return;let n=()=>{var e,t;null===(e=this.media)||void 0===e||e.removeEventListener("canplay",n),null===(t=this._media)||void 0===t||t.pause()};null===(t=this.media)||void 0===t||t.addEventListener("canplay",n)}),(0,r._)(this,"handleTimeupdate",()=>{var e;this.emit(v.le.PROP_SPEED,(0,i._)({},null===(e=this._flv)||void 0===e?void 0:e._bandwidthService.speedInfo));let t=this.bufferLength;1.1===this.speed?t<=1800&&(this.speed=1):1===this.speed&&t>=2500&&(this.speed=1.1)}),this.config=this.updateProtoConfig(t),this._src=this.config.url,this.init(e)}}},840048:function(e,t,n){"use strict";n.d(t,{Fc:function(){return o},wb:function(){return r}}),n(209955);let r={MANIFEST:"manifest",NETWORK:"network",NETWORK_TIMEOUT:"network_timeout",NETWORK_FORBIDDEN:"network_forbidden",NETWORK_NOTFOUND:"network_notfound",NETWROK_RANGE_NOT_SATISFIABLE:"network_range_not_satisfiable",DEMUX:"demux",REMUX:"remux",MEDIA:"media",DRM:"drm",OTHER:"other",RUNTIME:"runtime",SUB_TYPES:{FLV:"FLV",HLS:"HLS",MP4:"MP4",FMP4:"FMP4",MSE_ADD_SB:"MSE_ADD_SB",MSE_APPEND_BUFFER:"MSE_APPEND_BUFFER",MSE_OTHER:"MSE_OTHER",MSE_FULL:"MSE_FULL",MSE_CHANGE_TYPE:"MSE_CHANGE_TYPE",OPTION:"OPTION",DASH:"DASH",LICENSE:"LICENSE",CUSTOM_LICENSE:"CUSTOM_LICENSE",MSE_HIJACK:"MSE_HIJACK",EME_HIJACK:"EME_HIJACK",SIDX:"SIDX",NO_CANPLAY_ERROR:"NO_CANPLAY_ERROR",BUFFERBREAK_ERROR:"BUFFERBREAK_ERROR",WAITING_TIMEOUT_ERROR:"WAITING_TIMEOUT_ERROR",MEDIA_ERR_ABORTED:"MEDIA_ERR_ABORTED",MEDIA_ERR_NETWORK:"MEDIA_ERR_NETWORK",MEDIA_ERR_DECODE:"MEDIA_ERR_DECODE",MEDIA_ERR_SRC_NOT_SUPPORTED:"MEDIA_ERR_SRC_NOT_SUPPORTED",MEDIA_ERR_CODEC_NOT_SUPPORTED:"MEDIA_ERR_CODEC_NOT_SUPPORTED",MEDIA_ERR_URL_EMPTY:"MEDIA_ERR_URL_EMPTY"}},i={[r.MANIFEST]:{HLS:1100,DASH:1200},[r.NETWORK]:2100,[r.NETWORK_TIMEOUT]:2101,[r.NETWORK_FORBIDDEN]:2103,[r.NETWORK_NOTFOUND]:2104,[r.NETWROK_RANGE_NOT_SATISFIABLE]:2116,[r.DEMUX]:{FLV:3100,HLS:3200,MP4:3300,FMP4:3400,SIDX:3410},[r.REMUX]:{FMP4:4100,MP4:4200},[r.MEDIA]:{MEDIA_ERR_ABORTED:5101,MEDIA_ERR_NETWORK:5102,MEDIA_ERR_DECODE:5103,MEDIA_ERR_SRC_NOT_SUPPORTED:5104,MEDIA_ERR_CODEC_NOT_SUPPORTED:5105,MEDIA_ERR_URL_EMPTY:5106,MSE_ADD_SB:5200,MSE_APPEND_BUFFER:5201,MSE_OTHER:5202,MSE_FULL:5203,MSE_HIJACK:5204,MSE_CHANGE_TYPE:5205,EME_HIJACK:5301},[r.DRM]:{LICENSE:7100,CUSTOM_LICENSE:7200},[r.OTHER]:8e3,[r.RUNTIME]:{NO_CANPLAY_ERROR:9001,BUFFERBREAK_ERROR:9002,WAITING_TIMEOUT_ERROR:9003}};class o extends Error{static create(e,t,n,i,a){return e instanceof o?e:(e instanceof Error&&(n=e,e=""),!e&&(e=r.OTHER),new o(e,t,n,i,a))}static network(e){var t;return new o((null==e?void 0:e.isTimeout)?r.NETWORK_TIMEOUT:r.NETWORK,null,e instanceof Error?e:null,{url:null==e?void 0:e.url,response:null==e?void 0:e.response,httpCode:null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.status})}constructor(e,t,n,o,a){super(a||(null==n?void 0:n.message)),this.errorType=e===r.NETWORK_TIMEOUT?r.NETWORK:e,this.originError=n,this.ext=o,this.errorCode=i[e][t]||i[e],this.errorMessage=this.message,!this.errorCode&&(this.errorType=r.OTHER,this.errorCode=i[this.errorType])}}},640345:function(e,t,n){"use strict";n.d(t,{RM:function(){return c},ZP:function(){return u},l7:function(){return l}});var r=n(134761);n(874386),n(268917);var i=n(828578);let o={debug:1,log:2,warn:3,error:4},a=!1,s=2;try{let e=localStorage.getItem(i.ct.PLAYER_LOG);a=!!e;let t=Number(e);!isNaN(t)&&t>=o.debug&&t<=o.error&&(s=t)}catch(e){}function l(){return a}function c(){return s}class u{debug(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];u.loggerHandle("debug",...t)}log(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];u.loggerHandle("log",...t)}warn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];u.loggerHandle("warn",...t)}error(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];u.loggerHandle("error",...t)}table(e){}static setLevel(e){u.level=e}static setEnable(e){u.enable=e}static setLoggerSize(e){u.maxSize=e}set loggerID(e){e&&(this._id=e)}get loggerID(){return this._id}static logCache(e){if(u.size+=e.length,u.logTextArray.push(e),u.size>u.maxSize){let e=u.logTextArray.shift();e&&(u.size-=e.length)}}static loggerHandle(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=o[e];if(!i)return;let a=`${n.join(" ")}`;i>=u.level&&(u.logCache(a),u.enable&&console[e](a))}static getLoggerCache(){return u.logTextArray.join("\n")}static reset(){u.logTextArray=[],u.size=0}constructor(e){return(0,r._)(this,"name",void 0),(0,r._)(this,"_id",void 0),this.name=e,new Proxy(this,{get:(e,t)=>{var n;if("function"!=typeof this[t])return this[t];return null===(n=this[t])||void 0===n?void 0:n.bind(console,`[${function(){let e=new Date;return e.toISOString?e.toISOString():e.toLocaleString()}()}|${this._id||"-"}|${this.name}]`)}})}}(0,r._)(u,"enable",!1),(0,r._)(u,"maxSize",512e3),(0,r._)(u,"size",0),(0,r._)(u,"logTextArray",[]),(0,r._)(u,"level",o.log)},548548:function(e,t,n){"use strict";n.d(t,{Zo:function(){return r}});var r={ISREADY:"up_isready",STARTPLAY:"up_startplay",TRANSMIT_LOG:"up_getlog",PROTOCOL_CONFIG:"up_protocolconfig",MEDIACODEC_CONFIG:"up_veconfig",LOAD_STREAM:"up_loadstream",SEAMLESS_LOAD_STREAM:"up_seamlessloadstream",CANCEL_SWITCH:"up_cancelswitch",PLAY:"up_play",PAUSE:"up_pause",MUTED_SET:"up_mutedset",LOOP_CHANGE:"up_loopchange",CURRENT_TIME:"up_currenttime",PLAYBACKRATE:"up_playbackrate",WRITABLE:"up_writable",FREQUENT_STATISTICS:"up_frequentstatistics",ERROR:"up_error",PROCESS_ERROR:"up_process_error",VISIBILITYSTATE:"up_process_visibilityState",RESET:"up_reset",MESSAGE_EVENT_RECEIVESUCCESS:"down_e_receivesuccess",MESSAGE_EVENT_ISREADY:"down_e_ready",MESSAGE_EVENT_LOADEDMETADATA:"down_e_loadedmetadata",MESSAGE_EVENT_DURATIONCHANGE:"down_e_durationchange",MESSAGE_EVENT_WAITING:"down_e_waiting",MESSAGE_EVENT_SEEKING:"down_e_seeking",MESSAGE_EVENT_SEEKED:"down_e_seeked",MESSAGE_EVENT_PROGRESS:"down_e_progress",MESSAGE_EVENT_TIMEUPDATE:"down_e_timeupdate",MESSAGE_EVENT_ENDED:"down_ended",MESSAGE_EVENT_RATECHANGE:"down_e_ratechange",MESSAGE_TRANS_LOG:"down_translog",MESSAGE_INIT_RENDER:"down_initrender",MESSAGE_FIRSTFRAME:"down_firstframe",MESSAGE_STATISTICS:"down_statistics",MESSAGE_EVENT_VEERROR:"down_e_veerror",MESSAGE_EVENT_DROPFRAMES:"down_e_dropframes",MESSAGE_EVENT_CANPLAY:"down_e_canplay",MESSAGE_EVENT_PLAYING:"down_e_playing",MESSAGE_EVENT_SEGMENT_DONE:"down_e_segment_done",URLCHANGE:"urlchange",DESTROY:"destroy",VOLUMEBALANCE_UPDATE:"volumebalance_update",DOWN_WRITABLE:"down_writable",workerinit:"f-workerinit",startload:"f-startload",firstbyte:"f-firstbyte",loadmeta:"f-loadmeta",metaparse:"f-metaparse",addmeta:"f-addmeta",videodecodeinits:"f-videodecodeinits",audiodecodeinits:"f-audiodecodeinits",videodecodeinited:"f-videodecodeinited",audiodecodeinited:"f-audiodecodeinited",appendvideodata:"f-appendvideodata",startdecodevideo:"f-startdecodevideo",outputvideo:"f-outputvideo",writevideo:"f-writevideo",writeready:"f-writeready",AV_UNSYNC:"av-unsync",SDP_LOAD:"sdp-load",SDP_DISCONNECT:"sdp-disconnect",SDP_TRANSFORM:"sdp-transform",AV_CODEC_INFO:"av-codec-info",RTM_STATS:"rtm-stats",RTM_RESPONSE_HEADERS:"rtm-response-headers",RTM_TTFB:"rtm-ttfb",RTM_SAMPLE_RATE_CHANGE:"rtm-sample-rate-change"}},108400:function(e,t,n){"use strict";n(134761),n(209955);let r="network",i="network_timeout",o="network_forbidden",a="network_notfound",s="demux",l="other",c="runtime"},171269:function(e,t,n){"use strict";function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(t=>setTimeout(t,e))}n.d(t,{_:function(){return r}}),n(675373)},677880:function(e,t,n){"use strict";n.d(t,{V:function(){return o}}),n(268917),n(209955);var r=n(982387),i=n(126400);class o{static parseHEVCDecoderConfigurationRecord(e){let t,n,i,a,s,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.length<23)return;l=l||{};let c=(3&e[21])+1,u=[],h=[],d=[],f=23,p=e[22];for(let c=0;c<p;c++){i=63&e[f],a=e[f+1]<<8|e[f+2],f+=3;for(let c=0;c<a;c++)if(s=e[f]<<8|e[f+1],f+=2,s){switch(i){case 32:{let n=e.subarray(f,f+s);!t&&(t=o.parseVPS(r.l.removeEPB(n),l)),d.push(n)}break;case 33:{let t=e.subarray(f,f+s);!n&&(n=o.parseSPS(r.l.removeEPB(t),l)),u.push(t)}break;case 34:h.push(e.subarray(f,f+s))}f+=s}}return{hvcC:l,sps:n,spsArr:u,ppsArr:h,vpsArr:d,nalUnitSize:c}}static parseVPS(e,t){t=t||{};let n=new i.SE(e);n.readUByte(),n.readUByte(),n.readBits(12);let r=n.readBits(3);return t.numTemporalLayers=Math.max(t.numTemporalLayers||0,r+1),n.readBits(17),o._parseProfileTierLevel(n,r,t),t}static parseSPS(e){let t,n,r,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s=s||{};let l=new i.SE(e);l.readUByte(),l.readUByte(),l.readBits(4);let c=l.readBits(3);s.numTemporalLayers=Math.max(c+1,s.numTemporalLayers||0),s.temporalIdNested=l.readBits(1),o._parseProfileTierLevel(l,c,s),l.readUEG();let u=s.chromaFormatIdc=l.readUEG(),h=420;u<=3&&(h=[0,420,422,444][u]);let d=0;3===u&&(d=l.readBits(1));let f=l.readUEG(),p=l.readUEG(),v=l.readBits(1);if(1===v&&(t=l.readUEG(),n=l.readUEG(),r=l.readUEG(),a=l.readUEG()),s.bitDepthLumaMinus8=l.readUEG(),s.bitDepthChromaMinus8=l.readUEG(),1===v){let e=(1===u||2===u)&&0===d?2:1,i=1===u&&0===d?2:1;f-=e*(n+t),p-=i*(a+r)}return{codec:"hev1.1.6.L93.B0",width:f,height:p,chromaFormat:h,hvcC:s}}static _parseProfileTierLevel(e,t,n){let r=n.generalTierFlag||0;n.generalProfileSpace=e.readBits(2),n.generalTierFlag=Math.max(e.readBits(1),r),n.generalProfileIdc=Math.max(e.readBits(5),n.generalProfileIdc||0),n.generalProfileCompatibilityFlags=e.readBits(32),n.generalConstraintIndicatorFlags=[e.readBits(8),e.readBits(8),e.readBits(8),e.readBits(8),e.readBits(8),e.readBits(8)];let i=e.readBits(8);r<n.generalTierFlag?n.generalLevelIdc=i:n.generalLevelIdc=Math.max(i,n.generalLevelIdc||0);let o=[],a=[];if(t>e.bitsAvailable)throw Error(`maxSubLayersMinus inavlid size ${t}`);for(let n=0;n<t;n++)o[n]=e.readBits(1),a[n]=e.readBits(1);t>0&&e.readBits((8-t)*2);for(let n=0;n<t;n++)0!==o[n]&&(e.readBits(2),e.readBits(1),e.readBits(5),e.readBits(16),e.readBits(16),e.readBits(4),e.readBits(16),e.readBits(16),e.readBits(12)),0!==a[n]&&e.readBits(8)}}},68029:function(e,t,n){"use strict";n.d(t,{VB:function(){return o.V},Wc:function(){return i.W},lE:function(){return a.l},xW:function(){return r.x}});var r=n(887689),i=n(496368),o=n(677880),a=n(982387)},982387:function(e,t,n){"use strict";n.d(t,{l:function(){return i}}),n(268917),n(927234),n(112587),n(17322),n(560401),n(779566),n(69896),n(416555),n(404948);var r=n(126400);class i{static parseAnnexB(e){let t=e.length,n=2,r=0;for(;null!==e[n]&&void 0!==e[n]&&1!==e[n];)n++;if((r=++n+2)>=t)return[];let i=[];for(;r<t;)switch(e[r]){case 0:if(0!==e[r-1]){r+=2;break}if(0!==e[r-2]){r++;break}n!==r-2&&i.push(e.subarray(n,r-2));do r++;while(1!==e[r]&&r<t);r=(n=r+1)+2;break;case 1:if(0!==e[r-1]||0!==e[r-2]){r+=3;break}n!==r-2&&i.push(e.subarray(n,r-2)),r=(n=r+1)+2;break;default:r+=3}return n<t&&i.push(e.subarray(n)),i}static parseAvcC(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;if(e.length<4)return;let i=e.length,o=[],a=0;for(;a+n<i;){if(t=(0,r.Bh)(e,a),3===n&&(t>>>=8),a+=n,!!t){if(a+t>i)break;o.push(e.subarray(a,a+t)),a+=t}}return o}static parseSEI(e,t){let n=e.length,r=t?2:1,i=0,o=0,a="";for(;255===e[r];)i+=255,r++;for(i+=e[r++];255===e[r];)o+=255,r++;if(o+=e[r++],5===i&&n>r+16)for(let t=0;t<16;t++)a+=e[r].toString(16),r++;return{payload:e.subarray(r,r+o),type:i,size:o,uuid:a}}static removeEPB(e){let t=e.byteLength,n=[],r=1;for(;r<t-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(n.push(r+2),r+=2):r++;if(!n.length)return e;let i=t-n.length,o=new Uint8Array(i),a=0;for(r=0;r<i;a++,r++)a===n[0]&&(a++,n.shift()),o[r]=e[a];return o}}},897345:function(e,t,n){"use strict";n.d(t,{NQ:function(){return r.N}});var r=n(342459);n(634698)},402846:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var r=n(134761);class i{constructor(e,t,n,i){(0,r._)(this,"duration",1024),(0,r._)(this,"flag",{dependsOn:2,isNonSyncSample:0}),(0,r._)(this,"keyframe",!0),this.originPts=this.pts=this.dts=e,this.data=t,this.size=t.byteLength,this.sampleOffset=i,n&&(this.duration=n)}}},634698:function(e,t,n){"use strict";n.d(t,{Bc:function(){return l.Bc},FO:function(){return s.FO},WP:function(){return i.W},Xw:function(){return a.X},_$:function(){return s._$},_A:function(){return o._},_e:function(){return l._e},m$:function(){return s.m$},qT:function(){return r.q},yQ:function(){return l.yQ}});var r=n(970404),i=n(810805),o=n(519355),a=n(402846),s=n(3991),l=n(307789)},126400:function(e,t,n){"use strict";n.d(t,{Bh:function(){return a},Dt:function(){return o.Dt},G6:function(){return o.G6},KR:function(){return i.K},N1:function(){return l},SE:function(){return r.S},dB:function(){return s},vU:function(){return o.vU}}),n(927234),n(268917),n(112587),n(17322),n(560401),n(779566),n(69896),n(416555),n(404948);var r=n(499284),i=n(611240),o=n(165014);function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e[t]<<24>>>0)+(e[t+1]<<16)+(e[t+2]<<8)+(e[t+3]||0)}function s(e){let t,n="avc1.";for(let r=0;r<3;r++)(t=e[r].toString(16)).length<2&&(t=`0${t}`),n+=t;return n}function l(e){let t=[],n=e.length;if(n<=48)return e;for(let r=0;r<n-4;)0===e[r]&&0===e[r+1]&&3===e[r+2]&&e[r+3]<=3?(t.push(r+2),r+=3):r+=1;if(t.length){let r=new Uint8Array(n-t.length),i=0;return t.map((o,a)=>{let s=t[a-1]||-1,l=e.slice(s+1,o);r.set(l,i),i+=l.length,a===t.length-1&&o+1<n&&r.set(e.slice(o+1),i)}),r}return e}},289493:function(e,t,n){"use strict";n.d(t,{le:function(){return a}});var r=n(520739),i=n(878389);n(648464);var o=n(754448);let a=(0,i._)((0,r._)({},o.o),{FLVERROR:"error"})},304356:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});var r={FLV:"flv",MP4:"mp4",MP3:"mp3",DASH:"dash",RTM:"rtm"}},790754:function(e,t,n){"use strict";n.d(t,{Dc:function(){return s},Lx:function(){return a},Zy:function(){return c},eY:function(){return u},vH:function(){return l}}),n(250440),n(675373);var r=n(304356),i=n(372971),o=n(280305);let a=new i.C("playerActxs");function s(e,t){let n=[r.b.FLV,r.b.RTM].includes(t.protocol),{sampleRate:i,heAAC:o,channelCount:s}=e,l=a.getIdleTracks(o&&n?2*i:i,s).filter(e=>void 0===e.isLive||(!!t.audioWorkerLetInWorker||!e.writableNeutrued)&&e.isLive===n);if(l.length){let e=l[0];if(!e)return;return e.writable.postMessage({type:"profile",heAAC:o}),e.track.enabled=!0,void 0===e.isLive&&(e.isLive=n),e}}async function l(e,t){let{protocol:n}=t,i=s(e,t);if(i)return i;let{sampleRate:o,heAAC:a,channelCount:l}=e,u=a&&[r.b.FLV,r.b.RTM].includes(n)?2*o:o,h=await c(u,l);return h&&n&&(h.isLive=[r.b.FLV,r.b.RTM].includes(n)),h}async function c(e,t){let n=new AudioContext({sampleRate:e});n.suspend();let r=await (0,o.Z)(n);if(!r)return;let i=new OscillatorNode(n,{type:"sine",channelCount:t||2,channelCountMode:"explicit",channelInterpretation:"speakers"}),s=n.createMediaStreamDestination();i.connect(r).connect(s),i.start();let l=s.stream.getAudioTracks()[0],c={id:l.id,track:l,writable:r.port,writableNeutrued:!1,ctx:n,workletNode:r,disconnect:function(){try{s.disconnect(),null==r||r.disconnect(),i.stop(),i.disconnect()}catch(e){}},source:i,sampleRate:n.sampleRate,channelCount:l.getSettings().channelCount||0,isLive:void 0};return a.register(c),c}function u(){let e=new MediaStreamTrackGenerator({kind:"video"});return{track:e,writable:e.writable}}},441242:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}}),n(429532),n(874386),n(268917);var r=n(645260),i=n.n(r),o=n(419936),a=n.n(o),s=n(883520),l=n(127043),c=n(934976);let u=c.U.PREFIX;class h extends s.Z{constructor(e){var t;super(Object.assign(Object.assign({},h.defaultAdapter),e)),t=this,this.init=()=>{},this.destroy=()=>{},this.addLink=e=>{this._adapter.addLink(e)},this.removeLink=e=>{this._adapter.removeLink(e)},this.setActiveLink=function(e,n){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=t._adapter.getState("activeLink"),o=t._adapter.getProp("onChange");i!==e&&(t._adapter.setActiveLink(e,t._setActiveSlide),o&&r&&t._adapter.notifyChange(e,n))},this.setScrollHeight=()=>{let e=`.${u}-link-wrapper`,t=this._adapter.getAnchorNode(e);if(t){let e=`${t.scrollHeight}px`;this._adapter.setScrollHeight(e)}},this.updateScrollHeight=(e,t)=>{let n=e.links.join("");n!==t.links.join("")&&this.setScrollHeight()},this.setChildMap=()=>{let e=this._adapter.getProp("children"),t={};if(a()(e))for(let n of e)this._getLinkToMap(n,[],t);else this._getLinkToMap(e,[],t);this._adapter.setChildMap(t)},this.updateChildMap=(e,t)=>{let n=e.links.join("");n!==t.links.join("")&&this.setChildMap()},this.getLinksTop=()=>this._adapter.getLinksBoundingTop(),this.handleScroll=()=>{let{clickLink:e,links:t,activeLink:n}=this.getStates();if(e)return;let r=this.getLinksTop(),i=-1/0,o=-1;for(let e=0;e<r.length;e++)r[e]<0&&r[e]>i&&(i=r[e],o=e);let a=t[o];this.setActiveLink(a,n)},this.handleClick=function(e,n){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=t._adapter.getContentNode(n),o=t._adapter.getState("activeLink");if(t.setActiveLink(n,o,r),i)try{t._adapter.setClickLinkWithCallBack(!0,n,t._scrollIntoView)}catch(e){}r&&t._adapter.notifyClick(e,n)},this.handleClickLink=()=>{this._adapter.setClickLink(!1)},this._getLinkToMap=(e,t,n)=>{let r=e&&e.props;if(!!r&&!!r.href){for(let e of(!(r.href in n)&&(n[r.href]=new Set),t))n[e].add(r.href);if(r.children&&r.children.length){for(let e of(t.push(r.href),r.children))this._getLinkToMap(e,t,n);t.pop()}}},this._scrollIntoView=e=>{let{scrollMotion:t,targetOffset:n}=this.getProps(),r=t?"smooth":"auto",o=this._adapter.canSmoothScroll();if(e){let t=this._adapter.getContentNode(e);t&&(0,l.Z)(t,{behavior:e=>{let t=e.find(e=>{let{el:t}=e;return t.scrollHeight>t.clientHeight}),a=i()(t,"el"),s=i()(t,"top");if(a){let e=s-n;a.scroll&&o?a.scroll({top:e,behavior:r}):a.scrollTop=e}},block:"start"})}},this._setActiveSlide=()=>{let e=`.${c.U.PREFIX}-link-title-active`,t=this._adapter.getAnchorNode(e);if(t){let e=t.offsetTop;this._adapter.setSlideBarTop(e)}}}}},753708:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(818749);let i={PREFIX:`${r.T}-backtop`}},742643:function(e,t,n){"use strict";n.d(t,{V5:function(){return x},ln:function(){return I},xm:function(){return L},q_:function(){return G},NM:function(){return C},Tl:function(){return k},E9:function(){return M},Wh:function(){return B},yG:function(){return U},A5:function(){return T},oU:function(){return F},vV:function(){return z},kM:function(){return N},th:function(){return R},yb:function(){return P},nB:function(){return D},yj:function(){return j}}),n("429532"),n("874386"),n("268917"),n("927234"),n("981168");var r=n("401425"),i=n("515133"),o=n("987825"),a=n("632599"),s=n("972773"),l=n("508249"),c=n("647419"),u=n("812316"),h=n("170325"),d=n("699975");function f(e){(0,d.Z)(1,arguments);var t=(0,r.Z)(e);return t.setHours(23,59,59,999),t}var p=n("740281"),v=n("38470"),g=n("907718"),m=n("558013"),y=n("291180"),_=n("215352"),b={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},w=n("258226");let S=function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=Object.assign({},e);return o.date=t,n&&(o.start=n),r&&(o.end=r),o.allDay=i,o},E=(e,t,n)=>{let i=(0,r.Z)(e),o=(0,r.Z)(t),a=(0,r.Z)(n);return i.getTime()<a.getTime()&&i.getTime()>=o.getTime()},k=(e,t)=>(0,i.Z)(new Date(e),new Date(t))?-1:1,T=e=>(0,o.Z)(e),x=()=>new Date,C=e=>Math.round(1e3*e)/1e3,I=e=>{let t=(60*(0,a.Z)(e)+(0,s.Z)(e))*60+(0,l.Z)(e);return t/86400},O=e=>"allDay"in e&&e.allDay,A=e=>{let{start:t,end:n}=e;return t||n?(t?e.end=(0,c.Z)(t,(0,u.Z)(t,1))?(0,u.Z)(t,1):f(t):e.start=(0,c.Z)(n,(0,u.Z)(n,-1))?(0,u.Z)(n,-1):(0,h.Z)(n),e):void 0},P=e=>{let t=e.map(e=>e.topInd);return t.length?Math.max(...t)+1:1},R=(e,t,n,r,i,o)=>{let a=x(),s=[];return[...Array(n).keys()].map(n=>{let l={},u=(0,p.Z)(t,n);l.ind=n,l.date=u,l.dayString=(0,v.Z)(u,"d",{locale:i,weekStartsOn:o}),l.weekday=(0,v.Z)(u,"EEE",{locale:i,weekStartsOn:o}),l.isToday=(0,c.Z)(u,a),l.isWeekend=T(u),"month"===r&&(l.isSameMonth=(0,g.Z)(e,u),l.month=(0,v.Z)(u,"LLL",{locale:i})),s.push(l)}),s},D=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"week",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=(0,m.Z)(e,{weekStartsOn:i});return R(t||e,o,7,n,r,i)},L=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=[],{start:i,end:o}=e;return i&&o?[...Array((0,y.Z)(o,i)+1).keys()].map(n=>{r.push(S(e,(0,p.Z)(i,n),null,null,t))}):r.push(S(e,(0,h.Z)(i||o||n),null,null,t)),r},M=e=>{let{start:t,end:n}=e,o=[];if(O(e))return L(e);if(t&&n)!(0,i.Z)(t,n)&&([e.start,e.end]=[e.end,e.start]),(0,c.Z)(t,n)?o.push(S(e,(0,h.Z)(t))):24>Math.abs(function(e,t,n){(0,d.Z)(2,arguments);var i,o=function(e,t){return(0,d.Z)(2,arguments),(0,r.Z)(e).getTime()-(0,r.Z)(t).getTime()}(e,t)/_.vh;return((i=null==n?void 0:n.roundingMethod)?b[i]:b.trunc)(o)}(t,n))?(o.push(S(e,(0,h.Z)(t),null,f(t))),o.push(S(e,(0,h.Z)(n),(0,h.Z)(n)))):o=o.concat(L(e));else{let t=A(e);o.push(S(t,(0,h.Z)(t.start)))}return o},z=(e,t,n,r)=>{let i=new Map;return e.forEach(e=>{let o;o=t in e?e[t]:(0,h.Z)(r);let a=n?n(o).toString():o.toString();i.has(a)?i.get(a).push(e):i.set(a,[e])}),i},N=(e,t,n)=>{let r=new Map;return[...e.keys()].map(o=>{let a=e.get(o),s=new Date(o);if(E(s,t,n))r.has(o)?r.set(o,[...r.get(o),...a]):r.set(o,a);else if((0,i.Z)(n,s));else{let e=a.filter(e=>!e.end||!(0,i.Z)(e.end,t)),n=t.toString();r.has(n)?r.set(n,[...r.get(n),...e]):r.set(n,a)}}),r},j=(e,t,n)=>N(e,t,(0,p.Z)((0,w.Z)(t,{weekStartsOn:n}),1)),B=(e,t,n,r,i)=>{let o=(0,y.Z)(r,n);return e.sort((e,t)=>k(e.start,t.start)).forEach(e=>{let a;let s=Object.assign({},e),{end:l}=e,c=(0,y.Z)(t,n),u=0;for(;i[u]&&i[u][c];)u++;a=l?E(l,n,r)?(0,y.Z)(l,t):(0,y.Z)(r,t):0,s.leftPos=C(Number(c)/o),s.width=Math.min(1-C(Number(c)/o),C((a+1)*1/o)),s.topInd=u,[...Array(a+1).keys()].forEach(t=>{!i[u]&&(i[u]=[]),t>0?i[u][c+t]=e:i[u][c+t]=s})}),i},U=(e,t,n,r,i)=>B(e,t,n,(0,p.Z)((0,w.Z)(t,{weekStartsOn:i}),1),r),F=e=>{let t={};return e.forEach((e,n)=>{e.forEach((e,r)=>{t[r]||(t[r]=[]),t[r][n]=e})}),t},G=e=>{let t,n,{start:r,end:o,allDay:a,children:s}=e;if(O(e))t=0,n=0;else if(r&&o)!(0,i.Z)(r,o)&&([r,o]=[o,r]),t=I(r),n=I(o);else{let r=A(e);n=I(r.end),t=I(r.start)}return{startPos:C(t),endPos:C(n),children:s,allDay:!!a}}},580274:function(e,t,n){"use strict";n.d(t,{U:function(){return i},j:function(){return o}});var r=n(818749);let i={PREFIX:`${r.T}-card`},o={SHADOWS:["hover","always"],TYPE:["grid"]}},218144:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(818749);let i={PREFIX:`${r.T}-collapsible`}},636625:function(e,t,n){"use strict";n(429532),n(209955);var r=n(883520),i=n(213470);class o extends r.Z{constructor(e){super(Object.assign({},e)),this.handleChangeH=(e,t)=>{let n=Object.assign(Object.assign({},e.hsva),{h:t}),r=(0,i.MA)(n),o=(0,i.A)(n),a={rgba:r,hsva:n,hex:o};this._adapter.notifyChange(a),!this.getProp("value")&&this._adapter.setState({currentColor:a})},this.handleChangeA=(e,t)=>{let n=this._adapter.getProp("alpha");!n&&(t=1);let r=Object.assign(Object.assign({},e.rgba),{a:t}),o=(0,i.s)(r);e={rgba:r,hex:n?o:o.slice(0,7),hsva:Object.assign(Object.assign({},e.hsva),{a:t})},this._adapter.notifyChange(e),!this.getProp("value")&&this._adapter.setState({currentColor:e})},this.getCurrentColor=()=>{let e=this.getProp("value"),t=this.getState("currentColor");return e||t},this.handleChange=(e,t)=>{let n;if("hsva"===t)n={hsva:e,rgba:o.hsvaToRgba(e),hex:o.hsvaToHex(e)};else if("rgba"===t)n={rgba:e,hsva:o.rgbaToHsva(e),hex:o.rgbaToHex(e)};else if("hex"===t)n={hex:e,hsva:o.hexToHsva(e),rgba:o.hexToRgba(e)};else throw Error("format error");this._adapter.notifyChange(n),!this.getProp("value")&&this._adapter.setState({currentColor:n})},this.handleAlphaChangeByHandle=e=>{this.handleChangeA(this.getCurrentColor(),e.a)},this.handleColorChangeByHandle=e=>{this.handleChangeH(this.getCurrentColor(),e.h)},this.getHandlePositionByHSVA=(e,t,n)=>{let{width:r,height:i}=t,o={x:e.s/100*r,y:(1-e.v/100)*i};return{x:o.x-n/2,y:o.y-n/2}},this.getHandlePositionByMousePosition=(e,t,n)=>{let{width:r,height:i}=t;return e.x>r||e.x<0||e.y>i||e.y<0?null:{x:e.x-n/2,y:e.y-n/2}},this.getAlphaHandlePositionByMousePosition=(e,t,n)=>e<0||e>t?null:e-n/2,this.getColorHandlePositionByMousePosition=(e,t,n)=>e<0||e>t?null:e-n/2}}o.hsvaToRgba=i.MA,o.rgbaToHsva=i.S7,o.rgbaToHex=i.s,o.hsvaToHex=i.A,o.hexToRgba=i.a7,o.hexToHsva=i.HW,o.hsvaToHslaString=i.Gg,o.hsvaToHslString=i.ZI,o.rgbaStringToHsva=i.QU,o.rgbaStringToRgba=i.fT,t.Z=o},85347:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(734798),i=n(739245),o=n(478442),a=n(128695);function s(e){let{defaultPickerValue:t,format:n,dateFnsLocale:s}=e,l=Array.isArray(t)?t[0]:t,c=Array.isArray(t)?t[1]:void 0;switch(!0){case(0,i.Z)(l):break;case(0,a.Z)(l):l=new Date(l);break;case"string"==typeof l:l=(0,o.h)(l,n,void 0,s);break;default:l=new Date}switch(!0){case(0,i.Z)(c):break;case(0,a.Z)(c):c=new Date(c);break;case"string"==typeof c:c=(0,o.h)(c,n,void 0,s);break;default:c=(0,r.Z)(l,1)}return{nowDate:l,nextDate:c}}},884779:function(e,t,n){"use strict";var r=n(866674),i=n.n(r),o=n(786462),a=n(38470);t.Z=(e,t)=>{if(!t)return"";let n=new Date(t),r=i()(e)?e(n):n;return(0,a.Z)(new Date(r),o.j2.FORMAT_FULL_DATE)}},460178:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}}),n(826893);var r=n(130641);function i(e){let t;let{format:n,type:i}=e,o=(0,r.E)(i);switch(i){case"dateTime":case"dateTimeRange":let a=/([yMd]{0,4}[^a-z\s]*[yMd]{0,4}[^a-z\s]*[yMd]{0,4}) (H{0,2}[^a-z\s]*m{0,2}[^a-z\s]*s{0,2})/i.exec(n);t=a&&a[1]&&a[2]?`${a[1]} ${a[2]}`:o;break;default:let s=/([yMd]{0,4}[^a-z\s]*[yMd]{0,4}[^a-z\s]*[yMd]{0,4})/i.exec(n);t=s&&s[1]||o}return t}},500977:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9663),i=n(841115),o=n(730700);function a(e,t){let n=(0,o.Z)(e)?(0,r.Z)(e):e,a=(0,o.Z)(t)?(0,r.Z)(t):t;return(0,i.Z)(n,a)}},788689:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(9663),i=n(515133),o=n(663230),a=n(902314),s=n(730700);function l(e,t){let{start:n,end:l}=t,c=(0,s.Z)(e)?(0,r.Z)(e):e,u=(0,s.Z)(n)?(0,r.Z)(n):n,h=(0,s.Z)(l)?(0,r.Z)(l):l;return(0,i.Z)(u,h)&&(0,o.Z)(c,{start:u,end:h})&&!(0,a.Z)(c,u)&&!(0,a.Z)(c,h)}},739245:function(e,t,n){"use strict";function r(e){return e&&"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e)}n.d(t,{Z:function(){return r}}),n(927234)},478442:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(745278),i=n(468288),o=n(9663);function a(e,t,n,a){let s=null;if(e){t&&(n=n||new Date,s=(0,r.Z)(e,t,n,{locale:a})),!(0,i.Z)(s)&&(s=(0,o.Z)(e)),!(0,i.Z)(s)&&(s=new Date(Date.parse(e)));let l=(0,i.Z)(s)&&String(s.getFullYear()).length>4;(!(0,i.Z)(s)||l)&&(s=null)}return s}},915423:function(e,t,n){"use strict";n.d(t,{UX:function(){return i},j2:function(){return o}});var r=n(818749);let i={PREFIX:`${r.T}-descriptions`},o={ALIGN_SET:["left","justify","plain","center"],SIZE_SET:["small","medium","large"],LAYOUT_SET:["horizontal","vertical"]}},467308:function(e,t,n){"use strict";n.d(t,{KT:function(){return s},UX:function(){return o},j2:function(){return a}});var r=n(221912),i=n(818749);let o={PREFIX:`${i.T}-dropdown`,SELECTED:`${i.T}-dropdown-item-selected`,DISABLED:`${i.T}-dropdown-item-disabled`},a={POSITION_SET:r.j2.POSITION_SET,TRIGGER_SET:["hover","focus","click","custom","contextMenu"],DEFAULT_LEAVE_DELAY:100,ITEM_TYPE:["primary","secondary","tertiary","warning","danger"]},s={SPACING:4,NESTED_SPACING:2}},976523:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(818749);let i={PREFIX:`${r.T}-highlight`}},434813:function(e,t,n){"use strict";n.d(t,{KT:function(){return a},UX:function(){return i},j2:function(){return o}});var r=n(818749);let i={PREFIX:`${r.T}-input`},o={SIZE:["small","large","default"],DEFAULT_SIZE:"default",STATUS:["default","error","warning","success"],CLEARBTN_CLICKED_EVENT_FLAG:"__fromClearBtn",MODE:["password"]},a={}},993117:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}}),n(429532);var r=n(883520),i=n(766309);class o extends r.Z{destroy(){this.handleKeyDownEventListenerUnmount(),this.modalDialogBlur(),this.prevFocusElementReFocus()}handleDialogMouseDown(){this._adapter.notifyDialogMouseDown()}handleMaskMouseUp(){this._adapter.notifyDialogMouseUp()}handleKeyDownEventListenerMount(){this._adapter.addKeyDownEventListener()}handleKeyDownEventListenerUnmount(){this._adapter.removeKeyDownEventListener()}getMouseState(){this._adapter.getMouseState()}handleMaskClick(e){let{dialogMouseDown:t}=this.getStates();e.target===e.currentTarget&&!t&&this.close(e)}close(e){this._adapter.notifyClose(e)}modalDialogFocus(){this._adapter.modalDialogFocus()}modalDialogBlur(){this._adapter.modalDialogBlur()}prevFocusElementReFocus(){this._adapter.prevFocusElementReFocus()}constructor(e){super(Object.assign(Object.assign({},o.defaultAdapter),e)),this.handleKeyDown=e=>{let{closeOnEsc:t}=this.getProps();if(t&&e.keyCode===i.ZP.ESC){e.stopPropagation(),this.close(e);return}}}}},182895:function(e,t,n){"use strict";n.d(t,{KT:function(){return s},UX:function(){return r},j2:function(){return a}});let r={PREFIX:n(818749).T+"-overflow-list"},i={COLLAPSE:"collapse",SCROLL:"scroll"},o={START:"start",END:"end"},a={BOUNDARY_SET:Object.values(o),POSITION_SET:["vertical","horizontal"],MODE_SET:Object.values(i),MODE_MAP:i,BOUNDARY_MAP:o,OVERFLOW_DIR:{NONE:0,GROW:1,SHRINK:2}},s={MINIMUM_HTML_ELEMENT_WIDTH:4}},776388:function(e,t,n){"use strict";n.d(t,{KT:function(){return o},UX:function(){return i}});var r=n(818749);let i={PREFIX:`${r.T}-page`},o={PAGE_SHOW_MAX:7,REST_PAGE_SHOW_MAX:5,DEFAULT_PAGE_SIZE:10,PAGE_SIZE_OPTION:[10,20,40,100],REST_PAGE_MAX_SIZE:1e6}},435237:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(645260),i=n.n(r),o=n(883520),a=n(460444);class s extends o.Z{init(){}destroy(){}handleCancel(e){let t=this._adapter.notifyCancel(e);(0,a.Z)(t)?(this._adapter.updateCancelLoading(!0),t.then(e=>{this.handleVisibleChange(!1),this._adapter.updateCancelLoading(!1)},e=>{this._adapter.updateCancelLoading(!1)})):this.handleVisibleChange(!1)}handleConfirm(e){let t=this._adapter.notifyConfirm(e);(0,a.Z)(t)?(this._adapter.updateConfirmLoading(!0),t.then(e=>{this._adapter.updateConfirmLoading(!1),this.handleVisibleChange(!1)},e=>{this._adapter.updateConfirmLoading(!1)})):this.handleVisibleChange(!1)}handleClickOutSide(e){this._adapter.notifyClickOutSide(e)}handleVisibleChange(e){!this._isControlledComponent("visible")&&this._adapter.setVisible(e),e?this.handleFocusOperateButton():this._adapter.focusPrevFocusElement(),this._adapter.notifyVisibleChange(e)}handleFocusOperateButton(){let{cancelButtonProps:e,okButtonProps:t}=this._adapter.getProps();i()(e,"autoFocus")&&!i()(e,"disabled")?this._adapter.focusCancelButton():i()(t,"autoFocus")&&!i()(t,"disabled")&&this._adapter.focusOkButton()}}},274220:function(e,t,n){"use strict";n.d(t,{KT:function(){return s},UX:function(){return o},j2:function(){return a}}),n(429532);var r=n(221912),i=n(818749);let o={PREFIX:`${i.T}-popover`,ARROW:`${i.T}-popover-icon-arrow`},a={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],DEFAULT_ARROW_STYLE:{borderOpacity:"1",backgroundColor:"var(--semi-color-bg-3)",borderColor:"var(--semi-color-border)"}},s={ARROW_BOUNDING:Object.assign(Object.assign({},r.KT.ARROW_BOUNDING),{offsetY:6,offsetX:0,height:8}),SPACING:4,SPACING_WITH_ARROW:10,DEFAULT_Z_INDEX:1030}},628201:function(e,t,n){"use strict";n.d(t,{KT:function(){return a},UX:function(){return i},j2:function(){return o}});var r=n(818749);let i={PREFIX:`${r.T}-scrolllist`,SELECTED:`${r.T}-scrolllist-item-selected`},o={MODE:["normal","wheel"]},a={DEFAULT_ITEM_HEIGHT:36,DEFAULT_SCROLL_DURATION:120}},549322:function(e,t,n){"use strict";n.d(t,{U:function(){return i},j:function(){return o}});var r=n(818749);let i={PREFIX:`${r.T}-space`},o={ALIGN_SET:["start","end","center","baseline"],SPACING_LOOSE:"loose",SPACING_MEDIUM:"medium",SPACING_TIGHT:"tight"}},204467:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});var r=n(818749);let i={PREFIX:`${r.T}-steps`,ITEM:`${r.T}-steps-item`}},764548:function(e,t,n){"use strict";n.d(t,{KT:function(){return c},UX:function(){return i},j2:function(){return o}});var r=n(818749);let i={PREFIX:`${r.T}-table`,TABLE:`${r.T}-table`,WRAP:`${r.T}-table-wrapper`,THEAD:`${r.T}-table-thead`,TR:`${r.T}-table-row`,TH:`${r.T}-table-row-head`,TD:`${r.T}-table-row-cell`},o={SIZE_SMALL:"small",SIZE_MIDDLE:"middle",SIZES:["small","default","middle"],LAYOUTS:["","auto","fixed"],PAGINATION_POSITIONS:["bottom","top","both"],FOOTER_POSITIONS:[!1,!0,"left","right"],SORT_DIRECTIONS:["ascend","descend"],FIXED_SET:[!1,!0,"left","right"],ALIGNS:["left","right","center"],JUSTIFY_CONTENT:["flex-start","flex-end","center"],SCROLL_HORIZONTAL_POSITIONS:["left","middle","right"],DEFAULT_KEY_COLUMN_SELECTION:"column-selection",DEFAULT_KEY_COLUMN_EXPAND:"column-expand",DEFAULT_KEY_COLUMN_TITLE:"column-title",DEFAULT_KEY_COLUMN_SORTER:"column-sorter",DEFAULT_KEY_COLUMN_FILTER:"column-filter",DEFAULT_KEY_COLUMN_SCROLLBAR:"column-scrollbar",DEFAULT_COMPONENTS:{table:"table",header:{outer:"table",wrapper:"thead",row:"tr",cell:"th"},body:{outer:"table",wrapper:"tbody",row:"tr",cell:"td"},footer:{wrapper:"tfoot",row:"tr",cell:"td"}},EXPAND_RELATED_PROPS:["expandedRowRender","dataSource","hideExpandedColumn","childrenRecordName","rowExpandable"]},a=53,s=45,l=37,c={DEFAULT_PAGE_SIZE:10,DEFAULT_WIDTH_COLUMN_EXPAND:60,DEFAULT_WIDTH_COLUMN_SELECTION:60,DEFAULT_INDENT_WIDTH:20,DEFAULT_CELL_PADDING_LEFT:16,DEFAULT_CELL_PADDING_RIGHT:16,DEFAULT_CELL_PADDING_TOP:16,DEFAULT_CELL_PADDING_BOTTOM:16,DEFAULT_CELL_MIDDLE_PADDING_TOP:12,DEFAULT_CELL_MIDDLE_PADDING_BOTTOM:12,DEFAULT_CELL_SMALL_PADDING_TOP:8,DEFAULT_CELL_SMALL_PADDING_BOTTOM:8,DEFAULT_CELL_BORDER_WIDTH_LEFT:1,DEFAULT_CELL_BORDER_WIDTH_RIGHT:1,DEFAULT_CELL_BORDER_WITH_BOTTOM:1,DEFAULT_CELL_LINE_HEIGHT:20,DEFAULT_VIRTUALIZED_BODY_HEIGHT:600,DEFAULT_VIRTUALIZED_SECTION_ROW_HEIGHT:a,DEFAULT_VIRTUALIZED_ROW_HEIGHT:a,DEFAULT_VIRTUALIZED_ROW_MIN_HEIGHT:33,DEFAULT_VIRTUALIZED_SECTION_ROW_MIDDLE_HEIGHT:s,DEFAULT_VIRTUALIZED_ROW_MIDDLE_HEIGHT:s,DEFAULT_VIRTUALIZED_ROW_MIDDLE_MIN_HEIGHT:25,DEFAULT_VIRTUALIZED_SECTION_ROW_SMALL_HEIGHT:l,DEFAULT_VIRTUALIZED_ROW_SMALL_HEIGHT:l,DEFAULT_VIRTUALIZED_ROW_SMALL_MIN_HEIGHT:17}},764854:function(e,t,n){"use strict";n.d(t,{$8:function(){return G},AQ:function(){return z},Ac:function(){return function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"children",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=[];return d()(t,(e,t)=>{if(null==e.key){let n=e.dataIndex||t;e.key=`${r}-${n}`}Array.isArray(e[n])&&e[n].length&&i.push(...e[n])}),i.length&&e(i,n,r+1),t}},BX:function(){return Z},Bi:function(){return X},Dn:function(){return A},Gz:function(){return function e(t,n){let r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children";return d()(t,t=>{if(t&&null!=t.key&&!r&&t.key===n.key&&(r=t),t&&Array.isArray(t[i])&&!r&&(r=e(t[i],n,i)),r)return!1}),r}},I2:function(){return M},Jr:function(){return R},L8:function(){return function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"children",r=[];if(Array.isArray(t)&&t.length)for(let o of t)Array.isArray(o[n])&&o[n].length?r.push(...e(o[n],n)):(function(e){if("object"==typeof e&&null!==e){let{filters:t,sorter:n,dataIndex:r,onFilter:o}=e,a=new E.Z("[@douyinfe/semi-ui Table]");(Array.isArray(t)||i()(o)||i()(n))&&(0,S.Z)(r)&&a.warn("The column with sorter or filter must pass the 'dataIndex' prop")}}(o),r.push(o));return r}},LI:function(){return D},QA:function(){return q},RF:function(){return $},VL:function(){return j},XW:function(){return L},ZT:function(){return O},_g:function(){return F},ai:function(){return T},bh:function(){return V},de:function(){return function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=[];return Array.isArray(t)&&t.length&&i<=n&&t.forEach(t=>{let a=t[r];Array.isArray(a)&&a.length&&i<n?o.push(...e(a,n,r,i+1)):o.push(t)}),o}},iT:function(){return x},id:function(){return C},nS:function(){return K},nu:function(){return I},pK:function(){return B},pX:function(){return H},rX:function(){return W},s7:function(){return P},ul:function(){return N},vn:function(){return U},zH:function(){return k},zq:function(){return function e(t){let{dataSource:n,getCheckboxProps:r,childrenRecordName:i,rowKey:o}=t,a=[];if(Array.isArray(n)&&n.length&&"function"==typeof r)for(let t of n){let n=r(t),s="function"==typeof o?o(t):y()(t,o);n&&n.disabled&&a.push(s);let l=y()(t,i);if(Array.isArray(l)&&l.length){let t=e({dataSource:l,getCheckboxProps:r});a.push(...t)}}return a}}}),n(874386),n(250440),n(268917),n(429532);var r=n(866674),i=n.n(r),o=n(986448),a=n.n(o),s=n(986724),l=n.n(s);n(287739);var c=n(760511),u=n.n(c),h=n(404774),d=n.n(h),f=n(990047),p=n.n(f),v=n(418601),g=n.n(v),m=n(645260),y=n.n(m),_=n(872094),b=n.n(_),w=n(764548),S=n(101108),E=n(377669);function k(e,t,n){return b()(e,t,function(e,t){if("function"==typeof e&&"function"==typeof t)return a()(e)===a()(t);if("function"==typeof n){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return n(e,t,...i)}})}function T(e,t){t=Array.isArray(t)?t:["key","dataIndex"];let n=null;return d()(t,t=>{if(null!=(n=y()(e,t)))return!1}),n}function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;t=t<0||"number"!=typeof t?0:t,n=n>e.length||"number"!=typeof n?e.length:n;let r=0;return d()(e,(e,i)=>{i>=t&&i<n&&(r+="number"!=typeof e||isNaN(e)?0:e)}),r}function C(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["key"],r=g()(e,e=>!0===e.fixed||"left"===e.fixed),i=u()(r,e=>n.every(n=>null!=e[n]&&e[n]===t[n]));return r.length>0&&i===r.length-1}function I(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["key"],r=g()(e,e=>"right"===e.fixed),i=u()(r,e=>n.every(n=>null!=e[n]&&e[n]===t[n]));return r.length>0&&0===i}function O(e){return["left",!0].includes(y()(e,"fixed"))}function A(e){return["right"].includes(y()(e,"fixed"))}function P(e){return[w.j2.DEFAULT_KEY_COLUMN_EXPAND,w.j2.DEFAULT_KEY_COLUMN_SCROLLBAR,w.j2.DEFAULT_KEY_COLUMN_SELECTION].includes(e)}function R(e){return y()(e,"key")===w.j2.DEFAULT_KEY_COLUMN_EXPAND}function D(e){return y()(e,"key")===w.j2.DEFAULT_KEY_COLUMN_SCROLLBAR}function L(e){return y()(e,"key")===w.j2.DEFAULT_KEY_COLUMN_SELECTION}function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[w.j2.DEFAULT_KEY_COLUMN_SCROLLBAR];return g()(e,e=>!t.includes(e.key))}function z(e,t){return void 0===t&&(t="key"),"function"==typeof t?t(e):y()(e,t)}function N(e,t){return null!=t&&l()(e,t)}function j(e,t){return null!==t&&e.has(t)}function B(e,t){return null!==t&&e.has(t)}function U(e,t,n){return void 0===n&&(n="key"),p()(e,e=>null!=t&&""!==t&&z(e,n)===t)}function F(e,t){return void 0===t&&(t="children"),y()(e,t)}function G(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return void 0===t&&(t="__expanded_row"),e+t}function V(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return"small"===e?(n.height=t?w.KT.DEFAULT_VIRTUALIZED_SECTION_ROW_SMALL_HEIGHT:w.KT.DEFAULT_VIRTUALIZED_ROW_SMALL_HEIGHT,n.minHeight=w.KT.DEFAULT_VIRTUALIZED_ROW_SMALL_MIN_HEIGHT):"middle"===e?(n.height=t?w.KT.DEFAULT_VIRTUALIZED_SECTION_ROW_MIDDLE_HEIGHT:w.KT.DEFAULT_VIRTUALIZED_ROW_MIDDLE_HEIGHT,n.minHeight=w.KT.DEFAULT_VIRTUALIZED_ROW_MIDDLE_MIN_HEIGHT):(n.height=t?w.KT.DEFAULT_VIRTUALIZED_SECTION_ROW_HEIGHT:w.KT.DEFAULT_VIRTUALIZED_ROW_HEIGHT,n.minHeight=w.KT.DEFAULT_VIRTUALIZED_ROW_MIN_HEIGHT),n}function H(e){let{expandedRowRender:t,dataSource:n,hideExpandedColumn:r,childrenRecordName:i,rowExpandable:o}=e,a="function"==typeof t;return r&&a||!a&&n.some(e=>{let t=y()(e,i);return!!(Array.isArray(t)&&t.length||o(e))||!1})}function Z(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=n.findIndex(n=>e.dataIndex===n.dataIndex&&(t=Object.assign(Object.assign({},n),e),!0));return r>-1?n.splice(r,1,t):n.push(t),[...n]}function K(e,t){let n=[...t];for(let t of e)if(!(0,S.Z)(t.width)){let e=t.key,r=u()(n,t=>t.key===e);-1!==r&&(n[r].width=y()(t,"width"))}return n}function W(e){let{dataSource:t,childrenRecordName:n="children"}=e,r=!1;if(Array.isArray(t))for(let e of t){let t=y()(e,n);if(Array.isArray(t)&&t.length){r=!0;break}}return r}function $(e,t){if("rtl"===t)switch(e){case"left":return"right";case"right":return"left"}return e}function q(e,t){if("rtl"===t)switch(e){case"left":return"flex-end";case"right":return"flex-start";default:return e}else switch(e){case"left":return"flex-start";case"right":return"flex-end";default:return e}}function X(e){return!0===e||y()(e,"showTitle",!0)}},787928:function(e,t,n){"use strict";n(429532),n(874386),n(250440);var r=n(96008),i=n.n(r),o=n(645260),a=n.n(o),s=n(883520);class l extends s.Z{init(){this._adapter.collectPane()}_notifyChange(e){let{activeKey:t}=this.getStates();t!==e&&this._adapter.notifyChange(e)}handleTabClick(e,t){this._isInProps("activeKey")?this._notifyChange(e):(this._notifyChange(e),this.handleNewActiveKey(e)),this._adapter.notifyTabClick(e,t)}handleNewActiveKey(e){let{activeKey:t}=this.getStates();t!==e&&this._adapter.setNewActiveKey(e)}getDefaultActiveKey(){let e;let t=this.getProps();return e="activeKey"in t?t.activeKey:"defaultActiveKey"in t?t.defaultActiveKey:this._adapter.getDefaultActiveKeyFromChildren()}handleTabListChange(){this._adapter.collectPane()}handleTabPanesChange(){this._adapter.collectPane(),this._adapter.collectActiveKey()}handleTabDelete(e){this._adapter.notifyTabDelete(e)}determineOrientation(e,t){let{tabPosition:n}=this.getProps();"left"===n?("ArrowUp"===e.key||"ArrowDown"===e.key)&&(this.switchTabOnArrowPress(e,t),this.handlePrevent(e)):("ArrowLeft"===e.key||"ArrowRight"===e.key)&&(this.switchTabOnArrowPress(e,t),this.handlePrevent(e))}handleDeleteKeyDown(e,t,n,r){let{preventScroll:i}=this.getProps();if(r){this.handleTabDelete(n);let r=t.indexOf(e.target);1!==t.length&&t[r+1>=t.length?r-1:r+1].focus({preventScroll:i})}}switchTabOnArrowPress(e,t){let{preventScroll:n}=this.getProps(),r=t.indexOf(e.target),i={ArrowLeft:-1,ArrowUp:-1,ArrowRight:1,ArrowDown:1};i[e.key]&&void 0!==r&&(t[r+i[e.key]]?t[r+i[e.key]].focus({preventScroll:n}):"ArrowLeft"===e.key||"ArrowUp"===e.key?t[t.length-1].focus({preventScroll:n}):("ArrowRight"===e.key||"ArrowDown"==e.key)&&t[0].focus({preventScroll:n}))}constructor(e){super(Object.assign({},e)),this.destroy=i(),this.handlePrevent=e=>{e.stopPropagation(),e.preventDefault()},this.handleKeyDown=(e,t,n)=>{let{preventScroll:r}=this.getProps(),i=[...e.target.parentNode.childNodes].filter(e=>a()(e,"attributes.data-tabkey.value","").includes("semiTab")&&"true"!==a()(e,"attributes.aria-disabled.value",""));switch(e.key){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":this.determineOrientation(e,i);break;case"Backspace":case"Delete":this.handleDeleteKeyDown(e,i,t,n);break;case"Enter":case" ":this.handleTabClick(t,e),this.handlePrevent(e);break;case"Home":i[0].focus({preventScroll:r}),this.handlePrevent(e);break;case"End":i[i.length-1].focus({preventScroll:r}),this.handlePrevent(e)}}}}t.Z=l},134681:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}}),n(250440),n(268917),n(429532);var r=n(883520);class i extends r.Z{hasToast(e){return this._adapter.getState("list").map(e=>{let{id:t}=e;return t}).includes(e)}addToast(e){let t=this._adapter.getState("list");t.push(e),this._adapter.updateToast(t,[],[])}updateToast(e,t){let n=this._adapter.getState("list"),r=(n=n.map(n=>n.id===e?Object.assign(Object.assign({},n),t):n)).filter(t=>t.id===e);this._adapter.updateToast(n,[],r)}removeToast(e){let t=this._adapter.getState("list"),n=[];t=t.filter(t=>t.id!==e||(n.push(t),!1)),this._adapter.updateToast(t,n,[])}destroyAll(){let e=this._adapter.getState("list");e.length>0&&this._adapter.updateToast([],e,[])}constructor(e){super(Object.assign(Object.assign({},i.defaultAdapter),e)),this.handleMouseInSideChange=e=>{this._adapter.handleMouseInSideChange(e)},this.getInputWrapperRect=()=>this._adapter.getInputWrapperRect()}}},223961:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}}),n(250440),n(874386),n(429532);var r=n(660559),i=n.n(r),o=n(23902),a=n.n(o),s=n(43715),l=n.n(s),c=n(300277),u=n.n(c),h=n(645260),d=n.n(h),f=n(866674),p=n.n(f),v=n(251526),g=n.n(v),m=n(867476),y=n(883520),_=n(295404),b=n(794158),w=n(766309);class S extends y.Z{init(){let{searchAutoFocus:e,searchPosition:t,filterTreeNode:n}=this.getProps(),r=t===m.j2.SEARCH_POSITION_TRIGGER&&n,i=e&&r;this._setDropdownWidth();let o=!this._isDisabled();(this.getProp("defaultOpen")||i)&&o&&(this.open(),this._registerClickOutsideHandler()),i&&o&&this.handleTriggerFocus(null)}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){let e;let{style:t,dropdownMatchSelectWidth:n}=this.getProps();n&&(e=t&&g()(t.width)?t.width:t&&l()(t.width)&&!t.width.includes("%")?t.width:this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(e))}_isMultiple(){return this.getProp("multiple")}_isAnimated(){return this.getProp("motionExpand")}_isDisabled(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getProp("disabled")||e.disabled}_isExpandControlled(){return this.getProp("expandedKeys")}_isSelectToClose(){return!this.getProp("expandAction")}_isLoadControlled(){return this.getProp("loadedKeys")}_showFilteredOnly(){let{inputValue:e}=this.getStates(),{showFilteredOnly:t}=this.getProps();return!!e&&t}findDataForValue(e){let{value:t,defaultValue:n,keyMaps:r}=this.getProps(),i=d()(r,"value","value"),o=d()(r,"key","key"),a=[];return t?a=Array.isArray(t)?t:[t]:n&&(a=Array.isArray(n)?n:[n]),a.find(t=>t[i]===e||t[o]===e)}constructDataForValue(e){let{treeNodeLabelProp:t,keyMaps:n}=this.getProps(),r=d()(n,"key","key");return{[r]:e,[d()(n,"label",t)]:e}}getDataForKeyNotInKeyEntities(e){let{onChangeWithObject:t}=this.getProps();return t?this.findDataForValue(e):this.constructDataForValue(e)}getTreeNodeProps(e){let{expandedKeys:t=new Set([]),selectedKeys:n=[],checkedKeys:r=new Set([]),halfCheckedKeys:i=new Set([]),realCheckedKeys:o=new Set([]),keyEntities:a={},filteredKeys:s=new Set([]),inputValue:l="",loadedKeys:c,loadingKeys:u,filteredExpandedKeys:h=new Set([]),disabledKeys:d=new Set([])}=this.getStates(),{treeNodeFilterProp:f,checkRelation:p}=this.getProps(),v=a[e];if(!v)return null;let g=!1,m=!1;"related"===p?(g=r.has(e),m=i.has(e)):"unRelated"===p&&(g=o.has(e),m=!1);let y={eventKey:e,expanded:l?h.has(e):t.has(e),selected:n.includes(e),checked:g,halfChecked:m,pos:String(v?v.pos:""),level:v.level,filtered:s.has(e),keyword:l,treeNodeFilterProp:f,loading:u.has(e)&&!c.has(e),loaded:c.has(e)};return this.getProp("disableStrictly")&&d.has(e)&&(y.disabled=!0),y}handleNodeLoad(e,t,n,r){let{loadData:i}=this.getProps(),{key:o}=n;return!i||e.has(o)||t.has(o)?{}:(i(n).then(()=>{let e=new Set(this.getState("loadedKeys")),t=new Set(this.getState("loadingKeys")),i=e.add(o),a=new Set([...t]);a.delete(o),this._adapter.notifyLoad(i,n),!this._isLoadControlled()&&this._adapter.updateState({loadedKeys:i}),this._adapter.setState({loadingKeys:a}),r()}),{loadingKeys:t.add(o)})}focusInput(e){this._adapter.updateInputFocus(e)}_notifyMultipleChange(e,t){let{keyEntities:n}=this.getStates(),{leafOnly:r,checkRelation:i,keyMaps:o,autoMergeValue:a}=this.getProps(),s=[];"related"===i?s=a?(0,_.yI)(e,n,r,!0):e:"unRelated"===i&&(s=e);let l=s.map(e=>n[e]&&n[e].key===e?n[e].data:this.getDataForKeyNotInKeyEntities(e));if(this.getProp("onChangeWithObject"))this._adapter.notifyChangeWithObject(l,t);else{let e=(0,_.gy)(l,o);this._adapter.notifyChange(e,l,t)}}_notifyChange(e,t){let{keyEntities:n}=this.getStates(),{keyMaps:r}=this.getProps();if(this._isMultiple()&&Array.isArray(e))this._notifyMultipleChange(e,t);else{let i=u()(e)?e:n[e].data,o=u()(e)?e:(0,_.gy)(i,r);this.getProp("onChangeWithObject")?this._adapter.notifyChangeWithObject(i,t):this._adapter.notifyChange(o,i,t)}}_notifyFocus(e){this._adapter.notifyFocus(e)}handleTriggerFocus(e){this._adapter.updateIsFocus(!0),this._notifyFocus(e),this._registerClickOutsideHandler()}_notifyBlur(e){this._adapter.notifyBlur(e)}handlerTriggerBlur(e){if(!!this.getState("isFocus"))this._adapter.updateIsFocus(!1),this._notifyBlur(e),this._adapter.unregisterClickOutsideHandler()}toggleHoverState(e){this._adapter.toggleHovering(e)}open(){this._adapter.openMenu(),this._setDropdownWidth()}close(e){this._adapter.closeMenu(),this.getProp("motionExpand")&&this._adapter.updateState({motionKeys:new Set([])})}handleClick(e){let t=this._isDisabled(),{isOpen:n,inputValue:r,isFocus:i}=this.getStates(),{searchPosition:o,clickTriggerToHide:a}=this.getProps();if(!t)if(!i&&this.handleTriggerFocus(e),n){if("trigger"===o&&r)return;a&&this.close(e)}else this.open()}handleSelectionEnterPress(e){(0,b.Z)(e)&&this.handleClick(e)}handleClear(e){let{searchPosition:t,filterTreeNode:n}=this.getProps(),{inputValue:r,selectedKeys:i}=this.getStates(),o=this._isMultiple(),s=this._isControlledComponent();this._notifyChange(o?[]:void 0,e),!s&&(this._adapter.rePositionDropdown(),this._adapter.updateState({selectedKeys:[],checkedKeys:new Set,halfCheckedKeys:new Set,realCheckedKeys:new Set([])})),n&&t===m.j2.SEARCH_POSITION_TRIGGER&&""!==r&&(a()(i)?this.handleInputChange(""):this.clearInput()),this._adapter.notifyClear(e)}handleClearEnterPress(e){(0,b.Z)(e)&&this.handleClear(e)}removeTag(e){let{disableStrictly:t,checkRelation:n,keyMaps:r}=this.getProps(),{keyEntities:i,disabledKeys:o,realCheckedKeys:a}=this.getStates(),s=i[e]&&i[e].key===e?i[e].data:this.getDataForKeyNotInKeyEntities(e);if(!(s[d()(r,"disabled","disabled")]||t&&o.has(e))){if("unRelated"===n){let t=new Set(a);t.delete(e),this._notifyChange([...t],null),!this._isControlledComponent()&&(this._adapter.updateState({realCheckedKeys:t}),this._adapter.rePositionDropdown())}else if("related"===n){let{checkedKeys:t,halfCheckedKeys:n}=this.calcCheckedKeys(e,!1);this._notifyChange([...t],null),!this._isControlledComponent()&&(this._adapter.updateState({checkedKeys:t,halfCheckedKeys:n}),this._adapter.rePositionDropdown())}this._adapter.notifySelect(e,!1,s),this._adapter.rePositionDropdown()}}clearInput(){let{flattenNodes:e,expandedKeys:t,selectedKeys:n,keyEntities:r,treeData:i}=this.getStates(),{keyMaps:o}=this.getProps(),a=new Set(t);this._isExpandControlled();let s=(0,_.mD)(n,r,!1);s.forEach(e=>a.add(e));let l=(0,_.oH)(i,a,o);this._adapter.updateState({expandedKeys:a,flattenNodes:l,inputValue:"",motionKeys:new Set([]),filteredKeys:new Set([]),filteredExpandedKeys:new Set(s),filteredShownKeys:new Set([])}),this._adapter.rePositionDropdown()}handleInputChange(e){this._adapter.updateInputValue(e);let{flattenNodes:t,expandedKeys:n,selectedKeys:r,keyEntities:i,treeData:o}=this.getStates(),{showFilteredOnly:a,filterTreeNode:s,treeNodeFilterProp:l,keyMaps:c}=this.getProps(),u="label"!==l?l:d()(c,"label","label"),h=new Set(n),f=[],p=[],v=[],g=[],m=new Set([]);if(e){let t=Object.values(i).filter(t=>{let{data:n}=t;return(0,_.hX)(e,n,s,u)});f=t.map(e=>e.data),p=t.map(e=>e.key),v=(0,_.mD)(p,i,!1),m=new Set([...(0,_.gU)(p,i,!0),...v]),g=(0,_.oH)(o,new Set(v),c,a&&m)}else(v=(0,_.mD)(r,i,!1)).forEach(e=>h.add(e)),g=(0,_.oH)(o,h,c);let y=new Set(v);this._adapter.notifySearch(e,Array.from(y),f),this._adapter.updateState({expandedKeys:h,flattenNodes:g,motionKeys:new Set([]),filteredKeys:new Set(p),filteredExpandedKeys:y,filteredShownKeys:m}),this._adapter.rePositionDropdown()}handleNodeSelect(e,t){if(!this._isDisabled(t))this._isMultiple()?this.handleMultipleSelect(e,t):this.handleSingleSelect(e,t)}handleSingleSelect(e,t){let n=[...this.getState("selectedKeys")],{clickToHide:r}=this.getProps(),{selected:i,eventKey:o,data:a}=t;this._adapter.notifySelect(o,!0,a),!n.includes(o)&&!i&&(n=[o],this._notifyChange(o,e),!this._isControlledComponent()&&this._adapter.updateState({selectedKeys:n})),r&&(this._isSelectToClose()||!a.children)&&(this.close(e),this.handlerTriggerBlur(e))}calcCheckedKeys(e,t){let{keyEntities:n}=this.getStates(),r=new Set(this.getState("checkedKeys")),i=new Set(this.getState("halfCheckedKeys"));return t?(0,_.gW)(e,n,r,i):(0,_.Be)(e,n,r,i)}handleMultipleSelect(e,t){let{searchPosition:n,disableStrictly:r,checkRelation:i}=this.getProps(),{inputValue:o,realCheckedKeys:a}=this.getStates(),{checked:s,eventKey:l,data:c}=t;if("related"===i){let t=r?this.calcCheckedStatus(!s,l):!s,{checkedKeys:n,halfCheckedKeys:i}=r?this.calcNonDisabledCheckedKeys(l,t):this.calcCheckedKeys(l,t);this._adapter.notifySelect(l,t,c),this._notifyChange([...n],e),!this._isControlledComponent()&&(this._adapter.updateState({checkedKeys:n,halfCheckedKeys:i}),this._adapter.rePositionDropdown())}else if("unRelated"===i){let t;let n=new Set(a);a.has(l)?(n.delete(l),t=!1):(n.add(l),t=!0),this._adapter.notifySelect(l,t,c),this._notifyChange([...n],e),!this._isControlledComponent()&&(this._adapter.updateState({realCheckedKeys:n}),this._adapter.rePositionDropdown())}n===m.j2.SEARCH_POSITION_TRIGGER&&""!==o&&this._adapter.updateState({inputValue:""})}calcNonDisabledCheckedKeys(e,t){let{keyEntities:n,disabledKeys:r}=this.getStates(),o=new Set(this.getState("checkedKeys")),a=(0,_.yI)((0,_.gU)([e],n,!1),n,!0);if(!a.some(e=>r.has(e)))return this.calcCheckedKeys(e,t);let s=a.filter(e=>!r.has(e)),l=t?[...s,...o]:i()((0,_.yI)([...o],n,!0,!0),s);return(0,_.fM)(l,n)}calcCheckedStatus(e,t){if(!e)return e;let{checkedKeys:n,keyEntities:r,disabledKeys:i}=this.getStates(),o=(0,_.yI)((0,_.gU)([t],r,!1),r,!0);return o.some(e=>i.has(e))?!o.filter(e=>!i.has(e)).every(e=>n.has(e)):e}handleNodeExpandInSearch(e,t){let{treeData:n,filteredShownKeys:r,keyEntities:i}=this.getStates(),{keyMaps:o}=this.getProps(),a=this._showFilteredOnly(),s=new Set(this.getState("filteredExpandedKeys")),l="show",{eventKey:c,expanded:u,data:h}=t;if(u?s.has(c)&&(s.delete(c),l="hide"):s.add(c),this._adapter.cacheFlattenNodes("hide"===l&&this._isAnimated()),!this._isExpandControlled()){let e=(0,_.oH)(n,s,o,a&&r),t=this._isAnimated()?(0,_.cM)(c,s,i):[],u={filteredExpandedKeys:s,flattenNodes:e,motionKeys:new Set(t),motionType:l};this._adapter.updateState(u)}this._adapter.notifyExpand(s,{expanded:!u,node:h})}handleNodeExpand(e,t){let{loadData:n,keyMaps:r}=this.getProps(),{inputValue:i,keyEntities:o}=this.getStates();if(!n&&(!t.children||!t.children.length))return;let a=this._isExpandControlled();if(i){this.handleNodeExpandInSearch(e,t);return}let{treeData:s}=this.getStates(),l=new Set(this.getState("expandedKeys")),c="show",{eventKey:u,expanded:h,data:d}=t;if(h?l.has(u)&&(l.delete(u),c="hide"):l.add(u),this._adapter.cacheFlattenNodes("hide"===c&&this._isAnimated()),!a){let e=(0,_.oH)(s,l,r),t=this._isAnimated()?(0,_.cM)(u,l,o):[],n={expandedKeys:l,flattenNodes:e,motionKeys:new Set(t),motionType:c};this._adapter.updateState(n)}this._adapter.notifyExpand(l,{expanded:!h,node:d})}getRenderTextInSingle(){let e;let{renderSelectedItem:t,treeNodeLabelProp:n,keyMaps:r}=this.getProps(),{selectedKeys:i,keyEntities:o}=this.getStates(),a=d()(r,"label",n),s=p()(t)?t:e=>d()(e,a,null);if(i.length){let t=i[0];e=o[t]&&o[t].key===t?o[t].data:this.getDataForKeyNotInKeyEntities(t)}return e?s(e):null}handleInputTriggerBlur(){this._adapter.updateState({inputTriggerFocus:!1})}handleInputTriggerFocus(){this.clearInput(),this._adapter.updateState({inputTriggerFocus:!0})}setLoadKeys(e,t){this._adapter.updateLoadKeys(e,t)}handlePopoverVisibleChange(e){let{filterTreeNode:t,searchAutoFocus:n,searchPosition:r}=this.getProps();!1===e&&t&&this.clearInputValue(),t&&r===m.j2.SEARCH_POSITION_DROPDOWN&&e&&n&&this.focusInput(!0)}handleAfterClose(){let{filterTreeNode:e}=this.getProps();e&&this.clearInput()}constructor(e){super(Object.assign({},e)),this.handleKeyDown=e=>{e.key===w.DG&&this.getState("isOpen")&&this.close(e)},this._registerClickOutsideHandler=()=>{this._adapter.registerClickOutsideHandler(e=>{this.handlerTriggerBlur(e),this.close(e)})},this.clearInputValue=()=>{let{inputValue:e}=this.getStates();e&&this._adapter.updateInputValue("")},this.onClickSingleTriggerSearchItem=e=>{this.focusInput(!0)}}}},78468:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}}),n(927234),n(413806),n(826893),n(777180),n(110006),n(284961);class r{format(){return this.isDiyParser?this.parser(this.content):"text"===this.rule?i(this.content).map(e=>o(e)?this.truncatePrecision(e):e).join(""):"numbers"===this.rule?i(this.content).filter(e=>o(e)).map(e=>this.truncatePrecision(e)).join(","):i(this.content).map(e=>o(e)?this.ruleMethods[this.rule](Number(e)):e).join("")}truncatePrecision(e){let t=this.truncateMethods[this.truncate](Number(e)*Math.pow(10,this.precision))/Math.pow(10,this.precision),n=t.toString().split(".");if(1===n.length)return t.toFixed(this.precision);let r=n[1].length;return r<this.precision?`${n[0]}.${n[1]}${"0".repeat(this.precision-r)}`:t.toString()}constructor(e,t,n,r,i){this.ruleMethods={"bytes-decimal":e=>{let t=0;for(;e>=1e3;)e/=1e3,t++;return`${this.truncatePrecision(e)} ${["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t]}`},"bytes-binary":e=>{let t=0;for(;e>=1024;)e/=1024,t++;return`${this.truncatePrecision(e)} ${["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"][t]}`},percentages:e=>`${this.truncatePrecision(100*e)}%`,exponential:e=>{let t=e.toExponential(this.precision+2).split("e");return`${this.truncatePrecision(Number(t[0]))}e${t[1]}`}},this.truncateMethods={ceil:Math.ceil,floor:Math.floor,round:Math.round},this.isDiyParser=void 0!==i,this.content=e,this.rule=t,this.precision=n,this.truncate=r,this.parser=i}}function i(e){return e.match(/(-?[0-9]*\.?[0-9]+([eE]-?[0-9]+)?)|([^-\d\.]+)/g)||[]}function o(e){return!(isNaN(Number(e))||""===e.replace(/\s+/g,""))}},37751:function(e,t,n){"use strict";n.d(t,{c:function(){return i},f:function(){return o}}),n(874386);var r=n(693019);function i(e,t){if(null!==e&&e.length&&null!==t&&t.length){let n=new Set(e),i=new Set(t);return Array.from((0,r.c)(n,i))}return e}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ascend";if("descend"===t)return(n,r)=>{let i=Number(e(n,r,t));return 0!==i?-i:i};return(n,r)=>e(n,r,t)}},699491:function(e,t,n){"use strict";n.d(t,{W_:function(){return u},YS:function(){return c}}),n(110006),n(826893),n(897860),n(429532);var r=n(399087);let i=[[-11,["Pacific/Midway"]],[-10,["Pacific/Honolulu"]],[-9.5,["Pacific/Marquesas"]],[-9,["Pacific/Gambier"]],[-8,["Pacific/Pitcairn"]],[-7,["America/Phoenix"]],[-6,["America/Tegucigalpa"]],[-5,["America/Bogota"]],[-4,["America/Puerto_Rico"]],[-3.5,["America/St_Johns"]],[-3,["America/Montevideo"]],[-2,["Atlantic/South_Georgia"]],[-1,["Atlantic/Cape_Verde"]],[0,["Africa/Accra"]],[1,["Africa/Bangui"]],[2,["Africa/Cairo"]],[3,["Asia/Bahrain","Indian/Antananarivo"]],[3.5,["Asia/Tehran"]],[4,["Asia/Dubai","Asia/Muscat"]],[4.5,["Asia/Kabul"]],[5,["Asia/Samarkand","Asia/Karachi"]],[5.5,["Asia/Kolkata"]],[5.75,["Asia/Kathmandu"]],[6,["Asia/Dhaka"]],[6.5,["Asia/Rangoon","Asia/Rangoon"]],[7,["Asia/Jakarta","Asia/Phnom_Penh","Asia/Bangkok"]],[8,["Asia/Shanghai","Asia/Singapore"]],[8.75,["Australia/Eucla"]],[9,["Asia/Tokyo","Asia/Seoul","Asia/Pyongyang"]],[9.5,["Australia/Darwin"]],[10,["Pacific/Guam"]],[10.5,["Australia/Adelaide"]],[11,["Pacific/Guadalcanal"]],[12,["Pacific/Funafuti"]],[13,["Pacific/Enderbury"]],[13.75,["Pacific/Chatham"]],[14,["Pacific/Kiritimati"]]],o={0:"Etc/GMT",1:"Etc/GMT-1",2:"Etc/GMT-2",3:"Etc/GMT-3",4:"Etc/GMT-4",5:"Etc/GMT-5",6:"Etc/GMT-6",7:"Etc/GMT-7",8:"Etc/GMT-8",9:"Etc/GMT-9",10:"Etc/GMT-10",11:"Etc/GMT-11",12:"Etc/GMT-12",13:"Etc/GMT-13",14:"Etc/GMT-14","-1":"Etc/GMT+1","-2":"Etc/GMT+2","-3":"Etc/GMT+3","-4":"Etc/GMT+4","-5":"Etc/GMT+5","-6":"Etc/GMT+6","-7":"Etc/GMT+7","-8":"Etc/GMT+8","-9":"Etc/GMT+9","-10":"Etc/GMT+10","-11":"Etc/GMT+11","-12":"Etc/GMT+12"},a=/([\-\+]{1})(\d{2})\:(\d{2})/,s=e=>{let t=null;if("string"==typeof e){if(!(t=e.match(a)))return e;let n=parseInt(t[1]+1,10),r=parseInt(t[2],10);e=n*(r+parseInt(t[3],10)/60)}if("number"==typeof e){if(e in o){let t=o[e];if(function(e){if(l[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),l[e]=!0,!0}catch(e){return!1}}(t))return t}let t=i.find(t=>t[0]===e);return t&&t[1][0]}},l={},c=(e,t,n)=>(0,r.utcToZonedTime)(e,s(t),n),u=(e,t,n)=>(0,r.zonedTimeToUtc)(e,s(t),n)},101108:function(e,t,n){"use strict";function r(e){return null==e}n.d(t,{Z:function(){return r}})},988643:function(e,t,n){"use strict";function r(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}n.d(t,{Z:function(){return r}}),n(927234)},795360:function(e,t,n){"use strict";n.d(t,{h:function(){return r}}),n(927234),n(413806),n(826893);function r(e,t){return function(e,t){let n=(e.toString().split(".")[1]||"").length,r=Math.pow(10,Math.max(n,(t.toString().split(".")[1]||"").length));return(e*r+t*r)/r}(e,-t)}},832793:function(e,t,n){"use strict";n.d(t,{Od:function(){return w},U2:function(){return b},cS:function(){return _},t8:function(){return S},zA:function(){return E}}),n(874386);var r=n(960734),i=n.n(r),o=n(251526),a=n.n(o),s=n(410204),l=n.n(s),c=n(536556),u=n.n(c),h=n(155607),d=n.n(h);n(360409);var f=n(613063),p=n.n(f),v=n(645260),g=n.n(v);let m=e=>{let t=d()(e);return!(a()(e)&&1===t.length)&&Number.isInteger(+t[t.length-1])};function y(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(0===t.length)return;let r=g()(e,t);Array.isArray(r)&&r.every(e=>null==e)?u()(e,t):function(e){if(!i()(e))return!1;{let t=l()(e);return!t.length||t.every(e=>void 0===e)}}(r)&&u()(e,t),y(e,t.slice(0,t.length-1),n)}function _(e){return 0===l()(e).length}function b(e,t){return g()(e,t)}function w(e,t){u()(e,t);let n=d()(t);y(e,n=n.slice(0,n.length-1),!1)}function S(e,t,n,r){if(r)return p()(e,t,n);if(void 0!==n)return p()(e,t,n);if(m(t)&&void 0!==b(e,t)){p()(e,t,void 0);let n=d()(t);y(e,n=n.slice(0,n.length-1),!1)}else!m(t)&&void 0!==b(e,t)&&w(e,t)}function E(e,t){return e&&("function"==typeof e||"object"==typeof e)&&t&&("function"==typeof t||"object"==typeof t)&&Object.entries(t).forEach(t=>{let[n,r]=t;e[n]=r}),e}},540605:function(e,t,n){"use strict";function r(e,t){}n.d(t,{Z:function(){return r}})},428647:function(e,t,n){"use strict";n(429532);var r=n(88648);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let o=r.forwardRef(function(e,t){return r.createElement("svg",i({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,ref:t},e),r.createElement("path",{d:"M18.7071 6.70711C19.0976 6.31658 19.0976 5.68342 18.7071 5.29289C18.3166 4.90237 17.6834 4.90237 17.2929 5.29289L12 10.5858L6.70711 5.29289C6.31658 4.90237 5.68342 4.90237 5.29289 5.29289C4.90237 5.68342 4.90237 6.31658 5.29289 6.70711L10.5858 12L5.29289 17.2929C4.90237 17.6834 4.90237 18.3166 5.29289 18.7071C5.68342 19.0976 6.31658 19.0976 6.70711 18.7071L12 13.4142L17.2929 18.7071C17.6834 19.0976 18.3166 19.0976 18.7071 18.7071C19.0976 18.3166 19.0976 17.6834 18.7071 17.2929L13.4142 12L18.7071 6.70711Z",fill:"currentColor"}))});o.elementType="Icon",t.Z=o},291773:function(e,t,n){"use strict";n(429532);var r=n(88648);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let o=r.forwardRef(function(e,t){return r.createElement("svg",i({viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,ref:t},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.319336 1.35282e-07L9.68064 0L6.64398 4.38305C5.84861 5.53106 4.15137 5.53106 3.356 4.38305L0.319336 1.35282e-07Z",fill:"currentColor"}))});o.elementType="Icon",t.Z=o},322694:function(e,t,n){"use strict";n(429532);var r=n(88648);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let o=r.forwardRef(function(e,t){return r.createElement("svg",i({viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,ref:t},e),r.createElement("path",{d:"M17.25 7.75H11.25C10.5596 7.75 10 8.30964 10 9V18C10 18.6904 10.5596 19.25 11.25 19.25H24.25C24.9404 19.25 25.5 18.6904 25.5 18V16.25H24V17.75H11.5V9.25H17.25V7.75Z",fill:"currentColor"}),r.createElement("path",{d:"M7.5 21.5V14.2499H6V21.5C6 22.4665 6.7835 23.25 7.75 23.25L22.25 23.25L22.25 21.75L7.75 21.75C7.61193 21.75 7.5 21.6381 7.5 21.5Z",fill:"currentColor"}),r.createElement("path",{d:"M18.8502 13.3398L22.94 9.25L19.71 9.25V7.75H24.2019C24.919 7.75 25.5003 8.33131 25.5003 9.04839V13.5404L24.0003 13.5403V10.311L19.9108 14.4005L18.8502 13.3398Z",fill:"currentColor"}))});o.elementType="Icon",t.Z=o},922395:function(e,t,n){"use strict";n(429532);var r=n(88648);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let o=r.forwardRef(function(e,t){return r.createElement("svg",i({viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,ref:t},e),r.createElement("path",{d:"M11 8.75903C11 7.65446 11.8954 6.75903 13 6.75903H19C20.1046 6.75903 21 7.65446 21 8.75903C21 9.8636 20.1046 10.759 19 10.759L19 15.759L22.1465 18.9054C22.4615 19.2204 22.2384 19.759 21.7929 19.759H16.75L16.75 27L15.25 26.9999L15.25 19.759H10.2071C9.7617 19.759 9.53861 19.2204 9.8536 18.9054L13 15.759L13 10.759C11.8954 10.759 11 9.8636 11 8.75903Z",fill:"currentColor"}))});o.elementType="Icon",t.Z=o},594567:function(e,t,n){"use strict";n(429532);var r=n(88648);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let o=r.forwardRef(function(e,t){return r.createElement("svg",i({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,ref:t},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 18.75H6V17.25H18V18.75Z",fill:"currentColor"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.25 13.1893V5H12.75V13.1893L15.9697 9.96967L17.0303 11.0303L12.5303 15.5303C12.2374 15.8232 11.7626 15.8232 11.4697 15.5303L6.96967 11.0303L8.03033 9.96967L11.25 13.1893Z",fill:"currentColor"}))});o.elementType="Icon",t.Z=o},898097:function(e,t,n){"use strict";n(429532);var r=n(88648);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let o=r.forwardRef(function(e,t){return r.createElement("svg",i({viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,ref:t},e),r.createElement("path",{d:"M9 12C7.89543 12 7 12.8955 7 14V18C7 19.1046 7.89543 20 9 20H10L14.3598 23.6332C15.0111 24.176 16 23.7128 16 22.865V9.13509C16 8.28725 15.0111 7.8241 14.3598 8.36687L10 12H9Z",fill:"currentColor"}),r.createElement("path",{d:"M23.5006 20.5038L21.002 17.5496L18.5034 20.5038L17.0006 19.188L19.6942 16.0033L17 12.8178L18.5028 11.502L21.002 14.457L23.5012 11.502L25.004 12.8178L22.3098 16.0033L25.0034 19.188L23.5006 20.5038Z",fill:"currentColor"}))});o.elementType="Icon",t.Z=o},665572:function(e,t,n){"use strict";n(429532);var r=n(88648);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let o=r.forwardRef(function(e,t){return r.createElement("svg",i({viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,ref:t},e),r.createElement("path",{d:"M7 13.8669C7 12.7623 7.89543 11.8669 9 11.8669H10L14.3598 8.23369C15.0111 7.69092 16 8.15407 16 9.00191V22.7318C16 23.5797 15.0111 24.0428 14.3598 23.5L10 19.8669H9C7.89543 19.8669 7 18.9714 7 17.8669V13.8669Z",fill:"currentColor"}),r.createElement("path",{d:"M18 18.8669L18 12.8669C19.6569 12.8669 21 14.21 21 15.8669C21 17.5237 19.6569 18.8669 18 18.8669Z",fill:"currentColor"}),r.createElement("path",{d:"M25.25 15.8668C25.25 19.9791 22.0472 23.3432 18 23.601L18 21.0933C20.665 20.8415 22.75 18.5977 22.75 15.8668C22.75 13.136 20.665 10.8921 18 10.6403V8.13269C22.0472 8.3904 25.25 11.7546 25.25 15.8668Z",fill:"currentColor"}))});o.elementType="Icon",t.Z=o},239168:function(e,t,n){"use strict";n(429532);var r=n(88648);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let o=r.forwardRef(function(e,t){return r.createElement("svg",i({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,ref:t},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 5.25H21V6.75H10V5.25ZM21 11.25H10V12.75H21V11.25ZM21 17.25H10V18.75H21V17.25Z",fill:"currentColor"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.73837 11.9999L6.95287 16.0423L5.81244 17.0094L2.46976 12.8059C2.09726 12.3374 2.09726 11.6624 2.46976 11.194L5.81244 6.99042L6.95287 7.95755L3.73837 11.9999Z",fill:"currentColor"}))});o.elementType="Icon",t.Z=o},308693:function(e,t,n){"use strict";n(429532);var r=n(88648);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let o=r.forwardRef(function(e,t){return r.createElement("svg",i({viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,ref:t},e),r.createElement("g",{clipPath:"url(#clip0_1_1673)"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 8.25H23.75V9V22V22.75H23H18V21.25H22.25V9.75H9.75V14H8.25V9V8.25H9H23ZM9 16.25H8.25V17V22V22.75H9H15H15.75V22V17V16.25H15H9ZM9.75 21.25V17.75H14.25V21.25H9.75Z",fill:"currentColor"})),r.createElement("defs",null,r.createElement("clipPath",{id:"clip0_1_1673"},r.createElement("rect",{width:32,height:32,fill:"currentColor"}))))});o.elementType="Icon",t.Z=o},575174:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(520739),i=n(878389),o=n(563097);n(88648);var a=e=>(0,o.jsxs)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,fill:"none",viewBox:"0 0 32 32"},e),{children:[(0,o.jsx)("rect",{width:5,height:16,x:9,y:8,fill:"#fff",rx:1}),(0,o.jsx)("rect",{width:5,height:16,x:18,y:8,fill:"#fff",rx:1})]}))},480526:function(e,t,n){"use strict";n.d(t,{d:function(){return h}});var r=n(520739),i=n(878389),o=n(368200);n(874386);var a=n(563097),s=n(883652),l=n(151571),c=n(59251),u=n(88648);let h=(0,c.n)(e=>{var{props:t}=e,n=(0,o._)(e,["props"]);let c=(0,u.useRef)(null),[h,d]=(0,u.useState)(),{playerRef:f}=(0,u.useContext)(s.E),[p,v]=(0,u.useState)(!0);return(0,u.useEffect)(()=>(f.current.plugins.volume={blur(){var e;null===(e=c.current)||void 0===e||e.blur()},focus(){var e;null===(e=c.current)||void 0===e||e.focus()},updateConfig(e){d(t=>(0,r._)({},t,e))},hide(){v(!1)},show(){v(!0)}},()=>{var e;null===(e=f.current)||void 0===e||delete e.plugins.volume}),[]),p&&(0,a.jsx)(l.g,(0,i._)((0,r._)({},n),{props:(0,r._)({},t,h),ref:c}))})},155067:function(e,t,n){"use strict";n.d(t,{Mf:function(){return v.M},ar:function(){return r.ar},nl:function(){return o.n},rW:function(){return o.r},o:function(){return r.o},xQ:function(){return r.xQ},gu:function(){return g.g},Cm:function(){return r.Cm},Zh:function(){return r.Zh},xr:function(){return a.x},l1:function(){return r.l1},Gz:function(){return r.Gz},kN:function(){return r.kN},ig:function(){return i.i},GI:function(){return p},hj:function(){return r.hj}});var r=n("948445");n("105960"),n("396826");var i=n("884748");n("291279"),n("899498");var o=n("59251");n("259416");var a=n("786574");n("874386");var s=n("563097"),l=n("883652"),c=n("88648");n("578950");(0,o.n)(e=>{let{poster:t,fillMode:n="fixWidth"}=e,{playerRef:r}=(0,c.useContext)(l.E),[i,o]=(0,c.useState)(!0);(0,l.T)(()=>{r.current.on("play",()=>{o(!1)})});let a=(0,c.useMemo)(()=>{let e={backgroundImage:`url(${t})`};return"fixHeight"===n?e.backgroundSize="auto 100%":"fixWidth"===n?e.backgroundSize="100% auto":e.backgroundSize=n,e},[t,n]);return i?null:(0,s.jsx)("div",{className:"douyin-player-poster",style:a})}),n("274547");var u=n("409476"),h=n("194806"),d=n("45967"),f=n("663246");let p=(0,o.r)(e=>{let{reloadPage:t=!1,afterRefresh:n,keyboardCode:r,position:i}=e,{playerRef:o}=(0,c.useContext)(l.E),a=(0,u.DM)(()=>{if(t)return window.location.reload();o.current.refresh(),null==n||n()});(0,u.K7)(a,r);let h=(0,c.useMemo)(()=>r?(0,s.jsxs)(s.Fragment,{children:["刷新",(0,s.jsx)(d.B,{children:r.slice(3)})]}):"刷新",[r]);return(0,s.jsx)(d.u,{content:h,position:i,className:"douyin-player-refresh",children:(0,s.jsx)("div",{className:"douyin-player-icon",children:(0,s.jsx)(f.Z,{onClick:a})})})},{position:h.PZ.CONTROL_LEFT});n("833904");var v=n("607596"),g=n("151571")},438850:function(e,t,n){"use strict";n.d(t,{K:function(){return u}}),n(874386);var r=n(563097),i=n(883652),o=n(194806),a=n(88648),s=n(604649);let l={cache:(0,o.w2)("progress-cache"),played:(0,o.w2)("progress-played")},c=[{percent:1}],u=(0,a.forwardRef)((e,t)=>{let{fragClass:n="",fragments:o=c}=e,{playerRef:u}=(0,a.useContext)(i.E),[h,d]=(0,a.useState)(()=>(0,s.M)(u.current.duration,u.current.buffered));(0,i.T)(()=>{let e=()=>{d((0,s.M)(u.current.duration,u.current.buffered))};return u.current.on("progress",e),()=>{var t;null===(t=u.current)||void 0===t||t.off("progress",e)}});let f=null==o?void 0:o.map((e,i)=>{let o=h[h.length-1];return(0,r.jsxs)("div",{style:{flex:e.percent},className:`douyin-player-progress-inner ${n}`,children:[(0,r.jsx)("div",{className:l.cache,style:{width:`${(null==o?void 0:o.end)||0}%`}}),(0,r.jsx)("div",{className:l.played,ref:t})]},i)});return(0,r.jsx)(r.Fragment,{children:f})})},151571:function(e,t,n){"use strict";n.d(t,{g:function(){return v}}),n("874386"),n("455663"),n("777180"),n("268917");var r=n("563097"),i=n("883652"),o=n("409476"),a=n("194806"),s=n("88648"),l=n("59251"),c=n("520739"),u=n("878389"),h=e=>(0,r.jsx)("svg",(0,u._)((0,c._)({xmlns:"http://www.w3.org/2000/svg",width:33,height:33,fill:"none",viewBox:"0 0 33 33"},e),{children:(0,r.jsx)("path",{fill:"#fff",fillOpacity:.9,fillRule:"evenodd",d:"m11.833 8.895-.707-.707-1.414 1.414.707.708 13.435 13.435.707.707 1.414-1.415-.707-.707-2.482-2.482v-8.416c0-2.33-2.54-3.771-4.54-2.575l-4.036 2.415-2.377-2.377Zm3.835 3.835 5.118 5.118v-6.416a1 1 0 0 0-1.513-.858l-3.605 2.156Zm4.763 10.412 1.416 1.417c-.921.864-2.365 1.132-3.601.392l-6.236-3.73H9.786a3 3 0 0 1-3-3v-2.633a3 3 0 0 1 3-3h.091l2 2H9.786a1 1 0 0 0-1 1v2.632a1 1 0 0 0 1 1h2.224a2 2 0 0 1 1.027.284l6.236 3.731a.995.995 0 0 0 1.158-.093Z",clipRule:"evenodd"})})),d=n("489915"),f=n("419617");n("81078");let p=(0,s.forwardRef)((e,t)=>{let{defaultVolume:n,disabled:a,onVolumeChange:l,showVolume:c}=e,{IconVolumeMuted:u=h,IconVolumeSmall:p=d.Z,IconVolume:v=f.Z}=e,g=(0,s.useRef)(e);g.current=e;let{playerRef:m}=(0,s.useContext)(i.E),y=(0,s.useRef)(null),_=(0,s.useRef)(null),b=(0,o.DM)(l),[{muted:w,volume:S},E]=(0,s.useState)({muted:m.current.muted,volume:m.current.volume}),{showControl:k,hideControl:T}=(0,s.useMemo)(()=>{let e=!1,t=0,n=!1;return{showControl(r){var i,o;if(!g.current.disabled){if(!1===e&&(e=null===(o=m.current)||void 0===o?void 0:o.pluginsConfig.controls),n=r instanceof MouseEvent,t){clearTimeout(t),t=0;return}null===(i=m.current)||void 0===i||i.updateConfig({pluginsConfig:{controls:{autoHide:!1}}}),y.current.style.display="block"}},hideControl(r){if(g.current.disabled||!1===e)return;let i=()=>{var n;t=0,null===(n=m.current)||void 0===n||n.updateConfig({pluginsConfig:{controls:e}}),e=!1,y.current&&(y.current.style.display="")};r instanceof MouseEvent?t=setTimeout(()=>{i(),n=!1},200):!n&&(t=setTimeout(i,1e3))}}},[]);(0,s.useImperativeHandle)(t,()=>({focus:k,blur:T}),[]),(0,i.T)(()=>{let e=()=>{let e={volume:m.current.volume,muted:m.current.muted};E(e),b(e)};return m.current.on("volumechange",e),()=>{var t;null===(t=m.current)||void 0===t||t.off("volumechange",e)}}),(0,i.T)(()=>{let e=m.current,t=y.current.firstElementChild,n=t.firstElementChild,r=()=>{n.style.height=100*e.volume+"%"};r(),e.on("volumechange",r);let i=r=>{r.stopPropagation();let{clientY:i}=r,o=t.getBoundingClientRect(),a=0;i<=o.top?a=1:i<=o.bottom&&(a=(o.bottom-i)/o.height);let s=e.volume,l=e.muted;e.volume=parseFloat(a.toFixed(2)),a>0&&(e.muted=!1),requestAnimationFrame(()=>{n.style.height=100*a+"%"});let c=[];s!==e.volume&&c.push({prop:"volume",from:s,to:e.volume}),l!==e.muted&&c.push({prop:"muted",from:l,to:e.muted}),e.emitUserAction(r,"change_volume",{muted:e.muted,volume:e.volume,pluginName:"volume",props:c})},o=e=>{var t;null===(t=e.view)||void 0===t||t.addEventListener("mouseup",()=>{y.current.removeEventListener("mousemove",i,!0)},{once:!0,capture:!0}),y.current.addEventListener("mousemove",i,!0),i(e)};return y.current.addEventListener("mousedown",o),_.current.addEventListener("mouseenter",k),_.current.addEventListener("mouseleave",T),()=>{var t,n,i;null===(t=y.current)||void 0===t||t.removeEventListener("mousedown",o),null===(n=_.current)||void 0===n||n.removeEventListener("mouseenter",k),null===(i=_.current)||void 0===i||i.removeEventListener("mouseleave",T),e.off("volumechange",r)}});let x=(0,o.DM)(e=>{if(a)return;let t=m.current,r=t.muted||0===t.volume;t.muted=!r,0===t.volume&&(t.volume=n||t.baseConfig.volume||.2),t.emitUserAction(e,"change_muted",{muted:r,volume:t.volume,pluginName:"volume",props:{prop:"muted",from:r,to:!r}})}),C=w||0===S;return(0,r.jsxs)("div",{className:`douyin-player-icon douyin-player-volume ${a?"douyin-player-icon-disabled":""}`,ref:_,children:[(0,r.jsx)(C?u:S<.5?p:v,{onClick:x}),(0,r.jsxs)("div",{className:`douyin-player-volume-slider ${C?"douyin-player-muted":""} ${c?"douyin-player-volume-slider-show-number":""}`,ref:y,children:[(0,r.jsx)("div",{className:"douyin-player-volume-slider-track",children:(0,r.jsx)("div",{className:"douyin-player-volume-slider-thumb"})}),c&&(0,r.jsx)("span",{className:"douyin-player-volume-number",children:w?0:Math.round(100*S)})]})]})}),v=(0,l.r)(p,{position:a.PZ.CONTROL_RIGHT})},194806:function(e,t,n){"use strict";n.d(t,{lp:function(){return r.lp},V2:function(){return r.V2},ry:function(){return r.ry},GI:function(){return r.GI},PZ:function(){return a.PZ},J5:function(){return i.J5},Sp:function(){return r.Sp},FP:function(){return o.F},le:function(){return c},Sy:function(){return a.Sy},di:function(){return a.di},w2:function(){return s.w},Eo:function(){return r.Eo}});var r=n("741024"),i=n("857522"),o=n("738302"),a=n("566054"),s=n("526085"),l=n("520739");let c=(0,n("878389")._)((0,l._)({},r.oU),{FLVERROR:"flverror"})},115076:function(e,t,n){"use strict";n.d(t,{QE:function(){return a},Zs:function(){return s},_P:function(){return l}});var r=n(520739),i=n(368200);n(413806),n(826893);var o=n(741024);let a=(e,t)=>{let{url:n,urlList:a,stream:s,el:l,width:c,height:u,fullscreenTarget:h,defaultPlaybackRate:d,volume:f,muted:p,autoplay:v,coreType:g,preProcessUrl:m,transferDefinition:y}=e,_=(0,i._)(e,["url","urlList","stream","el","width","height","fullscreenTarget","defaultPlaybackRate","volume","muted","autoplay","coreType","preProcessUrl","transferDefinition"]);return{playerConfig:{url:n,urlList:a,stream:s,el:l,width:c,height:u,fullscreenTarget:h,defaultPlaybackRate:d,volume:f,muted:p,autoplay:v,coreType:e.protocol===o.b$.MP3?"media":g,preProcessUrl:m},coreConfig:(0,r._)({url:n,stream:s,urlList:a,defaultPlaybackRate:d,definition:y&&t?t.definition:void 0},_)}},s=(e,t)=>{let n={};for(let r in e)e[r]!==t[r]&&(n[r]=e[r]);for(let r in t)!(r in e)&&(n[r]=void 0);return n},l=e=>{if("string"!=typeof e)return"";let t=e.split("/"),n="";return t.length>3&&t[2]&&(n=t[2]),n}},579666:function(e,t,n){"use strict";n.d(t,{N:function(){return i.N},c:function(){return r.c}});var r=n(630783),i=n(82229)},146641:function(e,t,n){"use strict";n.d(t,{L:function(){return a}});var r=n(134761);n(268917),n(874386),n(675373);var i=n(738302);function o(e,t){e.isUserActive=t,e.emit(i.F.USER_ACTIVE_CHANGE,t)}class a{add(e){this._instanceSet.add(e),1===this._instanceSet.size&&o(e,!0)}remove(e){this._instanceSet.delete(e)}forEach(e){this._instanceSet.forEach(e)}findAll(e){let t=[];for(let n of this._instanceSet)("function"!=typeof e||e(n))&&t.push(n);return t}async iterate(e){let t=this._instanceSet.values(),n=0;for(let r of t)if(!0===await e(r,n++))break}setActive(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!t){for(let t of this._instanceSet)if(t.playerId===e){o(t,!1);break}return}for(let n of this._instanceSet)n.playerId===e?(n.isInstNext=!1,o(n,t)):o(n,!1)}getActiveId(){for(let e of this._instanceSet)if(e.isUserActive)return e.playerId}setNext(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!t){for(let t of this._instanceSet)if(t.playerId===e){t.isInstNext=!1,t.emit(i.F.NEXT_INST_CHANGE,!1);break}return}for(let t of this._instanceSet)t.playerId===e?(t.isInstNext=!0,o(t,!1)):t.isInstNext=!1,t.emit(i.F.NEXT_INST_CHANGE,t.isInstNext)}constructor(){(0,r._)(this,"_instanceSet",new Set)}}},491667:function(e,t,n){"use strict";n.d(t,{G:function(){return v},f:function(){return g}});var r=n(134761);n(874386);var i=n(566054),o=n(634622),a=n(300161);n(459609);var s=Object.defineProperty,l=Object.getOwnPropertyDescriptor;let c="douyin-player-controls-autohide",u="douyin-player-controls-hide",h="douyin-player-margin-controls",d="douyin-player-controls",f=(e,t)=>Number(e.dataset.index||t),p=(e,t,n)=>(e-t)*n>=0;class v extends i.di{render(){let{hide:e}=this._config,t=d+(e?" "+u:"");return`
    <slot>
      <div class="douyin-player-top-bar"></div>
      <div class="${t}">
        <div class="${d}-inner">
          <div class="${d}-left"></div>
          <div class="${d}-right"></div>
        </div>
      </div>
    </slot>
    `}afterPlayerInit(){if(!this._inited){if(this._inited=!0,this._config.marginControls){this._root.classList.add(h);let e=this._player.media,t=this._videoContainer=document.createElement("div");t.classList.add("douyin-player-video-container"),e.after(t),t.appendChild(e)}else if(this._config.autoHide){this.el.parentElement.classList.add(c);let e=this.el.querySelector("."+d);e.addEventListener("mouseenter",this._onMouseEnter),e.addEventListener("mouseleave",this._onMouseLeave)}}}configDidUpdate(e,t){this._config.autoHide?this.el.parentElement.classList.add(c):this.el.parentElement.classList.remove(c),this._config.hide?this.el.classList.add(u):this.el.classList.remove(u)}beforeDestroy(){if(this._root.classList.remove(h),this._config.marginControls){let e=this._player.media;this._videoContainer.after(e),this._videoContainer.remove()}this.el.parentElement.classList.remove(c);let e=this.el.querySelector("."+d);e.removeEventListener("mouseenter",this._onMouseEnter),e.removeEventListener("mouseleave",this._onMouseLeave)}addChild(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.P.CONTROL_RIGHT,n=arguments.length>2?arguments[2]:void 0,r=this.el.querySelector(`.douyin-player-controls-${t===o.P.CONTROL_LEFT?"left":"right"}`);if(!r.childElementCount||void 0===n){r.appendChild(e);return}let i=t===o.P.CONTROL_RIGHT&&!this._config.orderCounterintuitive,a=i?"-1":"Infinity",s=i?1:-1;for(let t=0;t<r.children.length;t++)if(p(n,f(r.children[t],a),s)){r.children[t].before(e);return}r.appendChild(e)}constructor(...e){super(...e),(0,r._)(this,"_videoContainer",void 0),(0,r._)(this,"_onMouseEnter",()=>{this.el.parentElement.classList.remove(c)}),(0,r._)(this,"_onMouseLeave",()=>{this._config.autoHide&&this.el.parentElement.classList.add(c)})}}(0,r._)(v,"pluginName","controls"),((e,t,n,r)=>{for(var i=r>1?void 0:r?l(t,n):t,o,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&s(t,n,i)})([(0,a.I)(["pluginsConfig.controls.autoHide","pluginsConfig.controls.hide"])],v.prototype,"configDidUpdate",1);let g=e=>e instanceof v},428403:function(e,t,n){"use strict";var r=n(134761);n(874386),n(250440);var i=n(741024),o=n(566054),a=n(194806);class s extends o.Sy{afterPlayerInit(){this._player.on("error",this.handleDegrade),this._player.on(a.le.METADATA,this.handleMetaDataLoaded)}beforeDestroy(){this._player.off("error",this.handleDegrade),this._player.off(a.le.METADATA,this.handleMetaDataLoaded)}constructor(...e){super(...e),(0,r._)(this,"codecType",""),(0,r._)(this,"handleDegrade",e=>{if(!!this.codecType.includes("avc"))["decode",3e3,3001,3002,3003,3004,3005,4e3,5e3,5001,5002,5003,5004].includes(e.code)&&this._player._changeCore(i.ry,{})}),(0,r._)(this,"handleMetaDataLoaded",e=>{let{trackType:t,codec:n}=e;"video"===t&&(this.codecType=n)})}}(0,r._)(s,"pluginName","degrade")},561427:function(e,t,n){"use strict";n.d(t,{k:function(){return l}});var r=n(134761);n(429532),n(874386);var i=n(566054),o=n(300161),a=Object.defineProperty,s=Object.getOwnPropertyDescriptor;class l extends i.Sy{afterPlayerInit(e){!this._mainInited&&this._initMain(),!this._secondInited&&this._initSecond()}updateMeta(e){this._meta=e,this._updateMainVideoSize(),this._updateSecondVideoSize()}switchScreen(){this._meta.displayMode^=1,this.updateMeta(this._meta)}showSecond(){this._showSecond=!0,this._updateSecondVideoSize()}hideSecond(){this._showSecond=!1,this._updateSecondVideoSize()}configDidUpdate(){this._initSecond(),this._config.container&&this._updateSecondVideoSize()}_initSecond(){if(!this._secondInited&&!!this._config.container)this._secondInited=!0,this._createVideo(),(this._secondResizeObserver=new ResizeObserver(this._updateSecondVideoSize)).observe(this._config.container)}_createVideo(){var e,t;let n=this._config.container;Object.assign(n.style,{width:"100%",position:"relative",borderRadius:"16px",overflow:"hidden"});let r=this._video=document.createElement("video");r.setAttribute("disablePictureInPicture","true"),r.autoplay=!0,n.appendChild(r);let i=this._player._video;r.muted=!!i.captureStream,r.srcObject=i.srcObject||(null===(e=i.captureStream)||void 0===e?void 0:e.call(i))||(null===(t=i.mozCaptureStream)||void 0===t?void 0:t.call(i))}_initMain(){this._mainInited=!0,this._player.on("fullscreenchange",this._updateMainVideoSize),this._player.on("loadeddata",this._updateMainVideoSize),this._createMainVideoContainer(),this._mainVideo.setAttribute("data-custom-rotate","true"),(this._mainResizeObserver=new ResizeObserver(this._updateMainVideoSize)).observe(this._player.config.baseConfig.el),(this._mainMutationObserver=new MutationObserver(this._updateMainVideoSize)).observe(this._mainVideo,{attributeFilter:["data-rotate-deg"]})}_createMainVideoContainer(){let e=this._mainVideoContainer=document.createElement("div");Object.assign(e.style,{position:"absolute",overflow:"hidden"}),this._mainVideo.replaceWith(e),e.appendChild(this._mainVideo),this._mainVideo.style.transformOrigin="top left"}get _mainVideo(){return this._player._video}beforeDestroy(){var e,t,n,r;null===(e=this._video)||void 0===e||e.remove(),null===(t=this._secondResizeObserver)||void 0===t||t.disconnect(),null===(n=this._mainResizeObserver)||void 0===n||n.disconnect(),null===(r=this._mainMutationObserver)||void 0===r||r.disconnect(),this._player.off("fullscreenchange",this._updateMainVideoSize),this._player.off("loadeddata",this._updateMainVideoSize),this._mainVideo.removeAttribute("data-custom-rotate"),this._mainVideoContainer.replaceWith(this._mainVideo),this._mainVideo.removeAttribute("style")}constructor(...e){super(...e),(0,r._)(this,"_mainInited",!1),(0,r._)(this,"_secondInited",!1),(0,r._)(this,"_showSecond",!0),(0,r._)(this,"_updateSecondVideoSize",()=>{let e=this._config.container;if(!e||!this._meta)return;if(this._showSecond)e.style.display="";else{e.style.display="none";return}let{mainPointers:t,miniPointers:n,displayMode:r}=this._meta,[i,o,a,s]=0===r?n:t,{videoHeight:l,videoWidth:c}=this._player._video,{width:u}=e.getBoundingClientRect();e.style.height=`${s*l/(a*c)*u}px`;let h={width:`${u/a}px`,transform:`translate(-${100*i}%, -${100*o}%)`};Object.assign(this._video.style,h)}),(0,r._)(this,"_updateMainVideoSize",()=>{let e;if(!this._meta)return;let{mainPointers:t,miniPointers:n,displayMode:r}=this._meta,[i,o,a,s]=1===r?n:t,l=this._mainVideo,{videoHeight:c,videoWidth:u}=l;if(!u||!c)return;let{width:h,height:d}=this._player.config.baseConfig.el.getBoundingClientRect(),f=u*a,p=c*s,v=f/p,g=Number(l.dataset.rotateDeg||0),m=g%180!=0;if(h/d>=(m?p/f:v)){let t=m?d/v:d*v,n={height:"100%",width:`${t}px`,left:"50%",top:"0",transform:"translateX(-50%)"};Object.assign(this._mainVideoContainer.style,n),e=m?{height:`${t/s}px`,width:`${d/a}px`}:{width:`${100/a}%`,height:`${100/s}%`}}else{let t=m?h*v:h/v,n={height:`${t}px`,width:"100%",left:"0",top:"50%",transform:"translateY(-50%)"};Object.assign(this._mainVideoContainer.style,n),e=m?{height:`${h/s}px`,width:`${t/a}px`}:{height:`${t/s}px`,width:`${100/a}%`}}let y=0===g?`translate(-${100*i}%, -${100*o}%)`:-90===g?`translate(-${(a+i)*100}%, -${100*o}%)`:-180===g?`translate(-${(a+i)*100}%, -${100*s}%)`:`translate(-${100*i}%, -${100*s}%)`;Object.assign(this._mainVideo.style,e,{rotate:g+"deg",transform:y})})}}(0,r._)(l,"pluginName","doubleScreen"),((e,t,n,r)=>{for(var i=r>1?void 0:r?s(t,n):t,o,l=e.length-1;l>=0;l--)(o=e[l])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&a(t,n,i)})([(0,o.I)(["pluginsConfig.doubleScreen.container"])],l.prototype,"configDidUpdate",1)},680013:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(134761);n(874386);var i=n(566054),o=n(526085);n(352239);let a=(0,o.w)("loading"),s=(0,o.w)("isloading");class l extends i.di{render(){let{text:e="视频加载中"}=this._config;return`
      <div class="${a} ${!1!==e?`${a}-has-text`:""}">
        <div class="${a}-icon"></div>
        ${e?`<div class="${a}-text">${e}</div>`:""}
      </div>
    `}afterPlayerInit(e){let{enter:t=!0,stalled:n=!0}=this._config;t&&!e&&(this._addLoading(),this._player.on("canplay",this._removeLoading),this._player.on("loadstart",this._addLoading)),n&&this._player.on("stalled",this._addLoading),this._player.on("error",this._removeLoading)}beforeDestroy(){this._player.off("canplay",this._removeLoading),this._player.off("error",this._removeLoading),this._player.off("stalled",this._addLoading),this._player.off("loadstart",this._addLoading)}constructor(...e){super(...e),(0,r._)(this,"_addLoading",()=>{this._root.classList.add(s)}),(0,r._)(this,"_removeLoading",()=>{this._root.classList.remove(s)})}}(0,r._)(l,"pluginName","loading")},578958:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(134761);n(675373),n(284961),n(826893),n(874386);var i=n(155909),o=n(566054);class a extends o.Sy{static get pluginName(){return"screenShot"}saveScreenShot(e,t){let n=document.createElement("a");n.href=e,n.download=t;let r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(r)}createCanvas(e,t){let n=document.createElement("canvas");this.canvasCtx=n.getContext("2d")||void 0,this.canvas=n,n.width=e,n.height=t}shotArea(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{quality:.92,type:"image/png"},{_player:a}=this;(!this.canvas||!this.canvasCtx)&&this.createCanvas(n,r);let s=this.canvas,l=o.quality,c=o.type,u=a.video||a.media;return new Promise(o=>{let a=this.canvasCtx;s.width=n,s.height=r;let{isContain:h,isCover:d}=(0,i.Y)(u);if(h){let i=u.videoHeight/u.videoWidth,h=u.clientHeight/u.clientWidth,d=i;d=h>i?u.videoWidth/u.clientWidth:u.videoHeight/u.clientHeight,s.width=n,s.height=r,null==a||a.drawImage(u,e*d,t*d,n*d,r*d,0,0,n,r),o(s.toDataURL(c,l))}else if(d){let{source:h,destination:d}=(0,i.I)(u.clientWidth,u.clientHeight,u.videoWidth,u.videoHeight);s.width=d.width,s.height=d.height,null==a||a.drawImage(u,h.x,h.y,h.width,h.height,d.x,d.y,d.width,d.height);let f=s.toDataURL("image/png"),p=new Image(d.width,d.height);p.src=f,p.onload=()=>{null==a||a.clearRect(0,0,s.width,s.height),s.width=n,s.height=r,null==a||a.drawImage(p,e,t,n,r,0,0,n,r),p.onload=null},null==a||a.drawImage(u,e,t,n,r,0,0,n,r),o(s.toDataURL(c,l))}})}shot(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{quality:.92,type:"image/png"},{_player:r}=this,i=n.quality,o=n.type;return new Promise((n,a)=>{try{var s,l;this.canvas?(this.canvas.width=e,this.canvas.height=t):this.createCanvas(e,t),null===(s=this.canvasCtx)||void 0===s||s.drawImage(r.video,0,0,e,t);let a=null===(l=this.canvas)||void 0===l?void 0:l.toDataURL(o,i).replace(o,"image/octet-stream");a=null==a?void 0:a.replace(/^data:image\/[^;]+/,"data:application/octet-stream"),n(a)}catch(e){a(e)}})}constructor(...e){super(...e),(0,r._)(this,"canvas",void 0),(0,r._)(this,"canvasCtx",void 0)}}},978720:function(e,t,n){"use strict";n.d(t,{P:function(){return r},e:function(){return i}});var r='\n<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>警告</title>\n</head>\n<body>\n  当前页面地址不符合安全策略\n</body>\n</html>\n',i='\n<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>提示</title>\n</head>\n<body>\n  加载失败，请稍后重试\n</body>\n</html>\n'},911159:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var r=n(806835),i=n(613924),o=n(934101),a=function(e){window.JSBridge&&window.JSBridge._handleMessageFromApp?JSBridge._handleMessageFromApp(new Proxy(e,{set:function(){return!0}})):window.Native2JSBridge&&window.Native2JSBridge._handleMessageFromApp&&Native2JSBridge._handleMessageFromApp(e)},s=function(){if("undefined"!=typeof window){var e,t={_invokeMethod:function(e){var t=JSON.parse(e),n=t.func,s=t.params,l=t.__callback_id,c={containerID:o.km,containerType:i.mC.WEBVIEW,sendEvent:function(e,t){a({__msg_type:"event",__event_id:e,__params:t})},callback:function(e){a({__msg_type:"callback",__params:e,__callback_id:l})}};(0,r.Xw)(n,{callbackId:l,name:n,params:s},c,i.lS.host)}};Object.freeze(t);var n="JS2NativeBridge";(null===(e=window.JS2NativeBridge)||void 0===e?void 0:e._registerAnnieWeb)&&(n="JS2NativeBridge@annie/web",window.JS2NativeBridge._registerAnnieWeb());try{Object.defineProperty(window,n,{value:t})}catch(e){}}}},561407:function(e,t,n){"use strict";var r=n(806835),i=n(154115),o=n(421657);(0,r.Z1)("x.canIUse",function(e,t,n){var r=t.method;return(0,i.Vp)({isAvailable:r in o.$z[n]})})},240213:function(e,t,n){"use strict";n.d(t,{jv:function(){return o}});var r=function(e){var t;try{t=new URL(e)}catch(e){return!1}return"https:"===t.protocol},i=[],o=function(e){var t=r(e),n=!0,o=!1,a=void 0;try{for(var s,l=i[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var c=function(){var n=s.value;if(!1===t)return"break";t=!0===t?n(e):t.then(function(t){return t&&n(e)})}();if("break"===c)break}}catch(e){o=!0,a=e}finally{try{!n&&null!=l.return&&l.return()}finally{if(o)throw a}}return t}},934101:function(e,t,n){"use strict";n.d(t,{TO:function(){return i},km:function(){return a},wB:function(){return o}});var r=0,i="@annie/web",o=function(){return"".concat(i,"_").concat(Math.random().toString(36).slice(2),"_").concat(r++)},a=Math.random().toString(36).slice(2)},387362:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(88648),i=function(e,t){var n=(0,r.useRef)(!1);(0,r.useEffect)(function(){return n.current?e():(n.current=!0,function(){})},t)}},144055:function(e,t,n){"use strict";n.d(t,{i:function(){return a}});var r=n(620984),i=n(790137).Buffer,o=void 0!==i&&i.from?function(e){return i.from(e,"utf8")}:r.$;function a(e){return e instanceof Uint8Array?e:"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},704607:function(e,t,n){"use strict";n.d(t,{F:function(){return c}});var r=n(876417),i=n(582931),o=n(304144);let a=[],s=[],l=[];function c(e){if(!e)return 0;let t=function(e){if(e===r.O.Intel&&a.length)return a;if(e===r.O.Nvidia&&s.length)return s;if(e===r.O.Amd&&l.length)return l;try{let t=(0,o.Z)(e),n=(0,i._L)(t,e);return e===r.O.Intel&&(a=n),e===r.O.Nvidia&&(s=n),e===r.O.Amd&&(l=n),n}catch(e){}return[]}(e.vendor);return(0,i.M8)((0,i.vC)(t,e))}},582931:function(e,t,n){"use strict";n.d(t,{LH:function(){return o},M8:function(){return l},_L:function(){return a},vC:function(){return s}});var r=n(876417);let i="g_ven";function o(){try{let e,t=localStorage.getItem(i)||"";if(t)return t;let n=document.createElement("canvas").getContext("webgl");if(n)return(t=(e=n.getExtension("WEBGL_debug_renderer_info"))?n.getParameter(e.UNMASKED_RENDERER_WEBGL):"")&&localStorage.setItem(i,t),t}catch(e){}return""}function a(e,t){let n;return(n=t===r.O.Intel?e.split("\n").map(e=>`Intel(R) ${e}`):e.split("\n")).map(e=>e.split("|"))}function s(e,t){let n=e.filter(e=>e[0]===t.model);!n.length&&(n=e.filter(e=>e[0]===t.backupModel)),!n.length&&t.vendor===r.O.Intel&&!/^Intel(R)/.test(t.model)&&(n=e.filter(e=>e[0]==="Intel(R) "+t.model));let i="-1";if(n.length){let e=n[0][1];i="-1"===e?"0":e}return parseInt(i)}function l(e){return 0===e?0:-1===e?-1:parseFloat(Math.log2(e).toFixed(2))}},18263:function(e,t,n){"use strict";n.d(t,{$Z:function(){return MS},Cd:function(){return L3},VodLoggerPlugin:function(){return SM},ZP:function(){return ph},cG:function(){return Mk},li:function(){return MC},sE:function(){return Nq},wt:function(){return NW},xx:function(){return NJ}});var r,i,o,a,s,l,c,u,h=n(937487),d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{};function f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var p=function(e){return e&&e.Math===Math&&e},v=p("object"==typeof globalThis&&globalThis)||p("object"==typeof window&&window)||p("object"==typeof self&&self)||p("object"==typeof d&&d)||p("object"==typeof d&&d)||function(){return this}()||Function("return this")(),g=function(e){try{return!!e()}catch(e){return!0}},m=!g(function(){var e=(function(){}).bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}),y=Function.prototype,_=y.apply,b=y.call,w="object"==typeof Reflect&&Reflect.apply||(m?b.bind(_):function(){return b.apply(_,arguments)}),S=Function.prototype,E=S.call,k=m&&S.bind.bind(E,E),T=m?k:function(e){return function(){return E.apply(e,arguments)}},x=T({}.toString),C=T("".slice),I=function(e){return C(x(e),8,-1)},O=function(e){if("Function"===I(e))return T(e)},A="object"==typeof document&&document.all,P=void 0===A&&void 0!==A?function(e){return"function"==typeof e||e===A}:function(e){return"function"==typeof e},R={},D=!g(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}),L=Function.prototype.call,M=m?L.bind(L):function(){return L.apply(L,arguments)},z={},N={}.propertyIsEnumerable,j=Object.getOwnPropertyDescriptor,B=j&&!N.call({1:2},1);z.f=B?function(e){var t=j(this,e);return!!t&&t.enumerable}:N;var U,F,G=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},V=Object,H=T("".split),Z=g(function(){return!V("z").propertyIsEnumerable(0)})?function(e){return"String"===I(e)?H(e,""):V(e)}:V,K=function(e){return null==e},W=TypeError,$=function(e){if(K(e))throw new W("Can't call method on "+e);return e},q=function(e){return Z($(e))},X=function(e){return"object"==typeof e?null!==e:P(e)},J={},Y=function(e){return P(e)?e:void 0},Q=function(e,t){return arguments.length<2?Y(J[e])||Y(v[e]):J[e]&&J[e][t]||v[e]&&v[e][t]},ee=T({}.isPrototypeOf),et=v.navigator,en=et&&et.userAgent,er=en?String(en):"",ei=v.process,eo=v.Deno,ea=ei&&ei.versions||eo&&eo.version,es=ea&&ea.v8;es&&(F=(U=es.split("."))[0]>0&&U[0]<4?1:+(U[0]+U[1])),!F&&er&&(!(U=er.match(/Edge\/(\d+)/))||U[1]>=74)&&(U=er.match(/Chrome\/(\d+)/))&&(F=+U[1]);var el=F,ec=v.String,eu=!!Object.getOwnPropertySymbols&&!g(function(){var e=Symbol("symbol detection");return!ec(e)||!(Object(e) instanceof Symbol)||!Symbol.sham&&el&&el<41}),eh=eu&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ed=Object,ef=eh?function(e){return"symbol"==typeof e}:function(e){var t=Q("Symbol");return P(t)&&ee(t.prototype,ed(e))},ep=String,ev=function(e){try{return ep(e)}catch(e){return"Object"}},eg=TypeError,em=function(e){if(P(e))return e;throw new eg(ev(e)+" is not a function")},ey=function(e,t){var n=e[t];return K(n)?void 0:em(n)},e_=TypeError,eb={exports:{}},ew=Object.defineProperty,eS="__core-js_shared__",eE=eb.exports=v[eS]||function(e,t){try{ew(v,e,{value:t,configurable:!0,writable:!0})}catch(n){v[e]=t}return t}(eS,{});(eE.versions||(eE.versions=[])).push({version:"3.45.1",mode:"pure",copyright:"\xa9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"});var ek=eb.exports,eT=function(e,t){return ek[e]||(ek[e]=t||{})},ex=Object,eC=function(e){return ex($(e))},eI=T({}.hasOwnProperty),eO=Object.hasOwn||function(e,t){return eI(eC(e),t)},eA=0,eP=Math.random(),eR=T(1.1.toString),eD=function(e){return"Symbol("+(void 0===e?"":e)+")_"+eR(++eA+eP,36)},eL=v.Symbol,eM=eT("wks"),ez=eh?eL.for||eL:eL&&eL.withoutSetter||eD,eN=function(e){return eO(eM,e)||(eM[e]=eu&&eO(eL,e)?eL[e]:ez("Symbol."+e)),eM[e]},ej=function(e,t){var n,r;if("string"===t&&P(n=e.toString)&&!X(r=M(n,e))||P(n=e.valueOf)&&!X(r=M(n,e))||"string"!==t&&P(n=e.toString)&&!X(r=M(n,e)))return r;throw new e_("Can't convert object to primitive value")},eB=TypeError,eU=eN("toPrimitive"),eF=function(e,t){if(!X(e)||ef(e))return e;var n,r=ey(e,eU);if(r){if(void 0===t&&(t="default"),!X(n=M(r,e,t))||ef(n))return n;throw new eB("Can't convert object to primitive value")}return void 0===t&&(t="number"),ej(e,t)},eG=function(e){var t=eF(e,"string");return ef(t)?t:t+""},eV=v.document,eH=X(eV)&&X(eV.createElement),eZ=function(e){return eH?eV.createElement(e):{}},eK=!D&&!g(function(){return 7!==Object.defineProperty(eZ("div"),"a",{get:function(){return 7}}).a}),eW=Object.getOwnPropertyDescriptor;R.f=D?eW:function(e,t){if(e=q(e),t=eG(t),eK)try{return eW(e,t)}catch(e){}if(eO(e,t))return G(!M(z.f,e,t),e[t])};var e$=/#|\.prototype\./,eq=function(e,t){var n=eJ[eX(e)];return n===eQ||n!==eY&&(P(t)?g(t):!!t)},eX=eq.normalize=function(e){return String(e).replace(e$,".").toLowerCase()},eJ=eq.data={},eY=eq.NATIVE="N",eQ=eq.POLYFILL="P",e0=O(O.bind),e1=function(e,t){return em(e),void 0===t?e:m?e0(e,t):function(){return e.apply(t,arguments)}},e2={},e5=D&&g(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),e4=String,e3=TypeError,e6=function(e){if(X(e))return e;throw new e3(e4(e)+" is not an object")},e9=TypeError,e7=Object.defineProperty,e8=Object.getOwnPropertyDescriptor,te="enumerable",tt="configurable",tn="writable";e2.f=D?e5?function(e,t,n){if(e6(e),t=eG(t),e6(n),"function"==typeof e&&"prototype"===t&&"value"in n&&tn in n&&!n[tn]){var r=e8(e,t);r&&r[tn]&&(e[t]=n.value,n={configurable:tt in n?n[tt]:r[tt],enumerable:te in n?n[te]:r[te],writable:!1})}return e7(e,t,n)}:e7:function(e,t,n){if(e6(e),t=eG(t),e6(n),eK)try{return e7(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new e9("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var tr=D?function(e,t,n){return e2.f(e,t,G(1,n))}:function(e,t,n){return e[t]=n,e},ti=R.f,to=function(e){var t=function(n,r,i){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,i)}return w(e,this,arguments)};return t.prototype=e.prototype,t},ta=function(e,t){var n,r,i,o,a,s,l,c,u,h=e.target,d=e.global,f=e.stat,p=e.proto,g=d?v:f?v[h]:v[h]&&v[h].prototype,m=d?J:J[h]||tr(J,h,{})[h],y=m.prototype;for(o in t)r=!(n=eq(d?o:h+(f?".":"#")+o,e.forced))&&g&&eO(g,o),s=m[o],r&&(l=e.dontCallGetSet?(u=ti(g,o))&&u.value:g[o]),a=r&&l?l:t[o],(n||p||typeof s!=typeof a)&&(c=e.bind&&r?e1(a,v):e.wrap&&r?to(a):p&&P(a)?O(a):a,(e.sham||a&&a.sham||s&&s.sham)&&tr(c,"sham",!0),tr(m,o,c),p&&(eO(J,i=h+"Prototype")||tr(J,i,{}),tr(J[i],o,a),e.real&&y&&(n||!y[o])&&tr(y,o,a)))},ts=Array.isArray||function(e){return"Array"===I(e)};ta({target:"Array",stat:!0},{isArray:ts});var tl=J.Array.isArray,tc=f(tl);function tu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var th=Math.ceil,td=Math.floor,tf=Math.trunc||function(e){var t=+e;return(t>0?td:th)(t)},tp=function(e){var t=+e;return t!=t||0===t?0:tf(t)},tv=Math.min,tg=function(e){var t=tp(e);return t>0?tv(t,9007199254740991):0},tm=function(e){return tg(e.length)},ty=TypeError,t_=function(e){if(e>9007199254740991)throw ty("Maximum allowed index exceeded");return e},tb=function(e,t,n){D?e2.f(e,t,G(0,n)):e[t]=n},tw=eN("toStringTag"),tS={};tS[tw]="z";var tE="[object z]"===String(tS),tk=eN("toStringTag"),tT=Object,tx="Arguments"===I(function(){return arguments}()),tC=function(e,t){try{return e[t]}catch(e){}},tI=tE?I:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=tC(t=tT(e),tk))?n:tx?I(t):"Object"===(r=I(t))&&P(t.callee)?"Arguments":r},tO=T(Function.toString);P(ek.inspectSource)||(ek.inspectSource=function(e){return tO(e)});var tA=ek.inspectSource,tP=function(){},tR=Q("Reflect","construct"),tD=/^\s*(?:class|function)\b/,tL=T(tD.exec),tM=!tD.test(tP),tz=function(e){if(!P(e))return!1;try{return tR(tP,[],e),!0}catch(e){return!1}},tN=function(e){if(!P(e))return!1;switch(tI(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return tM||!!tL(tD,tA(e))}catch(e){return!0}};tN.sham=!0;var tj=!tR||g(function(){var e;return tz(tz.call)||!tz(Object)||!tz(function(){e=!0})||e})?tN:tz,tB=eN("species"),tU=Array,tF=function(e){var t;return ts(e)&&(tj(t=e.constructor)&&(t===tU||ts(t.prototype))||X(t)&&null===(t=t[tB]))&&(t=void 0),void 0===t?tU:t},tG=function(e,t){return new(tF(e))(0===t?0:t)},tV=eN("species"),tH=function(e){return el>=51||!g(function(){var t=[];return(t.constructor={})[tV]=function(){return{foo:1}},1!==t[e](Boolean).foo})},tZ=eN("isConcatSpreadable"),tK=el>=51||!g(function(){var e=[];return e[tZ]=!1,e.concat()[0]!==e}),tW=function(e){if(!X(e))return!1;var t=e[tZ];return void 0!==t?!!t:ts(e)};ta({target:"Array",proto:!0,arity:1,forced:!tK||!tH("concat")},{concat:function(e){var t,n,r,i,o,a=eC(this),s=tG(a,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(tW(o=-1===t?a:arguments[t]))for(t_(l+(i=tm(o))),n=0;n<i;n++,l++)n in o&&tb(s,l,o[n]);else t_(l+1),tb(s,l++,o);return s.length=l,s}});var t$=String,tq=function(e){if("Symbol"===tI(e))throw TypeError("Cannot convert a Symbol value to a string");return t$(e)},tX={},tJ=Math.max,tY=Math.min,tQ=function(e,t){var n=tp(e);return n<0?tJ(n+t,0):tY(n,t)},t0=function(e){return function(t,n,r){var i=q(t),o=tm(i);if(0===o)return!e&&-1;var a,s=tQ(r,o);if(e&&n!=n){for(;o>s;)if((a=i[s++])!=a)return!0}else for(;o>s;s++)if((e||s in i)&&i[s]===n)return e||s||0;return!e&&-1}},t1={includes:t0(!0),indexOf:t0(!1)},t2={},t5=t1.indexOf,t4=T([].push),t3=function(e,t){var n,r=q(e),i=0,o=[];for(n in r)!eO(t2,n)&&eO(r,n)&&t4(o,n);for(;t.length>i;)eO(r,n=t[i++])&&(~t5(o,n)||t4(o,n));return o},t6=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],t9=Object.keys||function(e){return t3(e,t6)};tX.f=D&&!e5?Object.defineProperties:function(e,t){e6(e);for(var n,r=q(t),i=t9(t),o=i.length,a=0;o>a;)e2.f(e,n=i[a++],r[n]);return e};var t7,t8=Q("document","documentElement"),ne=eT("keys"),nt=function(e){return ne[e]||(ne[e]=eD(e))},nn="prototype",nr="script",ni=nt("IE_PROTO"),no=function(){},na=function(e){return"<"+nr+">"+e+"</"+nr+">"},ns=function(e){e.write(na("")),e.close();var t=e.parentWindow.Object;return e=null,t},nl=function(){var e,t=eZ("iframe");return t.style.display="none",t8.appendChild(t),t.src=String("java"+nr+":"),(e=t.contentWindow.document).open(),e.write(na("document.F=Object")),e.close(),e.F},nc=function(){try{t7=new ActiveXObject("htmlfile")}catch(e){}nc="undefined"!=typeof document?document.domain&&t7?ns(t7):nl():ns(t7);for(var e=t6.length;e--;)delete nc[nn][t6[e]];return nc()};t2[ni]=!0;var nu=Object.create||function(e,t){var n;return null!==e?(no[nn]=e6(e),n=new no,no[nn]=null,n[ni]=e):n=nc(),void 0===t?n:tX.f(n,t)},nh={},nd=t6.concat("length","prototype");nh.f=Object.getOwnPropertyNames||function(e){return t3(e,nd)};var nf={},np=T([].slice),nv=nh.f,ng="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],nm=function(e){try{return nv(e)}catch(e){return np(ng)}};nf.f=function(e){return ng&&"Window"===I(e)?nm(e):nv(q(e))};var ny={};ny.f=Object.getOwnPropertySymbols;var n_=function(e,t,n,r){return r&&r.enumerable?e[t]=n:tr(e,t,n),e},nb=function(e,t,n){return e2.f(e,t,n)},nw={};nw.f=eN;var nS,nE,nk,nT=e2.f,nx=function(e){var t=J.Symbol||(J.Symbol={});eO(t,e)||nT(t,e,{value:nw.f(e)})},nC=function(){var e=Q("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,r=eN("toPrimitive");t&&!t[r]&&n_(t,r,function(e){return M(n,this)},{arity:1})},nI=e2.f,nO=tE?({}).toString:function(){return"[object "+tI(this)+"]"},nA=eN("toStringTag"),nP=function(e,t,n,r){var i=n?e:e&&e.prototype;i&&(eO(i,nA)||nI(i,nA,{configurable:!0,value:t}),r&&!tE&&tr(i,"toString",nO))},nR=v.WeakMap,nD=P(nR)&&/native code/.test(String(nR)),nL="Object already initialized",nM=v.TypeError,nz=v.WeakMap;if(nD||ek.state){var nN=ek.state||(ek.state=new nz);nN.get=nN.get,nN.has=nN.has,nN.set=nN.set,nS=function(e,t){if(nN.has(e))throw new nM(nL);return t.facade=e,nN.set(e,t),t},nE=function(e){return nN.get(e)||{}},nk=function(e){return nN.has(e)}}else{var nj=nt("state");t2[nj]=!0,nS=function(e,t){if(eO(e,nj))throw new nM(nL);return t.facade=e,tr(e,nj,t),t},nE=function(e){return eO(e,nj)?e[nj]:{}},nk=function(e){return eO(e,nj)}}var nB={set:nS,get:nE,has:nk,enforce:function(e){return nk(e)?nE(e):nS(e,{})},getterFor:function(e){return function(t){var n;if(!X(t)||(n=nE(t)).type!==e)throw new nM("Incompatible receiver, "+e+" required");return n}}},nU=T([].push),nF=function(e){var t=1===e,n=2===e,r=3===e,i=4===e,o=6===e,a=7===e,s=5===e||o;return function(l,c,u,h){for(var d,f,p=eC(l),v=Z(p),g=tm(v),m=e1(c,u),y=0,_=h||tG,b=t?_(l,g):n||a?_(l,0):void 0;g>y;y++)if((s||y in v)&&(f=m(d=v[y],y,p),e)){if(t)b[y]=f;else if(f)switch(e){case 3:return!0;case 5:return d;case 6:return y;case 2:nU(b,d)}else switch(e){case 4:return!1;case 7:nU(b,d)}}return o?-1:r||i?i:b}},nG={forEach:nF(0),map:nF(1),filter:nF(2),some:nF(3),every:nF(4),find:nF(5),findIndex:nF(6),filterReject:nF(7)},nV=nG.forEach,nH=nt("hidden"),nZ="Symbol",nK="prototype",nW=nB.set,n$=nB.getterFor(nZ),nq=Object[nK],nX=v.Symbol,nJ=nX&&nX[nK],nY=v.RangeError,nQ=v.TypeError,n0=v.QObject,n1=R.f,n2=e2.f,n5=nf.f,n4=z.f,n3=T([].push),n6=eT("symbols"),n9=eT("op-symbols"),n7=eT("wks"),n8=!n0||!n0[nK]||!n0[nK].findChild,re=function(e,t,n){var r=n1(nq,t);r&&delete nq[t],n2(e,t,n),r&&e!==nq&&n2(nq,t,r)},rt=D&&g(function(){return 7!==nu(n2({},"a",{get:function(){return n2(this,"a",{value:7}).a}})).a})?re:n2,rn=function(e,t){var n=n6[e]=nu(nJ);return nW(n,{type:nZ,tag:e,description:t}),D||(n.description=t),n},rr=function(e,t,n){e===nq&&rr(n9,t,n),e6(e);var r=eG(t);return e6(n),eO(n6,r)?(n.enumerable?(eO(e,nH)&&e[nH][r]&&(e[nH][r]=!1),n=nu(n,{enumerable:G(0,!1)})):(eO(e,nH)||n2(e,nH,G(1,nu(null))),e[nH][r]=!0),rt(e,r,n)):n2(e,r,n)},ri=function(e,t){e6(e);var n=q(t);return nV(t9(n).concat(rl(n)),function(t){D&&!M(ro,n,t)||rr(e,t,n[t])}),e},ro=function(e){var t=eG(e),n=M(n4,this,t);return!(this===nq&&eO(n6,t)&&!eO(n9,t))&&(!(n||!eO(this,t)||!eO(n6,t)||eO(this,nH)&&this[nH][t])||n)},ra=function(e,t){var n=q(e),r=eG(t);if(n!==nq||!eO(n6,r)||eO(n9,r)){var i=n1(n,r);return!i||!eO(n6,r)||eO(n,nH)&&n[nH][r]||(i.enumerable=!0),i}},rs=function(e){var t=n5(q(e)),n=[];return nV(t,function(e){eO(n6,e)||eO(t2,e)||n3(n,e)}),n},rl=function(e){var t=e===nq,n=n5(t?n9:q(e)),r=[];return nV(n,function(e){eO(n6,e)&&(!t||eO(nq,e))&&n3(r,n6[e])}),r};eu||(n_(nJ=(nX=function(){if(ee(nJ,this))throw new nQ("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?tq(arguments[0]):void 0,t=eD(e),n=function(e){var r=void 0===this?v:this;r===nq&&M(n,n9,e),eO(r,nH)&&eO(r[nH],t)&&(r[nH][t]=!1);var i=G(1,e);try{rt(r,t,i)}catch(e){if(!(e instanceof nY))throw e;re(r,t,i)}};return D&&n8&&rt(nq,t,{configurable:!0,set:n}),rn(t,e)})[nK],"toString",function(){return n$(this).tag}),n_(nX,"withoutSetter",function(e){return rn(eD(e),e)}),z.f=ro,e2.f=rr,tX.f=ri,R.f=ra,nh.f=nf.f=rs,ny.f=rl,nw.f=function(e){return rn(eN(e),e)},D&&nb(nJ,"description",{configurable:!0,get:function(){return n$(this).description}})),ta({global:!0,constructor:!0,wrap:!0,forced:!eu,sham:!eu},{Symbol:nX}),nV(t9(n7),function(e){nx(e)}),ta({target:nZ,stat:!0,forced:!eu},{useSetter:function(){n8=!0},useSimple:function(){n8=!1}}),ta({target:"Object",stat:!0,forced:!eu,sham:!D},{create:function(e,t){return void 0===t?nu(e):ri(nu(e),t)},defineProperty:rr,defineProperties:ri,getOwnPropertyDescriptor:ra}),ta({target:"Object",stat:!0,forced:!eu},{getOwnPropertyNames:rs}),nC(),nP(nX,nZ),t2[nH]=!0;var rc=eu&&!!Symbol.for&&!!Symbol.keyFor,ru=eT("string-to-symbol-registry"),rh=eT("symbol-to-string-registry");ta({target:"Symbol",stat:!0,forced:!rc},{for:function(e){var t=tq(e);if(eO(ru,t))return ru[t];var n=Q("Symbol")(t);return ru[t]=n,rh[n]=t,n}});var rd=eT("symbol-to-string-registry");ta({target:"Symbol",stat:!0,forced:!rc},{keyFor:function(e){if(!ef(e))throw TypeError(ev(e)+" is not a symbol");if(eO(rd,e))return rd[e]}});var rf=T([].push),rp=function(e){if(P(e))return e;if(ts(e)){for(var t=e.length,n=[],r=0;r<t;r++){var i=e[r];"string"==typeof i?rf(n,i):"number"!=typeof i&&"Number"!==I(i)&&"String"!==I(i)||rf(n,tq(i))}var o=n.length,a=!0;return function(e,t){if(a)return a=!1,t;if(ts(this))return t;for(var r=0;r<o;r++)if(n[r]===e)return t}}},rv=String,rg=Q("JSON","stringify"),rm=T(/./.exec),ry=T("".charAt),r_=T("".charCodeAt),rb=T("".replace),rw=T(1.1.toString),rS=/[\uD800-\uDFFF]/g,rE=/^[\uD800-\uDBFF]$/,rk=/^[\uDC00-\uDFFF]$/,rT=!eu||g(function(){var e=Q("Symbol")("stringify detection");return"[null]"!==rg([e])||"{}"!==rg({a:e})||"{}"!==rg(Object(e))}),rx=g(function(){return'"\udf06\ud834"'!==rg("\udf06\ud834")||'"\udead"'!==rg("\udead")}),rC=function(e,t){var n=np(arguments),r=rp(t);if(P(r)||void 0!==e&&!ef(e))return n[1]=function(e,t){if(P(r)&&(t=M(r,this,rv(e),t)),!ef(t))return t},w(rg,null,n)},rI=function(e,t,n){var r=ry(n,t-1),i=ry(n,t+1);return rm(rE,e)&&!rm(rk,i)||rm(rk,e)&&!rm(rE,r)?"\\u"+rw(r_(e,0),16):e};rg&&ta({target:"JSON",stat:!0,arity:3,forced:rT||rx},{stringify:function(e,t,n){var r=np(arguments),i=w(rT?rC:rg,null,r);return rx&&"string"==typeof i?rb(i,rS,rI):i}}),ta({target:"Object",stat:!0,forced:!eu||g(function(){ny.f(1)})},{getOwnPropertySymbols:function(e){var t=ny.f;return t?t(eC(e)):[]}});nx("asyncDispose");nx("asyncIterator");nx("dispose");nx("hasInstance");nx("isConcatSpreadable");nx("iterator");nx("match");nx("matchAll");nx("replace");nx("search");nx("species");nx("split");nx("toPrimitive"),nC();nx("toStringTag"),nP(Q("Symbol"),"Symbol");nx("unscopables");nP(v.JSON,"JSON",!0);var rO,rA,rP,rR=J.Symbol,rD={},rL=Function.prototype,rM=D&&Object.getOwnPropertyDescriptor,rz=eO(rL,"name"),rN=rz&&(!D||D&&rM(rL,"name").configurable),rj={EXISTS:rz,PROPER:rz&&"something"===(function(){}).name,CONFIGURABLE:rN},rB=!g(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),rU=nt("IE_PROTO"),rF=Object,rG=rF.prototype,rV=rB?rF.getPrototypeOf:function(e){var t=eC(e);if(eO(t,rU))return t[rU];var n=t.constructor;return P(n)&&t instanceof n?n.prototype:t instanceof rF?rG:null},rH=eN("iterator"),rZ=!1;[].keys&&("next"in(rP=[].keys())?(rA=rV(rV(rP)))!==Object.prototype&&(rO=rA):rZ=!0),P((rO=!X(rO)||g(function(){var e={};return rO[rH].call(e)!==e})?{}:nu(rO))[rH])||n_(rO,rH,function(){return this});var rK={IteratorPrototype:rO,BUGGY_SAFARI_ITERATORS:rZ},rW=rK.IteratorPrototype,r$=function(){return this},rq=function(e,t,n,r){var i=t+" Iterator";return e.prototype=nu(rW,{next:G(+!r,n)}),nP(e,i,!1,!0),rD[i]=r$,e},rX=String,rJ=TypeError,rY=function(e,t,n){try{return T(em(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}},rQ=function(e){var t;if(X(t=e)||null===t)return e;throw new rJ("Can't set "+rX(e)+" as a prototype")},r0=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=rY(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return $(n),rQ(r),X(n)&&(t?e(n,r):n.__proto__=r),n}}():void 0),r1=rj.PROPER;rj.CONFIGURABLE,rK.IteratorPrototype;var r2=rK.BUGGY_SAFARI_ITERATORS,r5=eN("iterator"),r4="keys",r3="values",r6="entries",r9=function(){return this},r7=function(e,t,n,r,i,o,a){rq(n,t,r);var s,l,c,u=function(e){if(e===i&&v)return v;if(!r2&&e&&e in f)return f[e];switch(e){case r4:case r3:case r6:return function(){return new n(this,e)}}return function(){return new n(this)}},h=t+" Iterator",d=!1,f=e.prototype,p=f[r5]||f["@@iterator"]||i&&f[i],v=!r2&&p||u(i),g="Array"===t&&f.entries||p;if(g&&(s=rV(g.call(new e)))!==Object.prototype&&s.next&&(nP(s,h,!0,!0),rD[h]=r9),r1&&i===r3&&p&&p.name!==r3&&(d=!0,v=function(){return M(p,this)}),i){if(l={values:u(r3),keys:o?v:u(r4),entries:u(r6)},a)for(c in l)!r2&&!d&&c in f||n_(f,c,l[c]);else ta({target:t,proto:!0,forced:r2||d},l)}return a&&f[r5]!==v&&n_(f,r5,v,{name:i}),rD[t]=v,l},r8=function(e,t){return{value:e,done:t}};e2.f;var ie="Array Iterator",it=nB.set,ir=nB.getterFor(ie);r7(Array,"Array",function(e,t){it(this,{type:ie,target:q(e),index:0,kind:t})},function(){var e=ir(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=null,r8(void 0,!0);switch(e.kind){case"keys":return r8(n,!1);case"values":return r8(t[n],!1)}return r8([n,t[n]],!1)},"values"),rD.Arguments=rD.Array;var ii={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var io in ii)nP(v[io],io),rD[io]=rD.Array;var ia=e2.f,is=eN("metadata"),il=Function.prototype;void 0===il[is]&&ia(il,is,{value:null});nx("metadata");var ic=Q("Symbol"),iu=ic.keyFor,ih=T(ic.prototype.valueOf),id=ic.isRegisteredSymbol||function(e){try{return void 0!==iu(ih(e))}catch(e){return!1}};ta({target:"Symbol",stat:!0},{isRegisteredSymbol:id});for(var ip=Q("Symbol"),iv=ip.isWellKnownSymbol,ig=Q("Object","getOwnPropertyNames"),im=T(ip.prototype.valueOf),iy=eT("wks"),i_=0,ib=ig(ip),iw=ib.length;i_<iw;i_++)try{var iS=ib[i_];ef(ip[iS])&&eN(iS)}catch(e){}var iE=function(e){if(iv&&iv(e))return!0;try{for(var t=im(e),n=0,r=ig(iy),i=r.length;n<i;n++)if(iy[r[n]]==t)return!0}catch(e){}return!1};ta({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:iE});nx("customMatcher");nx("observable");ta({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:id});ta({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:iE});nx("matcher");nx("metadataKey");nx("patternMatch");nx("replaceAll");var ik=f(rR),iT=T("".charAt),ix=T("".charCodeAt),iC=T("".slice),iI=function(e){return function(t,n){var r,i,o=tq($(t)),a=tp(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=ix(o,a))<55296||r>56319||a+1===s||(i=ix(o,a+1))<56320||i>57343?e?iT(o,a):r:e?iC(o,a,a+2):i-56320+(r-55296<<10)+65536}},iO={codeAt:iI(!1),charAt:iI(!0)},iA=iO.charAt,iP="String Iterator",iR=nB.set,iD=nB.getterFor(iP);r7(String,"String",function(e){iR(this,{type:iP,string:tq(e),index:0})},function(){var e,t=iD(this),n=t.string,r=t.index;return r>=n.length?r8(void 0,!0):(e=iA(n,r),t.index+=e.length,r8(e,!1))});var iL=eN("iterator"),iM=function(e){if(!K(e))return ey(e,iL)||ey(e,"@@iterator")||rD[tI(e)]},iz=f(iM),iN=function(e,t,n){var r,i;e6(e);try{if(!(r=ey(e,"return"))){if("throw"===t)throw n;return n}r=M(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return e6(r),n},ij=eN("iterator"),iB=Array.prototype,iU=function(e){return void 0!==e&&(rD.Array===e||iB[ij]===e)},iF=TypeError,iG=function(e,t){var n=arguments.length<2?iM(e):t;if(em(n))return e6(M(n,e));throw new iF(ev(e)+" is not iterable")},iV=function(e,t,n,r){try{return r?t(e6(n)[0],n[1]):t(n)}catch(t){iN(e,"throw",t)}},iH=Array,iZ=function(e){var t=eC(e),n=tj(this),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i;o&&(i=e1(i,r>2?arguments[2]:void 0));var a,s,l,c,u,h,d=iM(t),f=0;if(!d||this===iH&&iU(d))for(a=tm(t),s=n?new this(a):iH(a);a>f;f++)h=o?i(t[f],f):t[f],tb(s,f,h);else for(s=n?new this:[],u=(c=iG(t,d)).next;!(l=M(u,c)).done;f++)h=o?iV(c,i,[l.value,f],!0):l.value,tb(s,f,h);return s.length=f,s},iK=eN("iterator"),iW=!1;try{var i$=0,iq={next:function(){return{done:!!i$++}},return:function(){iW=!0}};iq[iK]=function(){return this},Array.from(iq,function(){throw 2})}catch(e){}var iX=function(e,t){try{if(!t&&!iW)return!1}catch(e){return!1}var n=!1;try{var r={};r[iK]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n};ta({target:"Array",stat:!0,forced:!iX(function(e){Array.from(e)})},{from:iZ});var iJ=J.Array.from,iY=f(iJ),iQ=tH("slice"),i0=eN("species"),i1=Array,i2=Math.max;ta({target:"Array",proto:!0,forced:!iQ},{slice:function(e,t){var n,r,i,o=q(this),a=tm(o),s=tQ(e,a),l=tQ(void 0===t?a:t,a);if(ts(o)&&((tj(n=o.constructor)&&(n===i1||ts(n.prototype))||X(n)&&null===(n=n[i0]))&&(n=void 0),n===i1||void 0===n))return np(o,s,l);for(r=new(void 0===n?i1:n)(i2(l-s,0)),i=0;s<l;s++,i++)s in o&&tb(r,i,o[s]);return r.length=i,r}});var i5=function(e,t){var n=J[e+"Prototype"],r=n&&n[t];if(r)return r;var i=v[e],o=i&&i.prototype;return o&&o[t]},i4=i5("Array","slice"),i3=Array.prototype,i6=function(e){var t=e.slice;return e===i3||ee(i3,e)&&t===i3.slice?i4:t},i9=f(i6);function i7(e){return function(e){if(tc(e))return tu(e)}(e)||function(e){if(void 0!==ik&&null!=iz(e)||null!=e["@@iterator"])return iY(e)}(e)||function(e,t){if(e){if("string"==typeof e)return tu(e,void 0);var n,r=i9(n=({}).toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?iY(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tu(e,t):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i8=nw.f("iterator"),oe=f(i8);function ot(e){return(ot="function"==typeof ik&&"symbol"==typeof oe?function(e){return typeof e}:function(e){return e&&"function"==typeof ik&&e.constructor===ik&&e!==ik.prototype?"symbol":typeof e})(e)}ta({target:"Object",stat:!0,forced:g(function(){t9(1)})},{keys:function(e){return t9(eC(e))}});var on=J.Object.keys,or=f(on),oi=J.Object.getOwnPropertySymbols,oo=f(oi),oa=nG.filter;ta({target:"Array",proto:!0,forced:!tH("filter")},{filter:function(e){return oa(this,e,arguments.length>1?arguments[1]:void 0)}});var os=i5("Array","filter"),ol=Array.prototype,oc=function(e){var t=e.filter;return e===ol||ee(ol,e)&&t===ol.filter?os:t},ou=f(oc),oh={exports:{}},od=R.f;ta({target:"Object",stat:!0,forced:!D||g(function(){od(1)}),sham:!D},{getOwnPropertyDescriptor:function(e,t){return od(q(e),t)}});var of=J.Object,op=oh.exports=function(e,t){return of.getOwnPropertyDescriptor(e,t)};of.getOwnPropertyDescriptor.sham&&(op.sham=!0);var ov=oh.exports,og=f(ov),om=TypeError,oy=Object.getOwnPropertyDescriptor,o_=D&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}()?function(e,t){if(ts(e)&&!oy(e,"length").writable)throw new om("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t};ta({target:"Array",proto:!0,arity:1,forced:g(function(){return 4294967297!==[].push.call({length:4294967296},1)})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=eC(this),n=tm(t),r=arguments.length;t_(n+r);for(var i=0;i<r;i++)t[n]=arguments[i],n++;return o_(t,n),n}});var ob=i5("Array","push"),ow=Array.prototype,oS=f(function(e){var t=e.push;return e===ow||ee(ow,e)&&t===ow.push?ob:t}),oE=function(e,t){var n=[][e];return!!n&&g(function(){n.call(null,t||function(){return 1},1)})},ok=nG.forEach,oT=oE("forEach")?[].forEach:function(e){return ok(this,e,arguments.length>1?arguments[1]:void 0)};ta({target:"Array",proto:!0,forced:[].forEach!==oT},{forEach:oT});var ox=i5("Array","forEach"),oC=Array.prototype,oI={DOMTokenList:!0,NodeList:!0},oO=function(e){var t=e.forEach;return e===oC||ee(oC,e)&&t===oC.forEach||eO(oI,tI(e))?ox:t},oA=f(oO),oP=T([].concat),oR=Q("Reflect","ownKeys")||function(e){var t=nh.f(e6(e)),n=ny.f;return n?oP(t,n(e)):t};ta({target:"Object",stat:!0,sham:!D},{getOwnPropertyDescriptors:function(e){for(var t,n,r=q(e),i=R.f,o=oR(r),a={},s=0;o.length>s;)void 0!==(n=i(r,t=o[s++]))&&tb(a,t,n);return a}});var oD=J.Object.getOwnPropertyDescriptors,oL=f(oD),oM={exports:{}},oz=tX.f;ta({target:"Object",stat:!0,forced:Object.defineProperties!==oz,sham:!D},{defineProperties:oz});var oN=J.Object,oj=oM.exports=function(e,t){return oN.defineProperties(e,t)};oN.defineProperties.sham&&(oj.sham=!0);var oB=oM.exports,oU=f(oB),oF={exports:{}},oG=e2.f;ta({target:"Object",stat:!0,forced:Object.defineProperty!==oG,sham:!D},{defineProperty:oG});var oV=J.Object,oH=oF.exports=function(e,t,n){return oV.defineProperty(e,t,n)};oV.defineProperty.sham&&(oH.sham=!0);var oZ=oF.exports,oK=f(oZ),oW=nw.f("toPrimitive"),o$=f(oW);function oq(e){var t=function(e,t){if("object"!=ot(e)||!e)return e;var n=e[o$];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ot(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ot(t)?t:t+""}function oX(e,t,n){return(t=oq(t))in e?oK(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oJ(e,t){var n=or(e);if(oo){var r=oo(e);t&&(r=ou(r).call(r,function(t){return og(e,t).enumerable})),oS(n).apply(n,r)}return n}function oY(e){for(var t=1;t<arguments.length;t++){var n,r,i=null!=arguments[t]?arguments[t]:{};t%2?oA(n=oJ(Object(i),!0)).call(n,function(t){oX(e,t,i[t])}):oL?oU(e,oL(i)):oA(r=oJ(Object(i))).call(r,function(t){oK(e,t,og(i,t))})}return e}ta({target:"Object",stat:!0,forced:g(function(){rV(1)}),sham:!rB},{getPrototypeOf:function(e){return rV(eC(e))}});var oQ=J.Object.getPrototypeOf,o0=f(oQ),o1=T([].reverse),o2=[1,2];ta({target:"Array",proto:!0,forced:String(o2)===String(o2.reverse())},{reverse:function(){return ts(this)&&(this.length=this.length),o1(this)}});var o5=i5("Array","reverse"),o4=Array.prototype,o3=function(e){var t=e.reverse;return e===o4||ee(o4,e)&&t===o4.reverse?o5:t},o6=f(o3);function o9(e,t){this.v=e,this.k=t}ta({target:"Object",stat:!0,sham:!D},{create:nu});var o7=J.Object,o8=function(e,t){return o7.create(e,t)},ae=f(o8),at=Function,an=T([].concat),ar=T([].join),ai={},ao=function(e,t,n){if(!eO(ai,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";ai[t]=at("C,a","return new C("+ar(r,",")+")")}return ai[t](e,n)},aa=m?at.bind:function(e){var t=em(this),n=t.prototype,r=np(arguments,1),i=function(){var n=an(r,np(arguments));return this instanceof i?ao(t,n.length,n):t.apply(e,n)};return X(n)&&(i.prototype=n),i};ta({target:"Function",proto:!0,forced:Function.bind!==aa},{bind:aa});var as=i5("Function","bind"),al=Function.prototype,ac=function(e){var t=e.bind;return e===al||ee(al,e)&&t===al.bind?as:t},au=f(ac);ta({target:"Object",stat:!0},{setPrototypeOf:r0});var ah=J.Object.setPrototypeOf,ad=f(ah);function af(e,t,n,r){var i=oK;try{i({},"",{})}catch(e){i=0}(af=function(e,t,n,r){function o(t,n){af(e,t,function(e){return this._invoke(t,n,e)})}t?i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))})(e,t,n,r)}function ap(){var e,t,n="function"==typeof ik?ik:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var l=ae((r&&r.prototype instanceof s?r:s).prototype);return af(l,"_invoke",function(n,r,i){var o,s,l,c=0,u=i||[],h=!1,d={p:0,n:0,v:e,a:f,f:au(f).call(f,e,4),d:function(t,n){return o=t,s=0,l=e,d.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!h&&c&&!i&&t<u.length;t++){var i,o=u[t],f=d.p,p=o[2];n>3?(i=p===r)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=f&&((i=n<2&&f<o[1])?(s=0,d.v=r,d.n=o[1]):f<p&&(i=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,d.n=p,s=0))}if(i||n>1)return a;throw h=!0,r}return function(i,u,p){if(c>1)throw TypeError("Generator is already running");for(h&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!h;){o||(s?s<3?(s>1&&(d.n=-1),f(s,l)):d.n=l:d.v=l);try{if(c=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(h=d.n<0)?l:n.call(r,d))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:h}}}(n,i,o),!0),l}var a={};function s(){}function l(){}function c(){}t=o0;var u=[][r]?t(t([][r]())):(af(t={},r,function(){return this}),t),h=c.prototype=s.prototype=ae(u);function d(e){return ad?ad(e,c):(e.__proto__=c,af(e,i,"GeneratorFunction")),e.prototype=ae(h),e}return l.prototype=c,af(h,"constructor",c),af(c,"constructor",l),l.displayName="GeneratorFunction",af(c,i,"GeneratorFunction"),af(h),af(h,i,"Generator"),af(h,r,function(){return this}),af(h,"toString",function(){return"[object Generator]"}),(ap=function(){return{w:o,m:d}})()}var av=Error,ag=T("".replace),am=String(new av("zxcasd").stack),ay=/\n\s*at [^:]*:[^\n]*/,a_=ay.test(am),ab=!g(function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",G(1,7)),7!==e.stack)}),aw=function(e,t){if(a_&&"string"==typeof e&&!av.prepareStackTrace)for(;t--;)e=ag(e,ay,"");return e},aS=Error.captureStackTrace,aE=TypeError,ak=function(e,t){this.stopped=e,this.result=t},aT=ak.prototype,ax=function(e,t,n){var r,i,o,a,s,l,c,u=n&&n.that,h=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_RECORD),f=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),v=e1(t,u),g=function(e){return r&&iN(r,"normal"),new ak(!0,e)},m=function(e){return h?(e6(e),p?v(e[0],e[1],g):v(e[0],e[1])):p?v(e,g):v(e)};if(d)r=e.iterator;else if(f)r=e;else{if(!(i=iM(e)))throw new aE(ev(e)+" is not iterable");if(iU(i)){for(o=0,a=tm(e);a>o;o++)if((s=m(e[o]))&&ee(aT,s))return s;return new ak(!1)}r=iG(e,i)}for(l=d?e.next:r.next;!(c=M(l,r)).done;){try{s=m(c.value)}catch(e){iN(r,"throw",e)}if("object"==typeof s&&s&&ee(aT,s))return s}return new ak(!1)},aC=function(e,t){X(t)&&"cause"in t&&tr(e,"cause",t.cause)},aI=function(e,t,n,r){ab&&(aS?aS(e,t):tr(e,"stack",aw(n,r)))},aO=eN("toStringTag"),aA=Error,aP=[].push,aR=function(e,t){var n,r=ee(aD,this);r0?n=r0(new aA,r?rV(this):aD):tr(n=r?this:nu(aD),aO,"Error"),void 0!==t&&tr(n,"message",function(e,t){return void 0===e?arguments.length<2?"":t:tq(e)}(t)),aI(n,aR,n.stack,1),arguments.length>2&&aC(n,arguments[2]);var i=[];return ax(e,aP,{that:i}),tr(n,"errors",i),n};r0?r0(aR,aA):function(e,t,n){for(var r=oR(t),i=e2.f,o=R.f,a=0;a<r.length;a++){var s=r[a];eO(e,s)||n&&eO(n,s)||i(e,s,o(t,s))}}(aR,aA,{name:!0});var aD=aR.prototype=nu(aA.prototype,{constructor:G(1,aR),message:G(1,""),name:G(1,"AggregateError")});ta({global:!0,constructor:!0,arity:2},{AggregateError:aR});var aL,aM,az,aN,aj=function(e){return er.slice(0,e.length)===e},aB=aj("Bun/")?"BUN":aj("Cloudflare-Workers")?"CLOUDFLARE":aj("Deno/")?"DENO":aj("Node.js/")?"NODE":v.Bun&&"string"==typeof Bun.version?"BUN":v.Deno&&"object"==typeof Deno.version?"DENO":"process"===I(v.process)?"NODE":v.window&&v.document?"BROWSER":"REST",aU="NODE"===aB,aF=eN("species"),aG=function(e){var t=Q(e);D&&t&&!t[aF]&&nb(t,aF,{configurable:!0,get:function(){return this}})},aV=TypeError,aH=function(e,t){if(ee(t,e))return e;throw new aV("Incorrect invocation")},aZ=TypeError,aK=function(e){if(tj(e))return e;throw new aZ(ev(e)+" is not a constructor")},aW=eN("species"),a$=function(e,t){var n,r=e6(e).constructor;return void 0===r||K(n=e6(r)[aW])?t:aK(n)},aq=TypeError,aX=function(e,t){if(e<t)throw new aq("Not enough arguments");return e},aJ=/(?:ipad|iphone|ipod).*applewebkit/i.test(er),aY=v.setImmediate,aQ=v.clearImmediate,a0=v.process,a1=v.Dispatch,a2=v.Function,a5=v.MessageChannel,a4=v.String,a3=0,a6={},a9="onreadystatechange";g(function(){aL=v.location});var a7=function(e){if(eO(a6,e)){var t=a6[e];delete a6[e],t()}},a8=function(e){return function(){a7(e)}},se=function(e){a7(e.data)},st=function(e){v.postMessage(a4(e),aL.protocol+"//"+aL.host)};aY&&aQ||(aY=function(e){aX(arguments.length,1);var t=P(e)?e:a2(e),n=np(arguments,1);return a6[++a3]=function(){w(t,void 0,n)},aM(a3),a3},aQ=function(e){delete a6[e]},aU?aM=function(e){a0.nextTick(a8(e))}:a1&&a1.now?aM=function(e){a1.now(a8(e))}:a5&&!aJ?(aN=(az=new a5).port2,az.port1.onmessage=se,aM=e1(aN.postMessage,aN)):v.addEventListener&&P(v.postMessage)&&!v.importScripts&&aL&&"file:"!==aL.protocol&&!g(st)?(aM=st,v.addEventListener("message",se,!1)):aM=a9 in eZ("script")?function(e){t8.appendChild(eZ("script"))[a9]=function(){t8.removeChild(this),a7(e)}}:function(e){setTimeout(a8(e),0)});var sn=aY,sr=Object.getOwnPropertyDescriptor,si=function(e){if(!D)return v[e];var t=sr(v,e);return t&&t.value},so=function(){this.head=null,this.tail=null};so.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}};var sa,ss,sl,sc,su,sh=/ipad|iphone|ipod/i.test(er)&&"undefined"!=typeof Pebble,sd=/web0s(?!.*chrome)/i.test(er),sf=sn,sp=v.MutationObserver||v.WebKitMutationObserver,sv=v.document,sg=v.process,sm=v.Promise,sy=si("queueMicrotask");if(!sy){var s_=new so,sb=function(){var e,t;for(aU&&(e=sg.domain)&&e.exit();t=s_.get();)try{t()}catch(e){throw s_.head&&sa(),e}e&&e.enter()};aJ||aU||sd||!sp||!sv?!sh&&sm&&sm.resolve?((sc=sm.resolve(void 0)).constructor=sm,su=e1(sc.then,sc),sa=function(){su(sb)}):aU?sa=function(){sg.nextTick(sb)}:(sf=e1(sf,v),sa=function(){sf(sb)}):(ss=!0,sl=sv.createTextNode(""),new sp(sb).observe(sl,{characterData:!0}),sa=function(){sl.data=ss=!ss}),sy=function(e){s_.head||sa(),s_.add(e)}}var sw=sy,sS=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},sE=v.Promise,sk=sE&&sE.prototype,sT=eN("species"),sx=!1,sC=P(v.PromiseRejectionEvent),sI={CONSTRUCTOR:eq("Promise",function(){var e=tA(sE),t=e!==String(sE);if(!t&&66===el||!sk.catch||!sk.finally)return!0;if(!el||el<51||!/native code/.test(e)){var n=new sE(function(e){e(1)}),r=function(e){e(function(){},function(){})};if((n.constructor={})[sT]=r,!(sx=n.then(function(){}) instanceof r))return!0}return!(t||"BROWSER"!==aB&&"DENO"!==aB||sC)}),REJECTION_EVENT:sC,SUBCLASSING:sx},sO={},sA=TypeError,sP=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw new sA("Bad Promise constructor");t=e,n=r}),this.resolve=em(t),this.reject=em(n)};sO.f=function(e){return new sP(e)};var sR=sn,sD=function(e,t){try{}catch(e){}},sL="Promise",sM=sI.CONSTRUCTOR,sz=sI.REJECTION_EVENT;sI.SUBCLASSING;var sN,sj,sB,sU=nB.getterFor(sL),sF=nB.set,sG=sE&&sE.prototype,sV=sE,sH=sG,sZ=v.TypeError,sK=v.document,sW=v.process,s$=sO.f,sq=s$,sX=!!(sK&&sK.createEvent&&v.dispatchEvent),sJ="unhandledrejection",sY=function(e){var t;return!(!X(e)||!P(t=e.then))&&t},sQ=function(e,t){var n,r,i,o=t.value,a=1===t.state,s=a?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{s?(a||(2===t.rejection&&s4(t),t.rejection=1),!0===s?n=o:(u&&u.enter(),n=s(o),u&&(u.exit(),i=!0)),n===e.promise?c(new sZ("Promise-chain cycle")):(r=sY(n))?M(r,n,l,c):l(n)):c(o)}catch(e){u&&!i&&u.exit(),c(e)}},s0=function(e,t){e.notified||(e.notified=!0,sw(function(){for(var n,r=e.reactions;n=r.get();)sQ(n,e);e.notified=!1,t&&!e.rejection&&s2(e)}))},s1=function(e,t,n){var r,i;sX?((r=sK.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),v.dispatchEvent(r)):r={promise:t,reason:n},!sz&&(i=v["on"+e])?i(r):e===sJ&&sD("Unhandled promise rejection",n)},s2=function(e){M(sR,v,function(){var t,n=e.facade,r=e.value;if(s5(e)&&(t=sS(function(){aU?sW.emit("unhandledRejection",r,n):s1(sJ,n,r)}),e.rejection=aU||s5(e)?2:1,t.error))throw t.value})},s5=function(e){return 1!==e.rejection&&!e.parent},s4=function(e){M(sR,v,function(){var t=e.facade;aU?sW.emit("rejectionHandled",t):s1("rejectionhandled",t,e.value)})},s3=function(e,t,n){return function(r){e(t,r,n)}},s6=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,s0(e,!0))},s9=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new sZ("Promise can't be resolved itself");var r=sY(t);r?sw(function(){var n={done:!1};try{M(r,t,s3(s9,n,e),s3(s6,n,e))}catch(t){s6(n,t,e)}}):(e.value=t,e.state=1,s0(e,!1))}catch(t){s6({done:!1},t,e)}}};sM&&(sH=(sV=function(e){aH(this,sH),em(e),M(sN,this);var t=sU(this);try{e(s3(s9,t),s3(s6,t))}catch(e){s6(t,e)}}).prototype,(sN=function(e){sF(this,{type:sL,done:!1,notified:!1,parent:!1,reactions:new so,rejection:!1,state:0,value:null})}).prototype=n_(sH,"then",function(e,t){var n=sU(this),r=s$(a$(this,sV));return n.parent=!0,r.ok=!P(e)||e,r.fail=P(t)&&t,r.domain=aU?sW.domain:void 0,0===n.state?n.reactions.add(r):sw(function(){sQ(r,n)}),r.promise}),sj=function(){var e=new sN,t=sU(e);this.promise=e,this.resolve=s3(s9,t),this.reject=s3(s6,t)},sO.f=s$=function(e){return e===sV||e===sB?new sj(e):sq(e)}),ta({global:!0,constructor:!0,wrap:!0,forced:sM},{Promise:sV}),sB=J.Promise,nP(sV,sL,!1,!0),aG(sL);var s7=sI.CONSTRUCTOR||!iX(function(e){sE.all(e).then(void 0,function(){})});ta({target:"Promise",stat:!0,forced:s7},{all:function(e){var t=this,n=sO.f(t),r=n.resolve,i=n.reject,o=sS(function(){var n=em(t.resolve),o=[],a=0,s=1;ax(e,function(e){var l=a++,c=!1;s++,M(n,t,e).then(function(e){c||(c=!0,o[l]=e,--s||r(o))},i)}),--s||r(o)});return o.error&&i(o.value),n.promise}});var s8=sI.CONSTRUCTOR;sE&&sE.prototype,ta({target:"Promise",proto:!0,forced:s8,real:!0},{catch:function(e){return this.then(void 0,e)}});ta({target:"Promise",stat:!0,forced:s7},{race:function(e){var t=this,n=sO.f(t),r=n.reject,i=sS(function(){var i=em(t.resolve);ax(e,function(e){M(i,t,e).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}}),ta({target:"Promise",stat:!0,forced:sI.CONSTRUCTOR},{reject:function(e){var t=sO.f(this);return(0,t.reject)(e),t.promise}});var le=function(e,t){if(e6(e),X(t)&&t.constructor===e)return t;var n=sO.f(e);return(0,n.resolve)(t),n.promise},lt=sI.CONSTRUCTOR,ln=Q("Promise"),lr=!lt;ta({target:"Promise",stat:!0,forced:!0},{resolve:function(e){return le(lr&&this===ln?sE:this,e)}});ta({target:"Promise",stat:!0,forced:s7},{allSettled:function(e){var t=this,n=sO.f(t),r=n.resolve,i=n.reject,o=sS(function(){var n=em(t.resolve),i=[],o=0,a=1;ax(e,function(e){var s=o++,l=!1;a++,M(n,t,e).then(function(e){l||(l=!0,i[s]={status:"fulfilled",value:e},--a||r(i))},function(e){l||(l=!0,i[s]={status:"rejected",reason:e},--a||r(i))})}),--a||r(i)});return o.error&&i(o.value),n.promise}});var li="No one promise resolved";ta({target:"Promise",stat:!0,forced:s7},{any:function(e){var t=this,n=Q("AggregateError"),r=sO.f(t),i=r.resolve,o=r.reject,a=sS(function(){var r=em(t.resolve),a=[],s=0,l=1,c=!1;ax(e,function(e){var u=s++,h=!1;l++,M(r,t,e).then(function(e){h||c||(c=!0,i(e))},function(e){h||c||(h=!0,a[u]=e,--l||o(new n(a,li)))})}),--l||o(new n(a,li))});return a.error&&o(a.value),r.promise}});var lo=v.Promise,la=!1;ta({target:"Promise",stat:!0,forced:!lo||!lo.try||sS(function(){lo.try(function(e){la=8===e},8)}).error||!la},{try:function(e){var t=arguments.length>1?np(arguments,1):[],n=sO.f(this),r=sS(function(){return w(em(e),void 0,t)});return(r.error?n.reject:n.resolve)(r.value),n.promise}});ta({target:"Promise",stat:!0},{withResolvers:function(){var e=sO.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}});var ls=sE&&sE.prototype;ta({target:"Promise",proto:!0,real:!0,forced:!!sE&&g(function(){ls.finally.call({then:function(){}},function(){})})},{finally:function(e){var t=a$(this,Q("Promise")),n=P(e);return this.then(n?function(n){return le(t,e()).then(function(){return n})}:e,n?function(n){return le(t,e()).then(function(){throw n})}:e)}});var ll=J.Promise,lc=f(ll),lu=nw.f("asyncIterator"),lh=f(lu);function ld(e,t){var n;this.next||(af(ld.prototype),af(ld.prototype,"function"==typeof ik&&lh||"@asyncIterator",function(){return this})),af(this,"_invoke",function(r,i,o){function a(){return new t(function(n,i){(function n(r,i,o,a){try{var s=e[r](i),l=s.value;return l instanceof o9?t.resolve(l.v).then(function(e){n("next",e,o,a)},function(e){n("throw",e,o,a)}):t.resolve(l).then(function(e){s.value=e,o(s)},function(e){return n("throw",e,o,a)})}catch(e){a(e)}})(r,o,n,i)})}return n=n?n.then(a,a):a()},!0)}function lf(e,t,n,r,i){return new ld(ap().w(e,t,n,r),i||lc)}var lp=TypeError,lv=function(e,t){if(!delete e[t])throw new lp("Cannot delete property "+ev(t)+" of "+ev(e))};ta({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=eC(this),n=tm(t),r=arguments.length;if(r){t_(n+r);for(var i=n;i--;){var o=i+r;i in t?t[o]=t[i]:lv(t,o)}for(var a=0;a<r;a++)t[a]=arguments[a]}return o_(t,n+r)}});var lg=i5("Array","unshift"),lm=Array.prototype,ly=f(function(e){var t=e.unshift;return e===lm||ee(lm,e)&&t===lm.unshift?lg:t});function l_(e){var t=Object(e),n=[];for(var r in t)ly(n).call(n,r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}}function lb(e){if(null!=e){var t=e["function"==typeof ik&&oe||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw TypeError(ot(e)+" is not iterable")}function lw(){var e=ap(),t=e.m(lw),n=(o0?o0(t):t.__proto__).constructor;function r(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))}var i={throw:1,return:2,break:3,continue:3};function o(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,i[e],t)},delegateYield:function(e,i,o){return t.resultName=i,n(r.d,lb(e),o)},finish:function(e){return n(r.f,e)}},n=function(e,n,i){r.p=t.prev,r.n=t.next;try{return e(n,i)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(lw=function(){return{wrap:function(t,n,r,i){return e.w(o(t),n,r,i&&o6(i).call(i))},isGeneratorFunction:r,mark:e.m,awrap:function(e,t){return new o9(e,t)},AsyncIterator:ld,async:function(e,t,n,i,a){return(r(t)?lf:function(e,t,n,r,i){var o=lf(e,t,n,r,i);return o.next().then(function(e){return e.done?e.value:o.next()})})(o(e),t,n,i,a)},keys:l_,values:lb}})()}function lS(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):lc.resolve(l).then(r,i)}function lE(e){return function(){var t=this,n=arguments;return new lc(function(r,i){var o=e.apply(t,n);function a(e){lS(o,r,i,a,s,"next",e)}function s(e){lS(o,r,i,a,s,"throw",e)}a(void 0)})}}function lk(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function lT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),oK(e,oq(r.key),r)}}function lx(e,t,n){return t&&lT(e.prototype,t),n&&lT(e,n),oK(e,"prototype",{writable:!1}),e}var lC=f(ll),lI=f(oO),lO=f(on),lA=f(tl),lP=Object.assign,lR=Object.defineProperty,lD=T([].concat),lL=!lP||g(function(){if(D&&1!==lP({b:1},lP(lR({},"a",{enumerable:!0,get:function(){lR(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!==lP({},e)[n]||t9(lP({},t)).join("")!==r})?function(e,t){for(var n=eC(e),r=arguments.length,i=1,o=ny.f,a=z.f;r>i;)for(var s,l=Z(arguments[i++]),c=o?lD(t9(l),o(l)):t9(l),u=c.length,h=0;u>h;)s=c[h++],D&&!M(a,l,s)||(n[s]=l[s]);return n}:lP;ta({target:"Object",stat:!0,arity:2,forced:Object.assign!==lL},{assign:lL});var lM=J.Object.assign,lz=f(lM),lN=RangeError,lj=T(function(e){var t=tq($(this)),n="",r=tp(e);if(r<0||r===1/0)throw new lN("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}),lB=T("".slice),lU=Math.ceil,lF=function(e){return function(t,n,r){var i,o,a=tq($(t)),s=tg(n),l=a.length,c=void 0===r?" ":tq(r);return s<=l||""===c?a:((o=lj(c,lU((i=s-l)/c.length))).length>i&&(o=lB(o,0,i)),e?a+o:o+a)}},lG={start:lF(!1),end:lF(!0)}.start,lV=RangeError,lH=isFinite,lZ=Math.abs,lK=Date.prototype,lW=lK.toISOString,l$=T(lK.getTime),lq=T(lK.getUTCDate),lX=T(lK.getUTCFullYear),lJ=T(lK.getUTCHours),lY=T(lK.getUTCMilliseconds),lQ=T(lK.getUTCMinutes),l0=T(lK.getUTCMonth),l1=T(lK.getUTCSeconds),l2=g(function(){return"0385-07-25T07:06:39.999Z"!==lW.call(new Date(-50000000000001))})||!g(function(){lW.call(new Date(NaN))})?function(){if(!lH(l$(this)))throw new lV("Invalid time value");var e=lX(this),t=lY(this),n=e<0?"-":e>9999?"+":"";return n+lG(lZ(e),n?6:4,0)+"-"+lG(l0(this)+1,2,0)+"-"+lG(lq(this),2,0)+"T"+lG(lJ(this),2,0)+":"+lG(lQ(this),2,0)+":"+lG(l1(this),2,0)+"."+lG(t,3,0)+"Z"}:lW;ta({target:"Date",proto:!0,forced:g(function(){return null!==new Date(NaN).toJSON()||1!==M(Date.prototype.toJSON,{toISOString:function(){return 1}})})},{toJSON:function(e){var t=eC(this),n=eF(t,"number");return"number"!=typeof n||isFinite(n)?"toISOString"in t||"Date"!==I(t)?t.toISOString():M(l2,t):null}});J.JSON||(J.JSON={stringify:JSON.stringify});var l5=f(function(e,t,n){return w(J.JSON.stringify,null,arguments)}),l4={exports:{}},l3=g(function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),l6=Object.isExtensible,l9=g(function(){l6(1)})||l3?function(e){return!!X(e)&&(!l3||"ArrayBuffer"!==I(e))&&(!l6||l6(e))}:l6,l7=!g(function(){return Object.isExtensible(Object.preventExtensions({}))}),l8=e2.f,ce=!1,ct=eD("meta"),cn=0,cr=function(e){l8(e,ct,{value:{objectID:"O"+cn++,weakData:{}}})},ci=l4.exports={enable:function(){ci.enable=function(){},ce=!0;var e=nh.f,t=T([].splice),n={};n[ct]=1,e(n).length&&(nh.f=function(n){for(var r=e(n),i=0,o=r.length;i<o;i++)if(r[i]===ct){t(r,i,1);break}return r},ta({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:nf.f}))},fastKey:function(e,t){if(!X(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!eO(e,ct)){if(!l9(e))return"F";if(!t)return"E";cr(e)}return e[ct].objectID},getWeakData:function(e,t){if(!eO(e,ct)){if(!l9(e))return!0;if(!t)return!1;cr(e)}return e[ct].weakData},onFreeze:function(e){return l7&&ce&&l9(e)&&!eO(e,ct)&&cr(e),e}};t2[ct]=!0;var co=l4.exports,ca=e2.f,cs=nG.forEach,cl=nB.set,cc=nB.getterFor,cu=function(e,t,n){var r,i=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),a=i?"set":"add",s=v[e],l=s&&s.prototype,c={};if(D&&P(s)&&(o||l.forEach&&!g(function(){(new s).entries().next()}))){var u=(r=t(function(t,n){cl(aH(t,u),{type:e,collection:new s}),K(n)||ax(n,t[a],{that:t,AS_ENTRIES:i})})).prototype,h=cc(e);cs(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(e){var t="add"===e||"set"===e;e in l&&(!o||"clear"!==e)&&tr(u,e,function(n,r){var i=h(this).collection;if(!t&&o&&!X(n))return"get"===e&&void 0;var a=i[e](0===n?0:n,r);return t?this:a})}),o||ca(u,"size",{configurable:!0,get:function(){return h(this).collection.size}})}else r=n.getConstructor(t,e,i,a),co.enable();return nP(r,e,!1,!0),c[e]=r,ta({global:!0,forced:!0},c),o||n.setStrong(r,e,i),r},ch=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:n_(e,r,t[r],n);return e},cd=co.fastKey,cf=nB.set,cp=nB.getterFor,cv={getConstructor:function(e,t,n,r){var i=e(function(e,i){aH(e,o),cf(e,{type:t,index:nu(null),first:null,last:null,size:0}),D||(e.size=0),K(i)||ax(i,e[r],{that:e,AS_ENTRIES:n})}),o=i.prototype,a=cp(t),s=function(e,t,n){var r,i,o=a(e),s=l(e,t);return s?s.value=n:(o.last=s={index:i=cd(t,!0),key:t,value:n,previous:r=o.last,next:null,removed:!1},o.first||(o.first=s),r&&(r.next=s),D?o.size++:e.size++,"F"!==i&&(o.index[i]=s)),e},l=function(e,t){var n,r=a(e),i=cd(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key===t)return n};return ch(o,{clear:function(){for(var e=a(this),t=e.first;t;)t.removed=!0,t.previous&&(t.previous=t.previous.next=null),t=t.next;e.first=e.last=null,e.index=nu(null),D?e.size=0:this.size=0},delete:function(e){var t=a(this),n=l(this,e);if(n){var r=n.next,i=n.previous;delete t.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),t.first===n&&(t.first=r),t.last===n&&(t.last=i),D?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=a(this),r=e1(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!l(this,e)}}),ch(o,n?{get:function(e){var t=l(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),D&&nb(o,"size",{configurable:!0,get:function(){return a(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=cp(t),o=cp(r);r7(e,t,function(e,t){cf(this,{type:r,target:e,state:i(e),kind:t,last:null})},function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?r8("keys"===t?n.key:"values"===t?n.value:[n.key,n.value],!1):(e.target=null,r8(void 0,!0))},n?"entries":"values",!n,!0),aG(t)}};cu("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},cv);var cg=TypeError,cm=function(e){if("object"==typeof e&&"size"in e&&"has"in e&&"add"in e&&"delete"in e&&"keys"in e)return e;throw new cg(ev(e)+" is not a set")},cy=function(e,t){return 1===t?function(t,n){return t[e](n)}:function(t,n,r){return t[e](n,r)}},c_=Q("Set"),cb=c_.prototype,cw={Set:c_,add:cy("add",1),has:cy("has",1),remove:cy("delete",1),proto:cb},cS=function(e,t,n){for(var r,i,o=n?e:e.iterator,a=e.next;!(r=M(a,o)).done;)if(void 0!==(i=t(r.value)))return i},cE=function(e,t,n){return n?cS(e.keys(),t,!0):e.forEach(t)},ck=cw.Set,cT=cw.add,cx=function(e){var t=new ck;return cE(e,function(e){cT(t,e)}),t},cC=function(e){return e.size},cI="Invalid size",cO=RangeError,cA=TypeError,cP=Math.max,cR=function(e,t){this.set=e,this.size=cP(t,0),this.has=em(e.has),this.keys=em(e.keys)};cR.prototype={getIterator:function(){var e;return{iterator:e=e6(M(this.keys,this.set)),next:e.next,done:!1}},includes:function(e){return M(this.has,this.set,e)}};var cD=function(e){e6(e);var t=+e.size;if(t!=t)throw new cA(cI);var n=tp(t);if(n<0)throw new cO(cI);return new cR(e,n)},cL=cw.has,cM=cw.remove,cz=function(e){var t=cm(this),n=cD(e),r=cx(t);return cC(t)<=n.size?cE(t,function(e){n.includes(e)&&cM(r,e)}):cS(n.getIterator(),function(e){cL(r,e)&&cM(r,e)}),r},cN=function(){return!1},cj=!cN();ta({target:"Set",proto:!0,real:!0,forced:cj},{difference:cz});var cB=cw.Set,cU=cw.add,cF=cw.has,cG=function(e){var t=cm(this),n=cD(e),r=new cB;return cC(t)>n.size?cS(n.getIterator(),function(e){cF(t,e)&&cU(r,e)}):cE(t,function(e){n.includes(e)&&cU(r,e)}),r};ta({target:"Set",proto:!0,real:!0,forced:!cN()},{intersection:cG});var cV=cw.has,cH=function(e){var t=cm(this),n=cD(e);if(cC(t)<=n.size)return!1!==cE(t,function(e){if(n.includes(e))return!1},!0);var r=n.getIterator();return!1!==cS(r,function(e){if(cV(t,e))return iN(r,"normal",!1)})};ta({target:"Set",proto:!0,real:!0,forced:!cN()},{isDisjointFrom:cH});var cZ=function(e){var t=cm(this),n=cD(e);return!(cC(t)>n.size)&&!1!==cE(t,function(e){if(!n.includes(e))return!1},!0)};ta({target:"Set",proto:!0,real:!0,forced:!cN()},{isSubsetOf:cZ});var cK=cw.has,cW=function(e){var t=cm(this),n=cD(e);if(cC(t)<n.size)return!1;var r=n.getIterator();return!1!==cS(r,function(e){if(!cK(t,e))return iN(r,"normal",!1)})};ta({target:"Set",proto:!0,real:!0,forced:!cN()},{isSupersetOf:cW});var c$=cw.add,cq=cw.has,cX=cw.remove,cJ=function(e){var t=cm(this),n=cD(e).getIterator(),r=cx(t);return cS(n,function(e){cq(t,e)?cX(r,e):c$(r,e)}),r};ta({target:"Set",proto:!0,real:!0,forced:!cN()},{symmetricDifference:cJ});var cY=cw.add,cQ=function(e){var t=cm(this),n=cD(e).getIterator(),r=cx(t);return cS(n,function(e){cY(r,e)}),r};ta({target:"Set",proto:!0,real:!0,forced:!cN()},{union:cQ});var c0=J.Set,c1=function(e,t,n){return function(r){var i=eC(r),o=arguments.length,a=o>1?arguments[1]:void 0,s=void 0!==a,l=s?e1(a,o>2?arguments[2]:void 0):void 0,c=new e,u=0;return ax(i,function(e){var r=s?l(e,u++):e;n?t(c,e6(r)[0],r[1]):t(c,r)}),c}};ta({target:"Set",stat:!0,forced:!0},{from:c1(cw.Set,cw.add,!1)});var c2=function(e,t,n){return function(){for(var r=new e,i=arguments.length,o=0;o<i;o++){var a=arguments[o];n?t(r,e6(a)[0],a[1]):t(r,a)}return r}};ta({target:"Set",stat:!0,forced:!0},{of:c2(cw.Set,cw.add,!1)});var c5=cw.add;ta({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var e=cm(this),t=0,n=arguments.length;t<n;t++)c5(e,arguments[t]);return e}});var c4=cw.remove;ta({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e,t=cm(this),n=!0,r=0,i=arguments.length;r<i;r++)e=c4(t,arguments[r]),n=n&&e;return!!n}});ta({target:"Set",proto:!0,real:!0,forced:!0},{every:function(e){var t=cm(this),n=e1(e,arguments.length>1?arguments[1]:void 0);return!1!==cE(t,function(e){if(!n(e,e,t))return!1},!0)}});var c3=eN("iterator"),c6=Object,c9=function(e){if(K(e))return!1;var t=c6(e);return void 0!==t[c3]||"@@iterator"in t||eO(rD,tI(t))},c7=Q("Set"),c8=function(e){var t;return X(t=e)&&"number"==typeof t.size&&P(t.has)&&P(t.keys)?e:c9(e)?new c7(e):e};ta({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(e){return M(cz,this,c8(e))}});var ue=cw.Set,ut=cw.add;ta({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(e){var t=cm(this),n=e1(e,arguments.length>1?arguments[1]:void 0),r=new ue;return cE(t,function(e){n(e,e,t)&&ut(r,e)}),r}});ta({target:"Set",proto:!0,real:!0,forced:!0},{find:function(e){var t=cm(this),n=e1(e,arguments.length>1?arguments[1]:void 0),r=cE(t,function(e){if(n(e,e,t))return{value:e}},!0);return r&&r.value}});ta({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(e){return M(cG,this,c8(e))}});ta({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(e){return M(cH,this,c8(e))}});ta({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(e){return M(cZ,this,c8(e))}});ta({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(e){return M(cW,this,c8(e))}});var un=T([].join),ur=T([].push);ta({target:"Set",proto:!0,real:!0,forced:!0},{join:function(e){var t=cm(this),n=void 0===e?",":tq(e),r=[];return cE(t,function(e){ur(r,e)}),un(r,n)}});var ui=cw.Set,uo=cw.add;ta({target:"Set",proto:!0,real:!0,forced:!0},{map:function(e){var t=cm(this),n=e1(e,arguments.length>1?arguments[1]:void 0),r=new ui;return cE(t,function(e){uo(r,n(e,e,t))}),r}});var ua=TypeError;ta({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=cm(this),n=arguments.length<2,r=n?void 0:arguments[1];if(em(e),cE(t,function(i){n?(n=!1,r=i):r=e(r,i,i,t)}),n)throw new ua("Reduce of empty set with no initial value");return r}});ta({target:"Set",proto:!0,real:!0,forced:!0},{some:function(e){var t=cm(this),n=e1(e,arguments.length>1?arguments[1]:void 0);return!0===cE(t,function(e){if(n(e,e,t))return!0},!0)}});ta({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(e){return M(cJ,this,c8(e))}});ta({target:"Set",proto:!0,real:!0,forced:!0},{union:function(e){return M(cQ,this,c8(e))}});var us=f(c0),ul=i5("Array","concat"),uc=Array.prototype,uu=f(function(e){var t=e.concat;return e===uc||ee(uc,e)&&t===uc.concat?ul:t}),uh=Math.floor,ud=function(e,t){var n=e.length;if(n<8)for(var r,i,o=1;o<n;){for(i=o,r=e[o];i&&t(e[i-1],r)>0;)e[i]=e[--i];i!==o++&&(e[i]=r)}else for(var a=uh(n/2),s=ud(np(e,0,a),t),l=ud(np(e,a),t),c=s.length,u=l.length,h=0,d=0;h<c||d<u;)e[h+d]=h<c&&d<u?0>=t(s[h],l[d])?s[h++]:l[d++]:h<c?s[h++]:l[d++];return e},uf=er.match(/firefox\/(\d+)/i),up=!!uf&&+uf[1],uv=/MSIE|Trident/.test(er),ug=er.match(/AppleWebKit\/(\d+)\./),um=!!ug&&+ug[1],uy=[],u_=T(uy.sort),ub=T(uy.push),uw=g(function(){uy.sort(void 0)}),uS=g(function(){uy.sort(null)}),uE=oE("sort"),uk=!g(function(){if(el)return el<70;if(!(up&&up>3)){if(uv)return!0;if(um)return um<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)uy.push({k:t+r,v:n})}for(uy.sort(function(e,t){return t.v-e.v}),r=0;r<uy.length;r++)t=uy[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}});ta({target:"Array",proto:!0,forced:uw||!uS||!uE||!uk},{sort:function(e){void 0!==e&&em(e);var t,n=eC(this);if(uk)return void 0===e?u_(n):u_(n,e);var r,i,o=[],a=tm(n);for(i=0;i<a;i++)i in n&&ub(o,n[i]);for(ud(o,(t=e,function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:tq(e)>tq(n)?1:-1})),r=tm(o),i=0;i<r;)n[i]=o[i++];for(;i<a;)lv(n,i++);return n}});var uT=i5("Array","sort"),ux=Array.prototype,uC=f(function(e){var t=e.sort;return e===ux||ee(ux,e)&&t===ux.sort?uT:t}),uI=f(oc),uO=nG.map;ta({target:"Array",proto:!0,forced:!tH("map")},{map:function(e){return uO(this,e,arguments.length>1?arguments[1]:void 0)}});var uA=i5("Array","map"),uP=Array.prototype,uR=f(function(e){var t=e.map;return e===uP||ee(uP,e)&&t===uP.map?uA:t});function uD(e,t){if(t&&("object"==ot(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}var uL=Q("Reflect","construct"),uM=Object.prototype,uz=[].push,uN=g(function(){function e(){}return!(uL(function(){},[],e) instanceof e)}),uj=!g(function(){uL(function(){})}),uB=uN||uj;ta({target:"Reflect",stat:!0,forced:uB,sham:uB},{construct:function(e,t){aK(e),e6(t);var n=arguments.length<3?e:aK(arguments[2]);if(uj&&!uN)return uL(e,t,n);if(e===n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return w(uz,r,t),new(w(aa,e,r))}var i=n.prototype,o=nu(X(i)?i:uM),a=w(e,o,t);return X(a)?a:o}});var uU=J.Reflect.construct,uF=f(uU);function uG(){try{var e=!Boolean.prototype.valueOf.call(uF(Boolean,[],function(){}))}catch(e){}return(uG=function(){return!!e})()}function uV(e){return(uV=ad?au(o0).call(o0):function(e){return e.__proto__||o0(e)})(e)}function uH(e,t){return(uH=ad?au(ad).call(ad):function(e,t){return e.__proto__=t,e})(e,t)}function uZ(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=ae(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),oK(e,"prototype",{writable:!1}),t&&uH(e,t)}var uK=f(uU);var uW=lx(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};lk(this,e),oX(this,"player",void 0);var n=!0;try{n=!t.player}catch(e){}this.player=n?t:t.player},[{key:"playerConfig",get:function(){return this.player.config}},{key:"config",get:function(){var e;return null!==(e=(this.player.config.pluginsConfig||this.player.config||{})[this.constructor.pluginName])&&void 0!==e?e:{}}},{key:"beforePlayerInit",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"configDidUpdate",value:function(){}},{key:"beforeDestroy",value:function(){}},{key:"getConfig",value:function(e){var t=this.playerConfig,n=t.baseConfig||{};return((null==n?void 0:n.mediaInfo)||{})[e]||n[e]||t[e]}},{key:"setBaseConfig",value:function(e,t){var n=this.playerConfig.baseConfig||{};"string"==typeof e?n[e]=t:lz(n,e)}},{key:"setSharedConfig",value:function(e,t){var n=this.playerConfig.shared||{};"string"==typeof e?n[e]=t:lz(n,e)}}]),u$=(function(){function e(){var t,n,r;return lk(this,e),t=this,n=e,r=arguments,n=uV(n),uD(t,uG()?uK(n,r||[],uV(t).constructor):n.apply(t,r))}uZ(e,uW),lx(e)}(),(vf=u$||{}).Play="play",vf.Pause="pause",vf),uq=lx(function e(t){lk(this,e),oX(this,"strategyCenter",void 0),oX(this,"ctx",void 0),oX(this,"config",void 0),oX(this,"player",void 0),oX(this,"strategyName",void 0),this.ctx=t.ctx,this.config=t.config,this.strategyName=t.strategyName,this.strategyCenter=t.strategyCenter,this.player=null},[{key:"strategyPriority",get:function(){return this.constructor.strategyPriority}},{key:"getStrategyConfig",value:function(){return this.config}},{key:"setPlayerInst",value:function(e){this.player=e.getInst()}},{key:"onBasePluginCreated",value:function(e){}},{key:"beforePlayerCreate",value:function(e){}},{key:"onPlayerEvent",value:function(e,t){}},{key:"onGlobalEvent",value:function(e,t){}}]),uX=Date,uJ=T(uX.prototype.getTime);ta({target:"Date",stat:!0},{now:function(){return uJ(new uX)}});var uY=J.Date.now,uQ=f(uY),u0=((vp=u0||{}).VOD="VOD",vp.LIVE="LIVE",vp),u1=((vv=u1||{}).CN="cn",vv.SG="sg",vv.US="us",vv),u2=((vg=u2||{}).MP4="mp4",vg.DASH="dash",vg),u5=((vm=u5||{}).h265="h265",vm.adaptRange="adaptRange",vm.preload="preload",vm.bitrateSelector="bitrateSelector",vm.testSpeed="testSpeed",vm.degrade="degrade",vm.vodLogger="vodLogger",vm.pcdn="pcdn",vm.urlProcess="urlProcess",vm.abr="abr",vm.bufferControl="bufferControl",vm),u4=((vy=u4||{})[vy.LOWEST=0]="LOWEST",vy[vy.LOW=1]="LOW",vy[vy.MEDIUM=2]="MEDIUM",vy[vy.HIGH=3]="HIGH",vy[vy.HIGHEST=4]="HIGHEST",vy),u3=((v_=u3||{})[v_.urlProcess=4]="urlProcess",v_[v_.degrade=4]="degrade",v_[v_.testSpeed=3]="testSpeed",v_[v_.bitrateSelector=2]="bitrateSelector",v_[v_.h265=0]="h265",v_[v_.adaptRange=0]="adaptRange",v_[v_.preload=0]="preload",v_[v_.vodLogger=0]="vodLogger",v_[v_.pcdn=0]="pcdn",v_[v_.abr=0]="abr",v_[v_.bufferControl=0]="bufferControl",v_),u6={info:3,warn:2,error:1},u9=!1;try{u9=!!window.localStorage.getItem("VESTRATEGY_LOG")}catch(e){}var u7=lx(function e(t,n){var r=this;lk(this,e),oX(this,"logger",void 0),oX(this,"level",void 0),oX(this,"customLogger",void 0),this.level=null==n?void 0:n.level,this.customLogger=null==n?void 0:n.logger,this.logger=function(e,n){var i,o,a,s;try{s="2.0.0-rc.59"}catch(e){s="--"}for(var l,c,u,h,d,f,p,v,g,m,y,_=uu(i=uu(o="[".concat(t,"][")).call(o,s,"][")).call(i,n,"]"),b=arguments.length,w=Array(b>2?b-2:0),S=2;S<b;S++)w[S-2]=arguments[S];if(r.customLogger)return"info"===e?r.customLogger.info?(h=r.customLogger).info.apply(h,uu(d=[_]).call(d,w)):null===(f=(p=r.customLogger).log)||void 0===f?void 0:f.call.apply(f,uu(v=[p,_]).call(v,w)):null===(l=(c=r.customLogger)[e])||void 0===l?void 0:l.call.apply(l,uu(u=[c,_]).call(u,w));((null!==(a=r.level)&&void 0!==a?a:1)>=u6[e]||"undefined"!=typeof window&&u9)&&(null===(g=window.console)||void 0===g||null===(m=g[e])||void 0===m||m.call.apply(m,uu(y=[g,_]).call(y,w)))}},[{key:"update",value:function(e){var t=e||{},n=t.logger,r=t.level;this.updateLevel(r),this.updateLogger(n)}},{key:"info",value:function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.logger.apply(this,uu(t=["info",e]).call(t,r))}},{key:"warn",value:function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.logger.apply(this,uu(t=["warn",e]).call(t,r))}},{key:"error",value:function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.logger.apply(this,uu(t=["error",e]).call(t,r))}},{key:"updateLevel",value:function(e){void 0!==ot(e)&&(this.level=e)}},{key:"updateLogger",value:function(e){e&&(this.customLogger=e)}}]),u8=t1.includes;ta({target:"Array",proto:!0,forced:g(function(){return![,].includes()})},{includes:function(e){return u8(this,e,arguments.length>1?arguments[1]:void 0)}});var he=i5("Array","includes"),ht=eN("match"),hn=function(e){var t;return X(e)&&(void 0!==(t=e[ht])?!!t:"RegExp"===I(e))},hr=TypeError,hi=eN("match"),ho=function(e){if(hn(e))throw new hr("The method doesn't accept regular expressions");return e},ha=T("".indexOf);ta({target:"String",proto:!0,forced:!function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[hi]=!1,"/./"[e](t)}catch(e){}}return!1}("includes")},{includes:function(e){return!!~ha(tq($(this)),tq(ho(e)),arguments.length>1?arguments[1]:void 0)}});var hs=i5("String","includes"),hl=Array.prototype,hc=String.prototype,hu=f(function(e){var t=e.includes;return e===hl||ee(hl,e)&&t===hl.includes?he:"string"==typeof e||e===hc||ee(hc,e)&&t===hc.includes?hs:t});function hh(e){return function(t){var n;return null==t?void 0:hu(n=t.split("?")[0].toLowerCase()).call(n,e)}}function hd(e,t){try{"object"===("undefined"==typeof window?"undefined":ot(window))&&window.localStorage&&window.localStorage.setItem(e,t)}catch(e){}}function hf(e){try{return"object"===("undefined"==typeof window?"undefined":ot(window))&&window.localStorage?window.localStorage.getItem(e):null}catch(e){return null}}hh(".m3u8"),hh(".mp4"),hh(".flv"),hh(".sdp"),hh(".mpd");var hp={stringify:function(e,t,n){try{return l5(e,t,n)}catch(e){return""}}},hv={DEVICE_INFO:"VESTRATEGY_DEVICE_INFO",DEVICE_INFO_LIVE:"VESTRATEGY_DEVICE_INFO_LIVE"},hg={SERVICE_CONFIG:"STRATEGY_SERVICE_CONFIG",SERVICE_CONFIG_LIVE:"STRATEGY_SERVICE_CONFIG_LIVE"},hm=new u7("VeStrategy"),hy=lx(function e(t,n){lk(this,e),oX(this,"initStrategyConfig",void 0),oX(this,"serviceStrategyConfigLoader",void 0),oX(this,"serviceStrategyConfig",void 0),oX(this,"appConfig",void 0),oX(this,"videoType",void 0),this.videoType=t.type||u0.VOD,this.initStrategyConfig=t.strategies,this.appConfig=t,this.serviceStrategyConfigLoader=n,hm.update(t.log)},[{key:"getInitStrategyConfig",value:function(){return this.initStrategyConfig}},{key:"getServiceStrategyConfig",value:function(){if(this.serviceStrategyConfig)return this.serviceStrategyConfig;try{var e=hf(u0.LIVE===this.videoType?hg.SERVICE_CONFIG_LIVE:hg.SERVICE_CONFIG);e&&(this.serviceStrategyConfig=JSON.parse(e))}catch(e){}return this.serviceStrategyConfig}},{key:"setServiceStrategyConfig",value:function(e){e&&(this.serviceStrategyConfig=e,hd(u0.LIVE===this.videoType?hg.SERVICE_CONFIG_LIVE:hg.SERVICE_CONFIG,l5(e)),hm.info("ServiceStrategyConfig",e))}},{key:"fetchStrategyConfig",value:(vb=lE(lw().mark(function e(){var t,n;return lw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.needFetchStrategyConfig()){e.next=1;break}return hm.info("UseLocalStrategyConfig"),e.abrupt("return");case 1:if(e.prev=1,!this.serviceStrategyConfigLoader){e.next=3;break}return e.next=2,this.serviceStrategyConfigLoader.fetch();case 2:t=e.sent;case 3:e.next=5;break;case 4:e.prev=4,n=e.catch(1),hm.warn("FetchStrategyConfigError",l5({message:null==n?void 0:n.message,name:null==n?void 0:n.name}));case 5:this.setServiceStrategyConfig(t);case 6:case"end":return e.stop()}},e,this,[[1,4]])})),function(){return vb.apply(this,arguments)})},{key:"updateStrategyConfig",value:function(){}},{key:"getStrategyConfig",value:function(){}},{key:"getStrategyConfigByName",value:function(){}},{key:"getAppConfig",value:function(){return this.appConfig}},{key:"needFetchStrategyConfig",value:function(){var e;return this.getServiceStrategyConfig(),!this.serviceStrategyConfig||!this.serviceStrategyConfig.use_local_cache||!!(this.serviceStrategyConfig.local_cache_expired_at&&uQ()>this.serviceStrategyConfig.local_cache_expired_at)||this.serviceStrategyConfig.cache_key!==(null===(e=this.serviceStrategyConfigLoader)||void 0===e?void 0:e.getCacheKey())}}]),h_=f(oZ),hb=function(e,t,n){var r,i,o;return r=e,i="symbol"!==ot(t)?t+"":t,o=n,i in r?h_(r,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[i]=o,n},hw=lx(function e(t){lk(this,e),hb(this,"options"),hb(this,"scores"),this.options=t,this.scores=[],this._init()},[{key:"_init",value:function(){var e,t=this;lI(e=lO(this.options.plugins)).call(e,function(e){var n=t.options.plugins[e];n.ignore||(n.cls&&(n.instance=new n.cls(n)),n.instance&&t.scores.push(new lC(function(t){n.instance.getScore().then(function(r){t({key:e,factor:n.factor,val:r})})})))})}},{key:"getScore",value:function(){var e=this;return new lC(function(t){lC.all(e.scores).then(function(e){var n={},r=0,i=0;lI(e).call(e,function(e){var t=e.factor;e.val.score>0&&(i+=t)}),i=0===i?1:i;for(var o=0;o<e.length;o++){var a=e[o];r+=a.factor/i*a.val.score,n[a.key]=a.val}n.score=r,t(n)}).catch(console.log)})}}]),hS=function(){function e(t){var n,r,i;return lk(this,e),n=this,r=e,i=[t],r=uV(r),uD(n,uG()?uK(r,i||[],uV(n).constructor):r.apply(n,i))}return uZ(e,hw),lx(e)}(),hE=function(){function e(t){var n,r,i;return lk(this,e),n=this,r=e,i=[t],r=uV(r),uD(n,uG()?uK(r,i||[],uV(n).constructor):r.apply(n,i))}return uZ(e,hw),lx(e)}(),hk=function(){function e(t){var n,r,i;return lk(this,e),n=this,r=e,i=[t],r=uV(r),uD(n,uG()?uK(r,i||[],uV(n).constructor):r.apply(n,i))}return uZ(e,hw),lx(e)}(),hT=function(e,t,n){var r,i,o;return r=e,i="symbol"!==ot(t)?t+"":t,o=n,i in r?h_(r,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[i]=o,n},hx=function(){function e(){var t,n,r,i;return lk(this,e),n=this,r=e,i=arguments,r=uV(r),hT(t=uD(n,uG()?uK(r,i||[],uV(n).constructor):r.apply(n,i)),"_player"),t}return uZ(e,hw),lx(e,[{key:"setPlayer",value:function(e,t){var n=this;if(e){this._player=e;var r,i,o=function(){if(e.video&&e.video.getVideoPlaybackQuality){if(i){if(uQ()-r>1e3)try{e.off("timeupdate",o);var a=e.video.getVideoPlaybackQuality();localStorage.setItem("player_".concat(t,"_fps"),a.totalVideoFrames-i+"")}catch(e){}}else n.bufferLength>1&&(i=e.video.getVideoPlaybackQuality().totalVideoFrames,r=uQ())}else e.off("timeupdate",o)};e.on("timeupdate",o)}}},{key:"bufferLength",get:function(){var e=this._player.getBufferedRange();if(!this._player.video)return 0;var t=this._player.video.currentTime,n=e[1]-Math.max(e[0],t);return Math.max(0,n)}}])}(),hC=Math.log,hI=Math.LN2,hO=Math.log2||function(e){return hC(e)/hI};ta({target:"Math",stat:!0},{log2:hO});var hA=J.Math.log2,hP=f(hA),hR=new(lx(function e(){lk(this,e)},[{key:"getScore",value:function(){return new lC(function(e){var t=navigator.hardwareConcurrency,n=0;if(t>0){var r=hP(t);n=r<=2?3*r:r<=3?1.6*(r-2)+6:.523*(r-3)+7.6}e({score:n,origin:t})})}}])),hD=Math.log,hL=Math.LOG10E,hM=Math.log10||function(e){return hD(e)*hL};ta({target:"Math",stat:!0},{log10:hM});var hz=J.Math.log10,hN=f(hz),hj=function(e,t,n){var r,i,o;return r=e,i="symbol"!==ot(t)?t+"":t,o=n,i in r?h_(r,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[i]=o,n},hB=new(lx(function e(){lk(this,e),hj(this,"_worker"),hj(this,"_getScoreCallback",function(){})},[{key:"getScore",value:function(){return new lC(function(e){try{var t=new Image;t.src="//lf6-cdn-tos.douyinstatic.com/obj/venus/pc-theme/spring/20230411-162827.jpeg",t.onload=function(){var n=uQ();"function"==typeof t.decode?t.decode().then(function(){var t=1e3/(uQ()-n),r=0;if(t>0){var i=hN(t);r=i<=1?6*i:i<=2?1.6*(i-1)+6:2.4*(i-2)+7.6}e({score:r,origin:t})}):e({score:0,origin:-1})}}catch(t){e({score:0,origin:-1})}})}}]));ta({target:"Array",proto:!0},{fill:function(e){for(var t=eC(this),n=tm(t),r=arguments.length,i=tQ(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:tQ(o,n);a>i;)t[i++]=e;return t}});var hU=i5("Array","fill"),hF=Array.prototype,hG=f(function(e){var t=e.fill;return e===hF||ee(hF,e)&&t===hF.fill?hU:t}),hV=new(lx(function e(){lk(this,e)},[{key:"_getOrigin",value:function(){var e=new Uint8Array(3686400);hG(e).call(e,8);var t=performance.now();return 1e3/(performance.now()-t)}},{key:"getScore",value:function(){var e=this;return new lC(function(t){t({score:0,origin:e._getOrigin()})})}}])),hH=new(lx(function e(){lk(this,e)},[{key:"getScore",value:function(){return new lC(function(e){e({score:0,origin:navigator.deviceMemory})})}}])),hZ=new(lx(function e(){lk(this,e)},[{key:"getScore",value:function(){return new lC(function(e){var t,n=null==(t=null==navigator?void 0:navigator.connection)?void 0:t.downlink,r=0;n>0&&n<1e6&&(r=n<1?60*n:n<5?.4*(n-1)+6.01:.02*(n-5)+7.61),e({score:r,origin:n})})}}])),hK=TypeError,hW="Reduce of empty array with no initial value",h$=function(e){return function(t,n,r,i){var o=eC(t),a=Z(o),s=tm(o);if(em(n),0===s&&r<2)throw new hK(hW);var l=e?s-1:0,c=e?-1:1;if(r<2)for(;;){if(l in a){i=a[l],l+=c;break}if(l+=c,e?l<0:s<=l)throw new hK(hW)}for(;e?l>=0:s>l;l+=c)l in a&&(i=n(i,a[l],l,o));return i}},hq={left:h$(!1),right:h$(!0)}.left;ta({target:"Array",proto:!0,forced:!aU&&el>79&&el<83||!oE("reduce")},{reduce:function(e){var t=arguments.length;return hq(this,e,t,t>1?arguments[1]:void 0)}});var hX=i5("Array","reduce"),hJ=Array.prototype,hY=f(function(e){var t=e.reduce;return e===hJ||ee(hJ,e)&&t===hJ.reduce?hX:t}),hQ=new(lx(function e(){lk(this,e)},[{key:"_getBandwidth",value:function(){if(!performance.getEntries)return -1;var e,t=uI(e=performance.getEntries()).call(e,function(e){var t=e.initiatorType,n=e.decodedBodySize;return"img"===t&&n>0}),n=hY(t).call(t,function(e,t){return e+1e3*t.decodedBodySize/(t.responseEnd-t.responseStart)},0);return t.length?n/t.length/1024:0}},{key:"getScore",value:function(){var e=this;return new lC(function(t,n){try{var r=e._getBandwidth(),i=0;r>0&&r<1e6&&(i=r<1?60*performance_speed:r<5?.4*(performance_speed-1)+6.01:.02*(performance_speed-5)+7.61),t({score:i,origin:r})}catch(e){t({score:0,origin:-1})}})}}])),h0=((vw=h0||{}).H264="h264",vw.H265="h265",vw),h1=function(e,t,n){var r,i,o;return r=e,i="symbol"!==ot(t)?t+"":t,o=n,i in r?h_(r,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[i]=o,n},h2=lx(function e(t){lk(this,e),h1(this,"_origin"),h1(this,"_codec"),this._codec=t},[{key:"_getOrigin",value:function(){try{var e=localStorage.getItem("player_".concat(this._codec,"_fps"))||-1;return Number(e)}catch(e){return -1}}},{key:"getScore",value:function(){var e=this;return new lC(function(t){var n=e._origin||e._getOrigin(),r=0;n>0&&n<=120&&(r=n<=30?.2*n:n<=60?.0533*(n-30)+6:.04*(n-60)+7.6),t({score:r,origin:n})})}}]),h5=new(function(){function e(t){var n,r,i;return lk(this,e),n=this,r=e,i=[t],r=uV(r),uD(n,uG()?uK(r,i||[],uV(n).constructor):r.apply(n,i))}return uZ(e,h2),lx(e)}())(h0.H264),h4={plugins:{cpu:{cls:hS,factor:8,plugins:{cpu_core_number:{factor:4,instance:hR},decodeImg:{factor:3,instance:hB}}},memory:{cls:hE,factor:0,plugins:{copy:{factor:5,instance:hV},usage:{factor:5,instance:hH}}},net:{cls:hk,factor:9,plugins:{downlink:{factor:5,instance:hZ},performance:{factor:4,instance:hQ}}},render:{cls:hx,factor:0,plugins:{avc:{factor:5,instance:h5},hevc:{factor:5,instance:new(function(){function e(t){var n,r,i;return lk(this,e),n=this,r=e,i=[t],r=uV(r),uD(n,uG()?uK(r,i||[],uV(n).constructor):r.apply(n,i))}return uZ(e,h2),lx(e)}())(h0.H265)}}}}},h3=function(){function e(t){var n,r,i;return lk(this,e),n=this,r=e,i=[lz({},h4,t)],r=uV(r),uD(n,uG()?uK(r,i||[],uV(n).constructor):r.apply(n,i))}return uZ(e,hw),lx(e,[{key:"setPlayer",value:function(e,t){var n,r;(null==(n=this.options.plugins.render)?void 0:n.instance)&&(null==(r=this.options.plugins.render)||r.instance.setPlayer(e,t))}}])}(),h6="	\n\v\f\r \xa0              　\u2028\u2029\uFEFF",h9=T("".replace),h7=RegExp("^["+h6+"]+"),h8=RegExp("(^|[^"+h6+"])["+h6+"]+$"),de=function(e){return function(t){var n=tq($(t));return 1&e&&(n=h9(n,h7,"")),2&e&&(n=h9(n,h8,"$1")),n}},dt={start:de(1),end:de(2),trim:de(3)},dn=dt.trim,dr=v.parseInt,di=v.Symbol,da=di&&di.iterator,ds=/^[+-]?0x/i,dl=T(ds.exec),dc=8!==dr(h6+"08")||22!==dr(h6+"0x16")||da&&!g(function(){dr(Object(da))})?function(e,t){var n=dn(tq(e));return dr(n,t>>>0||(dl(ds,n)?16:10))}:dr;ta({global:!0,forced:parseInt!==dc},{parseInt:dc});var du=J.parseInt,dh=f(du),dd=rj.PROPER,df="​\x85᠎",dp=dt.trim;ta({target:"String",proto:!0,forced:(vS="trim",g(function(){return!!h6[vS]()||df[vS]()!==df||dd&&h6[vS].name!==vS}))},{trim:function(){return dp(this)}});var dv=i5("String","trim"),dg=String.prototype,dm=f(function(e){var t=e.trim;return"string"==typeof e||e===dg||ee(dg,e)&&t===dg.trim?dv:t}),dy=/ANGLE\s+\((?:[^,]+,\s+)?([^,/]+)?(?:[^,]*)(?:[,\s]+)(Direct\S+|OpenGL[\d.\s]+)/,d_=/ANGLE\s+\((?:[^,]+,\s+)?([^,]+)?(?:[,\s]+)(Direct\S+|OpenGL[\d.\s]+)/,db="OpenGL Engine",dw="Unknow",dS=((vE=dS||{}).CpuDeriver="CpuDeriver",vE.Intel="Intel",vE.Nvidia="NVIDIA",vE.Amd="AMD",vE.Apple="Apple",vE[vE.Unknow=dw]="Unknow",vE);function dE(e){return"NVIDIA"===e?4318:"AMD"===e?4098:"Intel"===e?32902:0}var dk=dt.trim,dT=T("".charAt),dx=v.parseFloat,dC=v.Symbol,dI=dC&&dC.iterator,dO=1/dx(h6+"-0")!=-Infinity||dI&&!g(function(){dx(Object(dI))})?function(e){var t=dk(tq(e)),n=dx(t);return 0===n&&"-"===dT(t,0)?-0:n}:dx;ta({global:!0,forced:parseFloat!==dO},{parseFloat:dO});var dA=J.parseFloat,dP=f(dA),dR="g_ven";function dD(e){return 0===e?0:-1===e?-1:dP(hP(e).toFixed(2))}var dL=[],dM=[],dz=[];function dN(){return(dN=lE(lw().mark(function e(t,n){var r,i;return lw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==dS.Intel){e.next=2;break}if(!dL.length){e.next=1;break}return e.abrupt("return",dL);case 1:r=n.intelPath;case 2:if(t!==dS.Nvidia){e.next=4;break}if(!dM.length){e.next=3;break}return e.abrupt("return",dM);case 3:r=n.nvidiaPath;case 4:if(t!==dS.Amd){e.next=6;break}if(!dz.length){e.next=5;break}return e.abrupt("return",dz);case 5:r=n.amdPath;case 6:if(r){e.next=7;break}return e.abrupt("return",lC.resolve([]));case 7:return e.prev=7,e.next=8,fetch(r).then(function(e){return e.text()});case 8:return i=function(e,t){var n,r;return n=t===dS.Intel?uR(r=e.split("\n")).call(r,function(e){return"Intel(R) ".concat(e)}):e.split("\n"),uR(n).call(n,function(e){return e.split("|")})}(e.sent,t),t===dS.Intel&&(dL=i),t===dS.Nvidia&&(dM=i),t===dS.Amd&&(dz=i),e.abrupt("return",i);case 9:return e.prev=9,e.catch(7),e.abrupt("return",[]);case 10:case"end":return e.stop()}},e,null,[[7,9]])}))).apply(this,arguments)}var dj="";function dB(e){var t,n,r,i,o,a,s,l,c,u,h,d,f,p,v,g,m,y,_;try{;t=(c=(r=n=e||dF.getGPUVendor(),(i=/(SwiftShader|Intel|NVIDIA|AMD|Radeon|Apple)/.exec(r))?"Radeon"===i[0]?"AMD":"SwiftShader"===i[0]?"CpuDeriver":i[0]:dS.Unknow))===dS.Unknow||"CpuDeriver"===c?{vendor:c,vendorId:0,model:dw,backupModel:dw,api:dw}:/^ANGLE/.test(n)?(u=c,h=n,m=dw,y=dw,_=dw,"Intel"!==u&&"NVIDIA"!==u||(d=dy.exec(h)),"AMD"!==u&&"Apple"!==u||(d=d_.exec(h)),(null==d?void 0:d[1])&&(null==d?void 0:d[2])&&(m=dm(f=d[1].replace(/(AMD|NVIDIA)/,"")).call(f),_=dm(p=d[2]).call(p)),y="Intel"===u?m=dm(v=m.split(db)[0]).call(v):dm(g=m.split(db)[0]).call(g),{vendor:u,vendorId:dE(u),model:m,backupModel:y,api:_}):"Intel"===c?{vendor:c,vendorId:dE(c),model:dm(s=n.split(db)[0]).call(s),backupModel:dm(l=n.split(db)[0]).call(l),api:dw}:{vendor:c,vendorId:dE(c),model:dm(o=n.replace(/(AMD|NVIDIA)/,"")).call(o),backupModel:dm(a=n.split(db)[0].replace(/(AMD|NVIDIA)/,"")).call(a),api:dw}}catch(e){return null}return t}var dU=lx(function e(){lk(this,e)},null,[{key:"setConfig",value:function(e){dU.cfg=e}},{key:"getGPUVendor",value:function(){return dj||(dj=function(){try{var e=localStorage.getItem(dR)||"";if(e)return e;var t,n=document.createElement("canvas").getContext("webgl");if(n)return(e=(t=n.getExtension("WEBGL_debug_renderer_info"))?n.getParameter(t.UNMASKED_RENDERER_WEBGL):"")&&localStorage.setItem(dR,e),e}catch(e){}return""}())}},{key:"parseVendorAsync",value:function(e){var t,n,r=dB(e);if(!r)return lC.resolve(null);if(!dU.cfg)throw Error("need specify config, call setConfig() method");return(t=r,n=dU.cfg,t?(function(e,t){return dN.apply(this,arguments)})(t.vendor,n).then(function(e){return function(e,t){var n=uI(e).call(e,function(e){return e[0]===t.model});n.length||(n=uI(e).call(e,function(e){return e[0]===t.backupModel})),n.length||t.vendor!==dS.Intel||/^Intel(R)/.test(t.model)||(n=uI(e).call(e,function(e){return e[0]==="Intel(R) "+t.model}));var r="-1";if(n.length){var i=n[0][1];r="-1"===i?"0":i}return dh(r)}(e,t)}).then(dD):lC.resolve(0)).then(function(e){return oY(oY({},r||{}),{},{score:e})}).catch(function(){return null})}}]),dF=dU;function dG(){var e=!1;if("undefined"==typeof MediaSource||!MediaSource.isTypeSupported||function(){if("undefined"==typeof navigator)return!1;var e=navigator.userAgent.match(/Edg\/(\d+)\./);if(e&&e.length>=2){var t=dh(e[1]);return t>=117&&t<=122}return!1}())return e;if(e=MediaSource.isTypeSupported('video/mp4;codecs="hev1.1.6.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.2.4.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.3.E.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.4.10.L120.90"')){var t=dB();e=!!t&&t.vendor!==dS.CpuDeriver}return e}function dV(){return(dV=lE(lw().mark(function e(t){var n,r,i,o,a,s,l,c,u,h;return lw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=lz({url:"",minDroppedFramesRate:0,minTotalVideoFrames:0},t)).url,i=n.minDroppedFramesRate,o=n.minTotalVideoFrames,(u=new lC(function(e){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1001;e(oY({status:!1,errCode:t,robustErr:2101===t||2001===t||3e3===t},(arguments.length>1?arguments[1]:void 0)||{}))}r&&(0!==i||0!==o)?(s=function(){var n="";try{if(!a||!a.getVideoPlaybackQuality)return t(2001);var r=a.getVideoPlaybackQuality(),s=r.totalVideoFrames,l=r.droppedVideoFrames,c=l/s,u={droppedFrameRate:c,droppedVideoFrames:l,totalVideoFrames:s};return void((i?c<=i:!!o&&s>o)?e(oY({status:!0},u)):t(3e3,u))}catch(e){n=(null==e?void 0:e.message)||e||"empty err msg"}t(2200,{errMsg:n})},l=function(){var e,n,r=(null===(e=a)||void 0===e?void 0:e.error)||{code:-1,message:""};t(2e3,{errMsg:uu(n="".concat(r.code,"-")).call(n,r.message)})},c=function(){var e,n=null===(e=a)||void 0===e?void 0:e.play();n&&n.then(function(e){}).catch(function(e){var n=e.message,r=2100;/no supported source/gi.test(n)||/The media resource indicated by the src attribute or assigned media provider object was not suitable/gi.test(n)||/NotSupportedError/gi.test(n)?r=2101:/video-only background media was paused to save power/gi.test(n)?r=2103:(/the user didn't interact with the document first/gi.test(n)||/user denied permission/gi.test(n))&&(r=2102),t(r,{errMsg:n})})},(a=function(e){var t=document.createElement("video");return t.style.cssText="width:50px;height:50px;position:absolute;top:0;left:0;z-index:999999;opacity:.001;pointer-events:none;",t.muted=!0,t.autoplay=!1,t.src=e,t}(r)).addEventListener("loadedmetadata",c,!1),a.addEventListener("ended",s,!1),a.addEventListener("error",l,!1),a.load(),document.body.append(a)):t(1e3)})).finally(function(){a&&(s&&l&&c&&(a.removeEventListener("loadedmetadata",c,!1),a.removeEventListener("ended",s,!1),a.removeEventListener("error",l,!1),s=void 0,l=void 0,c=void 0),document.body.removeChild(a),a=void 0)}),e.next=1,u;case 1:return h=e.sent,e.abrupt("return",h);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}vk="cfg",vT=null,vx=dF,vC="symbol"!==ot("cfg")?vk+"":vk,vI=null,vC in vx?h_(vx,vC,{enumerable:!0,configurable:!0,writable:!0,value:vI}):vx[vC]=vI;var dH=nG.find,dZ="find",dK=!0;dZ in[]&&[,][dZ](function(){dK=!1}),ta({target:"Array",proto:!0,forced:dK},{find:function(e){return dH(this,e,arguments.length>1?arguments[1]:void 0)}});var dW=i5("Array","find"),d$=Array.prototype,dq=f(function(e){var t=e.find;return e===d$||ee(d$,e)&&t===d$.find?dW:t}),dX=nG.some;ta({target:"Array",proto:!0,forced:!oE("some")},{some:function(e){return dX(this,e,arguments.length>1?arguments[1]:void 0)}});var dJ=i5("Array","some"),dY=Array.prototype,dQ=f(function(e){var t=e.some;return e===dY||ee(dY,e)&&t===dY.some?dJ:t}),d0=t1.indexOf,d1=O([].indexOf),d2=!!d1&&1/d1([1],1,-0)<0;ta({target:"Array",proto:!0,forced:d2||!oE("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return d2?d1(this,e,t)||0:d0(this,e,t)}});var d5=i5("Array","indexOf"),d4=Array.prototype,d3=function(e){var t=e.indexOf;return e===d4||ee(d4,e)&&t===d4.indexOf?d5:t},d6=f(d3),d9=f(d3),d7=tH("splice"),d8=Math.max,fe=Math.min;ta({target:"Array",proto:!0,forced:!d7},{splice:function(e,t){var n,r,i,o,a,s,l=eC(this),c=tm(l),u=tQ(e,c),h=arguments.length;for(0===h?n=r=0:1===h?(n=0,r=c-u):(n=h-2,r=fe(d8(tp(t),0),c-u)),t_(c+n-r),i=tG(l,r),o=0;o<r;o++)(a=u+o)in l&&tb(i,o,l[a]);if(i.length=r,n<r){for(o=u;o<c-r;o++)s=o+n,(a=o+r)in l?l[s]=l[a]:lv(l,s);for(o=c;o>c-r+n;o--)lv(l,o-1)}else if(n>r)for(o=c-r;o>u;o--)s=o+n-1,(a=o+r-1)in l?l[s]=l[a]:lv(l,s);for(o=0;o<n;o++)l[o+u]=arguments[o+2];return o_(l,c-r+n),i}});var ft=i5("Array","splice"),fn=Array.prototype,fr=f(function(e){var t=e.splice;return e===fn||ee(fn,e)&&t===fn.splice?ft:t}),fi=f(o3),fo={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast","Pale Moon":"pale_moon",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},fa={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",pale_moon:"Pale Moon",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},fs={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv",bot:"bot"},fl={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},fc={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"},fu=function(){function e(){lk(this,e)}return lx(e,null,[{key:"getFirstMatch",value:function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""}},{key:"getSecondMatch",value:function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""}},{key:"matchAndReturnConst",value:function(e,t,n){if(e.test(t))return n}},{key:"getWindowsVersionName",value:function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}},{key:"getMacOSVersionName",value:function(e){var t,n,r=uR(t=fr(n=e.split(".")).call(n,0,2)).call(t,function(e){return dh(e,10)||0});if(r.push(0),10===r[0])switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}},{key:"getAndroidVersionName",value:function(e){var t,n,r=uR(t=fr(n=e.split(".")).call(n,0,2)).call(t,function(e){return dh(e,10)||0});if(r.push(0),!(1===r[0]&&r[1]<5))return 1===r[0]&&r[1]<6?"Cupcake":1===r[0]&&r[1]>=6?"Donut":2===r[0]&&r[1]<2?"Eclair":2===r[0]&&2===r[1]?"Froyo":2===r[0]&&r[1]>2?"Gingerbread":3===r[0]?"Honeycomb":4===r[0]&&r[1]<1?"Ice Cream Sandwich":4===r[0]&&r[1]<4?"Jelly Bean":4===r[0]&&r[1]>=4?"KitKat":5===r[0]?"Lollipop":6===r[0]?"Marshmallow":7===r[0]?"Nougat":8===r[0]?"Oreo":9===r[0]?"Pie":void 0}},{key:"getVersionPrecision",value:function(e){return e.split(".").length}},{key:"compareVersions",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),a=Math.max(i,o),s=0,l=uR(e).call(e,[t,n],function(t){var n,r=a-e.getVersionPrecision(t),i=t+Array(r+1).join(".0");return fi(n=uR(e).call(e,i.split("."),function(e){return Array(20-e.length).join("0")+e})).call(n)});for(r&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(l[0][a]>l[1][a])return 1;if(l[0][a]===l[1][a]){if(a===s)return 0;a-=1}else if(l[0][a]<l[1][a])return -1}}},{key:"map",value:function(e,t){var n,r=[];if(uR(Array.prototype))return uR(Array.prototype).call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r}},{key:"find",value:function(e,t){var n,r;if(dq(Array.prototype))return dq(Array.prototype).call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}}},{key:"assign",value:function(e){for(var t,n,r,i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(lz)return lz.apply(Object,uu(r=[e]).call(r,o));for(t=0,n=o.length;t<n;t+=1)!function(){var n=o[t];if("object"===ot(n)&&null!==n){var r=lO(n);lI(r).call(r,function(t){e[t]=n[t]})}}();return e}},{key:"getBrowserAlias",value:function(e){return fo[e]}},{key:"getBrowserTypeByAlias",value:function(e){return fa[e]||""}}])}(),fh=/version\/(\d+(\.?_?\d+)+)/i,fd=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=fu.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||fu.getFirstMatch(fh,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=fu.getFirstMatch(fh,e)||fu.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=fu.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||fu.getFirstMatch(fh,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=fu.getFirstMatch(fh,e)||fu.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=fu.getFirstMatch(fh,e)||fu.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/PaleMoon/i],describe:function(e){var t={name:"Pale Moon"},n=fu.getFirstMatch(fh,e)||fu.getFirstMatch(/(?:PaleMoon)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=fu.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||fu.getFirstMatch(fh,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=fu.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||fu.getFirstMatch(fh,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=fu.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||fu.getFirstMatch(fh,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=fu.getFirstMatch(fh,e)||fu.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=fu.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||fu.getFirstMatch(fh,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=fu.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||fu.getFirstMatch(fh,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=fu.getFirstMatch(fh,e)||fu.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=fu.getFirstMatch(fh,e)||fu.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=fu.getFirstMatch(fh,e)||fu.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=fu.getFirstMatch(fh,e)||fu.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=fu.getFirstMatch(fh,e)||fu.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=fu.getFirstMatch(fh,e)||fu.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=fu.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||fu.getFirstMatch(fh,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=fu.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||fu.getFirstMatch(fh,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=fu.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=fu.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=fu.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=fu.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=fu.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=fu.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=fu.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=fu.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=fu.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=fu.getFirstMatch(fh,e)||fu.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=fu.getFirstMatch(fh,e)||fu.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=fu.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=fu.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||fu.getFirstMatch(fh,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=fu.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||fu.getFirstMatch(fh,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=fu.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=fu.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=fu.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=fu.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||fu.getFirstMatch(fh,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=fu.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=fu.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=fu.getFirstMatch(fh,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=fu.getFirstMatch(fh,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=fu.getFirstMatch(fh,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:fu.getFirstMatch(t,e),version:fu.getSecondMatch(t,e)}}}],ff=[{test:[/Roku\/DVP/],describe:function(e){var t=fu.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:fl.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=fu.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:fl.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=fu.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=fu.getWindowsVersionName(t);return{name:fl.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:fl.iOS},n=fu.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=fu.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=fu.getMacOSVersionName(t),r={name:fl.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=fu.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:fl.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=fu.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=fu.getAndroidVersionName(t),r={name:fl.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=fu.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:fl.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=fu.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||fu.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||fu.getFirstMatch(/\bbb(\d+)/i,e);return{name:fl.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=fu.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:fl.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=fu.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:fl.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:fl.Linux}}},{test:[/CrOS/],describe:function(){return{name:fl.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=fu.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:fl.PlayStation4,version:t}}}],fp=[{test:[/googlebot/i],describe:function(){return{type:fs.bot,vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=fu.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:fs.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:fs.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:fs.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:fs.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:fs.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:fs.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:fs.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=fu.getFirstMatch(/(ipod|iphone)/i,e);return{type:fs.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:fs.mobile,vendor:"Nexus"}}},{test:[/Nokia/i],describe:function(e){var t=fu.getFirstMatch(/Nokia\s+([0-9]+(\.[0-9]+)?)/i,e),n={type:fs.mobile,vendor:"Nokia"};return t&&(n.model=t),n}},{test:[/[^-]mobi/i],describe:function(){return{type:fs.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:fs.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:fs.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:fs.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:fs.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:fs.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:fs.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:fs.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:fs.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:fs.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:fs.tv}}}],fv=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:fc.Blink};var t=fu.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:fc.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:fc.Trident},n=fu.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:fc.Presto},n=fu.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:fc.Gecko},n=fu.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:fc.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:fc.WebKit},n=fu.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}],fg=lx(function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(lk(this,e),null==t||""===t)throw Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},!0!==n&&this.parse()},[{key:"getUA",value:function(){return this._ua}},{key:"test",value:function(e){return e.test(this._ua)}},{key:"parseBrowser",value:function(){var e=this;this.parsedResult.browser={};var t=dq(fu).call(fu,fd,function(t){var n;if("function"==typeof t.test)return t.test(e);if(lA(t.test))return dQ(n=t.test).call(n,function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}},{key:"getBrowser",value:function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}},{key:"getBrowserName",value:function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}},{key:"getBrowserVersion",value:function(){return this.getBrowser().version}},{key:"getOS",value:function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}},{key:"parseOS",value:function(){var e=this;this.parsedResult.os={};var t=dq(fu).call(fu,ff,function(t){var n;if("function"==typeof t.test)return t.test(e);if(lA(t.test))return dQ(n=t.test).call(n,function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}},{key:"getOSName",value:function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""}},{key:"getOSVersion",value:function(){return this.getOS().version}},{key:"getPlatform",value:function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}},{key:"getPlatformType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""}},{key:"parsePlatform",value:function(){var e=this;this.parsedResult.platform={};var t=dq(fu).call(fu,fp,function(t){var n;if("function"==typeof t.test)return t.test(e);if(lA(t.test))return dQ(n=t.test).call(n,function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}},{key:"getEngine",value:function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}},{key:"getEngineName",value:function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}},{key:"parseEngine",value:function(){var e=this;this.parsedResult.engine={};var t=dq(fu).call(fu,fv,function(t){var n;if("function"==typeof t.test)return t.test(e);if(lA(t.test))return dQ(n=t.test).call(n,function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}},{key:"parse",value:function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}},{key:"getResult",value:function(){return fu.assign({},this.parsedResult)}},{key:"satisfies",value:function(e){var t=this,n={},r=0,i={},o=0,a=lO(e);if(lI(a).call(a,function(t){var a=e[t];"string"==typeof a?(i[t]=a,o+=1):"object"===ot(a)&&(n[t]=a,r+=1)}),r>0){var s=lO(n),l=dq(fu).call(fu,s,function(e){return t.isOS(e)});if(l){var c=this.satisfies(n[l]);if(void 0!==c)return c}var u=dq(fu).call(fu,s,function(e){return t.isPlatform(e)});if(u){var h=this.satisfies(n[u]);if(void 0!==h)return h}}if(o>0){var d=lO(i),f=dq(fu).call(fu,d,function(e){return t.isBrowser(e,!0)});if(void 0!==f)return this.compareVersion(i[f])}}},{key:"isBrowser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=fu.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n}},{key:"compareVersion",value:function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),d9(t).call(t,fu.compareVersions(i,n,r))>-1}},{key:"isOS",value:function(e){return this.getOSName(!0)===String(e).toLowerCase()}},{key:"isPlatform",value:function(e){return this.getPlatformType(!0)===String(e).toLowerCase()}},{key:"isEngine",value:function(e){return this.getEngineName(!0)===String(e).toLowerCase()}},{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}},{key:"some",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return dQ(t).call(t,function(t){return e.is(t)})}}]),fm=lx(function e(){lk(this,e)},null,[{key:"getParser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"!=typeof e)throw Error("UserAgent should be a string");return new fg(e,t)}},{key:"parse",value:function(e){return new fg(e).getResult()}},{key:"BROWSER_MAP",get:function(){return fa}},{key:"ENGINE_MAP",get:function(){return fc}},{key:"OS_MAP",get:function(){return fl}},{key:"PLATFORMS_MAP",get:function(){return fs}}]),fy=lx(function e(t){lk(this,e),oX(this,"featureList",void 0),oX(this,"videoType",void 0),this.videoType=t.type||u0.VOD,this.featureList=oY(oY(oY(oY({deviceId:null==t?void 0:t.deviceId},this.initSync()),this.getGPUInfo()),this.getLocalDeviceMarkInfo()),this.getH265FeatureList())},[{key:"initSync",value:function(){return oY({},this.getBrowserInfo())}},{key:"updateFeatureList",value:function(e){return this.featureList=oY(oY({},this.featureList),e)}},{key:"getFeatureList",value:function(){return this.featureList}},{key:"getH265FeatureList",value:function(){return{isHevcSupported:dG()}}},{key:"getLocalDeviceMarkInfo",value:function(){var e=hf(this.videoType===u0.LIVE?hv.DEVICE_INFO_LIVE:hv.DEVICE_INFO),t={cpuScore:-1,netScore:-1,renderScore:-1};if(!e)return t;try{var n=JSON.parse(e);return{cpuScore:n.cpuScore,netScore:n.netScore,renderScore:n.renderScore}}catch(e){}return t}},{key:"getDeviceMarkInfoAsync",value:(vO=lE(lw().mark(function e(){var t,n,r,i,o,a,s;return lw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new h3({}),e.next=1,t.getScore();case 1:if(s=e.sent){e.next=2;break}s={};case 2:return r=(n=s).cpu,i=n.net,o=n.render,a={cpuScore:(null==r?void 0:r.score)||-1,netScore:(null==i?void 0:i.score)||-1,renderScore:(null==o?void 0:o.score)||-1},hd(this.videoType===u0.LIVE?hv.DEVICE_INFO_LIVE:hv.DEVICE_INFO,l5(a)),this.updateFeatureList(a),e.abrupt("return",a);case 3:case"end":return e.stop()}},e,this)})),function(){return vO.apply(this,arguments)})},{key:"getBrowserInfo",value:function(){var e=fm.getParser(navigator.userAgent);return{browserVersion:e.getBrowserVersion()||"unknown browser version",browserName:e.getBrowserName(),cpuCore:navigator.hardwareConcurrency,osName:e.getOSName(),osVersion:e.getOSVersion(),platformType:e.getPlatformType(),engineName:e.getEngineName()}}},{key:"getGPUInfo",value:function(){try{var e=h.Z.parseVendor(),t=h.Z.getGPUVendor(),n=hu(t).call(t,"SwiftShader");return{gpuScore:(null==e?void 0:e.score)||-1,isCloseGPU:n}}catch(e){return{gpuScore:-1,isCloseGPU:!1}}}}]),f_=i5("Array","values"),fb=Array.prototype,fw={DOMTokenList:!0,NodeList:!0},fS=f(function(e){var t=e.values;return e===fb||ee(fb,e)&&t===fb.values||eO(fw,tI(e))?f_:t}),fE=((vA=fE||{}).Equal="＝",vA.NotEqual="≠",vA.Greater=">",vA.GreaterOrEqual="≥",vA.Less="<",vA.LessOrEqual="≤",vA),fk=oX(oX(oX(oX(oX(oX({},"＝",{validate:function(e,t){var n;return lA(fS(e))?hu(n=fS(e)).call(n,t):fS(e)===t}}),"≠",{validate:function(e,t){var n;return lA(fS(e))?!hu(n=fS(e)).call(n,t):fS(e)!==t}}),">",{validate:function(e,t){return!lA(fS(e))&&"boolean"!=typeof fS(e)&&t>fS(e)}}),"≥",{validate:function(e,t){return!lA(fS(e))&&"boolean"!=typeof fS(e)&&t>=fS(e)}}),"<",{validate:function(e,t){return!lA(fS(e))&&"boolean"!=typeof fS(e)&&t<fS(e)}}),"≤",{validate:function(e,t){return!lA(fS(e))&&"boolean"!=typeof fS(e)&&t<=fS(e)}});function fT(e,t,n){var r;return null==e||lI(e).call(e,function(e){var i;if("conditions"in e&&e.conditions)i=fT(e.conditions,t,e.logic);else if("key"in e){var o,a=t[null==e?void 0:e.key];i=null===(o=fk[null==e?void 0:e.op])||void 0===o?void 0:o.validate(e,a)}r=void 0===r?i:"||"===n?r||i:r&&i}),r}function fx(e,t){var n={};if(e)return lI(e).call(e,function(e){fT(e.conditions,t,e.logic)&&(n=oY(oY({},n),e.config))}),n}Object.freeze({__proto__:null,Operator:fE,getConfigWithRule:fx,operators:fk,validate:fT}),cu("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},cv);var fC=Q("Map"),fI={Map:fC,set:cy("set",2),get:cy("get",1),has:cy("has",1),remove:cy("delete",1),proto:fC.prototype},fO=fI.Map,fA=fI.has,fP=fI.get,fR=fI.set,fD=T([].push);ta({target:"Map",stat:!0,forced:!0},{groupBy:function(e,t){$(e),em(t);var n=new fO,r=0;return ax(e,function(e){var i=t(e,r++);fA(n,i)?fD(fP(n,i),e):fR(n,i,[e])}),n}});var fL=J.Map,fM=TypeError,fz=function(e){if("object"==typeof e&&"size"in e&&"has"in e&&"get"in e&&"set"in e&&"delete"in e&&"entries"in e)return e;throw new fM(ev(e)+" is not a map")},fN=fI.get,fj=fI.has,fB=fI.set;ta({target:"Map",proto:!0,real:!0,forced:!0},{getOrInsert:function(e,t){return fj(fz(this),e)?fN(this,e):(fB(this,e,t),t)}});var fU=fI.get,fF=fI.has,fG=fI.set;ta({target:"Map",proto:!0,real:!0,forced:!0},{getOrInsertComputed:function(e,t){if(fz(this),em(t),fF(this,e))return fU(this,e);0===e&&1/e==-Infinity&&(e=0);var n=t(e);return fG(this,e,n),n}});ta({target:"Map",stat:!0,forced:!0},{from:c1(fI.Map,fI.set,!0)});ta({target:"Map",stat:!0,forced:!0},{of:c2(fI.Map,fI.set,!0)});var fV=fI.Map;ta({target:"Map",stat:!0,forced:!0},{keyBy:function(e,t){var n=new(P(this)?this:fV);em(t);var r=em(n.set);return ax(e,function(e){M(r,n,t(e),e)}),n}});var fH=fI.remove;ta({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e,t=fz(this),n=!0,r=0,i=arguments.length;r<i;r++)e=fH(t,arguments[r]),n=n&&e;return!!n}});var fZ=fI.get,fK=fI.has,fW=fI.set;ta({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(e,t){var n,r,i=fz(this);return fK(i,e)?(n=fZ(i,e),"update"in t&&(n=t.update(n,e,i),fW(i,e,n)),n):(r=t.insert(e,i),fW(i,e,r),r)}});var f$=function(e,t,n){return n?cS(e.entries(),function(e){return t(e[1],e[0])},!0):e.forEach(t)};ta({target:"Map",proto:!0,real:!0,forced:!0},{every:function(e){var t=fz(this),n=e1(e,arguments.length>1?arguments[1]:void 0);return!1!==f$(t,function(e,r){if(!n(e,r,t))return!1},!0)}});var fq=fI.Map,fX=fI.set;ta({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(e){var t=fz(this),n=e1(e,arguments.length>1?arguments[1]:void 0),r=new fq;return f$(t,function(e,i){n(e,i,t)&&fX(r,i,e)}),r}});ta({target:"Map",proto:!0,real:!0,forced:!0},{find:function(e){var t=fz(this),n=e1(e,arguments.length>1?arguments[1]:void 0),r=f$(t,function(e,r){if(n(e,r,t))return{value:e}},!0);return r&&r.value}});ta({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(e){var t=fz(this),n=e1(e,arguments.length>1?arguments[1]:void 0),r=f$(t,function(e,r){if(n(e,r,t))return{key:r}},!0);return r&&r.key}});ta({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(e){return!0===f$(fz(this),function(t){var n,r;if((n=t)===(r=e)||n!=n&&r!=r)return!0},!0)}});ta({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(e){var t=f$(fz(this),function(t,n){if(t===e)return{key:n}},!0);return t&&t.key}});var fJ=fI.Map,fY=fI.set;ta({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(e){var t=fz(this),n=e1(e,arguments.length>1?arguments[1]:void 0),r=new fJ;return f$(t,function(e,i){fY(r,n(e,i,t),e)}),r}});var fQ=fI.Map,f0=fI.set;ta({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(e){var t=fz(this),n=e1(e,arguments.length>1?arguments[1]:void 0),r=new fQ;return f$(t,function(e,i){f0(r,i,n(e,i,t))}),r}});var f1=fI.set;ta({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(e){for(var t=fz(this),n=arguments.length,r=0;r<n;)ax(arguments[r++],function(e,n){f1(t,e,n)},{AS_ENTRIES:!0});return t}});var f2=TypeError;ta({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=fz(this),n=arguments.length<2,r=n?void 0:arguments[1];if(em(e),f$(t,function(i,o){n?(n=!1,r=i):r=e(r,i,o,t)}),n)throw new f2("Reduce of empty map with no initial value");return r}});ta({target:"Map",proto:!0,real:!0,forced:!0},{some:function(e){var t=fz(this),n=e1(e,arguments.length>1?arguments[1]:void 0);return!0===f$(t,function(e,r){if(n(e,r,t))return!0},!0)}});var f5=TypeError,f4=fI.get,f3=fI.has,f6=fI.set;ta({target:"Map",proto:!0,real:!0,forced:!0},{update:function(e,t){var n=fz(this),r=arguments.length;em(t);var i=f3(n,e);if(!i&&r<3)throw new f5("Updating absent value");var o=i?f4(n,e):em(r>2?arguments[2]:void 0)(e,n);return f6(n,e,t(o,e,n)),n}});var f9=TypeError,f7=function(e,t){var n,r=e6(this),i=em(r.get),o=em(r.has),a=em(r.set),s=arguments.length>2?arguments[2]:void 0;if(!P(t)&&!P(s))throw new f9("At least one callback required");return M(o,r,e)?(n=M(i,r,e),P(t)&&M(a,r,e,n=t(n))):P(s)&&M(a,r,e,n=s()),n};ta({target:"Map",proto:!0,real:!0,forced:!0},{upsert:f7});ta({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:f7});var f8=f(fL),pe=f(iJ),pt=lx(function e(t){lk(this,e),oX(this,"inst",void 0),this.inst=t.inst},[{key:"getInst",value:function(){return this.inst}},{key:"getPlayerConfig",value:function(){var e;return null===(e=this.inst)||void 0===e?void 0:e.playerConfig}},{key:"getStrategyConfig",value:function(){var e;return null===(e=this.inst)||void 0===e?void 0:e.strategyConfig}}]),pn=lx(function e(){lk(this,e),oX(this,"players",void 0),this.players=new f8},[{key:"get",value:function(e){return this.players.get(e)}},{key:"addPlayer",value:function(e,t){return!(!e||this.players.get(e))&&(this.players.set(e,new pt(t)),!0)}},{key:"getPlayerList",value:function(){var e;return pe(fS(e=this.players).call(e))}},{key:"removePlayer",value:function(e){return!(!e||!this.players.get(e))&&(this.players.delete(e),!0)}}]),pr=lx(function e(t){lk(this,e),oX(this,"ctx",void 0),oX(this,"strategyMap",new f8),this.ctx=t},[{key:"registerStrategy",value:function(e){var t;return!(null==e||null===(t=e.Strategy)||void 0===t||!t.strategyName)&&(this.strategyMap.get(e.Strategy.strategyName)||this.strategyMap.set(e.Strategy.strategyName,{inst:new e.Strategy({ctx:this.ctx,config:e.config,strategyName:e.Strategy.strategyName,strategyCenter:this})}),!0)}},{key:"getStrategyInstByName",value:function(e){var t,n;return e&&null!==(t=this.strategyMap.get(e))&&void 0!==t&&t.inst&&(null===(n=this.strategyMap.get(e))||void 0===n?void 0:n.inst)||null}},{key:"getStrategyList",value:function(){var e,t;return uR(e=pe(fS(t=this.strategyMap).call(t))).call(e,function(e){return e.inst})}},{key:"getStrategyByName",value:function(e){return e&&this.strategyMap.get(e)?this.strategyMap.get(e):null}},{key:"registerAlgorithm",value:function(){}},{key:"getStrategyInstByNameAsync",value:function(){}},{key:"loadStrategySrcAsync",value:function(){}}]),pi=lx(function e(t){lk(this,e),oX(this,"tracker",void 0),oX(this,"_tea",void 0),oX(this,"ctx",void 0),oX(this,"options",void 0),this.ctx=t.cxt,this.options=t,this.initTracker(t),this.bindABVersion()},[{key:"bindTrackerABVersion",value:function(e){var t,n,r,i=this;!this._tea&&e&&null!==(t=this.options)&&void 0!==t&&null!==(t=t.trackInfo)&&void 0!==t&&t.enableABVersion&&(this._tea=e,null===(n=this._tea)||void 0===n||null===(r=n.filterEvent)||void 0===r||r.call(n,function(e){var t,n;return null==e||null===(t=e[0])||void 0===t||null===(t=t.events)||void 0===t||null===(n=lI(t))||void 0===n||n.call(t,function(e){var t,n,r,o=((null===(t=i.ctx)||void 0===t||null===(t=t.dataCenter)||void 0===t?void 0:t.getServiceStrategyConfig())||{}).libra_ab_version;!o||!e||null!==(n=e.ab_sdk_version)&&void 0!==n&&hu(n).call(n,o)||(e.ab_sdk_version=e.ab_sdk_version?uu(r="".concat(e.ab_sdk_version,",")).call(r,o):"".concat(o))}),e}))}},{key:"track",value:function(e,t){var n,r;"function"==typeof this.tracker?this.tracker(e,t):null===(n=this.tracker)||void 0===n||null===(r=n.event)||void 0===r||r.call(n,e,t)}},{key:"initTracker",value:function(e){var t,n;if(hu(t=[u0.LIVE,u0.VOD]).call(t,e.type)&&null!==(n=e.trackInfo)&&void 0!==n&&n.Collector&&"undefined"!=typeof window){var r="__vestrategy_".concat(e.type,"_tracker__");if(!window[r]){this.tracker=window[r]=new e.trackInfo.Collector("".concat(e.type,"_tracker")),this.tracker.init({app_id:e.appId,channel:e.channel||u1.CN,log:!1,disable_sdk_monitor:!0});var i=oY({play_type:e.type===u0.VOD?0:1,line_app_id:e.lineAppId,line_user_id:e.lineUserId},function(e){if(!e||"[object Object]"!==Object.prototype.toString.call(e))return{};var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))t[n.replace(/[A-Z]/g,function(e){return"_".concat(e.toLowerCase())})]=e[n];return t}(this.ctx.featureCenter.getFeatureList()));return this.tracker.config(oY(oY({},i),{},{user_unique_id:e.lineUserId,disable_auto_pv:!0})),void this.tracker.start()}this.tracker=window[r]}}},{key:"bindABVersion",value:function(){var e,t,n=this;this.tracker&&(null===(e=this.tracker)||void 0===e||null===(t=e.filterEvent)||void 0===t||t.call(e,function(e){var t,r;return null==e||null===(t=e[0])||void 0===t||null===(t=t.events)||void 0===t||null===(r=lI(t))||void 0===r||r.call(t,function(e){var t,r=((null===(t=n.ctx)||void 0===t||null===(t=t.dataCenter)||void 0===t?void 0:t.getServiceStrategyConfig())||{}).libra_ab_version;r&&e&&(e.ab_sdk_version="".concat(r))}),e}))}}]),po=new u7("VeStrategy-BasePlugin"),pa=function(){function e(t){lk(this,e),oX((n=this,r=e,i=[t],r=uV(r),c=uD(n,uG()?uK(r,i||[],uV(n).constructor):r.apply(n,i))),"ctx",void 0),oX(c,"strategyCenter",void 0),oX(c,"videoType",void 0),oX(c,"playerLogEventHandler",function(e,t){var n,r;return"string"==typeof e?null===(n=c.ctx)||void 0===n||null===(n=n.tracker)||void 0===n||null===(r=n.track)||void 0===r?void 0:r.call(n,e,t):lA(e)?lI(e).call(e,function(e){var t,n,r=e.eventName,i=e.params;null===(t=c.ctx)||void 0===t||null===(t=t.tracker)||void 0===t||null===(n=t.track)||void 0===n||n.call(t,r,i)}):void 0});var n,r,i,o,a,s,l,c,u=c.config;c.ctx=u.ctx,c.videoType=u.videoType,c.strategyCenter=u.strategyCenter,po.update(null===(o=c.ctx)||void 0===o||null===(o=o.dataCenter)||void 0===o||null===(o=o.getAppConfig())||void 0===o?void 0:o.log);var h={playerId:c.player.playerId,playerConfig:null,strategyConfig:null,strategyCenter:c.strategyCenter};return h_(h,"playerConfig",{get:function(){return c.player.config}}),h_(h,"strategyConfig",{get:function(){return u.strategyConfig}}),c.player.playerId&&c.ctx.playerManager.addPlayer(c.player.playerId,{inst:h}),null===(a=c.strategyCenter)||void 0===a||null===(s=a.getStrategyList)||void 0===s||lI(l=s.call(a)).call(l,function(e){var t,n;null==e||null===(t=e.setPlayerInst)||void 0===t||t.call(e,c.ctx.playerManager.get(c.player.playerId)),null==e||null===(n=e.onBasePluginCreated)||void 0===n||n.call(e,c.ctx.playerManager.get(c.player.playerId))}),po.info("BasePluginInit",t.config),c}return uZ(e,uW),lx(e,[{key:"afterPlayerInit",value:function(){var e,t,n;this.player.on("abLog",this.playerLogEventHandler),this.videoType===u0.VOD&&(null===(e=this.ctx)||void 0===e||null===(e=e.tracker)||void 0===e||null===(t=e.bindTrackerABVersion)||void 0===t||t.call(e,null===(n=this.player)||void 0===n||null===(n=n.vodLogger)||void 0===n?void 0:n.tracker)),this.videoType,u0.LIVE}},{key:"patchEvent",value:function(e,t){var n,r,i,o,a=this;null===(n=this.strategyCenter)||void 0===n||null===(r=n.getStrategyList)||void 0===r||lI(i=r.call(n)).call(i,function(n){var r;null==n||null===(r=n.onPlayerEvent)||void 0===r||r.call(n,e,{inst:n,options:t})}),null===(o=this.ctx.playerManager.getPlayerList())||void 0===o||lI(o).call(o,function(n){var r,i,o;(null==n||null===(r=n.getInst)||void 0===r||null===(r=r.call(n))||void 0===r?void 0:r.playerId)!==a.player.playerId&&(null==n||null===(i=n.getInst)||void 0===i||null===(i=i.call(n))||void 0===i||null===(i=i.strategyCenter)||void 0===i||null===(o=i.getStrategyList)||void 0===o||null===(o=o.call(i))||void 0===o||lI(o).call(o,function(r){var i;null==r||null===(i=r.onGlobalEvent)||void 0===i||i.call(r,e,{inst:n,options:t})}))})}},{key:"afterCreate",value:function(){var e=this;this.player.on(u$.Play,function(t){e.patchEvent(u$.Play,t),po.info("Event",u$.Play)})}},{key:"destroy",value:function(){this.ctx.playerManager.removePlayer(this.player.playerId),this.player.off("abLog",this.playerLogEventHandler)}}],[{key:"pluginName",get:function(){return"veStrategyBasePlugin"}},{key:"defaultConfig",get:function(){return{text:"策略基础插件"}}}])}(),ps=lx(function e(){lk(this,e)},[{key:"apply",value:function(e,t){var n,r,i=this,o=t||{},a=o.plugins,s=o.pluginConfiguration,l=o.result;return e?(null!=a&&a.length&&lA(e.presets)?e.presets.unshift(lx(function e(){lk(this,e),oX(this,"plugins",a)})):null!=a&&a.length&&lA(e.plugins)&&(e.plugins=uu(a).call(a,e.plugins)),null!=a&&a.length&&s&&lI(r=lO(s)).call(r,function(t){e[t]=s[t]}),l&&lI(n=lO(l)).call(n,function(t){t===u5.adaptRange&&i.adaptRange(e,l[t])}),e):e}},{key:"_findConfig",value:function(e,t){var n;return dq(n=lO(e)).call(n,function(e){return(null==e?void 0:e.toLowerCase())===t})}},{key:"adaptRange",value:function(e,t){if(null==t||!t.enable||!e||null==t||!t._vtype||!hu(n=[u2.MP4,u2.DASH]).call(n,t._vtype))return e;var n,r,i=this._findConfig(e,t._vtype===u2.MP4?"mp4encryptplayer":"dashplugin");return i&&e[i]&&t.options&&(e[i].adaptRange=oY(oY({},null!==(r=e[i].adaptRange)&&void 0!==r?r:{}),t.options)),e}}]),pl=function(){function e(){var t,n,r;return lk(this,e),t=this,n=e,r=arguments,n=uV(n),uD(t,uG()?uK(n,r||[],uV(t).constructor):n.apply(t,r))}return uZ(e,ps),lx(e,[{key:"apply",value:function(e,t){var n,r,i=t||{},o=i.plugins,a=i.pluginConfiguration,s=i.result;if(!e)return e;if(this.normalizeConfig(e),null!=o&&o.length&&lA(null===(n=e.preset)||void 0===n?void 0:n.plugins)){var l=e.preset.plugins;lI(o).call(o,function(e){-1===d9(l).call(l,e)&&l.push(e)})}if(a){var c,u=e.preset.pluginsConfig;lI(c=lO(a)).call(c,function(e){u[e]=a[e]})}return s&&(lI(r=lO(s)).call(r,function(e){s[e]&&!1===s[e].transferToPluginConfig&&delete s[e]}),lz(e.baseConfig,s)),e}},{key:"normalizeConfig",value:function(e){e.preset||(e.preset={}),lA(e.preset.plugins)||(e.preset.plugins=[]),"object"!==ot(e.preset.pluginsConfig)&&(e.preset.pluginsConfig={})}}])}(),pc=new u7("DyStrategy"),pu=oX({},u0.VOD,pl),ph=function(){var e,t,n,r,i;function o(e){lk(this,o),oX(this,"ctx",void 0),oX(this,"configPreparePromise",void 0),oX(this,"isStrategyStarted",!1);var t=new fy(e),n=new hy(e,null);pc.update(e.log),this.ctx={dataCenter:n,featureCenter:t,playerManager:new pn,tracker:new pi({trackInfo:e.tracker,type:e.type||u0.VOD,lineAppId:e.appId,lineUserId:e.deviceId,appId:(e.type,u0.VOD,void 0),channel:e.region,cxt:{dataCenter:n,featureCenter:t}})},this.prepare(!0)}return lx(o,[{key:"start",value:(i=lE(lw().mark(function e(){var t,n,r=this;return lw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isStrategyStarted){e.next=1;break}return e.abrupt("return");case 1:if(this.isStrategyStarted=!0,pc.info("Start"),this.ctx.tracker.track("strategy_start",{}),this.ctx.featureCenter.getFeatureList().deviceId){e.next=4;break}return e.next=2,this.getTeaToken();case 2:if(n=e.sent){e.next=3;break}n={};case 3:t=n,this.ctx.featureCenter.updateFeatureList({deviceId:t.user_unique_id||t.web_id||""});case 4:return this.configPreparePromise=this.ctx.dataCenter.fetchStrategyConfig(),this.configPreparePromise.then(function(){return r.prepare(!1)}),e.abrupt("return",this.configPreparePromise);case 5:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"updateFeatures",value:(r=lE(lw().mark(function e(t){var n,r,i;return lw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&null!==(n=this.ctx)&&void 0!==n&&null!==(n=n.featureCenter)&&void 0!==n&&n.updateFeatureList){e.next=1;break}return e.abrupt("return");case 1:if(i=null===(r=this.ctx.featureCenter.getFeatureList())||void 0===r?void 0:r.deviceId,this.ctx.featureCenter.updateFeatureList(oY({},t)),!t.deviceId||t.deviceId===i){e.next=2;break}return e.abrupt("return",this.reloadConfig());case 2:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"reloadConfig",value:(n=lE(lw().mark(function e(){return lw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.configPreparePromise=this.ctx.dataCenter.fetchStrategyConfig(),e.abrupt("return",this.configPreparePromise);case 1:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"getTeaToken",value:(t=lE(lw().mark(function e(){var t=this;return lw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new lC(function(e){if("function"==typeof(null===(n=t.ctx.tracker)||void 0===n||null===(n=n.tracker)||void 0===n?void 0:n.getToken))return t.ctx.tracker.tracker.getToken(function(t){return e(t)});var n,r,i,o=((null===(r=t.ctx.tracker)||void 0===r||null===(r=r.tracker)||void 0===r||null===(i=r.getConfig)||void 0===i?void 0:i.call(r))||{}).user;return e(void 0===o?{}:o)}));case 1:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)})},{key:"prepare",value:function(e){var t,n=this,r=this.ctx.dataCenter.getInitStrategyConfig()||{},i=this.ctx.dataCenter.getServiceStrategyConfig()||{};lI(t=lO(r)).call(t,function(t){var o,a,s,l,c,u,h;(null===(o=r[t])||void 0===o?void 0:o.disabled)||(null==i||null===(a=i[t])||void 0===a?void 0:a.disabled)||null===(s=r[t])||void 0===s||null===(s=s.Strategy)||void 0===s||null===(l=s[e?"prepareBeforeStarted":"prepareAfterStarted"])||void 0===l||l.call(s,{ctx:n.ctx,Strategy:null===(c=r[t])||void 0===c?void 0:c.Strategy,config:oY(oY({},null===(u=r[t])||void 0===u?void 0:u.config),null==i||null===(h=i[t])||void 0===h?void 0:h.config)})})}}],[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(pc.update(null==e?void 0:e.log),(null!=e&&e.appId||t)&&e.strategies){var n={};if(lA(e.strategies))lI(r=e.strategies).call(r,function(e){n[e.Strategy.strategyName]=e});else{var r,i,a=e.strategies;lI(i=lO(a)).call(i,function(e){null!=a&&a[e]&&"object"===ot(null==a?void 0:a[e])&&(n[e]=a[e])})}var s=oY(oY({},e),{},{strategies:n,type:e.type||u0.VOD});if(pc.info("Init",s),s.type===u0.VOD||s.type===u0.LIVE){if(s.type===u0.VOD){if(o._vodInst=o._vodInst||new o(s),t){var l=lz({},o._vodInst.ctx.dataCenter.getAppConfig(),s);o._vodInst.ctx.dataCenter.setServiceStrategyConfig(l.strategies)}else o._vodInst.ctx.tracker.track("strategy_init",{});return o._vodInst}return o._liveInst=o._liveInst||new o(s),o._liveInst.ctx.tracker.track("strategy_init",{}),o._liveInst}pc.error("Init Invalid Strategy Type=".concat(e.type))}else pc.error("Init without appId or strategies",e)}},{key:"bootstrap",value:function(e){var t;return null===(t=o.init(e))||void 0===t?void 0:t.start()}},{key:"applyServerConfig",value:function(e){pc.info("reboot",e),e.strategies&&o.init(e,!0)}},{key:"inst",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u0.VOD;return e===u0.VOD?o._vodInst:e===u0.LIVE?o._liveInst:null}},{key:"recLive",value:function(e,t){return o.rec(e,t,u0.LIVE)}},{key:"recAsync",value:(e=lE(lw().mark(function e(t,n){var r,i,a=arguments;return lw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>2&&void 0!==a[2]?a[2]:u0.VOD,i=o.inst(r||u0.VOD),pc.info("recAsync",i,n,r),null!=i&&i.configPreparePromise){e.next=1;break}return pc.error("VeStrategyNotInitOrStart"),e.abrupt("return",{plugins:[],pluginConfiguration:{},result:{}});case 1:return e.next=2,i.configPreparePromise;case 2:return e.abrupt("return",o.rec(t,n,r));case 3:case"end":return e.stop()}},e)})),function(t,n){return e.apply(this,arguments)})},{key:"hybrid",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u0.VOD,r=o.rec(e,t,n);return o.apply(t,r)}},{key:"rec",value:function(e,t){var n,r,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u0.VOD,s={plugins:[],pluginConfiguration:{},result:{}},l={recResult:!t.baseConfig,vtype:(null===(n=t.baseConfig)||void 0===n?void 0:n.protocol)||u2.MP4,bitrate:(null===(r=t.baseConfig)||void 0===r||null===(r=r.mediaInfo)||void 0===r?void 0:r.bitrate)||0,duration:(null===(i=t.baseConfig)||void 0===i||null===(i=i.mediaInfo)||void 0===i?void 0:i.duration)||0};try{s=o._rec(e,l,a)}catch(t){pc.error("VeStrategyRecError");var c,u=o.inst(a);null==u||null===(c=u.ctx)||void 0===c||null===(c=c.tracker)||void 0===c||c.track("strategy_js_error",{type:a,option:l5(null!=e?e:{}),common_config:l5(null!=l?l:{})})}return s}},{key:"reportABInfo",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u0.VOD;u0.VOD!==r?u0.LIVE!==r||null===(t=o._liveInst)||void 0===t||null===(t=t.ctx)||void 0===t||null===(t=t.tracker)||void 0===t||t.bindTrackerABVersion(e):null===(n=o._vodInst)||void 0===n||null===(n=n.ctx)||void 0===n||null===(n=n.tracker)||void 0===n||n.bindTrackerABVersion(e)}},{key:"getServiceConfig",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u0.VOD;return u0.VOD===n?(null===(e=o._vodInst)||void 0===e||null===(e=e.ctx)||void 0===e||null===(e=e.dataCenter)||void 0===e?void 0:e.getServiceStrategyConfig())||{}:u0.LIVE===n&&(null===(t=o._liveInst)||void 0===t||null===(t=t.ctx)||void 0===t||null===(t=t.dataCenter)||void 0===t?void 0:t.getServiceStrategyConfig())||{}}},{key:"apply",value:function(e,t,n){var r;if(!e||!t)return e;if(((null==n?void 0:n.type)||u0.VOD)===u0.VOD&&null!==(r=o._vodInst)&&void 0!==r&&r.ctx){var i,a=(null==n?void 0:n.Adapter)||(null===(i=o._vodInst.ctx.dataCenter.getAppConfig())||void 0===i||null===(i=i.adapter)||void 0===i?void 0:i.Adapter)||pu[u0.VOD];a&&(e=(new a).apply(e,t))}return e}},{key:"_rec",value:function(e,t){var n,r,i,a,s,l,c,u,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u0.VOD,d=o.inst(h||u0.VOD);if(pc.info("rec",d,t,h),!d)return pc.error("VeStrategyNotInit"),{plugins:[],pluginConfiguration:{},result:{}};var f={plugins:[pa],pluginConfiguration:oX({},pa.pluginName,{}),result:{},strategyPluginKeys:pa.pluginName},p=new pr(d.ctx),v=d.ctx.dataCenter.getServiceStrategyConfig()||{},g=d.ctx.dataCenter.getInitStrategyConfig()||{},m=i7(new us(uu(n=lO(g)).call(n,lO(v))));lI(m).call(m,function(t){var n,r=g[t],i=v[t],o=null==e?void 0:e[t];if(null!=r&&r.disabled||null!=i&&i.disabled||null!=o&&o.disabled)pc.warn("StrategyDisabled",r,i,o);else{r.Strategy=(null==r?void 0:r.Strategy)||i.Strategy;var a,s,l=oY(oY(oY({},r),o),{},{config:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return lI(n).call(n,function(t){for(var n in t)"object"===ot(t[n])?e[n]=function e(t){if(null===t||"object"!==ot(t))return t;if(lA(t))return uR(t).call(t,function(t){return e(t)});var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}(t[n]):e[n]=t[n]}),e}({},null==r?void 0:r.config,null==i?void 0:i.config,(null==o?void 0:o.config)||o)});(null===(n=l.Strategy)||void 0===n?void 0:n.strategyName)===t?p.registerStrategy(l):pc.warn("StrategyNameIllegal",uu(a="".concat(null===(s=l.Strategy)||void 0===s?void 0:s.strategyName,"!==")).call(a,t))}}),lI(r=uC(i=p.getStrategyList()).call(i,function(e,t){return t.strategyPriority-e.strategyPriority})).call(r,function(e){try{r=(null==e||null===(i=e.getRecommendation)||void 0===i?void 0:i.call(e,t))||{plugins:[],pluginConfiguration:{},result:{}}}catch(t){return pc.error("StrategyRecommendError",t),void d.ctx.tracker.track("strategy_exe_error",{strategy_name:null==e?void 0:e.strategyName})}f.plugins=uu(n=f.plugins).call(n,r.plugins||[]),f.pluginConfiguration=oY(oY({},f.pluginConfiguration),r.pluginConfiguration);var n,r,i,o=!r.result||function(e){if("object"!==ot(e)||null===e)return!1;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(r.result)?null:oX({},e.strategyName,oY({},r.result));f.result=oY(oY({},f.result),o)});var y=d.ctx.dataCenter.getAppConfig();lI(a=lO(f.pluginConfiguration)).call(a,function(e){f.pluginConfiguration[e]=oY(oY({},f.pluginConfiguration[e]),{},{ctx:d.ctx,strategyCenter:p,videoType:null==y?void 0:y.type})}),pc.info("StrategyRecommendResult",f);var _=null!==(s=f.result)&&void 0!==s?s:{};return f.strategyKeys=uI(l=lO(_)).call(l,function(e){var t;return"object"===ot(_[e])&&(null===(t=_[e])||void 0===t?void 0:t.enable)}).join("|"),f.strategyPluginKeys=null===(c=f.plugins)||void 0===c||null===(u=uR(c))||void 0===u||null===(u=u.call(c,function(e){return null==e?void 0:e.pluginName}))||void 0===u?void 0:u.join("|"),d.ctx.tracker.track("strategy_rec_info",{strategy_keys:f.strategyKeys,strategy_plugin_keys:f.strategyPluginKeys,strategy_info:l5(f.result)}),f}}])}();oX(ph,"_vodInst",void 0),oX(ph,"_liveInst",void 0);var pd=f(oi),pf=f(rR),pp=f(iM),pv=f(i6),pg=v.Function,pm=/MSIE .\./.test(er)||"BUN"===aB&&((vP=v.Bun.version.split(".")).length<3||"0"===vP[0]&&(vP[1]<3||"3"===vP[1]&&"0"===vP[2])),py=function(e,t){var n=t?2:1;return pm?function(r,i){var o=aX(arguments.length,1)>n,a=P(r)?r:pg(r),s=o?np(arguments,n):[],l=o?function(){w(a,this,s)}:a;return t?e(l,i):e(l)}:e},p_=py(v.setInterval,!0);ta({global:!0,bind:!0,forced:v.setInterval!==p_},{setInterval:p_});var pb=py(v.setTimeout,!0);ta({global:!0,bind:!0,forced:v.setTimeout!==pb},{setTimeout:pb});var pw=J.setTimeout,pS=f(pw),pE=f(i8),pk=i5("Array","keys"),pT=Array.prototype,px={DOMTokenList:!0,NodeList:!0},pC=f(function(e){var t=e.keys;return e===pT||ee(pT,e)&&t===pT.keys||eO(px,tI(e))?pk:t}),pI=RangeError,pO=String.fromCharCode,pA=String.fromCodePoint,pP=T([].join);ta({target:"String",stat:!0,arity:1,forced:!!pA&&1!==pA.length},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,i=0;r>i;){if(t=+arguments[i++],tQ(t,1114111)!==t)throw new pI(t+" is not a valid code point");n[i]=t<65536?pO(t):pO(55296+((t-=65536)>>10),t%1024+56320)}return pP(n,"")}});var pR=eN("iterator"),pD=!g(function(){var e=new URL("b?a=1&b=2&c=3","https://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),r="";return e.pathname="c%20d",t.forEach(function(e,n){t.delete("b"),r+=n+e}),n.delete("a",2),n.delete("b",void 0),!e.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b")||!t.size||!t.sort||"https://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[pR]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://тест").host||"#%D0%B1"!==new URL("https://a#б").hash||"a1c3"!==r||"x"!==new URL("https://x",void 0).host}),pL=eN("iterator"),pM="URLSearchParams",pz=pM+"Iterator",pN=nB.set,pj=nB.getterFor(pM),pB=nB.getterFor(pz),pU=si("fetch"),pF=si("Request"),pG=si("Headers"),pV=pF&&pF.prototype,pH=pG&&pG.prototype,pZ=v.TypeError,pK=v.encodeURIComponent,pW=String.fromCharCode,p$=Q("String","fromCodePoint"),pq=parseInt,pX=T("".charAt),pJ=T([].join),pY=T([].push),pQ=T("".replace),p0=T([].shift),p1=T([].splice),p2=T("".split),p5=T("".slice),p4=T(/./.exec),p3=/\+/g,p6=/^[0-9a-f]+$/i,p9=function(e,t){var n=p5(e,t,t+2);return p4(p6,n)?pq(n,16):NaN},p7=function(e){for(var t=0,n=128;n>0&&0!=(e&n);n>>=1)t++;return t},p8=function(e){var t=null;switch(e.length){case 1:t=e[0];break;case 2:t=(31&e[0])<<6|63&e[1];break;case 3:t=(15&e[0])<<12|(63&e[1])<<6|63&e[2];break;case 4:t=(7&e[0])<<18|(63&e[1])<<12|(63&e[2])<<6|63&e[3]}return t>1114111?null:t},ve=function(e){for(var t=(e=pQ(e,p3," ")).length,n="",r=0;r<t;){var i=pX(e,r);if("%"===i){if("%"===pX(e,r+1)||r+3>t){n+="%",r++;continue}var o=p9(e,r+1);if(o!=o){n+=i,r++;continue}r+=2;var a=p7(o);if(0===a)i=pW(o);else{if(1===a||a>4){n+="�",r++;continue}for(var s=[o],l=1;l<a&&!(++r+3>t||"%"!==pX(e,r));){var c=p9(e,r+1);if(c!=c){r+=3;break}if(c>191||c<128)break;pY(s,c),r+=2,l++}if(s.length!==a){n+="�";continue}var u=p8(s);null===u?n+="�":i=p$(u)}}n+=i,r++}return n},vt=/[!'()~]|%20/g,vn={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},vr=function(e){return vn[e]},vi=function(e){return pQ(pK(e),vt,vr)},vo=rq(function(e,t){pN(this,{type:pz,target:pj(e).entries,index:0,kind:t})},pM,function(){var e=pB(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=null,r8(void 0,!0);var r=t[n];switch(e.kind){case"keys":return r8(r.key,!1);case"values":return r8(r.value,!1)}return r8([r.key,r.value],!1)},!0),va=function(e){this.entries=[],this.url=null,void 0!==e&&(X(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===pX(e,0)?p5(e,1):e:tq(e)))};va.prototype={type:pM,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,o,a,s,l=this.entries,c=iM(e);if(c)for(n=(t=iG(e,c)).next;!(r=M(n,t)).done;){if((a=M(o=(i=iG(e6(r.value))).next,i)).done||(s=M(o,i)).done||!M(o,i).done)throw new pZ("Expected sequence with length 2");pY(l,{key:tq(a.value),value:tq(s.value)})}else for(var u in e)eO(e,u)&&pY(l,{key:u,value:tq(e[u])})},parseQuery:function(e){if(e)for(var t,n,r=this.entries,i=p2(e,"&"),o=0;o<i.length;)(t=i[o++]).length&&pY(r,{key:ve(p0(n=p2(t,"="))),value:ve(pJ(n,"="))})},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)pY(n,vi((e=t[r++]).key)+"="+vi(e.value));return pJ(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var vs=function(){aH(this,vl);var e=pN(this,new va(arguments.length>0?arguments[0]:void 0));D||(this.size=e.entries.length)},vl=vs.prototype;if(ch(vl,{append:function(e,t){var n=pj(this);aX(arguments.length,2),pY(n.entries,{key:tq(e),value:tq(t)}),D||this.length++,n.updateURL()},delete:function(e){for(var t=pj(this),n=aX(arguments.length,1),r=t.entries,i=tq(e),o=n<2?void 0:arguments[1],a=void 0===o?o:tq(o),s=0;s<r.length;){var l=r[s];if(l.key!==i||void 0!==a&&l.value!==a)s++;else if(p1(r,s,1),void 0!==a)break}D||(this.size=r.length),t.updateURL()},get:function(e){var t=pj(this).entries;aX(arguments.length,1);for(var n=tq(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){var t=pj(this).entries;aX(arguments.length,1);for(var n=tq(e),r=[],i=0;i<t.length;i++)t[i].key===n&&pY(r,t[i].value);return r},has:function(e){for(var t=pj(this).entries,n=aX(arguments.length,1),r=tq(e),i=n<2?void 0:arguments[1],o=void 0===i?i:tq(i),a=0;a<t.length;){var s=t[a++];if(s.key===r&&(void 0===o||s.value===o))return!0}return!1},set:function(e,t){var n=pj(this);aX(arguments.length,1);for(var r,i=n.entries,o=!1,a=tq(e),s=tq(t),l=0;l<i.length;l++)(r=i[l]).key===a&&(o?p1(i,l--,1):(o=!0,r.value=s));o||pY(i,{key:a,value:s}),D||(this.size=i.length),n.updateURL()},sort:function(){var e=pj(this);ud(e.entries,function(e,t){return e.key>t.key?1:-1}),e.updateURL()},forEach:function(e){for(var t,n=pj(this).entries,r=e1(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new vo(this,"keys")},values:function(){return new vo(this,"values")},entries:function(){return new vo(this,"entries")}},{enumerable:!0}),n_(vl,pL,vl.entries,{name:"entries"}),n_(vl,"toString",function(){return pj(this).serialize()},{enumerable:!0}),D&&nb(vl,"size",{get:function(){return pj(this).entries.length},configurable:!0,enumerable:!0}),nP(vs,pM),ta({global:!0,constructor:!0,forced:!pD},{URLSearchParams:vs}),!pD&&P(pG)){var vc=T(pH.has),vu=T(pH.set),vh=function(e){if(X(e)){var t,n=e.body;if(tI(n)===pM)return vc(t=e.headers?new pG(e.headers):new pG,"content-type")||vu(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),nu(e,{body:G(0,tq(n)),headers:G(0,t)})}return e};if(P(pU)&&ta({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return pU(e,arguments.length>1?vh(arguments[1]):{})}}),P(pF)){var vd=function(e){return aH(this,pV),new pF(e,arguments.length>1?vh(arguments[1]):{})};pV.constructor=vd,vd.prototype=pV,ta({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:vd})}}var vf,vp,vv,vg,vm,vy,v_,vb,vw,vS,vE,vk,vT,vx,vC,vI,vO,vA,vP,vR,vD=/[^\0-\u007E]/,vL=/[.\u3002\uFF0E\uFF61]/g,vM="Overflow: input needs wider integers to process",vz=35,vN=RangeError,vj=T(vL.exec),vB=Math.floor,vU=String.fromCharCode,vF=T("".charCodeAt),vG=T([].join),vV=T([].push),vH=T("".replace),vZ=T("".split),vK=T("".toLowerCase),vW=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=vF(e,n++);if(i>=55296&&i<=56319&&n<r){var o=vF(e,n++);56320==(64512&o)?vV(t,((1023&i)<<10)+(1023&o)+65536):(vV(t,i),n--)}else vV(t,i)}return t},v$=function(e){return e+22+75*(e<26)},vq=function(e,t,n){var r=0;for(e=n?vB(e/700):e>>1,e+=vB(e/t);e>26*vz>>1;)e=vB(e/vz),r+=36;return vB(r+(vz+1)*e/(e+38))},vX=function(e){var t,n,r=[],i=(e=vW(e)).length,o=128,a=0,s=72;for(t=0;t<e.length;t++)(n=e[t])<128&&vV(r,vU(n));var l=r.length,c=l;for(l&&vV(r,"-");c<i;){var u=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=o&&n<u&&(u=n);var h=c+1;if(u-o>vB((2147483647-a)/h))throw new vN(vM);for(a+=(u-o)*h,o=u,t=0;t<e.length;t++){if((n=e[t])<o&&++a>2147483647)throw new vN(vM);if(n===o){for(var d=a,f=36;;){var p=f<=s?1:f>=s+26?26:f-s;if(d<p)break;var v=d-p,g=36-p;vV(r,vU(v$(p+v%g))),d=vB(v/g),f+=36}vV(r,vU(v$(d))),s=vq(a,h,c===l),a=0,c++}}a++,o++}return vG(r,"")},vJ=iO.codeAt,vY=function(e){var t,n,r=[],i=vZ(vH(vK(e),vL,"."),".");for(t=0;t<i.length;t++)vV(r,vj(vD,n=i[t])?"xn--"+vX(n):n);return vG(r,".")},vQ=vs,v0=pj,v1=nB.set,v2=nB.getterFor("URL"),v5=v.URL,v4=v.TypeError,v3=v.parseInt,v6=Math.floor,v9=Math.pow,v7=T("".charAt),v8=T(/./.exec),ge=T([].join),gt=T(1.1.toString),gn=T([].pop),gr=T([].push),gi=T("".replace),go=T([].shift),ga=T("".split),gs=T("".slice),gl=T("".toLowerCase),gc=T([].unshift),gu="Invalid scheme",gh="Invalid host",gd="Invalid port",gf=/[a-z]/i,gp=/[\d+-.a-z]/i,gv=/\d/,gg=/^0x/i,gm=/^[0-7]+$/,gy=/^\d+$/,g_=/^[\da-f]+$/i,gb=/[\0\t\n\r #%/:<>?@[\\\]^|]/,gw=/[\0\t\n\r #/:<>?@[\\\]^|]/,gS=/^[\u0000-\u0020]+/,gE=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,gk=/[\t\n\r]/g,gT=function(e){var t,n,r,i,o,a,s,l=ga(e,".");if(l.length&&""===l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(n=[],r=0;r<t;r++){if(""===(i=l[r]))return e;if(o=10,i.length>1&&"0"===v7(i,0)&&(o=v8(gg,i)?16:8,i=gs(i,8===o?1:2)),""===i)a=0;else{if(!v8(10===o?gy:8===o?gm:g_,i))return e;a=v3(i,o)}gr(n,a)}for(r=0;r<t;r++)if(a=n[r],r===t-1){if(a>=v9(256,5-t))return null}else if(a>255)return null;for(s=gn(n),r=0;r<n.length;r++)s+=n[r]*v9(256,3-r);return s},gx=function(e){var t,n,r,i,o,a,s,l=[0,0,0,0,0,0,0,0],c=0,u=null,h=0,d=function(){return v7(e,h)};if(":"===d()){if(":"!==v7(e,1))return;h+=2,u=++c}for(;d();){if(8===c)return;if(":"!==d()){for(t=n=0;n<4&&v8(g_,d());)t=16*t+v3(d(),16),h++,n++;if("."===d()){if(0===n||(h-=n,c>6))return;for(r=0;d();){if(i=null,r>0){if(!("."===d()&&r<4))return;h++}if(!v8(gv,d()))return;for(;v8(gv,d());){if(o=v3(d(),10),null===i)i=o;else{if(0===i)return;i=10*i+o}if(i>255)return;h++}l[c]=256*l[c]+i,2!=++r&&4!==r||c++}if(4!==r)return;break}if(":"===d()){if(h++,!d())return}else if(d())return;l[c++]=t}else{if(null!==u)return;h++,u=++c}}if(null!==u)for(a=c-u,c=7;0!==c&&a>0;)s=l[c],l[c--]=l[u+a-1],l[u+--a]=s;else if(8!==c)return;return l},gC=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n?r:t},gI=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)gc(t,e%256),e=v6(e/256);return ge(t,".")}if("object"==typeof e){for(t="",r=gC(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=gt(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},gO={},gA=lL({},gO,{" ":1,'"':1,"<":1,">":1,"`":1}),gP=lL({},gA,{"#":1,"?":1,"{":1,"}":1}),gR=lL({},gP,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),gD=function(e,t){var n=vJ(e,0);return n>32&&n<127&&!eO(t,e)?e:encodeURIComponent(e)},gL={ftp:21,file:null,http:80,https:443,ws:80,wss:443},gM=function(e,t){var n;return 2===e.length&&v8(gf,v7(e,0))&&(":"===(n=v7(e,1))||!t&&"|"===n)},gz=function(e){var t;return e.length>1&&gM(gs(e,0,2))&&(2===e.length||"/"===(t=v7(e,2))||"\\"===t||"?"===t||"#"===t)},gN={},gj={},gB={},gU={},gF={},gG={},gV={},gH={},gZ={},gK={},gW={},g$={},gq={},gX={},gJ={},gY={},gQ={},g0={},g1={},g2={},g5={},g4=function(e,t,n){var r,i,o,a=tq(e);if(t){if(i=this.parse(a))throw new v4(i);this.searchParams=null}else{if(void 0!==n&&(r=new g4(n,!0)),i=this.parse(a,null,r))throw new v4(i);(o=v0(new vQ)).bindURL(this),this.searchParams=o}};g4.prototype={type:"URL",parse:function(e,t,n){var r,i,o,a,s=t||gN,l=0,c="",u=!1,h=!1,d=!1;for(e=tq(e),t||(this.scheme="",this.username="",this.password="",this.host=null,this.port=null,this.path=[],this.query=null,this.fragment=null,this.cannotBeABaseURL=!1,e=gi(e,gS,""),e=gi(e,gE,"$1")),r=iZ(e=gi(e,gk,""));l<=r.length;){switch(i=r[l],s){case gN:if(!i||!v8(gf,i)){if(t)return gu;s=gB;continue}c+=gl(i),s=gj;break;case gj:if(i&&(v8(gp,i)||"+"===i||"-"===i||"."===i))c+=gl(i);else{if(":"!==i){if(t)return gu;c="",s=gB,l=0;continue}if(t&&(this.isSpecial()!==eO(gL,c)||"file"===c&&(this.includesCredentials()||null!==this.port)||"file"===this.scheme&&!this.host))return;if(this.scheme=c,t)return void(this.isSpecial()&&gL[this.scheme]===this.port&&(this.port=null));c="","file"===this.scheme?s=gX:this.isSpecial()&&n&&n.scheme===this.scheme?s=gU:this.isSpecial()?s=gH:"/"===r[l+1]?(s=gF,l++):(this.cannotBeABaseURL=!0,gr(this.path,""),s=g1)}break;case gB:if(!n||n.cannotBeABaseURL&&"#"!==i)return gu;if(n.cannotBeABaseURL&&"#"===i){this.scheme=n.scheme,this.path=np(n.path),this.query=n.query,this.fragment="",this.cannotBeABaseURL=!0,s=g5;break}s="file"===n.scheme?gX:gG;continue;case gU:if("/"!==i||"/"!==r[l+1]){s=gG;continue}s=gZ,l++;break;case gF:if("/"===i){s=gK;break}s=g0;continue;case gG:if(this.scheme=n.scheme,i===vR)this.username=n.username,this.password=n.password,this.host=n.host,this.port=n.port,this.path=np(n.path),this.query=n.query;else if("/"===i||"\\"===i&&this.isSpecial())s=gV;else if("?"===i)this.username=n.username,this.password=n.password,this.host=n.host,this.port=n.port,this.path=np(n.path),this.query="",s=g2;else{if("#"!==i){this.username=n.username,this.password=n.password,this.host=n.host,this.port=n.port,this.path=np(n.path),this.path.length--,s=g0;continue}this.username=n.username,this.password=n.password,this.host=n.host,this.port=n.port,this.path=np(n.path),this.query=n.query,this.fragment="",s=g5}break;case gV:if(this.isSpecial()&&("/"===i||"\\"===i))s=gZ;else{if("/"!==i){this.username=n.username,this.password=n.password,this.host=n.host,this.port=n.port,s=g0;continue}s=gK}break;case gH:if(s=gZ,"/"!==i||"/"!==v7(c,l+1))continue;l++;break;case gZ:if("/"!==i&&"\\"!==i){s=gK;continue}break;case gK:if("@"===i){u&&(c="%40"+c),u=!0,o=iZ(c);for(var f,p,v=0;v<o.length;v++){var g=o[v];if(":"!==g||d){var m=gD(g,gR);d?this.password+=m:this.username+=m}else d=!0}c=""}else if(i===vR||"/"===i||"?"===i||"#"===i||"\\"===i&&this.isSpecial()){if(u&&""===c)return"Invalid authority";l-=iZ(c).length+1,c="",s=gW}else c+=i;break;case gW:case g$:if(t&&"file"===this.scheme){s=gY;continue}if(":"!==i||h){if(i===vR||"/"===i||"?"===i||"#"===i||"\\"===i&&this.isSpecial()){if(this.isSpecial()&&""===c)return gh;if(t&&""===c&&(this.includesCredentials()||null!==this.port))return;if(a=this.parseHost(c))return a;if(c="",s=gQ,t)return;continue}"["===i?h=!0:"]"===i&&(h=!1),c+=i}else{if(""===c)return gh;if(a=this.parseHost(c))return a;if(c="",s=gq,t===g$)return}break;case gq:if(!v8(gv,i)){if(i===vR||"/"===i||"?"===i||"#"===i||"\\"===i&&this.isSpecial()||t){if(""!==c){var y=v3(c,10);if(y>65535)return gd;this.port=this.isSpecial()&&y===gL[this.scheme]?null:y,c=""}if(t)return;s=gQ;continue}return gd}c+=i;break;case gX:if(this.scheme="file","/"===i||"\\"===i)s=gJ;else{if(!n||"file"!==n.scheme){s=g0;continue}switch(i){case vR:this.host=n.host,this.path=np(n.path),this.query=n.query;break;case"?":this.host=n.host,this.path=np(n.path),this.query="",s=g2;break;case"#":this.host=n.host,this.path=np(n.path),this.query=n.query,this.fragment="",s=g5;break;default:gz(ge(np(r,l),""))||(this.host=n.host,this.path=np(n.path),this.shortenPath()),s=g0;continue}}break;case gJ:if("/"===i||"\\"===i){s=gY;break}n&&"file"===n.scheme&&!gz(ge(np(r,l),""))&&(gM(n.path[0],!0)?gr(this.path,n.path[0]):this.host=n.host),s=g0;continue;case gY:if(i===vR||"/"===i||"\\"===i||"?"===i||"#"===i){if(!t&&gM(c))s=g0;else if(""===c){if(this.host="",t)return;s=gQ}else{if(a=this.parseHost(c))return a;if("localhost"===this.host&&(this.host=""),t)return;c="",s=gQ}continue}c+=i;break;case gQ:if(this.isSpecial()){if(s=g0,"/"!==i&&"\\"!==i)continue}else if(t||"?"!==i){if(t||"#"!==i){if(i!==vR&&(s=g0,"/"!==i))continue}else this.fragment="",s=g5}else this.query="",s=g2;break;case g0:if(i===vR||"/"===i||"\\"===i&&this.isSpecial()||!t&&("?"===i||"#"===i)){;if(".."===(f=gl(f=c))||"%2e."===f||".%2e"===f||"%2e%2e"===f?(this.shortenPath(),"/"===i||"\\"===i&&this.isSpecial()||gr(this.path,"")):"."===(p=c)||"%2e"===gl(p)?"/"===i||"\\"===i&&this.isSpecial()||gr(this.path,""):("file"===this.scheme&&!this.path.length&&gM(c)&&(this.host&&(this.host=""),c=v7(c,0)+":"),gr(this.path,c)),c="","file"===this.scheme&&(i===vR||"?"===i||"#"===i))for(;this.path.length>1&&""===this.path[0];)go(this.path);"?"===i?(this.query="",s=g2):"#"===i&&(this.fragment="",s=g5)}else c+=gD(i,gP);break;case g1:"?"===i?(this.query="",s=g2):"#"===i?(this.fragment="",s=g5):i!==vR&&(this.path[0]+=gD(i,gO));break;case g2:t||"#"!==i?i!==vR&&("'"===i&&this.isSpecial()?this.query+="%27":this.query+="#"===i?"%23":gD(i,gO)):(this.fragment="",s=g5);break;case g5:i!==vR&&(this.fragment+=gD(i,gA))}l++}},parseHost:function(e){var t,n,r;if("["===v7(e,0)){if("]"!==v7(e,e.length-1)||!(t=gx(gs(e,1,-1))))return gh;this.host=t}else if(this.isSpecial()){if(v8(gb,e=vY(e))||null===(t=gT(e)))return gh;this.host=t}else{if(v8(gw,e))return gh;for(t="",n=iZ(e),r=0;r<n.length;r++)t+=gD(n[r],gO);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return eO(gL,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&gM(e[0],!0)||e.length--},serialize:function(){var e=this.scheme,t=this.username,n=this.password,r=this.host,i=this.port,o=this.path,a=this.query,s=this.fragment,l=e+":";return null!==r?(l+="//",this.includesCredentials()&&(l+=t+(n?":"+n:"")+"@"),l+=gI(r),null!==i&&(l+=":"+i)):"file"===e&&(l+="//"),l+=this.cannotBeABaseURL?o[0]:o.length?"/"+ge(o,"/"):"",null!==a&&(l+="?"+a),null!==s&&(l+="#"+s),l},setHref:function(e){var t=this.parse(e);if(t)throw new v4(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new g3(e.path[0]).origin}catch(e){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+gI(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(tq(e)+":",gN)},getUsername:function(){return this.username},setUsername:function(e){var t=iZ(tq(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=gD(t[n],gR)}},getPassword:function(){return this.password},setPassword:function(e){var t=iZ(tq(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=gD(t[n],gR)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?gI(e):gI(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,gW)},getHostname:function(){var e=this.host;return null===e?"":gI(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,g$)},getPort:function(){var e=this.port;return null===e?"":tq(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=tq(e))?this.port=null:this.parse(e,gq))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+ge(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,gQ))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""===(e=tq(e))?this.query=null:("?"===v7(e,0)&&(e=gs(e,1)),this.query="",this.parse(e,g2)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!==(e=tq(e))?("#"===v7(e,0)&&(e=gs(e,1)),this.fragment="",this.parse(e,g5)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var g3=function(e){var t=aH(this,g6),n=aX(arguments.length,1)>1?arguments[1]:void 0,r=v1(t,new g4(e,!1,n));D||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},g6=g3.prototype,g9=function(e,t){return{get:function(){return v2(this)[e]()},set:t&&function(e){return v2(this)[t](e)},configurable:!0,enumerable:!0}};if(D&&(nb(g6,"href",g9("serialize","setHref")),nb(g6,"origin",g9("getOrigin")),nb(g6,"protocol",g9("getProtocol","setProtocol")),nb(g6,"username",g9("getUsername","setUsername")),nb(g6,"password",g9("getPassword","setPassword")),nb(g6,"host",g9("getHost","setHost")),nb(g6,"hostname",g9("getHostname","setHostname")),nb(g6,"port",g9("getPort","setPort")),nb(g6,"pathname",g9("getPathname","setPathname")),nb(g6,"search",g9("getSearch","setSearch")),nb(g6,"searchParams",g9("getSearchParams")),nb(g6,"hash",g9("getHash","setHash"))),n_(g6,"toJSON",function(){return v2(this).serialize()},{enumerable:!0}),n_(g6,"toString",function(){return v2(this).serialize()},{enumerable:!0}),v5){var g7=v5.createObjectURL,g8=v5.revokeObjectURL;g7&&n_(g3,"createObjectURL",e1(g7,v5)),g8&&n_(g3,"revokeObjectURL",e1(g8,v5))}nP(g3,"URL"),ta({global:!0,constructor:!0,forced:!pD,sham:!D},{URL:g3});var me=Q("URL"),mt=pD&&g(function(){me.canParse()}),mn=g(function(){return 1!==me.canParse.length});ta({target:"URL",stat:!0,forced:!mt||mn},{canParse:function(e){var t=aX(arguments.length,1),n=tq(e),r=t<2||void 0===arguments[1]?void 0:tq(arguments[1]);try{return new me(n,r),!0}catch(e){return!1}}});var mr=Q("URL");ta({target:"URL",stat:!0,forced:!pD},{parse:function(e){var t=aX(arguments.length,1),n=tq(e),r=t<2||void 0===arguments[1]?void 0:tq(arguments[1]);try{return new mr(n,r)}catch(e){return null}}});var mi=J.URL,mo=f(mi),ma=T(z.f),ms=T([].push),ml=D&&g(function(){var e=Object.create(null);return e[2]=2,!ma(e,2)}),mc=function(e){return function(t){for(var n,r=q(t),i=t9(r),o=ml&&null===rV(r),a=i.length,s=0,l=[];a>s;)n=i[s++],(!D||(o?n in r:ma(r,n)))&&ms(l,e?[n,r[n]]:r[n]);return l}},mu={entries:mc(!0),values:mc(!1)},mh=mu.entries;ta({target:"Object",stat:!0},{entries:function(e){return mh(e)}});var md,mf,mp=J.Object.entries,mv=f(mp),mg=J.setInterval,mm=f(mg),my=v.RegExp,m_={correct:!g(function(){var e=!0;try{my(".","d")}catch(t){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",i=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in e&&(o.hasIndices="d"),o)i(a,o[a]);return Object.getOwnPropertyDescriptor(my.prototype,"flags").get.call(t)!==r||n!==r})},mb=function(){var e=e6(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},mw=RegExp.prototype,mS=m_.correct?function(e){return e.flags}:function(e){return m_.correct||!ee(mw,e)||eO(e,"flags")?e.flags:M(mb,e)},mE=RegExp.prototype,mk=f(function(e){return e===mE||ee(mE,e)?mS(e):e.flags}),mT=f(ac),mx=function(){return(mx=lz||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function mC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>d9(t).call(t,r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof pd){var i=0;for(r=pd(e);i<r.length;i++)0>d9(t).call(t,r[i])&&(n[r[i]]=e[r[i]])}return n}function mI(e,t){var n="function"==typeof pf&&pp(e);if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function mO(){for(var e=[],t=0;t<arguments.length;t++)e=uu(e).call(e,mI(arguments[t]));return e}var mA,mP=function(){function e(){this._hooks={},this._cache=[],this._hooksCache={}}return e.prototype.on=function(e,t){e&&t&&"function"==typeof t&&(this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t))},e.prototype.once=function(e,t){var n=this;e&&t&&"function"==typeof t&&this.on(e,function r(i){t(i),n.off(e,r)})},e.prototype.off=function(e,t){if(e&&this._hooks[e]&&this._hooks[e].length){if(t){var n,r,i=d9(n=this._hooks[e]).call(n,t);-1!==i&&fr(r=this._hooks[e]).call(r,i,1)}else this._hooks[e]=[]}},e.prototype.emit=function(e,t,n){if(n){var r;e&&(-1!==d9(r=this._cache).call(r,n)?this._emit(e,t):(this._hooksCache.hasOwnProperty(n)||(this._hooksCache[n]={}),this._hooksCache[n].hasOwnProperty(e)||(this._hooksCache[n][e]=[]),this._hooksCache[n][e].push(t)))}else this._emit(e,t)},e.prototype._emit=function(e,t){var n;e&&this._hooks[e]&&this._hooks[e].length&&lI(n=mO(this._hooks[e])).call(n,function(e){try{e(t)}catch(e){}})},e.prototype.set=function(e){var t;e&&-1===d9(t=this._cache).call(t,e)&&this._cache.push(e)},e}(),mR=function(e){return null!=e&&"[object Object]"==Object.prototype.toString.call(e)},mD=function(e){return lA(e)},mL=(mA=+uQ()+Number(pv(md=""+Math.random()).call(md,2,8)),function(){return mA+=1}),mM=function(e){return function(e,t,n){if("string"==typeof e&&"number"==typeof n){var r,i=[],o=String.fromCharCode((n=n<=25?n:n%25)+97);r=e.split(o);for(var a=0;a<r.length;a++){var s=dh(r[a],n),l=String.fromCharCode(s=1*s^64);i.push(l)}return i.join("")}}(e,0,25)},mz=function(){return!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},mN=function(e){mz()?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1)},mj=function(){var e,t=0;return lI(e=["hidden","msHidden","webkitHidden"]).call(e,function(e){void 0!==document[e]&&(t=1)}),t},mB=function(e,t){void 0===e&&(e=function(){}),void 0===t&&(t=1e3);var n,r=uQ()+t;return n=pS(function i(){var o=uQ()-r;e(),r+=t,n=pS(i,Math.max(0,t-o))},t),function(){window.clearTimeout(n)}},mU=function(e){var t=document.createElement("a");return t.href=e,t},mF=function(e){var t={};try{var n,r=mU(e).search;if(!r)return t;lI(n=(r=pv(r).call(r,1)).split("&")).call(n,function(e){var n,r,i=e.split("=");i.length&&(n=i[0],r=i[1]);try{t[n]=decodeURIComponent(void 0===r?"":r)}catch(e){t[n]=r}})}catch(e){}return t},mG=function(e){for(var t=0,n=0,r=(e+="").length,i=0;i<r;i++)((t=31*t+e.charCodeAt(n++))>0x7fffffffffff||t<-140737488355328)&&(t&=0xffffffffffff);return t<0&&(t+=0x7ffffffffffff),t},mV="undefined"!=typeof window?window:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{};function mH(){throw Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function mZ(e,t){return e(t={exports:{}},t.exports),t.exports}var mK,mW,m$=mZ(function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=l5(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in o)o[l]&&(s+="; "+l,!0!==o[l]&&(s+="="+o[l].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),l=pv(s).call(s,1).join("=");n||'"'!==l.charAt(0)||(l=pv(l).call(l,1,-1));try{var c=t(s[0]);if(l=(r.read||r)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(i[c]=l,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}(function(){})},e.exports=n()}),mq=(mZ(function(e,t){e.exports=(function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(!s&&mH)return mH(a,!0);if(o)return o(a,!0);var l=Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){return i(t[a][1][e]||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o=mH,a=0;a<r.length;a++)i(r[a]);return i})({1:[function(e,t,n){(function(e){var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,a=new i(u),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){pS(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,n=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||n()}}).call(this,void 0!==mV?mV:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){var r=e(1);function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&f(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){r(function(){var r;try{r=t(n)}catch(t){return o.reject(e,t)}r===e?o.reject(e,TypeError("Cannot resolve promise with itself")):o.resolve(e,r)})}function d(e){var t=e&&e.then;if(e&&("object"==ot(e)||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var a=p(function(){t(i,r)});"error"===a.status&&r(a.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(i);return this.state!==l?h(n,this.state===s?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){o.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(d,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)f(e,r);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=Array(n),s=0,l=-1,c=new this(i);++l<n;)(function(e,i){t.resolve(e).then(function(e){a[i]=e,++s!==n||r||(r=!0,o.resolve(c,a))},function(e){r||(r=!0,o.reject(c,e))})})(e[l],l);return c},c.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var r,a=-1,s=new this(i);++a<t;)r=e[a],this.resolve(r).then(function(e){n||(n=!0,o.resolve(s,e))},function(e){n||(n=!0,o.reject(s,e))});return s}},{1:1}],3:[function(e,t,n){(function(t){"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==mV?mV:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){var r,i="function"==typeof pf&&"symbol"==ot(pE)?function(e){return ot(e)}:function(e){return e&&"function"==typeof pf&&e.constructor===pf&&e!==pf.prototype?"symbol":ot(e)},o=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function a(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}void 0===lC&&e(3);function s(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function l(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function c(e){return"string"!=typeof e&&(e=String(e)),e}function u(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",d=void 0,f={},p=Object.prototype.toString,v="readonly",g="readwrite";function m(e){var t=f[e.name],n={};n.promise=new lC(function(e,t){n.resolve=e,n.reject=t}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function y(e){var t=f[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function _(e,t){var n=f[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function b(e,t){return new lC(function(n,r){if(f[e.name]=f[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);m(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var a=o.open.apply(o,i);t&&(a.onupgradeneeded=function(t){var n=a.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(h)}catch(e){if("ConstraintError"!==e.name)throw e}}),a.onerror=function(e){e.preventDefault(),r(a.error)},a.onsuccess=function(){var t=a.result;t.onversionchange=function(e){e.target.close()},n(t),y(e)}})}function w(e){return b(e,!1)}function S(e){return b(e,!0)}function E(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version,e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function k(e){return a([function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(atob(e.data))],{type:e.type})}function T(e){return e&&e.__local_forage_encoded_blob}function x(e){var t=this,n=t._initReady().then(function(){var e=f[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return l(n,e,e),n}function C(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return lC.resolve().then(function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),b(e,!0)}).then(function(){return(function(e){m(e);for(var t=f[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,b(e,!1).then(function(t){return e.db=t,E(e)?b(e,!0):t}).then(function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r}).catch(function(t){throw _(e,t),t})})(e).then(function(){C(e,t,n,r-1)})}).catch(n);n(i)}}var I={_driver:"asyncStorage",_initStorage:function(e){var t,n=this,r={db:null};if(e)for(var i in e)r[i]=e[i];var o=f[r.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},f[r.name]=o),o.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=x);var a=[];function s(){return lC.resolve()}for(var l=0;l<o.forages.length;l++){var c=o.forages[l];c!==n&&a.push(c._initReady().catch(s))}var u=pv(t=o.forages).call(t,0);return lC.all(a).then(function(){return r.db=o.db,b(r,!1)}).then(function(e){return r.db=e,E(r,n._defaultConfig.version)?b(r,!0):e}).then(function(e){r.db=o.db=e,n._dbInfo=r;for(var t=0;t<u.length;t++){var i=u[t];i!==n&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}})},_support:function(){try{if(!o||!o.open)return!1;var e,t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n="function"==typeof fetch&&-1!==d9(e=fetch.toString()).call(e,"[native code");return(!t||n)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new lC(function(t,r){n.ready().then(function(){C(n._dbInfo,v,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;T(r)&&(r=k(r));var i=e(r,n.key,s++);void 0!==i?t(i):n.continue()}else t()},a.onerror=function(){r(a.error)}}catch(e){r(e)}})}).catch(r)});return s(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=new lC(function(t,r){n.ready().then(function(){C(n._dbInfo,v,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),T(e)&&(e=k(e)),t(e)},a.onerror=function(){r(a.error)}}catch(e){r(e)}})}).catch(r)});return s(r,t),r},setItem:function(e,t,n){var r=this;e=c(e);var i=new lC(function(n,i){var o;r.ready().then(function(){return o=r._dbInfo,"[object Blob]"===p.call(t)?(function(e){return"boolean"==typeof d?lC.resolve(d):new lC(function(t){var n=e.transaction(h,g),r=a([""]);n.objectStore(h).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/);t(navigator.userAgent.match(/Edge\//)||!e||dh(e[1],10)>=43)}}).catch(function(){return!1}).then(function(e){return d=e})})(o.db).then(function(e){return e?t:new lC(function(e,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){e({__local_forage_encoded_blob:!0,data:btoa(n.target.result||""),type:t.type})},r.readAsBinaryString(t)})}):t}).then(function(t){C(r._dbInfo,g,function(o,a){if(o)return i(o);try{var s=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var l=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){try{var e=l.error?l.error:l.transaction.error;i(e)}catch(e){i(e)}}}catch(e){i(e)}})}).catch(i)});return s(i,n),i},removeItem:function(e,t){var n=this;e=c(e);var r=new lC(function(t,r){n.ready().then(function(){C(n._dbInfo,g,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(a.error)},o.onabort=function(){try{var e=a.error?a.error:a.transaction.error;r(e)}catch(e){r(e)}}}catch(e){r(e)}})}).catch(r)});return s(r,t),r},clear:function(e){var t=this,n=new lC(function(e,n){t.ready().then(function(){C(t._dbInfo,g,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){try{var e=o.error?o.error:o.transaction.error;n(e)}catch(e){n(e)}}}catch(e){n(e)}})}).catch(n)});return s(n,e),n},length:function(e){var t=this,n=new lC(function(e,n){t.ready().then(function(){C(t._dbInfo,v,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(e){n(e)}})}).catch(n)});return s(n,e),n},key:function(e,t){var n=this,r=new lC(function(t,r){e<0?t(null):n.ready().then(function(){C(n._dbInfo,v,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,l=(a.openKeyCursor||a.openCursor).call(a);l.onsuccess=function(){var n=l.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},l.onerror=function(){r(l.error)}}catch(e){r(e)}})}).catch(r)});return s(r,t),r},keys:function(e){var t=this,n=new lC(function(e,n){t.ready().then(function(){C(t._dbInfo,v,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName),a=(o.openKeyCursor||o.openCursor).call(o),s=[];a.onsuccess=function(){var t=a.result;t?(s.push(t.key),t.continue()):e(s)},a.onerror=function(){n(a.error)}}catch(e){n(e)}})}).catch(n)});return s(n,e),n},dropInstance:function(e,t){t=u.apply(this,arguments);var n,r=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName),e.name){var i=e.name===r.name&&this._dbInfo.db?lC.resolve(this._dbInfo.db):b(e,!1).then(function(t){var n=f[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t});n=e.storeName?i.then(function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;m(e);var r=f[e.name],i=r.forages;t.close();for(var a=0;a<i.length;a++){var s=i[a];s._dbInfo.db=null,s._dbInfo.version=n}return new lC(function(t,r){var i=o.open(e.name,n);i.onerror=function(e){i.result.close(),r(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),t(e)}}).then(function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e,y(n._dbInfo)}}).catch(function(t){throw(_(e,t)||lC.resolve()).catch(function(){}),t})}}):i.then(function(t){m(e);var n=f[e.name],r=n.forages;t.close();for(var i=0;i<r.length;i++)r[i]._dbInfo.db=null;return new lC(function(t,n){var r=o.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}).then(function(e){n.db=e;for(var t=0;t<r.length;t++)y(r[t]._dbInfo)}).catch(function(t){throw(_(e,t)||lC.resolve()).catch(function(){}),t})})}else n=lC.reject("Invalid arguments");return s(n,t),n}},O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=/^~~local_forage_type~([^~]+)~/,P="__lfsc__:",R="arbf",D="blob",L="si08",M="ui08",z="uic8",N="si16",j="si32",B="ur16",U="ui32",F="fl32",G="fl64",V=Object.prototype.toString;function H(e){var t,n,r,i,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),u=new Uint8Array(c);for(t=0;t<s;t+=4)n=d9(O).call(O,e[t]),r=d9(O).call(O,e[t+1]),i=d9(O).call(O,e[t+2]),o=d9(O).call(O,e[t+3]),u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&o;return c}function Z(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=O[n[t]>>2]+O[(3&n[t])<<4|n[t+1]>>4]+O[(15&n[t+1])<<2|n[t+2]>>6]+O[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var K={serialize:function(e,t){var n="";if(e&&(n=V.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===V.call(e.buffer))){var r,i=P;e instanceof ArrayBuffer?(r=e,i+=R):(r=e.buffer,"[object Int8Array]"===n?i+=L:"[object Uint8Array]"===n?i+=M:"[object Uint8ClampedArray]"===n?i+=z:"[object Int16Array]"===n?i+=N:"[object Uint16Array]"===n?i+=B:"[object Int32Array]"===n?i+=j:"[object Uint32Array]"===n?i+=U:"[object Float32Array]"===n?i+=F:"[object Float64Array]"===n?i+=G:t(Error("Failed to get type for BinaryArray"))),t(i+Z(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){t(P+D+("~~local_forage_type~"+e.type+"~"+Z(this.result)))},o.readAsArrayBuffer(e)}else try{t(l5(e))}catch(e){t(null,e)}},deserialize:function(e){if(e.substring(0,9)!==P)return JSON.parse(e);var t,n=e.substring(13),r=e.substring(9,13);if(r===D&&A.test(n)){var i=n.match(A);t=i[1],n=n.substring(i[0].length)}var o=H(n);switch(r){case R:return o;case D:return a([o],{type:t});case L:return new Int8Array(o);case M:return new Uint8Array(o);case z:return new Uint8ClampedArray(o);case N:return new Int16Array(o);case B:return new Uint16Array(o);case j:return new Int32Array(o);case U:return new Uint32Array(o);case F:return new Float32Array(o);case G:return new Float64Array(o);default:throw Error("Unkown type: "+r)}},stringToBuffer:H,bufferToString:Z};function W(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function $(e,t,n,r,i,o){e.executeSql(n,r,i,function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],function(e,s){s.rows.length?o(e,a):W(e,t,function(){e.executeSql(n,r,i,o)},o)},o):o(e,a)},o)}var q={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new lC(function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction(function(i){W(i,n,function(){t._dbInfo=n,e()},function(e,t){r(t)})},r)});return n.serializer=K,i},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new lC(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){$(n,i,"SELECT * FROM "+i.storeName,[],function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var l=o.item(s),c=l.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=e(c,l.key,s+1)))return void t(c)}t()},function(e,t){r(t)})})}).catch(r)});return s(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=new lC(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){$(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)},function(e,t){r(t)})})}).catch(r)});return s(r,t),r},setItem:function(e,t,n){return(function e(t,n,r,i){var o=this;t=c(t);var a=new lC(function(a,s){o.ready().then(function(){void 0===n&&(n=null);var l=n,c=o._dbInfo;c.serializer.serialize(n,function(n,u){u?s(u):c.db.transaction(function(e){$(e,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[t,n],function(){a(l)},function(e,t){s(t)})},function(n){if(n.code===n.QUOTA_ERR){if(i>0)return void a(e.apply(o,[t,l,r,i-1]));s(n)}})})}).catch(s)});return s(a,r),a}).apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=c(e);var r=new lC(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){$(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){r(t)})})}).catch(r)});return s(r,t),r},clear:function(e){var t=this,n=new lC(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){$(t,r,"DELETE FROM "+r.storeName,[],function(){e()},function(e,t){n(t)})})}).catch(n)});return s(n,e),n},length:function(e){var t=this,n=new lC(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){$(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(t,n){e(n.rows.item(0).c)},function(e,t){n(t)})})}).catch(n)});return s(n,e),n},key:function(e,t){var n=this,r=new lC(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){$(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){t(n.rows.length?n.rows.item(0).key:null)},function(e,t){r(t)})})}).catch(r)});return s(r,t),r},keys:function(e){var t=this,n=new lC(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){$(t,r,"SELECT key FROM "+r.storeName,[],function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)},function(e,t){n(t)})})}).catch(n)});return s(n,e),n},dropInstance:function(e,t){t=u.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return s(r=e.name?new lC(function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),t(e.storeName?{db:r,storeNames:[e.storeName]}:new lC(function(e,t){r.transaction(function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(t,n){for(var i=[],o=0;o<n.rows.length;o++)i.push(n.rows.item(o).name);e({db:r,storeNames:i})},function(e,n){t(n)})},function(e){t(e)})}))}).then(function(e){return new lC(function(t,n){e.db.transaction(function(r){for(var i=[],o=0,a=e.storeNames.length;o<a;o++)i.push(function(e){return new lC(function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],function(){t()},function(e,t){n(t)})})}(e.storeNames[o]));lC.all(i).then(function(){t()}).catch(function(e){n(e)})},function(e){n(e)})})}):lC.reject("Invalid arguments"),t),r}};function X(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}var J={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=X(e,this._defaultConfig),!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(e){return!0}}()||localStorage.length>0?(this._dbInfo=t,t.serializer=K,lC.resolve()):lC.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then(function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var l=localStorage.key(s);if(0===d9(l).call(l,r)){var c=localStorage.getItem(l);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,l.substring(i),a++)))return c}}});return s(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=n.ready().then(function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r});return s(r,t),r},setItem:function(e,t,n){var r=this;e=c(e);var i=r.ready().then(function(){void 0===t&&(t=null);var n=t;return new lC(function(i,o){var a=r._dbInfo;a.serializer.serialize(t,function(t,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+e,t),i(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}})})});return s(i,n),i},removeItem:function(e,t){var n=this;e=c(e);var r=n.ready().then(function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return s(r,t),r},clear:function(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===d9(r).call(r,e)&&localStorage.removeItem(r)}});return s(n,e),n},length:function(e){var t=pC(this).call(this).then(function(e){return e.length});return s(t,e),t},key:function(e,t){var n=this,r=n.ready().then(function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t});return s(r,t),r},keys:function(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===d9(o).call(o,e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r});return s(n,e),n},dropInstance:function(e,t){if(t=u.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return s(r=e.name?new lC(function(t){t(e.storeName?X(e,i._defaultConfig):e.name+"/")}).then(function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===d9(n).call(n,e)&&localStorage.removeItem(n)}}):lC.reject("Invalid arguments"),t),r}},Y=function(e,t){for(var n,r=e.length,i=0;i<r;){if((n=e[i])===t||"number"==typeof n&&"number"==typeof t&&isNaN(n)&&isNaN(t))return!0;i++}return!1},Q=lA||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ee={},et={},en={INDEXEDDB:I,WEBSQL:q,LOCALSTORAGE:J},er=[en.INDEXEDDB._driver,en.WEBSQL._driver,en.LOCALSTORAGE._driver],ei=["dropInstance"],eo=uu(r=["clear","getItem","iterate","key","keys","length","removeItem","setItem"]).call(r,ei),ea={description:"",driver:pv(er).call(er),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function es(){for(var e=1;e<arguments.length;e++){var t,n=arguments[e];if(n)for(var r in n)n.hasOwnProperty(r)&&(Q(n[r])?arguments[0][r]=pv(t=n[r]).call(t):arguments[0][r]=n[r])}return arguments[0]}var el=new(function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e),en)if(en.hasOwnProperty(n)){var r=en[n],i=r._driver;this[n]=i,ee[i]||this.defineDriver(r)}this._defaultConfig=es({},ea),this._config=es({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":i(e))){if(this._ready)return Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new lC(function(t,n){try{var r=e._driver,i=Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var o=uu(eo).call(eo,"_initStorage"),a=0,l=o.length;a<l;a++){var c=o[a];if((!Y(ei,c)||e[c])&&"function"!=typeof e[c])return void n(i)}!function(){for(var t=function(e){return function(){var t=Error("Method "+e+" is not implemented by the current driver"),n=lC.reject(t);return s(n,arguments[arguments.length-1]),n}},n=0,r=ei.length;n<r;n++){var i=ei[n];e[i]||(e[i]=t(i))}}();var u=function(n){ee[r],ee[r]=e,et[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(u,n):u(!!e._support):u(!0)}catch(e){n(e)}});return l(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=ee[e]?lC.resolve(ee[e]):lC.reject(Error("Driver not found."));return l(r,t,n),r},e.prototype.getSerializer=function(e){var t=lC.resolve(K);return l(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return l(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;Q(e)||(e=[e]);var i=this._getSupportedDrivers(e);function o(){r._config.driver=r.driver()}function a(e){return r._extend(e),o(),r._ready=r._initStorage(r._config),r._ready}var s=null!==this._driverSet?this._driverSet.catch(function(){return lC.resolve()}):lC.resolve();return this._driverSet=s.then(function(){var e=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then(function(e){r._driver=e._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(){var e=0;return function t(){for(;e<i.length;){var n=i[e];return e++,r._dbInfo=null,r._ready=null,r.getDriver(n).then(a).catch(t)}o();var s=Error("No available storage method found.");return r._driverSet=lC.reject(s),r._driverSet}()}})}).catch(function(){o();var e=Error("No available storage method found.");return r._driverSet=lC.reject(e),r._driverSet}),l(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!et[e]},e.prototype._extend=function(e){es(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=eo.length;e<t;e++)(function(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}})(this,eo[e])},e.prototype.createInstance=function(t){return new e(t)},e}());t.exports=el},{3:3}]},{},[4])(4)}),function(){function e(){this.cache={}}return e.prototype.setItem=function(e,t){this.cache[e]=t},e.prototype.getItem=function(e){return this.cache[e]},e.prototype.removeItem=function(e){this.cache[e]=void 0},e}()),mX=function(){function e(){this.support=this.isSupportLS()}return e.prototype.isSupportLS=function(){try{return localStorage.setItem("_applogtest-test-key","hi"),localStorage.getItem("_applogtest-test-key"),localStorage.removeItem("_applogtest-test-key"),!0}catch(e){return!1}},e.prototype.getItem=function(e){try{var t=localStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},e.prototype.setItem=function(e,t){try{var n="string"==typeof t?t:l5(t);localStorage.setItem(e,n)}catch(e){}},e.prototype.removeItem=function(e){try{localStorage.removeItem(e)}catch(e){}},e}(),mJ=function(){function e(){this.support=this.isSupportSession()}return e.prototype.isSupportSession=function(){try{return sessionStorage.setItem("_applogtest-test-key","hi"),sessionStorage.getItem("_applogtest-test-key"),sessionStorage.removeItem("_applogtest-test-key"),!0}catch(e){return!1}},e.prototype.getItem=function(e){try{var t=sessionStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},e.prototype.setItem=function(e,t){try{var n="string"==typeof t?t:l5(t);sessionStorage.setItem(e,n)}catch(e){}},e.prototype.removeItem=function(e){try{sessionStorage.removeItem(e)}catch(e){}},e}(),mY=function(){function e(){this.defaultExpireTime=6048e5,this.local=new mX,this.session=new mJ,this.cache=new mq}return e.prototype.getLocalItem=function(e){return this.local.getItem(e)},e.prototype.setLocalItem=function(e,t){this.local.setItem(e,t)},e.prototype.removeLocalItem=function(e){this.local.removeItem(e)},e.prototype.getSessionItem=function(e){return this.session.getItem(e)},e.prototype.setSessionItem=function(e,t){this.session.setItem(e,t)},e.prototype.removeSessionItem=function(e){this.session.removeItem(e)},e.prototype.getCacheItem=function(e){return this.cache.getItem(e)},e.prototype.setCacheItem=function(e,t){this.cache.setItem(e,t)},e.prototype.removeCacheItem=function(e){this.cache.removeItem(e)},e.prototype.getCookie=function(e,t){try{return m$.get(e)}catch(e){return""}},e.prototype.setCookie=function(e,t,n,r){void 0===n&&(n=this.defaultExpireTime);try{var i=r||document.domain,o=+new Date+n;m$.set(e,t,{expires:new Date(o),path:"/",domain:i})}catch(e){}},e.prototype.removeCookie=function(e,t){try{m$.remove(e,{path:"/",domain:t||""})}catch(e){}},e}(),mQ=function(){function e(e,t,n){this.appid=e,this.domain=t,this.userAgent=window.navigator.userAgent,this.appVersion=window.navigator.appVersion,this.cookie_expire=n}return e.prototype.init=function(){var e,t=window.navigator.userAgent,n=window.navigator.language,r=document.referrer,i=r?mU(r).hostname:"",o=mF(window.location.href),a=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(this.appVersion)?"wap":"web",s=(null===(e=window.navigator.connection)||void 0===e?void 0:e.effectiveType)||"";this.utm=function(e,t,n,r){var i=new mY,o=e?"_tea_utm_cache_"+e:"_tea_utm_cache",a=e?"_$utm_from_url_"+e:"_$utm_from_url",s={},l=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4","$utm_from_url"],c={ad_id:Number(t.ad_id)||void 0,campaign_id:Number(t.campaign_id)||void 0,creative_id:Number(t.creative_id)||void 0,utm_source:t.utm_source,utm_medium:t.utm_medium,utm_campaign:t.utm_campaign,utm_term:t.utm_term,utm_content:t.utm_content,tr_shareuser:t.tr_shareuser,tr_admaster:t.tr_admaster,tr_param1:t.tr_param1,tr_param2:t.tr_param2,tr_param3:t.tr_param3,tr_param4:t.tr_param4};try{var u=!1;for(var h in c)c[h]&&(-1!==d9(l).call(l,h)?(s.hasOwnProperty("tracer_data")||(s.tracer_data={}),s.tracer_data[h]=c[h]):s[h]=c[h],u=!0);if(u)i.setSessionItem(a,"1"),i.setCookie(o,l5(s),r,n);else{var d=i.getCookie(o,n);d&&(s=JSON.parse(d))}i.getSessionItem(a)&&(s.hasOwnProperty("tracer_data")||(s.tracer_data={}),s.tracer_data.$utm_from_url=1)}catch(e){return c}return s}(this.appid,o,this.domain,this.cookie_expire);var l=this.browser(),c=this.os();return{browser:l.browser,browser_version:l.browser_version,platform:a,os_name:c.os_name,os_version:c.os_version,userAgent:t,screen_width:window.screen&&window.screen.width,screen_height:window.screen&&window.screen.height,device_model:this.getDeviceModel(c.os_name),language:n,referrer:r,referrer_host:i,network_type:s,utm:this.utm,latest_data:this.last(r,i)}},e.prototype.last=function(e,t){var n="",r="",i="",o=location.hostname,a=!1;if(e&&t&&o!==t){n=e,r=t,a=!0;var s=mF(e);s.keyword&&(i=s.keyword)}return{$latest_referrer:n,$latest_referrer_host:r,$latest_search_keyword:i,isLast:a}},e.prototype.browser=function(){var e,t,n="",r=""+dP(this.appVersion),i=this.userAgent;return -1!==d9(i).call(i,"Edge")||-1!==d9(i).call(i,"Edg")?(n="Microsoft Edge",-1!==d9(i).call(i,"Edge")?(e=d9(i).call(i,"Edge"),r=i.substring(e+5)):(e=d9(i).call(i,"Edg"),r=i.substring(e+4))):-1!==(e=d9(i).call(i,"MSIE"))?(n="Microsoft Internet Explorer",r=i.substring(e+5)):-1!==(e=d9(i).call(i,"MetaSr"))?(n="sougoubrowser",r=i.substring(e+7,e+10)):-1!==d9(i).call(i,"MQQBrowser")||-1!==d9(i).call(i,"QQBrowser")?(n="qqbrowser",-1!==d9(i).call(i,"MQQBrowser")?(e=d9(i).call(i,"MQQBrowser"),r=i.substring(e+11,e+15)):-1!==d9(i).call(i,"QQBrowser")&&(e=d9(i).call(i,"QQBrowser"),r=i.substring(e+10,e+25))):-1!==d9(i).call(i,"Chrome")?-1!==(e=d9(i).call(i,"MicroMessenger"))?(n="weixin",r=i.substring(e+15,e+20)):-1!==(e=d9(i).call(i,"360"))?(n="360browser",r=i.substring(d9(i).call(i,"Chrome")+7)):-1!==d9(i).call(i,"baidubrowser")||-1!==d9(i).call(i,"BIDUBrowser")?(-1!==d9(i).call(i,"baidubrowser")?(e=d9(i).call(i,"baidubrowser"),r=i.substring(e+13,e+16)):-1!==d9(i).call(i,"BIDUBrowser")&&(e=d9(i).call(i,"BIDUBrowser"),r=i.substring(e+12,e+15)),n="baidubrowser"):-1!==(e=d9(i).call(i,"xiaomi"))?-1!==d9(i).call(i,"openlanguagexiaomi")?(n="openlanguage xiaomi",r=i.substring(e+7,e+13)):(n="xiaomi",r=i.substring(e-7,e-1)):-1!==(e=d9(i).call(i,"TTWebView"))?(n="TTWebView",r=i.substring(e+10,e+23)):(-1!==(e=d9(i).call(i,"Chrome"))||-1!==(e=d9(i).call(i,"Chrome")))&&(n="Chrome",r=i.substring(e+7)):-1!==d9(i).call(i,"Safari")?-1!==(e=d9(i).call(i,"QQ"))?(n="qqbrowser",r=i.substring(e+10,e+16)):-1!==(e=d9(i).call(i,"Safari"))&&(n="Safari",r=i.substring(e+7),-1!==(e=d9(i).call(i,"Version"))&&(r=i.substring(e+8))):-1!==(e=d9(i).call(i,"Firefox"))?(n="Firefox",r=i.substring(e+8)):-1!==(e=d9(i).call(i,"MicroMessenger"))?(n="weixin",r=i.substring(e+15,e+20)):-1!==(e=d9(i).call(i,"QQ"))&&(n="qqbrowser",r=i.substring(e+3,e+8)),-1!==(t=d9(r).call(r,";"))&&(r=r.substring(0,t)),-1!==(t=d9(r).call(r," "))&&(r=r.substring(0,t)),-1!==(t=d9(r).call(r,")"))&&(r=r.substring(0,t)),{browser:n,browser_version:r}},e.prototype.os=function(){for(var e,t="",n="",r=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows",r:/(Windows|Windows NT)/},{s:"Android",r:/Android/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"chromeOS",r:/CrOS/},{s:"OpenHarmony",r:/Harmony/},{s:"Linux",r:/(Linux|X11)/},{s:"Sun OS",r:/SunOS/}],i=0;i<r.length;i++){var o=r[i];if(o.r.test(this.userAgent)){"Mac OS X"===(t=o.s)&&this.isNewIpad()&&(t="iOS");break}}var a,s,l,c,u=function(e,t){var n=e.exec(t);return n&&n[1]?n[1]:""},h=function(e,t){var n=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:"+e+")","i").exec(t);return n?pv(n).call(n,1)[0]:""};switch(/Windows/.test(t)&&(n=u(/Windows (.*)/,t),t="windows"),t){case"Mac OS X":n=h("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent),t="mac";break;case"Android":(s=u(/Android ([\.\_\d]+)/,a=this.userAgent))||(s=u(/Android\/([\.\_\d]+)/,a)),n=s,t="android";break;case"iOS":n=this.isNewIpad()?h("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent):(n=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.appVersion))?n[1]+"."+n[2]+"."+(0|n[3]):"",t="ios";break;case"chromeOS":var d=d9(e=this.userAgent).call(e,"x86_64");n=this.userAgent.substring(d+7,d+16);break;case"OpenHarmony":(c=u(/OpenHarmony\s*([\d\.]+)/,l=this.userAgent))||(c=u(/OpenHarmony\s*([\d\.]+)/,l)),n=c,t="OpenHarmony"}return{os_name:t,os_version:n}},e.prototype.getDeviceModel=function(e){var t,n="";try{if("android"===e)lI(t=navigator.userAgent.split(";")).call(t,function(e){d9(e).call(e,"Build/")>-1&&(n=pv(e).call(e,0,d9(e).call(e,"Build/")))});else if("ios"===e||"mac"===e||"windows"===e){if(this.isNewIpad())n="iPad";else{var r=navigator.userAgent.replace("Mozilla/5.0 (",""),i=d9(r).call(r,";");n=-1===i?"":pv(r).call(r,0,i)}}}catch(e){}return dm(n).call(n)},e.prototype.isNewIpad=function(){return void 0!==this.userAgent&&"MacIntel"===navigator.platform&&"number"==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>1},e}(),m0=function(e,t){try{return e?m$.get(e):m$.get()}catch(e){return""}},m1=function(e,t,n,r){try{var i=r||document.domain,o=+new Date+(n||6048e5);m$.set(e,t,{expires:new Date(o),path:"/",domain:i})}catch(e){}},m2=function(){function e(){this.cache={}}return e.prototype.setItem=function(e,t){this.cache[e]=t},e.prototype.getItem=function(e){return this.cache[e]},e.prototype.removeItem=function(e){this.cache[e]=void 0},e.prototype.getCookie=function(e,t){return m0(e)},e.prototype.setCookie=function(e,t,n,r){m1(e,t,n,r)},e}(),m5={getItem:function(e){try{var t=localStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:l5(t);localStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return m0(e)},setCookie:function(e,t,n,r){m1(e,t,n,r)},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},m4={getItem:function(e){try{var t=sessionStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:l5(t);sessionStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{sessionStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return m0(e)},setCookie:function(e,t,n,r){m1(e,t,n,r)},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},m3=function(){function e(e,t){this._storage=t&&"session"===t?m4:!e&&m5.isSupportLS?m5:new m2}return e.prototype.getItem=function(e){return this._storage.getItem(e)},e.prototype.setItem=function(e,t){this._storage.setItem(e,t)},e.prototype.getCookie=function(e,t){return this._storage.getCookie(e,t)},e.prototype.setCookie=function(e,t,n,r){this._storage.setCookie(e,t,n,r)},e.prototype.removeItem=function(e){this._storage.removeItem(e)},e}(),m6={cn:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},m9={cn:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az28z1gz1hz1gz1cz18z1nz1gz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",my:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z19z1bz49z1kz27z4az1jz18z20z1iz1mz1dz1dz1gz1az1cz4az1az1mz1k"},m7="5.3.8",m8=(mM("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz24z1gz21z23z18z1jz49z1cz1bz1gz22z1mz20z49z20z18z1lz1ez1cz20z21z4az1hz21"),mM("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz24z1gz21z23z18z1jz49z18z19z49z1az1mz20z1cz4az1hz21"),mM("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz24z1gz21z23z18z1jz49z18z19z49z1jz1mz18z1bz1cz20z4az1hz21"),mM("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz1fz1cz18z22z1kz18z1nz49z1az1mz20z1c")),ye=(mM("1fz22z22z1nz21z4mz4bz4bz1jz1dz4fz49z1bz18z22z18z4az24z1mz1jz1az1az1bz1lz4az1az1mz1kz4bz1mz19z1hz4bz1bz18z22z18z49z21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz22z1cz21z22z1cz20z49z1cz24z1cz1lz22z49z1gz1lz21z1nz1cz1az22z1mz20"),uR(mf=["1fz22z22z1nz21z4mz4bz4bz1bz18z22z18z4az19z27z22z1cz1bz18z1lz1az1cz4az1lz1cz22","1fz22z22z1nz21z4mz4bz4bz22z1cz18z49z24z18z4az22z1gz1iz22z1mz1iz49z20z1mz25z4az1lz1cz22","1fz22z22z1nz21z4mz4bz4bz22z1cz18z4az22z1gz1iz22z1mz1iz49z1cz23z4az1lz1cz22","1fz22z22z1nz21z4mz4bz4bz22z1cz18z4az22z1gz1iz22z1mz1iz49z23z21z22z21z4az1lz1cz22","1fz22z22z1nz21z4mz4bz4bz1gz1mz49z21z1ez4az22z1gz1iz22z1mz1iz49z20z1mz25z4az1lz1cz22","1fz22z22z1nz21z4mz4bz4bz1gz1mz49z24z18z4az22z1gz1iz22z1mz1iz49z20z1mz25z4az1lz1cz22"]).call(mf,function(e){return mM(e)})),yt=function(){function e(e,t){this.collector=e,this.config=t,this.eventNameWhiteList=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure","__bav_slide"],this.paramsNameWhiteList=["$inactive","$inline","$target_uuid_list","$source_uuid","$is_spider","$source_id","$is_first_time","_staging_flag"],this.regStr=RegExp("^[a-zA-Z0-9][a-z0-9A-Z_.-]{1,255}$")}return e.prototype.checkVerify=function(e){var t=this;if(!e||!e.length)return!1;var n=e[0];if(!n)return!1;var r=n.events,i=n.header;if(!r||!r.length)return!1;var o=!0;return lI(r).call(r,function(e){if(!e)return o=!1,void(e.checkEvent="事件异常");t.checkEventName(e.event)||(o=!1,e.checkEvent="事件名不能以 $ or __开头"),t.checkEventParams(e.params)||(o=!1,e.checkParams="属性名不能以 $ or __开头")}),this.checkEventParams(i)||(o=!1),o},e.prototype.checkEventName=function(e){return!!e&&this.calculate(e,"event")},e.prototype.checkEventParams=function(e){var t=e;if("string"==typeof e&&(t=JSON.parse(t)),!lO(t).length)return!0;for(var n in t)return!(!this.calculate(n,"params")||"string"==typeof t[n]&&t[n].length>1024);return!0},e.prototype.calculate=function(e,t){var n;return -1!==d9(n="event"===t?this.eventNameWhiteList:this.paramsNameWhiteList).call(n,e)||!RegExp("^\\$").test(e)&&!RegExp("^__").test(e)},e}();(yx=mK||(mK={})).Init="init",yx.Config="config",yx.Start="start",yx.Ready="ready",yx.UnReady="un-ready",yx.TokenComplete="token-complete",yx.TokenStorage="token-storage",yx.TokenFetch="token-fetch",yx.TokenError="token-error",yx.ConfigUuid="config-uuid",yx.ConfigWebId="config-webid",yx.ConfigDiD="config-device-id",yx.ConfigDomain="config-domain",yx.CustomWebId="custom-webid",yx.TokenChange="token-change",yx.TokenReset="token-reset",yx.ConfigTransform="config-transform",yx.EnvTransform="env-transform",yx.SessionReset="session-reset",yx.SessionResetTime="session-reset-time",yx.SetSessionId="set-session-id",yx.SessionResetInner="session-reset-inner",yx.Event="event",yx.Events="events",yx.EventNow="event-now",yx.CleanEvents="clean-events",yx.BeconEvent="becon-event",yx.SubmitBefore="submit-before",yx.SubmitScuess="submit-scuess",yx.SubmitSuccess="submit-success",yx.SubmitAfter="submit-after",yx.SubmitError="submit-error",yx.SubmitVerify="submit-verify",yx.CustomHeader="custom-request-header",yx.SDKInnerError="sdk-inner-error",yx.SDKRunTimeError="sdk-run-time-error",yx.LogSetting="log-setting",yx.LogSettingReady="log-setting-ready",yx.Stay="stay",yx.ResetStay="reset-stay",yx.StayReady="stay-ready",yx.SetStay="set-stay",yx.RouteChange="route-change",yx.RouteReady="route-ready",yx.Ab="ab",yx.AbVar="ab-var",yx.AbAllVars="ab-all-vars",yx.AbConfig="ab-config",yx.AbExternalVersion="ab-external-version",yx.AbVersionChangeOn="ab-version-change-on",yx.AbVersionChangeOff="ab-version-change-off",yx.AbOpenLayer="ab-open-layer",yx.AbCloseLayer="ab-close-layer",yx.AbReady="ab-ready",yx.AbComplete="ab-complete",yx.AbTimeout="ab-timeout",yx.AbVerify="ab-verify",yx.Profile="profile",yx.ProfileSet="profile-set",yx.ProfileSetOnce="profile-set-once",yx.ProfileUnset="profile-unset",yx.ProfileIncrement="profile-increment",yx.ProfileAppend="profile-append",yx.ProfileClear="profile-clear",yx.Autotrack="autotrack",yx.AutotrackReady="autotrack-ready",yx.CepReady="cep-ready",yx.TracerReady="tracer-ready",yx.sessionRecord="session-record",yx.SessionRecordStart="session-record-start",yx.SessionRecordPause="session-record-pause",yx.SessionRecordEnd="session-record-end",yx.SessionRecordReport="session-record-report",yx.DestoryInstance="destory-instance",yx.VisualCollectReady="visual-collect-ready",yx.VisualApiReady="visual-api-ready",yx.VisualApiUpdate="visual-api-update",yx.TrackDuration="track-duration",yx.TrackDurationStart="track-duration-start",yx.TrackDurationEnd="track-duration-end",yx.TrackDurationPause="track-duration-pause",yx.TrackDurationResume="tracl-duration-resume",yx.MonitorConfig="monitor-config",yx.XhrBeforeSend="xhr-before-send",yx.XhrCurrendSend="xhr-current-send",yx.HttpOk="http-ok",yx.HttpError="http-error",yx.SDKFail="sdk-fail",yx.SDKException="sdk-exception",(yC=mW||(mW={})).DEBUGGER_MESSAGE="debugger-message",yC.DEBUGGER_MESSAGE_SDK="debugger-message-sdk",yC.DEBUGGER_MESSAGE_FETCH="debugger-message-fetch",yC.DEBUGGER_MESSAGE_FETCH_RESULT="debugger-message-fetch-result",yC.DEBUGGER_MESSAGE_EVENT="debugger-message-event",yC.DEVTOOL_WEB_READY="devtool-web-ready";var yn=mK,yr=void 0,yi=(new Date).getTimezoneOffset(),yo=dh(""+-yi/60,10),ya=60*yi,ys=function(){function e(e,t){var n=this;this.is_first_time=!0,this.configPersist=!1,this.enableClientTransport=!1,this.initConfig=t,this.collect=e;var r=new mQ(t.app_id,t.cookie_domain||"",t.cookie_expire||7776e6).init();this.eventCheck=new yt(e,t);var i="__tea_cache_first_"+t.app_id;this.configKey="__tea_cache_config_"+t.app_id,this.sessionStorage=new m3(!1,"session"),this.localStorage=new m3(!1,"local"),t.configPersist&&(this.configPersist=!0,this.storage=1===t.configPersist?this.sessionStorage:this.localStorage);var o=this.localStorage.getItem(i);o&&1==o?this.is_first_time=!1:(this.is_first_time=!0,this.localStorage.setItem(i,"1")),this.envInfo={user:{user_unique_id:yr,user_type:yr,user_id:yr,user_is_auth:yr,user_is_login:yr,device_id:yr,web_id:yr,ip_addr_id:yr,user_unique_id_type:yr},header:{app_id:yr,app_name:yr,app_install_id:yr,install_id:yr,app_package:yr,app_channel:yr,app_version:yr,ab_version:yr,os_name:r.os_name,os_version:r.os_version,device_model:r.device_model,ab_client:yr,traffic_type:yr,client_ip:yr,device_brand:yr,os_api:yr,access:yr,language:r.language,region:yr,app_language:yr,app_region:yr,creative_id:r.utm.creative_id,ad_id:r.utm.ad_id,campaign_id:r.utm.campaign_id,log_type:yr,rnd:yr,platform:r.platform,sdk_version:m7,sdk_lib:"js",province:yr,city:yr,timezone:yo,tz_offset:ya,tz_name:yr,sim_region:yr,carrier:yr,resolution:r.screen_width+"x"+r.screen_height,browser:r.browser,browser_version:r.browser_version,referrer:r.referrer,referrer_host:r.referrer_host,width:r.screen_width,height:r.screen_height,screen_width:r.screen_width,screen_height:r.screen_height,utm_term:r.utm.utm_term,utm_content:r.utm.utm_content,utm_source:r.utm.utm_source,utm_medium:r.utm.utm_medium,utm_campaign:r.utm.utm_campaign,tracer_data:l5(r.utm.tracer_data),custom:r.network_type?{network_type:r.network_type}:{},wechat_unionid:yr,wechat_openid:yr}},this.ab_version="",this.evtParams={},this.reportErrorCallback=function(){},this.isLast=!1,this.setCustom(r),this.initDomain(),this.initABData(),this.collect.on("route-change",function(e){n.changeReferInfo(e.config)}),this.setEnableClientTransport(!!this.initConfig.transport)}return e.prototype.initDomain=function(){var e=this.initConfig.channel_domain;if(e)this.domain=e;else{var t=this.initConfig.channel;this.domain=mM(m9[t])}},e.prototype.setDomain=function(e){this.domain=e},e.prototype.getDomain=function(){return this.domain},e.prototype.initABData=function(){var e="__tea_sdk_ab_version_"+this.initConfig.app_id,t=null;if(this.initConfig.ab_cross){var n=this.localStorage.getCookie(e,this.initConfig.ab_cookie_domain);t=n?JSON.parse(n):null}else t=this.localStorage.getItem(e);this.setAbCache(t)},e.prototype.setAbCache=function(e){this.ab_cache=e},e.prototype.getAbCache=function(){return this.ab_cache},e.prototype.setAbVersion=function(e){this.ab_version=e},e.prototype.getAbVersion=function(){return this.ab_version},e.prototype.clearAbCache=function(){this.ab_version="",this.ab_cache={}},e.prototype.getUrl=function(e){var t="";switch(e){case"event":t="/list";break;case"webid":t="/webid";break;case"tobid":t="/tobid"}var n,r=[];return r.push("aid="+this.initConfig.app_id+"&sdk_version="+m7+"&device_platform="+this.envInfo.header.platform),this.initConfig.caller&&r.push("caller="+this.initConfig.caller),n=""+this.getDomain()+t,r.length?n+"?"+r.join("&"):n},e.prototype.setCustom=function(e){if(e&&e.latest_data&&e.latest_data.isLast)for(var t in delete e.latest_data.isLast,this.isLast=!0,e.latest_data)this.envInfo.header.custom[t]=e.latest_data[t]},e.prototype.changeReferInfo=function(e){this.envInfo.header.referrer=e.referrer;var t="";try{t=new mo(e.referrer).host}catch(e){}this.envInfo.header.referrer_host=t||this.envInfo.header.referrer_host},e.prototype.setEnableClientTransport=function(e){this.enableClientTransport=e},e.prototype.getEnableClientTransport=function(){return this.enableClientTransport},e.prototype.set=function(e){var t,n=this;lI(t=lO(e)).call(t,function(t){void 0!==e[t]&&null!==e[t]||n.delete(t);try{n.eventCheck.calculate(t,"config")}catch(e){}if("traffic_type"===t&&n.isLast&&(n.envInfo.header.custom.$latest_traffic_source_type=e[t]),"evtParams"===t)n.evtParams=mx(mx({},n.evtParams||{}),e.evtParams||{});else if("_staging_flag"===t)n.evtParams=mx(mx({},n.evtParams||{}),{_staging_flag:e._staging_flag});else if("reportErrorCallback"===t&&"function"==typeof e[t])n.reportErrorCallback=e[t];else{var r,i,o,a="",s="";if(d9(t).call(t,".")>-1){var l=t.split(".");a=l[0],s=l[1]}a?"user"===a||"header"===a?n.envInfo[a][s]=e[t]:(n.envInfo.header.custom[s]=e[t],n.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 添加了自定义参数:"+t,level:"info",time:uQ(),infoType:"sdk",secType:"HEADER",common:"custom"})):Object.hasOwnProperty.call(n.envInfo.user,t)?(d9(r=["user_type","ip_addr_id"]).call(r,t)>-1?n.envInfo.user[t]=e[t]?Number(e[t]):e[t]:d9(i=["user_id","web_id","user_unique_id","user_unique_id_type"]).call(i,t)>-1?n.envInfo.user[t]=e[t]?String(e[t]):e[t]:d9(o=["user_is_auth","user_is_login"]).call(o,t)>-1?n.envInfo.user[t]=!!e[t]:"device_id"===t&&(n.envInfo.user[t]=e[t]),n.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 修改了公共参数:"+t,level:"info",time:uQ(),infoType:"sdk",secType:"USER",common:t})):Object.hasOwnProperty.call(n.envInfo.header,t)?(n.envInfo.header[t]=e[t],n.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 修改了公共参数:"+t,level:"info",time:uQ(),infoType:"sdk",secType:"HEADER",common:t})):(n.envInfo.header.custom[t]=e[t],n.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 添加了自定义参数:"+t,level:"info",time:uQ(),infoType:"sdk",secType:"HEADER",common:"custom"}))}})},e.prototype.get=function(e){try{return e?"evtParams"===e?this.evtParams:"reportErrorCallback"===e?this[e]:Object.hasOwnProperty.call(this.envInfo.user,e)?this.envInfo.user[e]:Object.hasOwnProperty.call(this.envInfo.header,e)?this.envInfo.header[e]:JSON.parse(l5(this.envInfo[e])):JSON.parse(l5(this.envInfo))}catch(e){this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:uQ(),data:e.message})}},e.prototype.setStore=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};if(t&&lO(e).length){var n=lz(e,t);this.storage.setItem(this.configKey,n)}}catch(e){this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:uQ(),data:e.message})}},e.prototype.getStore=function(){try{if(!this.configPersist)return null;var e=this.storage.getItem(this.configKey)||{};return e&&lO(e).length?e:null}catch(e){return this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:uQ(),data:e.message}),null}},e.prototype.delete=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};t&&Object.hasOwnProperty.call(t,e)&&(delete t[e],this.storage.setItem(this.configKey,t))}catch(e){this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:uQ(),data:e.message})}},e}(),yl=function(){function e(e,t){this.isLog=t||!1,this.name=e||""}return e.prototype.info=function(e){this.isLog},e.prototype.warn=function(e){this.isLog},e.prototype.error=function(e){this.isLog},e.prototype.throw=function(e){throw this.error(this.name),Error(e)},e}(),yc=function(){function e(){this.spiderBot=["Baiduspider","googlebot","360Spider","haosouspider","YoudaoBot","Sogou News Spider","Yisouspider","Googlebot","Headless","Applebot","Bingbot","PetalBot"]}return e.prototype.checkSpider=function(e){if(!e.enable_spider)return!1;var t,n=window.navigator.userAgent;if(!n)return!0;var r=!1;return lI(t=this.spiderBot).call(t,function(e){-1!==d9(n).call(n,e)&&(r=!0)}),r},e}(),yu=function(){function e(e,t){var n;this.configManager=t,this.native=e.enable_native||e[fi(n="evitaN".split("")).call(n).join("")],this.os=t.get("os_name"),this.currentUserUniqueId="",this.currentUserUniqueIdType=""}return e.prototype.error=function(e,t){},e.prototype.bridgeInject=function(){try{return!!this.native&&!!AppLogBridge&&(AppLogBridge.osName?this.os=AppLogBridge.osName():this.os=this.os,!0)}catch(e){return!1}},e.prototype.bridgeReady=function(){var e=this;return new lC(function(t,n){try{e.bridgeInject()?AppLogBridge.hasStarted(function(e){e?t(!0):n(!1)}):n(!1)}catch(e){n(!1)}})},e.prototype.setNativeAppId=function(e){try{AppLogBridge.setNativeAppId(l5(e))}catch(e){this.error("setNativeAppId error",e.message)}},e.prototype.setConfig=function(e){var t,n;try{var r=e.user_unique_id,i=e.user_unique_id_type,o=mC(e,["user_unique_id","user_unique_id_type"]);r&&i?this.setUserUniqueIdWithType(r,i):r?this.setUserUniqueId(r):i&&this.validateAndSetUserIdType(i);try{for(var a,s,l,c=(a=mv(o),s="function"==typeof pf&&pp(a),l=0,s?s.call(a):{next:function(){return a&&l>=a.length&&(a=void 0),{value:a&&a[l++],done:!a}}}),u=c.next();!u.done;u=c.next()){var h=mI(u.value,2),d=h[0],f=h[1];f?this.addHeaderInfo(d,f):this.removeHeaderInfo(d)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}}catch(e){this.error("setConfig error",e.message)}},e.prototype.setUserUniqueId=function(e){try{this.currentUserUniqueId=e,this.currentUserIdType=""}catch(e){this.error("setUserUniqueId error",e.message)}},e.prototype.validateAndSetUserIdType=function(e){this.currentUserUniqueId&&this.setUserUniqueIdWithType(this.currentUserUniqueId,e)},e.prototype.setUserUniqueIdWithType=function(e,t){try{this.currentUserUniqueId=e,this.currentUserUniqueIdType=t,AppLogBridge.setUserUniqueIdWithType(e,t)}catch(e){this.error("setUserUniqueType error",e.message)}},e.prototype.addHeaderInfo=function(e,t){try{AppLogBridge.addHeaderInfo(e,t)}catch(e){this.error("addHeaderInfo error",e.message)}},e.prototype.setHeaderInfo=function(e){try{AppLogBridge.setHeaderInfo(l5(e))}catch(e){this.error("setHeaderInfo error",e.message)}},e.prototype.removeHeaderInfo=function(e){try{AppLogBridge.removeHeaderInfo(e)}catch(e){this.error("removeHeaderInfo error",e.message)}},e.prototype.reportPv=function(e){this.onEventV3("predefine_pageview",e)},e.prototype.onEventV3=function(e,t){try{AppLogBridge.onEventV3(e,t)}catch(e){this.error("onEventV3 error",e.message)}},e.prototype.profileSet=function(e){try{AppLogBridge.profileSet(e)}catch(e){this.error("profileSet error",e.message)}},e.prototype.profileSetOnce=function(e){try{AppLogBridge.profileSetOnce(e)}catch(e){this.error("profileSetOnce error",e.message)}},e.prototype.profileIncrement=function(e){try{AppLogBridge.profileIncrement(e)}catch(e){this.error("profileIncrement error",e.message)}},e.prototype.profileUnset=function(e){try{AppLogBridge.profileUnset(e)}catch(e){this.error("profileUnset error",e.message)}},e.prototype.profileAppend=function(e){try{AppLogBridge.profileAppend(e)}catch(e){this.error("profileAppend error",e.message)}},e.prototype.setExternalAbVersion=function(e){try{AppLogBridge.setExternalAbVersion(e)}catch(e){this.error("setExternalAbVersion error",e.message)}},e.prototype.getVar=function(e,t,n){try{"harmonyos"===this.os||"android"===this.os?n(AppLogBridge.getABTestConfigValueForKey(e,t)):AppLogBridge.getABTestConfigValueForKey(e,t,function(e){n(e)})}catch(e){this.error("getVar error",e.message),n(t)}},e.prototype.getAllVars=function(e){try{"harmonyos"===this.os||"android"===this.os?e(AppLogBridge.getAllAbTestConfigs()):AppLogBridge.getAllAbTestConfigs(function(t){e(t)})}catch(t){this.error("getAllVars error",t.message),e(null)}},e.prototype.getAbSdkVersion=function(e){try{"harmonyos"===this.os||"android"===this.os?e(AppLogBridge.getAbSdkVersion()):AppLogBridge.getAbSdkVersion(function(t){e(t)})}catch(t){this.error("getAbSdkVersion error",t.message),e("")}},e}(),yh=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},yd=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.storage=new m3(!1,"session"),this.sessionKey="__tea_session_id_"+t.app_id,this.expireTime=t.expireTime||18e5,this.disableSession=t.disable_session,this.disableSessionTimeCheck=t.disable_session_check,this.disableSession||(this.setSessionId(),this.collect.on(yn.SessionReset,function(e){n.resetSessionId(e)}),this.collect.on(yn.SessionResetTime,function(){n.updateSessionIdTime()}))},e.prototype.updateSessionIdTime=function(){var e=this.storage.getItem(this.sessionKey);if(e&&e.sessionId){var t=e.timestamp;uQ()-t>this.expireTime?e={sessionId:yh(),timestamp:uQ()}:e.timestamp=uQ(),this.storage.setItem(this.sessionKey,e),this.resetExpTime()}},e.prototype.setSessionId=function(){var e=this,t=this.storage.getItem(this.sessionKey);t&&t.sessionId?t.timestamp=uQ():t={sessionId:yh(),timestamp:uQ()},this.storage.setItem(this.sessionKey,t),this.disableSessionTimeCheck||(this.sessionExp=mm(function(){e.checkEXp()},this.expireTime))},e.prototype.getSessionId=function(){var e=this.storage.getItem(this.sessionKey);return this.disableSession?"":e&&e.sessionId?e.sessionId:""},e.prototype.resetExpTime=function(){var e=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=mm(function(){e.checkEXp()},this.expireTime))},e.prototype.resetSessionId=function(e){var t={sessionId:e||yh(),timestamp:uQ()};this.storage.setItem(this.sessionKey,t)},e.prototype.checkEXp=function(){var e=this.storage.getItem(this.sessionKey);e&&e.sessionId&&uQ()-e.timestamp+30>=this.expireTime&&(e={sessionId:yh(),timestamp:uQ()},this.storage.setItem(this.sessionKey,e))},e}(),yf=function(){function e(){this.eventLimit=50,this.enable_ttwebid=!1,this.eventCache=[],this.beconEventCache=[]}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=e.configManager,this.eventCheck=new yt(e,t),this.cacheStorgae=new m3(!0),this.localStorage=new m3(!1),this.maxReport=t.max_report||10,this.reportTime=t.reportTime||t.report_time||30,this.timeout=t.timeout||1e5,this.enable_ttwebid=t.enable_ttwebid,this.reportUrl=t.report_url||this.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+this.configManager.get("app_id"),this.beconKey="__tea_cache_events_becon_"+this.configManager.get("app_id"),this.abKey="__tea_sdk_ab_version_"+this.configManager.get("app_id"),this.refer_key="__tea_cache_refer_"+this.configManager.get("app_id"),this.pageId=yh(),this.collect.on(yn.Ready,function(){n.reportAll(!1)}),this.collect.on(yn.ConfigDomain,function(){n.reportUrl=n.configManager.getUrl("event")}),this.collect.on(yn.Event,function(e){n.event(e)}),this.collect.on(yn.BeconEvent,function(e){n.beconEvent(e)}),this.collect.on(yn.CleanEvents,function(){n.reportAll(!1)});var r=this.linster();this.collect.on(yn.DestoryInstance,function(){r&&r()})},e.prototype.linster=function(){var e=this,t=function(){e.reportAll(!0)};window.addEventListener("unload",t,!1),mN(t);var n=function(){"hidden"===document.visibilityState&&e.reportAll(!0)};return document.addEventListener("visibilitychange",n,!1),function(){window.removeEventListener("unload",t),window.removeEventListener("pagehide",t,!1),window.removeEventListener("beforeunload",t,!1),document.removeEventListener("visibilitychange",n,!1)}},e.prototype.reportAll=function(e){this.report(e),this.reportBecon()},e.prototype.event=function(e){var t=this;try{if(this.collect.destroy||this.collect.sdkStop)return;if(this.config.enable_ios_sendbeacon&&mz())return void this.beconEvent(e);var n=this.cacheStorgae.getItem(this.eventKey)||[],r=e;this.config.batch_event&&(r=this.batchEvent(e));var i=mO(r,n);if(this.cacheStorgae.setItem(this.eventKey,i),this.reportTimeout&&clearTimeout(this.reportTimeout),i.length>=this.maxReport)this.report(!1);else{var o=this.reportTime;this.reportTimeout=pS(function(){t.report(!1),t.reportTimeout=null},o)}}catch(e){this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 发生了异常",level:"error",time:uQ(),data:e.message,infoType:"sdk"})}},e.prototype.beconEvent=function(e){if(!this.collect.destroy&&!this.collect.sdkStop){var t=mO(e,this.cacheStorgae.getItem(this.beconKey)||[]);this.cacheStorgae.setItem(this.beconKey,t),this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(t)),!0))}},e.prototype.reportBecon=function(){if(!this.collect.destroy&&!this.collect.sdkStop&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var e=this.cacheStorgae.getItem(this.beconKey)||[];e&&e.length&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(e)),!0))}},e.prototype.report=function(e){if(!this.collect.destroy&&!this.collect.sdkStop&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var t=this.cacheStorgae.getItem(this.eventKey)||[];t.length&&(this.cacheStorgae.removeItem(this.eventKey),this.config.batch_event?this.send([t],e):this.sliceEvent(t,e))}},e.prototype.batchEvent=function(e){var t=[];if(e.length>this.eventLimit)for(var n=0;n<e.length;n+=this.eventLimit){r=pv(e).call(e,n,n+this.eventLimit);var r,i=this.merge(r);t.push(i)}else t=i=this.merge(e);return t},e.prototype.sliceEvent=function(e,t){if(e.length>this.eventLimit)for(var n=0;n<e.length;n+=this.eventLimit){r=pv(e).call(e,n,n+this.eventLimit);var r,i=this.split(this.merge(r));this.send(i,t)}else i=this.split(this.merge(e)),this.send(i,t)},e.prototype.handleRefer=function(){var e="";try{if(this.config.spa||this.config.autotrack){var t=this.localStorage.getItem(this.refer_key)||{};e=t.routeChange?t.refer_key:this.configManager.get("referrer")}else e=this.configManager.get("referrer")}catch(t){e=document.referrer}return e},e.prototype.merge=function(e,t){var n=this,r=this.configManager.get(),i=r.header,o=r.user;this.config.enable_pageid&&(i.custom.page_id=this.pageId),i.custom=l5(i.custom);var a=this.configManager.get("evtParams"),s=this.configManager.get("user_unique_id_type"),l=[];try{var c=uI(e).call(e,function(e){try{lO(a).length&&!t&&(e.params=mx(mx({},a),e.params)),s&&(e.params.$user_unique_id_type=s);var r=n.configManager.getAbCache(),i=o[n.config.ab_user_mode]||o.user_unique_id;return r&&r.uuid&&r.uuid===i&&n.configManager.getAbVersion()&&(e.ab_sdk_version=n.configManager.getAbVersion()),e.session_id=n.collect.sessionManager.getSessionId(),e.params=l5(e.params),e}catch(e){return n.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 处理Event数据异常",level:"error",time:uQ(),data:e.message,infoType:"sdk"}),!1}}),u=JSON.parse(l5({events:c,user:o,header:i}));u.local_time=Math.floor(uQ()/1e3),u.user_unique_type=this.config.enable_ttwebid?this.config.user_unique_type:void 0,u.verbose=1,l.push(u)}catch(e){}return l},e.prototype.split=function(e){return uR(e).call(e,function(e){var t=[];return t.push(e),t})},e.prototype.blockEvent=function(e){try{var t=this.blockList;if(this.config.enable_logsetting){var n=this.blockList,r=this.logSetting.getSettingData("blocklist_events").block_event;t=uu(n).call(n,uI(r).call(r,function(e){return -1===d9(n).call(n,e)}))}return!(t&&t.length&&hu(t).call(t,e))}catch(e){return!0}},e.prototype.whiteEvent=function(e){var t,n;try{return null===(t=this.whiteList)||void 0===t||!t.length||!!hu(n=this.whiteList).call(n,e)}catch(e){return!0}},e.prototype.customAllowFilter=function(e,t){try{if(t||!this.config.enable_logsetting||!this.config.enable_logsetting_header_custom)return l5(e);var n=this.logSetting.getSettingData().header_custom_allow,r={};if(n&&n.length&&lO(e).length){var i=new us(n);for(var o in e)i.has(o)&&(r[o]=e[o])}return l5(r)}catch(t){return this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 执行customAllowFilter发生了异常",level:"error",time:uQ(),data:t.message,infoType:"sdk"}),l5(e)}},e.prototype.paramsAllowFilter=function(e,t){try{if(t||!this.config.enable_logsetting||!this.config.enable_logsetting_params)return l5(e.params);var n=this.logSetting.getSettingData().params_block,r=e.event,i=e.params,o={};if(n&&n[r]&&n[r].length){var a=new us(n[r]);for(var s in i)!this.logSetting.getPredefineParamsList().has(s)&&a.has(s)||(o[s]=i[s]);return l5(o)}return l5(e.params)}catch(t){return this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 执行paramsAllowFilter发生了异常",level:"error",time:uQ(),data:t.message,infoType:"sdk"}),l5(e.params)}},e.prototype.send=function(e,t){var n=this;e.length&&(this.config.disable_track_event||lI(e).call(e,function(e){try{var r,i=JSON.parse(l5(e));uI(n.config)&&(i=uI(r=n.config).call(r,i)),n.collect.eventFilter&&i&&(i=n.collect.eventFilter(i));var o=i||e,a=JSON.parse(l5(o));if(!o.length)return;var s=!0;if(lI(o).call(o,function(e){e.events.length||(s=!1)}),!s)return;n.collect.emit(yn.SubmitBefore,o),n.collect.requestManager.useRequest({url:n.reportUrl,data:o,success:function(e,t){e&&0!==e.e?(n.collect.emit(yn.SubmitError,{type:"f_data",eventData:t,errorCode:e.e,response:e}),n.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_EVENT,info:"埋点上报失败",time:uQ(),data:a,code:e.e,msg:e.m||"",failType:"数据异常失败",status:"fail"})):(n.collect.emit(yn.SubmitScuess,{eventData:t,res:e}),n.collect.emit(yn.SubmitSuccess,{eventData:t,res:e}),n.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_EVENT,info:"埋点上报成功",time:uQ(),data:a,code:200,status:"success"}))},fail:function(e,t){n.configManager.get("reportErrorCallback")(e,t),n.collect.emit(yn.SubmitError,{type:"f_net",eventData:e,errorCode:t}),n.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_EVENT,info:"埋点上报网络异常",time:uQ(),data:a,code:t,failType:"网络异常失败",status:"fail"})},timeout:n.timeout,useBeacon:t,withCredentials:n.enable_ttwebid,zip:!0}),n.collect.emit(yn.SubmitAfter,o)}catch(e){n.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK发送埋点发生了异常",level:"error",time:uQ(),data:e.message,infoType:"sdk"})}}))},e}(),yp=function(){var e;return pv(e=(function e(t){return t?(t^16*Math.random()>>t/4).toString(10):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e)})().replace(/-/g,"")).call(e,0,19)},yv=function(){function e(){this.cacheToken={},this.enableCookie=!1,this.enable_ttwebid=!1,this.enableCustomWebid=!1}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=this.collect.configManager,this.storage=new m3(!1),this.tokenKey="__tea_cache_tokens_"+t.app_id,this.enable_ttwebid=t.enable_ttwebid,this.enableCustomWebid=t.enable_custom_webid,this.collect.on(yn.ConfigUuid,function(e){n.setUuid(e)}),this.collect.on(yn.ConfigWebId,function(e){n.setWebId(e)}),this.collect.on(yn.ConfigDiD,function(e){n.setDeviceId(e)}),this.enableCookie=t.cross_subdomain,this.expiresTime=t.cookie_expire||6048e5,this.cookieDomain=t.cookie_domain||"",this.checkStorage()},e.prototype.checkStorage=function(){var e=this;if(this.enableCookie){var t=this.storage.getCookie(this.tokenKey,this.cookieDomain);this.cacheToken=t&&"string"==typeof t?JSON.parse(t):{}}else this.cacheToken=this.storage.getItem(this.tokenKey)||{};this.tokenType=this.cacheToken&&this.cacheToken._type_?this.cacheToken._type_:"default","custom"!==this.tokenType||this.enableCustomWebid?this.enableCustomWebid?this.collect.on(yn.CustomWebId,function(){e.tokenReady=!0,e.collect.emit(yn.TokenComplete)}):this.checkEnv()||(this.enable_ttwebid?this.completeTtWid(this.cacheToken):this.check()):this.remoteWebid()},e.prototype.check=function(){this.cacheToken&&this.cacheToken.web_id?this.complete(this.cacheToken):this.config.disable_webid?this.complete({web_id:yp(),user_unique_id:this.configManager.get("user_unique_id")||yp()}):this.remoteWebid()},e.prototype.checkEnv=function(){var e=window.navigator.userAgent;if(-1!==d9(e).call(e,"miniProgram")||-1!==d9(e).call(e,"MiniProgram")){var t=mF(window.location.href);return!(!t||!t.Web_ID||(this.complete({web_id:""+t.Web_ID,user_unique_id:this.configManager.get("user_unique_id")||""+t.Web_ID}),0))}return!1},e.prototype.remoteWebid=function(){var e=this,t=this.configManager.getUrl("webid"),n={app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""};this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 发起WebID请求",logType:"fetch",level:"info",time:uQ(),data:n,infoType:"sdk"}),this.collect.requestManager.useRequest({url:t,data:n,success:function(t){var n;if(t&&0===t.e)n=t.web_id,e.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"WebID请求成功",logType:"fetch",level:"info",time:uQ(),data:t,infoType:"sdk"});else{var r=yp();n=r,e.collect.configManager.set({localWebId:r}),e.collect.emit(yn.TokenError),e.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"WebID请求返回值异常，采用本地生成",logType:"fetch",level:"warn",time:uQ(),data:t,infoType:"sdk"}),e.collect.logger.warn("appid: "+e.config.app_id+" get webid error, use local webid~")}e.complete({web_id:e.configManager.get("web_id")||n,user_unique_id:e.configManager.get("user_unique_id")||n})},fail:function(){var t=yp();e.complete({web_id:e.configManager.get("web_id")||t,user_unique_id:e.configManager.get("user_unique_id")||t}),e.collect.configManager.set({localWebId:t}),e.collect.emit(yn.TokenError),e.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"WebID请求网络异常，采用本地生成",logType:"fetch",level:"error",time:uQ(),data:{localWebId:t},infoType:"sdk"}),e.collect.logger.warn("appid: "+e.config.app_id+", get webid error, use local webid~")},timeout:3e5})},e.prototype.complete=function(e){var t=e.web_id,n=e.user_unique_id,r=e.device_id;if(e.timestamp=uQ(),this.collect.configManager.set({web_id:t,user_unique_id:n}),this.config.enable_device_id){var i=this.configManager.get("device_id")||r||t;this.collect.configManager.set({device_id:i}),e=mx(mx({},e),{device_id:i})}else(null==e?void 0:e.device_id)&&delete e.device_id;this.setStorage(e),this.tokenReady=!0,this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 完成用户信息设置",logType:"info",level:"info",time:uQ(),data:{web_id:t,user_unique_id:n},infoType:"sdk"}),this.collect.emit(yn.TokenComplete)},e.prototype.completeTtWid=function(e){var t=e.user_unique_id||"",n=this.configManager.get("user_unique_id");(n||t)&&this.configManager.set({user_unique_id:n||t}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(yn.TokenComplete)},e.prototype.setUuid=function(e){var t;if(e&&-1===d9(t=["null","undefined","Null","None"]).call(t,e)){var n=String(e),r=this.configManager.get("user_unique_id"),i=this.cacheToken&&this.cacheToken.user_unique_id;if(n===r&&n===i)return;this.configManager.set({user_unique_id:n}),this.cacheToken||(this.cacheToken={}),this.cacheToken.user_unique_id=n,this.cacheToken.timestamp=uQ(),this.setStorage(this.cacheToken),this.collect.emit(yn.TokenChange,"uuid"),this.collect.emit(yn.SessionReset)}else this.clearUuid()},e.prototype.clearUuid=function(){this.config.enable_ttwebid||this.configManager.get("web_id")&&this.configManager.get("user_unique_id")!==this.configManager.get("web_id")&&(this.configManager.set({user_unique_id:this.configManager.get("web_id")}),this.cacheToken&&this.cacheToken.web_id&&(this.cacheToken.user_unique_id=this.cacheToken.web_id,this.cacheToken.timestamp=uQ(),this.setStorage(this.cacheToken)),this.collect.emit(yn.TokenReset,"uuid"))},e.prototype.setWebId=function(e){if(e&&!this.config.enable_ttwebid){this.cacheToken&&this.cacheToken.web_id?this.cacheToken.web_id!==e&&(this.cacheToken.user_unique_id=this.cacheToken.web_id===this.cacheToken.user_unique_id?e:this.cacheToken.user_unique_id,this.cacheToken.web_id=e):(this.cacheToken={},this.cacheToken.web_id=e,this.cacheToken.user_unique_id=e),this.cacheToken.timestamp=uQ();var t=this.configManager.get("web_id"),n=this.configManager.get("user_unique_id");n&&n!==t||(this.configManager.set({user_unique_id:e}),this.collect.emit(yn.TokenChange,"uuid")),t!==e&&(this.configManager.set({web_id:e}),this.collect.emit(yn.TokenChange,"webid")),this.setStorage(this.cacheToken)}},e.prototype.setDeviceId=function(e){this.configManager.set({device_id:e}),this.config.enable_device_id&&this.cacheToken&&(this.cacheToken.device_id=e,this.cacheToken.timestamp=uQ(),this.setStorage(this.cacheToken))},e.prototype.setStorage=function(e){var t;e._type_=this.enableCustomWebid?"custom":"default",delete e[fi(t="diss".split("")).call(t).join("")],this.enableCookie||this.enable_ttwebid?(this.storage.setCookie(this.tokenKey,e,this.expiresTime,this.cookieDomain),this.enable_ttwebid&&(delete e.web_id,this.storage.setItem(this.tokenKey,e))):this.storage.setItem(this.tokenKey,e),this.cacheToken=e},e.prototype.getReady=function(){return this.tokenReady},e.prototype.getTobId=function(){var e=this;return new lC(function(t){if(e.config.channel_domain)t("");else{var n={app_id:e.config.app_id,user_unique_id:e.configManager.get("user_unique_id"),web_id:e.configManager.get("web_id"),user_unique_id_type:e.configManager.get("user_unique_id_type")};e.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 发起GetToken请求",logType:"fetch",level:"info",time:uQ(),data:n,infoType:"sdk"}),e.collect.requestManager.useRequest({url:e.configManager.getUrl("tobid"),data:n,success:function(n){n&&0===n.e?(t(n.tobid),e.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"GetToken请求成功",logType:"fetch",level:"info",time:uQ(),data:n,infoType:"sdk"})):(t(""),e.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"GetToken请求失败",logType:"fetch",level:"error",time:uQ(),data:n,infoType:"sdk"}))},fail:function(){t(""),e.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"GetToken请求失败",logType:"fetch",level:"error",time:uQ(),infoType:"sdk"})},time:3e4,withCredentials:e.enable_ttwebid})}})},e}();function yg(e){for(var t=e.length;--t>=0;)e[t]=0}var ym=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),yy=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),y_=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),yb=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yw=Array(576);yg(yw);var yS=Array(60);yg(yS);var yE=Array(512);yg(yE);var yk=Array(256);yg(yk);var yT=Array(29);yg(yT);var yx,yC,yI,yO,yA,yP=Array(30);function yR(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function yD(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}yg(yP);var yL=function(e){return e<256?yE[e]:yE[256+(e>>>7)]},yM=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},yz=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,yM(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},yN=function(e,t,n){yz(e,n[2*t],n[2*t+1])},yj=function(e,t){var n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0);return n>>>1},yB=function(e,t,n){var r,i,o=Array(16),a=0;for(r=1;r<=15;r++)a=a+n[r-1]<<1,o[r]=a;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=yj(o[s]++,s))}},yU=function(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},yF=function(e){e.bi_valid>8?yM(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},yG=function(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},yV=function(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&yG(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!yG(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},yH=function(e,t,n){var r,i,o,a,s=0;if(0!==e.sym_next)do r=(255&e.pending_buf[e.sym_buf+s++])+((255&e.pending_buf[e.sym_buf+s++])<<8),i=e.pending_buf[e.sym_buf+s++],0===r?yN(e,i,t):(yN(e,(o=yk[i])+256+1,t),0!==(a=ym[o])&&yz(e,i-=yT[o],a),yN(e,o=yL(--r),n),0!==(a=yy[o])&&yz(e,r-=yP[o],a));while(s<e.sym_next);yN(e,256,t)},yZ=function(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)yV(e,o,n);i=l;do n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],yV(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,yV(e,o,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,v=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)>p&&(o=p,v++),l[2*r+1]=o,r>c||(e.bl_count[o]++,a=0,r>=f&&(a=d[r-f]),s=l[2*r],e.opt_len+=s*(o+a),h&&(e.static_len+=s*(u[2*r+1]+a)));if(0!==v){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,v-=2}while(v>0);for(o=p;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>c||(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}(e,t),yB(o,c,e.bl_count)},yK=function(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<l&&i===a||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4))},yW=function(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)){if(s<c)do yN(e,i,e.bl_tree);while(0!=--s);else 0!==i?(i!==o&&(yN(e,i,e.bl_tree),s--),yN(e,16,e.bl_tree),yz(e,s-3,2)):s<=10?(yN(e,17,e.bl_tree),yz(e,s-3,3)):(yN(e,18,e.bl_tree),yz(e,s-11,7));s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4)}},y$=!1,yq=function(e,t,n,r){yz(e,0+(r?1:0),3),yF(e),yM(e,n),yM(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},yX=function(e){y$||(function(){var e,t,n,r,i,o=Array(16);for(n=0,r=0;r<28;r++)for(yT[r]=n,e=0;e<1<<ym[r];e++)yk[n++]=r;for(yk[n-1]=r,i=0,r=0;r<16;r++)for(yP[r]=i,e=0;e<1<<yy[r];e++)yE[i++]=r;for(i>>=7;r<30;r++)for(yP[r]=i<<7,e=0;e<1<<yy[r]-7;e++)yE[256+i++]=r;for(t=0;t<=15;t++)o[t]=0;for(e=0;e<=143;)yw[2*e+1]=8,e++,o[8]++;for(;e<=255;)yw[2*e+1]=9,e++,o[9]++;for(;e<=279;)yw[2*e+1]=7,e++,o[7]++;for(;e<=287;)yw[2*e+1]=8,e++,o[8]++;for(yB(yw,287,o),e=0;e<30;e++)yS[2*e+1]=5,yS[2*e]=yj(e,5);yI=new yR(yw,ym,257,286,15),yO=new yR(yS,yy,0,30,15),yA=new yR([],y_,0,19,7)}(),y$=!0),e.l_desc=new yD(e.dyn_ltree,yI),e.d_desc=new yD(e.dyn_dtree,yO),e.bl_desc=new yD(e.bl_tree,yA),e.bi_buf=0,e.bi_valid=0,yU(e)},yJ=yq,yY=function(e,t,n,r){var i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),yZ(e,e.l_desc),yZ(e,e.d_desc),a=function(e){var t;for(yK(e,e.dyn_ltree,e.l_desc.max_code),yK(e,e.dyn_dtree,e.d_desc.max_code),yZ(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*yb[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?yq(e,t,n,r):4===e.strategy||o===i?(yz(e,2+(r?1:0),3),yH(e,yw,yS)):(yz(e,4+(r?1:0),3),function(e,t,n,r){var i;for(yz(e,t-257,5),yz(e,n-1,5),yz(e,r-4,4),i=0;i<r;i++)yz(e,e.bl_tree[2*yb[i]+1],3);yW(e,e.dyn_ltree,t-1),yW(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),yH(e,e.dyn_ltree,e.dyn_dtree)),yU(e),r&&yF(e)},yQ=function(e,t,n){return e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(yk[n]+256+1)]++,e.dyn_dtree[2*yL(t)]++),e.sym_next===e.sym_end},y0=function(e){yz(e,2,3),yN(e,256,yw),16===e.bi_valid?(yM(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)},y1=function(e,t,n,r){for(var i=65535&e,o=e>>>16&65535,a=0;0!==n;){n-=a=n>2e3?2e3:n;do o=o+(i=i+t[r++]|0)|0;while(--a);i%=65521,o%=65521}return i|o<<16},y2=new Uint32Array(function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),y5=function(e,t,n,r){var i=r+n;e^=-1;for(var o=r;o<i;o++)e=e>>>8^y2[255&(e^t[o])];return -1^e},y4={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},y3={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},y6=yJ,y9=yQ,y7=y3.Z_NO_FLUSH,y8=y3.Z_PARTIAL_FLUSH,_e=y3.Z_FULL_FLUSH,_t=y3.Z_FINISH,_n=y3.Z_BLOCK,_r=y3.Z_OK,_i=y3.Z_STREAM_END,_o=y3.Z_STREAM_ERROR,_a=y3.Z_DATA_ERROR,_s=y3.Z_BUF_ERROR,_l=y3.Z_DEFAULT_COMPRESSION,_c=y3.Z_FILTERED,_u=y3.Z_HUFFMAN_ONLY,_h=y3.Z_RLE,_d=y3.Z_FIXED,_f=y3.Z_DEFAULT_STRATEGY,_p=y3.Z_UNKNOWN,_v=y3.Z_DEFLATED,_g=573,_m=function(e,t){return e.msg=y4[t],t},_y=function(e){return 2*e-(e>4?9:0)},__=function(e){for(var t=e.length;--t>=0;)e[t]=0},_b=function(e){var t,n,r,i=e.w_size;r=t=e.hash_size;do n=e.head[--r],e.head[r]=n>=i?n-i:0;while(--t);r=t=i;do n=e.prev[--r],e.prev[r]=n>=i?n-i:0;while(--t)},_w=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},_S=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},_E=function(e,t){yY(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,_S(e.strm)},_k=function(e,t){e.pending_buf[e.pending++]=t},_T=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},_x=function(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=y1(e.adler,t,i,n):2===e.state.wrap&&(e.adler=y5(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},_C=function(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,c=e.window,u=e.w_mask,h=e.prev,d=e.strstart+258,f=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do if(c[(n=t)+a]===p&&c[n+a-1]===f&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do;while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<d);if(r=258-(d-o),o=d-258,r>a){if(e.match_start=t,a=r,r>=s)break;f=c[o+a-1],p=c[o+a]}}while((t=h[t&u])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead},_I=function(e){var t,n,r,i=e.w_size;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=i+(i-262)&&(e.window.set(e.window.subarray(i,i+i-n),0),e.match_start-=i,e.strstart-=i,e.block_start-=i,e.insert>e.strstart&&(e.insert=e.strstart),_b(e),n+=i),0===e.strm.avail_in)break;if(t=_x(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=t,e.lookahead+e.insert>=3)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=_w(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=_w(e,e.ins_h,e.window[r+3-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)},_O=function(e,t){var n,r,i,o=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a=0,s=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,n>(r=e.strstart-e.block_start)+e.strm.avail_in&&(n=r+e.strm.avail_in),n>i&&(n=i),n<o&&(0===n&&t!==_t||t===y7||n!==r+e.strm.avail_in)))break;a=t===_t&&n===r+e.strm.avail_in?1:0,y6(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,_S(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(_x(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===a);return(s-=e.strm.avail_in)&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?4:t!==y7&&t!==_t&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(_x(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,o=(i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i)>e.w_size?e.w_size:i,((r=e.strstart-e.block_start)>=o||(r||t===_t)&&t!==y7&&0===e.strm.avail_in&&r<=i)&&(n=r>i?i:r,a=t===_t&&0===e.strm.avail_in&&n===r?1:0,y6(e,e.block_start,n,a),e.block_start+=n,_S(e.strm)),a?3:1)},_A=function(e,t){for(var n,r;;){if(e.lookahead<262){if(_I(e),e.lookahead<262&&t===y7)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=_w(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=_C(e,n)),e.match_length>=3){if(r=y9(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do e.strstart++,e.ins_h=_w(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=_w(e,e.ins_h,e.window[e.strstart+1])}else r=y9(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(_E(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===_t?(_E(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(_E(e,!1),0===e.strm.avail_out)?1:2},_P=function(e,t){for(var n,r,i;;){if(e.lookahead<262){if(_I(e),e.lookahead<262&&t===y7)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=_w(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=_C(e,n),e.match_length<=5&&(e.strategy===_c||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=y9(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=_w(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(_E(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=y9(e,0,e.window[e.strstart-1]))&&_E(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=y9(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===_t?(_E(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(_E(e,!1),0===e.strm.avail_out)?1:2};function _R(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}var _D=[new _R(0,0,0,0,_O),new _R(4,4,8,4,_A),new _R(4,5,16,8,_A),new _R(4,6,32,32,_A),new _R(4,4,16,16,_P),new _R(8,16,32,32,_P),new _R(8,16,128,128,_P),new _R(8,32,128,256,_P),new _R(32,128,258,1024,_P),new _R(32,258,258,4096,_P)];function _L(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*_g),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),__(this.dyn_ltree),__(this.dyn_dtree),__(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),__(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),__(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var _M=function(e){if(!e)return 1;var t=e.state;return t&&t.strm===e&&(42===t.status||57===t.status||69===t.status||73===t.status||91===t.status||103===t.status||113===t.status||666===t.status)?0:1},_z=function(e){if(_M(e))return _m(e,_o);e.total_in=e.total_out=0,e.data_type=_p;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=-2,yX(t),_r},_N=function(e){var t,n=_z(e);return n===_r&&((t=e.state).window_size=2*t.w_size,__(t.head),t.max_lazy_match=_D[t.level].max_lazy,t.good_match=_D[t.level].good_length,t.nice_match=_D[t.level].nice_length,t.max_chain_length=_D[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n},_j=function(e,t,n,r,i,o){if(!e)return _o;var a=1;if(t===_l&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>9||n!==_v||r<8||r>15||t<0||t>9||o<0||o>_d||8===r&&1!==a)return _m(e,_o);8===r&&(r=9);var s=new _L;return e.state=s,s.strm=e,s.status=42,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=o,s.method=n,_N(e)},_B={deflateInit2:_j,deflateSetHeader:function(e,t){return _M(e)||2!==e.state.wrap?_o:(e.state.gzhead=t,_r)},deflate:function(e,t){if(_M(e)||t>_n||t<0)return e?_m(e,_o):_o;var n=e.state;if(!e.output||0!==e.avail_in&&!e.input||666===n.status&&t!==_t)return _m(e,0===e.avail_out?_s:_o);var r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(_S(e),0===e.avail_out)return n.last_flush=-1,_r}else if(0===e.avail_in&&_y(t)<=_y(r)&&t!==_t)return _m(e,_s);if(666===n.status&&0!==e.avail_in)return _m(e,_s);if(42===n.status&&0===n.wrap&&(n.status=113),42===n.status){var i=_v+(n.w_bits-8<<4)<<8;if(i|=(n.strategy>=_u||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(i|=32),_T(n,i+=31-i%31),0!==n.strstart&&(_T(n,e.adler>>>16),_T(n,65535&e.adler)),e.adler=1,n.status=113,_S(e),0!==n.pending)return n.last_flush=-1,_r}if(57===n.status){if(e.adler=0,_k(n,31),_k(n,139),_k(n,8),n.gzhead)_k(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),_k(n,255&n.gzhead.time),_k(n,n.gzhead.time>>8&255),_k(n,n.gzhead.time>>16&255),_k(n,n.gzhead.time>>24&255),_k(n,9===n.level?2:n.strategy>=_u||n.level<2?4:0),_k(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(_k(n,255&n.gzhead.extra.length),_k(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=y5(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(_k(n,0),_k(n,0),_k(n,0),_k(n,0),_k(n,0),_k(n,9===n.level?2:n.strategy>=_u||n.level<2?4:0),_k(n,3),n.status=113,_S(e),0!==n.pending)return n.last_flush=-1,_r}if(69===n.status){if(n.gzhead.extra){for(var o=n.pending,a=(65535&n.gzhead.extra.length)-n.gzindex;n.pending+a>n.pending_buf_size;){var s=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>o&&(e.adler=y5(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex+=s,_S(e),0!==n.pending)return n.last_flush=-1,_r;o=0,a-=s}var l=new Uint8Array(n.gzhead.extra);n.pending_buf.set(l.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending+=a,n.gzhead.hcrc&&n.pending>o&&(e.adler=y5(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){var c,u=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>u&&(e.adler=y5(e.adler,n.pending_buf,n.pending-u,u)),_S(e),0!==n.pending)return n.last_flush=-1,_r;u=0}c=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,_k(n,c)}while(0!==c);n.gzhead.hcrc&&n.pending>u&&(e.adler=y5(e.adler,n.pending_buf,n.pending-u,u)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){var h,d=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>d&&(e.adler=y5(e.adler,n.pending_buf,n.pending-d,d)),_S(e),0!==n.pending)return n.last_flush=-1,_r;d=0}h=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,_k(n,h)}while(0!==h);n.gzhead.hcrc&&n.pending>d&&(e.adler=y5(e.adler,n.pending_buf,n.pending-d,d))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(_S(e),0!==n.pending))return n.last_flush=-1,_r;_k(n,255&e.adler),_k(n,e.adler>>8&255),e.adler=0}if(n.status=113,_S(e),0!==n.pending)return n.last_flush=-1,_r}if(0!==e.avail_in||0!==n.lookahead||t!==y7&&666!==n.status){var f=0===n.level?_O(n,t):n.strategy===_u?function(e,t){for(var n;;){if(0===e.lookahead&&(_I(e),0===e.lookahead)){if(t===y7)return 1;break}if(e.match_length=0,n=y9(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(_E(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===_t?(_E(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(_E(e,!1),0===e.strm.avail_out)?1:2}(n,t):n.strategy===_h?function(e,t){for(var n,r,i,o,a=e.window;;){if(e.lookahead<=258){if(_I(e),e.lookahead<=258&&t===y7)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){o=e.strstart+258;do;while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=258-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=y9(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=y9(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(_E(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===_t?(_E(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(_E(e,!1),0===e.strm.avail_out)?1:2}(n,t):_D[n.level].func(n,t);if(3!==f&&4!==f||(n.status=666),1===f||3===f)return 0===e.avail_out&&(n.last_flush=-1),_r;if(2===f&&(t===y8?y0(n):t!==_n&&(y6(n,0,0,!1),t===_e&&(__(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),_S(e),0===e.avail_out))return n.last_flush=-1,_r}return t!==_t?_r:n.wrap<=0?_i:(2===n.wrap?(_k(n,255&e.adler),_k(n,e.adler>>8&255),_k(n,e.adler>>16&255),_k(n,e.adler>>24&255),_k(n,255&e.total_in),_k(n,e.total_in>>8&255),_k(n,e.total_in>>16&255),_k(n,e.total_in>>24&255)):(_T(n,e.adler>>>16),_T(n,65535&e.adler)),_S(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?_r:_i)},deflateEnd:function(e){if(_M(e))return _o;var t=e.state.status;return e.state=null,113===t?_m(e,_a):_r},deflateSetDictionary:function(e,t){var n=t.length;if(_M(e))return _o;var r=e.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return _o;if(1===i&&(e.adler=y1(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(__(r.head),r.strstart=0,r.block_start=0,r.insert=0);var o=new Uint8Array(r.w_size);o.set(t.subarray(n-r.w_size,n),0),t=o,n=r.w_size}var a=e.avail_in,s=e.next_in,l=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,_I(r);r.lookahead>=3;){var c=r.strstart,u=r.lookahead-2;do r.ins_h=_w(r,r.ins_h,r.window[c+3-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=2,_I(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=s,e.input=l,e.avail_in=a,r.wrap=i,_r}},_U={assign:function(e){for(var t=pv(Array.prototype).call(arguments,1);t.length;){var n,r,i=t.shift();if(i){if("object"!=ot(i))throw TypeError(i+"must be non-object");for(var o in i){;n=i,r=o,Object.prototype.hasOwnProperty.call(n,r)&&(e[o]=i[o])}}}return e},flattenChunks:function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n].length;for(var i=new Uint8Array(t),o=0,a=0,s=e.length;o<s;o++){var l=e[o];i.set(l,a),a+=l.length}return i}},_F=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){_F=!1}for(var _G=new Uint8Array(256),_V=0;_V<256;_V++)_G[_V]=_V>=252?6:_V>=248?5:_V>=240?4:_V>=224?3:_V>=192?2:1;_G[254]=_G[254]=1;var _H={string2buf:function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,i=0;o<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},buf2string:function(e,t){var n,r,i=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var o=Array(2*i);for(r=0,n=0;n<i;){var a=e[n++];if(a<128)o[r++]=a;else{var s=_G[a];if(s>4)o[r++]=65533,n+=s-1;else{for(a&=2===s?31:3===s?15:7;s>1&&n<i;)a=a<<6|63&e[n++],s--;s>1?o[r++]=65533:a<65536?o[r++]=a:(a-=65536,o[r++]=55296|a>>10&1023,o[r++]=56320|1023&a)}}}return function(e,t){if(t<65534&&e.subarray&&_F)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}(o,r)},utf8border:function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+_G[e[n]]>t?n:t}},_Z=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},_K=Object.prototype.toString,_W=y3.Z_NO_FLUSH,_$=y3.Z_SYNC_FLUSH,_q=y3.Z_FULL_FLUSH,_X=y3.Z_FINISH,_J=y3.Z_OK,_Y=y3.Z_STREAM_END,_Q=y3.Z_DEFAULT_COMPRESSION,_0=y3.Z_DEFAULT_STRATEGY,_1=y3.Z_DEFLATED;function _2(e){this.options=_U.assign({level:_Q,method:_1,chunkSize:16384,windowBits:15,memLevel:8,strategy:_0},e||{});var t,n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _Z,this.strm.avail_out=0;var r=_B.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(r!==_J)throw Error(y4[r]);if(n.header&&_B.deflateSetHeader(this.strm,n.header),n.dictionary){if(t="string"==typeof n.dictionary?_H.string2buf(n.dictionary):"[object ArrayBuffer]"===_K.call(n.dictionary)?new Uint8Array(n.dictionary):n.dictionary,(r=_B.deflateSetDictionary(this.strm,t))!==_J)throw Error(y4[r]);this._dict_set=!0}}function _5(e,t){var n=new _2(t);if(n.push(e,!0),n.err)throw n.msg||y4[n.err];return n.result}_2.prototype.push=function(e,t){var n,r,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;for(r=t===~~t?t:!0===t?_X:_W,"string"==typeof e?i.input=_H.string2buf(e):"[object ArrayBuffer]"===_K.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(o),i.next_out=0,i.avail_out=o),(r===_$||r===_q)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if((n=_B.deflate(i,r))===_Y)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),n=_B.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===_J;if(0!==i.avail_out){if(r>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},_2.prototype.onData=function(e){this.chunks.push(e)},_2.prototype.onEnd=function(e){e===_J&&(this.result=_U.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var _4=_2,_3=_5,_6=function(e,t){return(t=t||{}).raw=!0,_5(e,t)},_9=function(e,t){return(t=t||{}).gzip=!0,_5(e,t)},_7=function(e,t){var n,r,i,o,a,s,l,c,u,h,d,f,p,v,g,m,y,_,b,w,S,E,k,T,x=e.state;n=e.next_in,k=e.input,r=n+(e.avail_in-5),i=e.next_out,T=e.output,o=i-(t-e.avail_out),a=i+(e.avail_out-257),s=x.dmax,l=x.wsize,c=x.whave,u=x.wnext,h=x.window,d=x.hold,f=x.bits,p=x.lencode,v=x.distcode,g=(1<<x.lenbits)-1,m=(1<<x.distbits)-1;t:do for(f<15&&(d+=k[n++]<<f,f+=8,d+=k[n++]<<f,f+=8),y=p[d&g];;){if(d>>>=_=y>>>24,f-=_,0==(_=y>>>16&255))T[i++]=65535&y;else{if(!(16&_)){if(!(64&_)){y=p[(65535&y)+(d&(1<<_)-1)];continue}if(32&_){x.mode=16191;break t}e.msg="invalid literal/length code",x.mode=16209;break t}for(b=65535&y,(_&=15)&&(f<_&&(d+=k[n++]<<f,f+=8),b+=d&(1<<_)-1,d>>>=_,f-=_),f<15&&(d+=k[n++]<<f,f+=8,d+=k[n++]<<f,f+=8),y=v[d&m];;){if(d>>>=_=y>>>24,f-=_,!(16&(_=y>>>16&255))){if(!(64&_)){y=v[(65535&y)+(d&(1<<_)-1)];continue}e.msg="invalid distance code",x.mode=16209;break t}if(w=65535&y,f<(_&=15)&&(d+=k[n++]<<f,(f+=8)<_&&(d+=k[n++]<<f,f+=8)),(w+=d&(1<<_)-1)>s){e.msg="invalid distance too far back",x.mode=16209;break t}if(d>>>=_,f-=_,w>(_=i-o)){if((_=w-_)>c&&x.sane){e.msg="invalid distance too far back",x.mode=16209;break t}if(S=0,E=h,0===u){if(S+=l-_,_<b){b-=_;do T[i++]=h[S++];while(--_);S=i-w,E=T}}else if(u<_){if(S+=l+u-_,(_-=u)<b){b-=_;do T[i++]=h[S++];while(--_);if(S=0,u<b){b-=_=u;do T[i++]=h[S++];while(--_);S=i-w,E=T}}}else if(S+=u-_,_<b){b-=_;do T[i++]=h[S++];while(--_);S=i-w,E=T}for(;b>2;)T[i++]=E[S++],T[i++]=E[S++],T[i++]=E[S++],b-=3;b&&(T[i++]=E[S++],b>1&&(T[i++]=E[S++]))}else{S=i-w;do T[i++]=T[S++],T[i++]=T[S++],T[i++]=T[S++],b-=3;while(b>2);b&&(T[i++]=T[S++],b>1&&(T[i++]=T[S++]))}break}}break}while(n<r&&i<a);n-=b=f>>3,d&=(1<<(f-=b<<3))-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<a?a-i+257:257-(i-a),x.hold=d,x.bits=f},_8=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),be=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),bt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),bn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),br=function(e,t,n,r,i,o,a,s){var l,c,u,h,d,f,p,v,g,m=s.bits,y=0,_=0,b=0,w=0,S=0,E=0,k=0,T=0,x=0,C=0,I=null,O=new Uint16Array(16),A=new Uint16Array(16),P=null;for(y=0;y<=15;y++)O[y]=0;for(_=0;_<r;_++)O[t[n+_]]++;for(S=m,w=15;w>=1&&0===O[w];w--);if(S>w&&(S=w),0===w)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(b=1;b<w&&0===O[b];b++);for(S<b&&(S=b),T=1,y=1;y<=15;y++)if(T<<=1,(T-=O[y])<0)return -1;if(T>0&&(0===e||1!==w))return -1;for(A[1]=0,y=1;y<15;y++)A[y+1]=A[y]+O[y];for(_=0;_<r;_++)0!==t[n+_]&&(a[A[t[n+_]]++]=_);if(0===e?(I=P=a,f=20):1===e?(I=_8,P=be,f=257):(I=bt,P=bn,f=0),C=0,_=0,y=b,d=o,E=S,k=0,u=-1,h=(x=1<<S)-1,1===e&&x>852||2===e&&x>592)return 1;for(;;){p=y-k,a[_]+1<f?(v=0,g=a[_]):a[_]>=f?(v=P[a[_]-f],g=I[a[_]-f]):(v=96,g=0),l=1<<y-k,b=c=1<<E;do i[d+(C>>k)+(c-=l)]=p<<24|v<<16|g;while(0!==c);for(l=1<<y-1;C&l;)l>>=1;if(0!==l?(C&=l-1,C+=l):C=0,_++,0==--O[y]){if(y===w)break;y=t[n+a[_]]}if(y>S&&(C&h)!==u){for(0===k&&(k=S),d+=b,T=1<<(E=y-k);E+k<w&&!((T-=O[E+k])<=0);)E++,T<<=1;if(x+=1<<E,1===e&&x>852||2===e&&x>592)return 1;i[u=C&h]=S<<24|E<<16|d-o}}return 0!==C&&(i[d+C]=y-k<<24|4194304),s.bits=S,0},bi=y3.Z_FINISH,bo=y3.Z_BLOCK,ba=y3.Z_TREES,bs=y3.Z_OK,bl=y3.Z_STREAM_END,bc=y3.Z_NEED_DICT,bu=y3.Z_STREAM_ERROR,bh=y3.Z_DATA_ERROR,bd=y3.Z_MEM_ERROR,bf=y3.Z_BUF_ERROR,bp=y3.Z_DEFLATED,bv=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function bg(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var bm,by,b_=function(e){if(!e)return 1;var t=e.state;return!t||t.strm!==e||t.mode<16180||t.mode>16211?1:0},bb=function(e){if(b_(e))return bu;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=16180,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,bs},bw=function(e){if(b_(e))return bu;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,bb(e)},bS=function(e,t){if(b_(e))return bu;var n,r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?bu:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,bw(e))},bE=function(e,t){if(!e)return bu;var n=new bg;e.state=n,n.strm=e,n.window=null,n.mode=16180;var r=bS(e,t);return r!==bs&&(e.state=null),r},bk=!0,bT=function(e){if(bk){bm=new Int32Array(512),by=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(br(1,e.lens,0,288,bm,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;br(2,e.lens,0,32,by,0,e.work,{bits:5}),bk=!1}e.lencode=bm,e.lenbits=9,e.distcode=by,e.distbits=5},bx=function(e,t,n,r){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>r&&(i=r),o.window.set(t.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},bC={inflateReset:bw,inflateInit2:bE,inflate:function(e,t){var n,r,i,o,a,s,l,c,u,h,d,f,p,v,g,m,y,_,b,w,S,E,k,T,x=0,C=new Uint8Array(4),I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(b_(e)||!e.output||!e.input&&0!==e.avail_in)return bu;16191===(n=e.state).mode&&(n.mode=16192),a=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,h=s,d=l,E=bs;t:for(;;)switch(n.mode){case 16180:if(0===n.wrap){n.mode=16192;break}for(;u<16;){if(0===s)break t;s--,c+=r[o++]<<u,u+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,C[0]=255&c,C[1]=c>>>8&255,n.check=y5(n.check,C,2,0),c=0,u=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=16209;break}if((15&c)!==bp){e.msg="unknown compression method",n.mode=16209;break}if(u-=4,S=8+(15&(c>>>=4)),0===n.wbits&&(n.wbits=S),S>15||S>n.wbits){e.msg="invalid window size",n.mode=16209;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&c?16189:16191,c=0,u=0;break;case 16181:for(;u<16;){if(0===s)break t;s--,c+=r[o++]<<u,u+=8}if(n.flags=c,(255&mk(n))!==bp){e.msg="unknown compression method",n.mode=16209;break}if(57344&mk(n)){e.msg="unknown header flags set",n.mode=16209;break}n.head&&(n.head.text=c>>8&1),512&mk(n)&&4&n.wrap&&(C[0]=255&c,C[1]=c>>>8&255,n.check=y5(n.check,C,2,0)),c=0,u=0,n.mode=16182;case 16182:for(;u<32;){if(0===s)break t;s--,c+=r[o++]<<u,u+=8}n.head&&(n.head.time=c),512&mk(n)&&4&n.wrap&&(C[0]=255&c,C[1]=c>>>8&255,C[2]=c>>>16&255,C[3]=c>>>24&255,n.check=y5(n.check,C,4,0)),c=0,u=0,n.mode=16183;case 16183:for(;u<16;){if(0===s)break t;s--,c+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&mk(n)&&4&n.wrap&&(C[0]=255&c,C[1]=c>>>8&255,n.check=y5(n.check,C,2,0)),c=0,u=0,n.mode=16184;case 16184:if(1024&mk(n)){for(;u<16;){if(0===s)break t;s--,c+=r[o++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&mk(n)&&4&n.wrap&&(C[0]=255&c,C[1]=c>>>8&255,n.check=y5(n.check,C,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&mk(n)&&((f=n.length)>s&&(f=s),f&&(n.head&&(S=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+f),S)),512&mk(n)&&4&n.wrap&&(n.check=y5(n.check,r,f,o)),s-=f,o+=f,n.length-=f),n.length))break t;n.length=0,n.mode=16186;case 16186:if(2048&mk(n)){if(0===s)break t;f=0;do S=r[o+f++],n.head&&S&&n.length<65536&&(n.head.name+=String.fromCharCode(S));while(S&&f<s);if(512&mk(n)&&4&n.wrap&&(n.check=y5(n.check,r,f,o)),s-=f,o+=f,S)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&mk(n)){if(0===s)break t;f=0;do S=r[o+f++],n.head&&S&&n.length<65536&&(n.head.comment+=String.fromCharCode(S));while(S&&f<s);if(512&mk(n)&&4&n.wrap&&(n.check=y5(n.check,r,f,o)),s-=f,o+=f,S)break t}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&mk(n)){for(;u<16;){if(0===s)break t;s--,c+=r[o++]<<u,u+=8}if(4&n.wrap&&c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=16209;break}c=0,u=0}n.head&&(n.head.hcrc=mk(n)>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=16191;break;case 16189:for(;u<32;){if(0===s)break t;s--,c+=r[o++]<<u,u+=8}e.adler=n.check=bv(c),c=0,u=0,n.mode=16190;case 16190:if(0===n.havedict)return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,bc;e.adler=n.check=1,n.mode=16191;case 16191:if(t===bo||t===ba)break t;case 16192:if(n.last){c>>>=7&u,u-=7&u,n.mode=16206;break}for(;u<3;){if(0===s)break t;s--,c+=r[o++]<<u,u+=8}switch(n.last=1&c,u-=1,3&(c>>>=1)){case 0:n.mode=16193;break;case 1:if(bT(n),n.mode=16199,t===ba){c>>>=2,u-=2;break t}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=16209}c>>>=2,u-=2;break;case 16193:for(c>>>=7&u,u-=7&u;u<32;){if(0===s)break t;s--,c+=r[o++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=16209;break}if(n.length=65535&c,c=0,u=0,n.mode=16194,t===ba)break t;case 16194:n.mode=16195;case 16195:if(f=n.length){if(f>s&&(f=s),f>l&&(f=l),0===f)break t;i.set(r.subarray(o,o+f),a),s-=f,o+=f,l-=f,a+=f,n.length-=f;break}n.mode=16191;break;case 16196:for(;u<14;){if(0===s)break t;s--,c+=r[o++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=16209;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;u<3;){if(0===s)break t;s--,c+=r[o++]<<u,u+=8}n.lens[I[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,k={bits:n.lenbits},E=br(0,n.lens,0,19,n.lencode,0,n.work,k),n.lenbits=k.bits,E){e.msg="invalid code lengths set",n.mode=16209;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;m=(x=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,y=65535&x,!((g=x>>>24)<=u);){if(0===s)break t;s--,c+=r[o++]<<u,u+=8}if(y<16)c>>>=g,u-=g,n.lens[n.have++]=y;else{if(16===y){for(T=g+2;u<T;){if(0===s)break t;s--,c+=r[o++]<<u,u+=8}if(c>>>=g,u-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=16209;break}S=n.lens[n.have-1],f=3+(3&c),c>>>=2,u-=2}else if(17===y){for(T=g+3;u<T;){if(0===s)break t;s--,c+=r[o++]<<u,u+=8}u-=g,S=0,f=3+(7&(c>>>=g)),c>>>=3,u-=3}else{for(T=g+7;u<T;){if(0===s)break t;s--,c+=r[o++]<<u,u+=8}u-=g,S=0,f=11+(127&(c>>>=g)),c>>>=7,u-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=16209;break}for(;f--;)n.lens[n.have++]=S}}if(16209===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=16209;break}if(n.lenbits=9,k={bits:n.lenbits},E=br(1,n.lens,0,n.nlen,n.lencode,0,n.work,k),n.lenbits=k.bits,E){e.msg="invalid literal/lengths set",n.mode=16209;break}if(n.distbits=6,n.distcode=n.distdyn,k={bits:n.distbits},E=br(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,k),n.distbits=k.bits,E){e.msg="invalid distances set",n.mode=16209;break}if(n.mode=16199,t===ba)break t;case 16199:n.mode=16200;case 16200:if(s>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,_7(e,d),a=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,16191===n.mode&&(n.back=-1);break}for(n.back=0;m=(x=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,y=65535&x,!((g=x>>>24)<=u);){if(0===s)break t;s--,c+=r[o++]<<u,u+=8}if(m&&!(240&m)){for(_=g,b=m,w=y;m=(x=n.lencode[w+((c&(1<<_+b)-1)>>_)])>>>16&255,y=65535&x,!(_+(g=x>>>24)<=u);){if(0===s)break t;s--,c+=r[o++]<<u,u+=8}c>>>=_,u-=_,n.back+=_}if(c>>>=g,u-=g,n.back+=g,n.length=y,0===m){n.mode=16205;break}if(32&m){n.back=-1,n.mode=16191;break}if(64&m){e.msg="invalid literal/length code",n.mode=16209;break}n.extra=15&m,n.mode=16201;case 16201:if(n.extra){for(T=n.extra;u<T;){if(0===s)break t;s--,c+=r[o++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;m=(x=n.distcode[c&(1<<n.distbits)-1])>>>16&255,y=65535&x,!((g=x>>>24)<=u);){if(0===s)break t;s--,c+=r[o++]<<u,u+=8}if(!(240&m)){for(_=g,b=m,w=y;m=(x=n.distcode[w+((c&(1<<_+b)-1)>>_)])>>>16&255,y=65535&x,!(_+(g=x>>>24)<=u);){if(0===s)break t;s--,c+=r[o++]<<u,u+=8}c>>>=_,u-=_,n.back+=_}if(c>>>=g,u-=g,n.back+=g,64&m){e.msg="invalid distance code",n.mode=16209;break}n.offset=y,n.extra=15&m,n.mode=16203;case 16203:if(n.extra){for(T=n.extra;u<T;){if(0===s)break t;s--,c+=r[o++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=16209;break}n.mode=16204;case 16204:if(0===l)break t;if(f=d-l,n.offset>f){if((f=n.offset-f)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=16209;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),v=n.window}else v=i,p=a-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do i[a++]=v[p++];while(--f);0===n.length&&(n.mode=16200);break;case 16205:if(0===l)break t;i[a++]=n.length,l--,n.mode=16200;break;case 16206:if(n.wrap){for(;u<32;){if(0===s)break t;s--,c|=r[o++]<<u,u+=8}if(d-=l,e.total_out+=d,n.total+=d,4&n.wrap&&d&&(e.adler=n.check=mk(n)?y5(n.check,i,d,a-d):y1(n.check,i,d,a-d)),d=l,4&n.wrap&&(mk(n)?c:bv(c))!==n.check){e.msg="incorrect data check",n.mode=16209;break}c=0,u=0}n.mode=16207;case 16207:if(n.wrap&&mk(n)){for(;u<32;){if(0===s)break t;s--,c+=r[o++]<<u,u+=8}if(4&n.wrap&&c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=16209;break}c=0,u=0}n.mode=16208;case 16208:E=bl;break t;case 16209:E=bh;break t;case 16210:return bd;default:return bu}return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,(n.wsize||d!==e.avail_out&&n.mode<16209&&(n.mode<16206||t!==bi))&&bx(e,e.output,e.next_out,d-e.avail_out),h-=e.avail_in,d-=e.avail_out,e.total_in+=h,e.total_out+=d,n.total+=d,4&n.wrap&&d&&(e.adler=n.check=mk(n)?y5(n.check,i,d,e.next_out-d):y1(n.check,i,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(16191===n.mode?128:0)+(16199===n.mode||16194===n.mode?256:0),(0===h&&0===d||t===bi)&&E===bs&&(E=bf),E},inflateEnd:function(e){if(b_(e))return bu;var t=e.state;return t.window&&(t.window=null),e.state=null,bs},inflateGetHeader:function(e,t){if(b_(e))return bu;var n=e.state;return 2&n.wrap?(n.head=t,t.done=!1,bs):bu},inflateSetDictionary:function(e,t){var n,r=t.length;return b_(e)||0!==(n=e.state).wrap&&16190!==n.mode?bu:16190===n.mode&&y1(1,t,r,0)!==n.check?bh:bx(e,t,r,r)?(n.mode=16210,bd):(n.havedict=1,bs)}},bI=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},bO=Object.prototype.toString,bA=y3.Z_NO_FLUSH,bP=y3.Z_FINISH,bR=y3.Z_OK,bD=y3.Z_STREAM_END,bL=y3.Z_NEED_DICT,bM=y3.Z_STREAM_ERROR,bz=y3.Z_DATA_ERROR,bN=y3.Z_MEM_ERROR;function bj(e){this.options=_U.assign({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _Z,this.strm.avail_out=0;var n=bC.inflateInit2(this.strm,t.windowBits);if(n!==bR||(this.header=new bI,bC.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=_H.string2buf(t.dictionary):"[object ArrayBuffer]"===bO.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=bC.inflateSetDictionary(this.strm,t.dictionary))!==bR)))throw Error(y4[n])}function bB(e,t){var n=new bj(t);if(n.push(e),n.err)throw n.msg||y4[n.err];return n.result}bj.prototype.push=function(e,t){var n,r,i,o=this.strm,a=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(r=t===~~t?t:!0===t?bP:bA,"[object ArrayBuffer]"===bO.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;;){for(0===o.avail_out&&(o.output=new Uint8Array(a),o.next_out=0,o.avail_out=a),(n=bC.inflate(o,r))===bL&&s&&((n=bC.inflateSetDictionary(o,s))===bR?n=bC.inflate(o,r):n===bz&&(n=bL));o.avail_in>0&&n===bD&&o.state.wrap>0&&0!==e[o.next_in];)bC.inflateReset(o),n=bC.inflate(o,r);switch(n){case bM:case bz:case bL:case bN:return this.onEnd(n),this.ended=!0,!1}if(i=o.avail_out,o.next_out&&(0===o.avail_out||n===bD)){if("string"===this.options.to){var l=_H.utf8border(o.output,o.next_out),c=o.next_out-l,u=_H.buf2string(o.output,l);o.next_out=c,o.avail_out=a-c,c&&o.output.set(o.output.subarray(l,l+c),0),this.onData(u)}else this.onData(o.output.length===o.next_out?o.output:o.output.subarray(0,o.next_out))}if(n!==bR||0!==i){if(n===bD)return n=bC.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===o.avail_in)break}}return!0},bj.prototype.onData=function(e){this.chunks.push(e)},bj.prototype.onEnd=function(e){e===bR&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=_U.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var bU=bj,bF=bB,bG=function(e,t){return(t=t||{}).raw=!0,bB(e,t)},bV=bB,bH={gzip:_9},bZ=function(){function e(e,t){var n=this;this.requestType="",this.collector=e,this.config=t,this.requestType=t.request_type,this.supportBeacon=!(!window.navigator||!window.navigator.sendBeacon),this.errorCode={NO_URL:4001,IMG_ON:4e3,IMG_CATCH:4002,BEACON_FALSE:4003,XHR_ERROR:5002,TIMEOUT:5005,FETCH_ERROR:5006},this.errorMessage={BEACON_FALSE:"xhr sendbeacon error",XHR_ERROR:"xhr request error",BEACON:"xhr sendbeacon error",TIMEOUT:"xhr request timeout",FETCH_ERROR:"fetch network error",FETCH_RESPONSE_ERROR:"fetch response error"},this.customHeader=t.custom_request_header||{},this.collector.on(yn.CustomHeader,function(e){n.setRequestHeader(e)}),this.supportZip=!this.config.channel_domain}return e.prototype.setRequestHeader=function(e){this.customHeader=lz(this.customHeader,e)},e.prototype.useFetch=function(e){var t=this,n=e.url,r=e.data,i=e.method,o=e.success,a=e.fail,s=e.zip,l=e.timeout,c=e.useBeacon;if(window.fetch&&"undefined"!=typeof Request){if(c&&!("keepalive"in Request.prototype))return void this.useBeacon(e);var u={"Content-Type":"application/json; charset=utf-8"};if(lO(this.customHeader).length)for(var h in this.customHeader)u[h]=this.customHeader[h];var d=null;d="undefined"!=typeof AbortController?new AbortController:{signal:null,abort:function(){}};var f=pS(function(){d.abort()},l),p=l5(r);if(this.supportZip&&s&&this.config.need_zip){var v=(new TextEncoder).encode(p);p=bH.gzip(v),u["Content-Encoding"]="gzip"}var g=uQ();try{fetch(n,{method:i||"POST",headers:u,body:p,keepalive:!0,signal:d.signal}).then(function(e){return e.ok||a&&a(r,e.status,g,e.statusText||t.errorMessage.FETCH_RESPONSE_ERROR),e.json()}).then(function(e){clearTimeout(f),o&&o(e,r,g,200)}).catch(function(e){clearTimeout(f),a&&a(r,t.errorCode.FETCH_ERROR,g,e.message||t.errorMessage.FETCH_ERROR)})}catch(t){this.useXhr(e),this.collector.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK useFetch 发送请求发生了一些问题",level:"error",time:uQ(),data:t.message||"SDK useFetch has some errors",infoType:"sdk"})}}else c?this.useBeacon(e):(this.requestType="",this.useXhr(e))},e.prototype.useBeacon=function(e){var t=e.url,n=e.data,r=e.success,i=e.fail,o=uQ();window.navigator.sendBeacon(t,l5(n))?r&&r({e:0},n,o,200):i&&i(n,this.errorCode.BEACON_FALSE,o,this.errorMessage.BEACON_FALSE)},e.prototype.useXhr=function(e){var t=this,n=e.url,r=e.data,i=e.method,o=e.success,a=e.fail,s=e.timeout,l=e.withCredentials,c=e.app_key,u=e.zip;try{var h=new XMLHttpRequest,d=uQ();if(h.open(i||"POST",""+n,!0),h.setRequestHeader("Content-Type","application/json; charset=utf-8"),c&&h.setRequestHeader("X-MCS-AppKey",""+c),lO(this.customHeader).length)for(var f in this.customHeader)h.setRequestHeader(f,this.customHeader[f]);l&&(h.withCredentials=!0),s&&(h.timeout=s,h.ontimeout=function(){a&&a(r,t.errorCode.TIMEOUT,d,t.errorMessage.TIMEOUT)}),h.onload=function(){if(o){var e=null;if(h.responseText){try{e=JSON.parse(h.responseText)}catch(t){e={}}o(e,r,d,h.status)}}},h.onerror=function(){h.abort(),a&&a(r,t.errorCode.XHR_ERROR,d,t.errorMessage.XHR_ERROR)};try{var p=l5(r);if(this.config.need_zip&&u){if(this.supportZip){var v=(new TextEncoder).encode(p),g=bH.gzip(v);h.setRequestHeader("Content-Encoding","gzip"),h.send(g)}else h.send(p),this.collector.logger.warn("your channel do not support gzip, use normal data!")}else h.send(p)}catch(e){h.send(l5(r)),this.collector.emit("sdk-inner-error",{type:"sdk_error_send",eventData:r,errorCode:1e3,msg:e.message||e.stack||"sdk_error_send"})}}catch(e){this.collector.emit("sdk-inner-error",{type:"sdk_error_request",eventData:r,errorCode:1001,msg:e.message||e.stack||"sdk_error_request"}),this.collector.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK useXhr has some error",level:"error",time:uQ(),data:e.message,infoType:"sdk"})}},e.prototype.useRequest=function(e){var t=e.useBeacon;this.config.transport&&this.collector.configManager.getEnableClientTransport()?this.useCustomRequest(e):this.requestType&&"xhr"===this.requestType?this.useXhr(e):t&&this.supportBeacon?this.useBeacon(e):this.requestType&&"fetch"===this.requestType?this.useFetch(e):this.useXhr(e)},e.prototype.useCustomRequest=function(e){var t=this.config.transport,n=e.url,r=e.data,i=e.success,o=e.fail;if(t)try{t.post({url:n,data:l5(r),success:function(e){i&&i(e,r)},fail:function(e){o&&o(e,r)}})}catch(t){this.collector.configManager.setEnableClientTransport(!1),this.useRequest(e),this.collector.emit("sdk-inner-error",{type:"sdk_transport_error",eventData:r,errorCode:1003,msg:t.message||t.stack||"sdk_transport_error"})}},e}(),bK=function(){function e(e){var t=this;this.onMove=function(e){if(t.isDragging){var n=e.clientX||e.touches[0].clientX,r=e.clientY||e.touches[0].clientY;if(t.clickAllowed){var i=Math.abs(n-t.initialX),o=Math.abs(r-t.initialY);(i>t.dragThreshold||o>t.dragThreshold)&&(t.clickAllowed=!1)}t.animationFrameId&&cancelAnimationFrame(t.animationFrameId),t.animationFrameId=requestAnimationFrame(function(){var n=e.touches?e.touches[0].clientX:e.clientX,r=e.touches?e.touches[0].clientY:e.clientY,i=n-t.offsetX,o=r-t.offsetY,a=window.innerWidth-t.element.offsetWidth,s=window.innerHeight-t.element.offsetHeight;i=Math.max(0,Math.min(i,a)),o=Math.max(0,Math.min(o,s)),t.element.style.transform="translate(\n        "+(i-t.initialX)+"px, \n        "+(o-t.initialY)+"px\n      )"})}},this.onEnd=function(){if(t.isDragging){t.isDragging=!1;var e=new DOMMatrix(getComputedStyle(t.element).transform),n=t.initialX+e.m41,r=t.initialY+e.m42;t.element.style.left=n+"px",t.element.style.top=r+"px",t.element.style.transform="none",t.initialX=n,t.initialY=r,document.removeEventListener("mousemove",t.onMove),document.removeEventListener("mouseup",t.onEnd),document.removeEventListener("touchmove",t.onMove),document.removeEventListener("touchend",t.onEnd),pS(function(){t.clickAllowed=!0},50)}},this.element=e,this.isDragging=!1,this.animationFrameId=null,this.lastX=0,this.lastY=0,this.initialX=0,this.initialY=0,this.offsetX=0,this.offsetY=0,this.clickAllowed=!0,this.dragThreshold=1,this.initPosition(),this.bindEvents(),this.bindClickHandler()}return e.prototype.initPosition=function(){var e=this.element.getBoundingClientRect();this.element.style.position="fixed",this.element.style.left=e.left+"px",this.element.style.top=e.top+"px",this.element.style.transform="translate(0, 0)"},e.prototype.bindEvents=function(){var e,t;this.element.addEventListener("mousedown",mT(e=this.onStart).call(e,this)),this.element.addEventListener("touchstart",mT(t=this.onStart).call(t,this))},e.prototype.onStart=function(e){e.preventDefault(),this.initialX=e.clientX||e.touches[0].clientX,this.initialY=e.clientY||e.touches[0].clientY;var t=e.touches?e.touches[0].clientX:e.clientX,n=e.touches?e.touches[0].clientY:e.clientY,r=this.element.getBoundingClientRect();this.initialX=r.left,this.initialY=r.top,this.offsetX=t-this.initialX,this.offsetY=n-this.initialY,this.clickAllowed=!0,this.isDragging=!0,document.addEventListener("mousemove",this.onMove),document.addEventListener("mouseup",this.onEnd),document.addEventListener("touchmove",this.onMove),document.addEventListener("touchend",this.onEnd)},e.prototype.bindClickHandler=function(){var e=this;this.element.addEventListener("click",function(t){if(!e.clickAllowed)return t.stopImmediatePropagation(),void t.preventDefault();window&&window.postMessage({type:"devtool:web:open-draw"},location.origin)})},e}(),bW=function(){function e(e,t){this.devToolReady=!1,this.devToolOrigin="*",this.sendAlready=!1,this.hasLoadDevTools=!1,t.disable_debug||"Microsoft Internet Explorer"!==e.configManager.get("browser")&&(this.collect=e,this.config=t,this.app_id=t.app_id,this.cacheStorgae=new mY,this.currentAppKey="__applog_load_devtool_web_"+this.app_id,this.loadUrl=t.devtool_url||mM("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z21z22z18z22z1gz1az4az18z1nz1nz1jz1mz1ez1az1bz1lz4az1az1mz1kz4bz1mz19z1hz4bz18z1nz1nz1jz1mz1ez49z21z1bz1iz49z21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz1bz1cz24z22z1mz1mz1jz4bz1bz1cz19z23z1ez49z25z1cz19z4az24z4ez4az4cz4az4dz4az1hz21"),this.filterEvent=new us(["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure","bav2b_page","bav2b_beat","bav2b_page_statistics","bav2b_click","bav2b_page_exposure","_be_active","predefine_pageview","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append","predefine_page_alive","predefine_page_close","abtest_exposure"]),this.load())}return e.prototype.loadScript=function(e){var t=this;try{var n=document.createElement("script");n.src=e,n.onerror=function(){},n.onload=function(){t.cacheStorgae.setLocalItem(t.currentAppKey,1)},document.getElementsByTagName("body")[0].appendChild(n),this.cacheStorgae.setLocalItem(this.currentAppKey,1)}catch(e){}},e.prototype.parseUrl=function(){var e={};try{var t=window.location.href.split("?")[1].split("&");t.length&&lI(t).call(t,function(t){var n=t.split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])})}catch(e){}return e},e.prototype.load=function(){try{var e=this.parseUrl();if(0==e.open_devtool_web)return void this.cacheStorgae.removeLocalItem("__applog_open_devtool_web");if(e.open_devtool_web&&e.app_id){if(dh(e.app_id)!==this.app_id)return}else if(!this.getStorage())return;this.addLintener(),this.loadBaseInfo(),this.loadHook(),this.setStorage(),this.loadDevTool()}catch(e){}},e.prototype.getStorage=function(){var e=this.cacheStorgae.getLocalItem("__applog_open_devtool_web");return e&&dh(e)===this.app_id},e.prototype.setStorage=function(){this.cacheStorgae.setLocalItem("__applog_open_devtool_web",this.app_id)},e.prototype.loadDevTool=function(){1==this.cacheStorgae.getLocalItem(this.currentAppKey)||(this.loadDebuggerModule(),this.loadScript(this.loadUrl))},e.prototype.loadBaseInfo=function(){if(this.log=[],this.event=[],this.info=[{title:"基本信息",key:"base",type:1,content:[{name:"app_id",desc:"APP_ID",value:this.config.app_id},{name:"channel",desc:"CHANNEL",value:this.config.channel},{name:"domain",desc:"上报域名",value:this.collect.configManager.getDomain()},{name:"sdk_version",desc:"SDK版本",value:m7},{name:"sdk_type",desc:"SDK引入方式",value:"npm"}]},{title:"用户信息",key:"user",type:2,content:[{name:"uuid",desc:"UUID",value:this.collect.configManager.get("user").user_unique_id||""},{name:"web_id",desc:"WEB_ID",value:this.collect.configManager.get("user").web_id||""}]},{title:"公共参数信息",type:2,key:"common",content:[{name:"browser",desc:"浏览器",value:this.collect.configManager.get("browser")},{name:"browser_version",desc:"浏览器版本",value:this.collect.configManager.get("browser_version")},{name:"platform",desc:"平台",value:this.collect.configManager.get("platform")},{name:"device_model",desc:"设备型号",value:this.collect.configManager.get("device_model")},{name:"os_name",desc:"操作系统",value:this.collect.configManager.get("os_name")},{name:"os_version",desc:"操作系统版本",value:this.collect.configManager.get("os_version")},{name:"resolution",desc:"屏幕分辨率",value:this.collect.configManager.get("resolution")},{name:"referrer",desc:"来源",value:this.collect.configManager.get("referrer")},{name:"custom",desc:"自定义信息",value:l5(this.collect.configManager.get("custom"))}]},{title:"配置信息",key:"config",type:3,content:[{name:"autotrack",desc:"全埋点",value:!!this.config.autotrack},{name:"stay",desc:"停留时长",value:!!this.config.enable_stay_duration}]},{title:"A/B配置信息",key:"ab",type:4,content:[{name:"ab",desc:"A/B实验",value:!!this.config.enable_ab_test}]}],this.config.enable_ab_test){var e=this.getInfo("ab"),t=[{name:"ab",desc:"A/B实验",value:!!this.config.enable_ab_test},{name:"vid",desc:"已曝光VID",value:this.collect.configManager.getAbVersion()},{name:"ab_domain",desc:"A/B域名",value:this.config.ab_channel_domain||mM(m6[this.config.channel])},{name:"all_values",desc:"全部配置",value:this.collect.configManager.getAbCache()}];e.content=t,this.setInfo("ab",e)}if(this.config.enable_native||this.config.Native){var n={title:"客户端信息",type:3,content:[{name:"native",desc:"是否打通",value:!!this.collect.bridgeReport}]};this.setInfo("native",n)}if(hu(m7).call(m7,"tob")){var r,i=this.getInfo("user");i.content.push({name:"sid",desc:fi(r="DISS".split("")).call(r).join(""),value:"点击获取"}),this.setInfo("user",i)}},e.prototype.getInfo=function(e){var t,n=null;return lI(t=this.info).call(t,function(t){t.key===e&&(n=t)}),n},e.prototype.setInfo=function(e,t){var n,r=!1;lI(n=this.info).call(n,function(n){n.key===e&&(r=!0,n=t)}),r||this.info.push(t)},e.prototype.getSecondInfo=function(e,t){var n,r=this.getInfo(e),i=null;return lI(n=r.content).call(n,function(e){e.name===t&&(i=e)}),i},e.prototype.setSecondInfo=function(e,t,n){var r,i=this.getInfo(e),o=!1;if(lI(r=i.content).call(r,function(e){e.name===t&&(e.value=n,o=!0)}),!o){var a={name:t,value:n,desc:t.toLocaleUpperCase()};i.content.push(a)}this.setInfo(e,i)},e.prototype.loadHook=function(){var e=this;this.collect.on(mW.DEBUGGER_MESSAGE,function(t){switch(t.type){case mW.DEBUGGER_MESSAGE_SDK:var n={time:t.time,type:t.logType||"sdk",infoType:t.infoType||"sdk",level:t.level,name:t.info,show:!0,levelShow:!0,needDesc:!!t.data};if(t.data&&(n.desc={content:l5(t.data)}),e.updateLog(n),t.secType&&"AB"===t.secType)e.setSecondInfo("ab","vid",e.collect.configManager.getAbVersion()),e.setSecondInfo("ab","all_values",e.collect.configManager.getAbCache());else if("USER"===t.secType)e.setSecondInfo("user","user_unique_id"===t.common?"uuid":t.common,e.collect.configManager.get(t.common));else if("HEADER"===t.secType){var r=e.collect.configManager.get(t.common);e.setSecondInfo("common",t.common,"custom"===t.common?l5(r):r)}return void e.updateInfo();case mW.DEBUGGER_MESSAGE_EVENT:if(t.data&&t.data.length){var i=t.data[0],o=i.events;if(!o.length)return;lI(o).call(o,function(n){n.checkShow=!0,n.searchShow=!0,n.focusShow=!0,n.status=t.status,n.type=e.filterEvent.has(n.event)?"sdk":"cus",n.verifyType=t.verifyType?"verify":"no",n.info="","fail"===t.status&&(n.info={message:"code: "+t.code+"， msg: "+(t.msg||t.failType)})}),e.updateEvent(i)}return}})},e.prototype.addLintener=function(){var e=this;window.addEventListener("beforeunload",function(){e.cacheStorgae.removeLocalItem(e.currentAppKey)}),window.addEventListener("pagehide",function(){e.cacheStorgae.removeLocalItem(e.currentAppKey)}),window.addEventListener("message",function(t){if(t&&t.data&&"devtool:web:ready"===t.data.type){if(e.devToolOrigin=t.origin,e.devToolReady=!0,e.sendAlready)return;e.sendData("devtool:web:init",{info:e.info,log:e.log,event:e.event,sdk_type:hu(m7).call(m7,"tob")?"tob":"inner",appId:e.app_id}),e.sendAlready=!0}t&&t.data&&"devtool:web:ssid"===t.data.type&&e.collect.getToken(function(t){e.setSecondInfo("user","sid",t.tobid),e.updateInfo()})})},e.prototype.sendData=function(e,t){try{window&&window.postMessage({type:e,payload:t},this.devToolOrigin)}catch(e){}},e.prototype.updateInfo=function(){this.devToolReady&&this.sendData("devtool:web:info",this.info)},e.prototype.updateLog=function(e){this.devToolReady?this.sendData("devtool:web:log",e):this.log.push(e)},e.prototype.updateEvent=function(e){this.devToolReady?this.sendData("devtool:web:event",e):this.event.push(e)},e.prototype.loadDebuggerModule=function(){var e="#debugger-applog-web {\n      position: fixed;\n      width: 45px;\n      height: 45px;\n      background-image: url("+mM("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz1bz1cz24z22z1mz1mz1jz4bz18z1nz1nz1jz1mz1ez4az1nz1lz1e")+");\n      bottom: 5%;\n      right: 10%;\n      cursor: pointer;\n      z-index:100;\n      background-size: 45px;\n    }",t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.appendChild(document.createTextNode(e)),t.appendChild(n);var r=document.createElement("div");r.innerHTML='<div id="debugger-applog-web" class="debugger-applog-web"></div>';var i=document.createElement("div");i.innerHTML='<div id="debugger-container" class="debugger-container"></div>',document.getElementsByTagName("body")[0].appendChild(r),document.getElementsByTagName("body")[0].appendChild(i),new bK(document.getElementById("debugger-applog-web"))},e}(),b$={autotrack:{src:{cn:mM("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z21z22z18z22z1gz1az4az18z1nz1nz1jz1mz1ez1az1bz1lz4az1az1mz1kz4bz1mz19z1hz4bz18z1nz1nz1jz1mz1ez49z21z1bz1iz49z21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz4hz4bz1nz1jz23z1ez1gz1lz4bz18z23z22z1mz22z20z18z1az1iz4az1hz21"),sg:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-sg/log-sdk/collect/5/plugin/autotrack.js",va:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-us/log-sdk/collect/5/plugin/autotrack.js"},object:"LogAutoTrack"},ab:{src:{cn:mM("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z21z22z18z22z1gz1az4az18z1nz1nz1jz1mz1ez1az1bz1lz4az1az1mz1kz4bz1mz19z1hz4bz18z1nz1nz1jz1mz1ez49z21z1bz1iz49z21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz4hz4bz1nz1jz23z1ez1gz1lz4bz18z19z4az1hz21"),sg:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-sg/log-sdk/collect/5/plugin/ab.js",va:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-us/log-sdk/collect/5/plugin/ab.js"},object:"LogAb"},stay:{src:{cn:mM("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z21z22z18z22z1gz1az4az18z1nz1nz1jz1mz1ez1az1bz1lz4az1az1mz1kz4bz1mz19z1hz4bz18z1nz1nz1jz1mz1ez49z21z1bz1iz49z21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz4hz4bz1nz1jz23z1ez1gz1lz4bz21z22z18z27z4az1hz21"),sg:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-sg/log-sdk/collect/5/plugin/stay.js",va:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-us/log-sdk/collect/5/plugin/stay.js"},object:"LogStay"},route:{src:{cn:mM("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z21z22z18z22z1gz1az4az18z1nz1nz1jz1mz1ez1az1bz1lz4az1az1mz1kz4bz1mz19z1hz4bz18z1nz1nz1jz1mz1ez49z21z1bz1iz49z21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz4hz4bz1nz1jz23z1ez1gz1lz4bz20z1mz23z22z1cz4az1hz21"),sg:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-sg/log-sdk/collect/5/plugin/route.js",va:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-us/log-sdk/collect/5/plugin/route.js"},object:"LogRoute"},tracer:{src:{cn:mM("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z21z22z18z22z1gz1az4az18z1nz1nz1jz1mz1ez1az1bz1lz4az1az1mz1kz4bz1mz19z1hz4bz18z1nz1nz1jz1mz1ez49z21z1bz1iz49z21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz4hz4bz1nz1jz23z1ez1gz1lz4bz22z20z18z1az1cz20z4az1hz21"),sg:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-sg/log-sdk/collect/5/plugin/tracer.js",va:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-us/log-sdk/collect/5/plugin/tracer.js"},object:"LogTracer"},retry:{src:{cn:mM("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z21z22z18z22z1gz1az4az18z1nz1nz1jz1mz1ez1az1bz1lz4az1az1mz1kz4bz1mz19z1hz4bz18z1nz1nz1jz1mz1ez49z21z1bz1iz49z21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz4hz4bz1nz1jz23z1ez1gz1lz4bz20z1cz22z20z27z4az1hz21"),sg:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-sg/log-sdk/collect/5/plugin/retry.js",va:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-us/log-sdk/collect/5/plugin/retry.js"},object:"LogRetry"},visual:{src:{cn:mM("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z21z22z18z22z1gz1az4az18z1nz1nz1jz1mz1ez1az1bz1lz4az1az1mz1kz4bz1mz19z1hz4bz18z1nz1nz1jz1mz1ez49z21z1bz1iz49z21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz4hz4bz1nz1jz23z1ez1gz1lz4bz24z1gz21z23z18z1jz4az1hz21"),sg:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-sg/log-sdk/collect/5/plugin/visual.js",va:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-us/log-sdk/collect/5/plugin/visual.js"},object:"LogVisual"}},bq=["ab","autotrack","Stay","store","et","profile","cep","heartbeat","monitor","route","tracer"],bX=function(){function e(e){this.disableAutoPageView=!1,this.bridgeReport=!1,this.staging=!1,this.pluginInstances=[],this.sended=!1,this.started=!1,this.destroy=!1,this.sdkReady=!1,this.adapters={},this.loadType="base",this.sdkStop=!1,this.pageviewParams={},this.name=e,this.hook=new mP,this.remotePlugin=new f8,this.Types=yn,this.adapters.storage=m3,this.loadType="full"}return e.usePlugin=function(t,n,r){if(n){for(var i=!1,o=0,a=e.plugins.length;o<a;o++)if(e.plugins[o].name===n){e.plugins[o].plugin=t,e.plugins[o].options=r||{},i=!0;break}i||e.plugins.push({name:n,plugin:t,options:r})}else e.plugins.push({plugin:t})},e.prototype.usePlugin=function(e,t,n){e&&("full"===this.loadType&&hu(bq).call(bq,e)||(t?"string"==typeof t?this.remotePlugin.get(e)||this.remotePlugin.set(e,{src:t,call:n}):this.remotePlugin.get(e)||this.remotePlugin.set(e,{instance:t}):this.remotePlugin.get(e)||this.remotePlugin.set(e,"sdk")))},e.prototype.init=function(t){var n,r,i=this;this.logger=new yl(this.name,t.log),this.inited?this.logger.warn("[instance: "+this.name+"], every instance's api: init,  can be call only one time!"):t&&mR(t)?t.app_id&&"number"==typeof(r=t.app_id)&&!isNaN(r)?t.app_key&&"string"!=typeof t.app_key?this.logger.warn("app_key param is error, must be string, please check!"):(t.channel_domain||-1!==d9(n=["cn","sg","va","my"]).call(n,t.channel)||(this.logger.warn("channel must be `cn`, `sg`,`va`, `my` !"),t.channel="cn"),this.spider=new yc,this.spider.checkSpider(t)?this.logger.warn("your env may be a spider, can not report!"):(this.configManager=new ys(this,t),this.requestManager=new bZ(this,t),this.appBridge=new yu(t,this.configManager),this.bridgeReport=this.appBridge.bridgeInject(),this.debugger=new bW(this,t),this.initConfig=t,this.emit(yn.Init),this.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 执行Init",data:t,level:"info",time:uQ(),infoType:"cus"}),this.destroy=!1,t.disable_auto_pv&&(this.disableAutoPageView=!0),this.bridgeReport||(this.configManager.set({app_id:t.app_id}),this.eventManager=new yf,this.tokenManager=new yv,this.sessionManager=new yd,lC.all([new lC(function(e){i.once(yn.TokenComplete,function(){e(!0)})}),new lC(function(e){i.once(yn.Start,function(){e(!0)})})]).then(function(){try{var n;hY(n=e.plugins).call(n,function(e,t){var n=t.plugin,r=t.options,o=lz(i.initConfig,r),a=new n;return a.apply(i,o),e.push(a),i.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK加载"+t.name+"插件",level:"info",time:uQ(),infoType:"sdk"}),e},i.pluginInstances)}catch(e){i.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK加载插件发生了异常",level:"error",time:uQ(),data:e.message,infoType:"sdk"})}i.sdkReady=!0,i.emit(yn.Ready),i.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 用户信息初始化完成",time:uQ(),secType:"USER",level:"info",data:i.configManager.get("user"),infoType:"sdk"}),i.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 初始化完成",time:uQ(),level:"info",data:i.configManager.get("user"),infoType:"sdk"}),i.logger.info("appid: "+t.app_id+", userInfo:"+l5(i.configManager.get("user"))),i.logger.info("appid: "+t.app_id+", sdk is ready, version type is "+i.loadType+", version is "+m7+", you can report now !!!"),t.disable_auto_pv&&(i.disableAutoPageView=!0);try{"full"===i.loadType&&(t.enable_ab_test||t.autotrack)&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(e){i.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK发生了异常",level:"error",time:uQ(),data:e.message,infoType:"sdk"})}i.pageView(),i.on(yn.TokenChange,function(e){"webid"===e&&i.pageView(),i.logger.info("appid: "+t.app_id+" token change, new userInfo:"+l5(i.configManager.get("user"))),i.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 设置了用户信息",time:uQ(),secType:"USER",level:"info",data:i.configManager.get("user"),infoType:"sdk"})}),i.on(yn.TokenReset,function(){i.logger.info("appid: "+t.app_id+" token reset, new userInfo:"+l5(i.configManager.get("user"))),i.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 重置了用户信息",time:uQ(),secType:"USER",level:"info",data:i.configManager.get("user"),infoType:"sdk"})}),i.on(yn.RouteChange,function(e){e.init||t.disable_route_report||i.pageView()})}),this.tokenManager.apply(this,t),this.eventManager.apply(this,t),this.sessionManager.apply(this,t)),this.inited=!0)):this.logger.warn("app_id param is error, must be number, please check!"):this.logger.warn("init params error,please check!")},e.prototype.config=function(e){if(!this.inited)return void this.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK执行Config发生了异常",level:"error",time:uQ(),data:"config must be use after function init",infoType:"sdk"});if(!e||!mR(e))return void this.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK执行Config发生了异常",level:"error",time:uQ(),data:"config params is error, please check",infoType:"sdk"});if(this.bridgeReport)this.appBridge.setConfig(e);else{e._staging_flag&&1===e._staging_flag&&(this.staging=!0),e.disable_auto_pv&&(this.disableAutoPageView=!0,delete e.disable_auto_pv);var t=mx({},e),n=this.initConfig.configPersist||this.initConfig.config_persist||!1;if(this.initConfig&&n){var r=this.configManager.getStore();r&&(t=lz(r,e)),this.configManager.setStore(e)}t.web_id,t.user_unique_id;var i=mC(t,["web_id","user_unique_id"]);this.configManager.set(i),t.hasOwnProperty("web_id")&&this.emit(yn.ConfigWebId,t.web_id),t.hasOwnProperty("user_unique_id")&&this.emit(yn.ConfigUuid,t.user_unique_id),this.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 执行Config",level:"info",time:uQ(),data:t,infoType:"cus"})}},e.prototype.setUserUniqueID=function(e){this.config({user_unique_id:e})},e.prototype.setHeaderInfo=function(e,t){var n={};n[e]=t,this.config(n)},e.prototype.removeHeaderInfo=function(e){var t={};t[e]=void 0,this.config(t)},e.prototype.setDomain=function(e){this.configManager&&this.configManager.setDomain(e),this.emit(yn.ConfigDomain)},e.prototype.getConfig=function(e){var t;return null===(t=this.configManager)||void 0===t?void 0:t.get(e)},e.prototype.send=function(){this.start()},e.prototype.start=function(){this.inited&&!this.sended&&(this.sended=!0,this.started=!0,this.emit(yn.Start),this.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 执行Start",level:"info",time:uQ(),infoType:"cus"}),this.bridgeReport&&(this.pageView(),this.emit(yn.Ready)))},e.prototype.event=function(e,t){var n=this;try{var r=[];if(lA(e))lI(e).call(e,function(e){var t=n.processEvent(e[0],e[1]||{});t&&r.push(t)});else{var i=this.processEvent(e,t);if(!i)return;r.push(i)}this.bridgeReport?lI(r).call(r,function(e){var t=e.event,r=e.params;n.appBridge.onEventV3(t,l5(r))}):r.length&&(this.emit(yn.Event,r),this.emit(yn.SessionResetTime)),this.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 执行Event",level:"info",time:uQ(),data:e,infoType:"cus"})}catch(e){this.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 执行Event发生了异常",level:"error",time:uQ(),data:e.message,infoType:"sdk"})}},e.prototype.beconEvent=function(e,t){if(lA(e));else{var n=[],r=this.processEvent(e,t||{});r&&(n.push(r),n.length&&(this.emit(yn.BeconEvent,n),this.emit(yn.SessionResetTime)),this.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 执行Beacon Event",level:"info",time:uQ(),data:e,infoType:"sdk"}))}},e.prototype.beaconEvent=function(e,t){this.beconEvent(e,t)},e.prototype.processEvent=function(e,t){void 0===t&&(t={});try{if(!e)return null;var n=e;/^event\./.test(e)&&(n=pv(e).call(e,6));var r=t;"object"!=ot(r)&&(r={}),r.profile?delete r.profile:r.event_index=mL();var i=void 0;return r.local_ms?(i=r.local_ms,delete r.local_ms):i=+new Date,{event:n,params:r,local_time_ms:i,is_bav:this.initConfig&&this.initConfig.autotrack?1:0}}catch(n){return this.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK发生了异常",level:"error",time:uQ(),data:n.message,infoType:"sdk"}),{event:e,params:t}}},e.prototype.filterEvent=function(e){this.eventFilter=e},e.prototype.on=function(e,t){this.hook.on(e,t)},e.prototype.once=function(e,t){this.hook.once(e,t)},e.prototype.off=function(e,t){this.hook.off(e,t)},e.prototype.emit=function(e,t,n){this.hook.emit(e,t,n)},e.prototype.set=function(e){this.hook.set(e)},e.prototype.stop=function(){this.sdkStop=!0},e.prototype.reStart=function(){this.sdkStop=!1},e.prototype.pageView=function(){this.disableAutoPageView||this.predefinePageView()},e.prototype.setPageViewParams=function(e){void 0===e&&(e={}),this.pageviewParams=e},e.prototype.predefinePageView=function(e){if(void 0===e&&(e={}),this.inited){var t={title:document.title||location.pathname,url:location.href,url_path:this.handlePath(),time:uQ(),referrer:window.document.referrer,$is_first_time:""+(this.configManager&&this.configManager.is_first_time||!1)},n=mx(mx(mx({},t),e),this.pageviewParams);this.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 上报PV",level:"info",time:uQ(),infoType:"sdk"}),this.event("predefine_pageview",n)}},e.prototype.handlePath=function(){var e=location.pathname;try{if(this.initConfig.allow_hash){var t=new mo(location.href).hash.match(/#\/([^?#]+)/i);return t&&t.length?t[1]:location.pathname}}catch(t){e=location.pathname}return e},e.prototype.enableTransPort=function(){this.configManager.setEnableClientTransport(!0)},e.prototype.disableTransPort=function(){this.configManager.setEnableClientTransport(!1)},e.prototype.clearEventCache=function(){this.emit(yn.CleanEvents)},e.prototype.setWebIDviaUnionID=function(e){if(e){var t=mG(e);this.config({web_id:""+t,wechat_unionid:e}),this.emit(yn.CustomWebId)}},e.prototype.setWebId=function(e){this.config({web_id:""+e})},e.prototype.setWebIDviaOpenID=function(e){if(e){var t=mG(e);this.config({web_id:""+t,wechat_openid:e}),this.emit(yn.CustomWebId)}},e.prototype.setNativeAppId=function(e){this.bridgeReport&&this.appBridge.setNativeAppId(e)},e.prototype.setRequestHeaders=function(e){this.emit(yn.CustomHeader,e)},e.prototype.getSessionId=function(){return yh()},e.prototype.setSessionId=function(e){this.emit(yn.SessionReset,e)},e.prototype.resetStayDuration=function(e,t,n){this.emit(yn.ResetStay,{url_path:e,title:t,url:n},yn.Stay)},e.prototype.resetStayParams=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),this.emit(yn.SetStay,{url_path:e,title:t,url:n},yn.Stay)},e.prototype.getToken=function(e,t){var n=this;if(this.inited){var r=!1,i=function(t){if(!r){r=!0;var i,o=n.configManager.get().user;return t&&(o.tobid=t,o[fi(i="diss".split("")).call(i).join("")]=t),e(mx({},o))}},o=function(){n.tokenManager.getTobId().then(function(e){i(e)})};this.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 执行GetToken",level:"info",time:uQ(),infoType:"cus"}),this.sdkReady?o():(t&&pS(function(){i()},t),this.on(yn.Ready,function(){o()}))}},e.prototype.profileSet=function(e){this.bridgeReport?this.appBridge.profileSet(l5(e)):this.emit(yn.ProfileSet,e,yn.Profile),this.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileSet",level:"info",time:uQ(),data:e,infoType:"cus"})},e.prototype.profileSetOnce=function(e){this.bridgeReport?this.appBridge.profileSetOnce(l5(e)):this.emit(yn.ProfileSetOnce,e,yn.Profile),this.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileSetOnce",level:"info",time:uQ(),data:e,infoType:"cus"})},e.prototype.profileIncrement=function(e){this.bridgeReport?this.appBridge.profileIncrement(l5(e)):this.emit(yn.ProfileIncrement,e,yn.Profile),this.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileIncrement",level:"info",time:uQ(),data:e,infoType:"cus"})},e.prototype.profileUnset=function(e){this.bridgeReport?this.appBridge.profileUnset(e):this.emit(yn.ProfileUnset,e,yn.Profile),this.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileUnset",level:"info",time:uQ(),data:e,infoType:"cus"})},e.prototype.profileAppend=function(e){this.bridgeReport?this.appBridge.profileAppend(l5(e)):this.emit(yn.ProfileAppend,e,yn.Profile),this.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileAppend",level:"info",time:uQ(),data:e,infoType:"cus"})},e.prototype.startTrackEvent=function(e){e&&this.emit(yn.TrackDurationStart,e,yn.TrackDuration)},e.prototype.endTrackEvent=function(e,t){void 0===t&&(t={}),e&&this.emit(yn.TrackDurationEnd,{eventName:e,params:t},yn.TrackDuration)},e.prototype.pauseTrackEvent=function(e){e&&this.emit(yn.TrackDurationPause,e,yn.TrackDuration)},e.prototype.resumeTrackEvent=function(e){e&&this.emit(yn.TrackDurationResume,e,yn.TrackDuration)},e.prototype.setExternalAbVersion=function(e){var t;this.emit(yn.AbExternalVersion,"string"==typeof e&&e?dm(t=""+e).call(t):null,yn.Ab)},e.prototype.getVar=function(e,t,n){this.emit(yn.AbVar,{name:e,defaultValue:t,callback:n},yn.Ab)},e.prototype.getABconfig=function(e,t){this.emit(yn.AbConfig,{params:e,callback:t},yn.Ab)},e.prototype.getABConfig=function(e,t){this.emit(yn.AbConfig,{params:e,callback:t},yn.Ab)},e.prototype.getAbSdkVersion=function(){return this.configManager.getAbVersion()},e.prototype.onAbSdkVersionChange=function(e){var t=this;return this.emit(yn.AbVersionChangeOn,e,yn.Ab),function(){t.emit(yn.AbVersionChangeOff,e,yn.Ab)}},e.prototype.offAbSdkVersionChange=function(e){this.emit(yn.AbVersionChangeOff,e,yn.Ab)},e.prototype.openOverlayer=function(){this.emit(yn.AbOpenLayer,"",yn.Ab)},e.prototype.closeOverlayer=function(){this.emit(yn.AbCloseLayer,"",yn.Ab)},e.prototype.getAllVars=function(e){this.emit(yn.AbAllVars,e,yn.Ab)},e.prototype.destoryInstace=function(){this.destroy||(this.destroy=!0,this.off(yn.TokenComplete),this.emit(yn.DestoryInstance))},e.prototype.destroyInstance=function(){this.destroy||(this.destroy=!0,this.off(yn.TokenComplete),this.emit(yn.DestoryInstance))},e.plugins=[],e}(),bJ={},bY=[];function bQ(e,t,n,r){var i=e&&e.source||window.opener||window.parent,o=e&&e.origin||r||"*";i.postMessage(l5({type:t,payload:n}),o)}function b0(e){if(dQ(bY).call(bY,function(t){var n;return d9(n=e.origin).call(n,t)>-1})){var t,n=e.data;if("string"==typeof e.data)try{n=JSON.parse(e.data)}catch(e){n=void 0}if(n){var r=n.type,i=n.payload;bJ[r]&&lI(t=bJ[r]).call(t,function(t){"function"==typeof t&&t(e,i)})}}}var b1,b2="__rangers_ab_style__";(wv=b1||(b1={}))[wv.Var=0]="Var",wv[wv.All=1]="All";var b5=function(){function e(){this.fetchStatus="no",this.refreshFetchStatus="complete",this.versions=[],this.extVersions=[],this.mulilinkVersions=[],this.enable_multilink=!1,this.enable_ab_visual=!1,this.editMode=!1,this.callbacks=[],this.data=null,this.changeListener=new f8,this.readyStatus=!1,this.exposureCache=[]}return e.prototype.apply=function(e,t){var n=this;if(t.enable_ab_test){this.collect=e,this.config=t;var r=t.enable_multilink,i=t.ab_channel_domain,o=t.enable_ab_visual,a=t.ab_cross,s=t.ab_cookie_domain,l=t.ab_timeout,c=i||mM(m6[t.channel||"cn"]),u=e.adapters.storage,h=this.collect.Types;this.types=h,this.cacheStorgae=new u(!1),this.timeout=l||3e3,this.enable_multilink=r,this.enable_ab_visual=o,this.abKey="__tea_sdk_ab_version_"+t.app_id,this.ab_cross=a,this.ab_cookie_domain=s||"",this.fetchUrl=c+"/service/2/abtest_config/",this.reportUrl=""+e.configManager.getUrl("event"),this.exposureLimit=t.exposure_limit||20,this.ab_batch_time=t.ab_batch_time||500,this.ab_user_mode=t.ab_user_mode||"user_unique_id",this.callbackMap=new f8,this.collect.on(h.TokenChange,function(e){"uuid"===e&&n.readyStatus&&(n.clearCache(),n.fetchAB())}),this.collect.on(h.TokenReset,function(e){"uuid"===e&&n.readyStatus&&(n.clearCache(),n.fetchAB())}),this.collect.on(h.AbVar,function(e){var t=e.name,r=e.defaultValue,i=e.callback;n.getVar(t,r,i)}),this.collect.on(h.AbAllVars,function(e){n.getAllVars(e)}),this.collect.on(h.AbConfig,function(e){var t=e.params,r=e.callback;n.getABconfig(t,r)}),this.collect.on(h.AbExternalVersion,function(e){n.setExternalAbVersion(e)}),this.collect.on(h.AbOpenLayer,function(){n.openOverlayer()}),this.collect.on(h.AbCloseLayer,function(){n.closeOverlayer()}),this.collect.on(h.AbVersionChangeOn,function(e){n.changeListener.set(e,e)}),this.collect.on(h.AbVersionChangeOff,function(e){n.changeListener.get(e)&&n.changeListener.delete(e)}),this.loadMode(),(this.enable_ab_visual||this.enable_multilink)&&this.openOverlayer(this.config.multilink_timeout_ms||500),this.checkLocal(),this.ready("ab"),this.readyStatus||(this.fetchAB(),this.readyStatus=!0),this.collect.emit(h.AbReady)}},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var n=this.collect.hook._hooksCache[e];if(!lO(n).length)return;var r=function(e){var r;n[e].length&&lI(r=n[e]).call(r,function(n){t.collect.hook.emit(e,n)})};for(var i in n)r(i)}},e.prototype.loadMode=function(){var e=function(){try{return JSON.parse(atob(window.name))||void 0}catch(e){return}}(),t="";if(e){var n=e.scenario,r=e.href;n?(this.editMode=!0,t=n):r&&(-1!==d9(r).call(r,"datatester")||-1!==d9(r).call(r,"visual-editor"))&&(this.editMode=!0,t="visual-editor")}this.enable_ab_visual&&"visual-editor"===t&&this.collect.destoryInstace()},e.prototype.checkLocal=function(){var e,t=this.getABCache(),n=t.ab_version,r=t.ab_ext_version,i=t.ab_version_multilink,o=t.data,a=this.checkFromUrl();a?this.mulilinkVersions.push(a):this.mulilinkVersions=i||[],this.extVersions=r||[],this.versions=n||[],this.data=o;var s=uu(e=this.versions).call(e,this.extVersions);this.enable_multilink&&(s=uu(s).call(s,this.mulilinkVersions)),this.configVersions(s.join(","))},e.prototype.checkFromUrl=function(){var e=mF(window.location.href);return e&&e.vid?e.vid:""},e.prototype.updateVersions=function(){var e,t,n=this.extVersions.length?uu(e=this.versions).call(e,this.extVersions):this.versions;this.enable_multilink&&(n=uu(n).call(n,this.mulilinkVersions)),this.configVersions(n.join(",")),this.updateABCache(),this.changeListener.size>0&&lI(t=this.changeListener).call(t,function(e){"function"==typeof e&&e(n)})},e.prototype.configVersions=function(e){this.collect.configManager.setAbVersion(e)},e.prototype.getVar=function(e,t,n){if(!e)throw Error("getVar key must not be empty");if("function"!=typeof n)throw Error("getVar callback must be a function");var r={name:e,defaultValue:t,callback:n,type:b1.Var};this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK 调用GetVar",level:"info",time:uQ(),data:e,infoType:"cus"}),"complete"===this.fetchStatus&&"complete"===this.refreshFetchStatus?this.getRealVar(r,e):(this.callbackMap.get(e),this.callbackMap.set(e,r))},e.prototype.getRealVar=function(e,t){var n=e.name,r=e.defaultValue,i=e.callback,o=this.data;if(o){var a=o[n];if(a&&mR(a)){var s,l,c=o[n].vid;return"$ab_url"===t?hu(s=this.mulilinkVersions).call(s,c)||this.mulilinkVersions.push(c):hu(l=this.versions).call(l,c)||this.versions.push(c),this.updateVersions(),this.fechEvent(c,t||n,r,i,a.val),void this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK执行GetVar，并曝光了实验"+n,level:"info",time:uQ(),data:o[n],infoType:"sdk"})}this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK执行GerVar默认回调",level:"info",time:uQ(),data:this.data,infoType:"sdk"}),i(r)}else i(r)},e.prototype.getAllVars=function(e){if("function"!=typeof e)throw Error("getAllVars callback must be a function");var t={callback:e,type:b1.All};this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK 调用GetAllVars",level:"info",time:uQ(),infoType:"cus"}),"complete"===this.fetchStatus&&"complete"===this.refreshFetchStatus?this.getRealAllVars(t):this.callbackMap.set("allVars",t)},e.prototype.getRealAllVars=function(e){(0,e.callback)(this.data?JSON.parse(l5(this.data)):{}),this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK 执行GetAllVars",level:"info",time:uQ(),data:this.data,infoType:"sdk"})},e.prototype.fechEvent=function(e,t,n,r,i){try{if(this.config.disable_track_event||!e)return;var o=this.collect.configManager.get(),a=o.header,s=o.user,l=this.getABCache(),c=s[this.ab_user_mode]||s.user_unique_id;if(l&&l.uuid&&l.uuid!==c)return;var u={event:"abtest_exposure",ab_sdk_version:""+e,params:l5({app_id:this.config.appId,ab_url:"$ab_url"===t?n:window.location.href}),local_time_ms:uQ()};a.custom=l5(a.custom);this.reportExposure({events:[u],user:s,header:a},t),r&&r(i)}catch(e){this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 发生了异常",level:"error",time:uQ(),data:e.message,infoType:"sdk"})}},e.prototype.reportExposure=function(e,t){var n=this;this.exposureCache.push(e),this.reportTimeout&&clearTimeout(this.reportTimeout),this.exposureCache.length>=this.exposureLimit?this.report(t):this.reportTimeout=pS(function(){n.report(t),clearTimeout(n.reportTimeout)},this.ab_batch_time)},e.prototype.report=function(e){var t,n=this;this.collect.requestManager.useRequest({url:this.reportUrl,data:this.exposureCache,timeout:2e4,useBeacon:"$ab_url"===e,zip:!0}),lI(t=this.exposureCache).call(t,function(e){n.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_EVENT,info:"曝光埋点上报成功",time:uQ(),data:[e],code:200,status:"success",infoType:"sdk"})}),this.collect.emit(this.types.AbVerify,this.exposureCache),this.exposureCache=[]},e.prototype.setExternalAbVersion=function(e){this.extVersions=[e],this.updateVersions()},e.prototype.getABconfig=function(e,t){var n=lO(e);n&&n.length&&this.collect.configManager.set(e),this.fetchAB(t)},e.prototype.get=function(e){if(this.ab_cross){var t=this.cacheStorgae.getCookie(e,this.ab_cookie_domain);return t?JSON.parse(t):{}}return this.cacheStorgae.getItem(e)},e.prototype.set=function(e,t){this.ab_cross?this.cacheStorgae.setCookie(e,t,2592e6,this.ab_cookie_domain):this.cacheStorgae.setItem(e,t),this.collect.configManager.setAbCache(t)},e.prototype.getABCache=function(e){var t={ab_version:[],ab_ext_version:[],ab_version_multilink:[],data:null,timestamp:+new Date,uuid:""};return t=this.get(this.abKey)||t,e?t[e]:t},e.prototype.updateABCache=function(){var e=this.getABCache();e.ab_version_multilink=this.mulilinkVersions,e.ab_ext_version=this.extVersions,e.ab_version=this.versions,e.timestamp=uQ(),this.set(this.abKey,e)},e.prototype.setAbCache=function(e){var t=this.getABCache();t.data=this.data,t.uuid=e,t.timestamp=uQ(),this.set(this.abKey,t)},e.prototype.clearCache=function(){this.refreshFetchStatus="ing",this.data={},this.extVersions=[],this.mulilinkVersions=[],this.versions=[],this.collect.configManager.clearAbCache()},e.prototype.openOverlayer=function(e){var t=this;if(function(){if(!document.getElementById(b2)){var e="body { opacity: 0 !important; }",t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id=b2,n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}}(),e)var n=pS(function(){t.closeOverlayer(),clearTimeout(n)},e)},e.prototype.closeOverlayer=function(){var e;(e=document.getElementById(b2))&&e.parentElement.removeChild(e)},e.prototype.fetchComplete=function(e,t){var n=this;try{if(e&&"[object Object]"==Object.prototype.toString.call(e)){var r,i,o,a=this.collect.configManager.get().user;if(t&&t!==a.user_unique_id)return;this.data=e,this.setAbCache(t);var s=[];lI(i=lO(e)).call(i,function(t){var n=e[t].vid;n&&s.push(n)}),this.versions=uI(o=this.versions).call(o,function(e){return hu(s).call(s,e)});var l=e.$ab_url,c=e.$ab_modification;if(c&&c.val&&this.enable_ab_visual){if(this.collect.destroy)return;this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 执行可视化实验",level:"info",logType:"fetch",time:uQ(),infoType:"sdk",data:{$ab_modification:c}})}else if(l&&this.enable_multilink){this.mulilinkVersions=uI(u=this.mulilinkVersions).call(u,function(e){return hu(s).call(s,e)}),this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 执行多链接实验",level:"info",logType:"fetch",time:uQ(),infoType:"sdk",data:{$ab_url:l}});var u,h=l.val,d=l.vid;h&&d&&this.getVar("$ab_url",h,function(){n.editMode||(h!==window.location.href?pS(function(){if(!n.collect.destroy){var e=""+h;e=-1===d9(e).call(e,"http")?"https://"+e:e,mU(e).host!==location.host?e=e+"&vid="+d:window.history.replaceState("","",e),window.location.href=e}},100):n.closeOverlayer())})}this.updateVersions()}else this.closeOverlayer();lI(r=this.callbackMap).call(r,function(e){return n[e.type===b1.Var?"getRealVar":"getRealAllVars"](e,"")})}catch(e){}},e.prototype.fetchAB=function(e){var t=this,n=this.collect.configManager.get(),r={header:mx(mx(mx({aid:this.config.app_id},n.user||{}),n.header||{}),{ab_sdk_version:this.collect.configManager.getAbVersion(),ab_url:window.location.href})};this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 发起AB实验请求",level:"info",logType:"fetch",time:uQ(),data:r,infoType:"sdk"});var i=n.user[this.ab_user_mode]||n.user.user_unique_id;this.collect.requestManager.useRequest({url:this.fetchUrl,data:r,success:function(n){t.fetchStatus="complete",t.refreshFetchStatus="complete";var r=n.data;"success"===n.message?(t.fetchComplete(r,i),e&&e(r)):(t.fetchComplete(null,i),e&&e(null)),t.collect.emit(t.types.AbComplete,r),t.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"AB实验请求成功",level:"info",logType:"fetch",time:uQ(),data:r,infoType:"sdk"})},fail:function(){t.fetchStatus="complete",t.refreshFetchStatus="complete",t.fetchComplete(null,i),t.collect.emit(t.types.AbTimeout),e&&e(null),t.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"AB实验请求网络异常",level:"error",logType:"fetch",time:uQ(),infoType:"sdk"})},timeout:this.timeout})},e}(),b4=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;t.event_verify_url&&"string"==typeof t.event_verify_url&&(this.collect=e,this.url=t.event_verify_url+"/v1/list_test",e.on(e.Types.SubmitBefore,function(e){n.verify(e)}),e.on(e.Types.AbVerify,function(e){n.verify(e)}))},e.prototype.verify=function(e){this.collect.requestManager.useBeacon({url:this.url,data:e}),this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_EVENT,info:"SDK Report ByteIo Verify Request",time:uQ(),data:e,code:200,status:"success",verifyType:!0})},e}();function b3(e,t,n){var r,i;if(void 0===t&&(t="list"),!e)return!1;if(t&&"list"===t){if(hu(r=["LI","TR","DL"]).call(r,e.nodeName)||e.dataset&&e.dataset.hasOwnProperty("teaIdx")||e.hasAttribute&&e.hasAttribute("data-tea-idx"))return!0}else if(hu(i=["A","BUTTON"]).call(i,e.nodeName)||e.dataset&&e.dataset.hasOwnProperty("teaContainer")||e.hasAttribute&&e.hasAttribute("data-tea-container")||n&&e.hasAttribute&&e.hasAttribute(n))return!0;return!1}var b6=function(e,t){return!!wt(e,t)};function b9(e,t){for(var n=e;n&&!b3(n,"container",t.container_attr||"");){if("HTML"===n.nodeName||"BODY"===n.nodeName)return e;n=n.parentElement}return n||e}var b7=function(e){if(!e)return"";var t,n,r="";try{e.textContent?r=dm(t=e.textContent).call(t).replace(/\s+/g,","):e.innerText&&(r=dm(n=e.innerText).call(n).replace(/\s+/g,",")),"input"!==e.tagName&&"INPUT"!==e.tagName||(r=e.value||"")}finally{return r}};function b8(e){try{for(var t=e;t&&t.parentNode;){if(t.hasAttribute("data-tea-ignore")||t.classList&&t.classList.contains("applog-web-devtools-con"))return!0;if("HTML"===t.nodeName||"body"===t.nodeName)break;t=t.parentNode}return!1}catch(e){return!1}}var we=function(e,t){return e.hasAttribute?e.hasAttribute(t):e.attributes?!(!e.attributes[t]||!e.attributes[t].specified):void 0},wt=function(e,t){if("string"==typeof t)return we(e,t);if(mD(t)){for(var n=!1,r=0;r<t.length;r++)if(we(e,t[r])){n=!0;break}return n}},wn=function(e,t){var n={};if("string"==typeof t)we(e,t)&&(n[t]=e.getAttribute(t));else if(mD(t))for(var r=0;r<t.length;r++)we(e,t[r])&&(n[t[r]]=e.getAttribute(t[r]));return n};function wr(e){var t=[];if(!e)return{element_path:"",positions:[]};for(;null!==e.parentElement;)t.push(e),e=e.parentElement;var n=[],r=[];return lI(t).call(t,function(e){var t=function(e){if(null===e)return{str:"",index:0};var t=0,n=e.parentElement;if(n)for(var r=n.children,i=0;i<r.length&&r[i]!==e;i++)r[i].nodeName===e.nodeName&&t++;return{str:[e.nodeName.toLowerCase(),b3(e,"list")?"[]":""].join(""),index:t}}(e),i=t.str,o=t.index;n.unshift(i),r.unshift(o)}),{element_path:"/"+n.join("/"),positions:r}}var wi=function(){function e(e,t){this.maxDuration=432e5,this.aliveDTime=6e4,this.options={aliveName:"predefine_page_alive",params:{},container:null},this.focusState=!0,this.collect=e,this.config=t,this.pageStartTime=uQ(),this.sessionStartTime=this.pageStartTime,this.timerHandler=null,mR(t.enable_stay_duration)&&(this.options=lz(this.options,t.enable_stay_duration)),this.hard=this.options.mode&&"hard"===this.options.mode,this.reportMode=this.options.reportMode||"general",this.focusState=document.hasFocus(),this.aliveDTime=this.options.aliveTime||6e4}return e.prototype.setParams=function(e,t,n){this.set_path=e,this.set_url=n,this.set_title=t},e.prototype.enable=function(e,t,n){this.url_path=e,this.url=n,this.title=t,this.disableCallback=this.enablePageAlive(),this.hard&&(this.removeMode=this.hardMode())},e.prototype.disable=function(){this.disableCallback(),this.pageStartTime=uQ(),this.hard&&this.removeMode&&this.removeMode()},e.prototype.sendEvent=function(e,t,n){void 0===t&&(t=!1);var r=t?this.aliveDTime:uQ()-this.sessionStartTime;if(!(r<0||r>this.aliveDTime||uQ()-this.pageStartTime>this.maxDuration)&&(!t||"hidden"!==document.visibilityState)&&(!this.hard||this.focusState)){var i=mx({url_path:this.getParams("url_path"),title:this.getParams("title"),url:this.getParams("url"),duration:r,is_support_visibility_change:mj(),startTime:this.sessionStartTime,hidden:document.visibilityState,leave:e,mode:this.hard?"hard":"normal",focusState:this.focusState,blur:n,aliveType:this.options.container?"dom":"page"},this.options.params);this.options.container&&(i=lz(i,{element_path:wr(this.options.container).element_path,aliveType:this.options.container?"dom":"page"})),this.collect.beconEvent(this.options.aliveName,i),this.sessionStartTime=uQ()}},e.prototype.getParams=function(e){switch(e){case"url_path":return this.set_path||this.url_path||location.pathname;case"title":return this.set_title||this.title||document.title||location.pathname;case"url":return this.set_url||this.url||location.href}},e.prototype.setUpTimer=function(){var e=this;return this.timerHandler&&clearInterval(this.timerHandler),mm(function(){uQ()-e.sessionStartTime>e.aliveDTime&&e.sendEvent(!1,!0)},1e3)},e.prototype.visibilitychange=function(){"hidden"===this.getDisplayStatus()?this.timerHandler&&(clearInterval(this.timerHandler),this.sendEvent(!1,!1)):"visible"===this.getDisplayStatus()&&(this.sessionStartTime=uQ(),this.timerHandler=this.setUpTimer())},e.prototype.getDisplayStatus=function(){if(!this.options.container)return document.visibilityState;try{var e=window.getComputedStyle(this.options.container);return"none"!==e.display&&"hidden"!==e.visibility&&"0"!==e.opacity?"visible":"hidden"}catch(e){return"visible"}},e.prototype.beforeunload=function(){document.hidden||this.sendEvent(!0,!1)},e.prototype.muition=function(){var e=this;new MutationObserver(function(t){lI(t).call(t,function(t){e.visibilitychange()})}).observe(this.options.container,{attributes:!0,attributeFilter:["style"]})},e.prototype.enablePageAlive=function(){var e,t,n=this;this.timerHandler=this.setUpTimer();var r=mT(e=this.visibilitychange).call(e,this),i=mT(t=this.beforeunload).call(t,this);return this.options.container?this.muition():document.addEventListener("visibilitychange",r),window.addEventListener("pagehide",i),function(){n.beforeunload(),document.removeEventListener("visibilitychange",r),window.removeEventListener("pagehide",i)}},e.prototype.hardMode=function(){var e=this,t=function(){e.timerHandler&&(clearInterval(e.timerHandler),e.sendEvent(!1,!1,!0)),e.focusState=!1},n=function(){e.focusState=!0,e.sessionStartTime=uQ(),e.timerHandler=e.setUpTimer()};return window.addEventListener("blur",t),window.addEventListener("focus",n),function(){window.removeEventListener("blur",t),window.removeEventListener("focus",n)}},e}(),wo=function(){function e(e,t){var n=this;this.maxDuration=432e5,this.aliveDTime=6e4,this.options={closeName:"predefine_page_close",params:{}},this.focusState=!0,this.visibilitychange=function(){"hidden"===document.visibilityState?n.activeEndTime=uQ():"visible"===document.visibilityState&&(n.activeEndTime&&(n.totalTime+=n.activeEndTime-n.activeStartTime,n.activeTimes+=1),n.activeEndTime=void 0,n.activeStartTime=uQ())},this.beforeunload=function(){if(n.totalTime+=(n.activeEndTime||uQ())-n.activeStartTime,n.config.autotrack)try{window.sessionStorage.setItem("_tea_cache_duration",l5({duration:n.totalTime,page_title:document.title||location.pathname}))}catch(e){}n.sendEventPageClose()},this.collect=e,this.config=t,this.maxDuration=t.maxDuration||t.max_duration||864e5,this.pageStartTime=uQ(),mR(t.enable_stay_duration)&&(this.options=lz(this.options,t.enable_stay_duration)),this.hard=this.options.mode&&"hard"===this.options.mode,this.focusState=document.hasFocus(),this.resetData()}return e.prototype.setParams=function(e,t,n){this.set_path=e,this.set_url=n,this.set_title=t},e.prototype.resetParams=function(e,t,n){this.url_path=e,this.url=n,this.title=t},e.prototype.enable=function(e,t,n){this.url_path=e,this.url=n,this.title=t,this.disableCallback=this.enablePageClose(),this.hard&&(this.removeMode=this.hardMode())},e.prototype.disable=function(){this.disableCallback(),this.hard&&this.removeMode&&this.removeMode(),this.resetData()},e.prototype.resetData=function(){this.activeStartTime=void 0===this.activeStartTime?this.pageStartTime:uQ(),this.activeEndTime=void 0,this.activeTimes=1,this.totalTime=0,this.resetParams(location.pathname,document.title,location.href)},e.prototype.sendEventPageClose=function(){var e=uQ()-this.pageStartTime;this.totalTime<0||e<0||this.totalTime>=this.maxDuration||this.hard&&!this.focusState||(this.collect.beconEvent(this.options.closeName,mx({url_path:this.getParams("url_path"),title:this.getParams("title"),url:this.getParams("url"),active_times:this.activeTimes,duration:this.totalTime,total_duration:e,is_support_visibility_change:mj(),mode:this.hard?"hard":"normal",focusState:this.focusState},this.options.params)),this.pageStartTime=uQ(),this.resetData())},e.prototype.getParams=function(e){switch(e){case"url_path":return this.set_path||this.url_path||location.pathname;case"title":return this.set_title||this.title||document.title||location.pathname;case"url":return this.set_url||this.url||location.href}},e.prototype.enablePageClose=function(){var e,t,n=this,r=mT(e=this.visibilitychange).call(e,this),i=mT(t=this.beforeunload).call(t,this);return document.addEventListener("visibilitychange",r),window.addEventListener("pagehide",i),function(){n.beforeunload(),document.removeEventListener("visibilitychange",r),window.removeEventListener("pagehide",i)}},e.prototype.hardMode=function(){var e=this,t=function(){e.focusState=!1},n=function(){e.focusState=!0};return window.addEventListener("blur",t),window.addEventListener("focus",n),function(){window.removeEventListener("blur",t),window.removeEventListener("focus",n)}},e}(),wa=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,this.config=t,this.config.enable_stay_duration){this.title=document.title||location.pathname,this.url=location.href,this.url_path=location.pathname,this.pageAlive=new wi(e,t),this.pageClose=new wo(e,t);var r=this.collect.Types;this.collect.on(r.DestoryInstance,function(){n.disable()}),this.collect.on(r.ResetStay,function(e){var t=e.url_path,r=e.title,i=e.url;n.resetStayDuration(t,r,i)}),this.collect.on(r.RouteChange,function(e){e.init||t.disable_route_report||n.resetStayDuration()}),this.collect.on(r.SetStay,function(e){var t=e.url_path,r=e.title,i=e.url;n.setStayParmas(t,r,i)}),this.enable(this.url_path,this.title,this.url),this.ready(r.Stay),this.collect.emit(r.StayReady)}},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var n=this.collect.hook._hooksCache[e];if(!lO(n).length)return;var r=function(e){var r;n[e].length&&lI(r=n[e]).call(r,function(n){t.collect.hook.emit(e,n)})};for(var i in n)r(i)}},e.prototype.enable=function(e,t,n){this.pageAlive.enable(e,t,n),this.pageClose.enable(e,t,n)},e.prototype.disable=function(){this.pageAlive.disable(),this.pageClose.disable()},e.prototype.setStayParmas=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),this.pageAlive.setParams(e,t,n),this.pageClose.setParams(e,t,n),this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 执行 resetStayParams",level:"info",time:uQ(),data:{url_path:e,title:t,url:n}})},e.prototype.reset=function(e,t,n){this.disable(),this.enable(e,t,n)},e.prototype.resetStayDuration=function(e,t,n){this.reset(e,t,n),this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"SDK 执行 resetStayDuration",level:"info",time:uQ(),data:{url_path:e,title:t,url:n}})},e}(),ws=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.duration=6e4,this.reportUrl=e.configManager.getDomain()+"/profile/list";var r=e.Types;this.eventCheck=new yt(e,t),this.cache={},this.collect.on(r.ProfileSet,function(e){n.setProfile(e)}),this.collect.on(r.ProfileSetOnce,function(e){n.setOnceProfile(e)}),this.collect.on(r.ProfileUnset,function(e){n.unsetProfile(e)}),this.collect.on(r.ProfileIncrement,function(e){n.incrementProfile(e)}),this.collect.on(r.ProfileAppend,function(e){n.appendProfile(e)}),this.collect.on(r.ProfileClear,function(){n.cache={}}),this.ready(r.Profile)},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var n=this.collect.hook._hooksCache[e];if(!lO(n).length)return;var r=function(e){var r;n[e].length&&lI(r=n[e]).call(r,function(n){t.collect.hook.emit(e,n)})};for(var i in n)r(i)}},e.prototype.report=function(e,t){void 0===t&&(t={});try{if(this.config.disable_track_event)return;var n=[];n.push(this.collect.processEvent(e,t));var r=this.collect.eventManager.merge(n);this.collect.requestManager.useRequest({url:this.reportUrl,data:r}),this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_EVENT,info:"埋点上报成功",time:uQ(),data:r,code:200,status:"success"})}catch(e){this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:uQ(),data:e.message})}},e.prototype.setProfile=function(e){var t=this.formatParams(e);t&&lO(t).length&&(this.pushCache(t),this.report("__profile_set",mx(mx({},t),{profile:!0})))},e.prototype.setOnceProfile=function(e){var t=this.formatParams(e,!0);t&&lO(t).length&&(this.pushCache(t),this.report("__profile_set_once",mx(mx({},t),{profile:!0})))},e.prototype.incrementProfile=function(e){e&&this.report("__profile_increment",mx(mx({},e),{profile:!0}))},e.prototype.unsetProfile=function(e){if(e){var t={};t[e]="1",this.report("__profile_unset",mx(mx({},t),{profile:!0}))}},e.prototype.appendProfile=function(e){if(e){var t,n={};for(var r in e)("string"==typeof e[r]||"Array"===pv(t=Object.prototype.toString.call(e[r])).call(t,8,-1))&&(n[r]=e[r]);lO(n).length&&this.report("__profile_append",mx(mx({},n),{profile:!0}))}},e.prototype.pushCache=function(e){var t,n=this;lI(t=lO(e)).call(t,function(t){n.cache[t]={val:n.clone(e[t]),timestamp:uQ()}})},e.prototype.formatParams=function(e,t){var n=this;void 0===t&&(t=!1);try{if(!e||"[object Object]"!==Object.prototype.toString.call(e))return;var r,i,o={};for(var a in e)("string"==typeof e[a]||"number"==typeof e[a]||"Array"===pv(i=Object.prototype.toString.call(e[a])).call(i,8,-1))&&(o[a]=e[a]);var s=lO(o);if(!s.length||!this.eventCheck.checkEventParams(o))return;var l=uQ();return hY(r=uI(s).call(s,function(r){var i=n.cache[r];return t?!i:!(i&&n.compare(i.val,e[r])&&l-i.timestamp<n.duration)})).call(r,function(e,t){return e[t]=o[t],e},{})}catch(e){this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:uQ(),data:e.message})}},e.prototype.compare=function(e,t){try{return l5(e)===l5(t)}catch(e){return this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:uQ(),data:e.message}),!1}},e.prototype.clone=function(e){try{return JSON.parse(l5(e))}catch(t){return this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:uQ(),data:t.message}),e}},e.prototype.unReady=function(){},e}(),wl=function(){function e(){var e=this;this.setInterval=function(){e.clearIntervalFunc=mB(function(){e.isSessionhasEvent&&e.endCurrentSession()},e.sessionInterval)},this.clearInterval=function(){e.clearIntervalFunc&&e.clearIntervalFunc()}}return e.prototype.apply=function(e,t){var n=this;if(t.enable_heartbeat){this.collect=e,this.sessionInterval=6e4,this.startTime=0,this.lastTime=0,this.setInterval();var r=this.collect.Types;this.collect.on(r.SessionResetTime,function(){n.process()})}},e.prototype.endCurrentSession=function(){this.collect.event("_be_active",{start_time:this.startTime,end_time:this.lastTime,url:window.location.href,referrer:window.document.referrer,title:document.title||location.pathname}),this.isSessionhasEvent=!1,this.startTime=0},e.prototype.process=function(){this.isSessionhasEvent||(this.isSessionhasEvent=!0,this.startTime=+new Date);var e=this.lastTime||+new Date;this.lastTime=+new Date,this.lastTime-e>this.sessionInterval&&(this.clearInterval(),this.endCurrentSession(),this.setInterval())},e}(),wc=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;t.channel_domain||t.disable_track_event||t.disable_sdk_monitor||(this.collect=e,this.config=t,this.url=e.configManager.getUrl("event"),this.collect.on(e.Types.Ready,function(){n.sdkOnload()}),this.collect.on(e.Types.SubmitError,function(e){var t=e.type,r=e.eventData,i=e.errorCode,o=e.response;"f_data"===t&&n.sdkError(r,i,o)}),this.collect.on(e.Types.SDKInnerError,function(e){var t=e.type,r=e.eventData,i=e.errorCode,o=e.msg;n.sdkInnerError(t,r,i,o)}))},e.prototype.sdkOnload=function(){var e=this;try{var t=this.collect.configManager.get(),n=t.header,r=t.user,i=n.app_id,o=n.app_name,a=n.sdk_version,s=r.web_id,l={events:[{event:"onload",params:l5({app_id:i,app_name:o||"",sdk_version:a,sdk_type:"npm",sdk_config:this.config,sdk_desc:"TOC",url:location.href}),local_time_ms:uQ()}],user:{user_unique_id:s},header:{}};pS(function(){e.collect.requestManager.useXhr({url:e.url,data:[l],timeout:3e4,app_key:"566f58151b0ed37e"})},16)}catch(e){}},e.prototype.sdkError=function(e,t,n){var r=this;try{var i=e[0],o=i.user,a=i.header,s=[];lI(e).call(e,function(e){var t;lI(t=e.events).call(t,function(e){s.push(e)})});var l={events:uR(s).call(s,function(e){return{event:"on_error",params:l5({type:"sdk_event_error",error_code:t,app_id:a.app_id,app_name:a.app_name||"",error_event:e.event,sdk_version:a.sdk_version,local_time_ms:e.local_time_ms,tea_event_index:uQ(),params:e.params,header:a,user:o,err_msg:n.m||""}),local_time_ms:uQ()}}),user:{user_unique_id:o.user_unique_id},header:{}};pS(function(){r.collect.requestManager.useXhr({url:r.url,data:[l],timeout:3e4,app_key:"566f58151b0ed37e"})},16)}catch(e){}},e.prototype.sdkInnerError=function(e,t,n,r){var i=this;try{var o=t[0],a=o.user,s=o.header,l=[];lI(t).call(t,function(e){var t;lI(t=e.events).call(t,function(e){l.push(e)})});var c={events:uR(l).call(l,function(t){return{event:"on_error",params:l5({type:e,error_code:n,app_id:s.app_id,app_name:s.app_name||"",error_event:t.event,sdk_version:s.sdk_version,local_time_ms:t.local_time_ms,tea_event_index:uQ(),params:t.params,header:s,user:a,ua:window.navigator.userAgent,err_msg:r}),local_time_ms:uQ()}}),user:a,header:{}};pS(function(){i.collect.requestManager.useXhr({url:i.url,data:[c],timeout:3e4,app_key:"566f58151b0ed37e"})},16)}catch(e){}},e}(),wu=function(e){if(e.children.length){var t,n=e.children;return!dQ(t=pv([]).call(n)).call(t,function(e){return e.children.length>0})}return!0},wh=function(e){if("svg"===e.tagName.toLowerCase())return!0;for(var t=e.parentElement,n=!1;t;)"svg"===t.tagName.toLowerCase()?(t=null,n=!0):t=t.parentElement;return n},wd=function(){function e(e,t,n){var r=this;this.statistics=!1,this.pageView=!1,this.clickEvent=function(e){(function(e,t){var n;if(1!==e.nodeType||!t.svg&&wh(e)||hu(n=["HTML","BODY"]).call(n,e.tagName.toUpperCase()))return!1;return!("none"===e.style.display||!b3(e,"container",t.container_attr||"")&&!(function(e,t){for(var n=e;n&&!b3(n,"container",t.container_attr||"");){if("HTML"===n.nodeName||"BODY"===n.nodeName)return!1;n=n.parentElement}return!0}(e,t)||wu(e)||t.svg))})(e.target,r.options)&&r.eventHandel({eventType:"dom",eventName:"click"},e)},this.changeEvent=function(e){r.eventHandel({eventType:"dom",eventName:"change"},e)},this.submitEvent=function(e){r.eventHandel({eventType:"dom",eventName:"submit"},e)},this.getPageViewEvent=function(e,t){t&&"pushState"===t&&r.eventHandel({eventType:"dom",eventName:"beat"},mx({beat_type:0},e)),r.eventHandel({eventType:"dom",eventName:"page_view"},e)},this.getPageLoadEvent=function(e){r.eventHandel({eventType:"dom",eventName:"page_statistics"},{lcp:e})},this.config=n.getConfig().eventConfig,this.collect=t,this.options=e,this.beatTime=e.beat,this.domContainer=e.container||document}return e.prototype.init=function(e){this.eventHandel=e;var t=this.config.mode;this.addListener(t)},e.prototype.addListener=function(e){var t,n=this;if("proxy-capturing"===e){if(this.config.click&&(mD(this.domContainer)?lI(t=this.domContainer).call(t,function(e){e.addEventListener("click",n.clickEvent,!0)}):this.domContainer.addEventListener("click",this.clickEvent,!0)),this.config.pv){this.collect.on("route-change",function(e){var t=e.config,r=e.name;n.getPageViewEvent(t,r),n.pageView=!0});var r=pS(function(){n.pageView||(n.getPageViewEvent(n.getDefaultConfig()),n.pageView=!0,clearTimeout(r))},2e3)}if(this.config.beat){try{"complete"===document.readyState?this.beatEvent(this.beatTime):window.addEventListener("load",function(){n.beatEvent(n.beatTime)});var i=0,o=null;window.addEventListener("scroll",function(){clearTimeout(o),o=pS(a,500),i=document.documentElement.scrollTop||document.body.scrollTop});var a=function(){(document.documentElement.scrollTop||document.body.scrollTop)==i&&n.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:1})}}catch(e){}try{var s=window.performance&&window.performance.getEntriesByType("paint");if(s&&s.length){new PerformanceObserver(function(e){var t=e.getEntries(),r=t[t.length-1],i=r.renderTime||r.loadTime;n.statistics||(n.getPageLoadEvent(i),n.statistics=!0)}).observe({entryTypes:["largest-contentful-paint"]});var l=pS(function(){n.statistics||(n.getPageLoadEvent(s[0].startTime||0),n.statistics=!0,clearTimeout(l))},2e3)}else this.getPageLoadEvent(0)}catch(e){this.getPageLoadEvent(0)}}}},e.prototype.removeListener=function(){var e,t=this;mD(this.domContainer)?lI(e=this.domContainer).call(e,function(e){e.removeEventListener("click",t.clickEvent,!0)}):this.domContainer.removeEventListener("click",this.clickEvent,!0)},e.prototype.beatEvent=function(e){var t,n=this;try{this.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:3}),this.beatTime&&(t=mm(function(){n.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:2})},e)),mN(function(){n.eventHandel({eventType:"dom",eventName:"beat",eventSend:"becon"},{beat_type:0}),n.beatTime&&clearInterval(t)})}catch(e){}},e.prototype.getDefaultConfig=function(){return{is_html:1,url:location.href,referrer:document.referrer,page_key:location.href,refer_page_key:document.referrer,page_title:document.title||location.pathname,page_manual_key:"",refer_page_manual_key:"",refer_page_title:"",page_path:location.pathname,page_host:location.host}},e}(),wf={eventConfig:{mode:"proxy-capturing",submit:!1,click:!0,change:!1,pv:!0,beat:!0,hashTag:!1,impr:!1},scoutConfig:{mode:"xpath"}},wp=function(){function e(e,t){this.config=e,this.config.eventConfig=lz(this.config.eventConfig,t)}return e.prototype.getConfig=function(){return this.config},e.prototype.setConfig=function(e){return this.config=e},e}(),wv,wg,wm=function(e,t,n,r,i){return mx(mx({event:e},function(e,t,n,r){var i,o,a,s,l,c,u,h,d={},f=function(e){if(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return{left:t.left,top:t.top,element_width:n,element_height:r}}}(t=b9(t,n)),p=(void 0===(i=e)&&(i={}),void 0===(o=f)&&(o={}),a=i.clientX,s=i.clientY,l=o.left,{touch_x:Math.floor(a-l>=0?a-l:0),touch_y:Math.floor(s-(c=o.top)>=0?s-c:0)}),v=f.element_width,g=f.element_height,m=p.touch_x,y=p.touch_y,_=wr(t),b=_.element_path,w=_.positions,S=(u=b9(t,n),h=[],function e(t){var n,r,i,o=(i="",3===t.nodeType?i=dm(n=t.textContent).call(n):t.dataset&&t.dataset.hasOwnProperty("teaTitle")||t.hasAttribute("ata-tea-title")?i=t.getAttribute("data-tea-title"):"INPUT"===t.nodeName&&hu(r=["button","submit"]).call(r,t.getAttribute("type"))?i=t.getAttribute("value"):"IMG"===t.nodeName&&t.getAttribute("alt")&&(i=t.getAttribute("alt")),pv(i).call(i,0,200));if(o&&-1===d9(h).call(h,o)&&h.push(o),t.childNodes.length>0)for(var a=t.childNodes,s=0;s<a.length;s++)8!==a[s].nodeType&&e(a[s])}(u),h),E=window.performance.timing.navigationStart,k=uQ()-E,T=uR(w).call(w,function(e){return""+e}),x=null;if(window.TEAVisualEditor&&window.TEAVisualEditor.getOriginXpath&&(x=window.TEAVisualEditor.getOriginXpath({xpath:b,positions:T})),d.element_path=x&&x.xpath||b,d.positions=x&&x.positions||T,r&&!r.text&&(d.texts=S,d.element_title=t.getAttribute("data-tea-title")||t.getAttribute("title")||b7(t)),d.element_id=t.getAttribute("id")||"",d.element_class_name=t.getAttribute("class")||"",d.element_type=t.nodeType,d.element_width=Math.floor(v),d.element_height=Math.floor(g),d.touch_x=m,d.touch_y=y,d.page_manual_key="",d.elememt_manual_key="",d.since_page_start_ms=k,d.page_start_ms=E,d.page_path=location.pathname,d.page_host=location.host,n.track_attr&&b6(t,n.track_attr)){var C=wn(t,n.track_attr);for(var I in C)d[I]=C[I]}if(n.custom_attr)try{if(b6(t,n.custom_attr)){C=wn(t,n.custom_attr),I=decodeURIComponent(C[n.custom_attr]);var O=JSON.parse(I);if(lO(O))for(var A in O)d[A]=O[A]}}catch(e){}var P=b9(t,n);return"A"===P.tagName&&(d.href=P.getAttribute("href")),"IMG"===t.tagName&&(d.src=t.getAttribute("src")),d}(t,n,r,i)),{is_html:1,page_key:window.location.href,page_title:document.title})},wy=function(){function e(e,t){this.ignore={text:!1},this.initConfig=e,this.options=t,this.eventName=t&&"tea"===t.custom?{click:"__bav_click",page:"__bav_page",beat:"__bav_beat",static:"__bav_page_statistics",exposure:"__bav_page_exposure",scroll:"__bav_slide"}:{click:"bav2b_click",page:"bav2b_page",beat:"bav2b_beat",static:"bav2b_page_statistics",exposure:"bav2b_exposure",scroll:"$bav2b_slide"},t&&!1===t.text&&(this.ignore.text=!0),t&&t.exposure&&t.exposure.eventName&&(this.eventName.exposure=t.exposure.eventName)}return e.prototype.handleEvent=function(e,t){try{if(b8(e.target))return null;var n="bav2b_click";switch(t){case"click":return n=e.target.getAttribute("data-applog-click-event")||this.eventName.click||"",wm(n,e,e.target,this.options,this.ignore);case"exposure":return n=e.target.getAttribute("data-applog-exposure-event")||this.eventName.exposure||"",wm(n,e,e.target||e,this.options,this.ignore);case"change":return mx(mx({},wm(n="bav2b_change",e,e.target,this.options)),function(e,t){try{if("bav2b_change"===e)return t.hasAttribute("data-tea-track")?{value:t.value}:{}}catch(e){return{}}}(n,e.target));case"submit":return wm(n="bav2b_submit",e,e.target,this.options)}}catch(e){return null}},e.prototype.handleViewEvent=function(e){e.event=this.eventName.page,e.page_total_width=window.innerWidth,e.page_total_height=window.innerHeight;try{var t=window.sessionStorage.getItem("_tea_cache_duration");if(t){var n=JSON.parse(t);e.refer_page_duration_ms=n?n.duration:""}e.scroll_width=document.documentElement.scrollLeft?document.documentElement.scrollLeft+window.innerWidth:window.innerWidth,e.scroll_height=document.documentElement.scrollTop?document.documentElement.scrollTop+window.innerHeight:window.innerHeight,e.page_start_ms=window.performance.timing.navigationStart}catch(e){}return e},e.prototype.handleStatisticsEvent=function(e){var t={};t.event=this.eventName.static,t.is_html=1,t.page_key=location.href,t.refer_page_key=document.referrer||"",t.page_title=document.title,t.page_manual_key=this.initConfig.autotrack.page_manual_key||"",t.refer_page_manual_key="";try{var n=e.lcp,r=window.performance.timing,i=r.loadEventEnd-r.navigationStart;t.page_init_cost_ms=dh(n||(i>0?i:0)),t.page_start_ms=r.navigationStart}catch(e){}return t},e.prototype.handleBeadtEvent=function(e){e.event=this.eventName.beat,e.page_key=window.location.href,e.is_html=1,e.page_title=document.title,e.page_manual_key=this.initConfig.autotrack.page_manual_key||"";try{e.page_viewport_width=window.innerWidth,e.page_viewport_height=window.innerHeight,e.page_total_width=document.documentElement.scrollWidth,e.page_total_height=document.documentElement.scrollHeight,e.scroll_width=document.documentElement.scrollLeft+window.innerWidth,e.scroll_height=document.documentElement.scrollTop+window.innerHeight,e.since_page_start_ms=uQ()-window.performance.timing.navigationStart,e.page_start_ms=window.performance.timing.navigationStart}catch(e){}return e},e.prototype.handleExposureEvent=function(e,t){if(b8(t.target))return null;var n=wm(e.event||this.eventName.exposure,t,t.target||t,this.options,this.ignore);if(n.$exposure_type=e.exposureType,this.options.exposure.callback){var r=this.options.exposure.callback(n);return r||lO(r).length?r:n}return n},e.prototype.handleScrollEvent=function(e,t){var n=wm(e.event||this.eventName.scroll,t,t.target||t,this.options,this.ignore);if(n=lz(n,e.params),!this.options.scroll.callback||(n=this.options.scroll.callback(n))||lO(n).length)return n},e}(),w_=function(){function e(e){this.collect=e,this.eventNameList=["report_click_event","report_change_event","report_submit_event","report_exposure_event","report_page_view_event","report_page_statistics_event","report_beat_event"]}return e.prototype.send=function(e,t){var n=t.event;delete t.event,e&&"becon"===e.eventSend?this.collect.beconEvent(n,t):this.collect.event(n,t)},e.prototype.get=function(e,t){fetch(e,lz({headers:{"content-type":"application/json"},method:"GET"},t))},e.prototype.post=function(e,t){fetch(e,lz({headers:{"content-type":"application/json"},method:"POST"},t))},e}(),wb=function(){function e(e,t){this._instance=null,this._intersection=e,this.config=t,this._intersection&&this.init()}return e.prototype.init=function(){var e=this;if(window.MutationObserver)try{if(this._instance=new MutationObserver(function(t){lI(t).call(t,function(t){"attributes"===t.type&&e.attributeChangeObserve(t),"childList"===t.type&&e.modifyNodeObserve(t)})}),!document||!document.body)return;var t=!1!==this.config.autotrack.exposure.attributes;this._instance.observe(document.body,{childList:!0,attributes:t,subtree:!0,attributeOldValue:!1})}catch(e){}},e.prototype.attributeChangeObserve=function(e){e.target.hasAttribute("data-exposure")?this.exposureAdd(e,"mutation"):this.exposureRemove(e)},e.prototype.modifyNodeObserve=function(e){var t=this;lI(Array.prototype).call(e.addedNodes,function(e){var n;1===e.nodeType&&e.hasAttribute("data-exposure")&&t.exposureAdd(e,"intersect"),t.mapChild(e,mT(n=t.exposureAdd).call(n,t))}),lI(Array.prototype).call(e.removedNodes,function(e){var n;1===e.nodeType&&e.hasAttribute("data-exposure")&&t.exposureRemove(e),t.mapChild(e,mT(n=t.exposureRemove).call(n,t))})},e.prototype.mapChild=function(e,t){var n=this;1===e.nodeType&&e.children.length&&lI(Array.prototype).call(e.children,function(e){1===e.nodeType&&e.hasAttribute("data-exposure")&&t(e),n.mapChild(e,t)})},e.prototype.exposureAdd=function(e,t){try{this._intersection&&this._intersection.exposureAdd(e,t)}catch(e){}},e.prototype.exposureRemove=function(e){try{this._intersection&&this._intersection.exposureRemove(e)}catch(e){}},e._exposure_observer=null,e}();(ww=wg||(wg={}))[ww.EXPOSURE_ONCE=0]="EXPOSURE_ONCE",ww[ww.LIFECYCLE_SHOW_NEW=3]="LIFECYCLE_SHOW_NEW",ww[ww.RESUME_FORM_PAGE=6]="RESUME_FORM_PAGE",ww[ww.RESUME_FORM_BACK=7]="RESUME_FORM_BACK",ww[ww.NOT_EXPOSURE=-1]="NOT_EXPOSURE";var ww,wS,wE=function(){function e(t,n,r){var i=this;this.backStatus=!1,this.instance=this.buildObserver(),this.collect=t,this.observeMap=e._observer_map,n.autotrack.exposure.ratio?this.ratio=n.autotrack.exposure.ratio:0===n.autotrack.exposure.ratio?this.ratio=0:this.ratio=.5,this.timeLimit=n.autotrack.exposure.stay||0,this.exposureType=wg.NOT_EXPOSURE,this.eventHandle=r,this.hashMap=new f8,this.backStatus=!1,this.lastState=null,this.collect.on("re-start-sdk",function(){i.visibilitychange()}),this.addListen()}return e.prototype.buildObserver=function(){var t=this;if(e._observer_instance)return null;if(window.IntersectionObserver){for(var n=[],r=0;r<=1;r+=.01)n.push(r);n.push(1);try{e._observer_instance=new IntersectionObserver(function(e){lI(e).call(e,function(e){var n=e.target.observeId,r=t.observeMap.get(n),i=(e.target,e.isIntersecting,e.intersectionRatio);if(r.intersectionRatio=i,i<=.1&&(e.target.backStatus=!1),t.observeMap.set(n,r),i<t.ratio)return r.isIntersecting=!1,r.added=!1,r.exposured=!1,r.startTime=uQ(),void t.observeMap.set(n,r);if(!r.added){if(r.startTime=uQ(),r.added=!0,r.isIntersecting=!0,t.timeLimit){var o=pS(function(){try{if(r.isIntersecting&&!r.exposured&&t.observeMap.get(n)){var i=t.observeMap.get(n).intersectionRatio;t.exposureEvent(e,i,n,r)}}catch(e){}},t.timeLimit);r.wait=o}t.observeMap.set(n,r)}uQ()-r.startTime>=t.timeLimit&&!r.exposured&&t.exposureEvent(e,i,n,r)})},{threshold:n})}catch(e){}return e._observer_instance}return null},e.prototype.exposureAdd=function(e,t){var n="mutation"===t?e.target:e,r=n.observeId,i=yp();if(r||this.observeMap.has(r)){var o=this.observeMap.get(r);if(o&&n!==o.instance)this.unobserve(n),this.observeMap.delete(r),n.observeId=i,n.visible=!1,this.observeMap.set(i,{instance:n.cloneNode(!0),isIntersecting:!1}),this.observe(n);else{if(!0===n.visible)return;this.handleBoundingExposure(n)}}else n.observeId=i,n.visible=!1,this.observeMap.set(i,{instance:n.cloneNode(!0),isIntersecting:!1}),this.observe(n)},e.prototype.exposureRemove=function(e){this.observeMap.has(e.observeId)&&(this.observeMap.delete(e.observeId),this.unobserve(e),e.observeId="",e.visible=!1)},e.prototype.exposureEvent=function(e,t,n,r){if(t>=this.ratio){if("0"===e.target.style.opacity||"hidden"===e.target.style.visibility||!0===r.exposured)return;r.startWait&&clearTimeout(r.startWait);var i=e.target.getAttribute("data-exposure-event");this.eventHandle({eventType:"dom",eventName:"exposure",event:i,exposureType:this.getExposureType(e.target)},e),e.target.visible=!0,e.target.hasExposure=!0,r.startTime=uQ(),r.exposured=!0}else r.startTime=uQ(),r.exposured=!1;this.observeMap.set(n,r)},e.prototype.observe=function(e){this.instance&&this.instance.observe(e)},e.prototype.unobserve=function(e){this.instance&&this.instance.unobserve(e)},e.prototype.getExposureDomToExposure=function(){var e=this;lI(Array.prototype).call(document.querySelectorAll("[data-exposure]"),function(t){e.handleBoundingExposure(t)})},e.prototype.visibilitychange=function(){var e=this,t=null;"visible"===document.visibilityState?this.timeLimit?t=pS(function(){e.getExposureDomToExposure()},this.timeLimit):this.getExposureDomToExposure():(clearTimeout(t),this.customType=void 0)},e.prototype.handleBoundingExposure=function(e){if(this.getBoundingRatio(e)>=this.ratio){e.visible=!0;var t=e.getAttribute&&e.getAttribute("data-exposure-event");this.eventHandle({eventType:"dom",eventName:"exposure",event:t,exposureType:this.customType||wg.RESUME_FORM_BACK},e)}},e.prototype.getBoundingRatio=function(e){var t=e.getBoundingClientRect(),n=t.top,r=t.left,i=t.width,o=t.height,a=window.innerWidth||document.documentElement.clientWidth,s=window.innerHeight||document.documentElement.clientHeight;return n>=0&&r>=0&&n<=s&&r<=a?(i>a?a:i)*(s-n)/(i*o):0},e.prototype.getExposureType=function(e){return e.visible?!1!==e.backStatus&&(this.backStatus||this.customType||2===window.performance.navigation.type)?this.exposureType=wg.RESUME_FORM_PAGE:this.exposureType=wg.LIFECYCLE_SHOW_NEW:(e.hasExposure,!1!==e.backStatus&&(this.backStatus||this.customType||2===window.performance.navigation.type)?this.exposureType=wg.RESUME_FORM_PAGE:this.exposureType=wg.EXPOSURE_ONCE),this.exposureType},e.prototype.addListen=function(){var e,t=this;this.collect.on("set-exposure-type",function(e){t.customType=e});var n,r,i=mT(e=this.visibilitychange).call(e,this);if(r="visibilitychange",(n=document).addEventListener?n.addEventListener(r,i,!1):n.attachEven?n.attachEven("on"+r,i):n["on"+r]=i,window.addEventListener("hashchange",function(e){var n=t.hashMap.get(e.oldURL);n&&location.href===n.prev?(t.backStatus=!0,t.exposureType=wg.RESUME_FORM_PAGE):(t.backStatus=!1,t.hashMap.set(location.href,{current:e.newURL,prev:e.oldURL}))}),this.collect.bridgeReport){var o=window.history.pushState;history.pushState=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];"function"==typeof history.onpushstate&&history.onpushstate({state:e});var i=o.call.apply(o,mO([history,e],n));return t.lastState=e,i};var a=history.replaceState;history.replaceState=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];"function"==typeof history.onreplacestate&&history.onreplacestate({state:e});var i=a.call.apply(a,mO([history,e],n));return t.lastState=e,i}}else this.collect.on("STATE_CHANGE",function(e){t.lastState=e});return window.addEventListener("popstate",function(e){var n=e.state;n&&n.current&&t.lastState&&t.lastState.back&&n.current===t.lastState.back?(t.backStatus=!0,t.exposureType=wg.RESUME_FORM_PAGE):t.backStatus=!1}),function(){var e,t;t="visibilitychange",(e=document).addEventListener?e.removeEventListener(t,i,!1):e.attachEven&&e.detachEven("on"+t,i)}},e._observer_instance=null,e._observer_map=new f8,e}(),wk=function(){function e(e,t,n){t.autotrack&&t.autotrack.exposure&&(this._intersection=new wE(e,t,n),this._observer=new wb(this._intersection,t),this._intersection&&this._observer&&this.initObserver())}return e.prototype.initObserver=function(){var e=this;lI(Array.prototype).call(document.querySelectorAll("[data-exposure]"),function(t){e._intersection.exposureAdd(t,"intersect")})},e}();(So=wS||(wS={}))[So.SCROLL_UP=1]="SCROLL_UP",So[So.SCROLL_DOWN=2]="SCROLL_DOWN",So[So.SCROLL_LEFT=3]="SCROLL_LEFT",So[So.SCROLL_RIGHT=4]="SCROLL_RIGHT",So[So.NOT_SCROLL=-1]="NOT_SCROLL";var wT=function(){function e(e,t){this.distance=30,e.autotrack&&e.autotrack.scroll&&(e.autotrack.scroll.distance&&(this.distance=e.autotrack.scroll.distance),this.eventHandle=t,this.addLinstenr(),this.mutation())}return e.prototype.addLinstenr=function(){var e=this;lI(Array.prototype).call(document.querySelectorAll("[data-scroll]"),function(t){e.scrollHandle(t)})},e.prototype.mutation=function(){var e=this;if(window.MutationObserver)try{var t=new MutationObserver(function(t){lI(t).call(t,function(t){"childList"===t.type&&e.modifyNodeObserve(t)})});if(!document||!document.body)return;t.observe(document.body,{childList:!0,attributes:!0,subtree:!0,attributeOldValue:!1})}catch(e){}},e.prototype.modifyNodeObserve=function(e){var t=this;lI(Array.prototype).call(e.addedNodes,function(e){var n;1===e.nodeType&&e.hasAttribute("data-scroll")&&t.scrollHandle(e),t.mapChild(e,mT(n=t.scrollHandle).call(n,t))}),lI(Array.prototype).call(e.removedNodes,function(e){var n;1===e.nodeType&&e.hasAttribute("data-scroll")&&t.scrollHandle(e,"remove"),t.mapChild(e,mT(n=t.scrollHandle).call(n,t))})},e.prototype.mapChild=function(e,t){var n=this;1===e.nodeType&&e.children.length&&lI(Array.prototype).call(e.children,function(e){1===e.nodeType&&e.hasAttribute("data-scroll")&&t(e),n.mapChild(e,t)})},e.prototype.scrollHandle=function(e,t){var n=this;try{var r=e.scrollTop,i=e.scrollLeft,o=null,a=0,s=0,l=function(t){clearTimeout(o),o=pS(function(){var o=e.scrollTop,h=e.scrollLeft,d=t.target&&t.target.getAttribute("data-scroll-event")||"";1===u||2===u?o===l&&(s=l-r,Math.abs(s)>=n.distance&&n.distance&&n.eventHandle({eventType:"dom",eventName:"scroll",event:d,params:{$direction:u,$offsetY:s,$offsetX:a}},t)):3!==u&&4!==u||h===c&&(a=c-i,Math.abs(a)>=n.distance&&n.distance&&n.eventHandle({eventType:"dom",eventName:"scroll",event:d,params:{$direction:u,$offsetY:s,$offsetX:a}},t)),r=l,i=c},100);var l=e.scrollTop,c=e.scrollLeft,u=wS.NOT_SCROLL;l>r?u=wS.SCROLL_DOWN:l<r?u=wS.SCROLL_UP:c>i?u=wS.SCROLL_LEFT:c<i&&(u=wS.SCROLL_RIGHT)};return"remove"===t?e.removeEventListener("scroll",l,!1):e.addEventListener("scroll",l,!1),function(){e.removeEventListener("scroll",l,!1)}}catch(e){}},e}(),wx={hashTag:!1,impr:!1},wC=function(){function e(){}return e.prototype.apply=function(e,t){if(this.autoTrackStart=!1,this.collect=e,this.config=t,t.autotrack){var n=e.Types;this.ready(n.Autotrack),this.collect.emit(n.AutotrackReady)}},e.prototype.ready=function(e){this.collect.set(e);var t,n,r=this.config.autotrack;r=lz(wx,r="object"==ot(r)?r:{}),this.destroyed=!1,this.options=r,this.Config=new wp(wf,this.options),this.Exposure=new wk(this.collect,this.config,mT(t=this.handle).call(t,this)),this.Scroll=new wT(this.config,mT(n=this.handle).call(n,this)),this.Listener=new wd(r,this.collect,this.Config),this.EventHandle=new wy(this.config,r),this.Request=new w_(this.collect),this.autoTrackStart=!0,this.init(),this.config},e.prototype.init=function(){var e;this.Listener.init(mT(e=this.handle).call(e,this));try{"base"===this.collect.loadType&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(e){}},e.prototype.handle=function(e,t){try{if(this.config.autotrack.collect_url&&!this.config.autotrack.collect_url())return}catch(e){}"dom"===e.eventType&&this.handleDom(e,t)},e.prototype.handleDom=function(e,t){try{var n,r,i=e.eventName;if("click"===i||"change"===i||"submit"===i)(r=this.EventHandle.handleEvent(t,i))&&this.Request.send({eventType:"custom"},r);else if("page_view"===i||"page_statistics"===i)(n="page_view"===i?this.EventHandle.handleViewEvent(t):this.EventHandle.handleStatisticsEvent(t))&&this.Request.send({eventType:"custom"},n);else if("beat"===i){var o=this.EventHandle.handleBeadtEvent(t),a=e.eventSend;o&&this.Request.send({eventType:"custom",eventSend:a},o)}else"exposure"===i?(r=this.EventHandle.handleExposureEvent(e,t))&&this.Request.send({eventType:"custom"},r):"scroll"===i&&(r=this.EventHandle.handleScrollEvent(e,t))&&this.Request.send({eventType:"custom"},r)}catch(e){}},e.prototype.destroy=function(){this.autoTrackStart&&(this.autoTrackStart=!1,this.Listener.removeListener())},e}(),wI=function(){function e(){this.retryWaitTime=3e3,this.retryStatus=!1,this.retryCacheStatus=!1}return e.prototype.apply=function(e,t){var n=this;if(t.enable_storage&&!t.disable_storage&&(this.collect=e,this.config=t,!this.collect.destroy)){var r=e.Types,i=e.adapters.storage;this.storage=new i(!1),this.eventUrl=this.collect.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+t.app_id,this.storageNum=t.storage_num||50,this.retryNum=t.retry_num||3,this.retryInterval=1e3,e.on(r.SubmitError,function(e){"f_data"!==e.type&&n.storeData(e)}),e.on(r.Ready,function(){n.checkStorage()})}},e.prototype.retryRightNow=function(e){var t=this;if(this.retryStatus)this.errorCache.push(e);else{var n=0;this.retryStatus=!0;var r=mm(function(){if(3===n)return t.storeData(t.errorCache),t.retryStatus=!1,void clearInterval(r);var i=e.eventData;t.fetchData(i,function(){var e;t.retryStatus=!1,clearInterval(r),t.retryCacheStatus&&fr(e=t.errorCache).call(e,0,1),t.errorCache.length&&(t.retryCacheStatus=!0,t.retryRightNow(t.errorCache[0]))},function(){n++})},this.retryInterval)}},e.prototype.storeData=function(e){var t=this.storage.getItem(this.eventKey),n=e.eventData;lO(t).length!==this.storageNum&&(t[uQ()]=n,this.storage.setItem(this.eventKey,t))},e.prototype.checkStorage=function(){var e=this;try{if(!window.navigator.onLine)return;var t=this.storage.getItem(this.eventKey);if(!t||!lO(t).length)return;var n={events:[{event:"ontest",params:{app_id:this.config.app_id},local_time_ms:uQ()}],user:{user_unique_id:this.collect.configManager.get("web_id")},header:{}};this.fetchData([n],function(){var n=JSON.parse(l5(t)),r=function(r){e.fetchData(t[r],function(){delete n[r],e.storage.setItem(e.eventKey,n)},function(){},!1)};for(var i in t)r(i)},function(){},!0)}catch(e){}},e.prototype.fetchData=function(e,t,n,r){this.collect.requestManager.useRequest({url:this.eventUrl,data:e,timeout:3e4,success:t,fail:n,app_key:r?"566f58151b0ed37e":""})},e}(),wO=function(){function e(){this.privateMode=!1}return e.prototype.apply=function(e,t){this.collector=e,this.config=t,this.dynamicEditorUrl="",this.privateMode=!!t.channel_domain,window.TEAVisualEditor=window.TEAVisualEditor||{},window.TEAVisualEditor.appId=t.app_id,this.dynamicUrl(),this.init()},e.prototype.init=function(){ye.length&&lI(ye).call(ye,function(e){bY.push(e)}),this.addMessage(),this.reviceMessage()},e.prototype.reviceMessage=function(){var e,t,n=this;try{t=function(e){n.loadScriptUrl({event:e,url:m8+".js?query="+uQ()})},bJ[e="tea:openHeatMapCore"]=bJ[e]||[],bJ[e].push(t)}catch(e){this.collector.emit("sdk-inner-error",{type:"sdk_error_load_heatmap",errorCode:1e3,msg:e.message||e.stack||"sdk_error_load_heatmap"})}},e.prototype.addMessage=function(){window.addEventListener("message",b0,!1)},e.prototype.loadScriptUrl=function(e){var t,n,r,i=e.event,o=e.url;t=function(){bQ(i,o+" ScriptloadSuccess")},n=function(){i&&bQ(i,o+" ScriptloadFail")},(r=document.createElement("script")).src=o,r.onerror=function(){n()},r.onload=function(){t()},document.getElementsByTagName("head")[0].appendChild(r)},e.prototype.dynamicUrl=function(){if(this.privateMode){var e="",t="";try{var n=window.performance.getEntriesByType("resource");if(n&&n.length){var r,i=location.protocol;if(i=i||"https:",lI(n).call(n,function(e){var n;"script"===e.initiatorType&&e.name&&-1!==d9(n=e.name).call(n,"collect")&&(t=e.name)}),t||document.currentScript&&(t=document.currentScript.src),t&&(e=t.split("/"))&&e.length){this.dynamicEditorUrl=i+"/";for(var o=2;o<e.length&&o!==e.length-1;o++)this.dynamicEditorUrl=this.dynamicEditorUrl+"/"+e[o];if(this.dynamicEditorUrl&&d9(r=this.dynamicEditorUrl).call(r,"/5.0")){var a=this.dynamicEditorUrl.split("/5.0");this.dynamicEditorUrl=a[0]||this.dynamicEditorUrl}}}}catch(e){this.collector.emit("sdk-inner-error",{type:"sdk_error_parsing_remote_url",errorCode:1e3,msg:e.message||e.stack||"sdk_error_parsing_remote_url"})}}},e}(),wA="undefined"!=typeof window?(window.LogPluginObject||(window.LogPluginObject={}),window.LogPluginObject):null,wP=function(){function e(){}return e.prototype.apply=function(e,t){this._plugin={},this.config=t,this.collect=e,this.channel=t.channel||"cn",this.loadExtend()},e.prototype.loadExtend=function(){var e,t=this;try{lI(e=this.collect.remotePlugin).call(e,function(e,n){if("sdk"===e){if(b$.hasOwnProperty(n)){var r=b$[n].object,i=b$[n].src[t.channel]+"?query="+uQ();t.exist(n,r,i)}}else"object"==ot(e)&&(e.src?t.exist(n,e.call,e.src):t.process(n,e.instance,"INSTANCE"))})}catch(e){this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:uQ(),data:e.message})}},e.prototype.exist=function(e,t,n){var r=this;wA[t]?this.process(e,wA[t]):this.loadPlugin(e,n,function(){r.process(e,wA[t])},function(){})},e.prototype.process=function(e,t,n){try{if(n){var r=new t;r.apply&&r.apply(this.collect,this.config)}else t&&t(this.collect,this.config)}catch(e){this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:uQ(),data:e.message})}},e.prototype.loadPlugin=function(e,t,n,r){var i=this;try{var o=document.createElement("script");o.src=t,this._plugin[e]||(this._plugin[e]=[]),this._plugin[e].push(n),o.onerror=function(){r(t)},o.onload=function(){var t;lI(t=i._plugin[e]).call(t,function(e){e()})},document.getElementsByTagName("head")[0].appendChild(o)}catch(e){this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:uQ(),data:e.message})}},e}(),wR=function(){function e(){this.autotrack=!1,this.spa=!1,this.cache={},this.allowHash=!1}return e.prototype.apply=function(e,t){if(t.spa||t.autotrack){var n=e.Types;this.collect=e,this.config=t,this.appid=t.app_id,this.allowHash=t.allow_hash,this.fncArray=new f8,this.setKey(),this.setLocation(),this.hack(),this.init(),this.listener(),e.emit(n.RouteReady)}},e.prototype.setKey=function(){var e=this.collect.adapters.storage;this.storage=new e(!1),this.cache_key="__tea_cache_refer_"+this.appid,this.cache={refer_key:"",refer_title:document.title||location.pathname,refer_manual_key:"",routeChange:!1},this.config.autotrack&&"object"==ot(this.config.autotrack)&&this.config.autotrack.page_manual_key&&(this.cache.refer_manual_key=this.config.autotrack.page_manual_key),this.storage.setItem(this.cache_key,this.cache)},e.prototype.hack=function(){var e=this,t=window.history.pushState;history.pushState=function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];"function"==typeof history.onpushstate&&history.onpushstate({state:n});var o=t.call.apply(t,mO([history,n],r));if(e.collect.sdkStop||e.collect.destroy)return o;if(!(e.lastLocation===location.href||e.config.disable_spa_query&&e.pathEquel())){e.setReferCache(e.lastLocation);var a=e.getPopStateChangeEventData();return e.lastLocation=location.href,e.sendPv(a,"pushState"),o}};var n=history.replaceState;history.replaceState=function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];"function"==typeof history.onreplacestate&&history.onreplacestate({state:t});var o=n.call.apply(n,mO([history,t],r));if(e.collect.sdkStop||e.collect.destroy)return o;if(!(e.lastLocation===location.href||e.config.disable_spa_query&&e.pathEquel())){e.setReferCache(e.lastLocation);var a=e.getPopStateChangeEventData();return e.lastLocation=location.href,e.sendPv(a),o}}},e.prototype.setLocation=function(){"undefined"!=typeof window&&(this.lastLocation=window.location.href)},e.prototype.getLocation=function(){return this.lastLocation},e.prototype.pathEquel=function(){try{return new mo(this.lastLocation).origin+new mo(this.lastLocation).pathname===new mo(location.href).origin+new mo(location.href).pathname}catch(e){return!1}},e.prototype.init=function(){var e=this.getPopStateChangeEventData();this.collect.emit("route-change",{config:e,init:!0})},e.prototype.listener=function(){var e=this;window.addEventListener("hashchange",function(t){if(!e.collect.sdkStop&&!e.collect.destroy&&e.lastLocation!==window.location.href&&(!e.config.disable_spa_query||!e.pathEquel())&&e.allowHash){e.setReferCache(e.lastLocation),e.lastLocation=window.location.href;var n=e.getPopStateChangeEventData();e.sendPv(n)}}),window.addEventListener("popstate",function(t){if(!e.collect.sdkStop&&!e.collect.destroy&&!(e.lastLocation===window.location.href||e.config.disable_spa_query&&e.pathEquel())){e.setReferCache(e.lastLocation),e.lastLocation=window.location.href;var n=e.getPopStateChangeEventData();e.sendPv(n)}})},e.prototype.getPopStateChangeEventData=function(){var e=this.pageConfig();return e.is_back=0,e},e.prototype.pageConfig=function(){try{var e,t=this.storage.getItem(this.cache_key)||{},n=this.storage.getItem("__tea_cache_first_"+this.appid);return e=!n||1!=n,{is_html:1,url:location.href,referrer:this.handleRefer(),page_key:location.href,refer_page_key:this.handleRefer(),page_title:document.title||location.pathname,page_manual_key:this.config.autotrack&&this.config.autotrack.page_manual_key||"",refer_page_manual_key:t&&t.refer_manual_key||"",refer_page_title:t&&t.refer_title||"",page_path:location.pathname,page_host:location.host,is_first_time:""+e}}catch(e){return this.collect.emit(mW.DEBUGGER_MESSAGE,{type:mW.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:uQ(),data:e.message}),{}}},e.prototype.sendPv=function(e,t){this.collect.emit("route-change",{config:e,init:!1})},e.prototype.handleRefer=function(){var e="";try{var t=this.storage.getItem(this.cache_key)||{};e=t.routeChange?t.refer_key:this.collect.configManager.get("referrer")}catch(t){e=document.referrer}return e},e.prototype.removeQuery=function(e){try{var t=new mo(e);return t.search="",t.href}catch(t){return e.split(/[?#]/)[0]}},e.prototype.setReferCache=function(e){var t=this.storage.getItem(this.cache_key)||{},n=this.removeQuery(e);t.refer_key=n,t.routeChange=!0,this.storage.setItem(this.cache_key,t)},e}(),wD=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;this.collector=e,this.config=t;var r=e.Types;e.on(r.TrackDurationStart,function(e){n.trackStart(e)}),e.on(r.TrackDurationEnd,function(e){n.trackEnd(e)}),e.on(r.TrackDurationPause,function(e){n.trackPause(e)}),e.on(r.TrackDurationResume,function(e){n.trackResume(e)}),this.Types=r,this.TrackMap=new f8,this.ready(r.TrackDuration)},e.prototype.ready=function(e){var t=this;if(this.collector.set(e),this.collector.hook._hooksCache.hasOwnProperty(e)){var n=this.collector.hook._hooksCache[e];if(!lO(n).length)return;var r=function(e){var r;n[e].length&&lI(r=n[e]).call(r,function(n){t.collector.hook.emit(e,n)})};for(var i in n)r(i)}},e.prototype.trackStart=function(e){this.TrackMap.set(e,{startTime:uQ(),isPause:!1,pauseTime:0,resumeTime:0})},e.prototype.trackEnd=function(e){var t=e.eventName,n=e.params;if(this.TrackMap.has(t)){var r=this.TrackMap.get(t),i=lz(n,{event_duration:r.isPause?r.pauseTime-r.startTime:r.resumeTime?r.pauseTime-r.startTime+(uQ()-r.resumeTime):uQ()-r.startTime});this.collector.event(t,i),this.cleanTrack(t)}},e.prototype.trackPause=function(e){if(this.TrackMap.has(e)){var t=this.TrackMap.get(e);t.isPause||(t.isPause=!0,t.pauseTime=uQ(),this.TrackMap.set(e,t))}},e.prototype.trackResume=function(e){if(this.TrackMap.has(e)){var t=this.TrackMap.get(e);t.isPause&&(t.isPause=!1,t.resumeTime=uQ(),this.TrackMap.set(e,t))}},e.prototype.cleanTrack=function(e){this.TrackMap.delete(e)},e}();bX.usePlugin(wP,"extend"),bX.usePlugin(b4,"et"),bX.usePlugin(b5,"ab"),bX.usePlugin(wa,"stay"),bX.usePlugin(wD,"trackduration"),bX.usePlugin(wO,"heatmap"),bX.usePlugin(wC,"autotrack"),bX.usePlugin(ws,"profile"),bX.usePlugin(wI,"retry"),bX.usePlugin(wl,"heartbeat"),bX.usePlugin(wc,"monitor"),bX.usePlugin(wR,"route"),new bX("default");var wL={ONE_PLAY:"videoplayer_oneplay",ONE_OPERA:"videoplayer_oneopera",ONE_ERROR:"videoplayer_oneerror",ONE_EVENT:"videoplayer_oneevent",ONE_TEMP:"videoplayer_onetemp"},wM="vodlog",wz={commonWait:0,startPlayWait:1,seekWait:2},wN={PLAY:"play",PLAYING:"playing",ENDED:"ended",PAUSE:"pause",ERROR:"error",CANPLAY:"canplay",SEEKING:"seeking",SEEKED:"seeked",TIME_UPDATE:"timeupdate",WAITING:"waiting",LOAD_START:"loadstart",LOADED_METADATA:"loadedmetadata",LOADED_DATA:"loadeddata",AUTOPLAY_STARTED:"autoplay_started"},wj={WAIT_END_EXT:"waitingEndExt",SEEK_END_EXT:"seekEndEndExt"},wB={STOP:0,PLAYING:1,PAUSE:2,ERROR:3},wU=0,wF=1,wG=3,wV={ERROR:1,NEXT:2,ENDED:3,UNLOAD:4,DESTROY:5,PLAY_ERROR:7,PLAY_CATCH:8},wH=0,wZ=["tag","subtag","device_type"],wK={NO_FULLSCREEN:0,FULLSCREEN:1,CSS:2},wW=oY({NO_STARTPLAY:"no_startplay",USER_REPORT:"user_report",WAIT_END:"wait_end",LOGGER_CACHE:"logger_cache_event"},wV),w$={LOAD_START:"loadstart",LOADED_DATA:"loadeddata",WAIT_START:"waitingStart",WAIT_END:"waitingEnd",SEEK_START:"seekStart",SEEK_END:"seekEnd",FIRST_FRAME:"firstFrame"},wq={PCDN:"pcdn"};function wX(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==d6(t).call(t,r))continue;n[r]=e[r]}return n}(e,t);if(oo){var o=oo(e);for(r=0;r<o.length;r++)n=o[r],-1===d6(t).call(t,n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}ta({target:"Array",proto:!0},{at:function(e){var t=eC(this),n=tm(t),r=tp(e),i=r>=0?r:n+r;return i<0||i>=n?void 0:t[i]}});var wJ=i5("Array","at"),wY=iO.charAt;ta({target:"String",proto:!0,forced:!0},{at:function(e){var t=tq($(this)),n=t.length,r=tp(e),i=r>=0?r:n+r;return i<0||i>=n?void 0:wY(t,i)}});var wQ=i5("String","at"),w0=Array.prototype,w1=String.prototype,w2=f(function(e){var t=e.at;return e===w0||ee(w0,e)&&t===w0.at?wJ:"string"==typeof e||e===w1||ee(w1,e)&&t===w1.at?wQ:t});ta({target:"Number",stat:!0},{isNaN:function(e){return e!=e}});var w5=J.Number.isNaN,w4=f(w5);function w3(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0,n=0;n<e.length;n++){var r=e[n].end,i=e[n].begin;w4(Number(r))||w4(Number(i))||i<0||r<0||r<i||(t+=e[n].end-e[n].begin)}return dh((1e3*t).toString(),10)}function w6(e){if(null==e||""===e||"string"!=typeof e)return"";var t=e.split("/"),n="";return t.length>3&&t[2]&&(n=t[2]),n}function w9(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r]}function w7(){try{return Math.round(window.performance.now())}catch(e){return(new Date).getTime()}}function w8(){return(new Date).getTime()}var Se={x_response_sinfo:"x-response-sinfo",x_response_cache:"x-response-cache",x_response_cinfo:"x-response-cinfo"};function St(e){var t=Object.prototype.toString.call(e).match(/([^\s.*]+)(?=]$)/g);return t?t[0]:""}function Sn(e){return"String"===St(e)?e.replace("P","p"):e?"Number"===St(e)?"".concat(e):void 0:""}function Sr(e){try{return l5(e)}catch(e){return""}}function Si(e,t){return Math.round(t/e*1e5)}var So,Sa,Ss,Sl=0,Sc=0,Su=lx(function e(t,n){var r,i=this;lk(this,e),oX(this,"firstFrameState",[]),oX(this,"player",void 0),oX(this,"_isWaiting",!1),oX(this,"_waitTimer",null),oX(this,"_waittTimer",null),oX(this,"_waitType",wz.startPlayWait),oX(this,"config",void 0),oX(this,"_state",{}),oX(this,"vt",0),oX(this,"pt",0),oX(this,"fvt",0),oX(this,"newPointTime",0),oX(this,"seekData",{}),oX(this,"loadedCostTime",0),oX(this,"startCostTime",0),oX(this,"waitData",{}),oX(this,"levelInfo",{}),oX(this,"waitingStart",0),oX(this,"fixedWaitingStart",0),oX(this,"listens",[]),oX(this,"cdnSize",0),oX(this,"pcdnSize",0),oX(this,"cdnSpeed",0),oX(this,"pcdnSpeed",0),oX(this,"isAddPreloadDataSize",!1),oX(this,"onReset",function(){i.isAddPreloadDataSize=!1,i._state={time:0,autoplayStart:!1,isFFLoading:!1,isTimeUpdate:!1,isFFSend:!1,isLs:!1,isLoadstartDelay:!1,neeLoadstartDelay:!1},i.vt=0,i.pt=0,i.fvt=0,i.newPointTime=w7(),i.loadedCostTime=0,i.startCostTime=0,i.seekData={startTime:0,lastTime:0,timeBefore:0,timeAfter:0,inBuffer:0,diffStart:0,interval:-1},i.waitData={startTime:0,lastTime:0,interval:-1,diffStart:0},i.waitingStart=0,i.fixedWaitingStart=0,i.levelInfo={diff:0,buffer:-1,startBuffer:-1,startType:""},i._isWaiting=!1,i._waitTimer&&clearTimeout(i._waitTimer),i._waittTimer&&clearTimeout(i._waittTimer),i._waitTimer=null,i._waittTimer=null,i._waitType=0,i._initOnceEvents(),i.player.defineProperty("bandwidth",{configurable:!0,writable:!0,value:{}}),i.changeState("new")}),oX(this,"_onProgress",function(e){var t,n,r=(null===(t=i.player)||void 0===t||null===(t=t.config)||void 0===t||null===(t=t.baseConfig)||void 0===t||null===(t=t.mediaInfo)||void 0===t?void 0:t.id)||"";if((null==e||null===(n=e.speedInfo)||void 0===n?void 0:n.totalByteSize)>0){var o,a,s={vid:r,task_type:1,isV2Player:!0};(null==e||null===(o=e.speedInfo)||void 0===o?void 0:o.type)===wq.PCDN?(i.pcdnSize+=e.speedInfo.totalByteSize,i.pcdnSpeed=e.speedInfo.currentKBps||0,i.setBandWidth(),i.player.emit("prf_data_size",oY(oY({},s),{},{pcdn_size:e.speedInfo.totalByteSize}))):(i.cdnSize+=e.speedInfo.totalByteSize,i.cdnSpeed=e.speedInfo.currentKBps||0,i.setBandWidth(),i.player.emit("prf_data_size",oY(oY({},s),{},{cdn_size:e.speedInfo.totalByteSize}))),!i.isAddPreloadDataSize&&(i.cdnSize+=(null===(a=i.player)||void 0===a||null===(a=a.preloadData)||void 0===a?void 0:a.byteLength)||0,i.isAddPreloadDataSize=!0)}}),oX(this,"setBandWidth",function(){var e,t=(null===(e=i.player)||void 0===e||null===(e=e.config)||void 0===e||null===(e=e.baseConfig)||void 0===e||null===(e=e.mediaInfo)||void 0===e?void 0:e.id)||"";(function(e,t,n){e.defineProperty&&e.defineProperty(t,{value:n,enumerable:!0,configurable:!0,writable:!0});try{e[t]=n}catch(e){}})(i.player,"bandwidth",{vid:t,cdn:{size:i.cdnSize,speed:i.cdnSpeed},pcdn:{size:i.pcdnSize,speed:i.pcdnSpeed}})}),oX(this,"_onDegrade",function(e){i.changeState("degrade",e)}),oX(this,"_onLoadedMetadata",function(){var e=i._state;e.neeLoadstartDelay&&!e.isLoadstartDelay&&(e.isLoadstartDelay=!0,i.emitLog(w$.LOAD_START,{}))}),oX(this,"_onLoadStart",function(){var e=i._state,t=e.isFFSend;i.startCostTime=w7()-i.newPointTime,i.changeState("loadstart",{isFFSend:t,isLs:e.isLs}),t||(e.isLs||(i.config.loadstartDelay&&!e.isLoadstartDelay?e.neeLoadstartDelay=!0:i.emitLog(w$.LOAD_START,{})),e.isLs=!0,e.isTimeUpdate=!1,e.isFFLoading=!0,i.pt=w7(),i.vt=0,i.fvt=0,i._initOnceEvents())}),oX(this,"_onLoadedData",function(){i.vt=w7();var e=i.vt-i.pt;i.fvt=e>0?e:1,i.loadedCostTime=i.vt-i.newPointTime,i._updateBuffer();var t=i._state,n=t.isTimeUpdate,r=t.isFFSend,o=t.autoplayStart,a=t.isFFLoading;r||i.emitLog(w$.LOADED_DATA,{}),i.changeState("loadeddata",{fvt:i.fvt,isTimeUpdate:n,isFFSend:r,autoplayStart:o,isFFLoading:a}),(n||o)&&i._sendFF("loadedData")}),oX(this,"_onTimeupdate",function(){var e=i._state;e.isTimeUpdate=!0,e.time=i.player.currentTime;var t=i._state,n=t.autoplayStart,r=t.isFFSend,o=t.isFFLoading;i.changeState("timeupdate",{autoplayStart:n,isFFSend:r,isFFLoading:o}),e.isFFSend?i.player.off(wN.TIME_UPDATE,i._onTimeupdate):i._sendFF("onTimeupdate")}),oX(this,"_onPlay",function(){var e=i.player.buffered,t=i.levelInfo;t.startBuffer<0&&(t.startBuffer=e.length>0?1e3*e.end(0):0,t.startType="onplay")}),oX(this,"_onAutoplayStart",function(){i._state.autoplayStart=!0;var e=i._state,t=e.isFFLoading,n=e.isFFSend;i.changeState("autoplayStart",{vt:i.vt,isFFLoading:t,isFFSend:n}),i._sendFF("onAutoplayStart")}),oX(this,"_onSeeking",function(){var e=i.seekData,t=i._state;if(!e.startTime){e.startTime=w7(),i.changeState("seeking",{fvt:i.fvt,autoplayStart:i._state.autoplayStart,isFFSend:i._state.isFFSend,isTimeUpdate:i._state.isTimeUpdate,loadStart:i._state.isLs,curTime:i.player.currentTime,startTime:i.seekData.startTime}),e.timeBefore=t.time,e.timeAfter=i.player.currentTime;var n=i.player.bufferedPoint;e.inBuffer=n.end>0?1:0,e.diffStart=n.end>0?1e3*(n.end-i.player.currentTime):0,e.lastTime>0?e.interval=e.startTime-e.lastTime:e.interval=-1,i.suspendWaitingStatus("seek");var r=i._getSeekInfo();i.emitLog(w$.SEEK_START,oY({start:w7()},r))}}),oX(this,"_onSeeked",function(){i.changeState("seeked",{fvt:i.fvt,autoplayStart:i._state.autoplayStart,isFFSend:i._state.isFFSend,isTimeUpdate:i._state.isTimeUpdate,loadStart:i._state.isLs,curTime:i.player.currentTime,startTime:i.seekData.startTime}),i.suspendSeekingStatus("seeked")}),oX(this,"_onPause",function(){i.endState("pause")}),oX(this,"_onEnded",function(){i.endState("ended")}),oX(this,"_onWaiting",function(){if(i.changeState("onwaiting",{fvt:i.fvt,waiting:i._isWaiting,autoplayStart:i._state.autoplayStart,isFFSend:i._state.isFFSend,isTimeUpdate:i._state.isTimeUpdate,loadStart:i._state.isLs,curTime:i.player.currentTime,startTime:i.seekData.startTime}),!i._isWaiting&&i.vt){i._isWaiting=!0;var e=i.waitData,t=i.seekData;i._state.isTimeUpdate||0!==t.startTime?t.startTime?i._waitType=wz.seekWait:i._waitType=wz.commonWait:i._waitType=wz.startPlayWait,i.player.on(wN.TIME_UPDATE,i._onResumePlay),i.fixedWaitingStart=w7(),e.lastTime>0?e.interval=i.fixedWaitingStart-e.lastTime:e.interval=-1;var n=i.player.bufferedPoint;e.diffStart=n.end>0?1e3*(n.end-i.player.currentTime):0,i._waitTimer=pS(function(){var e=i.waitData;i._isWaiting?(i.waitingStart=w7(),i._waitTimer&&(clearTimeout(i._waitTimer),i._waitTimer=null),e.lastTime=i.fixedWaitingStart,i._startWaitTimeout(),i.emitLog(w$.WAIT_START,{fixedStart:i.fixedWaitingStart,start:i.waitingStart,type:i._waitType,endType:2===i._waitType?"seek":"playing",diffStart:e.diffStart,interval:e.interval})):(e.interval=-1,e.diffStart=0)},200)}}),oX(this,"_onError",function(e){null!=e&&e.player&&delete e.player,i.changeState("error",e),i.suspendSeekingStatus("error"),i.suspendWaitingStatus("error")}),oX(this,"_onWaitingTimeout",function(e){i.suspendWaitingStatus(e||"timeout"),i._waittTimer&&(clearTimeout(i._waittTimer),i._waittTimer=null)}),oX(this,"_onResumePlay",function(){i._isWaiting&&i.suspendWaitingStatus("timeupdate")}),oX(this,"_onPlaying",function(){i._isWaiting&&i.suspendWaitingStatus("playing")}),this.player=t,this._waitType=wz.startPlayWait,this.config=n,this.config.waitTimeout||(this.config.waitTimeout=e.defaultConfig.waitTimeout),this.listens=[{evt:wN.LOAD_START,handle:this._onLoadStart},{evt:wN.LOADED_METADATA,handle:this._onLoadedMetadata},{evt:wN.LOADED_DATA,handle:this._onLoadedData},{evt:wN.SEEKING,handle:this._onSeeking},{evt:wN.SEEKED,handle:this._onSeeked},{evt:wN.PLAYING,handle:this._onPlaying},{evt:wN.CANPLAY,handle:this._onPlaying},{evt:wN.PAUSE,handle:this._onPause},{evt:wN.WAITING,handle:this._onWaiting},{evt:wN.ERROR,handle:this._onError},{evt:wN.ENDED,handle:this._onEnded},{evt:wN.PLAY,handle:this._onPlay},{evt:wN.PAUSE,handle:this._onPause},{evt:wN.AUTOPLAY_STARTED,handle:this._onAutoplayStart},{evt:"degrade",handle:this._onDegrade},{evt:"progress",handle:this._onProgress}],lI(r=this.listens).call(r,function(e){i.player.on(e.evt,e.handle)}),this.onReset()},[{key:"vtype",get:function(){var e;return(null===(e=this.player)||void 0===e||null===(e=e.config)||void 0===e||null===(e=e.shared)||void 0===e?void 0:e.vtype)||""}},{key:"destory",value:function(){var e,t=this;this.endState("destroy"),this.player.off(wN.AUTOPLAY_STARTED,this._onAutoplayStart),this.player.off(wN.TIME_UPDATE,this._onTimeupdate),this.player.off(wN.TIME_UPDATE,this._onResumePlay),lI(e=this.listens).call(e,function(e){t.player.off(e.evt,e.handle)})}},{key:"_initOnceEvents",value:function(){this.player&&(this.player.off(wN.TIME_UPDATE,this._onTimeupdate),this.player.on(wN.TIME_UPDATE,this._onTimeupdate))}},{key:"_sendFF",value:function(e){var t=this._state,n=t.isFFLoading,r=t.isFFSend;if(this.vt>0&&n&&!r){var i=this.levelInfo,o=i.buffer,a=i.startBuffer;this._state.isFFLoading=!1,this._state.isFFSend=!0;var s=this.fvt;this.emitLog(w$.FIRST_FRAME,{fvt:this.fvt,costTime:s,vt:this.vt,startCostTime:this.startCostTime,loadedCostTime:this.loadedCostTime,buffer:o,startBuffer:a,endType:e}),this.changeState("sendFF",{fvt:this.fvt,endType:e})}}},{key:"_updateBuffer",value:function(){var e=this.player.currentTime,t=this.player.bufferedPoint,n=t.end>0?t.end-e:0,r=this.levelInfo;r.buffer=1e3*t.end,r.diff=1e3*n}},{key:"_getSeekInfo",value:function(){var e=this.seekData;return{interval:e.interval,timeBefore:e.timeBefore,timeAfter:e.timeAfter,inBuffer:e.inBuffer,diffStart:e.diffStart}}},{key:"_startWaitTimeout",value:function(){this._waittTimer&&clearTimeout(this._waittTimer),this._waittTimer=pS(this._onWaitingTimeout,this.config.waitTimeout)}},{key:"endState",value:function(e){var t=this.player,n=t.currentTime,r=t.duration,i=!(r>0&&n>0&&r-n<1);this.suspendWaitingStatus(e,i),this.suspendSeekingStatus(e,i)}},{key:"suspendSeekingStatus",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.seekData;if(n.startTime){var r=w7(),i=r-n.startTime,o=this.player.bufferedPoint;n.lastTime=n.startTime,n.startTime=0;var a=t?w$.SEEK_END:wj.SEEK_END_EXT,s=this._getSeekInfo();this.emitLog(a,oY(oY({end:r,costTime:i,endType:e},s),{},{diffEnd:1e3*o.diff}))}}},{key:"suspendWaitingStatus",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._waitTimer&&(clearTimeout(this._waitTimer),this._waitTimer=null),this._waittTimer&&(clearTimeout(this._waittTimer),this._waittTimer=null),this._isWaiting=!1,this.player.off(wN.TIME_UPDATE,this._onResumePlay),this.waitingStart){var n=this.waitData,r=w7(),i=r-this.waitingStart,o=r-this.fixedWaitingStart,a=this.config.waitTimeout;this.waitingStart=0,this.fixedWaitingStart=0;var s=this.player.currentTime,l=this.player.bufferedPoint,c=l.end>0?l.end-s:0,u=t?w$.WAIT_END:wj.WAIT_END_EXT,h=i>a?a:i;this.changeState("waitingend",{fvt:this.fvt,costTime:h,isFFSend:this._state.isFFSend,autoplayStart:this._state.autoplayStart,isTimeUpdate:this._state.isTimeUpdate,curTime:this.player.currentTime,endType:2===this._waitType?"seek":e,waitType:"loadeddata"===e?1:this._waitType}),this.emitLog(u,{fixedCostTime:o>a?a:o,costTime:i>a?a:i,type:"loadeddata"===e?1:this._waitType,endType:2===this._waitType?"seek":e,diffStart:n.diffStart,diffEnd:1e3*c,interval:n.interval})}}},{key:"emitLog",value:function(e,t){var n=this.player,r=n.media,i=r.readyState,o=r.networkState;this.player.emit(wM,oY({t:w7(),host:w6(this.player.curretnSrc||this.player.src),vtype:this.vtype,eventType:e,currentTime:n.currentTime,readyState:i,networkState:o},t))}},{key:"changeState",value:function(e,t){t||(t={});var n,r=this.firstFrameState;r&&r.length&&"new"!==e||(this.firstFrameState=[],Sc=uQ(),Sl=uQ());var i=uQ(),o="new"===e?0:i-Sl,a="new"===e?0:i-Sc;t.vtype=this.vtype,t.vid=(null===(n=this.player)||void 0===n||null===(n=n.config)||void 0===n||null===(n=n.baseConfig)||void 0===n||null===(n=n.mediaInfo)||void 0===n?void 0:n.id)||"",this.firstFrameState.push({state:e,t1:o,t2:a,data:t}),Sl=i}}],[{key:"defaultConfig",get:function(){return{waitTimeout:1e4}}}]),Sh=lx(function e(){lk(this,e),oX(this,"_st",0),oX(this,"_acc",0),oX(this,"_loopAcc",0),this.reset()},[{key:"cumulateTime",get:function(){return this._st?(new Date).getTime()-this._st+this._acc:this._acc}},{key:"cumulateTimeIncludeLoop",get:function(){return this._st?(new Date).getTime()-this._st+this._loopAcc:this._loopAcc}},{key:"st",get:function(){return this._st},set:function(e){this._st=e}},{key:"reset",value:function(){this._acc=0,this._st=0,this._loopAcc=0}},{key:"updateAcc",value:function(e){if(this._st){var t=(new Date).getTime()-this._st;this._acc+=t,this._st=0,"ended"===e&&(this._loopAcc=this._acc)}}}]),Sd=[{key:"QQBrowser",reg:/(qqbrowser)\/([\d.]+)/},{key:"QIHU360EE",reg:/qihu 360ee/},{key:"QIHU360SE",reg:/qihu 360se/},{key:"2345Explorer",reg:/(2345explorer)\/([\d.]+)/},{key:"Sogou",reg:/(metasr)/},{key:"Wexin",reg:/(micromessenger)\/([\d.]+)/},{key:"Openlanguage",reg:/(openlanguage)\/([\d.]+)/},{key:"NewsArticle",reg:/(newsarticle)\/([\d.]+)/},{key:"VideoArticle",reg:/(videoarticle)\/([\d.]+)/},{key:"Hotsoon",reg:/(live_stream)_([\d.]+)/},{key:"Aweme",reg:/(aweme)_([\d.]+)/},{key:"Lark",reg:/(lark)\/([\d.]+)/},{key:"PlayStation",reg:/(playstation)/},{key:"BingPreview",reg:/(bingpreview)\/([\d.]+)/},{key:"Baiduspider",reg:/(baiduspider-render)\/([\d.]+)/},{key:"YandexBot",reg:/(yandexbot)\/([\d.]+)/},{key:"Chrome",reg:/(chrome)\/([\d.]+)/},{key:"Safari",reg:/(version)\/([\d.]+)\s*(safari)/}],Sf=[{key:"Trident",reg:/(rv:)([\d.]+)/},{key:"Trident",reg:/(msie)\s*([\d.]+)/}],Sp=["avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","avc1.42E01E","mp4v.20.8","avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","mp4v.20.8, mp4a.40.2","mp4v.20.240, mp4a.40.2"],Sv="undefined"!=typeof navigator?null===(Sa=navigator.userAgent.match(/Chrome\/([0-9.]+)/))||void 0===Sa?void 0:Sa[1]:"",Sg=dh((null==Sv||null===(Ss=Sv.split("."))||void 0===Ss?void 0:Ss[0])||"0",10)||0,Sm=["Baiduspider","YandexBot"],Sy=["Baiduspider","googlebot","360Spider","haosouspider","YoudaoBot","Sogou News Spider","Yisouspider","Googlebot","Headless","Applebot","Bingbot","PetalBot"],S_="undefined"!=typeof navigator&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=e.toLocaleLowerCase();var t=/(iphone)/.test(e)||/(ipad)/.test(e),n=/(android)/.test(e),r=/(windows phone)/.test(e),i=t||n||r,o={isIOS:t,isAndroid:n,isMobile:i,isPC:!i,isPad:/(ipad)/.test(e)},a=function(){var e={isSupport:!1,mime:""};if("undefined"==typeof document)return e;var t=document.createElement("video");return"function"==typeof t.canPlayType?uR(Sp).call(Sp,function(n){"probably"===t.canPlayType('video/mp4; codecs="'.concat(n,'"'))&&(e.isSupport=!0,e.mime+="||".concat(n))}):t=null,e}();o.isSupportMP4=a.isSupport,o.mime=a.mime;var s="",l=0,c=[],u=Sd;/trident/.test(e)&&(u=Sf);for(var h=0;h<u.length;h++)if(c=u[h].reg.exec(e)){s=u[h].key,l=c.length>2?c[2]:"";break}return s?(o["is".concat(s)]=!0,o.name=s,o.appVersion=l):function(){var e=navigator.mimeTypes;if(e){for(var t,n,r,i=0;i<e.length;i++)if(e[i].type&&d9(t=e[i].type).call(t,"360")>-1||e[i].type&&d9(n=e[i].type).call(n,"application/vnd.chromium.remoting-viewer")>-1||e[i].description&&d9(r=e[i].description).call(r,"360")>-1)return!0}return!1}()&&(o.name="360EE"),o.name&&"Trident"!==o.name&&/(trident)/.exec(e)&&(o.name=o.name?"".concat(o.name,"_Trident"):"Trident"),o.isSpider=function(e,t){var n=!1;uR(Sm).call(Sm,function(t){t===e&&(n=!0)});for(var r=0;r<Sy.length;r++){var i=Sy[r];if(-1!==d9(t).call(t,i)){n=!0;break}}return n}(o.name,e),o}(navigator.userAgent);function Sb(){return!("undefined"==typeof MediaSource||!MediaSource.isTypeSupported)&&(MediaSource.isTypeSupported('video/mp4;codecs="hev1.1.6.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.2.4.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.3.E.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.4.10.L120.90"'))}var Sw=[1,1,1,1,1];function SS(){return dh(Sw.join(""),10)}Sw[0]=S_.isSupportMP4?Sw[1]+1:Sw[1],Sw[1]=Sb()?Sw[1]+1:Sw[1],(function(e){var t={supported:!1,smooth:!1,powerEfficient:!1};if(!e||"undefined"==typeof navigator)return lC.resolve(t);if(navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo)return navigator.mediaCapabilities.decodingInfo(e);var n=e.video||{},r=e.audio||{};try{var i=MediaSource.isTypeSupported(n.contentType),o=MediaSource.isTypeSupported(r.contentType);return lC.resolve({supported:i&&o,smooth:!1,powerEfficient:!1})}catch(e){return lC.resolve(t)}})({type:"file",video:{contentType:'video/mp4;codecs="hev1.1.6.L120.90"',width:1920,height:1080,bitrate:1e4,framerate:30}}).then(function(e){e&&e.supported?Sw[2]=Sw[2]+1:Sw[2]=1}).catch(function(){Sw[2]=Sw[2]-1});var SE=function(){return function(){try{return"undefined"!=typeof localStorage&&"setItem"in window.localStorage&&!!window.localStorage.setItem}catch(e){return!1}}()&&!function(){var e="_localstorage_support_test";try{return window.localStorage.setItem(e,"1"),window.localStorage.removeItem(e),!1}catch(e){return!0}}()}(),Sk=SE?window.localStorage:null,ST="__xgplayerlogkey",Sx={set:function(e){try{var t=this.get();(null==t?void 0:t.push)&&t.push(e),null==Sk||Sk.setItem(ST,l5(t))}catch(e){}},get:function(){try{var e=null==Sk?void 0:Sk.getItem(ST);return e=e?JSON.parse(e):[]}catch(e){return[]}},remove:function(){try{null==Sk||Sk.removeItem(ST)}catch(e){}},clear:function(){try{null==Sk||Sk.clear()}catch(e){}}};let SC="1.0.0-rc.0";var SI=["try_req_num","req_node_succ","conn_req_num","has_ret_node","conn_fail_num","conn_jump_num"];w9("vodLogger version is ".concat(SC));var SO=function(e){return Object.prototype.toString.call(e)==="[object ".concat("Object","]")},SA="",SP=1300,SR="__tea_cache_tokens_".concat(SP),SD=null,SL=function(){function e(t,n){var r,i=this;if(lk(this,e),oX(this,"player",void 0),oX(this,"eventQueue",[]),oX(this,"_envInfo",null),oX(this,"_options",void 0),oX(this,"line_app_id",0),oX(this,"line_user_id",""),oX(this,"playerVersion",""),oX(this,"closeSeekLog",!1),oX(this,"start_time",0),oX(this,"_initial_resolution",""),oX(this,"__dt",""),oX(this,"accWatchTime",new Sh),oX(this,"isEnded",!1),oX(this,"buffers",void 0),oX(this,"error",void 0),oX(this,"exInfo",void 0),oX(this,"_templog",void 0),oX(this,"fvt",0),oX(this,"fvtObject",{}),oX(this,"_isOnePlayReport",!1),oX(this,"startStep",0),oX(this,"bft",0),oX(this,"_novv",void 0),oX(this,"inWaitingStart",0),oX(this,"waitStartTime",0),oX(this,"lastVideoTime",0),oX(this,"_endType",""),oX(this,"_retryCount",0),oX(this,"lastOperaTime",-1),oX(this,"lastEventTime",-1),oX(this,"stallIntervalId",null),oX(this,"playlogs",void 0),oX(this,"netLog",[]),oX(this,"seekLog",void 0),oX(this,"resLogs",void 0),oX(this,"errorLog",void 0),oX(this,"pauseLog",void 0),oX(this,"stall",void 0),oX(this,"urlLog",void 0),oX(this,"_playerCreatedTime",0),oX(this,"load_state",wU),oX(this,"lv_method",6),oX(this,"isSeeking",!1),oX(this,"isAutoplay",0),oX(this,"abrInfo",void 0),oX(this,"_cacheFile",wH),oX(this,"tracker",void 0),oX(this,"_sessionId","0"),oX(this,"commonParams",void 0),oX(this,"listeners",[]),oX(this,"degradeLog",void 0),oX(this,"_logEvent",void 0),oX(this,"_error",!1),oX(this,"_dropFrames",0),oX(this,"markLoadStart",void 0),oX(this,"initializeUrlLog",function(){i.urlLog={curSrc:"",curSrc_host:""}}),oX(this,"onDegrade",function(e){i._dropFrames=0,e&&(e.local_time=w8(),i.onOneEvent({end_type:"degrade"},e))}),oX(this,"onReplayBtnClick",function(){i.resetPlayLogs()}),oX(this,"onBeforeDefinitionChange",function(){i.resLogs&&(i.resLogs.ldst=w7()),i._endType="switch"}),oX(this,"onDefinitionChange",function(e){var t;i.changeResolution(oY(oY({},e),{},{startTime:null===(t=i.resLogs)||void 0===t?void 0:t.ldst,operaType:"switch"})),w9("onDefinitionChange to:".concat(e.mediaInfo.bitrate))}),oX(this,"onDefiChangeSuccess",function(){w9("onDefinitionChangeSuccess"),i.updateVideoSize()}),oX(this,"onAbrChange",function(){}),oX(this,"onTimeUpdate",function(){var e=i.playlogs,t=i.resLogs,n=i.player,r=i.errorLog;if(r&&(r.try_err_c=0),null==t||!t.initial_resolution){var o=n.currentDefitionFromPlayer&&n.currentDefitionFromPlayer.definition?n.currentDefitionFromPlayer.definition:i.shareConfig.defaultDefinition||"".concat(n.video.videoHeight,"p")||"";o=Sn(o),t&&(t.initial_resolution=o)}null!=t&&t.final_resolution||!t||(t.final_resolution=t.initial_resolution);var a=(null==e?void 0:e.played.length)||0;a<1?e&&e.played.push({begin:n.currentTime,end:-1}):e&&(e.played[a-1].end=n.currentTime);var s=(null==t?void 0:t.played.length)||0;s<1?t&&t.played.push({begin:n.currentTime,end:-1}):t&&(t.played[s-1].end=n.currentTime),i.lastVideoTime=n.currentTime||0;var l=i.player,c=l.paused,u=l.ended;i.accWatchTime.st||c||u||(i.accWatchTime.st=w8())}),oX(this,"onVideoProgress",function(){i.updateBuffers(),i.updateCurBuffer(),i.updateSpeedInfo()}),oX(this,"onCanplay",function(){var e;w9("onCanplay",uu(e="this.startStep:".concat(i.startStep," ")).call(e,w8())),i.setVt()}),oX(this,"onLoadeddata",function(){var e;if(i.isAutoplay=2,w9("onLoadeddata",uu(e="this.startStep:".concat(i.startStep," ")).call(e,w8())),i.setVt(),i.updateVideoSize(),i.markLoadStart){var t=i.player.playerId||"0",n=i.perfMark("playerLoadedData_".concat(t));n?performance.measure("playerFirstFrame_".concat(t),i.markLoadStart.name,n.name):performance.clearMarks(i.markLoadStart.name)}}),oX(this,"onLoadStart",function(){var e,t;i.commonParams.web_url=location.href,w9("onLoadStart",uu(e=uu(t="this.startStep:".concat(i.startStep," ")).call(t,w8()," player.src:")).call(e,i.player.src)),0===i.startStep&&"visible"===document.visibilityState&&i.setPt(),i.markLoadStart=i.perfMark("playerLoadStart_"+(i.player.playerId||"0"))}),oX(this,"onBufferedChange",function(){var e=i.player.video&&i.player.video.buffered;if(e){var t=e.length;t>0&&e.end(t-1)+1>i.player.duration&&(i.bft=w8())}}),oX(this,"onPlayerInited",function(){w9("player init"),i._playerCreatedTime=w8(),i.playlogs&&(i.playlogs.rt=w8())}),oX(this,"onNotAutoPlay",function(){w9("onNotAutoPlay","autoplay:".concat(i.isAutoplay)),0===i.isAutoplay?i.isAutoplay=2:1===i.isAutoplay&&(i.isAutoplay=3)}),oX(this,"onLoggerCache",function(e){var t;i._templog={vtype:(null===(t=i.shareConfig)||void 0===t?void 0:t.vtype)||"",log:"string"==typeof e?e:null==e?void 0:e.log},i.onOneTemp(wW.LOGGER_CACHE)}),oX(this,"onDropFrames",function(e){i._dropFrames+=(null==e?void 0:e.dropFrames)||0}),oX(this,"onPlayerError",function(e){e=e||{};var t=i.errorLog;if(w9("onPlayerError",e),i.load_state=wG,i._endType="error",t&&(t.errc=e.code,t.message=e.message,t.ext=e.ext,t.accu_errc+=1),(t||e)&&(S_.isPC&&!S_.isSupportMP4||S_.isSpider))return i.onOneError({code:(null==t?void 0:t.errc)||e.code,url:e.url,headers:e.headers||{},message:e.message||""},0),void(i._isOnePlayReport=!0);t&&(t.errc=e.code,t.message=e.message||"",t.ext=e.ext,t.last_errors.push(t.errc),0===t.fir_errc&&(t.fir_errc=t.errc)),i.sendSwitchOpera(wV.ERROR.toString()),i.onOnePlay(wV.ERROR),i.onOneTemp(wV.ERROR),i.onOneError({endState:wV.PLAY_ERROR,code:null==t?void 0:t.errc,url:e.url,headers:e.headers||{},message:e.message||""},0),i.sendEventsQueue()}),oX(this,"waitEndHandle",function(e,t){var n,r,o=i.playlogs,a=i.resLogs,s=i.stall,l=e.endType,c=e.costTime,u=e.type;(e.costTime>=i._options.longWait||1===u)&&i.reportPlayerLog(wW.WAIT_END+u),w9(uu(n=uu(r="onXgLogWaiting>>".concat(l,"|costTime:")).call(r,c,"  vt:")).call(n,null==o?void 0:o.vt)),i.appendStallInfo("end",w7(),l),o&&(o.bc++,o.bu_acu_t+=c),!i.checkInBuffer(i.player.currentTime)&&o&&(o.nbc++,o.nbu_acu_t+=c),a&&(a.bc++,a.bu_acu_t+=c),s&&(s.end=i.cur_play_pos,s.cost=c,s.acc+=s.cost,1===s.sc&&(s.endf=i.cur_play_pos)),i.onOneEvent({type:u,costTime:c,end_type:e.eventType},t,2)}),oX(this,"onVodLog",function(e){w9("onVodlog",e);var t=e.costTime,n=e.start,r={speed:l5(i.netLog)};if(e.eventType===w$.WAIT_START)return i.onOneEvent({costTime:t,end_type:e.eventType},r,2),void i.appendStallInfo("start",n);e.eventType===w$.WAIT_END?i.waitEndHandle(e,r):e.eventType===w$.FIRST_FRAME&&(i.fvt=e.fvt)}),oX(this,"onSeeking",function(){i.isSeeking||i.accWatchTime.updateAcc("seeking"),i.isSeeking=!0;var e=i.seekLog;e&&(e.lastSeekStartTime=w7(),e.sc+=1,e.seekBefore=i.lastVideoTime,e.buf_include=i.checkInBuffer(i.player.currentTime)?1:0),w9("onSeeking","currentTime:".concat(i.player.currentTime)),0===i.startStep&&i.setPt()}),oX(this,"onSeeked",function(){i.isSeeking&&i.suspendSeekStatus(w$.SEEK_END,!0)}),oX(this,"onPlaying",function(){i.load_state=wF;var e=w7();i.pauseLog&&i.pauseLog.isPausing&&(i.pauseLog.isPausing=!1,i.pauseLog.pause_acu_t+=e-i.pauseLog.pause_start);var t=i.player,n=t.paused,r=t.ended;i.accWatchTime.st||n||r||(i.accWatchTime.st=w8())}),oX(this,"onFirstFrame",function(e){i.fvtObject=(null==e?void 0:e.fvt)||{}}),oX(this,"onReplay",function(){i.playlogs&&(i.playlogs.lc+=1)}),oX(this,"onPlay",function(){var e;w9("onPlay",uu(e="this.startStep :".concat(i.startStep," this.isEnded:")).call(e,i.isEnded)),i.isEnded&&(i.resetPlayLogs(),i.setPt())}),oX(this,"onPause",function(){w9("onPause"),i.accWatchTime.updateAcc("pause");var e=i.pauseLog;e&&(e.isPausing=!0,e.pause_start=w7())}),oX(this,"onWaiting",function(){i.accWatchTime.updateAcc("waiting"),i.updateCurBuffer()}),oX(this,"onError",function(){i.accWatchTime.updateAcc("error"),i._error=!0}),oX(this,"onEnded",function(){var e,t;i.initial_url&&(i.accWatchTime.updateAcc("ended"),w9("onEnded",uu(e=uu(t="watchDur:".concat(i.watchDur," vt:")).call(t,i.vt," pt:")).call(e,i.pt)),i.isEnded=!0,i.sendSwitchOpera(wV.ENDED),i.onOnePlay(wV.ENDED),i.onOneTemp(wV.ENDED),i.sendEventsQueue())}),oX(this,"onUnload",function(){0!==i.startStep&&i.initial_url&&(i.onOneTemp(wV.UNLOAD.toString()),i._reportInvalidVV(wV.UNLOAD)||(i.sendSwitchOpera(wV.UNLOAD.toString()),i.onOnePlay(wV.UNLOAD,!0)))}),oX(this,"onVisibilitychange",function(){var e,t=null===(e=i.playlogs)||void 0===e?void 0:e.vt;"visible"===document.visibilityState&&(t||i.setPt())}),oX(this,"onDestroy",lE(lw().mark(function e(){var t,n,r,o,a,s,l,c,u,h;return lw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:w9(uu(t=uu(n="onDestroy:this.startStep:".concat(i.startStep," initial_url:")).call(n,i.initial_url," ")).call(t,!!i.initial_url)),0===i.fvt&&i.player&&(c=(l=null===(a=i.player)||void 0===a||null===(a=a._core)||void 0===a||null===(a=a.startTimelines)||void 0===a?void 0:a.playerstate)?l5(l):"",h=(u=null===(s=i._logEvent)||void 0===s?void 0:s.firstFrameState)?l5(u):"",i._templog={log:c+"||"+h},i.onOneTemp(wW.DESTROY.toString())),i.accWatchTime.updateAcc("destroy"),i.onOnePlay(wV.DESTROY),i.startStep>0&&i.initial_url&&i.onOneTemp(wV.DESTROY.toString()),i.sendSwitchOpera(wV.ENDED.toString()),i.sendEventsQueue(),S_.isPC?window.removeEventListener("beforeunload",i.onUnload):(S_.isMobile||S_.isPad)&&window.removeEventListener("pagehide",i.onUnload),document.removeEventListener("visibilitychange",i.onVisibilitychange),lI(r=i.listeners).call(r,function(e){i.player.off(e.evt,e.handler)}),i.clearTimers(),null===(o=i._logEvent)||void 0===o||o.destory();case 1:case"end":return e.stop()}},e)}))),oX(this,"onOnePlay",function(){var e,t,n,r,o,a,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(w9(uu(e=uu(t="onOnePlay _isOnePlayReport:".concat(i._isOnePlayReport," isLeave: ")).call(t,l," endState:")).call(e,s)),!i._isOnePlayReport){var c=i.errorLog,u=i.playlogs,h=i.abrInfo,d=i.resLogs,f=i.player,p=i.pauseLog,v=i.stall,g=i.netLog,m=i.watchDur;i._isOnePlayReport=!0;var y=w8(),_=i.getFrameInfo(),b=l5(null===(n=i.player)||void 0===n||null===(n=n._core)||void 0===n||null===(n=n.startTimelines)||void 0===n?void 0:n.playerstate)+"\nLoggerState:"+l5(null===(r=i._logEvent)||void 0===r?void 0:r.firstFrameState),w=i.getPerformance(),S=null==c?void 0:c.errc,E=(null===(o=i.seekLog)||void 0===o?void 0:o.sc)||0,k=(null===(a=i.seekLog)||void 0===a?void 0:a.sat)||0,T={bc:Si(m,i.bc||0),bu_acu_t:Si(m,i.bu_acu_t||0),sc:Si(m,E),sat:Si(m,k)};i.setExt();var x=i._getCompatibilityInfo();i.setNovv(null,s.toString());var C=uR(g).call(g,function(e){return null==e?void 0:e.averageKBps}),I=uR(g).call(g,function(e){return null==e?void 0:e.currentKBps}),O=oY(oY(oY({local_time:w8(),log_type:"video_play",plugin_exception:0,player_create_exception:"",v:i.vid,initial_url:i.initial_url,initial_host:w6(i.initial_url),initial_ip:0,initial_type:i.vtype,initial_resolution:null==d?void 0:d.initial_resolution,final_resolution:null==d?void 0:d.final_resolution,pt:i.pt,prepare_start_time:null==u?void 0:u.nt,prepare_end_time:(null==u?void 0:u.rt)||w8(),vt:i.vt,lt:i.lt,lpt:i.lpt,fvt:i.fvt,nvt:i.nvt,bft:i.bft,sc:E,sat:k,bc:i.bc,nbc:(null==u?void 0:u.nbc)||0,video_net_s:i.videoNetworkState,status:i.curStatus,first_buf_startt:null==v?void 0:v.startf,first_buf_endt:null==v?void 0:v.endf,lc:null==u?void 0:u.lc,bu_acu_t:i.bu_acu_t,nbu_acu_t:(null==u?void 0:u.nbu_acu_t)||0,pause_acu_t:null==p?void 0:p.pause_acu_t,cur_play_pos:i.cur_play_pos,load_state:i.load_state,play_speed:i.playbackRate,playback_state:i.playback_state,end_state:s,watch_dur:m,switch_resolution_c:i.switchResolutionCount,is_start_play_automatically:i.isAutoplay,start_time:i.start_time,finish:i.finish,errc:S,vsc_message:null==c?void 0:c.message,width:i.videoWidth,height:i.videoHeight,vd:i.vd,df:i.curDefinition,bitrate:i.curBitrate,lf:null==d?void 0:d.lf,play_c:0,player_created_t:i.player_created_t,fir_errt:null==c?void 0:c.fir_errt,fir_errc:null==c?void 0:c.fir_errc,lv_method:0,ldst:null==d?void 0:d.ldst,ldet:null==d?void 0:d.ldet,is_disable_short_seek:0,mute:i.mute,volume:i.volume,download_speed:I.toString(),avg_speed:C.toString(),preload_hit:i.preloadHit,preload_cached:i.preloadDur,mdl_req_num:-1,watingcost:i.watingCost,try_err_c:null==c?void 0:c.try_err_c,accu_errc:null==c?void 0:c.accu_errc,merror:b,ex:Sr(i.exInfo),perf:Sr(w),bufs:Sr(i.allBuffer),pcdn:Sr(i.getPCDNStat())},i.curBuffer),{},{degrade:null==u?void 0:u.degrade,cache_file:i._cacheFile},_),{},{fullScreen:i._getFullScreenType(),encryptedInfo:Sr(i.encryptedInfo),per100_info:Sr(T)},x);0!==i.vt&&(O.et=y),0===i.fvt&&i.reportPlayerLog(wW.NO_STARTPLAY),null!=f&&f.softDecoder&&(O.soft_decoder=f.softDecoder),f&&f.dashState&&(O.dash_state=f.dashState),null!=f&&f.softDecoder&&(O.soft_decoder=f.softDecoder),h.abr_init_opts=i.shareConfig.autoBitrateOpts||{},O.abr_info=Sr(i.abrInfo);var A=x.is_support_mp4&&x.is_support_mse_mp4;if(x.is_spider||S_.isPC&&!A&&0===i.fvt)w9("is_spider",x.is_spider,"is_support_mp4",x.is_support_mp4);else if(l){var P,R=!(null!==(P=i._options)&&void 0!==P&&P.disableLocalCache);i.reportLog(wL.ONE_PLAY,O,R?1:0)}else i.reportLog(wL.ONE_PLAY,O)}}),oX(this,"onOneEvent",function(e){var t,n,r,o,a=e.type,s=e.costTime,l=e.vid,c=e.end_type,u=e.host,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;w9("onOneEvent",c),u=u||w6(i.player.src);var f=i.curBuffer,p=i.allBuffer,v=i.getFrameInfo(),g=oY(oY({local_time:w8(),v:l||i.vid,cost_time:s,type:a,end_type:c||i.end_type,cdn_url:i.url,cdn_host:u||"",initial_type:i.vtype,resolution:i.curBitrate,play_speed:i.playbackRate,first_frame_interval:w8()-i.pt,last_switch_interval:i.getLastInterval("lastSwitchStartTime",i.resLogs,!1),last_seek_interval:i.updateSeekPt(!1),last_event_interval:i.getLastInterval("lastEventTime"),cur_play_pos:i.cur_play_pos,video_ready_s:i.videoReadyState,video_seeking:i.videoSeeking,video_paused:i.videoPaused,bufs:Sr(p),retry_count:i._retryCount,at:null==(t=i.playlogs)?void 0:w2(t),stay_seconds:dh(((w8()-((null==(n=i.playlogs)?void 0:w2(n))||0))/1e3).toString(),10),preload_hit:i.preloadHit,preload_cached:i.preloadDur},f),v),m=i.player,y=m.currentTime,_=m.duration,b=_>0?_-y:Number.MAX_VALUE;if(c===w$.WAIT_START&&b<=1){var w=g.local_time,S=g.v,E=g.cost_time,k=g.cdn_url,T=g.first_frame_interval,x=g.cur_play_pos,C=g.video_ready_s,I=g.video_seeking,O=g.video_paused,A=g.bufs,P=g.bc,R=g.preload_hit;i.reportLog(wL.ONE_EVENT,oY({end_type:"endlongwait",local_time:w,v:S,cost_time:E,cdn_url:k,first_frame_interval:T,cur_play_pos:x,video_ready_s:C,video_seeking:I,video_paused:O,bufs:A,bc:P,preload_hit:R},f),d)}if(c===w$.WAIT_START&&"function"==typeof(null===(r=i._options)||void 0===r?void 0:r.getPageFPS)){var D=i._options.getPageFPS();g.cur_fps=D.curFPS||0,g.avg_fps=D.avgFPS||0}d9(c).call(c,"timeout")>-1&&g.cost_time>36e5&&(g.cost_time=36e5),lI(o=lO(h)).call(o,function(e){g[e]=h[e]}),g.ex=Sr(i.getPlayerExt()),i.addIfExist("drm_type",i._options,g),i.reportLog(wL.ONE_EVENT,g,d)}),oX(this,"onOneTemp",function(e){var t;if(w9("onOneTemp>>",!i._templog,e),i._templog){var n=i.player,r=i.playlogs,o=i.pauseLog,a=i.errorLog,s=i.resLogs,l=i.watchDur,c=oY(oY(oY({local_time:w8()},i._templog),{},{end_type:e,v:i.vid,initial_type:i.vtype,pt:i.pt,vt:i.vt,lt:i.lt,fvt:i.fvt,bc:i.bc,bu_acu_t:(i.bu_acu_t||0)>864e5?0:i.bu_acu_t,pause_acu_t:null==o?void 0:o.pause_acu_t,cur_play_pos:i.cur_play_pos,watch_dur:l>864e5?0:l,finish:i.finish,errc:null==a?void 0:a.errc,vd:i.vd,df:i.curBitrate,lf:null==s?void 0:s.lf,try_err_c:null==a?void 0:a.try_err_c,accu_errc:null==a?void 0:a.accu_errc,dash_break:2===n.dashBufferBreak?1:0,bufs:Sr(i.allBuffer)},i.curBuffer),{},{degrade:null==r?void 0:r.degrade});0!==i.vt&&(c.et=w8()),lI(t=["drm_type","dynamic_type"]).call(t,function(e){i.addIfExist(e,i._options,c)}),i.reportLog(wL.ONE_TEMP,c,0),i._templog=null}}),this.player=t,this._options=e.defaultConfig(),void 0===this.player||null===this.player)throw Error("player is ".concat(this.player));this.bindEvt(),this._logEvent=new Su(this.player,{waitTimeout:n.waitTimeout,loadstartDelay:"mp4"===this.baseConfig.protocol&&n.loadstartDelay}),n&&n.line_app_id&&(this.eventQueue=[],uR(r=lO(n)).call(r,function(e){void 0!==n[e]&&null!==n[e]&&(i._options[e]=n[e])}),this._envInfo=n.envInfo||{},this.line_app_id=dh(n.line_app_id,10)||0,this.line_user_id=(n.line_user_id||"").toString(),this.playerVersion=this.player.version,this.closeSeekLog=n.closeSeekLog||!1,this.initializeTracker(),this.reset())}return lx(e,[{key:"codecType",get:function(){var e;return(null===(e=this.shareConfig)||void 0===e?void 0:e.codecType)||""}},{key:"bc",get:function(){var e;return(null===(e=this.playlogs)||void 0===e?void 0:e.bc)||0}},{key:"cumulateTime",get:function(){var e;return(null===(e=this.accWatchTime)||void 0===e?void 0:e.cumulateTime)||0}},{key:"url",get:function(){return l5(this.baseConfig.urlList)||this.baseConfig.url}},{key:"vid",get:function(){var e;return(null===(e=this.mediaInfo)||void 0===e?void 0:e.id)||""}},{key:"preloadHit",get:function(){var e;return(null===(e=this.player)||void 0===e||null===(e=e.preloadData)||void 0===e?void 0:e.byteLength)>0?1:0}},{key:"preloadDur",get:function(){var e;return 1e3*((null===(e=this.player)||void 0===e||null===(e=e.preloadData)||void 0===e?void 0:e.duration)||0)}},{key:"bu_acu_t",get:function(){var e;return this.playlogs&&this.playlogs.bu_acu_t>864e5?0:null===(e=this.playlogs)||void 0===e?void 0:e.bu_acu_t}},{key:"pt",get:function(){var e;return(null===(e=this.playlogs)||void 0===e?void 0:e.pt)||w8()}},{key:"vt",get:function(){var e;return null===(e=this.playlogs)||void 0===e?void 0:e.vt}},{key:"nvt",get:function(){var e,t,n=(null===(e=this.playlogs)||void 0===e?void 0:e.vt)||0,r=(null===(t=this.playlogs)||void 0===t?void 0:t.nt)||0;return n>0&&r>0?dh((n-r).toString(),10):0}},{key:"videoFrameInfo",get:function(){var e={total:0,dropped:0,corrupted:0,droppedRate:0,droppedDuration:0},t=this.player.media;if(!t||!t.getVideoPlaybackQuality)return e;var n=t.getVideoPlaybackQuality(),r=(null==n?void 0:n.droppedVideoFrames)||0;return Sg<140&&r>=1&&(r-=1),e.dropped=r,e.total=n.totalVideoFrames+this._dropFrames||0,e.corrupted=n.corruptedVideoFrames||0,e.total>0&&(e.droppedRate=e.dropped/e.total*100,e.droppedDuration=dh((this.watchDur/e.total*e.dropped).toString(),0)),e}},{key:"baseConfig",get:function(){var e;return(null===(e=this.player)||void 0===e?void 0:e.config.baseConfig)||{}}},{key:"mediaInfo",get:function(){var e;return(null===(e=this.baseConfig)||void 0===e?void 0:e.mediaInfo)||{}}},{key:"shareConfig",get:function(){var e;return(null===(e=this.player)||void 0===e?void 0:e.config.shared)||{}}},{key:"vd",get:function(){var e,t,n,r=this.player;return r.duration&&"number"==typeof r.duration&&r.duration>0?dh((1e3*r.duration).toString(),10):null!==(e=this.mediaInfo)&&void 0!==e&&e.duration&&"number"==typeof(null===(t=this.mediaInfo)||void 0===t?void 0:t.duration)&&this.mediaInfo.duration>0?dh((1e3*(null===(n=this.mediaInfo)||void 0===n?void 0:n.duration)).toString(),10):0}},{key:"cur_play_pos",get:function(){return dh((1e3*this.player.currentTime).toString(),10)}},{key:"volume",get:function(){return this.player.volume}},{key:"watingCost",get:function(){if(this.inWaitingStart>0){var e=w7()-this.inWaitingStart;return e>36e5?0:e}return 0}},{key:"videoNetworkState",get:function(){var e=this.player;return e&&e.video?e.video.networkState:-1}},{key:"vtype",get:function(){var e;return(null===(e=this.shareConfig)||void 0===e?void 0:e.vtype)||""}},{key:"dynamicType",get:function(){return""}},{key:"buffer_time",get:function(){if(!this.player)return 0;var e=0;try{var t=this.player.bufferedPoint;e=t[1]-t[0]}catch(t){e=0}return e}},{key:"player_created_t",get:function(){return this._playerCreatedTime}},{key:"playbackRate",get:function(){return this.player.playbackRate}},{key:"mute",get:function(){return this.player.muted?0:1}},{key:"videoWidth",get:function(){var e=this.player;return e&&e.video?e.video.videoWidth:0}},{key:"videoHeight",get:function(){var e=this.player;return e&&e.video?e.video.videoHeight:0}},{key:"initial_url",get:function(){return this.player.src}},{key:"curSrc_host",get:function(){return w6(this.player.src)}},{key:"curStatus",get:function(){return 0}},{key:"play_type",get:function(){return 0}},{key:"sessionId",get:function(){return this._sessionId}},{key:"finish",get:function(){return this.isEnded?1:0}},{key:"end_type",get:function(){return this._endType}},{key:"avgSpeed",get:function(){var e;return(null===(e=this.player)||void 0===e||null===(e=e.speedInfo)||void 0===e?void 0:e.averageKBps)||0}},{key:"realSpeed",get:function(){var e;return(null===(e=this.player)||void 0===e||null===(e=e.speedInfo)||void 0===e?void 0:e.currentKBps)||0}},{key:"preLoadData",get:function(){var e,t,n;return this.player?{hit:(null===(e=this.player)||void 0===e||null===(e=e.preloadData)||void 0===e?void 0:e.byteLength)>0?1:0,duration:1e3*((null===(t=this.player)||void 0===t||null===(t=t.preloadData)||void 0===t?void 0:t.duration)||0),length:(null===(n=this.player)||void 0===n||null===(n=n.preloadData)||void 0===n?void 0:n.byteLength)||0}:{}}},{key:"curDefinition",get:function(){var e,t=null===(e=this.player)||void 0===e?void 0:e.curDefinition;return"".concat((null==t?void 0:t.definition)||-1)}},{key:"curBitrate",get:function(){var e,t=null===(e=this.player)||void 0===e?void 0:e.curDefinition;return(null==t?void 0:t.bitrate)||0}},{key:"videoReadyState",get:function(){var e=this.player;return e&&e.video?e.video.readyState:-1}},{key:"videoSeeking",get:function(){var e=this.player;return e&&e.video&&e.video.seeking?1:0}},{key:"videoPaused",get:function(){var e=this.player;return e&&e.video&&e.video.paused?1:0}},{key:"switchResolutionCount",get:function(){var e;return null===(e=this.resLogs)||void 0===e?void 0:e.switch_count}},{key:"isError",get:function(){return this._error||this.player.video.error}},{key:"isStop",get:function(){return this.isEnded||!1}},{key:"isPause",get:function(){return this.player.video.paused||!1}},{key:"lt",get:function(){var e=0;return 0===this.vt&&(e=w8()),e}},{key:"lpt",get:function(){return this.lt?this.lt-this.pt:0}},{key:"playback_state",get:function(){return this._error?wB.ERROR:this.isStop?wB.STOP:this.player.paused?wB.PAUSE:wB.PLAYING}},{key:"watchDur",get:function(){var e=this.player,t=this.playlogs,n=e.cumulateTime?e.cumulateTime:w3(null==t?void 0:t.played);return n>=0?n>864e5?864e5:n:0}},{key:"encryptedInfo",get:function(){return this.player.encryptedInfo||{encryptedType:0}}},{key:"allBuffer",get:function(){return this.buffers.allBuffer}},{key:"curBuffer",get:function(){return this.buffers.curBuffer}},{key:"envInfo",get:function(){return this._envInfo},set:function(e){e&&(this._envInfo=e)}},{key:"resetStartTime",value:function(){var e;this.start_time=(null===(e=this.baseConfig)||void 0===e?void 0:e.startTime)||0}},{key:"reset",value:function(){var e;try{this.sendLocalLog(),this.resetLoggerParams(),w9("logger reset:".concat(this.player.video))}catch(e){}this.fvt=0,this._dropFrames=0,null===(e=this._logEvent)||void 0===e||e.onReset()}},{key:"getPluginsConfig",value:function(){var e;return(null===(e=this.player)||void 0===e?void 0:e.config.preset.pluginsConfig.vodLogger)||{}}},{key:"resetPlayLogs",value:function(){var e=this.playlogs?this.playlogs.lc:0;this.playlogs={nt:w8(),vt:0,rt:this.isEnded?w8():0,at:0,pt:0,bu_acu_t:0,bc:0,nbc:0,nbu_acu_t:0,played:[{begin:0,end:-1}],degrade:"none",lc:e}}},{key:"resetBuffers",value:function(){this.buffers={allBuffer:[],curBuffer:{buf_diff:0,buf_s_pos:0,buf_e_pos:0,buf_include:0}}}},{key:"reportPlayerLog",value:function(e){var t,n=this;this.player&&(null===(t=this.player)||void 0===t||null===(t=t.getLog())||void 0===t||t.then(function(t){n._templog={log:t},n.onOneTemp(e)}))}},{key:"resetNetLog",value:function(){this.netLog=[]}},{key:"resetNovv",value:function(){this._novv={errc:0,errorMessage:"",end_state:"",novv_pt:0,novv_lpt:0,vtype:"",log_pt:w8()}}},{key:"resetLoggerParams",value:function(){w9("resetLoggerParams"),this.accWatchTime.reset(),this.resetPlayLogs(),this.resetBuffers(),this.resetNetLog(),this.resetNovv(),this.exInfo={stall:[]},this._templog=null,this._isOnePlayReport=!1,this.startStep=0,this.bft=0,this.initializeLogDatas(),this.initializeUrlLog()}},{key:"setNovv",value:function(e,t){!this._novv||this.fvt>0||(e&&(this._novv.errc=e.code,this._novv.errorMessage=e.message),this._novv.end_state=t,this._novv.novv_pt||(this._novv.novv_pt=w8(),this._novv.novv_lpt=w8()-this._novv.log_pt),this.player&&(this._novv.vtype=this.shareConfig.vtype,this.player.novv=this._novv))}},{key:"initializeLogDatas",value:function(){this.startStep=0,this.inWaitingStart=0,this.waitStartTime=0,this.lastVideoTime=0,this._endType="",this._retryCount=0,this.lastOperaTime=-1,this.lastEventTime=-1,this.stallIntervalId=null,this.resetSeekLog(),this.resetResolutionLog(),this.resetErrorLog(),this.pauseLog={pause_acu_t:0,isPausing:!1,pause_start:0},this.resetStall(),this._playerCreatedTime=0,this.load_state=wU,this.lv_method=6,this.isSeeking=!1,this.isEnded=!1,this.startStep=0,this.resetAbrInfo(),this._cacheFile=wH}},{key:"resetSeekLog",value:function(){this.seekLog={intervalId:0,lastSeekStartTime:w7(),seekBefore:0,sat:0,sc:0,buf_include:0}}},{key:"resetResolutionLog",value:function(){this.resLogs={lastSwitchStartTime:-1,switch_count:0,abr_switch_count:0,initial_resolution:"",final_resolution:"",ldst:0,ldet:0,df:"",lf:"",played:[],bc:0,bu_acu_t:0,sc:0,sat:0,bitrate:0,vs:0}}},{key:"resetErrorLog",value:function(){this.errorLog={accu_errc:0,try_err_c:0,errc:0,fir_errc:0,fir_errt:0,last_errors:[],message:"",ext:{}}}},{key:"resetStall",value:function(){this.stall={sc:0,startf:0,endf:0,start:0,end:0,cost:0,acc:0}}},{key:"resetAbrInfo",value:function(){this.abrInfo={abr_general_info:{},abr_event_info:{video_switch:[],video_stall:[],video_exit:{}},abr_play_info:{start_play_time_ms:0,is_hint:0,playback_info:{internet_speed_record:[],play_bitrate_record:[],buffer_length_record:[],play_speed_record:[]}},abr_user_info:{cancel_abr:0},abr_init_opts:this.player.config.autoBitrateOpts||{}}}},{key:"initSessionId",value:function(){var e="0";try{var t=window.localStorage.getItem(SR);e=(t?JSON.parse(t):{}).web_id||"0"}catch(t){e="0"}this._sessionId=function(e){var t=(new Date).getTime(),n=0;try{n=dh(e)}catch(e){n=0}return t+=n,window.performance&&"function"==typeof window.performance.now&&(t+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)})}(e),w9("sessionId ".concat(this._sessionId))}},{key:"initializeTracker",value:function(){var e=this,t=this._options;if(window.__vod_log__)this.tracker=window.__vod_log__;else{this.tracker=window.__vod_log__=new SD("tracker");var n=(null==t?void 0:t.channel)||"cn",r={app_id:"cn"===(n="va"===n||"sg"===n?n:"cn")?SP:1300===SP?323254:SP,channel:n,log:!1,disable_sdk_monitor:!0,channel_domain:"",enable_ab_test:!1};null!=t&&t.channelDomain&&(r.channel_domain=t.channelDomain),r.enable_ab_test=!(null==t||!t.enableAbTest),this.tracker.init(r)}this.initSessionId();var i=navigator?navigator.hardwareConcurrency:0,o=navigator?navigator.deviceMemory:0;this.commonParams={play_type:0,source_type:"vid",sdk_version:SC,pc:this.player.version,line_app_id:this.line_app_id,line_user_id:this.line_user_id,app_version:(null==t?void 0:t.appVersion)||"",platform:S_.isPad?"pad":S_.isMobile?"mobile":"pc",cpu_core:Number(i)||0,memory_size:Number(o)||0,support:SS(),webdriver:navigator&&navigator.webdriver?1:0,player_sessionid:this.sessionId,web_url:window.location.href,user_agent:navigator.userAgent,core_type:"webcodec",browser_plugins:function(){try{if("undefined"==typeof navigator||!navigator.plugins)return"";for(var e=[],t=navigator.plugins.length,n=["chromium","internal","native client","pdf"],r=0;r<t;r++)!function(){var t=navigator.plugins[r];if(t&&t.name){var i,o=dm(i=t.name).call(i).toLowerCase();dQ(n).call(n,function(e){return hu(o).call(o,e)})||-1!==d9(e).call(e,o)||e.push(o)}}();return e.length>0?l5(e):""}catch(e){return""}}()};var a=(null==t?void 0:t.trackerConfig)||{};w9("commonParams ",this.commonParams,a);var s,l=oY({evtParams:this.commonParams,disable_auto_pv:!0},a);!S_.name||S_.isChrome||S_.isSafari||(l.browser=S_.name,S_.appVersion&&(l.browser_version=S_.appVersion)),this.line_user_id&&(l.user_unique_id=this.line_user_id,null!=t&&t.enableTeaWebId||(l.web_id=this.line_user_id)),null!=t&&t.referrer&&(l.referrer=t.referrer,l.referrer_host=w6(t.referrer)),null!=t&&t.ext&&uR(s=lO(t.ext)).call(s,function(n){e.exInfo[n]=t.ext[n]}),w9("trackConfig",l),this.tracker.config(l),this.tracker.start()}},{key:"resetDefiInfo",value:function(){var e=this.resLogs;e&&(e.played=[],e.bc=0,e.bu_acu_t=0,e.sc=0,e.sat=0,e.vs=0)}},{key:"sendLocalLog",value:function(){var e=this,t=Sx.get();Sx.remove(),uR(t).call(t,function(t){var n;uR(n=lO(t)).call(n,function(n){if(w9("sendLocalLog",n,t[n]),e.player){e.player.emit("abLog",n,t[n]);var r,i=null===(r=e._options)||void 0===r?void 0:r.sendLocalCallback;i&&"function"==typeof i&&i(n,t[n])}e._track(n,t[n])})})}},{key:"_track",value:function(e,t){"function"==typeof this.tracker?this.tracker(e,t):this.tracker.event(e,t)}},{key:"bindEvt",value:function(){var e,t=this;this.listeners=[{evt:"play",handler:this.onPlay},{evt:"playing",handler:this.onPlaying},{evt:"first_frame",handler:this.onFirstFrame},{evt:"pause",handler:this.onPause},{evt:"waiting",handler:this.onWaiting},{evt:"ended",handler:this.onEnded},{evt:"error",handler:this.onError},{evt:"loadeddata",handler:this.onLoadeddata},{evt:"loadstart",handler:this.onLoadStart},{evt:"canplay",handler:this.onCanplay},{evt:"progress",handler:this.onVideoProgress},{evt:"autoplay_was_prevented",handler:this.onNotAutoPlay},{evt:"seeking",handler:this.onSeeking},{evt:"seeked",handler:this.onSeeked},{evt:"replay",handler:this.onReplay},{evt:"timeupdate",handler:this.onTimeUpdate},{evt:"bufferedChange",handler:this.onBufferedChange},{evt:"beforeDefinitionChange",handler:this.onBeforeDefinitionChange},{evt:"bitrateChange",handler:this.onDefinitionChange},{evt:"bitrateChangeSuccess",handler:this.onDefiChangeSuccess},{evt:"replayBtnClick",handler:this.onReplayBtnClick},{evt:"ABR_CHANGE",handler:this.onAbrChange},{evt:wM,handler:this.onVodLog},{evt:"degrade",handler:this.onDegrade},{evt:"error",handler:this.onPlayerError},{evt:"drop_frames",handler:this.onDropFrames},{evt:"logger_cache",handler:this.onLoggerCache}],lI(e=this.listeners).call(e,function(e){t.player.on(e.evt,e.handler)}),this.bindUnload()}},{key:"addIfExist",value:function(e,t,n){if(SO(t)){var r=t[e];null!=r&&(n[e]=r)}}},{key:"sendSwitchOpera",value:function(e){this.onOneOperator({costTime:0,operaType:"detail_switch",stateBefore:"",stateAfter:"",endType:e})}},{key:"changeResolution",value:function(e){var t,n=e.from,r=e.to,i=e.startTime,o=e.operaType,a=e.abrInfo,s=e.endType,l=this.resLogs;n=Sn(n),r=Sn(r);var c=0,u={};l&&(l.ldet=w7(),l.df=r,l.lf=n,l.final_resolution=r,l.switch_count++,c=l.ldet-i,u={bc:l.bc,bu_acu_t:l.bu_acu_t,sc:l.sc,sat:l.sat,watch_dur:w3(l.played)}),a&&(u.abrInfo=a),this.resetDefiInfo(),null!==(t=this._options)&&void 0!==t&&t.closeResolutionLog||this.onOneOperator({costTime:c,operaType:o,endType:void 0===s?"":s,stateBefore:n,stateAfter:r},u,0)}},{key:"getLastInterval",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t[e],i=w7();return n&&(t[e]=i),-1===r?-1:i-r}},{key:"updateSeekPt",value:function(e){return this.getLastInterval("lastSeekStartTime",this.seekLog,e)}},{key:"_reportInvalidVV",value:function(e){return!!this._isInvaidVV()&&(this.onOneError({endState:e,errorType:9998,code:-1,url:this.player.src,headers:{}},0),this._isOnePlayReport=!0,!0)}},{key:"_isInvaidVV",value:function(){return 0===this.vt&&-1===this.curStatus}},{key:"bindUnload",value:function(){S_.isPC?window.addEventListener("beforeunload",this.onUnload):(S_.isMobile||S_.isPad)&&window.addEventListener("pagehide",this.onUnload),document.addEventListener("visibilitychange",this.onVisibilitychange)}},{key:"clearTimers",value:function(){var e=this.seekLog;(null==e?void 0:e.intervalId)&&window.clearTimeout(e.intervalId),this.stallIntervalId&&window.clearTimeout(this.stallIntervalId)}},{key:"_getFullScreenType",value:function(){return this.player.isFullscreen?wK.FULLSCREEN:this.player.isCssfullScreen?wK.CSS:wK.NO_FULLSCREEN}},{key:"updateAbrInfo",value:function(e,t,n){e.abr_general_info=t.generalInfo,e.abr_event_info.video_exit={local_time_ms:w8(),buffer_length:t.bufferLength,internet_speed:t.downloadSpeed,now_bitrate:t.nowBitrate,play_speed:n},t.getAbrPlayInfo&&(e.abr_play_info=t.getAbrPlayInfo())}},{key:"getPerformance",value:function(){return this.fvtObject||{}}},{key:"setExt",value:function(){var e,t=this,n=this.player.ext||{};n.performance&&delete n.performance,uR(e=lO(n)).call(e,function(e){"performance"!==e&&(t.exInfo[e]=n[e])})}},{key:"onOneOperator",value:function(e){var t,n=e.costTime,r=e.operaType,i=e.stateBefore,o=e.stateAfter,a=e.endType,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=this.getLastInterval("lastOperaTime");this.onVideoProgress();var u={local_time:w8(),v:this.vid,opera_type:void 0===r?"":r,state_before:void 0===i?0:i,state_after:void 0===o?0:o,cost_time:void 0===n?0:n,end_type:(void 0===a?"":a)||this.end_type,cdn_url:this.url,resolution:this.curBitrate,last_interval:c,bufs:Sr(this.allBuffer),cur_play_pos:this.cur_play_pos,retry_count:this._retryCount,buf_include:this.checkInBuffer(this.player.currentTime)?1:0,dash_state:""};lI(t=lO(s)).call(t,function(e){u[e]=s[e]}),this.addIfExist("drm_type",this._options,u),this.reportLog(wL.ONE_OPERA,u,l)}},{key:"onOneError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{code:0,url:"",headers:{},costTime:0,vid:"",message:"",preload_hit:0,preload_cached:0,interval_time:0},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;w9("onOneError",e);var n=this.errorLog,r=this.resLogs,i=this.playlogs,o=function(e){if(!e)return{};var t,n={};return uR(t=lO(Se)).call(t,function(t){if(e[t]||"string"!=typeof Se[t]){if(!e[t]&&Se[t]instanceof Array){var r,i=uI(r=Se[t]).call(r,function(t){return void 0!==e[t]});i.length>0?n[t]=e[i[0]]:n[t]=""}}else n[t]=e[Se[t]]||""}),n}(e.headers||{}),a=this.getPerformance(),s=e.code;this.setExt();var l=this._getCompatibilityInfo();this.setNovv(e,e.endState||wV.ERROR);var c=oY(oY(oY({v:e.vid||this.vid,video_pos:this.cur_play_pos,local_time:w8(),cost_time:e&&e.costTime?e.costTime:0,errc:s,cdn_url:e.url||this.url,bufs:Sr(this.allBuffer),resolution:null==r?void 0:r.final_resolution,last_errors:null==n?void 0:n.last_errors.join(";"),vsc_message:e.message,server_ip:o.x_response_sinfo,initial_url:this.initial_url,initial_host:w6(this.initial_url)},o),{},{cur_play_pos:this.cur_play_pos},this.curBuffer),{},{degrade:null==i?void 0:i.degrade,end_state:e.endState||wV.ERROR,preload_hit:this.preloadHit,preload_cached:this.preloadDur,ex:Sr(this.exInfo),pref:Sr(a),video_ready_s:this.videoReadyState,interval_time:e.interval_time||0},l);c.net=l5(this.netLog),this.reportLog(wL.ONE_ERROR,c,t)}},{key:"_getCompatibilityInfo",value:function(){var e=function(){if("undefined"==typeof MediaSource||!MediaSource.isTypeSupported)return{support:!1,message:"MediaSource API not support"};for(var e=!1,t="",n=0;n<Sp.length;n++){var r,i='video/mp4; codecs="'.concat(Sp[n],'"'),o=MediaSource.isTypeSupported(i);t+=uu(r="".concat(i," is ")).call(r,o," "),o&&(e=!0)}return{support:e,message:t}}();return{is_spider:S_.isSpider?1:0,is_support_mp4:S_.isSupportMP4?1:0,is_support_hevc:Sb()?1:0,is_support_mse_mp4:e.support?1:0,support_mse_mp4:e.message}}},{key:"reportLog",value:function(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=this._options,a=this.player.ABTestTag,s=this.commonParams;n.dynamic_type=this.dynamicType;var l=null!=o&&o.absdkVersion&&"Array"===St(o.absdkVersion)?o.absdkVersion.toString():null==o?void 0:o.absdkVersion;n.absdkVersion=l||e.AB_SDK_VERSION,null!=a&&(n.abtest_tag=a);var c,u=this._options;if(n.codec_type=this.codecType,SO(u)&&(lI(wZ).call(wZ,function(e){r.addIfExist(e,u,n)}),lI(c=lO(s)).call(c,function(e){r.addIfExist(e,s,n)}),n.vtype=this.vtype),n.env_info=Sr(this._envInfo||{}),n.support=SS(),n.visible="undefined"==typeof document?0:"visible"===document.visibilityState?1:0,1===i){var h={};return h[t]=n,void Sx.set(h)}2!==i?(this.player&&this.player.emit("abLog",t,n),this._track(t,n)):this.addEventsQueue(t,n)}},{key:"addEventsQueue",value:function(e,t){this.eventQueue.push({event:e,params:t});var n=this._options;null!=n&&n.maxQueueCount&&this.eventQueue.length>=n.maxQueueCount&&this.sendEventsQueue()}},{key:"sendEventsQueue",value:function(){for(;this.eventQueue.length>0;){var e=this.eventQueue.pop();e&&this._track(e.event,e.params)}}},{key:"appendStallInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"start",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.exInfo.stall||(this.exInfo.stall=[]);var r=this.exInfo.stall;if("start"===e){r.length>6&&fr(r).call(r,0,r.length-6);var i=this.curBuffer;r.push({start:t,end:-1,endType:"waitstart",cost:0,cur:this.cur_play_pos,buf_s:i.buf_s_pos,buf_e:i.buf_e_pos,buf_i:i.buf_include})}else if("end"===e){var o=r.length-1;if(o<0)return;r[o].end<0&&(r[o].end=t,r[o].endType=n,r[o].cost=t-r[o].start)}w9("appendStallInfo",r)}},{key:"suspendSeekStatus",value:function(e){var t,n,r,i,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.isSeeking){var a=this.seekLog,s=this.resLogs,l=this.player,c=w7()-((null==a?void 0:a.lastSeekStartTime)||0);w9("suspendSeekStatus>>",uu(t=uu(n=uu(r=uu(i="".concat(e," currentTime:")).call(i,l.currentTime," costTime:")).call(r,c," sat:")).call(n,null==a?void 0:a.sat," resLogs.sat:")).call(t,null==s?void 0:s.sat)),a&&((null==a?void 0:a.intervalId)&&window.clearTimeout(a.intervalId),a.intervalId=null),this.isSeeking=!1;var u=this._endType=e,h=null==a?void 0:a.seekBefore,d=(l.currentTime||0).toString();a&&(a.sat+=c>36e5?0:c),s&&(s.sc++,s.sat+=c>36e5?0:c),c>36e5&&(c=36e5),this.updateSeekPt(!0),c>this._options.longWait&&this.reportPlayerLog(w$.SEEK_END),!this.closeSeekLog&&o&&this.onOneOperator({costTime:c,operaType:u,stateBefore:h,stateAfter:d,endType:e})}}},{key:"setPt",value:function(){var e,t=this.playlogs;this.startStep=1,null!=t&&t.pt||!this.player.currentTime||(this.isSeeking=!0),null!=t&&t.pt||!t||(t.pt=w8(),w9("setPt",uu(e="init pt :".concat(t.pt,", document.visibilityState:")).call(e,document.visibilityState)))}},{key:"setVt",value:function(){var e,t=this.playlogs;1===this.startStep&&(t&&!t.vt&&(t.vt=w8(),w9("setVt: first frame inited",uu(e="vt-pt:".concat(t.vt-t.pt," vt-nt:")).call(e,t.vt-t.nt))),this.startStep=2)}},{key:"getFrameInfo",value:function(){var e=this.videoFrameInfo;if(e.total){var t=e.dropped,n=e.corrupted,r=e.droppedRate;return{f_total:e.total,drop_count:t,drop_rate:r,corrupted:n}}return{f_total:0,drop_count:0,drop_rate:0,corrupted:0}}},{key:"getPlayerExt",value:function(){var e=this.player.ext;if(e)return e}},{key:"updateSpeedInfo",value:function(){var e,t=this.player.speedInfo;(null===(e=this.netLog)||void 0===e?void 0:e.length)>10&&this.netLog.shift(),t&&this.netLog.push(t)}},{key:"updateBuffers",value:function(){var e=this.player.buffered,t=[];if(!e||e.length<1)this.buffers.allBuffer=[];else{for(var n=0;n<e.length;n++){var r=dh((1e3*e.start(n)).toString(),10),i=dh((1e3*e.end(n)).toString(),10);t.push({s:r,e:i})}this.buffers.allBuffer=t}}},{key:"updateCurBuffer",value:function(){var e=this.player,t=e.buffered,n=e.currentTime,r={buf_s_pos:0,buf_e_pos:0,buf_include:0,buf_diff:0};if(!t||t.length<1)return r;for(var i=-1,o=-1,a=dh((1e3*n).toString(),10),s=t.length-1;s>-1;s--){var l=dh((1e3*t.start(s)).toString(),10),c=dh((1e3*t.end(s)).toString(),10);if(a>=l&&a<=c){r.buf_include=1,r.buf_s_pos=l,r.buf_e_pos=c,r.buf_diff=c-a;break}a<l&&(i<0||l-a<i)?(i=l-a,o=s):a>c&&(i<0||a-c<i)&&(i=a-c,o=s)}return 1!==r.buf_include&&(o<0&&(o=t.length-1),r.buf_s_pos=dh((1e3*t.start(o)).toString(),10),r.buf_e_pos=dh((1e3*t.end(o)).toString(),10)),this.buffers.curBuffer=r,r}},{key:"checkInBuffer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.player.buffered;if(!n)return!1;e=dh((1e3*e).toString(),10);for(var r=0;r<n.length;r++){var i=dh((1e3*n.start(r)).toString(),10),o=dh((1e3*n.end(r)).toString(),10)+t;if(e>=i&&e<o)return!0}return!1}},{key:"getPCDNStat",value:function(){if(this.player&&this.player.pcdnVVStat){var e=this.player.pcdnVVStat,t=e.try_req_num,n=e.req_node_succ,r=e.conn_req_num;return oY({try_req:t,req_succ:n,has_ret:e.has_ret_node,conn_req:r,conn_fail:e.conn_fail_num,conn_jump:e.conn_jump_num},wX(e,SI))}return{}}},{key:"updateVideoSize",value:function(){var e,t,n=this.resLogs;n&&(n.bitrate=null===(e=this.mediaInfo)||void 0===e?void 0:e.bitrate,n.vs=null===(t=this.mediaInfo)||void 0===t?void 0:t.size)}},{key:"perfMark",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"!=typeof performance&&e)return performance.mark(e,t)}}],[{key:"AB_SDK_VERSION",get:function(){return SA},set:function(e){SA=e}},{key:"Collector",set:function(e){SD=e}},{key:"TEA_ID",get:function(){return SP},set:function(e){SR="__tea_cache_tokens_".concat(SP=e)}},{key:"defaultConfig",value:function(){return{line_app_id:"",waitTimeout:1e4,maxQueueCount:5,channel:"cn",absdkVersion:"",drm_type:0,tag:"普通视频",dynamic_type:"",sendLocalCallback:function(){},disableLocalCache:!1,closeResolutionLog:!0,closeSeekLog:!1,trackerConfig:{},envInfo:{},appVersion:"",enableAbTest:!1,ext:{},longWait:3e3}}}])}();SL.TEA_ID=1300,SL.Collector=bX;var SM=function(){function e(t){var n,r,i,o;return lk(this,e),oX((r=this,i=e,o=[t],i=uV(i),n=uD(r,uG()?uK(i,o||[],uV(r).constructor):i.apply(r,o))),"_vodLogger",void 0),n._vodLogger=new SL(n.player,n.config||{}),n}return uZ(e,uW),lx(e,[{key:"cumulateTime",get:function(){return this._vodLogger.cumulateTime}},{key:"videoFrameInfo",get:function(){return this._vodLogger.videoFrameInfo}},{key:"afterPlayerInit",value:function(){this._vodLogger.isAutoplay=this.player.autoPlayPolicy?1:0,this._vodLogger.resetStartTime(),this._vodLogger.onPlayerInited()}},{key:"reportBugPostPlayerLog",value:function(){this._vodLogger.reportPlayerLog(wW.USER_REPORT)}},{key:"beforePlayerInit",value:function(){this._vodLogger.reset()}},{key:"beforeDestroy",value:function(){this._vodLogger.onDestroy()}}],[{key:"pluginName",get:function(){return"VodLoggerPlugin"}},{key:"version",get:function(){return SC}},{key:"defaultConfig",get:function(){return{text:"点播埋点上报插件"}}},{key:"ABSdkVersion",set:function(e){SL.AB_SDK_VERSION=e}}])}();ta({global:!0,forced:v.globalThis!==v},{globalThis:v});var Sz=f(v);function SN(e,t){if(t){var n=e.config;e.defineProperty&&e.defineProperty("curDefinition",{value:t,enumerable:!0,configurable:!0,writable:!0});try{e.curDefinition=t}catch(e){}if(n.baseConfig){if("string"==typeof t.url?n.baseConfig.url=t.url:lA(t.url)&&t.url.length>0&&(n.baseConfig.urlList=t.url,n.baseConfig.url=t.url[0].src),n.baseConfig.mediaInfo||(n.baseConfig.mediaInfo={}),n.baseConfig.mediaInfo.file_id=t.file_id,n.baseConfig.mediaInfo.bitrate=t.bitrate,lA(t.pktOffsetMap)&&t.pktOffsetMap.length>0){var r=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return(null==e||null===(t=dq(e).call(e,function(e){return(null==e?void 0:e.time)===n}))||void 0===t?void 0:t.offset)||0}(t.pktOffsetMap,5);r>0&&(n.baseConfig.firstLoadSize=r)}}else n.url=t.url}}function Sj(e){var t,n=null;try{n=(null===(t=e.getProperty)||void 0===t?void 0:t.call(e,"curDefinition"))||e.curDefinition}catch(e){}return n}function SB(e,t,n){e.defineProperty&&e.defineProperty(t,{value:n,enumerable:!0,configurable:!0,writable:!0});try{e[t]=n}catch(e){}}function SU(e){var t,n,r=e.config;return r.vid||(null===(t=r.baseConfig)||void 0===t||null===(t=t.mediaInfo)||void 0===t?void 0:t.vid)||(null===(n=r.baseConfig)||void 0===n||null===(n=n.mediaInfo)||void 0===n?void 0:n.id)||void 0}var SF=((El=SF||{}).DEFAULT="default",El.USER_SELECT="userSelect",El.PRELOAD="preload",El.BITRATE_ADAPTER="bitRateAdapter",El.OVER_SCORE="overscore",El),SG=((Ec=SG||{})[Ec.PRELOAD_NOT_HIT=0]="PRELOAD_NOT_HIT",Ec[Ec.ERROR_ON_FLY=1]="ERROR_ON_FLY",Ec),SV=f(ah),SH=f(oQ),SZ=f(o8),SK=f(ov),SW=f(oD),S$=f(oB),Sq=f(oW);function SX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function SJ(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function SY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),h_(e,S3(r.key),r)}}function SQ(e,t,n){return t&&SY(e.prototype,t),n&&SY(e,n),h_(e,"prototype",{writable:!1}),e}function S0(e){return(S0=SV?mT(SH).call(SH):function(e){return e.__proto__||SH(e)})(e)}function S1(){try{var e=!Boolean.prototype.valueOf.call(uK(Boolean,[],function(){}))}catch(e){}return(S1=function(){return!!e})()}function S2(e,t){var n=lO(e);if(pd){var r=pd(e);t&&(r=uI(r).call(r,function(t){return SK(e,t).enumerable})),n.push.apply(n,r)}return n}function S5(e){for(var t=1;t<arguments.length;t++){var n,r,i=null!=arguments[t]?arguments[t]:{};t%2?lI(n=S2(Object(i),!0)).call(n,function(t){var n,r,o;n=e,r=t,o=i[t],(r=S3(r))in n?h_(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o}):SW?S$(e,SW(i)):lI(r=S2(Object(i))).call(r,function(t){h_(e,t,SK(i,t))})}return e}function S4(e,t){return(S4=SV?mT(SV).call(SV):function(e,t){return e.__proto__=t,e})(e,t)}function S3(e){var t=function(e,t){if("object"!=ot(e)||!e)return e;var n=e[Sq];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ot(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ot(t)?t:t+""}var S6=function(e){return e&&e.Math==Math&&e},S9=S6("object"==typeof globalThis&&globalThis)||S6("object"==typeof window&&window)||S6("object"==typeof self&&self)||S6("object"==typeof d&&d)||function(){return this}()||Function("return this")(),S7={},S8=function(e){try{return!!e()}catch(e){return!0}},Ee=!S8(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),Et=!S8(function(){var e=(function(){}).bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}),En=Function.prototype.call,Er=Et?En.bind(En):function(){return En.apply(En,arguments)},Ei={},Eo={}.propertyIsEnumerable,Ea=Object.getOwnPropertyDescriptor,Es=Ea&&!Eo.call({1:2},1);Ei.f=Es?function(e){var t=Ea(this,e);return!!t&&t.enumerable}:Eo;var El,Ec,Eu,Eh,Ed=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Ef=Function.prototype,Ep=Ef.call,Ev=Et&&Ef.bind.bind(Ep,Ep),Eg=Et?Ev:function(e){return function(){return Ep.apply(e,arguments)}},Em=Eg({}.toString),Ey=Eg("".slice),E_=function(e){return Ey(Em(e),8,-1)},Eb=Object,Ew=Eg("".split),ES=S8(function(){return!Eb("z").propertyIsEnumerable(0)})?function(e){return"String"==E_(e)?Ew(e,""):Eb(e)}:Eb,EE=function(e){return null==e},Ek=TypeError,ET=function(e){if(EE(e))throw Ek("Can't call method on "+e);return e},Ex=function(e){return ES(ET(e))},EC="object"==typeof document&&document.all,EI={all:EC,IS_HTMLDDA:void 0===EC&&void 0!==EC},EO=EI.all,EA=EI.IS_HTMLDDA?function(e){return"function"==typeof e||e===EO}:function(e){return"function"==typeof e},EP=EI.all,ER=EI.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:EA(e)||e===EP}:function(e){return"object"==typeof e?null!==e:EA(e)},ED=function(e,t){var n;return arguments.length<2?EA(n=S9[e])?n:void 0:S9[e]&&S9[e][t]},EL=Eg({}.isPrototypeOf),EM=ED("navigator","userAgent")||"",Ez=S9.process,EN=S9.Deno,Ej=Ez&&Ez.versions||EN&&EN.version,EB=Ej&&Ej.v8;EB&&(Eh=(Eu=EB.split("."))[0]>0&&Eu[0]<4?1:+(Eu[0]+Eu[1])),!Eh&&EM&&(!(Eu=EM.match(/Edge\/(\d+)/))||Eu[1]>=74)&&(Eu=EM.match(/Chrome\/(\d+)/))&&(Eh=+Eu[1]);var EU=Eh,EF=!!Object.getOwnPropertySymbols&&!S8(function(){var e=Symbol();return!String(e)||!(Object(e) instanceof Symbol)||!Symbol.sham&&EU&&EU<41}),EG=EF&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,EV=Object,EH=EG?function(e){return"symbol"==typeof e}:function(e){var t=ED("Symbol");return EA(t)&&EL(t.prototype,EV(e))},EZ=String,EK=function(e){try{return EZ(e)}catch(e){return"Object"}},EW=TypeError,E$=function(e){if(EA(e))return e;throw EW(EK(e)+" is not a function")},Eq=function(e,t){var n=e[t];return EE(n)?void 0:E$(n)},EX=TypeError,EJ={exports:{}},EY=Object.defineProperty,EQ=function(e,t){try{EY(S9,e,{value:t,configurable:!0,writable:!0})}catch(n){S9[e]=t}return t},E0="__core-js_shared__",E1=S9[E0]||EQ(E0,{});(EJ.exports=function(e,t){return E1[e]||(E1[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.1",mode:"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"});var E2=EJ.exports,E5=Object,E4=function(e){return E5(ET(e))},E3=Eg({}.hasOwnProperty),E6=Object.hasOwn||function(e,t){return E3(E4(e),t)},E9=0,E7=Math.random(),E8=Eg(1..toString),ke=function(e){return"Symbol("+(void 0===e?"":e)+")_"+E8(++E9+E7,36)},kt=E2("wks"),kn=S9.Symbol,kr=kn&&kn.for,ki=EG?kn:kn&&kn.withoutSetter||ke,ko=function(e){if(!E6(kt,e)||!EF&&"string"!=typeof kt[e]){var t="Symbol."+e;EF&&E6(kn,e)?kt[e]=kn[e]:kt[e]=EG&&kr?kr(t):ki(t)}return kt[e]},ka=function(e,t){var n,r;if("string"===t&&EA(n=e.toString)&&!ER(r=Er(n,e))||EA(n=e.valueOf)&&!ER(r=Er(n,e))||"string"!==t&&EA(n=e.toString)&&!ER(r=Er(n,e)))return r;throw EX("Can't convert object to primitive value")},ks=TypeError,kl=ko("toPrimitive"),kc=function(e,t){if(!ER(e)||EH(e))return e;var n,r=Eq(e,kl);if(r){if(void 0===t&&(t="default"),!ER(n=Er(r,e,t))||EH(n))return n;throw ks("Can't convert object to primitive value")}return void 0===t&&(t="number"),ka(e,t)},ku=function(e){var t=kc(e,"string");return EH(t)?t:t+""},kh=S9.document,kd=ER(kh)&&ER(kh.createElement),kf=function(e){return kd?kh.createElement(e):{}},kp=!Ee&&!S8(function(){return 7!=Object.defineProperty(kf("div"),"a",{get:function(){return 7}}).a}),kv=Object.getOwnPropertyDescriptor;S7.f=Ee?kv:function(e,t){if(e=Ex(e),t=ku(t),kp)try{return kv(e,t)}catch(e){}if(E6(e,t))return Ed(!Er(Ei.f,e,t),e[t])};var kg={},km=Ee&&S8(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),ky=String,k_=TypeError,kb=function(e){if(ER(e))return e;throw k_(ky(e)+" is not an object")},kw=TypeError,kS=Object.defineProperty,kE=Object.getOwnPropertyDescriptor,kk="enumerable",kT="configurable",kx="writable";kg.f=Ee?km?function(e,t,n){if(kb(e),t=ku(t),kb(n),"function"==typeof e&&"prototype"===t&&"value"in n&&kx in n&&!n[kx]){var r=kE(e,t);r&&r[kx]&&(e[t]=n.value,n={configurable:kT in n?n[kT]:r[kT],enumerable:kk in n?n[kk]:r[kk],writable:!1})}return kS(e,t,n)}:kS:function(e,t,n){if(kb(e),t=ku(t),kb(n),kp)try{return kS(e,t,n)}catch(e){}if("get"in n||"set"in n)throw kw("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var kC=Ee?function(e,t,n){return kg.f(e,t,Ed(1,n))}:function(e,t,n){return e[t]=n,e},kI={exports:{}},kO=Function.prototype,kA=Ee&&Object.getOwnPropertyDescriptor,kP=E6(kO,"name"),kR=kP&&(!Ee||Ee&&kA(kO,"name").configurable),kD={EXISTS:kP,PROPER:kP&&"something"===(function(){}).name,CONFIGURABLE:kR},kL=Eg(Function.toString);EA(E1.inspectSource)||(E1.inspectSource=function(e){return kL(e)});var kM,kz,kN,kj=E1.inspectSource,kB=S9.WeakMap,kU=EA(kB)&&/native code/.test(String(kB)),kF=E2("keys"),kG=function(e){return kF[e]||(kF[e]=ke(e))},kV={},kH="Object already initialized",kZ=S9.TypeError,kK=S9.WeakMap;if(kU||E1.state){var kW=E1.state||(E1.state=new kK);kW.get=kW.get,kW.has=kW.has,kW.set=kW.set,kM=function(e,t){if(kW.has(e))throw kZ(kH);return t.facade=e,kW.set(e,t),t},kz=function(e){return kW.get(e)||{}},kN=function(e){return kW.has(e)}}else{var k$=kG("state");kV[k$]=!0,kM=function(e,t){if(E6(e,k$))throw kZ(kH);return t.facade=e,kC(e,k$,t),t},kz=function(e){return E6(e,k$)?e[k$]:{}},kN=function(e){return E6(e,k$)}}var kq={set:kM,get:kz,has:kN,enforce:function(e){return kN(e)?kz(e):kM(e,{})},getterFor:function(e){return function(t){var n;if(!ER(t)||(n=kz(t)).type!==e)throw kZ("Incompatible receiver, "+e+" required");return n}}},kX=kD.CONFIGURABLE,kJ=kq.enforce,kY=kq.get,kQ=Object.defineProperty,k0=Ee&&!S8(function(){return 8!==kQ(function(){},"length",{value:8}).length}),k1=String(String).split("String"),k2=kI.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!E6(e,"name")||kX&&e.name!==t)&&(Ee?kQ(e,"name",{value:t,configurable:!0}):e.name=t),k0&&n&&E6(n,"arity")&&e.length!==n.arity&&kQ(e,"length",{value:n.arity});try{n&&E6(n,"constructor")&&n.constructor?Ee&&kQ(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=kJ(e);return E6(r,"source")||(r.source=k1.join("string"==typeof t?t:"")),e};Function.prototype.toString=k2(function(){return EA(this)&&kY(this).source||kj(this)},"toString");var k5=kI.exports,k4=function(e,t,n,r){r||(r={});var i=r.enumerable,o=void 0!==r.name?r.name:t;if(EA(n)&&k5(n,o,r),r.global)i?e[t]=n:EQ(t,n);else{try{r.unsafe?e[t]&&(i=!0):delete e[t]}catch(e){}i?e[t]=n:kg.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},k3={},k6=Math.ceil,k9=Math.floor,k7=Math.trunc||function(e){var t=+e;return(t>0?k9:k6)(t)},k8=function(e){var t=+e;return t!=t||0===t?0:k7(t)},Te=Math.max,Tt=Math.min,Tn=function(e,t){var n=k8(e);return n<0?Te(n+t,0):Tt(n,t)},Tr=Math.min,Ti=function(e){return e>0?Tr(k8(e),9007199254740991):0},To=function(e){return Ti(e.length)},Ta=function(e){return function(t,n,r){var i,o=Ex(t),a=To(o),s=Tn(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},Ts={includes:Ta(!0),indexOf:Ta(!1)},Tl=Ts.indexOf,Tc=Eg([].push),Tu=function(e,t){var n,r=Ex(e),i=0,o=[];for(n in r)!E6(kV,n)&&E6(r,n)&&Tc(o,n);for(;t.length>i;)E6(r,n=t[i++])&&(~Tl(o,n)||Tc(o,n));return o},Th=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Td=Th.concat("length","prototype");k3.f=Object.getOwnPropertyNames||function(e){return Tu(e,Td)};var Tf={};Tf.f=Object.getOwnPropertySymbols;var Tp=Eg([].concat),Tv=ED("Reflect","ownKeys")||function(e){var t=k3.f(kb(e)),n=Tf.f;return n?Tp(t,n(e)):t},Tg=/#|\.prototype\./,Tm=function(e,t){var n=T_[Ty(e)];return n==Tw||n!=Tb&&(EA(t)?S8(t):!!t)},Ty=Tm.normalize=function(e){return String(e).replace(Tg,".").toLowerCase()},T_=Tm.data={},Tb=Tm.NATIVE="N",Tw=Tm.POLYFILL="P",TS=S7.f,TE=function(e,t,n){for(var r=Tv(t),i=kg.f,o=S7.f,a=0;a<r.length;a++){var s=r[a];E6(e,s)||n&&E6(n,s)||i(e,s,o(t,s))}},Tk=function(e,t){var n,r,i,o,a,s=e.target,l=e.global,c=e.stat;if(n=l?S9:c?S9[s]||EQ(s,{}):(S9[s]||{}).prototype)for(r in t){if(o=t[r],i=e.dontCallGetSet?(a=TS(n,r))&&a.value:n[r],!Tm(l?r:s+(c?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;TE(o,i)}(e.sham||i&&i.sham)&&kC(o,"sham",!0),k4(n,r,o,e)}},TT=Array.isArray||function(e){return"Array"==E_(e)},Tx=TypeError,TC=function(e){if(e>9007199254740991)throw Tx("Maximum allowed index exceeded");return e},TI=function(e,t,n){var r=ku(t);r in e?kg.f(e,r,Ed(0,n)):e[r]=n},TO=ko("toStringTag"),TA={};TA[TO]="z";var TP="[object z]"===String(TA),TR=ko("toStringTag"),TD=Object,TL="Arguments"==E_(function(){return arguments}()),TM=function(e,t){try{return e[t]}catch(e){}},Tz=TP?E_:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=TM(t=TD(e),TR))?n:TL?E_(t):"Object"==(r=E_(t))&&EA(t.callee)?"Arguments":r},TN=function(){},Tj=[],TB=ED("Reflect","construct"),TU=/^\s*(?:class|function)\b/,TF=Eg(TU.exec),TG=!TU.exec(TN),TV=function(e){if(!EA(e))return!1;try{return TB(TN,Tj,e),!0}catch(e){return!1}},TH=function(e){if(!EA(e))return!1;switch(Tz(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return TG||!!TF(TU,kj(e))}catch(e){return!0}};TH.sham=!0;var TZ=!TB||S8(function(){var e;return TV(TV.call)||!TV(Object)||!TV(function(){e=!0})||e})?TH:TV,TK=ko("species"),TW=Array,T$=function(e){var t;return TT(e)&&(TZ(t=e.constructor)&&(t===TW||TT(t.prototype))||ER(t)&&null===(t=t[TK]))&&(t=void 0),void 0===t?TW:t},Tq=function(e,t){return new(T$(e))(0===t?0:t)},TX=ko("species"),TJ=function(e){return EU>=51||!S8(function(){var t=[];return(t.constructor={})[TX]=function(){return{foo:1}},1!==t[e](Boolean).foo})},TY=ko("isConcatSpreadable"),TQ=EU>=51||!S8(function(){var e=[];return e[TY]=!1,e.concat()[0]!==e}),T0=TJ("concat"),T1=function(e){if(!ER(e))return!1;var t=e[TY];return void 0!==t?!!t:TT(e)};Tk({target:"Array",proto:!0,arity:1,forced:!TQ||!T0},{concat:function(e){var t,n,r,i,o,a=E4(this),s=Tq(a,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(T1(o=-1===t?a:arguments[t]))for(TC(l+(i=To(o))),n=0;n<i;n++,l++)n in o&&TI(s,l,o[n]);else TC(l+1),TI(s,l++,o);return s.length=l,s}});var T2={},T5=Object.keys||function(e){return Tu(e,Th)};T2.f=Ee&&!km?Object.defineProperties:function(e,t){kb(e);for(var n,r=Ex(t),i=T5(t),o=i.length,a=0;o>a;)kg.f(e,n=i[a++],r[n]);return e};var T4,T3=ED("document","documentElement"),T6="prototype",T9="script",T7=kG("IE_PROTO"),T8=function(){},xe=function(e){return"<"+T9+">"+e+"</"+T9+">"},xt=function(e){e.write(xe("")),e.close();var t=e.parentWindow.Object;return e=null,t},xn=function(){var e,t=kf("iframe");return t.style.display="none",T3.appendChild(t),t.src=String("java"+T9+":"),(e=t.contentWindow.document).open(),e.write(xe("document.F=Object")),e.close(),e.F},xr=function(){try{T4=new ActiveXObject("htmlfile")}catch(e){}xr="undefined"!=typeof document?document.domain&&T4?xt(T4):xn():xt(T4);for(var e=Th.length;e--;)delete xr[T6][Th[e]];return xr()};kV[T7]=!0;var xi=Object.create||function(e,t){var n;return null!==e?(T8[T6]=kb(e),n=new T8,T8[T6]=null,n[T7]=e):n=xr(),void 0===t?n:T2.f(n,t)},xo=kg.f,xa=ko("unscopables"),xs=Array.prototype;null==xs[xa]&&xo(xs,xa,{configurable:!0,value:xi(null)});var xl,xc,xu,xh=function(e){xs[xa][e]=!0},xd={},xf=!S8(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),xp=kG("IE_PROTO"),xv=Object,xg=xv.prototype,xm=xf?xv.getPrototypeOf:function(e){var t=E4(e);if(E6(t,xp))return t[xp];var n=t.constructor;return EA(n)&&t instanceof n?n.prototype:t instanceof xv?xg:null},xy=ko("iterator"),x_=!1;[].keys&&("next"in(xu=[].keys())?(xc=xm(xm(xu)))!==Object.prototype&&(xl=xc):x_=!0),(!ER(xl)||S8(function(){var e={};return xl[xy].call(e)!==e}))&&(xl={}),EA(xl[xy])||k4(xl,xy,function(){return this});var xb={IteratorPrototype:xl,BUGGY_SAFARI_ITERATORS:x_},xw=kg.f,xS=ko("toStringTag"),xE=function(e,t,n){e&&!n&&(e=e.prototype),e&&!E6(e,xS)&&xw(e,xS,{configurable:!0,value:t})},xk=xb.IteratorPrototype,xT=function(){return this},xx=String,xC=TypeError,xI=function(e){if("object"==typeof e||EA(e))return e;throw xC("Can't set "+xx(e)+" as a prototype")},xO=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Eg(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return kb(n),xI(r),t?e(n,r):n.__proto__=r,n}}():void 0),xA=function(e,t,n,r){var i=t+" Iterator";return e.prototype=xi(xk,{next:Ed(+!r,n)}),xE(e,i,!1),xd[i]=xT,e},xP=kD.PROPER,xR=kD.CONFIGURABLE,xD=xb.IteratorPrototype,xL=xb.BUGGY_SAFARI_ITERATORS,xM=ko("iterator"),xz="keys",xN="values",xj="entries",xB=function(){return this},xU=function(e,t,n,r,i,o,a){xA(n,t,r);var s,l,c,u=function(e){if(e===i&&v)return v;if(!xL&&e in f)return f[e];switch(e){case xz:case xN:case xj:return function(){return new n(this,e)}}return function(){return new n(this)}},h=t+" Iterator",d=!1,f=e.prototype,p=f[xM]||f["@@iterator"]||i&&f[i],v=!xL&&p||u(i),g="Array"==t&&f.entries||p;if(g&&(s=xm(g.call(new e)))!==Object.prototype&&s.next&&(xm(s)!==xD&&(xO?xO(s,xD):EA(s[xM])||k4(s,xM,xB)),xE(s,h,!0)),xP&&i==xN&&p&&p.name!==xN&&(xR?kC(f,"name",xN):(d=!0,v=function(){return Er(p,this)})),i){if(l={values:u(xN),keys:o?v:u(xz),entries:u(xj)},a)for(c in l)!xL&&!d&&c in f||k4(f,c,l[c]);else Tk({target:t,proto:!0,forced:xL||d},l)}return f[xM]!==v&&k4(f,xM,v,{name:i}),xd[t]=v,l},xF=function(e,t){return{value:e,done:t}},xG=kg.f,xV="Array Iterator",xH=kq.set,xZ=kq.getterFor(xV),xK=xU(Array,"Array",function(e,t){xH(this,{type:xV,target:Ex(e),index:0,kind:t})},function(){var e=xZ(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,xF(void 0,!0)):xF("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)},"values"),xW=xd.Arguments=xd.Array;if(xh("keys"),xh("values"),xh("entries"),Ee&&"values"!==xW.name)try{xG(xW,"name",{value:"values"})}catch(e){}var x$=Eg([].slice),xq=TJ("slice"),xX=ko("species"),xJ=Array,xY=Math.max;Tk({target:"Array",proto:!0,forced:!xq},{slice:function(e,t){var n,r,i,o=Ex(this),a=To(o),s=Tn(e,a),l=Tn(void 0===t?a:t,a);if(TT(o)&&((TZ(n=o.constructor)&&(n===xJ||TT(n.prototype))||ER(n)&&null===(n=n[xX]))&&(n=void 0),n===xJ||void 0===n))return x$(o,s,l);for(r=new(void 0===n?xJ:n)(xY(l-s,0)),i=0;s<l;s++,i++)s in o&&TI(r,i,o[s]);return r.length=i,r}});var xQ={exports:{}},x0={},x1=Array,x2=Math.max,x5=function(e,t,n){for(var r=To(e),i=Tn(t,r),o=Tn(void 0===n?r:n,r),a=x1(x2(o-i,0)),s=0;i<o;i++,s++)TI(a,s,e[i]);return a.length=s,a},x4=k3.f,x3="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],x6=function(e){try{return x4(e)}catch(e){return x5(x3)}};x0.f=function(e){return x3&&"Window"==E_(e)?x6(e):x4(Ex(e))};var x9=S8(function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),x7=Object.isExtensible,x8=S8(function(){x7(1)})||x9?function(e){return!!ER(e)&&(!x9||"ArrayBuffer"!=E_(e))&&(!x7||x7(e))}:x7,Ce=!S8(function(){return Object.isExtensible(Object.preventExtensions({}))}),Ct=kg.f,Cn=!1,Cr=ke("meta"),Ci=0,Co=function(e){Ct(e,Cr,{value:{objectID:"O"+Ci++,weakData:{}}})},Ca=xQ.exports={enable:function(){Ca.enable=function(){},Cn=!0;var e=k3.f,t=Eg([].splice),n={};n[Cr]=1,e(n).length&&(k3.f=function(n){for(var r=e(n),i=0,o=r.length;i<o;i++)if(r[i]===Cr){t(r,i,1);break}return r},Tk({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:x0.f}))},fastKey:function(e,t){if(!ER(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!E6(e,Cr)){if(!x8(e))return"F";if(!t)return"E";Co(e)}return e[Cr].objectID},getWeakData:function(e,t){if(!E6(e,Cr)){if(!x8(e))return!0;if(!t)return!1;Co(e)}return e[Cr].weakData},onFreeze:function(e){return Ce&&Cn&&x8(e)&&!E6(e,Cr)&&Co(e),e}};kV[Cr]=!0;var Cs=xQ.exports,Cl=function(e){if("Function"===E_(e))return Eg(e)},Cc=Cl(Cl.bind),Cu=function(e,t){return E$(e),void 0===t?e:Et?Cc(e,t):function(){return e.apply(t,arguments)}},Ch=ko("iterator"),Cd=Array.prototype,Cf=function(e){return void 0!==e&&(xd.Array===e||Cd[Ch]===e)},Cp=ko("iterator"),Cv=function(e){if(!EE(e))return Eq(e,Cp)||Eq(e,"@@iterator")||xd[Tz(e)]},Cg=TypeError,Cm=function(e,t){var n=arguments.length<2?Cv(e):t;if(E$(n))return kb(Er(n,e));throw Cg(EK(e)+" is not iterable")},Cy=function(e,t,n){var r,i;kb(e);try{if(!(r=Eq(e,"return"))){if("throw"===t)throw n;return n}r=Er(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return kb(r),n},C_=TypeError,Cb=function(e,t){this.stopped=e,this.result=t},Cw=Cb.prototype,CS=function(e,t,n){var r,i,o,a,s,l,c,u=n&&n.that,h=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_RECORD),f=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),v=Cu(t,u),g=function(e){return r&&Cy(r,"normal",e),new Cb(!0,e)},m=function(e){return h?(kb(e),p?v(e[0],e[1],g):v(e[0],e[1])):p?v(e,g):v(e)};if(d)r=e.iterator;else if(f)r=e;else{if(!(i=Cv(e)))throw C_(EK(e)+" is not iterable");if(Cf(i)){for(o=0,a=To(e);a>o;o++)if((s=m(e[o]))&&EL(Cw,s))return s;return new Cb(!1)}r=Cm(e,i)}for(l=d?e.next:r.next;!(c=Er(l,r)).done;){try{s=m(c.value)}catch(e){Cy(r,"throw",e)}if("object"==typeof s&&s&&EL(Cw,s))return s}return new Cb(!1)},CE=TypeError,Ck=function(e,t){if(EL(t,e))return e;throw CE("Incorrect invocation")},CT=ko("iterator"),Cx=!1;try{var CC=0,CI={next:function(){return{done:!!CC++}},return:function(){Cx=!0}};CI[CT]=function(){return this},Array.from(CI,function(){throw 2})}catch(e){}var CO=function(e,t){if(!t&&!Cx)return!1;var n=!1;try{var r={};r[CT]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},CA=function(e,t,n){var r,i;return xO&&EA(r=t.constructor)&&r!==n&&ER(i=r.prototype)&&i!==n.prototype&&xO(e,i),e},CP=function(e,t,n){for(var r in t)k4(e,r,t[r],n);return e},CR=ko("species"),CD=function(e){var t=ED(e),n=kg.f;Ee&&t&&!t[CR]&&n(t,CR,{configurable:!0,get:function(){return this}})},CL=kg.f,CM=Cs.fastKey,Cz=kq.set,CN=kq.getterFor;!function(e,t,n){var r=-1!=="Map".indexOf("Map"),i=-1!==e.indexOf("Weak"),o=r?"set":"add",a=S9[e],s=a&&a.prototype,l=a,c={},u=function(e){var t=Eg(s[e]);k4(s,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(i&&!ER(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return i&&!ER(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!ER(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(Tm(e,!EA(a)||!(i||s.forEach&&!S8(function(){(new a).entries().next()}))))l=n.getConstructor(t,e,r,o),Cs.enable();else if(Tm(e,!0)){var h=new l,d=h[o](i?{}:-0,1)!=h,f=S8(function(){h.has(1)}),p=CO(function(e){new a(e)}),v=!i&&S8(function(){for(var e=new a,t=5;t--;)e[o](t,t);return!e.has(-0)});p||((l=t(function(e,t){Ck(e,s);var n=CA(new a,e,l);return EE(t)||CS(t,n[o],{that:n,AS_ENTRIES:r}),n})).prototype=s,s.constructor=l),(f||v)&&(u("delete"),u("has"),r&&u("get")),(v||d)&&u(o),i&&s.clear&&delete s.clear}c[e]=l,Tk({global:!0,constructor:!0,forced:l!=a},c),xE(l,e),i||n.setStrong(l,e,r)}("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},{getConstructor:function(e,t,n,r){var i=e(function(e,i){Ck(e,o),Cz(e,{type:t,index:xi(null),first:void 0,last:void 0,size:0}),Ee||(e.size=0),EE(i)||CS(i,e[r],{that:e,AS_ENTRIES:n})}),o=i.prototype,a=CN(t),s=function(e,t,n){var r,i,o=a(e),s=l(e,t);return s?s.value=n:(o.last=s={index:i=CM(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=s),r&&(r.next=s),Ee?o.size++:e.size++,"F"!==i&&(o.index[i]=s)),e},l=function(e,t){var n,r=a(e),i=CM(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return CP(o,{clear:function(){for(var e=a(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,Ee?e.size=0:this.size=0},delete:function(e){var t=a(this),n=l(this,e);if(n){var r=n.next,i=n.previous;delete t.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),t.first==n&&(t.first=r),t.last==n&&(t.last=i),Ee?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=a(this),r=Cu(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!l(this,e)}}),CP(o,n?{get:function(e){var t=l(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),Ee&&CL(o,"size",{get:function(){return a(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=CN(t),o=CN(r);xU(e,t,function(e,t){Cz(this,{type:r,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?xF("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,xF(void 0,!0))},n?"entries":"values",!n,!0),CD(t)}});var Cj=Eg(1..valueOf),CB=String,CU=function(e){if("Symbol"===Tz(e))throw TypeError("Cannot convert a Symbol value to a string");return CB(e)},CF=Eg("".replace),CG="[	\n\v\f\r \xa0              　\u2028\u2029\uFEFF]",CV=RegExp("^"+CG+CG+"*"),CH=RegExp(CG+CG+"*$"),CZ=function(e){return function(t){var n=CU(ET(t));return 1&e&&(n=CF(n,CV,"")),2&e&&(n=CF(n,CH,"")),n}},CK={start:CZ(1),end:CZ(2),trim:CZ(3)},CW=k3.f,C$=S7.f,Cq=kg.f,CX=CK.trim,CJ="Number",CY=S9[CJ],CQ=CY.prototype,C0=S9.TypeError,C1=Eg("".slice),C2=Eg("".charCodeAt),C5=function(e){var t=kc(e,"number");return"bigint"==typeof t?t:C4(t)},C4=function(e){var t,n,r,i,o,a,s,l,c=kc(e,"number");if(EH(c))throw C0("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2){if(43===(t=C2(c=CX(c),0))||45===t){if(88===(n=C2(c,2))||120===n)return NaN}else if(48===t){switch(C2(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=(o=C1(c,2)).length,s=0;s<a;s++)if((l=C2(o,s))<48||l>i)return NaN;return parseInt(o,r)}}return+c};if(Tm(CJ,!CY(" 0o1")||!CY("0b1")||CY("+0x1"))){for(var C3,C6=function(e){var t=arguments.length<1?0:CY(C5(e)),n=this;return EL(CQ,n)&&S8(function(){Cj(n)})?CA(Object(t),n,C6):t},C9=Ee?CW(CY):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),C7=0;C9.length>C7;C7++)E6(CY,C3=C9[C7])&&!E6(C6,C3)&&Cq(C6,C3,C$(CY,C3));C6.prototype=CQ,CQ.constructor=C6,k4(S9,CJ,C6,{constructor:!0})}var C8=Object.assign,Ie=Object.defineProperty,It=Eg([].concat),In=!C8||S8(function(){if(Ee&&1!==C8({b:1},C8(Ie({},"a",{enumerable:!0,get:function(){Ie(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=C8({},e)[n]||T5(C8({},t)).join("")!=r})?function(e,t){for(var n=E4(e),r=arguments.length,i=1,o=Tf.f,a=Ei.f;r>i;)for(var s,l=ES(arguments[i++]),c=o?It(T5(l),o(l)):T5(l),u=c.length,h=0;u>h;)s=c[h++],Ee&&!Er(a,l,s)||(n[s]=l[s]);return n}:C8;Tk({target:"Object",stat:!0,arity:2,forced:Object.assign!==In},{assign:In});TP||k4(Object.prototype,"toString",TP?({}).toString:function(){return"[object "+Tz(this)+"]"},{unsafe:!0});var Ir=function(){var e=kb(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},Ii=RegExp.prototype,Io=kD.PROPER,Ia=function(e){var t=e.flags;return void 0!==t||"flags"in Ii||E6(e,"flags")||!EL(Ii,e)?t:Er(Ir,e)},Is="toString",Il=RegExp.prototype[Is],Ic=S8(function(){return"/a/b"!=Il.call({source:"a",flags:"b"})}),Iu=Io&&Il.name!=Is;(Ic||Iu)&&k4(RegExp.prototype,Is,function(){var e=kb(this);return"/"+CU(e.source)+"/"+CU(Ia(e))},{unsafe:!0});var Ih=Eg("".charAt),Id=Eg("".charCodeAt),If=Eg("".slice),Ip=function(e){return function(t,n){var r,i,o=CU(ET(t)),a=k8(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=Id(o,a))<55296||r>56319||a+1===s||(i=Id(o,a+1))<56320||i>57343?e?Ih(o,a):r:e?If(o,a,a+2):i-56320+(r-55296<<10)+65536}},Iv={codeAt:Ip(!1),charAt:Ip(!0)},Ig=Iv.charAt,Im="String Iterator",Iy=kq.set,I_=kq.getterFor(Im);xU(String,"String",function(e){Iy(this,{type:Im,string:CU(e),index:0})},function(){var e,t=I_(this),n=t.string,r=t.index;return r>=n.length?xF(void 0,!0):(e=Ig(n,r),t.index+=e.length,xF(e,!1))});Tk({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e,t=kb(this),n=E$(t.delete),r=!0,i=0,o=arguments.length;i<o;i++)e=Er(n,t,arguments[i]),r=r&&e;return!!r}});var Ib=function(e){return Er(Map.prototype.entries,e)};Tk({target:"Map",proto:!0,real:!0,forced:!0},{every:function(e){var t=kb(this),n=Ib(t),r=Cu(e,arguments.length>1?arguments[1]:void 0);return!CS(n,function(e,n,i){if(!r(n,e,t))return i()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var Iw=TypeError,IS=function(e){if(TZ(e))return e;throw Iw(EK(e)+" is not a constructor")},IE=ko("species"),Ik=function(e,t){var n,r=kb(e).constructor;return void 0===r||EE(n=kb(r)[IE])?t:IS(n)};Tk({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(e){var t=kb(this),n=Ib(t),r=Cu(e,arguments.length>1?arguments[1]:void 0),i=new(Ik(t,ED("Map"))),o=E$(i.set);return CS(n,function(e,n){r(n,e,t)&&Er(o,i,e,n)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}});Tk({target:"Map",proto:!0,real:!0,forced:!0},{find:function(e){var t=kb(this),n=Ib(t),r=Cu(e,arguments.length>1?arguments[1]:void 0);return CS(n,function(e,n,i){if(r(n,e,t))return i(n)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}});Tk({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(e){var t=kb(this),n=Ib(t),r=Cu(e,arguments.length>1?arguments[1]:void 0);return CS(n,function(e,n,i){if(r(n,e,t))return i(e)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}});Tk({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(e){return CS(Ib(kb(this)),function(t,n,r){var i,o;if((i=n)===(o=e)||i!=i&&o!=o)return r()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});Tk({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(e){return CS(Ib(kb(this)),function(t,n,r){if(n===e)return r(t)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}});Tk({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(e){var t=kb(this),n=Ib(t),r=Cu(e,arguments.length>1?arguments[1]:void 0),i=new(Ik(t,ED("Map"))),o=E$(i.set);return CS(n,function(e,n){Er(o,i,r(n,e,t),n)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}});Tk({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(e){var t=kb(this),n=Ib(t),r=Cu(e,arguments.length>1?arguments[1]:void 0),i=new(Ik(t,ED("Map"))),o=E$(i.set);return CS(n,function(e,n){Er(o,i,e,r(n,e,t))},{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}});Tk({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(e){for(var t=kb(this),n=E$(t.set),r=arguments.length,i=0;i<r;)CS(arguments[i++],n,{that:t,AS_ENTRIES:!0});return t}});var IT=TypeError;Tk({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=kb(this),n=Ib(t),r=arguments.length<2,i=r?void 0:arguments[1];if(E$(e),CS(n,function(n,o){r?(r=!1,i=o):i=e(i,o,n,t)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),r)throw IT("Reduce of empty map with no initial value");return i}});Tk({target:"Map",proto:!0,real:!0,forced:!0},{some:function(e){var t=kb(this),n=Ib(t),r=Cu(e,arguments.length>1?arguments[1]:void 0);return CS(n,function(e,n,i){if(r(n,e,t))return i()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var Ix=TypeError;Tk({target:"Map",proto:!0,real:!0,forced:!0},{update:function(e,t){var n=kb(this),r=E$(n.get),i=E$(n.has),o=E$(n.set),a=arguments.length;E$(t);var s=Er(i,n,e);if(!s&&a<3)throw Ix("Updating absent value");var l=s?Er(r,n,e):E$(a>2?arguments[2]:void 0)(e,n);return Er(o,n,e,t(l,e,n)),n}});var IC={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},II=kf("span").classList,IO=II&&II.constructor&&II.constructor.prototype,IA=IO===Object.prototype?void 0:IO,IP=Eg([].push),IR=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(l,c,u,h){for(var d,f,p=E4(l),v=ES(p),g=Cu(c,u),m=To(v),y=0,_=h||Tq,b=t?_(l,m):n||a?_(l,0):void 0;m>y;y++)if((s||y in v)&&(f=g(d=v[y],y,p),e)){if(t)b[y]=f;else if(f)switch(e){case 3:return!0;case 5:return d;case 6:return y;case 2:IP(b,d)}else switch(e){case 4:return!1;case 7:IP(b,d)}}return o?-1:r||i?i:b}},ID={forEach:IR(0),map:IR(1),filter:IR(2),some:IR(3),every:IR(4),find:IR(5),findIndex:IR(6),filterReject:IR(7)},IL=function(e,t){var n=[][e];return!!n&&S8(function(){n.call(null,t||function(){return 1},1)})},IM=ID.forEach,Iz=IL("forEach")?[].forEach:function(e){return IM(this,e,arguments.length>1?arguments[1]:void 0)},IN=function(e){if(e&&e.forEach!==Iz)try{kC(e,"forEach",Iz)}catch(t){e.forEach=Iz}};for(var Ij in IC)IC[Ij]&&IN(S9[Ij]&&S9[Ij].prototype);IN(IA);var IB=ko("iterator"),IU=ko("toStringTag"),IF=xK.values,IG=function(e,t){if(e){if(e[IB]!==IF)try{kC(e,IB,IF)}catch(t){e[IB]=IF}if(e[IU]||kC(e,IU,t),IC[t]){for(var n in xK)if(e[n]!==xK[n])try{kC(e,n,xK[n])}catch(t){e[n]=xK[n]}}}};for(var IV in IC)IG(S9[IV]&&S9[IV].prototype,IV);IG(IA,"DOMTokenList");var IH,IZ,IK,IW,I$="process"==E_(S9.process),Iq=Function.prototype,IX=Iq.apply,IJ=Iq.call,IY="object"==typeof Reflect&&Reflect.apply||(Et?IJ.bind(IX):function(){return IJ.apply(IX,arguments)}),IQ=TypeError,I0=/(?:ipad|iphone|ipod).*applewebkit/i.test(EM),I1=function(e,t){if(e<t)throw IQ("Not enough arguments");return e},I2=S9.setImmediate,I5=S9.clearImmediate,I4=S9.process,I3=S9.Dispatch,I6=S9.Function,I9=S9.MessageChannel,I7=S9.String,I8=0,Oe={},Ot="onreadystatechange";try{IH=S9.location}catch(e){}var On=function(e){if(E6(Oe,e)){var t=Oe[e];delete Oe[e],t()}},Or=function(e){return function(){On(e)}},Oi=function(e){On(e.data)},Oo=function(e){S9.postMessage(I7(e),IH.protocol+"//"+IH.host)};I2&&I5||(I2=function(e){I1(arguments.length,1);var t=EA(e)?e:I6(e),n=x$(arguments,1);return Oe[++I8]=function(){IY(t,void 0,n)},IZ(I8),I8},I5=function(e){delete Oe[e]},I$?IZ=function(e){I4.nextTick(Or(e))}:I3&&I3.now?IZ=function(e){I3.now(Or(e))}:I9&&!I0?(IW=(IK=new I9).port2,IK.port1.onmessage=Oi,IZ=Cu(IW.postMessage,IW)):S9.addEventListener&&EA(S9.postMessage)&&!S9.importScripts&&IH&&"file:"!==IH.protocol&&!S8(Oo)?(IZ=Oo,S9.addEventListener("message",Oi,!1)):IZ=Ot in kf("script")?function(e){T3.appendChild(kf("script"))[Ot]=function(){T3.removeChild(this),On(e)}}:function(e){setTimeout(Or(e),0)});var Oa,Os,Ol,Oc,Ou,Oh,Od,Of,Op=I2,Ov=/ipad|iphone|ipod/i.test(EM)&&void 0!==S9.Pebble,Og=/web0s(?!.*chrome)/i.test(EM),Om=S7.f,Oy=Op,O_=S9.MutationObserver||S9.WebKitMutationObserver,Ob=S9.document,Ow=S9.process,OS=S9.Promise,OE=Om(S9,"queueMicrotask"),Ok=OE&&OE.value;Ok||(Oa=function(){var e,t;for(I$&&(e=Ow.domain)&&e.exit();Os;){t=Os.fn,Os=Os.next;try{t()}catch(e){throw Os?Oc():Ol=void 0,e}}Ol=void 0,e&&e.enter()},I0||I$||Og||!O_||!Ob?!Ov&&OS&&OS.resolve?((Od=OS.resolve(void 0)).constructor=OS,Of=Cu(Od.then,Od),Oc=function(){Of(Oa)}):I$?Oc=function(){Ow.nextTick(Oa)}:(Oy=Cu(Oy,S9),Oc=function(){Oy(Oa)}):(Ou=!0,Oh=Ob.createTextNode(""),new O_(Oa).observe(Oh,{characterData:!0}),Oc=function(){Oh.data=Ou=!Ou}));var OT=Ok||function(e){var t={fn:e,next:void 0};Ol&&(Ol.next=t),Os||(Os=t,Oc()),Ol=t},Ox=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},OC=function(){this.head=null,this.tail=null};OC.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var OI=S9.Promise,OO="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,OA=!OO&&!I$&&"object"==typeof window&&"object"==typeof document;OI&&OI.prototype;var OP=ko("species"),OR=!1,OD=EA(S9.PromiseRejectionEvent),OL={CONSTRUCTOR:Tm("Promise",function(){var e=kj(OI),t=e!==String(OI);if(!t&&66===EU)return!0;if(!EU||EU<51||!/native code/.test(e)){var n=new OI(function(e){e(1)}),r=function(e){e(function(){},function(){})};if((n.constructor={})[OP]=r,!(OR=n.then(function(){}) instanceof r))return!0}return!t&&(OA||OO)&&!OD}),REJECTION_EVENT:OD,SUBCLASSING:OR},OM={},Oz=TypeError,ON=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw Oz("Bad Promise constructor");t=e,n=r}),this.resolve=E$(t),this.reject=E$(n)};OM.f=function(e){return new ON(e)};var Oj,OB,OU,OF,OG=Op,OV=function(e,t){var n=S9.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))},OH="Promise",OZ=OL.CONSTRUCTOR,OK=OL.REJECTION_EVENT,OW=OL.SUBCLASSING,O$=kq.getterFor(OH),Oq=kq.set,OX=OI&&OI.prototype,OJ=OI,OY=OX,OQ=S9.TypeError,O0=S9.document,O1=S9.process,O2=OM.f,O5=O2,O4=!!(O0&&O0.createEvent&&S9.dispatchEvent),O3="unhandledrejection",O6=function(e){var t;return!(!ER(e)||!EA(t=e.then))&&t},O9=function(e,t){var n,r,i,o=t.value,a=1==t.state,s=a?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{s?(a||(2===t.rejection&&An(t),t.rejection=1),!0===s?n=o:(u&&u.enter(),n=s(o),u&&(u.exit(),i=!0)),n===e.promise?c(OQ("Promise-chain cycle")):(r=O6(n))?Er(r,n,l,c):l(n)):c(o)}catch(e){u&&!i&&u.exit(),c(e)}},O7=function(e,t){e.notified||(e.notified=!0,OT(function(){for(var n,r=e.reactions;n=r.get();)O9(n,e);e.notified=!1,t&&!e.rejection&&Ae(e)}))},O8=function(e,t,n){var r,i;O4?((r=O0.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),S9.dispatchEvent(r)):r={promise:t,reason:n},!OK&&(i=S9["on"+e])?i(r):e===O3&&OV("Unhandled promise rejection",n)},Ae=function(e){Er(OG,S9,function(){var t,n=e.facade,r=e.value;if(At(e)&&(t=Ox(function(){I$?O1.emit("unhandledRejection",r,n):O8(O3,n,r)}),e.rejection=I$||At(e)?2:1,t.error))throw t.value})},At=function(e){return 1!==e.rejection&&!e.parent},An=function(e){Er(OG,S9,function(){var t=e.facade;I$?O1.emit("rejectionHandled",t):O8("rejectionhandled",t,e.value)})},Ar=function(e,t,n){return function(r){e(t,r,n)}},Ai=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,O7(e,!0))},Ao=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw OQ("Promise can't be resolved itself");var r=O6(t);r?OT(function(){var n={done:!1};try{Er(r,t,Ar(Ao,n,e),Ar(Ai,n,e))}catch(t){Ai(n,t,e)}}):(e.value=t,e.state=1,O7(e,!1))}catch(t){Ai({done:!1},t,e)}}};if(OZ&&(OY=(OJ=function(e){Ck(this,OY),E$(e),Er(Oj,this);var t=O$(this);try{e(Ar(Ao,t),Ar(Ai,t))}catch(e){Ai(t,e)}}).prototype,(Oj=function(e){Oq(this,{type:OH,done:!1,notified:!1,parent:!1,reactions:new OC,rejection:!1,state:0,value:void 0})}).prototype=k4(OY,"then",function(e,t){var n=O$(this),r=O2(Ik(this,OJ));return n.parent=!0,r.ok=!EA(e)||e,r.fail=EA(t)&&t,r.domain=I$?O1.domain:void 0,0==n.state?n.reactions.add(r):OT(function(){O9(r,n)}),r.promise}),OB=function(){var e=new Oj,t=O$(e);this.promise=e,this.resolve=Ar(Ao,t),this.reject=Ar(Ai,t)},OM.f=O2=function(e){return e===OJ||e===OU?new OB(e):O5(e)},EA(OI)&&OX!==Object.prototype)){OF=OX.then,OW||k4(OX,"then",function(e,t){var n=this;return new OJ(function(e,t){Er(OF,n,e,t)}).then(e,t)},{unsafe:!0});try{delete OX.constructor}catch(e){}xO&&xO(OX,OY)}Tk({global:!0,constructor:!0,wrap:!0,forced:OZ},{Promise:OJ}),xE(OJ,OH,!1),CD(OH);var Aa=OL.CONSTRUCTOR||!CO(function(e){OI.all(e).then(void 0,function(){})});Tk({target:"Promise",stat:!0,forced:Aa},{all:function(e){var t=this,n=OM.f(t),r=n.resolve,i=n.reject,o=Ox(function(){var n=E$(t.resolve),o=[],a=0,s=1;CS(e,function(e){var l=a++,c=!1;s++,Er(n,t,e).then(function(e){c||(c=!0,o[l]=e,--s||r(o))},i)}),--s||r(o)});return o.error&&i(o.value),n.promise}});var As=OL.CONSTRUCTOR,Al=OI&&OI.prototype;if(Tk({target:"Promise",proto:!0,forced:As,real:!0},{catch:function(e){return this.then(void 0,e)}}),EA(OI)){var Ac=ED("Promise").prototype.catch;Al.catch!==Ac&&k4(Al,"catch",Ac,{unsafe:!0})}Tk({target:"Promise",stat:!0,forced:Aa},{race:function(e){var t=this,n=OM.f(t),r=n.reject,i=Ox(function(){var i=E$(t.resolve);CS(e,function(e){Er(i,t,e).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}}),Tk({target:"Promise",stat:!0,forced:OL.CONSTRUCTOR},{reject:function(e){var t=OM.f(this);return Er(t.reject,void 0,e),t.promise}});var Au=function(e,t){if(kb(e),ER(t)&&t.constructor===e)return t;var n=OM.f(e);return(0,n.resolve)(t),n.promise},Ah=OL.CONSTRUCTOR;function Ad(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function Af(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),h_(e,function(e){var t=function(e,t){if("object"!==ot(e)||null===e)return e;var n=e[Sq];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ot(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ot(t)?t:String(t)}(r.key),r)}}function Ap(e,t,n){return t&&Af(e.prototype,t),n&&Af(e,n),h_(e,"prototype",{writable:!1}),e}ED("Promise"),Tk({target:"Promise",stat:!0,forced:Ah},{resolve:function(e){return Au(this,e)}});var Av=function(){function e(){Ad(this,e)}return Ap(e,null,[{key:"install",value:function(){if(window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame,!window.requestAnimationFrame){var e=uQ();window.requestAnimationFrame=function(t){var n=uQ(),r=Math.max(16.7-(n-e),0),i=pS(t,r);return e=n+r,i}}window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}}]),e}(),Ag=function(){function e(){var t;Ad(this,e),this.fps=0,this.isStoped=!0,this.ticks=[],this.isSupport=!0,this.maxFps=0,this.step=mT(t=this._step).call(t,this),this.rafId=null}return Ap(e,[{key:"_step",value:function(e){var t=this.ticks;if(t.unshift(e),t.length>10){var n=t.pop();n&&(this.fps=Math.floor(1e4/(e-n)),this.updateFpsInfo())}this.isStoped||(this.rafId=window.requestAnimationFrame(this.step))}},{key:"updateFpsInfo",value:function(){this.fps>this.maxFps&&(this.maxFps=this.fps)}},{key:"start",value:function(){void 0!==window.requestAnimationFrame&&(this.isStoped=!1,this.rafId=window.requestAnimationFrame(this.step))}},{key:"stop",value:function(){window.cancelAnimationFrame(this.rafId),this.isStoped=!0}}],[{key:"install",value:function(){Av.install()}}]),e}(),Am=S9.RegExp,Ay=S8(function(){var e=Am("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),A_=Ay||S8(function(){return!Am("a","y").sticky}),Ab={BROKEN_CARET:Ay||S8(function(){var e=Am("^r","gy");return e.lastIndex=2,null!=e.exec("str")}),MISSED_STICKY:A_,UNSUPPORTED_Y:Ay},Aw=S9.RegExp,AS=S8(function(){var e=Aw(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}),AE=S9.RegExp,Ak=S8(function(){var e=AE("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}),AT=kq.get,Ax=E2("native-string-replace",String.prototype.replace),AC=RegExp.prototype.exec,AI=AC,AO=Eg("".charAt),AA=Eg("".indexOf),AP=Eg("".replace),AR=Eg("".slice),AD=(A2=/b*/g,Er(AC,A1=/a/,"a"),Er(AC,A2,"a"),0!==A1.lastIndex||0!==A2.lastIndex),AL=Ab.BROKEN_CARET,AM=void 0!==/()??/.exec("")[1];(AD||AM||AL||AS||Ak)&&(AI=function(e){var t,n,r,i,o,a,s,l=AT(this),c=CU(e),u=l.raw;if(u)return u.lastIndex=this.lastIndex,t=Er(AI,u,c),this.lastIndex=u.lastIndex,t;var h=l.groups,d=AL&&this.sticky,f=Er(Ir,this),p=this.source,v=0,g=c;if(d&&(-1===AA(f=AP(f,"y",""),"g")&&(f+="g"),g=AR(c,this.lastIndex),this.lastIndex>0&&(!this.multiline||this.multiline&&"\n"!==AO(c,this.lastIndex-1))&&(p="(?: "+p+")",g=" "+g,v++),n=RegExp("^(?:"+p+")",f)),AM&&(n=RegExp("^"+p+"$(?!\\s)",f)),AD&&(r=this.lastIndex),i=Er(AC,d?n:this,g),d?i?(i.input=AR(i.input,v),i[0]=AR(i[0],v),i.index=this.lastIndex,this.lastIndex+=i[0].length):this.lastIndex=0:AD&&i&&(this.lastIndex=this.global?i.index+i[0].length:r),AM&&i&&i.length>1&&Er(Ax,i[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)}),i&&h)for(i.groups=a=xi(null),o=0;o<h.length;o++)a[(s=h[o])[0]]=i[s[1]];return i});var Az=AI;Tk({target:"RegExp",proto:!0,forced:/./.exec!==Az},{exec:Az});var AN=ko("species"),Aj=RegExp.prototype,AB=ko("match"),AU=function(e){var t;return ER(e)&&(void 0!==(t=e[AB])?!!t:"RegExp"==E_(e))},AF=Iv.charAt,AG=TypeError,AV=function(e,t){var n=e.exec;if(EA(n)){var r=Er(n,e,t);return null!==r&&kb(r),r}if("RegExp"===E_(e))return Er(Az,e,t);throw AG("RegExp#exec called on incompatible receiver")},AH=Ab.UNSUPPORTED_Y,AZ=Math.min,AK=[].push,AW=Eg(/./.exec),A$=Eg(AK),Aq=Eg("".slice);!function(e,t,n,r){var i=ko(e),o=!S8(function(){var t={};return t[i]=function(){return 7},7!=""[e](t)}),a=o&&!S8(function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[AN]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return t=!0,null},n[i](""),!t});if(!o||!a||n){var s=Cl(/./[i]),l=t(i,""[e],function(e,t,n,r,i){var a=Cl(e),l=t.exec;return l===Az||l===Aj.exec?o&&!i?{done:!0,value:s(t,n,r)}:{done:!0,value:a(n,t,r)}:{done:!1}});k4(String.prototype,e,l[0]),k4(Aj,i,l[1])}r&&kC(Aj[i],"sham",!0)}("split",function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=CU(ET(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!AU(e))return Er(t,r,e,i);for(var o,a,s,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,h=RegExp(e.source,c+"g");(o=Er(Az,h,r))&&!((a=h.lastIndex)>u&&(A$(l,Aq(r,u,o.index)),o.length>1&&o.index<r.length&&IY(AK,l,x5(o,1)),s=o[0].length,u=a,l.length>=i));)h.lastIndex===o.index&&h.lastIndex++;return u===r.length?!s&&AW(h,"")||A$(l,""):A$(l,Aq(r,u)),l.length>i?x5(l,0,i):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:Er(t,this,e,n)}:t,[function(t,n){var i=ET(this),o=EE(t)?void 0:Eq(t,e);return o?Er(o,t,i,n):Er(r,CU(i),t,n)},function(e,i){var o=kb(this),a=CU(e),s=n(r,o,a,i,r!==t);if(s.done)return s.value;var l=Ik(o,RegExp),c=o.unicode,u=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(AH?"g":"y"),h=new l(AH?"^(?:"+o.source+")":o,u),d=void 0===i?4294967295:i>>>0;if(0===d)return[];if(0===a.length)return null===AV(h,a)?[a]:[];for(var f=0,p=0,v=[];p<a.length;){h.lastIndex=AH?0:p;var g,m,y,_=AV(h,AH?Aq(a,p):a);if(null===_||(y=AZ(Ti(h.lastIndex+(AH?p:0)),a.length))===f){;g=a,p=(m=p)+(c?AF(g,m).length:1)}else{if(A$(v,Aq(a,f,p)),v.length===d)return v;for(var b=1;b<=_.length-1;b++)if(A$(v,_[b]),v.length===d)return v;p=f=y}}return A$(v,Aq(a,f)),v}]},!!S8(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),AH);var AX=Eg([].join),AJ=ES!=Object,AY=IL("join",",");Tk({target:"Array",proto:!0,forced:AJ||!AY},{join:function(e){return AX(Ex(this),void 0===e?",":e)}});var AQ=function(){return A0&&!function(){var e="_localstorage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()}();function A0(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}var A1,A2,A5,A4,A3,A6={length:AQ?localStorage.length:0,clear:function(e){try{for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===d9(n).call(n,e)&&localStorage.removeItem(n)}}catch(e){}},getItem:function(e){try{return localStorage.getItem(e)}catch(e){return null}},key:function(e){try{return localStorage.key(e)}catch(e){return null}},setItem:function(e,t){try{localStorage.setItem(e,t)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},isSupport:AQ},A9=function(){function e(){Ad(this,e);var t,n,r=new lC(function(e,r){t=e,n=r});return r.resolve=t,r.reject=n,r}return Ap(e,[{key:"resolve",value:function(e){}},{key:"reject",value:function(e){}}]),e}(),A7={exports:{}},A8="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Pe=kg.f,Pt=kq.enforce,Pn=kq.get,Pr=S9.Int8Array,Pi=Pr&&Pr.prototype,Po=S9.Uint8ClampedArray,Pa=Po&&Po.prototype,Ps=Pr&&xm(Pr),Pl=Pi&&xm(Pi),Pc=Object.prototype,Pu=S9.TypeError,Ph=ko("toStringTag"),Pd=ke("TYPED_ARRAY_TAG"),Pf="TypedArrayConstructor",Pp=A8&&!!xO&&"Opera"!==Tz(S9.opera),Pv=!1,Pg={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Pm={BigInt64Array:8,BigUint64Array:8},Py=function(e){var t=xm(e);if(ER(t)){var n=Pn(t);return n&&E6(n,Pf)?n[Pf]:Py(t)}},P_=function(e){if(!ER(e))return!1;var t=Tz(e);return E6(Pg,t)||E6(Pm,t)};for(A5 in Pg)(A3=(A4=S9[A5])&&A4.prototype)?Pt(A3)[Pf]=A4:Pp=!1;for(A5 in Pm)(A3=(A4=S9[A5])&&A4.prototype)&&(Pt(A3)[Pf]=A4);if((!Pp||!EA(Ps)||Ps===Function.prototype)&&(Ps=function(){throw Pu("Incorrect invocation")},Pp))for(A5 in Pg)S9[A5]&&xO(S9[A5],Ps);if((!Pp||!Pl||Pl===Pc)&&(Pl=Ps.prototype,Pp))for(A5 in Pg)S9[A5]&&xO(S9[A5].prototype,Pl);if(Pp&&xm(Pa)!==Pl&&xO(Pa,Pl),Ee&&!E6(Pl,Ph))for(A5 in Pv=!0,Pe(Pl,Ph,{get:function(){return ER(this)?this[Pd]:void 0}}),Pg)S9[A5]&&kC(S9[A5],Pd,A5);var Pb={NATIVE_ARRAY_BUFFER_VIEWS:Pp,TYPED_ARRAY_TAG:Pv&&Pd,aTypedArray:function(e){if(P_(e))return e;throw Pu("Target is not a typed array")},aTypedArrayConstructor:function(e){if(EA(e)&&(!xO||EL(Ps,e)))return e;throw Pu(EK(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(Ee){if(n)for(var i in Pg){var o=S9[i];if(o&&E6(o.prototype,e))try{delete o.prototype[e]}catch(n){try{o.prototype[e]=t}catch(e){}}}Pl[e]&&!n||k4(Pl,e,n?t:Pp&&Pi[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(Ee){if(xO){if(n){for(r in Pg)if((i=S9[r])&&E6(i,e))try{delete i[e]}catch(e){}}if(Ps[e]&&!n)return;try{return k4(Ps,e,n?t:Pp&&Ps[e]||t)}catch(e){}}for(r in Pg)(i=S9[r])&&(!i[e]||n)&&k4(i,e,t)}},getTypedArrayConstructor:Py,isView:function(e){if(!ER(e))return!1;var t=Tz(e);return"DataView"===t||E6(Pg,t)||E6(Pm,t)},isTypedArray:P_,TypedArray:Ps,TypedArrayPrototype:Pl},Pw=Pb.NATIVE_ARRAY_BUFFER_VIEWS,PS=S9.ArrayBuffer,PE=S9.Int8Array,Pk=!Pw||!S8(function(){PE(1)})||!S8(function(){new PE(-1)})||!CO(function(e){new PE,new PE(null),new PE(1.5),new PE(e)},!0)||S8(function(){return 1!==new PE(new PS(2),1,void 0).length}),PT=RangeError,Px=function(e){if(void 0===e)return 0;var t=k8(e),n=Ti(t);if(t!==n)throw PT("Wrong length or index");return n},PC=Array,PI=Math.abs,PO=Math.pow,PA=Math.floor,PP=Math.log,PR=Math.LN2,PD=function(e){for(var t=E4(this),n=To(t),r=arguments.length,i=Tn(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:Tn(o,n);a>i;)t[i++]=e;return t},PL=function(e,t,n){var r,i,o,a=PC(n),s=8*n-t-1,l=(1<<s)-1,c=l>>1,u=23===t?PO(2,-24)-PO(2,-77):0,h=e<0||0===e&&1/e<0?1:0,d=0;for((e=PI(e))!=e||e===1/0?(i=e!=e?1:0,r=l):(r=PA(PP(e)/PR),e*(o=PO(2,-r))<1&&(r--,o*=2),(e+=r+c>=1?u/o:u*PO(2,1-c))*o>=2&&(r++,o/=2),r+c>=l?(i=0,r=l):r+c>=1?(i=(e*o-1)*PO(2,t),r+=c):(i=e*PO(2,c-1)*PO(2,t),r=0));t>=8;)a[d++]=255&i,i/=256,t-=8;for(r=r<<t|i,s+=t;s>0;)a[d++]=255&r,r/=256,s-=8;return a[--d]|=128*h,a},PM=function(e,t){var n,r=e.length,i=8*r-t-1,o=(1<<i)-1,a=o>>1,s=i-7,l=r-1,c=e[l--],u=127&c;for(c>>=7;s>0;)u=256*u+e[l--],s-=8;for(n=u&(1<<-s)-1,u>>=-s,s+=t;s>0;)n=256*n+e[l--],s-=8;if(0===u)u=1-a;else{if(u===o)return n?NaN:c?-Infinity:1/0;n+=PO(2,t),u-=a}return(c?-1:1)*n*PO(2,u-t)},Pz=k3.f,PN=kg.f,Pj=kD.PROPER,PB=kD.CONFIGURABLE,PU=kq.get,PF=kq.set,PG="ArrayBuffer",PV="DataView",PH="prototype",PZ="Wrong index",PK=S9[PG],PW=PK,P$=PW&&PW[PH],Pq=S9[PV],PX=Pq&&Pq[PH],PJ=Object.prototype,PY=S9.Array,PQ=S9.RangeError,P0=Eg(PD),P1=Eg([].reverse),P2=PL,P5=PM,P4=function(e){return[255&e]},P3=function(e){return[255&e,e>>8&255]},P6=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},P9=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},P7=function(e){return P2(e,23,4)},P8=function(e){return P2(e,52,8)},Re=function(e,t){PN(e[PH],t,{get:function(){return PU(this)[t]}})},Rt=function(e,t,n,r){var i=Px(n),o=PU(e);if(i+t>o.byteLength)throw PQ(PZ);var a=PU(o.buffer).bytes,s=i+o.byteOffset,l=x5(a,s,s+t);return r?l:P1(l)},Rn=function(e,t,n,r,i,o){var a=Px(n),s=PU(e);if(a+t>s.byteLength)throw PQ(PZ);for(var l=PU(s.buffer).bytes,c=a+s.byteOffset,u=r(+i),h=0;h<t;h++)l[c+h]=u[o?h:t-h-1]};if(A8){var Rr=Pj&&PK.name!==PG;if(S8(function(){PK(1)})&&S8(function(){new PK(-1)})&&!S8(function(){return new PK,new PK(1.5),new PK(NaN),1!=PK.length||Rr&&!PB}))Rr&&PB&&kC(PK,"name",PG);else{(PW=function(e){return Ck(this,P$),new PK(Px(e))})[PH]=P$;for(var Ri,Ro=Pz(PK),Ra=0;Ro.length>Ra;)(Ri=Ro[Ra++])in PW||kC(PW,Ri,PK[Ri]);P$.constructor=PW}xO&&xm(PX)!==PJ&&xO(PX,PJ);var Rs=new Pq(new PW(2)),Rl=Eg(PX.setInt8);Rs.setInt8(0,2147483648),Rs.setInt8(1,2147483649),!Rs.getInt8(0)&&Rs.getInt8(1)||CP(PX,{setInt8:function(e,t){Rl(this,e,t<<24>>24)},setUint8:function(e,t){Rl(this,e,t<<24>>24)}},{unsafe:!0})}else P$=(PW=function(e){Ck(this,P$);var t=Px(e);PF(this,{bytes:P0(PY(t),0),byteLength:t}),Ee||(this.byteLength=t)})[PH],PX=(Pq=function(e,t,n){Ck(this,PX),Ck(e,P$);var r=PU(e).byteLength,i=k8(t);if(i<0||i>r)throw PQ("Wrong offset");if(i+(n=void 0===n?r-i:Ti(n))>r)throw PQ("Wrong length");PF(this,{buffer:e,byteLength:n,byteOffset:i}),Ee||(this.buffer=e,this.byteLength=n,this.byteOffset=i)})[PH],Ee&&(Re(PW,"byteLength"),Re(Pq,"buffer"),Re(Pq,"byteLength"),Re(Pq,"byteOffset")),CP(PX,{getInt8:function(e){return Rt(this,1,e)[0]<<24>>24},getUint8:function(e){return Rt(this,1,e)[0]},getInt16:function(e){var t=Rt(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Rt(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return P9(Rt(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return P9(Rt(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return P5(Rt(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return P5(Rt(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Rn(this,1,e,P4,t)},setUint8:function(e,t){Rn(this,1,e,P4,t)},setInt16:function(e,t){Rn(this,2,e,P3,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Rn(this,2,e,P3,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Rn(this,4,e,P6,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Rn(this,4,e,P6,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Rn(this,4,e,P7,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Rn(this,8,e,P8,t,arguments.length>2?arguments[2]:void 0)}});xE(PW,PG),xE(Pq,PV);var Rc={ArrayBuffer:PW,DataView:Pq},Ru=Math.floor,Rh=Number.isInteger||function(e){return!ER(e)&&isFinite(e)&&Ru(e)===e},Rd=RangeError,Rf=function(e){var t=k8(e);if(t<0)throw Rd("The argument can't be less than 0");return t},Rp=RangeError,Rv=function(e,t){var n=Rf(e);if(n%t)throw Rp("Wrong offset");return n},Rg=Eg("".slice),Rm=TypeError,Ry=function(e){var t=kc(e,"number");if("number"==typeof t)throw Rm("Can't convert number to bigint");return BigInt(t)},R_=Pb.aTypedArrayConstructor,Rb=k3.f,Rw=function(e){var t,n,r,i,o,a,s,l,c=IS(this),u=E4(e),h=arguments.length,d=h>1?arguments[1]:void 0,f=void 0!==d,p=Cv(u);if(p&&!Cf(p))for(l=(s=Cm(u,p)).next,u=[];!(a=Er(l,s)).done;)u.push(a.value);for(f&&h>2&&(d=Cu(d,arguments[2])),n=To(u),i="Big"===Rg(Tz(r=new(R_(c))(n)),0,3),t=0;n>t;t++)o=f?d(u[t],t):u[t],r[t]=i?Ry(o):+o;return r},RS=ID.forEach,RE=kq.get,Rk=kq.set,RT=kq.enforce,Rx=kg.f,RC=S7.f,RI=Math.round,RO=S9.RangeError,RA=Rc.ArrayBuffer,RP=RA.prototype,RR=Rc.DataView,RD=Pb.NATIVE_ARRAY_BUFFER_VIEWS,RL=Pb.TYPED_ARRAY_TAG,RM=Pb.TypedArray,Rz=Pb.TypedArrayPrototype,RN=Pb.aTypedArrayConstructor,Rj=Pb.isTypedArray,RB="BYTES_PER_ELEMENT",RU="Wrong length",RF=function(e,t){RN(e);for(var n=0,r=t.length,i=new e(r);r>n;)i[n]=t[n++];return i},RG=function(e,t){Rx(e,t,{get:function(){return RE(this)[t]}})},RV=function(e){var t;return EL(RP,e)||"ArrayBuffer"==(t=Tz(e))||"SharedArrayBuffer"==t},RH=function(e,t){return Rj(e)&&!EH(t)&&t in e&&Rh(+t)&&t>=0},RZ=function(e,t){return RH(e,t=ku(t))?Ed(2,e[t]):RC(e,t)},RK=function(e,t,n){return!(RH(e,t=ku(t))&&ER(n)&&E6(n,"value"))||E6(n,"get")||E6(n,"set")||n.configurable||E6(n,"writable")&&!n.writable||E6(n,"enumerable")&&!n.enumerable?Rx(e,t,n):(e[t]=n.value,e)};Ee?(RD||(S7.f=RZ,kg.f=RK,RG(Rz,"buffer"),RG(Rz,"byteOffset"),RG(Rz,"byteLength"),RG(Rz,"length")),Tk({target:"Object",stat:!0,forced:!RD},{getOwnPropertyDescriptor:RZ,defineProperty:RK}),A7.exports=function(e,t,n){var r=e.match(/\d+$/)[0]/8,i=e+(n?"Clamped":"")+"Array",o="get"+e,a="set"+e,s=S9[i],l=s,c=l&&l.prototype,u={},h=function(e,t){Rx(e,t,{get:function(){var e,n,i;return e=this,n=t,(i=RE(e)).view[o](n*r+i.byteOffset,!0)},set:function(e){var i,o,s,l;return i=this,o=t,s=e,l=RE(i),void(n&&(s=(s=RI(s))<0?0:s>255?255:255&s),l.view[a](o*r+l.byteOffset,s,!0))},enumerable:!0})};RD?Pk&&(l=t(function(e,t,n,i){return Ck(e,c),CA(ER(t)?RV(t)?void 0!==i?new s(t,Rv(n,r),i):void 0!==n?new s(t,Rv(n,r)):new s(t):Rj(t)?RF(l,t):Er(Rw,l,t):new s(Px(t)),e,l)}),xO&&xO(l,RM),RS(Rb(s),function(e){e in l||kC(l,e,s[e])}),l.prototype=c):(l=t(function(e,t,n,i){Ck(e,c);var o,a,s,u=0,d=0;if(ER(t)){if(!RV(t))return Rj(t)?RF(l,t):Er(Rw,l,t);o=t,d=Rv(n,r);var f=t.byteLength;if(void 0===i){if(f%r||(a=f-d)<0)throw RO(RU)}else if((a=Ti(i)*r)+d>f)throw RO(RU);s=a/r}else o=new RA(a=(s=Px(t))*r);for(Rk(e,{buffer:o,byteOffset:d,byteLength:a,length:s,view:new RR(o)});u<s;)h(e,u++)}),xO&&xO(l,RM),c=l.prototype=xi(Rz)),c.constructor!==l&&kC(c,"constructor",l),RT(c).TypedArrayConstructor=l,RL&&kC(c,RL,i);var d=l!=s;u[i]=l,Tk({global:!0,constructor:!0,forced:d,sham:!RD},u),RB in l||kC(l,RB,r),RB in c||kC(c,RB,r),CD(i)}):A7.exports=function(){};var RW=A7.exports,R$=TypeError,Rq=function(e,t){if(!delete e[t])throw R$("Cannot delete property "+EK(t)+" of "+EK(e))},RX=Math.min,RJ=[].copyWithin||function(e,t){var n=E4(this),r=To(n),i=Tn(e,r),o=Tn(t,r),a=arguments.length>2?arguments[2]:void 0,s=RX((void 0===a?r:Tn(a,r))-o,r-i),l=1;for(o<i&&i<o+s&&(l=-1,o+=s-1,i+=s-1);s-- >0;)o in n?n[i]=n[o]:Rq(n,i),i+=l,o+=l;return n},RY=Eg(RJ),RQ=Pb.aTypedArray;(0,Pb.exportTypedArrayMethod)("copyWithin",function(e,t){return RY(RQ(this),e,t,arguments.length>2?arguments[2]:void 0)});var R0=ID.every,R1=Pb.aTypedArray;(0,Pb.exportTypedArrayMethod)("every",function(e){return R0(R1(this),e,arguments.length>1?arguments[1]:void 0)});var R2=Pb.aTypedArray,R5=Pb.exportTypedArrayMethod,R4=Eg("".slice);R5("fill",function(e){var t=arguments.length;return R2(this),Er(PD,this,"Big"===R4(Tz(this),0,3)?Ry(e):+e,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)},S8(function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e}));var R3=Pb.aTypedArrayConstructor,R6=Pb.getTypedArrayConstructor,R9=function(e){return R3(Ik(e,R6(e)))},R7=function(e,t){for(var n=0,r=To(t),i=new e(r);r>n;)i[n]=t[n++];return i},R8=ID.filter,De=Pb.aTypedArray;(0,Pb.exportTypedArrayMethod)("filter",function(e){var t,n,r=R8(De(this),e,arguments.length>1?arguments[1]:void 0);return t=this,n=r,R7(R9(t),n)});var Dt=ID.find,Dn=Pb.aTypedArray;(0,Pb.exportTypedArrayMethod)("find",function(e){return Dt(Dn(this),e,arguments.length>1?arguments[1]:void 0)});var Dr=ID.findIndex,Di=Pb.aTypedArray;(0,Pb.exportTypedArrayMethod)("findIndex",function(e){return Dr(Di(this),e,arguments.length>1?arguments[1]:void 0)});var Do=ID.forEach,Da=Pb.aTypedArray;(0,Pb.exportTypedArrayMethod)("forEach",function(e){Do(Da(this),e,arguments.length>1?arguments[1]:void 0)});var Ds=Ts.includes,Dl=Pb.aTypedArray;(0,Pb.exportTypedArrayMethod)("includes",function(e){return Ds(Dl(this),e,arguments.length>1?arguments[1]:void 0)});var Dc=Ts.indexOf,Du=Pb.aTypedArray;(0,Pb.exportTypedArrayMethod)("indexOf",function(e){return Dc(Du(this),e,arguments.length>1?arguments[1]:void 0)});var Dh=ko("iterator"),Dd=S9.Uint8Array,Df=Eg(xK.values),Dp=Eg(xK.keys),Dv=Eg(xK.entries),Dg=Pb.aTypedArray,Dm=Pb.exportTypedArrayMethod,Dy=Dd&&Dd.prototype,D_=!S8(function(){Dy[Dh].call([1])}),Db=!!Dy&&Dy.values&&Dy[Dh]===Dy.values&&"values"===Dy.values.name,Dw=function(){return Df(Dg(this))};Dm("entries",function(){return Dv(Dg(this))},D_),Dm("keys",function(){return Dp(Dg(this))},D_),Dm("values",Dw,D_||!Db,{name:"values"}),Dm(Dh,Dw,D_||!Db,{name:"values"});var DS=Pb.aTypedArray,DE=Pb.exportTypedArrayMethod,Dk=Eg([].join);DE("join",function(e){return Dk(DS(this),e)});var DT=Math.min,Dx=[].lastIndexOf,DC=!!Dx&&1/[1].lastIndexOf(1,-0)<0,DI=IL("lastIndexOf"),DO=DC||!DI?function(e){if(DC)return IY(Dx,this,arguments)||0;var t=Ex(this),n=To(t),r=n-1;for(arguments.length>1&&(r=DT(r,k8(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return -1}:Dx,DA=Pb.aTypedArray;(0,Pb.exportTypedArrayMethod)("lastIndexOf",function(e){var t=arguments.length;return IY(DO,DA(this),t>1?[e,arguments[1]]:[e])});var DP=ID.map,DR=Pb.aTypedArray;(0,Pb.exportTypedArrayMethod)("map",function(e){return DP(DR(this),e,arguments.length>1?arguments[1]:void 0,function(e,t){return new(R9(e))(t)})});var DD=TypeError,DL=function(e){return function(t,n,r,i){E$(n);var o=E4(t),a=ES(o),s=To(o),l=e?s-1:0,c=e?-1:1;if(r<2)for(;;){if(l in a){i=a[l],l+=c;break}if(l+=c,e?l<0:s<=l)throw DD("Reduce of empty array with no initial value")}for(;e?l>=0:s>l;l+=c)l in a&&(i=n(i,a[l],l,o));return i}},DM={left:DL(!1),right:DL(!0)},Dz=DM.left,DN=Pb.aTypedArray;(0,Pb.exportTypedArrayMethod)("reduce",function(e){var t=arguments.length;return Dz(DN(this),e,t,t>1?arguments[1]:void 0)});var Dj=DM.right,DB=Pb.aTypedArray;(0,Pb.exportTypedArrayMethod)("reduceRight",function(e){var t=arguments.length;return Dj(DB(this),e,t,t>1?arguments[1]:void 0)});var DU=Pb.aTypedArray,DF=Pb.exportTypedArrayMethod,DG=Math.floor;DF("reverse",function(){for(var e,t=DU(this).length,n=DG(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this});var DV=S9.RangeError,DH=S9.Int8Array,DZ=DH&&DH.prototype,DK=DZ&&DZ.set,DW=Pb.aTypedArray,D$=Pb.exportTypedArrayMethod,Dq=!S8(function(){var e=new Uint8ClampedArray(2);return Er(DK,e,{length:1,0:3},1),3!==e[1]}),DX=Dq&&Pb.NATIVE_ARRAY_BUFFER_VIEWS&&S8(function(){var e=new DH(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]});D$("set",function(e){DW(this);var t=Rv(arguments.length>1?arguments[1]:void 0,1),n=E4(e);if(Dq)return Er(DK,this,n,t);var r=this.length,i=To(n),o=0;if(i+t>r)throw DV("Wrong length");for(;o<i;)this[t+o]=n[o++]},!Dq||DX);var DJ=Pb.aTypedArray;(0,Pb.exportTypedArrayMethod)("slice",function(e,t){for(var n=x$(DJ(this),e,t),r=R9(this),i=0,o=n.length,a=new r(o);o>i;)a[i]=n[i++];return a},S8(function(){new Int8Array(1).slice()}));var DY=ID.some,DQ=Pb.aTypedArray;(0,Pb.exportTypedArrayMethod)("some",function(e){return DY(DQ(this),e,arguments.length>1?arguments[1]:void 0)});var D0=Math.floor,D1=function(e,t){var n=e.length,r=D0(n/2);return n<8?D2(e,t):D5(e,D1(x5(e,0,r),t),D1(x5(e,r),t),t)},D2=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},D5=function(e,t,n,r){for(var i=t.length,o=n.length,a=0,s=0;a<i||s<o;)e[a+s]=a<i&&s<o?0>=r(t[a],n[s])?t[a++]:n[s++]:a<i?t[a++]:n[s++];return e},D4=EM.match(/firefox\/(\d+)/i),D3=!!D4&&+D4[1],D6=/MSIE|Trident/.test(EM),D9=EM.match(/AppleWebKit\/(\d+)\./),D7=!!D9&&+D9[1],D8=Pb.aTypedArray,Le=Pb.exportTypedArrayMethod,Lt=S9.Uint16Array,Ln=Lt&&Cl(Lt.prototype.sort),Lr=!(!Ln||S8(function(){Ln(new Lt(2),null)})&&S8(function(){Ln(new Lt(2),{})})),Li=!!Ln&&!S8(function(){if(EU)return EU<74;if(D3)return D3<67;if(D6)return!0;if(D7)return D7<602;var e,t,n=new Lt(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(Ln(n,function(e,t){return(e/4|0)-(t/4|0)}),e=0;e<516;e++)if(n[e]!==r[e])return!0});Le("sort",function(e){var t;return void 0!==e&&E$(e),Li?Ln(this,e):D1(D8(this),(t=e,function(e,n){return void 0!==t?+t(e,n)||0:n!=n?-1:e!=e?1:0===e&&0===n?1/e>0&&1/n<0?1:-1:e>n}))},!Li||Lr);var Lo=Pb.aTypedArray;(0,Pb.exportTypedArrayMethod)("subarray",function(e,t){var n=Lo(this),r=n.length,i=Tn(e,r);return new(R9(n))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,Ti((void 0===t?r:Tn(t,r))-i))});var La=S9.Int8Array,Ls=Pb.aTypedArray,Ll=Pb.exportTypedArrayMethod,Lc=[].toLocaleString,Lu=!!La&&S8(function(){Lc.call(new La(1))});Ll("toLocaleString",function(){return IY(Lc,Lu?x$(Ls(this)):Ls(this),x$(arguments))},S8(function(){return[1,2].toLocaleString()!=new La([1,2]).toLocaleString()})||!S8(function(){La.prototype.toLocaleString.call([1,2])}));var Lh=Pb.exportTypedArrayMethod,Ld=S9.Uint8Array,Lf=Ld&&Ld.prototype||{},Lp=[].toString,Lv=Eg([].join);S8(function(){Lp.call({})})&&(Lp=function(){return Lv(this)});var Lg=Lf.toString!=Lp;Lh("toString",Lp,Lg);var Lm=kD.EXISTS,Ly=kg.f,L_=Function.prototype,Lb=Eg(L_.toString),Lw=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,LS=Eg(Lw.exec);Ee&&!Lm&&Ly(L_,"name",{configurable:!0,get:function(){try{return LS(Lw,Lb(this))[1]}catch(e){return""}}}),lC.withResolvers||(lC.withResolvers=function(){var e={};return e.promise=new lC(function(t,n){e.resolve=t,e.reject=n}),e});var LE=["module"],Lk="danger_d_speed",LT={stall_penalty:11,switch_penalty:4,interval:1e3,startInterval:1e3,decodeUnderflowBuffer:1,decodeUnderflowMode:1,decodeUnderflowCount:1},Lx=SQ(function e(t,n,r,i){var o,a=this,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{logger:function(){},openLog:!1};SJ(this,e),this._wasmPromise=new A9,this._hasDeviceInfoChanged=!0,this.uuid=pv(o=(new Date).getTime().toString(36)).call(o,4),this._defaultMaxBitrate=0,this._underflowBitrate=0,this._minBitrate=1/0,this._isCurrentHDR=!1,this.config=t,this.segment_duration=i||5e3,this.logger=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];s.logger.apply(s,uu(e=["abr(".concat(a.uuid,")::")]).call(e,n))},this.openLog=s.openLog,this.autoBitrateOpts=lz({},LT,t.autoBitrateOpts),this.stall_penalty=this.autoBitrateOpts.stall_penalty,this.switch_penalty=this.autoBitrateOpts.switch_penalty,this.interval=this.autoBitrateOpts.interval;var l=t.progressTimer||1e3,c=this.autoBitrateOpts.startInterval||l;this.initInterval=.8*c,this._preloadMethod=t.preloadmethod||0,this._videoWidth=0,this._videoHeight=0,this._maxDefinition=this.autoBitrateOpts.maxDefinition||null,this._underflowDefinition=this.autoBitrateOpts.underflowDefinition||null,this.updateBitrate(n),this.updateMediaInfos(r,!1)},[{key:"_onLoadWasm",value:function(){var e=this,t=this.autoBitrateOpts.module,n=this.autoBitrateOpts;n.module;var r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==d9(t).call(t,r))continue;n[r]=e[r]}return n}(e,t);if(pd){var o=pd(e);for(r=0;r<o.length;r++)n=o[r],-1===d9(t).call(t,n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,LE),i=this.autoBitrateOpts.isClassic||!1;return t&&(i?this.module=new t(S5({promise:this._wasmPromise},r)):t(this.module={onRuntimeInitialized:function(){e._wasmPromise.resolve()}})),this._wasmPromise}},{key:"updateMediaInfos",value:function(e){var t,n=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._heightToDefinitionConfig=new f8,this._bitrateToDefinitionConfig=new f8,this._definitionToDefitionConfig=new f8,e&&(lI(t=e.dynamic_video_list).call(t,function(e){null===(t=n._heightToDefinitionConfig)||void 0===t||t.set(e.height||e.vheight,e);var t,r,i,o=e.bandwidth||e.bitrate;o<n._minBitrate&&(n._minBitrate=o),null===(r=n._bitrateToDefinitionConfig)||void 0===r||r.set(o,e),e.definition&&(null===(i=n._definitionToDefitionConfig)||void 0===i||i.set(e.definition,e))}),this._maxDefinition&&(this._defaultMaxBitrate=this._getBitrate(this._maxDefinition)),this._underflowDefinition&&(this._underflowBitrate=this._getBitrate(this._underflowDefinition)),this.mediaInfos=e)}},{key:"_getBitrate",value:function(e){var t;return(null===(t=this._definitionToDefitionConfig)||void 0===t||null===(t=t.get(e))||void 0===t?void 0:t.bandwidth)||-1}},{key:"transformMediaInfo",value:function(){if(this.setDebugModel(this.openLog),this.mediaInfos){this.logger("mediaInfos",this.mediaInfos);try{for(var e,t=[],n=this.mediaInfos.dynamic_video_list,r=0;r<n.length;r++){var i=n[r];!!i.isHDR===this._isCurrentHDR&&t.push({stream_id:"s".concat(r),bandwidth:i.bitrate||i.bandwidth,width:i.vwidth||i.width,height:i.vheight||i.height,codec:i.codecs||i.codec_type||"h264",frame_rate:Number(i.fps)||-1,segment_duration:this.segment_duration,definition:i.qualityType,gearName:i.gearName})}var o=l5({v_adaptation:t});null===(e=this.module)||void 0===e||e.ccall("parseMPD","null",["string"],[o])}catch(e){}}}},{key:"_getDefaultSpeed",value:function(e){var t=0,n=navigator.connection;if(n&&n.downlink)t=1024*n.downlink/8,this.logger("initSpeed connect",t);else try{t=dP(A6.getItem(Lk)||"")||0,this.logger("initSpeed connect",t)}catch(e){}return 0===t&&(t=e&&e.historyAvspeed||0,this.logger("initSpeed history",t)),t}},{key:"setDebugModel",value:function(e){var t,n;null===(t=this.module)||void 0===t||null===(n=t._setDebugModel)||void 0===n||n.call(t,e)}},{key:"updateBitrate",value:function(e){var t,n,r=this;this.bitrate=e,e>0&&(this.module?null===(t=(n=this.module).updateBitrate)||void 0===t||t.call(n,e):this.readyPromise().then(function(){var t,n;null===(t=r.module)||void 0===t||null===(n=t.updateBitrate)||void 0===n||n.call(t,e)}))}},{key:"getPreloadBitrate",value:function(){return null}},{key:"_updateDeviceInfo",value:function(e){try{if(this._hasDeviceInfoChanged){var t,n=window.devicePixelRatio||1;null===(t=this.module)||void 0===t||t._updateDeviceInfo(this._videoWidth||Number(this.config.width),this._videoHeight||Number(this.config.height),n,e||-1)}this._hasDeviceInfoChanged=!1}catch(e){}}},{key:"readyPromise",value:function(){return this._wasmPromise}}]);Lx.SPPED_CACHE=Lk;var LC=ID.map;Tk({target:"Array",proto:!0,forced:!TJ("map")},{map:function(e){return LC(this,e,arguments.length>1?arguments[1]:void 0)}});var LI=[],LO=Eg(LI.sort),LA=Eg(LI.push),LP=S8(function(){LI.sort(void 0)}),LR=S8(function(){LI.sort(null)}),LD=IL("sort"),LL=!S8(function(){if(EU)return EU<70;if(!(D3&&D3>3)){if(D6)return!0;if(D7)return D7<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)LI.push({k:t+r,v:n})}for(LI.sort(function(e,t){return t.v-e.v}),r=0;r<LI.length;r++)t=LI[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}});Tk({target:"Array",proto:!0,forced:LP||!LR||!LD||!LL},{sort:function(e){void 0!==e&&E$(e);var t,n=E4(this);if(LL)return void 0===e?LO(n):LO(n,e);var r,i,o=[],a=To(n);for(i=0;i<a;i++)i in n&&LA(o,n[i]);for(D1(o,(t=e,function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:CU(e)>CU(n)?1:-1})),r=To(o),i=0;i<r;)n[i]=o[i++];for(;i<a;)Rq(n,i++);return n}});var LM="ArrayBuffer",Lz=Rc[LM];Tk({global:!0,constructor:!0,forced:S9[LM]!==Lz},{ArrayBuffer:Lz}),CD(LM);var LN=RangeError,Lj=RangeError,LB=String,LU=Math.floor,LF=Eg(function(e){var t=CU(ET(this)),n="",r=k8(e);if(r<0||r==1/0)throw LN("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}),LG=Eg("".slice),LV=Eg(1..toFixed),LH=function(e,t,n){return 0===t?n:t%2==1?LH(e,t-1,n*e):LH(e*e,t/2,n)},LZ=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t},LK=function(e,t,n){for(var r=-1,i=n;++r<6;)i+=t*e[r],e[r]=i%1e7,i=LU(i/1e7)},LW=function(e,t){for(var n=6,r=0;--n>=0;)r+=e[n],e[n]=LU(r/t),r=r%t*1e7},L$=function(e){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==e[t]){var r=LB(e[t]);n=""===n?r:n+LF("0",7-r.length)+r}return n};Tk({target:"Number",proto:!0,forced:S8(function(){return"0.000"!==LV(8e-5,3)||"1"!==LV(.9,0)||"1.25"!==LV(1.255,2)||"1000000000000000128"!==LV(0xde0b6b3a7640080,0)})||!S8(function(){LV({})})},{toFixed:function(e){var t,n,r,i,o=Cj(this),a=k8(e),s=[0,0,0,0,0,0],l="",c="0";if(a<0||a>20)throw Lj("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return LB(o);if(o<0&&(l="-",o=-o),o>1e-21){if(n=((t=LZ(o*LH(2,69,1))-69)<0?o*LH(2,-t,1):o/LH(2,t,1))*4503599627370496,(t=52-t)>0){for(LK(s,0,n),r=a;r>=7;)LK(s,1e7,0),r-=7;for(LK(s,LH(10,r,1),0),r=t-1;r>=23;)LW(s,8388608),r-=23;LW(s,1<<r),LK(s,1,1),LW(s,2),c=L$(s)}else LK(s,0,n),LK(s,1<<-t,0),c=L$(s)+LF("0",a)}return a>0?l+((i=c.length)<=a?"0."+LF("0",a-i)+c:LG(c,0,i-a)+"."+LG(c,i-a)):l+c}}),Tk({target:"Object",stat:!0,forced:S8(function(){T5(1)})},{keys:function(e){return T5(E4(e))}});RW("Int32",function(e){return function(t,n,r){return e(this,t,n,r)}});var Lq=((MI=Lq||{}).ABR_CHANGE="ABR_CHANGE_A",MI.ABR_UPDATE_SPEC="ABR_UPDATE_SPEC",MI.START_ABR="START_ABR",MI.UPDATE_AUTO_DESC="UPDATE_AUTO_DESC",MI.ABR_START_PROGRESS="ABR_START_PROGRESS",MI.MAX_BUFFER_CHANGE="MAX_BUFFER_CHANGE",MI.NEXT_SEGMENT_PREDICT="NEXT_SEGMENT_PREDICT",MI.ABR_STAT="ABR_STAT",MI.ABR_DEFINITION_REAL_CHANGE="ABR_DEFINITION_REAL_CHANGE",MI.ABR_LIMIT_BITRATE="ABR_LIMIT_BITRATE",MI),LX="__auto__",LJ={PLAYBACK_BITRATE:"avg_play_bitrate",DOWNLOAD_BITRATE:"avg_download_bitrate",DOWNLOAD_NETWORK_SPEED:"avg_download_speed",PREDICT_NETWORK_SPEED:"avg_predict_speed",BUFFER_LENGTH:"avg_buffer_length",QOE:"avg_qoe"},LY=function(){function e(t,n,r,i,o){var a,s,l,c,u,h,d,f,p,v,g,m,y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{logger:function(){},openLog:!1};SJ(this,e),(a=this,s=e,l=[n,r,i,o,y],s=S0(s),m=function(e,t){if(t&&("object"==ot(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(a,S1()?uK(s,l||[],S0(a).constructor):s.apply(a,l)))._bufferRange=new f8,m._sortedBufferRange=[],m._lastCheckResolutionStamp=0,m._currentDefinition=null,m._isSeeking=!1,m._waitingStartTime=0,m._stallCount=0,m._seekState=0,m._stallState=0,m._videoCurrentTime=0,m._hasStart=!1,m._isPaused=!1,m._hasAddFragment=!1,m._eventInfo={local_time_ms:0,internet_speed:0,buffer_length:0,last_bitrate:0,now_bitrate:0,play_speed:1},m._bitrateSet=[],m._generalInfo={},m._currentInAbr=!1,m._hasCalcTimelineLog=!1,m._abr_play_info={start_play_time_ms:0,is_hint:0,playback_info:{internet_speed_record:[],play_bitrate_record:[],buffer_length_record:[],play_speed_record:[],qoe_record:[],qoe_a_record:[],qoe_b_record:[],qoe_c_record:[]}},m._tickCount=0,m._fps=30,m.startTime=performance.now(),m._prevDefinitionItem=null,m._currentItem=null,m._switchCount=0,m._switchBitrate=0,m._avgStatItems={},m._qoeArgs=[0,0,0,0],m._abrUsed=-1,m._abrAlwaysOn=1,m._preloadInfo=null,m._hasLogStartInfo=!1,m._hasExecuteAbrAlgo=!1,m._lastExecuteTimeInMs=0,m._isSegmentDrive=!1,m._prevCurrentTime=-1,m._abrChangeTimeMap={},m._underFlowDecodeCount=0,m._onSegmentPredict=function(e){if(m.isCurrentInAbr&&m._isSegmentDrive){var t=Math.floor(m.downloadSpeed);e.isInitSegment||"video"!==e.mediaType||m._loopAbr(t,e.start,e.fix?e.end:0,e)}},m._onPlay=function(){m._hasStart=!0,m.logger("onplay")},m._onSeeking=function(){var e,t;m._isSeeking=!0,m.player.currentTime<m._videoCurrentTime?m._seekState=-1:m._seekState=1,null===(e=m.module)||void 0===e||null===(t=e._updateSeekInfo)||void 0===t||t.call(e,m._seekState),m.logger("seekState",m._seekState)},m._onSeekEnd=function(){m._isSeeking=!1,m.checkRestart()},m._onWaiting=function(){if(!(m._isSeeking||m._waitingStartTime>0)){for(var e=m.player.video||m.player.media,t=e.buffered,n=e.currentTime,r=!0,i=0;i<t.length;i++){var o=t.start(i),a=t.end(i);if(o<=n&&n<a-(m.autoBitrateOpts.decodeUnderflowBuffer||1)&&e.readyState<HTMLVideoElement.HAVE_ENOUGH_DATA){m._underFlowDecodeCount++,r=!1;break}}var s=m._underFlowDecodeCount>=(m.autoBitrateOpts.decodeUnderflowCount||1),l=m._defaultMaxBitrate>0||m._underflowBitrate>0,c=1===m.autoBitrateOpts.decodeUnderflowMode&&m._isSegmentDrive;if(s&&(l||c)){var u=!0;if(c){var h=m._maxBitrate;m._maxBitrate=m._minBitrate,u=m._maxBitrate!==h}m.player.emit("ABR_LIMIT_BITRATE",{removed:u}),m._underflowBitrate>0&&(m._maxBitrate=m._underflowBitrate)}m._waitingStartTime=(new Date).getTime(),m._stallId=pS(function(){var e,t;clearTimeout(m._stallId),m._stallCount++,m._stallState=1,null===(e=m.module)||void 0===e||null===(t=e.updateWaitingState)||void 0===t||t.call(e,r)},200)}},m._onPlaying=function(){m._waitingStartTime=0,m._stallState=0,clearTimeout(m._stallId),m.checkRestart()},m._onTimeUpdate=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(m._sortedBufferRange&&0!==m._sortedBufferRange.length&&m._currentInAbr&&m.player){m._videoCurrentTime=m.player.currentTime;var n=uQ();if(!(n-m._lastCheckResolutionStamp<1e3&&0!==m._lastCheckResolutionStamp)||t){m._lastCheckResolutionStamp=n;for(var r=m.player.currentTime,i=0,o=m._sortedBufferRange.length-1,a=null;i<=o;){var s=Math.floor(i+(o-i)/2),l=m._sortedBufferRange[s];if(r<l.start)o=s-1;else{if(!(r>=l.end)){a=l;break}i=s+1}}if(a){var c,u=null===(c=m._bitrateToDefinitionConfig)||void 0===c?void 0:c.get(a.bandwidth),h=null==u?void 0:u.definition;if(m._currentDefinition===h&&!t||!h)return void(h||m.logger("error definition, mpd配置与接口配置不一致"));m._currentDefinition=h,m._prevDefinitionItem=m._currentItem,m._currentFps=u.fps,m._currentItem=u,m._emitAutoDescChange(h,!1,m._currentFps,u),m._prevDefinitionItem&&m._currentDefinition&&m._prevDefinitionItem.definition!==m._currentDefinition.definition&&m._emitDefinitionRealChange(a)}}}},m._onCanPlay=function(){m._currentInAbr&&m._currentDefinition&&(m._updateId=pS(function(){clearTimeout(m._updateId),m._emitAutoDescChange(m._currentDefinition,!1,m._currentFps,m._currentItem)},0))},m._onBufferRangeUpdate=function(e){var t;if(void 0!==e.start){null===m._currentItem&&m._onTimeUpdate(null,!0);var n,r=e.start;m._hasAddFragment=!0,m._bufferRange.set(r,e);var i=function(e){if(lA(e))return SX(e)}(n=fS(t=m._bufferRange).call(t))||function(e){if(void 0!==pf&&null!=pp(e)||null!=e["@@iterator"])return pe(e)}(n)||function(e,t){if(e){if("string"==typeof e)return SX(e,t);var n,r=pv(n=({}).toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?pe(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?SX(e,t):void 0}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();m._sortedBufferRange=uC(i).call(i,function(e,t){return e.start-t.start}),m.avgStat(LJ.DOWNLOAD_BITRATE,e.bandwidth)}},m._onReplay=function(){m.checkRestart()},m._onEnded=function(){m.stop()},m._onError=function(){m.stop()},m.start=function(){if(m.logger("start"),m._isPaused=!1,!m._hasCalcTimelineLog){var e=1===Math.floor(100*Math.random());m._abr_play_info.is_hint=e?1:0}m._hasCalcTimelineLog=!0,m._loop()},m.stop=function(){!0===(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&(m._abrAlwaysOn=-1),clearTimeout(m.timerId),m._isPaused=!0,m.logger("stop")},m.logger("constructor",n,r,i,o,m.bitrate),m.player=t,m.isOpenAutoDefi=!!m.autoBitrateOpts.isOpenAutoDefi,m._isSegmentDrive=1===m.autoBitrateOpts.abrDriveMode,m.onPlayRateChange=mT(f=m._onPlayrateChange).call(f,m),m._onWinSizeChange=(c=mT(p=m.onWinElemSizeChange).call(p,m),u=1e3,h=!1,function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=h&&!d;clearTimeout(d),d=pS(function(){d=null,h||c.apply(e,n)},u),i&&c.apply(e,n)}),m._maxDefinition=m.autoBitrateOpts.maxDefinition||null,m._maxBitrate=-1,m.listeners=[{evt:"MAX_BUFFER_CHANGE",handler:mT(v=m._onMaxBufferChange).call(v,m)},{evt:"playbackrateChange",handler:m.onPlayRateChange},{evt:"replay",handler:m._onReplay},{evt:"ended",handler:m._onEnded},{evt:"error",handler:m._onError},{evt:"timeupdate",handler:m._onTimeUpdate},{evt:"addVideoBufferEnd",handler:m._onBufferRangeUpdate},{evt:"canplay",handler:m._onCanPlay},{evt:"play",handler:m._onPlay},{evt:"seeking",handler:m._onSeeking},{evt:"seeked",handler:m._onSeekEnd},{evt:"waiting",handler:m._onWaiting},{evt:"playing",handler:m._onPlaying},{evt:"video_resize",handler:m._onWinSizeChange},{evt:"NEXT_SEGMENT_PREDICT",handler:m._onSegmentPredict}],lI(g=m.listeners).call(g,function(e){var t=e.evt,n=e.handler;m.player.on(t,n)}),m._abrMethod=m.autoBitrateOpts.method||0,m._loopInterval=m.initInterval,Ag.install(),m._maxCacheTimeVideo=m.config.preloadTime||5,m._maxCacheTimeAudio=m._maxCacheTimeVideo;for(var _=lO(LJ),b=0;b<_.length;b++){var w=LJ[_[b]];m._avgStatItems[w]=new LQ}return m}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=SZ(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),h_(e,"prototype",{writable:!1}),t&&S4(e,t)}(e,Lx),SQ(e,[{key:"init",value:function(e){return this._mediaList=e,this.isOpenAutoDefi?this._onLoadWasm():this._wasmPromise.resolve(),this._wasmPromise}},{key:"execute",value:function(){return this.listenSize(),this.initFps(),this.onWinElemSizeChange(),this._execDecision()}},{key:"initFps",value:function(){this.fpsDetection=new Ag,this.fpsDetection.start(),this._fps=this.fpsDetection.fps,this._hasDeviceInfoChanged=!0}},{key:"listenSize",value:function(){window.removeEventListener("resize",this._onWinSizeChange),window.addEventListener("resize",this._onWinSizeChange)}},{key:"onWinElemSizeChange",value:function(){var e,t,n=(null===(e=this.player)||void 0===e?void 0:e.media)||(null===(t=this.player)||void 0===t?void 0:t.video);if(n){var r=n.getBoundingClientRect();this._videoWidth=Math.floor(r.width),this._videoHeight=Math.floor(r.height),this._hasDeviceInfoChanged=!0}}},{key:"execTimeUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._onTimeUpdate(null,e)}},{key:"_onMaxBufferChange",value:function(e){var t=e.videoCacheTime,n=e.audioCacheTime;this._maxCacheTimeAudio=n,this._maxCacheTimeVideo=t}},{key:"_emitAutoDescChange",value:function(e,t,n,r){var i;this.logger("[ABR],emitAutoDescChange, definition, ",e,",item,",r,",pre_item,",this._prevDefinitionItem),null===(i=this.player)||void 0===i||i.emit("UPDATE_AUTO_DESC",{definition:e,reset:t,fps:n,item:r,pre_item:this._prevDefinitionItem})}},{key:"_emitDefinitionRealChange",value:function(e){var t,n=0,r=e.start;this._abrChangeTimeMap[r]&&(this._abrChangeTimeMap[r]=0,delete this._abrChangeTimeMap[r],n=1),null===(t=this.player)||void 0===t||t.emit("ABR_DEFINITION_REAL_CHANGE",{orgDefinition:this._prevDefinitionItem.definition,orgBitrate:this._prevDefinitionItem.bitrate||this._prevDefinitionItem.bandwidth,currentDefinition:this._currentItem.definition,currentBitrate:this._currentItem.bitrate||this._currentItem.bandwidth,abrChange:n})}},{key:"_onPlayrateChange",value:function(){this.module&&this.updateBufferInfo()}},{key:"_execDecision",value:function(){if(!this.isOpenAutoDefi)return 0;var e=0;try{this.logger("exec decision"),this.updateSwitchInfo(),this.transformMediaInfo(),this.updateDeviceInfo();var t=!!this.autoBitrateOpts.isPlayAutoDefi;if(this.isOpenAutoDefi&&t){this._abrUsed=1;var n=this._getDefaultSpeed(this.player);this._isSegmentDrive||(e=this._loopAbr(n)),this.start(),this._changeLoopInterval(),this.logger("time start progress",(new Date).getTime()),this.logger("time costTime",performance.now()-this.startTime)}}catch(e){this.logger("decision error",e),this.logger("time costTime err",performance.now()-this.startTime)}return e}},{key:"_changeLoopInterval",value:function(){var e=this;this.startTimer&&(clearTimeout(this.startTimer),this.startTimer=null),this.startTimer=pS(function(){e._loopInterval=e.interval,e.startTimer&&clearTimeout(e.startTimer),e.logger("interval change")},5e3)}},{key:"_loop",value:function(){var e=this;this._isPaused||this._isSegmentDrive||(clearTimeout(this.timerId),this.timerId=pS(function(){var t,n=e.player,r=e.config;if(e._hasStart&&null!==(t=r.autoBitrateOpts)&&void 0!==t&&t.stillRunWhenPaused||!n.paused||!n.config.autoplay&&!e._hasStart){var i=e._hasAddFragment?void 0:e._getDefaultSpeed(n);e._loopAbr(i)}e._loop()},this._loopInterval))}},{key:"checkRestart",value:function(){var e;null!==(e=this.config.autoBitrateOpts)&&void 0!==e&&e.autoRestartAbr&&this._currentInAbr&&this._isPaused&&this.start()}},{key:"updateDeviceInfo",value:function(){try{if(this.fpsDetection){var e=this.fpsDetection.fps;e!==this._fps&&(this._fps=e,this._hasDeviceInfoChanged=!0)}this._updateDeviceInfo(this._fps)}catch(e){}}},{key:"updateBufferInfo",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.player.video||this.player.media,o=i.playbackRate,a=i.currentTime,s=this.bufferLength;r>0&&this.player&&(s=r-a);var l=e||Math.floor(this.player.downloadSpeed)||0,c=this.player._core||this.player;c&&c.runtime&&(l=c.runtime.speedInfo.averageKBps),this._tickCount<5&&0===l&&(l=this._getDefaultSpeed(this.player),this.logger("initSpeed fix"));var u=-1===this._maxBitrate?this._defaultMaxBitrate:this._maxBitrate;return this.logger("downloadSpeed:",l,"buffer:",s,"maxCacheTimeAudio:",this._maxCacheTimeAudio,"maxCacheVideoTime",this._maxCacheTimeVideo,"seekState",this._seekState,"stallState",this._stallState,"segmentBufferStart",n,"segmentBufferEnd",r),null===(t=this.module)||void 0===t||t._updateBufferInfo(o,this._maxCacheTimeAudio,this._maxCacheTimeVideo,s,this._isSegmentDrive?r:s,l,this._seekState,a,this._stallState,u),this._seekState=0,this._eventInfo={internet_speed:l,buffer_length:s,last_bitrate:this.bitrate,play_speed:o},this.logger("playRate:",o,"buff:",s,"downloadSpeed:",l),{buffer:s,downloadSpeed:l}}},{key:"updateSwitchInfo",value:function(){var e,t,n,r,i=(new Date).getTime();this._openTimeMs=i,this._abr_play_info.start_play_time_ms=i;var o=(null===(n=this.player)||void 0===n?void 0:n.config.preloadTime)||50,a=(t=(e=i).toString(16)).length<=8?{high:0,low:e}:{high:dh(t.substr(0,t.length-8),16),low:dh(t.substr(t.length-8),16)},s=this.autoBitrateOpts.noStallCheckTime||5,l=this.openLog;this.logger("openTime:",i,"this.logger",l),null===(r=this.module)||void 0===r||r._updateSwitchInfo(a.low,a.high,s,l,this.stall_penalty,this.switch_penalty);var c=this._mediaList.video,u=uR(c).call(c,function(e){var t=e.bandwidth,n=e.bitrate;return t||n});this._bitrateSet=uR(u).call(u,function(e,t){return{bitrate:e,codecs:c[t].codecs||c[t].codec_type||""}}),this._generalInfo={max_cache_time:o,bitrate_set:this._bitrateSet,segment_duration:this.segment_duration,preload_info:{},startup_info:{}}}},{key:"updatePreloadCacheInfo",value:function(e){try{this._preloadInfo=e,this.logger("update preloadInfo",e),e&&e.item_num!==e.items.length&&(this.logger("preloadInfo invalid"),this._preloadInfo=null)}catch(e){this.logger("updatePreloadCacheInfo",e),this._preloadInfo=null}}},{key:"updatePreloadLogInfo",value:function(e){this._generalInfo.preload_info=e||{}}},{key:"_loopAbr",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._tickCount++;var i=-1,o=[];if(!this.module||!this.player)return this.bitrate;try{var a,s=(new Date).getTime(),l=this.player;this.updateDeviceInfo();var c=this.updateBufferInfo(e,t,n),u=c.downloadSpeed;if(c.buffer,this.module.updateDropFrame&&l.video.getVideoPlaybackQuality){var h,d=l.video.getVideoPlaybackQuality(),f=d.droppedVideoFrames/d.totalVideoFrames;null===(h=this.module)||void 0===h||h.updateDropFrame(f)}i=this.module._getPredictedBitrate(this.bitrate,this._abrMethod);for(var p=0;p<7;p++)o.push(this.module.HEAP32[i/Int32Array.BYTES_PER_ELEMENT+p]);var v=o[0],g=1===o[1];this._eventInfo.now_bitrate=v,this._eventInfo.local_time_ms=(new Date).getTime();var m=0;if(v!==this.bitrate&&0!==v||this.autoBitrateOpts.reportVerboseAbrLog){var y=this.player.currentTime;if(this.module.getStat){var _=this.module.getStat();l.emit("ABR_STAT",S5(S5({v_time:y,diff_current_position:-1===this._prevCurrentTime?0:y-this._prevCurrentTime,net_speed:8*u,costTime:(new Date).getTime()-s,download_time:null==r?void 0:r.costTime},_),{},{gop_size:null==r?void 0:r.gopSize,audio_buffer:null==r?void 0:r.audioBuffer})),this._abrChangeTimeMap[_.download_position]=1}this._prevCurrentTime=y}if(v!==this.bitrate&&0!==v){var b,w,S=this.bitrate;m=Math.abs(S-v);for(var E=[],k=(l.media||l.video).buffered,T=0;T<k.length;T++)E.push({start:k.start(T),end:k.end(T)});this._videoWidth||this.config.width,this._videoHeight||this.config.height;var x=(new Date).getTime();l.currentTime,this._seekState,this._stallState,window&&window.devicePixelRatio,l.playbackRate,this._bitrateSet,this._abrMethod,this._hasExecuteAbrAlgo&&this._lastExecuteTimeInMs,this._lastExecuteTimeInMs=x,this._hasExecuteAbrAlgo=!0,this.logger(uu(b="abr predicate: ".concat(v,", prevBitrate: ")).call(b,S,","),uu(w="willStall: ".concat(g,", switchBitrate: ")).call(w,m)),this.updateBitrate(v),l.emit("ABR_CHANGE_A",{prevBitrate:S,curBitrate:v})}this._hasLogStartInfo||(this._hasLogStartInfo=!0,this._generalInfo.startup_info={predict_bitrate:v,download_speed:u,screen_width:this._videoWidth||Number(this.config.width),screen_height:this._videoHeight||Number(this.config.height),device_pixel_ratio:window&&window.devicePixelRatio,screen_fps:this._fps,startup_method:this._abrMethod}),null===(a=this.player)||void 0===a||a.emit("ABR_LOOP"),this.onAbrLoop(u,o[2],m,pv(o).call(o,3))}catch(e){this.logger("abr error",e)}finally{i>-1&&this.module._free(i)}return this.bitrate}},{key:"destroy",value:function(){var e,t,n=this;this.stop(),lI(e=this.listeners).call(e,function(e){var t,r=e.evt,i=e.handler;null===(t=n.player)||void 0===t||t.off(r,i)}),this._maxBitrate=-1,this.player=null,this._heightToDefinitionConfig=null,this._bitrateToDefinitionConfig=null,this._bitrateToDefinitionConfig=null,this._bufferRange.clear(),this._sortedBufferRange=[],this.module=null,clearTimeout(this._stallId),clearTimeout(this._updateId),this.startTimer&&clearTimeout(this.startTimer),window.removeEventListener("resize",this._onWinSizeChange),null===(t=this.fpsDetection)||void 0===t||t.stop()}},{key:"eventInfo",get:function(){return this._eventInfo}},{key:"generalInfo",get:function(){return this._generalInfo}},{key:"bufferLength",get:function(){var e,t,n=(null===(e=this.player)||void 0===e?void 0:e.getBufferedRange())||[],r=((null===(t=this.player)||void 0===t?void 0:t.video)||{currentTime:0}).currentTime;return dP(Math.max(0,n[1]-Math.max(n[0],r)).toFixed(2))}},{key:"downloadSpeed",get:function(){var e=Math.floor(this.player.downloadSpeed)||0,t=this.player._core||this.player;return t&&t.runtime&&(e=t.runtime.speedInfo.averageKBps),e}},{key:"nowBitrate",get:function(){return this.bitrate}},{key:"openTimeMs",get:function(){return this._openTimeMs}},{key:"isCurrentInAbr",get:function(){return this._currentInAbr},set:function(e){this._currentInAbr=e}},{key:"isCurrentHDR",get:function(){return this._isCurrentHDR},set:function(e){this._isCurrentHDR=e}},{key:"onAbrLoop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(this._qoeArgs=r,this._currentItem&&this.avgStat(LJ.PLAYBACK_BITRATE,this._currentItem.bitrate),this.avgStat(LJ.DOWNLOAD_NETWORK_SPEED,1e3*e*8),this.avgStat(LJ.PREDICT_NETWORK_SPEED,t),this.avgStat(LJ.BUFFER_LENGTH,this.bufferLength),this.avgStat(LJ.QOE,this.getQoeRelValue(0)),n>0&&(this._switchCount++,this._switchBitrate+=n),this._abr_play_info.is_hint){var i=((new Date).getTime()-this.openTimeMs)/1e3;i=dP(i.toFixed(2));var o=this.player.video||this.player.media,a=(null==o?void 0:o.playbackRate)||1;this._abr_play_info.playback_info.internet_speed_record.push([i,this.downloadSpeed]),this._abr_play_info.playback_info.play_bitrate_record.push([i,this.nowBitrate]),this._abr_play_info.playback_info.buffer_length_record.push([i,this.bufferLength]),this._abr_play_info.playback_info.play_speed_record.push([i,a||-1]),this._abr_play_info.playback_info.qoe_record.push([i,this.getQoeRelValue(0)]),this._abr_play_info.playback_info.qoe_a_record.push([i,this.getQoeRelValue(1)]),this._abr_play_info.playback_info.qoe_b_record.push([i,this.getQoeRelValue(2)]),this._abr_play_info.playback_info.qoe_c_record.push([i,this.getQoeRelValue(3)])}}},{key:"getQoeRelValue",value:function(e){return this._qoeArgs[e]/100}},{key:"avgStat",value:function(e,t){var n=this._avgStatItems[e];n&&n.add(t)}},{key:"getAbrPlayInfo",value:function(){return this._abr_play_info}},{key:"updateAbrMethod",value:function(e){this._abrMethod=e}},{key:"getAbrMethod",value:function(){return this._abrMethod}},{key:"updateSegmentDuration",value:function(e){var t;this.segment_duration=e,null!==(t=this.module)&&void 0!==t&&t.updateSegmentDuration&&this.module.updateSegmentDuration(e)}},{key:"getAbrVVStats",value:function(){for(var e={},t=lO(LJ),n=0;n<t.length;n++){var r=LJ[t[n]],i=this._avgStatItems[r];e[r]=i.avg()}return e.switch_counts=this._switchCount,e.avg_switch_bitrate=0===this._switchCount?0:this._switchBitrate/this._switchCount,e.abr_qoe=this.getQoeRelValue(0),e.abr_qoe_a=this.getQoeRelValue(1),e.abr_qoe_b=this.getQoeRelValue(2),e.abr_qoe_c=this.getQoeRelValue(3),e.abr_method=this._abrMethod,e.abr_used=this._abrUsed,e.abr_always_on=this._abrAlwaysOn,this.logger("abrVVStats",e),e}}])}(),LQ=SQ(function e(){SJ(this,e),this.total=0,this.count=0},[{key:"add",value:function(e){this.total+=e,this.count++}},{key:"avg",value:function(){return 0===this.count?0:Math.floor(this.total/this.count)}}]),L0=new u7("VeStrategy-abr-plugin"),L1={LOADDATA:"loadeddata",SEG_DONE:"webcodec_segment_done",ADD_VIDEO_BUFFER_END:"addVideoBufferEnd",DefinitionChange:"DefinitionChange"},L2=function(){function e(t){var n,r,i,o;return lk(this,e),oX((r=this,i=e,o=[t],i=uV(i),n=uD(r,uG()?uK(i,o||[],uV(r).constructor):i.apply(r,o))),"_abrInstance",void 0),oX(n,"_bitrateMap",{}),oX(n,"_videoList",[]),oX(n,"_hasUpdateGopSize",!1),oX(n,"_timerId",null),oX(n,"_onDefintionChange",function(e){e.to&&e.to.definition!==LX&&n._abrInstance.isCurrentInAbr&&(n._abrInstance.isCurrentInAbr=!1,n._abrInstance.stop(!0),n._updateAutoDefiDesc("",!0)),e.hack&&n.config.startWhenAuto&&(n._abrInstance.start(),n._abrInstance.isCurrentInAbr=!0,n._clearTimer(),n._timerId=pS(function(){n._abrInstance._onTimeUpdate(null,!0)},0))}),oX(n,"_onSegDone",function(e){n._hasUpdateGopSize||n._abrInstance.readyPromise().then(function(){n._hasUpdateGopSize=!0,n._abrInstance.updateSegmentDuration(Math.round(e.end-e.start))}),n.player.emit(L1.ADD_VIDEO_BUFFER_END,e),n.player.emit(Lq.NEXT_SEGMENT_PREDICT,oY(oY({},e),{},{fix:!0}))}),oX(n,"_initAbrData",lE(lw().mark(function e(){var t,r,i;return lw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.playerConfig,!n._abrInstance){e.next=2;break}return n._abrInstance.updateBitrate(t.baseConfig.mediaInfo.bitrate),i=uR(r=n._videoList).call(r,function(e){return{bitrate:e.bitrate||e.bandwidth,codecs:e.codecs,height:e.height||e.vheight,width:e.width||e.vwidth,definition:e.definition}}),e.next=1,n._abrInstance.init({video:i});case 1:n._abrInstance.execute(),n._abrInstance.updateBufferInfo();case 2:case"end":return e.stop()}},e)}))),oX(n,"_onUpdateAutoDesc",function(e){var t=e.definition,r=e.reset,i=e.fps,o=e.item;r||SB(n.player,"curDefinition",oY({},o)),n._setAudioDefinition(),L0.info("abr update auto desc",t,r,i,o),n._updateAutoDefiDesc(t,r,i,o)}),oX(n,"_onAbrChange",function(e){var t,r=e.prevBitrate,i=e.curBitrate,o=n._bitrateMap[r],a=n._bitrateMap[i],s=null==o?void 0:o.definition,l=null==a?void 0:a.definition;if(L0.info("abr change prevD:",s,"curDef:".concat(l)),s!==l&&a&&(null===(t=n.player)||void 0===t||t.emit("ABR_CHANGE",{prev:s,cur:l,prevName:o.definitionName,curName:a.definitionName}),L0.info("abrSwitch",a.url),n.player.seamlessSwitch)){var c=SU(n.player);n.player.seamlessSwitch({url:void 0,urlList:a.url,dashMode:1,abr:!0,mediaInfo:{size:a.size,bitrate:a.bitrate,file_id:a.file_id,id:c}})}}),n}return uZ(e,uW),lx(e,[{key:"afterPlayerInit",value:function(){this._init(),this._bindEvents()}},{key:"beforeDestroy",value:function(){var e;this._clearTimer(),this._unBindEvents(),null===(e=this._abrInstance)||void 0===e||e.destroy(),this._abrInstance=null}},{key:"_init",value:function(){var e,t,n,r=this.config,i=this.player,o=this.playerConfig,a=!!r.isPlayAutoDefi,s=!!r.isOpenAutoDefi,l=(null===(e=o.shared)||void 0===e||null===(e=e.definition)||void 0===e?void 0:e.list)||[],c=(null===(t=o.shared)||void 0===t?void 0:t.definition.extraList)||[];l=uu(l).call(l,c);var u=[];this._videoList=u;for(var h=0;h<l.length;h++)if("video"===l[h].mediaType){u.push(l[h]);var d=l[h].bitrate||l[h].bandwidth;this._bitrateMap[d]=l[h]}this._abrInstance=new LY(i,{autoBitrateOpts:this.config},0,{dynamic_video_list:u},5e3,{logger:function(e){L0.info(e)},openLog:!0}),this._abrInstance.isCurrentInAbr=a&&s,null===(n=this._abrInstance)||void 0===n||n.updateBitrate(1);var f=uI(l).call(l,function(e){return 1===e.bitrate&&e.url!==LX})[0];this._abrInstance&&f&&(this._abrInstance.isCurrentHDR=!!f.isHDR)}},{key:"_bindEvents",value:function(){var e=this.player;e.on(Lq.UPDATE_AUTO_DESC,this._onUpdateAutoDesc),e.on(Lq.ABR_CHANGE,this._onAbrChange),e.on(L1.LOADDATA,this._initAbrData),e.on(L1.DefinitionChange,this._onDefintionChange),e._core&&e._core.on(L1.SEG_DONE,this._onSegDone)}},{key:"_clearTimer",value:function(){this._timerId&&(clearTimeout(this._timerId),this._timerId=null)}},{key:"_unBindEvents",value:function(){var e=this.player;e.off(Lq.UPDATE_AUTO_DESC,this._onUpdateAutoDesc),e.off(Lq.ABR_CHANGE,this._onAbrChange),e.off(L1.LOADDATA,this._initAbrData),e._core&&e._core.off(L1.SEG_DONE,this._onSegDone),e.off(L1.DefinitionChange,this._onDefintionChange)}},{key:"_setAudioDefinition",value:function(){var e=this.player,t=this.playerConfig;if(e.curDefinition&&"object"===ot(e.curDefinition)){var n,r=e.curDefinition.audio_file_id;if(!r)return;var i=(null===(n=t.shared)||void 0===n||null===(n=n.definition)||void 0===n?void 0:n.list)||[],o=uI(i).call(i,function(e){return"audio"===e.mediaType});if(o.length>0)try{e.curDefinition.audioDefinition=uI(o).call(o,function(e){return e.file_id===r})[0]}catch(e){}}}},{key:"_updateAutoDefiDesc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=this.player,o=(this.config.autoBitrateOpts||{}).autoDefiText||"auto";if(i.emit("ABR_AUTO_DESC_CHANGE",o,t?void 0:e,n,r),!t){var a,s=r?r.fps:void 0;SB(i,"currentDefitionFromPlayer",{definition:"自动 ".concat(e),fps:s,item:r}),null!==(a=this._abrInstance)&&void 0!==a&&a.isCurrentInAbr||(SB(i,"curDefinition",oY({},r)),this._setAudioDefinition())}}}],[{key:"pluginName",get:function(){return"VeStrategyAbrPlugin"}},{key:"defaultConfig",get:function(){return{startWhenAuto:!1}}}])}(),L5=function(){function e(t){var n,r,i;return lk(this,e),n=this,r=e,i=[t],r=uV(r),uD(n,uG()?uK(r,i||[],uV(n).constructor):r.apply(n,i))}return uZ(e,uq),lx(e,[{key:"getRecommendation",value:function(){var e={plugins:[],pluginConfiguration:{},result:{enable:!0}};return this.config.enable&&(e.plugins=[L2],e.pluginConfiguration=oX({},L2.pluginName,oY({},this.config))),e.result=oY(oY({},this.config),{},{enable:!0}),e}}])}();oX(L5,"strategyName",u5.abr),oX(L5,"strategyPriority",u3.abr);var L4=new u7("VeStrategy-adapt-range"),L3=function(){function e(t){var n,r,i,o,a;return lk(this,e),i=this,o=e,a=[t],o=uV(o),r=uD(i,uG()?uK(o,a||[],uV(i).constructor):o.apply(i,a)),L4.update(null===(n=t.ctx.dataCenter)||void 0===n||null===(n=n.getAppConfig())||void 0===n?void 0:n.log),L4.info("VeStrategyAdaptRangeInit"),r}return uZ(e,uq),lx(e,[{key:"getRecommendation",value:function(e){if(!this.config||!1===this.config.enable)return{plugins:[],pluginConfiguration:{},result:{enable:!1}};var t,n={plugins:[],pluginConfiguration:{},result:{}};if(null!=e&&e.vtype&&hu(t=[u2.DASH,u2.MP4]).call(t,e.vtype)){var r=this.adaptRange(e);r&&(n.result=r)}return n}},{key:"adaptRange",value:function(e){if(null==e||!e.vtype||!hu(t=[u2.DASH,u2.MP4]).call(t,e.vtype))return L4.info("adaptRangeNotEnableOrIllegalVType",e),null;var t,n=this.ctx.featureCenter.getFeatureList(),r=this.config[e.vtype]||{};if(e.videoLabel&&r[e.videoLabel]&&(r=oY(oY({},r),r[e.videoLabel])),this.config.whiteList){var i=fx(this.config.whiteList,{browserVersion:n.browserVersion,CPUCore:n.cpuCore,browserName:n.browserName,vtype:e.vtype,duration:e.duration});L4.info("adaptRangeKvMatch",i),i&&(r=oY(oY({},r),i))}return r}}])}();oX(L3,"strategyName",u5.adaptRange),oX(L3,"strategyPriority",u3.adaptRange);var L6=["cdn"],L9=0,L7=function(){function e(){lk(this,e);for(var t,n,r,i,o,a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return oX((r=this,i=e,o=uu(t=[]).call(t,s),i=uV(i),n=uD(r,uG()?uK(i,o||[],uV(r).constructor):i.apply(r,o))),"_channel",void 0),oX(n,"appendList",function(t,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"cdn";e.speedListCache&&e.speedListCache[o]&&(e.speedListCache[o].length>=n.saveSpeedMax&&e.speedListCache[o].shift(),e.speedListCache[o].push({speed:t,bytes:r,time:i}),n._updateSpeed(o))}),oX(n,"_onChannelMessage",function(e){if("speedSample"===e.data.type){var t=e.data.data,r=t.speed,i=t.bytes,o=t.timestamp,a=t.type;n.appendList(8*r,i,o,a||"cdn")}}),oX(n,"_onChannelError",function(e){}),n}return uZ(e,uW),lx(e,[{key:"saveSpeedMax",get:function(){var e,t=null===(e=this.config)||void 0===e?void 0:e.saveSpeedMax;return"number"==typeof t?t:20}},{key:"avgSpeed",get:function(){return L9},set:function(e){var t;L9=e,null===(t=this._channel)||void 0===t||t.postMessage({type:"speedAvg",data:{value:e}})}},{key:"afterPlayerInit",value:function(){var e=this.player._core;"undefined"!=typeof BroadcastChannel&&(this._channel=new BroadcastChannel(e._cfg.broadcastChannelName),this._channel.addEventListener("message",this._onChannelMessage),this._channel.addEventListener("error",this._onChannelError));var t=this.config.addSpeedTypeList;if(lA(t)){var n,r=i7(new us(uu(n=[]).call(n,L6,i7(t))));L6.length=0,L6.push.apply(L6,i7(r))}this._initSpeedList()}},{key:"destroy",value:function(){this._channel&&(this._channel.removeEventListener("message",this._onChannelMessage),this._channel.removeEventListener("error",this._onChannelError),this._channel.close(),this._channel=void 0)}},{key:"getSpeedName",value:function(e,t){return e+"Speed"+t.toUpperCase()}},{key:"_updateSpeed",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cdn",n=e.getAvgSpeedKbs(t),r=this.player;if(r){var i=!1;if("cdn"===t)this.avgSpeed&&n===this.avgSpeed||(this.avgSpeed=n,i=!0);else{var o=this.getSpeedName("avg",t);this[o]&&n===this[o]||(this[o]=n,i=!0)}i&&r.emit("download_speed_change",{type:t,speed:n})}}},{key:"_initSpeedList",value:function(){lI(L6).call(L6,function(t){e.speedListCache[t]||(e.speedListCache[t]=[])})}}],[{key:"pluginName",get:function(){return"testspeed"}},{key:"speedSampleList",get:function(){return e.speedListCache}},{key:"getAvgSpeedKbs",value:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cdn";if(!e.speedListCache||!e.speedListCache[n]||e.speedListCache[n].length<=0)return -1;var r=0;return uR(t=e.speedListCache[n]).call(t,function(e){r+=e.speed}),Math.floor(r/e.speedListCache[n].length)}},{key:"getWeightedSpeedKbs",value:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cdn",r=-1;if(!e.speedListCache||!e.speedListCache[n]||e.speedListCache[n].length<=0)return r;var i=[];lI(t=e.speedListCache[n]).call(t,function(e){i.push(e)}),uC(i).call(i,function(e,t){return e.speed-t.speed});for(var o=i.length,a=0,s=0;s<o;s++)a+=i[s].bytes;a/=2;for(var l=0;l<o;l++)(a-=i[l].bytes)<=0&&(r=i[l].speed);return r<0?-1:r}}])}();oX(L7,"speedListCache",{});var L8=((MO=L8||{})[MO.UNKNOWN=0]="UNKNOWN",MO[MO.USER_SELECT=1]="USER_SELECT",MO[MO.SR=2]="SR",MO[MO.BUFFER_INFO_ONLY_ONE_ITEM=3]="BUFFER_INFO_ONLY_ONE_ITEM",MO[MO.BUFFER_INFO_TARGET_NOT_FOUND=4]="BUFFER_INFO_TARGET_NOT_FOUND",MO[MO.BUFFER_INFO_FIND_ADAPT_BITRATE=5]="BUFFER_INFO_FIND_ADAPT_BITRATE",MO),Me=lx(function e(){lk(this,e),oX(this,"type",0),oX(this,"reason","")});function Mt(e,t,n){return 1===n?function(e,t){if(!e)return null;for(var n=-1,r=0;r<e.length;r++){var i=e[r];if(i&&i._xgOrgBitrate&&t>=i._xgOrgBitrate){n=r;break}}return n<0?null:e[n]}(e,t):function(e,t){if(!e)return null;var n=1/0,r=null;return lI(e).call(e,function(e){var i=Math.abs(e._xgOrgBitrate-t);n>i&&(r=e,n=i)}),r||null}(e,t)}function Mn(e,t){return lI(e).call(e,function(e){e[t]?e._xgOrgBitrate=e[t]:e.bitrate&&(e._xgOrgBitrate=e.bitrate)}),e}var Mr=lx(function e(t){lk(this,e),oX(this,"analysis",void 0),oX(this,"_config",void 0),this._config=lz({},t)},[{key:"select",value:function(e,t,n){if(e.length<=1)return e[0];var r,i=n.autoBitrateParams,o=i.paramA,a=i.paramB,s=i.paramC,l=i.paramD;this._config=lz({},n);var c=this._config.defaultBitrate,u=t<=0||!t?c:o*Math.pow(t,3)+a*Math.pow(t,2)+s*t+l;return(r=Mt(e,u,n.selectAlgType))||(r=e[e.length-1]),r._targetBitrate=u,r}}]),Mi=lx(function e(t){var n=this;lk(this,e),oX(this,"player",void 0),oX(this,"_timer",null),oX(this,"_prevPauseTime",0),oX(this,"_prevStallTime",0),oX(this,"_prevCurrentTime",0),oX(this,"_info",void 0),oX(this,"_onPlay",function(){n._calcPausedTime()}),oX(this,"_onPause",function(){n._prevPauseTime=uQ()}),oX(this,"_onEnded",function(){!n._info.downloadDuration&&n._info.canPlayTime&&(n._info.downloadDuration=(uQ()-n._info.canPlayTime)/1e3),n.disable()}),oX(this,"_canPlay",function(){n._info.canPlayTime=uQ();var e,t=null===(e=n.player)||void 0===e?void 0:e.buffered;t&&t.length&&(n._info.startBufferTime=t.end(t.length-1))}),oX(this,"_onProgress",function(){var e=n.player;if(e){var t=e.buffered;n._info.canPlayTime&&t&&t.length&&t.end(t.length-1)+.8>e.duration&&(n._info.downloadDuration=(uQ()-n._info.canPlayTime)/1e3)}}),oX(this,"_onTick",function(){var e=n.player;if(e){n._timer=pS(n._onTick,500);var t=e.currentTime;(!e.paused||e.ended||0===e.playbackRate||0===e.readyState)&&(n._prevCurrentTime===t?n._prevStallTime||(n._prevStallTime=uQ()):n._calcStallTime()),n._prevCurrentTime=t}}),this.player=t,this.resetInfo(),this.enable()},[{key:"isStalling",get:function(){return!!this._prevStallTime}},{key:"destroy",value:function(){this.disable(),this.player=void 0}},{key:"enable",value:function(){this.disable();var e=this.player;e&&(e.on("play",this._onPlay),e.on("pause",this._onPause),e.on("canplay",this._canPlay),e.on("progress",this._onProgress),e.on("ended",this._onEnded),this._timer=pS(this._onTick,500))}},{key:"disable",value:function(){this._timer&&(clearTimeout(this._timer),this._timer=null),this.resetInfo();var e=this.player;e&&(e.off("play",this._onPlay),e.off("pause",this._onPause),e.off("canplay",this._canPlay),e.off("progress",this._onProgress),e.off("ended",this._onEnded))}},{key:"endPlay",value:function(){if(this.player){var e=this.player.buffered;if(e.length)try{this._info.endBufferTime=e.end(e.length-1)}catch(e){}this._info.leaveWithBlock=this.isStalling,this._calcPausedTime(),this._calcStallTime(),!this._info.downloadDuration&&this._info.canPlayTime&&(this._info.downloadDuration=(uQ()-this._info.canPlayTime)/1e3)}}},{key:"getInfo",value:function(){return this._info}},{key:"resetInfo",value:function(){this._prevPauseTime=0,this._prevStallTime=0,this._prevCurrentTime=0,this._info={pausedTime:0,stalledTime:0,downloadDuration:0,startBufferTime:0,endBufferTime:0,canPlayTime:0,leaveWithBlock:!1}}},{key:"_calcStallTime",value:function(){this._prevStallTime&&(this._info.stalledTime+=(uQ()-this._prevStallTime)/1e3,this._prevStallTime=0)}},{key:"_calcPausedTime",value:function(){this._prevPauseTime&&(this._info.pausedTime+=(uQ()-this._prevPauseTime)/1e3,this._prevPauseTime=0)}}]),Mo=lx(function e(){lk(this,e),oX(this,"_queue",[]),oX(this,"_current",{}),oX(this,"_config",{defaultTargetBitrate:1e6,paramBf:1e-6,paramBp:1e-6,paramUpperBl:1.2,paramUpper:1.2,paramLower:.5,slidingWindowWeight:"time",slidingWindowType:"by_weight",slidingWindowWeightThreshold:1e3,slidingWindowCountThreshold:10,paramVlLower:.8,paramVlUpper:.9,paramVl1:.8,paramVl2:1e3,bitrateLower:1e5,bitrateUpper:1e6,slidingWindowExtraction:"weighted_median"})},[{key:"queue",get:function(){return this._queue}},{key:"setConfig",value:function(e){lz(this._config,e||{})}},{key:"setCurrent",value:function(e){lz(this._current,e)}},{key:"getCurrent",value:function(){return this._current}},{key:"resetCurrent",value:function(){this._current={}}},{key:"calcAndReset",value:function(){var e=this._current,t=e.startBufferTime,n=e.duration,r=e.endBufferTime,i=e.leaveWithBlock,o=e.stalledTime,a=e.pausedTime,s=e.downloadDuration,l=e.bitrate;if(n&&l&&r){var c,u,h,d=this._config,f=d.paramBf,p=d.paramBp,v=d.paramUpperBl,g=d.paramUpper,m=d.slidingWindowWeight,y=d.slidingWindowType,_=d.slidingWindowWeightThreshold,b=d.slidingWindowCountThreshold,w=1+((r-t)*f-(o+a)*p)/s;i&&(w=Math.min(w,v));var S=l*Math.max(g,w),E=0;if(E="time"===m?Math.min(s,n+o):Math.min(s,n)*l,this._queue.push([S,E,this._current]),"by_weight"===y){this._queue=pv(c=this._queue).call(c,-30);for(var k=hY(u=this._queue).call(u,function(e,t){return e+t[1]},0)-_;k>0;){var T=this._queue.shift();if(!T)break;if(T[1]>k){T[1]-=k,this._queue.unshift(T);break}k-=T[1]}}else this._queue=pv(h=this._queue).call(h,-b);this.resetCurrent()}else this.resetCurrent()}},{key:"getDefaultBitrate",value:function(e){if(!e||0===e.length)return 0;for(var t=this._config.defaultTargetBitrate||1e6,n=0,r=0;r<e.length;r++)e[r]._xgOrgBitrate<=t&&e[r]._xgOrgBitrate>=n&&(n=e[r]._xgOrgBitrate);return n||(n=e[e.length-1]._xgOrgBitrate),n}},{key:"getTargetBitrate",value:function(e,t){if(!this._queue.length||!e)return 0;var n,r=this._config,i=r.paramVlLower,o=r.paramVlUpper,a=r.paramVl1,s=r.paramVl2,l=r.bitrateLower,c=r.bitrateUpper,u=r.slidingWindowExtraction,h=0,d=hY(f=this._queue).call(f,function(e,t){return e+t[1]},0);if("weighted_median"===u){var f,p,v=d/2,g=1/0,m=0;lI(p=this._queue).call(p,function(e){(m=Math.abs(v-e[1]))<g&&(h=e[0],g=m)})}else h=hY(n=this._queue).call(n,function(e,t){return e+t[1]/d*t[0]},0);return Math.max(l,Math.min(c,h*Math.min(o,Math.max(i,a+s/e))))}}]),Ma="object"===("undefined"==typeof window?"undefined":ot(window))&&window.playerBitrateSelectorRuler?window.playerBitrateSelectorRuler:new Mo;"object"!==("undefined"==typeof window?"undefined":ot(window))||window.playerBitrateSelectorRuler||(window.playerBitrateSelectorRuler=Ma);var Ms=lx(function e(t,n){var r=this;lk(this,e),oX(this,"analysis",void 0),oX(this,"_rule",void 0),oX(this,"_player",void 0),oX(this,"_playingInfo",void 0),oX(this,"_selectAlgType",void 0),oX(this,"_onEnded",function(){r._updateInfo()}),oX(this,"_onPlayNext",function(){r._updateInfo()}),this._player=t,this._rule=Ma,this._selectAlgType=n.selectAlgType,this._playingInfo=t?new Mi(t):void 0,this._rule.setConfig(n),this._bindEvent()},[{key:"select",value:function(e){if(!e.length)return null;var t,n=e[0].duration||0,r=null;1===e.length&&(r=e[0],this.analysis&&(this.analysis.type=L8.BUFFER_INFO_ONLY_ONE_ITEM));var i=0;return r||((i=this.getTargetBitrate(n,e))?(r=Mt(e,i,this._selectAlgType),this.analysis&&(this.analysis.type=L8.BUFFER_INFO_FIND_ADAPT_BITRATE,this.analysis.reason=l5({selectAlgType:this._selectAlgType,targetBitRate:i}))):(r=e[0],this.analysis&&(this.analysis.type=L8.BUFFER_INFO_TARGET_NOT_FOUND,this.analysis.reason=l5({duration:n,itemsLen:e.length,ruleQueueLen:Ma.queue.length}))),r&&(r._targetBitrate=i)),Ma.resetCurrent(),r&&Ma.setCurrent({bitrate:r.bitrate,_xgOrgBitrate:r._xgOrgBitrate,duration:n}),null===(t=this._playingInfo)||void 0===t||t.enable(),r}},{key:"getTargetBitrate",value:function(e,t){return Ma.getTargetBitrate(e,t)}},{key:"destroy",value:function(){var e;this._endPlay(),this._player&&(null===(e=this._playingInfo)||void 0===e||e.destroy(),this._player.off("ended",this._onEnded),this._player.off("playnext",this._onPlayNext))}},{key:"_bindEvent",value:function(){if(!this._player)return this._player;this._player.on("ended",this._onEnded),this._player.on("playnext",this._onPlayNext)}},{key:"_updateInfo",value:function(){if(this._playingInfo){this._playingInfo.endPlay();var e=this._playingInfo.getInfo();this._playingInfo.resetInfo(),Ma.setCurrent({downloadDuration:e.downloadDuration||Ma.getCurrent().duration,startBufferTime:e.startBufferTime,endBufferTime:e.endBufferTime,pausedTime:e.pausedTime,stalledTime:e.stalledTime,leaveWithBlock:e.leaveWithBlock})}Ma.calcAndReset()}},{key:"_endPlay",value:function(){var e;this._updateInfo(),null===(e=this._playingInfo)||void 0===e||e.disable()}}]),Ml=lx(function e(){lk(this,e),oX(this,"analysis",void 0)},[{key:"select",value:function(e,t,n){if(e.length<=1)return e[0];var r=n.autoBitrateParams,i=r.paramA,o=r.paramB,a=r.paramC,s=r.paramD,l=n.defaultBitrate,c=-1===t?l:i*Math.pow(t,3)+o*Math.pow(t,2)+a*t+s,u=null;return(u=Mt(e,c,n.selectAlgType)||null)||(u=e[e.length-1]),u._targetBitrate=c,u}}]),Mc=20,Mu=((MA=Mu||{}).SIMPLE="simple",MA.BUFFER_INFO="buffer-info",MA.BANDWIDTH="bandwidth-buffer",MA),Mh=((MP=Mh||{}).AVG="avg",MP.WEIGHT="weight",MP),Md=lx(function e(t,n){var r,i=this;lk(this,e),oX(this,"config",e.defaultConfig),oX(this,"speed",0),oX(this,"_analysis",void 0),oX(this,"_selectorMap",void 0);var o=t.config||{};uR(r=lO(o)).call(r,function(e){i.config[e]=o[e]}),this._selectorMap=oX(oX(oX({},"simple",new Ml),"buffer-info",new Ms(n,this.config)),"bandwidth-buffer",new Mr(this.config))},[{key:"analysis",get:function(){return this._analysis},set:function(e){var t,n=this;e&&(this._analysis=e,uR(t=lO(this._selectorMap)).call(t,function(t){n._selectorMap[t].analysis=e}))}},{key:"select",value:function(e,t,n){if(this.config.disabled)return null;t=t||this.config.mode;var r=this.config,i=r.bitrateRange,o=r.defaultBitrate,a=uC(s=uI(e=Mn(e,r.bitrateKey)).call(e,function(e){return void 0===e._xgOrgBitrate||e._xgOrgBitrate>=i[0]&&e._xgOrgBitrate<=i[1]})).call(s,function(e,t){return"number"==typeof t._xgOrgBitrate&&"number"==typeof e._xgOrgBitrate?t._xgOrgBitrate-e._xgOrgBitrate:0});if(!a.length){var s,l,c=1/0;lI(e).call(e,function(e){var t=Math.abs(e._xgOrgBitrate-o);t<c&&(l=e,c=t)}),l&&a.push(l)}var u=(this._selectorMap[t]||this._selectorMap.simple).select(a,n,this.config);return u&&(u.filterRateCnt=(null==a?void 0:a.length)||0,u.isFilterMaxRate=function(e,t){if(null==e||!e.length||!t||!t._xgOrgBitrate)return -1;var n,r,i=e.length-1;return(null===(n=e[0])||void 0===n?void 0:n._xgOrgBitrate)>=(null===(r=e[e.length-1])||void 0===r?void 0:r._xgOrgBitrate)&&(i=0),e[i]._xgOrgBitrate<=t._xgOrgBitrate?1:0}(a,u)),u}},{key:"selector",get:function(){var e=this.config.mode;return this._selectorMap[e]||this._selectorMap.simple}},{key:"getTargetBitrate",value:function(e,t){var n=this.selector;if("getTargetBitrate"in n)return n.getTargetBitrate(e,t)}},{key:"addSelect",value:function(e,t){var n=e||t.name;this._selectorMap[n]=t}},{key:"destroy",value:function(){var e,t=this._selectorMap;lI(e=lO(t)).call(e,function(e){var n=t[e];"destroy"in n&&"function"==typeof n.destroy&&n.destroy()})}}],[{key:"defaultConfig",get:function(){return{disabled:!1,paramBf:.3,paramBp:.5,paramUpper:1.5,paramLower:.6,paramUpperBl:.7,paramVl1:.7,paramVl2:1e3,paramVlUpper:.9,paramVlLower:.8,bitrateUpper:2e6,bitrateLower:2e5,slidingWindowType:"by_weight",slidingWindowWeight:"size",slidingWindowWeightThreshold:3e5,slidingWindowCountThreshold:30,slidingWindowExtraction:"weighted_median",bitrateRange:[2e5,25e5],defaultBitrate:1e6,defaultTargetBitrate:1e6,autoBitrateParams:{paramA:0,paramB:404330129e-17,paramC:.0164405979,paramD:225511.28,minBitrate:2e5},mSpeedRecordValidThreshold:2,mode:"simple",needCheckDuration:!0,overscore:{isOpen:!1,type:"filter",enable266:!0,filterKey:"definition",filterList:[],scoreMultiple:2},bitrateKey:"bitrate"}}},{key:"MaxQueueCapacity",get:function(){return Mc},set:function(e){Mc=e}}]),Mf=lx(function e(){var t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};lk(this,e),oX(this,"config",{size:30,severeBlockDuration:1500,slightBlockDuration:100,highBitrateRatio:1.5,lowBitrateRatio:.8,highLadderSelectedCnt:1,lowLadderSelectedCnt:1,blockSumMaxTime:6e5}),oX(this,"timerId",null),oX(this,"_tBQueue",[]),oX(this,"_sBQueue",[]),oX(this,"_blockQueue",[]),oX(this,"_info",{blockDurationSum:0,currentBlockDur:0,targetBitrateAvg:0,selectedBitrateAvg:0,higherSelectedCnt:0,lowerSelectedCnt:0}),uR(t=lO(r)).call(t,function(e){n.config[e]=r[e]||0}),this.setTimer()},[{key:"targetBitRate",set:function(e){var t;if(e&&"number"==typeof e){this._tBQueue.push(dh("".concat(e),10)),this._tBQueue.length>this.config.size&&this._tBQueue.shift();var n=0;uR(t=this._tBQueue).call(t,function(e){n+=e}),this._info.targetBitrateAvg=n/this._tBQueue.length}}},{key:"selectBitRate",set:function(e){var t;if(e&&"number"==typeof e){this._sBQueue.push(e),this._sBQueue.length>this.config.size&&this._sBQueue.shift();var n=0;uR(t=this._sBQueue).call(t,function(e){n+=e}),this._info.selectedBitrateAvg=n/this._sBQueue.length}}},{key:"blockDuration",set:function(e){this._blockQueue.push(e),this._blockQueue.length>this.config.size&&this._blockQueue.shift();var t,n=0;uR(t=this._blockQueue).call(t,function(e){n+=e}),this._info.blockDurationSum=n}},{key:"currentBlockDur",set:function(e){this._info.currentBlockDur+=e}},{key:"updateBitRateInfo",value:function(e,t){e&&t&&(e>t?this._info.higherSelectedCnt++:e<t&&this._info.lowerSelectedCnt++)}},{key:"checkDefinition",value:function(){var e=this.config,t=this._info;return t.blockDurationSum>e.severeBlockDuration&&(t.selectedBitrateAvg>t.targetBitrateAvg*e.highBitrateRatio&&t.higherSelectedCnt>=e.highLadderSelectedCnt||t.currentBlockDur>e.severeBlockDuration)?1:t.blockDurationSum<e.slightBlockDuration&&t.selectedBitrateAvg<t.targetBitrateAvg*e.lowBitrateRatio&&t.lowerSelectedCnt>=e.lowLadderSelectedCnt?2:0}},{key:"setConfig",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};uR(e=lO(n)).call(e,function(e){t.config[e]=n[e]||0})}},{key:"resetCurrent",value:function(){this._info.currentBlockDur=0}},{key:"setTimer",value:function(){var e=this;this._blockQueue=[],this._tBQueue=[],this._sBQueue=[],this._info={blockDurationSum:0,currentBlockDur:0,targetBitrateAvg:0,selectedBitrateAvg:0,higherSelectedCnt:0,lowerSelectedCnt:0},this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.timerId=pS(function(){e.setTimer()},this.config.blockSumMaxTime)}}]),Mp=new Mf({}),Mv=null,Mg=null,Mm={needCheckDuration:!0};function My(e){var t=0,n=e.speedAlgoType;return n&&n!==Mh.AVG?n===Mh.WEIGHT&&(t=L7.getWeightedSpeedKbs()):t=L7.getAvgSpeedKbs(),t}function M_(e,t){var n,r,i=t.userDefinition,o=t.config,a=t.bitrateAdapter,s=new Me;if(m=[],lI(g=e).call(g,function(e){e.mediaType&&"video"!==e.mediaType||m.push(e)}),e=m,o.disabled||!e||e.length<1)return null;var l=Mn(e,o.bitrateKey),c=uC(l).call(l,function(e,t){return"number"==typeof t._xgOrgBitrate&&"number"==typeof e._xgOrgBitrate?t._xgOrgBitrate-e._xgOrgBitrate:0}),u=1024*My(o),h=null;if(a||(Mv||(Mv=new Md({config:o})),a=Mv),a.analysis=s,c&&c.length&&(h=a.select(c,o.mode,u))&&o.mode===Mu.BANDWIDTH){var d=h._targetBitrate||h._xgOrgBitrate,f=null;if(!u||u<0||1!==o.mixFactor){var p=lz({},o);p.mode=Mu.BUFFER_INFO;var v=new Md({config:p});"number"==typeof u&&u>0&&(v.speed=u),f=null==v?void 0:v.select(l,p.mode,u)}if(f){var g,m,y,_=f._targetBitrate||f._xgOrgBitrate;(h=Mt(l,y=!u||u<0?_:o&&"number"==typeof o.mixFactor&&o.mixFactor>=0&&o.mixFactor<=1?d*o.mixFactor+_*(1-o.mixFactor):o&&"number"==typeof o.mixFactor&&o.mixFactor>1?Math.max(d,_):Math.min(d,_),o.selectAlgType))||(h=e[e.length-1]),h._targetBitrate=y}}h&&(h.type=SF.BITRATE_ADAPTER);var b=(null===(n=h)||void 0===n?void 0:n.duration)||0,w=null===(r=a)||void 0===r?void 0:r.getTargetBitrate(b,e);if(w&&(Mp.targetBitRate=w),i){var S=Mb.getUserSelectBitrate(c,i);S&&(Mp.selectBitRate=S._xgOrgBitrate,Mp.updateBitRateInfo(S._xgOrgBitrate,w),h=S,s.type=L8.USER_SELECT)}if(o.overscore&&o.overscore.isOpen&&h){var E=function(e,t,n){var r=n.isOpen,i=n.enable266,o=n.filterKey,a=n.filterList,s=n.scoreMultiple,l=n.type;if(!r)return e;var c=null;return"filter"===l?c=function(e,t,n,r){var i=null;if(lI(n).call(n,function(n){n.source===t[e]&&(i=n)}),!i)return null;for(var o=null,a=function(t){var n;if(lI(n=i.target).call(n,function(n){r[t][e]===n&&(o=r[t])}),o)return 1},s=0;s<r.length&&!a(s);s++);return o}(o,e,a,t):"multiple"===l&&(c=function(e,t,n){if(!e)return null;for(var r=-1,i=0;i<n.length;i++)if(t.definition===n[i].definition){r=i;break}return r>-1&&r<n.length-1?n[r+e>n.length-1?n.length-1:r+e]:null}(s,e,t)),c&&(!c.isH266||i)?(c.type=SF.OVER_SCORE,c.fromType=e.type,c.orgDefinition=e.definition,c):e}(h,c,o.overscore);s.type=L8.SR,h=E}return h&&(h.chosenType=s.type,h.chosenReason=s.reason),h}var Mb=function(){function e(t){var n,r,i,o;return lk(this,e),oX((r=this,i=e,o=[t],i=uV(i),n=uD(r,uG()?uK(i,o||[],uV(r).constructor):i.apply(r,o))),"bitRateAdapter",void 0),oX(n,"curBitRate",void 0),oX(n,"_onXLog",function(e){"waitingEnd"===e.eventType&&0===e.type&&(Mp.blockDuration=e.costTime,n.player.isUserActive&&(Mp.currentBlockDur=e.costTime))}),e.defaultConfig=n.config,n}return uZ(e,uW),lx(e,[{key:"detectDefInfo",get:function(){return Mp}},{key:"beforeDestroy",value:function(){this.destroy()}},{key:"destroy",value:function(){var e,t;null===(e=this.player)||void 0===e||e.off("xglog",this._onXLog),null===(t=this.bitRateAdapter)||void 0===t||t.destroy(),this.bitRateAdapter=void 0,null==Mp||Mp.resetCurrent()}},{key:"beforePlayerInit",value:function(){var e=this.player,t=this.config,n=t.multiFactors;(null==n?void 0:n.length)>0&&this.updateParamsByFactor(n),this._bindEvent(),this.bitRateAdapter=new Md({config:t},e),Mv||(Mv=new Md({config:t})),Mp.setConfig(t.detectConfig||{}),Mp.resetCurrent();var r=this.getInitBitrate();this.curBitRate=r,SN(e,r)}},{key:"updateParamsByFactor",value:function(e){for(var t,n=this,r=this.playerConfig.mediaInfo||this.playerConfig,i=(this.playerConfig.baseConfig||r).codecType,o=r.videoHeight,a=r.videoWidth,s=0|navigator.deviceMemory,l=0|navigator.hardwareConcurrency,c=null,u={codecType:i,videoHeight:o,videoWidth:a,memory:s,core:l},h=0;h<e.length;h++){for(var d=e[h].factor||{},f=lO(d),p=!0,v=0;v<f.length;v++)if(!this.matchFactor(f[v],d[f[v]],u)){p=!1;break}if(p){c=e[h].config;break}}c&&lI(t=lO(c)).call(t,function(e){n.config[e]=c[e]})}},{key:"getInitBitrate",value:function(){if(!this.config.disabled&&!1!==this.config.enable){var e=this.player,t=this.playerConfig,n=null;try{n=e.definitionList}catch(e){}var r=(t.shared||t).definition,i=n||(null==r?void 0:r.list)||[],o=(r||{}).userSelectDefinition;Mg=o;var a,s,l,c,u,h=this.getSuitableBitrate(i,o);return!h&&(h={url:lA(null===(a=t.baseConfig)||void 0===a?void 0:a.urlList)&&(null===(s=t.baseConfig)||void 0===s?void 0:s.urlList.length)>0?null===(l=t.baseConfig)||void 0===l?void 0:l.urlList:(null===(c=t.baseConfig)||void 0===c?void 0:c.url)||t.url,definition:(null==r?void 0:r.defaultDefinition)||t.defaultDefinition||-1,bitrate:(r||t).defaultBitrate||((null===(u=t.baseConfig)||void 0===u?void 0:u.mediaInfo)||t).bitrate||-1,type:SF.DEFAULT}),h&&(h.networkSpeed=this.getSpeed()),h||void 0}}},{key:"getSuitableBitrate",value:function(e,t){if(this.bitRateAdapter)return M_(e,{config:this.config,bitrateAdapter:this.bitRateAdapter,userDefinition:t})}},{key:"getAdaptBitrate",value:function(e,t){var n,r=null,i=this.bitRateAdapter,o=this.config;return o.disabled||!i||(lA(e=uC(n=Mn(e,o.bitrateKey)).call(n,function(e,t){return"number"==typeof e._xgOrgBitrate&&"number"==typeof t._xgOrgBitrate?t._xgOrgBitrate-e._xgOrgBitrate:0}))&&e.length&&(i.speed=t,r=i.select(e,o.mode,t)),r&&(r.type=SF.BITRATE_ADAPTER)),r}},{key:"getDefinition",value:function(e,t,n){for(var r=-1,i=0;i<e.length;i++)e[i]._xgOrgBitrate===t&&(r=i);return -1===r?null:n&&e.length>r+1?e[r+1]:!n&&r-1>=0?e[r-1]:null}},{key:"needChangeDefinition",value:function(){var t,n,r,i,o=this.playerConfig,a=this.player,s=[];try{i=a.curDefinition,s=(null===(t=o.shared)||void 0===t||null===(t=t.definition)||void 0===t?void 0:t.list)||a.definitionList}catch(e){}var l=(null===(n=o.shared)||void 0===n||null===(n=n.definition)||void 0===n?void 0:n.userSelectDefinition)||o.userSelectDefinition,c=(null===(r=o.shared)||void 0===r||null===(r=r.definition)||void 0===r?void 0:r.extDefinition)||o.extDefinition,u=lA(c)&&c.length>0?c:s||[],h={type:0,message:"DO_NOT_UPDATE",targetDefinition:null};if(!l||u.length<2)return h;var d=i;l&&(d=e.getUserSelectBitrate(u,l));var f=Mp.checkDefinition();h.type=f;var p=1024*this.getSpeed(),v=this.getAdaptBitrate(u,p);if(!(v&&0!==f&&v&&v._xgOrgBitrate&&d&&d._xgOrgBitrate))return h.message="DO_NOT_UPDATE",h;var g=v._xgOrgBitrate>=d._xgOrgBitrate,m=v._xgOrgBitrate<d._xgOrgBitrate,y=null;switch(1===f?y=g?this.getDefinition(u,d._xgOrgBitrate,!0):v:2===f&&(y=m?this.getDefinition(u,d._xgOrgBitrate,!1):v),h.targetDefinition=y,h.targetDefinition&&h.targetDefinition.definition!==l||(h.type=0),h.type){case 1:h.message="NEED_TO_REDUCE_BITRATE";break;case 2:h.message="CAN_UPGRADE_BITRATE";break;default:h.message="DO_NOT_UPDATE"}return h}},{key:"_bindEvent",value:function(){this.player.on("xglog",this._onXLog)}},{key:"matchFactor",value:function(e,t,n){var r,i,o,a,s="Array"===(r=t,(i=Object.prototype.toString.call(r).match(/([^\s.*]+)(?=]$)/g))?i[0]:"")?t:[],l=!1;switch(e){case"core_cnt":n.core&&s.length>1&&n.core>=Number(s[0])&&n.core<=Number(s[1])&&(l=!0);break;case"memory":n.memory&&s.length>1&&n.memory>=Number(s[0])&&n.memory<=Number(s[1])&&(l=!0);break;case"video_screen_mode":;s.length>0&&"landscape"===s[0]&&(o=n.videoHeight,a=n.videoWidth,o&&a&&a>o)&&(l=!0);break;case"encoder":s.length>0&&s[0]&&n.codecType&&s[0]===n.codecType&&(l=!0)}return l}},{key:"getSpeed",value:function(){return My(this.config)}}],[{key:"pluginName",get:function(){return"BitrateSelector"}},{key:"defaultConfig",get:function(){return lz({needCheckDuration:!0},Mm)},set:function(e){var t;lI(t=lO(e)).call(t,function(t){Mm[t]=e[t]})}},{key:"getSuitableBitrate",value:function(t,n,r){return r||(r=e.defaultConfig),r=lz(r,Mm),n||(n=Mg),M_(t,{userDefinition:n,config:r})}},{key:"getUserSelectBitrate",value:function(e,t){if(t&&e&&e.length>0){for(var n=null,r=null,i=0;i<e.length;i++){if(t===e[i].definition){n=e[i];break}!r&&t<e[i].definition&&(r=e[i])}return n||(n=r||e[e.length-1]),n.type=SF.USER_SELECT,n}return null}}])}(),Mw=new u7("VeStrategy-bitrate-selector"),MS=function(){function e(t){var n,r,i,o,a;return lk(this,e),i=this,o=e,a=[t],o=uV(o),r=uD(i,uG()?uK(o,a||[],uV(i).constructor):o.apply(i,a)),Mw.update(null===(n=t.ctx.dataCenter)||void 0===n||null===(n=n.getAppConfig())||void 0===n?void 0:n.log),Mw.info("VeStrategy BitrateSelector Init"),r}return uZ(e,uq),lx(e,[{key:"getRecommendation",value:function(e){var t={plugins:[],pluginConfiguration:{},result:{enable:!1}};return this.config.disableAutoCheckPlugin||(t.plugins=[Mb],t.pluginConfiguration=oX({},Mb.pluginName,oY({},this.config))),t.result=oY(oY({},this.config),{},{enable:!0}),!1===e.recResult&&delete t.result,t}}],[{key:"prepareBeforeStarted",value:function(e){var t=e.config;Mb.defaultConfig=t}}])}();oX(MS,"strategyName",u5.bitrateSelector),oX(MS,"strategyPriority",u3.bitrateSelector);var ME=function(){function e(t){var n,r,i,o;return lk(this,e),oX((r=this,i=e,o=[t],i=uV(i),n=uD(r,uG()?uK(i,o||[],uV(r).constructor):i.apply(r,o))),"_timerId",void 0),oX(n,"_activePlayer",void 0),oX(n,"_nextPlayer",void 0),oX(n,"_handlePlayOrPause",function(){var e,t=!!n.player.paused;null===(e=n._activePlayer)||void 0===e||e.updateConfig({baseConfig:{maxBufferCtrl:t,maxBufferLength:n.config.minBufferLength}})}),oX(n,"_handleNextInstChange",function(){var e=n.player.instManager,t=e.findAll(function(e){return e.isUserActive}),r=e.findAll(function(e){return e.isInstNext});1===t.length&&1===r.length&&(n._activePlayer=t[0],n._nextPlayer=r[0],n.execTask())}),n}return uZ(e,uW),lx(e,[{key:"beforePlayerInit",value:function(){this.player.on("user_active_change",this._handleNextInstChange),this.player.on("next_inst_change",this._handleNextInstChange),this.player.on("pause",this._handlePlayOrPause),this.player.on("play",this._handlePlayOrPause)}},{key:"beforeDestroy",value:function(){this.player.off("user_active_change",this._handleNextInstChange),this.player.off("next_inst_change",this._handleNextInstChange),this.player.off("pause",this._handlePlayOrPause),this.player.off("play",this._handlePlayOrPause)}},{key:"_clearTimer",value:function(){this._timerId&&(clearTimeout(this._timerId),this._timerId=void 0)}},{key:"_startTimer",value:function(){var e=this;this._clearTimer(),this._timerId=pS(function(){e.execTask()},1e3)}},{key:"isValidConfig",value:function(){var e=this.config.nextBuffer,t=e.nextBufferMin,n=e.scale,r=e.nextStartPos,i=e.nextStartBuffer,o=function(e){return"number"==typeof e&&e>=0};return!!(o(t)&&o(r)&&o(i))&&"object"===ot(n)&&n.S>=0&&n.M>=0&&n.L>=0&&n.XL>=0}},{key:"execTask",value:function(){if(this._activePlayer&&this._nextPlayer){if(this.isValidConfig()){var e=this.config.nextBuffer,t=e.nextBufferMin,n=e.scale,r=e.nextStartPos,i=e.nextStartBuffer,o=this._nextPlayer.duration,a=this._activePlayer.currentTime,s=this._activePlayer.getBufferedRange(),l=t;a>r&&s[1]>i?(o<=60?l=t+10*n.S:o>60&&o<=180?l=t+10*n.M:o>180&&o<=600?l=t+10*n.L:o>600&&(l=t+10*n.XL),this._nextPlayer.updateConfig({baseConfig:{maxBufferCtrl:!0,maxBufferLength:l}}),this._activePlayer.updateConfig({baseConfig:{maxBufferCtrl:!1}}),this._clearTimer(),this._activePlayer=void 0,this._nextPlayer=void 0):this._startTimer()}else this._startTimer()}}}],[{key:"pluginName",get:function(){return"BufferControlPlugin"}},{key:"defaultConfig",get:function(){return{nextBuffer:{nextStartPos:0,nextStartBuffer:0,nextBufferMin:5,scale:{S:.2,M:.4,L:.2,XL:.4}}}}}])}(),Mk=function(){function e(t){var n,r,i;return lk(this,e),n=this,r=e,i=[t],r=uV(r),uD(n,uG()?uK(r,i||[],uV(n).constructor):r.apply(n,i))}return uZ(e,uq),lx(e,[{key:"getRecommendation",value:function(){var e={plugins:[],pluginConfiguration:{},result:{}};return this.config.disabled||(e.plugins=[ME],e.pluginConfiguration=oX({},ME.pluginName,oY({},this.config))),e.result={},e}}])}();oX(Mk,"strategyName",u5.bufferControl),oX(Mk,"strategyPriority",u3.bufferControl);var MT=new u7("VeStrategy-degrade-plugin"),Mx=function(){function e(t){var n,r,i,o;return lk(this,e),oX((r=this,i=e,o=[t],i=uV(i),n=uD(r,uG()?uK(i,o||[],uV(r).constructor):i.apply(r,o))),"_onDegrade",function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.category,o=r.errc,a=r.err_msg;switch(MT.warn(uu(e=uu(t="degradation occurred, category: ".concat(i,", ")).call(t,o," - ")).call(e,a)),i){case SG.PRELOAD_NOT_HIT:n.setBaseConfig({coreType:"media"}),n.setSharedConfig({vtype:"MP4_0"});break;case SG.ERROR_ON_FLY:n._degradeOnFly()}}),oX(n,"_onError",function(e,t){var r,i,o=n.player.error||e;o?n._satisfyToDegrade(o)?(t instanceof Event&&t.stopImmediatePropagation(),n.player.emit("degrade",{category:SG.ERROR_ON_FLY,errc:o.code,err_msg:o.message})):MT.error(uu(r=uu(i="Degrader allowed finally error occurred, code: ".concat(o.code,", message: ")).call(i,o.message,", ext: ")).call(r,hp.stringify(o.ext||{}))):MT.warn("Degrader get error event, but player.error is empty")}),oX(n,"_degradeOnFly",function(){var e,t=n.player,r=n.config.sourceList,i=n._getDegradeURL(),o=i.url,a=i.codecType;if(MT.warn(uu(e="degrade to codec: ".concat(a,", url: ")).call(e,l5(o||[]))),t._changeCore){var s,l,c="DASH"===(null===(s=t.config.shared)||void 0===s||null===(s=s.vtype)||void 0===s?void 0:s.toUpperCase()),u=n._getCoreConfig(o||(null===(l=t.config.baseConfig)||void 0===l?void 0:l.urlList)||[],c?"dash_mp4_2":"MP4_1");t.config.baseConfig&&(null==r?void 0:r.length)>0&&(t.config.baseConfig.url=u.baseConfig.url,t.config.baseConfig.urlList=u.baseConfig.urlList),t._changeCore("media",u)}}),n.player.on("error",n._onError),n.player.on("degrade",n._onDegrade),n}return uZ(e,uW),lx(e,[{key:"codecType",get:function(){var e,t,n=this.player,r=this.playerConfig;return(null===(e=n.curDefinition)||void 0===e?void 0:e.codecType)||(null===(t=r.shared)||void 0===t?void 0:t.codecType)||this.config.codecType}},{key:"beforeDestroy",value:function(){this.player.off("error",this._onError),this.player.off("degrade",this._onDegrade)}},{key:"_satisfyToDegrade",value:function(t){var n,r,i,o=lz({},this.config,e.defaultConfig),a=!1;try{a=!!localStorage.getItem("player_no_degrade")}catch(e){}return!(!o.enable||a)&&"media"!==(null===(n=this.playerConfig.baseConfig)||void 0===n?void 0:n.coreType)&&!(lA(o.notDegradeErrorList)&&d9(r=o.notDegradeErrorList).call(r,(null==t||null===(i=t.ext)||void 0===i?void 0:i.httpCode)||"")>=0)}},{key:"_getCoreConfig",value:function(e,t){var n=this.player,r={};return"string"==typeof e&&e.length>0?r.url=e:lA(e)&&e.length>0&&(r.urlList=e,r.url=e[0].src),"MP4_1"!==t&&"dash_mp4_2"!==t||(r.startTime=n.currentTime,n.paused||(r.autoplay=!0)),{baseConfig:r,shared:{vtype:t}}}},{key:"_getDegradeURL",value:function(){var e,t,n,r,i=this.config,o=i.vvcSupported,a=i.hevcSupported,s=i.sourceList,l=this.playerConfig,c=(l.baseConfig||l||{}).preProcessUrl;switch(null===(e=this.codecType)||void 0===e?void 0:e.toLowerCase()){case"h264":default:t="h264";break;case"h265":t=a?"h265":"h264";break;case"h266":t=o?"h266":a?"h265":"h264"}return lA(s)&&s.length>0&&0===(n=uR(r=uI(s).call(s,function(e){return e.codecType===t})).call(r,function(e){var t=e.src||e.url||"";return{src:(null==c?void 0:c(t))||t,codecType:e.codecType}})).length&&(n=void 0),{codecType:t,url:n}}}],[{key:"pluginName",get:function(){return"DegradePlugin"}},{key:"defaultConfig",get:function(){return{enable:!0,notDegradeErrorList:["timeout",403,404]}}}])}(),MC=function(){function e(t){var n,r,i;return lk(this,e),n=this,r=e,i=[t],r=uV(r),uD(n,uG()?uK(r,i||[],uV(n).constructor):r.apply(n,i))}return uZ(e,uq),lx(e,[{key:"getRecommendation",value:function(){var e,t={plugins:[],pluginConfiguration:{},result:{enable:!1}};return this.config.disabled||(t.plugins=[Mx],t.pluginConfiguration=oX({},Mx.pluginName,oY({vvcSupported:(e=!1,"undefined"!=typeof MediaSource&&MediaSource.isTypeSupported?e=MediaSource.isTypeSupported("video/mp4;codecs=bvc2.1.6.L93.B0"):e),hevcSupported:dG()},this.config))),t.result=oY(oY({},this.config),{},{enable:!0}),t}}])}();oX(MC,"strategyName",u5.degrade),oX(MC,"strategyPriority",u3.degrade);ta({target:"Reflect",stat:!0},{get:function e(t,n){var r,i,o,a=arguments.length<3?t:arguments[2];return e6(t)===a?t[n]:(i=R.f(t,n))?void 0!==(r=i)&&(eO(r,"value")||eO(r,"writable"))?i.value:void 0===i.get?void 0:M(i.get,a):X(o=rV(t))?e(o,n,a):void 0}});var MI,MO,MA,MP,MR,MD,ML,MM,Mz,MN=J.Reflect.get,Mj=f(MN);function MB(){return(MB="undefined"!=typeof Reflect&&Mj?au(Mj).call(Mj):function(e,t,n){var r=function(e,t){for(;!({}).hasOwnProperty.call(e,t)&&null!==(e=uV(e)););return e}(e,t);if(r){var i=og(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(null,arguments)}function MU(e,t,n){return t=uV(t),uD(e,uG()?uK(t,n||[],uV(e).constructor):t.apply(e,n))}function MF(e,t,n,r){var i=MB(uV(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}var MG,MV=(null===(MR=void 0!==Sz?Sz:void 0)||void 0===MR?void 0:MR.crypto)||(null===(MD="undefined"!=typeof window?window:void 0)||void 0===MD?void 0:MD.crypto)||(null===(ML="undefined"!=typeof window?window:void 0)||void 0===ML?void 0:ML.crypto)||(null===(MM="undefined"!=typeof self?self:void 0)||void 0===MM?void 0:MM.crypto)||(null===(Mz="undefined"!=typeof frames?frames:void 0)||void 0===Mz||null===(Mz=Mz[0])||void 0===Mz?void 0:Mz.crypto);MG=MV?function(e){for(var t=[],n=0;n<e;n+=4)t.push(MV.getRandomValues(new Uint32Array(1))[0]);return new MZ(t,e)}:function(e){for(var t,n=[],r=0;r<e;r+=4){var i=function(e){var t=e,n=987654321;return function(){var e=((n=36969*(65535&n)+(n>>16)&4294967295)<<16)+(t=18e3*(65535&t)+(t>>16)&4294967295)&4294967295;return e/=4294967296,(e+=.5)*(Math.random()>.5?1:-1)}}(4294967296*(t||Math.random()));t=987654071*i(),n.push(4294967296*i()|0)}return new MZ(n,e)};var MH=lx(function e(){lk(this,e)},[{key:"mixIn",value:function(e){return lz(this,e)}},{key:"clone",value:function(){var e=new this.constructor;return lz(e,this),e}}],[{key:"create",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,t,n){if(uG())return uF.apply(null,arguments);var r=[null];oS(r).apply(r,t);var i=new(au(e).apply(e,r));return n&&uH(i,n.prototype),i}(this,t)}}]),MZ=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4*n.length;lk(this,e),t=MU(this,e);var i=n;if(i instanceof ArrayBuffer&&(i=new Uint8Array(i)),(i instanceof Int8Array||i instanceof Uint8ClampedArray||i instanceof Int16Array||i instanceof Uint16Array||i instanceof Int32Array||i instanceof Uint32Array||i instanceof Float32Array||i instanceof Float64Array)&&(i=new Uint8Array(i.buffer,i.byteOffset,i.byteLength)),i instanceof Uint8Array){for(var o=i.byteLength,a=[],s=0;s<o;s+=1)a[s>>>2]|=i[s]<<24-s%4*8;t.words=a,t.sigBytes=o}else t.words=n,t.sigBytes=r;return t}return uZ(e,MH),lx(e,[{key:"toString",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:MK).stringify(this)}},{key:"concat",value:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o+=1){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this}},{key:"clamp",value:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=Math.ceil(t/4)}},{key:"clone",value:function(){var t,n=MF(e,"clone",this,1).call(this);return n.words=pv(t=this.words).call(t,0),n}}])}();oX(MZ,"random",MG);for(var MK={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=1){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=dh(e.substr(r,2),16)<<24-r%8*4;return new MZ(n,t/2)}},MW={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=1){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=1)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new MZ(n,t)}},M$={parse:function(e){return MW.parse(unescape(encodeURIComponent(e)))}},Mq=function(){function e(){var t;return lk(this,e),(t=MU(this,e))._minBufferSize=0,t}return uZ(e,MH),lx(e,[{key:"reset",value:function(){this._data=new MZ,this._nDataBytes=0}},{key:"_append",value:function(e){var t,n=e;"string"==typeof n&&(n=M$.parse(n)),uu(t=this._data).call(t,n),this._nDataBytes+=n.sigBytes}},{key:"_process",value:function(e){var t,n=this._data,r=this.blockSize,i=n.words,o=n.sigBytes,a=o/(4*r),s=(a=e?Math.ceil(a):Math.max((0|a)-this._minBufferSize,0))*r,l=Math.min(4*s,o);if(s){for(var c=0;c<s;c+=r)this._doProcessBlock(i,c);t=fr(i).call(i,0,s),n.sigBytes-=l}return new MZ(t,l)}},{key:"clone",value:function(){var t=MF(e,"clone",this,1).call(this);return t._data=this._data.clone(),t}}])}(),MX=function(){function e(t){var n;return lk(this,e),(n=MU(this,e)).blockSize=16,n.cfg=lz(new MH,t),n.reset(),n}return uZ(e,Mq),lx(e,[{key:"reset",value:function(){MF(e,"reset",this,1).call(this),this._doReset()}},{key:"update",value:function(e){return this._append(e),this._process(),this}},{key:"finalize",value:function(e){return e&&this._append(e),this._doFinalize()}}],[{key:"_createHelper",value:function(e){return function(t,n){return new e(n).finalize(t)}}},{key:"_createHmacHelper",value:function(e){return function(t,n){return new MJ(e,n).finalize(t)}}}])}(),MJ=function(){function e(t,n){lk(this,e),r=MU(this,e);var r,i=new t;r._hasher=i;var o=n;"string"==typeof o&&(o=M$.parse(o));var a=i.blockSize,s=4*a;o.sigBytes>s&&(o=i.finalize(n)),o.clamp();var l=o.clone();r._oKey=l;var c=o.clone();r._iKey=c;for(var u=l.words,h=c.words,d=0;d<a;d+=1)u[d]^=1549556828,h[d]^=909522486;return l.sigBytes=s,c.sigBytes=s,r.reset(),r}return uZ(e,MH),lx(e,[{key:"reset",value:function(){var e=this._hasher;e.reset(),e.update(this._iKey)}},{key:"update",value:function(e){return this._hasher.update(e),this}},{key:"finalize",value:function(e){var t,n=this._hasher,r=n.finalize(e);return n.reset(),n.finalize(uu(t=this._oKey.clone()).call(t,r))}}])}(),MY=[],MQ=0;MQ<64;MQ+=1)MY[MQ]=4294967296*Math.abs(Math.sin(MQ+1))|0;var M0=function(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+i+a;return(s<<o|s>>>32-o)+t},M1=function(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+i+a;return(s<<o|s>>>32-o)+t},M2=function(e,t,n,r,i,o,a){var s=e+(t^n^r)+i+a;return(s<<o|s>>>32-o)+t},M5=function(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+i+a;return(s<<o|s>>>32-o)+t},M4=function(){function e(){var t,n,r;return lk(this,e),t=this,n=e,r=arguments,n=uV(n),uD(t,uG()?uK(n,r||[],uV(t).constructor):n.apply(t,r))}return uZ(e,MX),lx(e,[{key:"_doReset",value:function(){this._hash=new MZ([1732584193,4023233417,2562383102,271733878])}},{key:"_doProcessBlock",value:function(e,t){for(var n=0;n<16;n+=1){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=e[t+0],s=e[t+1],l=e[t+2],c=e[t+3],u=e[t+4],h=e[t+5],d=e[t+6],f=e[t+7],p=e[t+8],v=e[t+9],g=e[t+10],m=e[t+11],y=e[t+12],_=e[t+13],b=e[t+14],w=e[t+15],S=o[0],E=o[1],k=o[2],T=o[3];S=M0(S,E,k,T,a,7,MY[0]),T=M0(T,S,E,k,s,12,MY[1]),k=M0(k,T,S,E,l,17,MY[2]),E=M0(E,k,T,S,c,22,MY[3]),S=M0(S,E,k,T,u,7,MY[4]),T=M0(T,S,E,k,h,12,MY[5]),k=M0(k,T,S,E,d,17,MY[6]),E=M0(E,k,T,S,f,22,MY[7]),S=M0(S,E,k,T,p,7,MY[8]),T=M0(T,S,E,k,v,12,MY[9]),k=M0(k,T,S,E,g,17,MY[10]),E=M0(E,k,T,S,m,22,MY[11]),S=M0(S,E,k,T,y,7,MY[12]),T=M0(T,S,E,k,_,12,MY[13]),k=M0(k,T,S,E,b,17,MY[14]),E=M0(E,k,T,S,w,22,MY[15]),S=M1(S,E,k,T,s,5,MY[16]),T=M1(T,S,E,k,d,9,MY[17]),k=M1(k,T,S,E,m,14,MY[18]),E=M1(E,k,T,S,a,20,MY[19]),S=M1(S,E,k,T,h,5,MY[20]),T=M1(T,S,E,k,g,9,MY[21]),k=M1(k,T,S,E,w,14,MY[22]),E=M1(E,k,T,S,u,20,MY[23]),S=M1(S,E,k,T,v,5,MY[24]),T=M1(T,S,E,k,b,9,MY[25]),k=M1(k,T,S,E,c,14,MY[26]),E=M1(E,k,T,S,p,20,MY[27]),S=M1(S,E,k,T,_,5,MY[28]),T=M1(T,S,E,k,l,9,MY[29]),k=M1(k,T,S,E,f,14,MY[30]),E=M1(E,k,T,S,y,20,MY[31]),S=M2(S,E,k,T,h,4,MY[32]),T=M2(T,S,E,k,p,11,MY[33]),k=M2(k,T,S,E,m,16,MY[34]),E=M2(E,k,T,S,b,23,MY[35]),S=M2(S,E,k,T,s,4,MY[36]),T=M2(T,S,E,k,u,11,MY[37]),k=M2(k,T,S,E,f,16,MY[38]),E=M2(E,k,T,S,g,23,MY[39]),S=M2(S,E,k,T,_,4,MY[40]),T=M2(T,S,E,k,a,11,MY[41]),k=M2(k,T,S,E,c,16,MY[42]),E=M2(E,k,T,S,d,23,MY[43]),S=M2(S,E,k,T,v,4,MY[44]),T=M2(T,S,E,k,y,11,MY[45]),k=M2(k,T,S,E,w,16,MY[46]),E=M2(E,k,T,S,l,23,MY[47]),S=M5(S,E,k,T,a,6,MY[48]),T=M5(T,S,E,k,f,10,MY[49]),k=M5(k,T,S,E,b,15,MY[50]),E=M5(E,k,T,S,h,21,MY[51]),S=M5(S,E,k,T,y,6,MY[52]),T=M5(T,S,E,k,c,10,MY[53]),k=M5(k,T,S,E,g,15,MY[54]),E=M5(E,k,T,S,s,21,MY[55]),S=M5(S,E,k,T,p,6,MY[56]),T=M5(T,S,E,k,w,10,MY[57]),k=M5(k,T,S,E,d,15,MY[58]),E=M5(E,k,T,S,_,21,MY[59]),S=M5(S,E,k,T,u,6,MY[60]),T=M5(T,S,E,k,m,10,MY[61]),k=M5(k,T,S,E,l,15,MY[62]),E=M5(E,k,T,S,v,21,MY[63]),o[0]=o[0]+S|0,o[1]=o[1]+E|0,o[2]=o[2]+k|0,o[3]=o[3]+T|0}},{key:"_doFinalize",value:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32;var i=Math.floor(n/4294967296);t[15+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var o=this._hash,a=o.words,s=0;s<4;s+=1){var l=a[s];a[s]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return o}},{key:"clone",value:function(){var t,n,r,i,o,a=(t=e,n="clone",r=this,i=1,o=MB(uV((0,t.prototype)),n,r),2&i&&"function"==typeof o?function(e){return o.apply(r,e)}:o).call(this);return a._hash=this._hash.clone(),a}}])}(),M3=MX._createHelper(M4);MX._createHmacHelper(M4);var M6=((r=M6||{}).VESTRATEGY_H265_DETECT_PLAYBACK="VESTRATEGY_H265_DETECT_PLAYBACK",r.VESTRATEGY_H265_IS_SUPPORT="VESTRATEGY_H265_IS_SUPPORT",r.VESTRATEGY_H265_CAN_PLAY_SMOOTHLY="VESTRATEGY_H265_CAN_PLAY_SMOOTHLY",r);function M9(e){return M3([e.url,e.minDroppedFramesRate,e.minTotalVideoFrames,navigator.userAgent.toLowerCase()].join("_")).toString()}var M7=new(lx(function e(){lk(this,e),oX(this,"_detectStatus","init"),oX(this,"_detectResult",void 0)},[{key:"detect",value:function(e){var t;return dG()&&((t=this.getDetectResult(e,{validateCache:!0}))||"init"!==this._detectStatus||this._detectPlaybackRobustness(e)),t}},{key:"getDetectResult",value:function(e,t){if(this._detectResult)return this._detectResult;try{var n,r=hf(M6.VESTRATEGY_H265_DETECT_PLAYBACK);if(!r)return;var i=JSON.parse(r);if(null!=t&&t.validateCache&&(e&&M9(e)!==i.cacheKey||!1===(null==i||null===(n=i.data)||void 0===n?void 0:n.robustErr)))return;return i.data}catch(e){return}}},{key:"_detectPlaybackRobustness",value:(i=lE(lw().mark(function e(t){var n,r;return lw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("pending"!==this._detectStatus){e.next=1;break}return e.abrupt("return");case 1:return this._detectStatus="pending",n=M9(t),e.prev=2,e.next=3,function(e){return dV.apply(this,arguments)}(t);case 3:r=e.sent,hd(M6.VESTRATEGY_H265_DETECT_PLAYBACK,l5({data:r,cacheKey:n})),e.next=5;break;case 4:e.prev=4,e.catch(2);case 5:return this._detectStatus="end",this._detectResult=r,e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this,[[2,4]])})),function(e){return i.apply(this,arguments)})}])),M8=new u7("VeStrategy-H265"),ze=function(){var e,t;function n(){var e,t,r;return lk(this,n),e=this,t=n,r=arguments,t=uV(t),uD(e,uG()?uK(t,r||[],uV(e).constructor):t.apply(e,r))}return uZ(n,uq),lx(n,[{key:"getRecommendation",value:function(){this.config.detectConfig&&M7.detect(this.config.detectConfig);var e=M7.getDetectResult(),t=this.config.whiteListConfig;this.ctx.featureCenter.getDeviceMarkInfoAsync();var n=this.ctx.featureCenter.getFeatureList(),r=this.getResult({detectResult:e,whiteListConfig:t,deviceInfo:n});return{result:{enable:(null==r?void 0:r.isSupported)&&(null==r?void 0:r.canPlaySmoothly),decoderPrefer:"",enableH265Hardware:(null==r?void 0:r.isSupported)&&(null==r?void 0:r.canPlaySmoothly)}}}},{key:"getResult",value:function(e){var t,n=e.detectResult,r=e.whiteListConfig,i=e.deviceInfo,o=dG();t=null==r||r.enable&&void 0===i?{useH265:!1}:r.enable?fx(r.whiteList,{CPUScore:i.cpuScore,CPUCore:i.cpuCore,GPUScore:i.gpuScore}):{useH265:!0};try{M8.info("H265Result",l5({isHevcApiSupported:o,detectResult:n,whiteListConfig:r,kvResult:t}))}catch(e){}return{isSupported:!!(o&&n&&!0!==(null==n?void 0:n.robustErr)),canPlaySmoothly:!!((null==t?void 0:t.useH265)&&(null==n?void 0:n.status))}}}],[{key:"prepareBeforeStarted",value:(t=lE(lw().mark(function e(t){var n;return lw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.ctx.featureCenter.getDeviceMarkInfoAsync(),M8.update(null===(n=t.ctx.dataCenter.getAppConfig())||void 0===n?void 0:n.log),M8.info("PrepareBeforeStarted");case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})},{key:"prepareAfterStarted",value:(e=lE(lw().mark(function e(t){return lw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.config.detectConfig&&M7.detect(t.config.detectConfig),M8.info("PrepareAfterStarted");case 1:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)})}])}();oX(ze,"strategyName",u5.h265),oX(ze,"strategyPriority",u3.h265);var zt=function(){function e(){lk(this,e)}return lx(e,[{key:"load",value:function(t,n){var r=oY({},e.getDefaultConfig()),i=r.timeout,o=r.withCredentials,a=r.responseType,s=r.method,l=new XMLHttpRequest;return l.open(s,t,!0),l.timeout=i,l.withCredentials=o,l.responseType=a,l.send(null==n?void 0:n.body),new lC(function(e,t){l.onload=function(){200===l.status?e(l.response):t(Error("Request failed with status ".concat(l.status)))},l.onerror=function(){var e;t(Error(uu(e="Network error, code ".concat(l.status,", message: ")).call(e,l.statusText)))},l.ontimeout=function(){t(Error("Network error:timeout"))}})}}],[{key:"getDefaultConfig",value:function(){return{method:"POST",timeout:5e3,withCredentials:!1,responseType:"json"}}}])}(),zn=["bitrate"],zr=["bitrate"],zi=((o=zi||{}).VIDEO="video",o.AUDIO="audio",o),zo=function(){var e,t;function n(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"video";lk(this,n),oX(this,"loader",null),oX(this,"trackerReqArgs",{req_times:0,resp_times:0,fid:"",node_num:5}),oX(this,"lastFileInfo",null),oX(this,"lastfetchNodeTime",0),oX(this,"lastRetFileKey",null),oX(this,"minUpdateNodeStep",0),oX(this,"options",void 0),oX(this,"PCDN_NODE_MAP",new f8),oX(this,"mediaType",void 0),oX(this,"player",void 0),oX(this,"deletePCDNNode",function(e){null!=e&&e.length&&lI(e).call(e,function(e){r.removePCDNNode(e.vid,e.bitrate,e.url)})}),oX(this,"startGetPCDNNode",function(e,t){r.getPCDNNode(r.options.trackerUrl,e).then(function(n){var i;if(n&&"object"===ot(n)&&(null===(i=n.nodes)||void 0===i?void 0:i.length)>0){var o,a=uR(o=n.nodes).call(o,function(t){return{src:t.url,fid:e.sfid,vid:n.vid,bitrate:n.bitrate}}),s={baseConfig:oY({},t.baseConfig)};"video"===r.mediaType?s.baseConfig.pcdnUrlList=a:"audio"===r.mediaType&&(s.baseConfig.pcdnAudioUrlList=a),r.player.updateConfig(s,!0)}}).catch(function(e){})}),this.player=e,this.options=t,this.mediaType=i,this.loader=new zt,this.resetTrackeReqArgs(),this.minUpdateNodeStep=this.options.ErrorTimeStep||15e3}return lx(n,[{key:"resetTrackeReqArgs",value:function(){this.trackerReqArgs={fid:"",trace_id:"",req_times:0,resp_times:0,token:"",node_num:this.options.node_num||5,client_info:this.options.client_info}}},{key:"getPCDNNode",value:function(e,t){var n,r,i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=o?[]:this.PCDN_NODE_MAP.get(za((null==t?void 0:t.vid)||(null===(n=this.lastFileInfo)||void 0===n?void 0:n.vid)||"",zs((null==t?void 0:t.bitrate)||(null===(r=this.lastFileInfo)||void 0===r?void 0:r.bitrate)||0))),s=lC.withResolvers(),l=s.promise,c=s.resolve,u=s.reject;return o||null==a||!a.nodes||(null==a||null===(i=a.nodes)||void 0===i?void 0:i.length)<1?this.fetchPCDNNode(e,t).then(function(e){c(e)}).catch(function(e){u(e)}):(a.fromCache=!0,c(a)),l}},{key:"getReqId",value:function(e,t){var n;return(null==e?void 0:e.length)>0?pv(e).call(e,-20)+t:pv(n="getPeerReq"+uQ()).call(n,-20)}},{key:"removePCDNNode",value:function(e,t,n){var r=zs(t),i=this.PCDN_NODE_MAP.get(za(e,r)),o=null==i?void 0:i.nodes;o&&(n?i.nodes=uI(o).call(o,function(e){return e&&0>d9(n).call(n,e.url)}):o.shift(),this.PCDN_NODE_MAP.set(za(e,r),i)),o&&o.length||this.fetchPCDNNode(null,null).catch(function(){})}},{key:"fetchPCDNNode",value:(t=lE(lw().mark(function e(t,r){var i,o,a,s,l,c,u,h,d,f,p,v,g,m,y,_,b,w,S,E,k,T;return lw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=(l=r||this.lastFileInfo||{}).bitrate,null!==(i=(u=oY({},wX(l,zn))).vid)&&void 0!==i&&i.length){e.next=1;break}return e.abrupt("return",null);case 1:if(u.byterate=zs((null==r?void 0:r.bitrate)||0),this.lastFileInfo=r,h=za(u.vid,u.byterate),d=!1,this.lastRetFileKey!==h&&(this.resetTrackeReqArgs(),d=!0),!(uQ()-this.lastfetchNodeTime<this.minUpdateNodeStep)||d){e.next=2;break}return e.abrupt("return",null);case 2:if(this.lastfetchNodeTime=uQ(),this.lastRetFileKey=h,u.sfid?u.version=1:u.vid&&(u.version=2),this.options.withReferer&&(u.with_referer=this.options.withReferer),f=this.getReqId((null===(o=this.lastFileInfo)||void 0===o?void 0:o.vid)||"",(null===(a=this.lastFileInfo)||void 0===a?void 0:a.bitrate)||0),p=l5(lz({},this.options.productConfig,{file_info:u},this.trackerReqArgs,{req_id:f})),!((null===(s=this.trackerReqArgs)||void 0===s?void 0:s.req_times)>=this.options.maxCnt)){e.next=3;break}return e.abrupt("return",null);case 3:return this.loader||(this.loader=new zt),this.trackerReqArgs.req_times+=1,e.prev=4,n.pcdn_tracker_request_cnt++,e.next=5,this.loader.load(t||this.options.trackerUrl,{body:p});case 5:if(v=e.sent,g=null,!v){e.next=8;break}if(this.trackerReqArgs.resp_times+=1,null==v||!v.Result){e.next=7;break}if(b=(_=v.Result).fid,w=_.trace_id,S=_.req_id,E=this.getReqId((null===(m=this.lastFileInfo)||void 0===m?void 0:m.vid)||"",(null===(y=this.lastFileInfo)||void 0===y?void 0:y.bitrate)||0),S===E){e.next=6;break}return e.abrupt("return",null);case 6:return(g=_.nodes)&&g.length>0?n.pcdn_tracker_success_cnt++:this.minUpdateNodeStep=this.options.NULLNodeTimeStep,uR(g).call(g,function(e){e.vid=u.vid,e.bitrate=c}),k={nodes:g,fid:b,vid:u.vid,trace_id:w,req_id:S,bitrate:c},this.PCDN_NODE_MAP.set(h,k),this.trackerReqArgs.fid=_.fid,this.trackerReqArgs.trace_id=_.trace_id,this.trackerReqArgs.token=_.token,e.abrupt("return",k);case 7:return this.minUpdateNodeStep=this.options.ErrorTimeStep,e.abrupt("return",null);case 8:e.next=10;break;case 9:return e.prev=9,e.catch(4),this.minUpdateNodeStep=this.options.ErrorTimeStep,e.abrupt("return",null);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}},e,this,[[4,9]])})),function(e,n){return t.apply(this,arguments)})}],[{key:"gainPCDNNode",value:(e=lE(lw().mark(function e(t,r,i,o){var a,s,l,c,u,h,d,f,p,v,g,m,y;return lw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=lz({},r),l=(s=lC.withResolvers()).promise,c=s.resolve,u=s.reject,a.productConfig&&a.productConfig.app_id||u("productConfig must has app_id"),i||u("video fileInfo need set"),h=i.bitrate,d=oY({},wX(i,zr)),i.bitrate&&(d.byterate=zs(h)),i.sfid?d.version=1:i.vid&&(d.version=2),r.withReferer&&(d.with_referer=r.withReferer),f=l5(lz({},o,{file_info:d},{node_num:(null==r?void 0:r.node_num)||3})),p=new zt,e.prev=1,n.pcdn_tracker_request_cnt++,e.next=2,p.load(t,{body:f});case 2:(null==(m=e.sent)||null===(v=m.Result)||void 0===v||null===(v=v.nodes)||void 0===v?void 0:v.length)>0&&n.pcdn_tracker_success_cnt++,c((null===(g=m.Result)||void 0===g?void 0:g.nodes)||[]),e.next=4;break;case 3:e.prev=3,y=e.catch(1),u((null==y?void 0:y.message)||"get pcdnNode error");case 4:return e.abrupt("return",l);case 5:case"end":return e.stop()}},e,null,[[1,3]])})),function(t,n,r,i){return e.apply(this,arguments)})}])}();function za(e,t){var n;return uu(n="".concat(e,"-")).call(n,t)}function zs(e){return Math.floor(e/8)}oX(zo,"pcdn_tracker_request_cnt",0),oX(zo,"pcdn_tracker_success_cnt",0);var zl=function(){function e(t){var n,r,i,o;return lk(this,e),oX((r=this,i=e,o=[t],i=uV(i),n=uD(r,uG()?uK(i,o||[],uV(r).constructor):i.apply(r,o))),"options",void 0),oX(n,"_mediaTypeToService",{audio:null,video:null}),oX(n,"_isDASH",!1),oX(n,"_lastMediaInfo",null),oX(n,"deletePCDNNode",function(e){var t,r,i=e.deleteUrl;"audio"===e.mediaType?null===(t=n._mediaTypeToService.audio)||void 0===t||t.deletePCDNNode(i):null===(r=n._mediaTypeToService.video)||void 0===r||r.deletePCDNNode(i)}),oX(n,"startGetPCDNNode",function(){var e,t=(null===(e=n.playerConfig.baseConfig.pcdnUrlList)||void 0===e?void 0:e.length)<1;if(n._isDASH){if("DASH"!==n.playerConfig.shared.vtype)return;var r=(null===(l=n.player.config.shared)||void 0===l||null===(l=l.definition)||void 0===l?void 0:l.list)||[],i=n.playerConfig.baseConfig.mediaInfo;n._lastMediaInfo=i;var o=i.file_id,a=uI(r).call(r,function(e){return o===e.file_id})[0],s=null;if(a){var l,c,u=n._genFileInfo(a,a.main_url);t&&(null===(c=n._mediaTypeToService.video)||void 0===c||c.startGetPCDNNode(u,n.playerConfig));var h=uI(r).call(r,function(e){return"audio"===e.mediaType});(s=uI(h).call(h,function(e){return a.audio_file_id===e.file_id})[0])&&(s=h[0])}if(s){var d,f,p=n._genFileInfo(oY(oY({},s),{},{uri:a.uri||SU(n.player),duration:a.duration||n.player.duration}),s.main_url);(null===(d=n.playerConfig.baseConfig.pcdnAudioUrlList)||void 0===d?void 0:d.length)<1&&(null===(f=n._mediaTypeToService.audio)||void 0===f||f.startGetPCDNNode(p,n.playerConfig))}}else{if("MP4"!==n.playerConfig.shared.vtype)return;if(t){var v,g=n.playerConfig.baseConfig.mediaInfo,m=n._genFileInfo(g,n.playerConfig.baseConfig.urlList[0].src);null===(v=n._mediaTypeToService.video)||void 0===v||v.startGetPCDNNode(m,n.playerConfig)}}}),n.options=lz({},e.getDefaultConfig(),n.config),n}return uZ(e,uW),lx(e,[{key:"afterPlayerInit",value:function(){var e;this.options.productConfig&&this.options.productConfig.app_id&&(this._mediaTypeToService.video=new zo(this.player,this.options),"dash"===(null===(e=this.playerConfig.baseConfig.protocol)||void 0===e?void 0:e.toLowerCase())&&(this._isDASH=!0,this._mediaTypeToService.audio=new zo(this.player,this.options,zi.AUDIO)),this.player.on("loadeddata",this.startGetPCDNNode),this.player.on("delete_pcdn_url",this.deletePCDNNode))}},{key:"beforeDestroy",value:function(){this.player.off("loadeddata",this.startGetPCDNNode),this.player.off("delete_pcdn_url",this.deletePCDNNode)}},{key:"configDidUpdate",value:function(){var e=!1,t=this.playerConfig.baseConfig.mediaInfo;this._lastMediaInfo&&t.file_id!==this._lastMediaInfo.file_id&&(e=!0),e&&(this.playerConfig.baseConfig.pcdnUrlList=[],this.playerConfig.baseConfig.pcdnAudioUrlList=[]),this.startGetPCDNNode()}},{key:"_genFileInfo",value:function(e,t){return{bitrate:e.bitrate,cdn_url:t,duration:e.duration,size:e.size,vid:e.uri,file_type:this.playerConfig.baseConfig.protocol,sfid:e.file_id}}}],[{key:"pluginName",get:function(){return"PCDN"}},{key:"pcdnReqCnt",get:function(){var e=zo.pcdn_tracker_request_cnt,t=zo.pcdn_tracker_success_cnt;return zo.pcdn_tracker_request_cnt=0,zo.pcdn_tracker_success_cnt=0,{pcdn_tracker_request_cnt:e,pcdn_tracker_failed_cnt:e-t}}},{key:"getDefaultConfig",value:function(){return{trackerUrl:"",node_num:5,maxCnt:30,withReferer:0,NULLNodeTimeStep:6e4,ErrorTimeStep:15e3,productConfig:{app_id:0}}}}])}(),zc=function(){function e(t){var n,r,i;return lk(this,e),n=this,r=e,i=[t],r=uV(r),uD(n,uG()?uK(r,i||[],uV(n).constructor):r.apply(n,i))}return uZ(e,uq),lx(e,[{key:"getRecommendation",value:function(){var e={plugins:[],pluginConfiguration:{},result:{enable:!1}};return this.config.disabled||(e.plugins=[zl],e.pluginConfiguration=oX({},zl.pluginName,this.config)),e.result=oY(oY({},this.config),{},{enable:!0}),e}}])}();oX(zc,"strategyName",u5.pcdn),oX(zc,"strategyPriority",u3.pcdn);var zu=nG.findIndex,zh="findIndex",zd=!0;zh in[]&&[,][zh](function(){zd=!1}),ta({target:"Array",proto:!0,forced:zd},{findIndex:function(e){return zu(this,e,arguments.length>1?arguments[1]:void 0)}});var zf=i5("Array","findIndex"),zp=Array.prototype,zv=f(function(e){var t=e.findIndex;return e===zp||ee(zp,e)&&t===zp.findIndex?zf:t}),zg=((a=zg||{})[a.INDEXDB=0]="INDEXDB",a[a.MEMORY=1]="MEMORY",a),zm=((s=zm||{}).PRELOAD_NEXT="PRELOAD_NEXT",s.PRELOAD_START="PRELOAD_START",s.PRELOAD_CANCEL="PRELOAD_CANCEL",s);function zy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function z_(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):lC.resolve(l).then(r,i)}function zb(e){return function(){var t=this,n=arguments;return new lC(function(r,i){var o=e.apply(t,n);function a(e){z_(o,r,i,a,s,"next",e)}function s(e){z_(o,r,i,a,s,"throw",e)}a(void 0)})}}function zw(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function zS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),h_(e,zD(r.key),r)}}function zE(e,t,n){return t&&zS(e.prototype,t),n&&zS(e,n),h_(e,"prototype",{writable:!1}),e}function zk(e,t){var n=void 0!==pf&&pp(e)||e["@@iterator"];if(!n){if(lA(e)||(n=zM(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function zT(e,t,n){return(t=zD(t))in e?h_(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zx(e){return(zx=SV?mT(SH).call(SH):function(e){return e.__proto__||SH(e)})(e)}function zC(){try{var e=!Boolean.prototype.valueOf.call(uK(Boolean,[],function(){}))}catch(e){}return(zC=function(){return!!e})()}function zI(e,t){var n=lO(e);if(pd){var r=pd(e);t&&(r=uI(r).call(r,function(t){return SK(e,t).enumerable})),n.push.apply(n,r)}return n}function zO(e){for(var t=1;t<arguments.length;t++){var n,r,i=null!=arguments[t]?arguments[t]:{};t%2?lI(n=zI(Object(i),!0)).call(n,function(t){zT(e,t,i[t])}):SW?S$(e,SW(i)):lI(r=zI(Object(i))).call(r,function(t){h_(e,t,SK(i,t))})}return e}function zA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==d9(t).call(t,r))continue;n[r]=e[r]}return n}(e,t);if(pd){var o=pd(e);for(r=0;r<o.length;r++)n=o[r],-1===d9(t).call(t,n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zP(){zP=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=h_||function(e,t,n){e[t]=n.value},o="function"==typeof pf?pf:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return h_(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(t,n,r,o){var a=SZ((n&&n.prototype instanceof g?n:g).prototype);return i(a,"_invoke",{value:function(t,n,r){var i=d;return function(o,a){if(i===f)throw Error("Generator is already running");if(i===p){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=function t(n,r){var i=r.method,o=n.iterator[i];if(o===e)return r.delegate=null,"throw"===i&&n.iterator.return&&(r.method="return",r.arg=e,t(n,r),"throw"===r.method)||"return"!==i&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+i+"' method")),v;var a=h(o,n.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var s=a.arg;return s?s.done?(r[n.resultName]=s.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):s:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,v)}(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var c=h(t,n,r);if("normal"===c.type){if(i=r.done?p:"suspendedYield",c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=p,r.method="throw",r.arg=c.arg)}}}(t,r,new x(o||[]))}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",f="executing",p="completed",v={};function g(){}function m(){}function y(){}var _={};c(_,a,function(){return this});var b=SH&&SH(SH(C([])));b&&b!==n&&r.call(b,a)&&(_=b);var w=y.prototype=g.prototype=SZ(_);function S(e){var t;lI(t=["next","throw","return"]).call(t,function(t){c(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var n;i(this,"_invoke",{value:function(i,o){function a(){return new t(function(n,a){!function n(i,o,a,s){var l=h(e[i],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==ot(u)&&r.call(u,"__await")?t.resolve(u.__await).then(function(e){n("next",e,a,s)},function(e){n("throw",e,a,s)}):t.resolve(u).then(function(e){c.value=e,a(c)},function(e){return n("throw",e,a,s)})}s(l.arg)}(i,o,n,a)})}return n=n?n.then(a,a):a()}})}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],lI(e).call(e,k,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw TypeError(ot(t)+" is not iterable")}return m.prototype=y,i(w,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:m,configurable:!0}),m.displayName=c(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return SV?SV(e,y):(e.__proto__=y,c(e,l,"GeneratorFunction")),e.prototype=SZ(w),e},t.awrap=function(e){return{__await:e}},S(E.prototype),c(E.prototype,s,function(){return this}),t.AsyncIterator=E,t.async=function(e,n,r,i,o){void 0===o&&(o=lC);var a=new E(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},S(w),c(w,l,"Generator"),c(w,a,function(){return this}),c(w,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return fi(n).call(n),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,x.prototype={constructor:x,reset:function(t){var n;if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,lI(n=this.tryEntries).call(n,T),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+pv(i).call(i,1))&&(this[i]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function zR(e,t){return(zR=SV?mT(SV).call(SV):function(e,t){return e.__proto__=t,e})(e,t)}function zD(e){var t=function(e,t){if("object"!=ot(e)||!e)return e;var n=e[Sq];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ot(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ot(t)?t:t+""}function zL(e){return(zL="function"==typeof pf&&"symbol"==typeof pE?function(e){return typeof e}:function(e){return e&&"function"==typeof pf&&e.constructor===pf&&e!==pf.prototype?"symbol":typeof e})(e)}function zM(e,t){if(e){if("string"==typeof e)return zy(e,t);var n,r=pv(n=({}).toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?pe(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zy(e,t):void 0}}var zz=OI&&OI.prototype;if(Tk({target:"Promise",proto:!0,real:!0,forced:!!OI&&S8(function(){zz.finally.call({then:function(){}},function(){})})},{finally:function(e){var t=Ik(this,ED("Promise")),n=EA(e);return this.then(n?function(n){return Au(t,e()).then(function(){return n})}:e,n?function(n){return Au(t,e()).then(function(){throw n})}:e)}}),EA(OI)){var zN=ED("Promise").prototype.finally;zz.finally!==zN&&k4(zz,"finally",zN,{unsafe:!0})}var zj={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}SZ&&(r.prototype=SZ(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?pv(r).call(r,1):r);return pd?uu(i).call(i,pd(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(c=1,l=Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var d,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(d=1,l=Array(h-1);d<h;d++)l[d-1]=arguments[d];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(zj);var zB=f(zj.exports),zU=ID.filter;Tk({target:"Array",proto:!0,forced:!TJ("filter")},{filter:function(e){return zU(this,e,arguments.length>1?arguments[1]:void 0)}});var zF=TypeError,zG=Object.getOwnPropertyDescriptor,zV=Ee&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}()?function(e,t){if(TT(e)&&!zG(e,"length").writable)throw zF("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},zH=TJ("splice"),zZ=Math.max,zK=Math.min;function zW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ot(e)||!e)return e;var n=e[Sq];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ot(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ot(t)?t:t+""}(t))in e?h_(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Tk({target:"Array",proto:!0,forced:!zH},{splice:function(e,t){var n,r,i,o,a,s,l=E4(this),c=To(l),u=Tn(e,c),h=arguments.length;for(0===h?n=r=0:1===h?(n=0,r=c-u):(n=h-2,r=zK(zZ(k8(t),0),c-u)),TC(c+n-r),i=Tq(l,r),o=0;o<r;o++)(a=u+o)in l&&TI(i,o,l[a]);if(i.length=r,n<r){for(o=u;o<c-r;o++)s=o+n,(a=o+r)in l?l[s]=l[a]:Rq(l,s);for(o=c;o>c-r+n;o--)Rq(l,o-1)}else if(n>r)for(o=c-r;o>u;o--)s=o+n-1,(a=o+r-1)in l?l[s]=l[a]:Rq(l,s);for(o=0;o<n;o++)l[o+u]=arguments[o+2];return zV(l,c-r+n),i}});var z$=((l=z$||{}).MP4="MP4",l.MP4_MSE_SOFT="MP4_MSE_SOFT",l.MP4_MSE="MP4_MSE",l.MP4_0="MP4_0",l.MP4_1="MP4_1",l.MP4_2="MP4_2",l.DASH="DASH",l.HLS="HLS",l),zq={CDN:"cdn"},zX=0,zJ=1,zY=2,zQ=3,z0=4,z1=5,z2=6,z5=7,z4=8,z3=9;zW(zW(zW(zW(zW(zW(zW(zW(zW(zW({},zX,"before start"),zJ,"codec not support"),zY,"start init destroy"),zQ,"no preload"),z0,"close downgrade"),z1,"init promise catch"),z2,"player error"),z5,"http error"),z4,"mse error"),z3,"destroy");var z6=mu.values;ta({target:"Object",stat:!0},{values:function(e){return z6(e)}});var z9=J.Object.values,z7=f(z9),z8=Ts.includes;Tk({target:"Array",proto:!0,forced:S8(function(){return![,].includes()})},{includes:function(e){return z8(this,e,arguments.length>1?arguments[1]:void 0)}}),xh("includes");var Ne=Eg(Ei.f),Nt=Eg([].push),Nn=function(e){return function(t){for(var n,r=Ex(t),i=T5(r),o=i.length,a=0,s=[];o>a;)n=i[a++],Ee&&!Ne(r,n)||Nt(s,e?[n,r[n]]:r[n]);return s}},Nr={entries:Nn(!0),values:Nn(!1)}.values;Tk({target:"Object",stat:!0},{values:function(e){return Nr(e)}});var Ni=TypeError,No=ko("match"),Na=function(e){if(AU(e))throw Ni("The method doesn't accept regular expressions");return e},Ns=Eg("".indexOf);Tk({target:"String",proto:!0,forced:!function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[No]=!1,"/./"[e](t)}catch(e){}}return!1}("includes")},{includes:function(e){return!!~Ns(CU(ET(this)),CU(Na(e)),arguments.length>1?arguments[1]:void 0)}});var Nl=function(){try{if("undefined"!=typeof indexedDB)return indexedDB}catch(e){}}();function Nc(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function Nu(e){return"string"!=typeof e&&(e=String(e)),e}var Nh={},Nd="readonly",Nf="readwrite";function Np(e){var t=Nh[e.name],n={};n.promise=new lC(function(e,t){n.resolve=e,n.reject=t}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function Nv(e,t){return new lC(function(n,r){if(Nh[e.name]=Nh[e.name]||Nb(),e.db){if(!t)return n(e.db);Np(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var o=null==Nl?void 0:Nl.open.apply(Nl,i);t&&(o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName)}catch(e){if("ConstraintError"!==e.name)throw e}}),o.onerror=function(e){e.preventDefault(),r(o.error)},o.onsuccess=function(){n(o.result),function(e){var t=Nh[e.name].deferredOperations.pop();if(t)t.resolve(),t.promise}(e)}})}function Ng(e){return Nv(e,!1)}function Nm(e){return Nv(e,!0)}function Ny(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version,e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function N_(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return lC.resolve().then(function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),Nv(e,!0)}).then(function(){return(function(e){Np(e);for(var t=Nh[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,Nv(e,!1).then(function(t){return e.db=t,Ny(e)?Nv(e,!0):t}).then(function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r}).catch(function(t){throw function(e,t){var n=Nh[e.name].deferredOperations.pop();if(n)n.reject(t),n.promise}(e,t),t})})(e).then(function(){N_(e,t,n,r-1)})}).catch(n);n(i)}}function Nb(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}var Nw=zE(function e(){zw(this,e)},[{key:"ready",value:function(){return this._ready}},{key:"_initStorage",value:function(e){var t,n=this;n._defaultConfig=e;var r={db:null,name:"",version:""};if(e)for(var i in e)r[i]=e[i];var o=Nh[r.name];o||(o=Nb(),Nh[r.name]=o),o.forages.push(n),n._initReady||(n._initReady=n.ready,n._ready=n._fullyReady);var a=[];function s(){return lC.resolve()}for(var l=0;l<o.forages.length;l++){var c=o.forages[l];c!==n&&a.push(c._initReady().catch(s))}var u=pv(t=o.forages).call(t,0);return n._ready=lC.all(a).then(function(){return r.db=o.db,Nv(r,!1)}).then(function(e){return r.db=e,Ny(r,n._defaultConfig.version)?Nv(r,!0):e}).then(function(e){r.db=o.db=e,n._dbInfo=r;for(var t=0;t<u.length;t++){var i=u[t];i!==n&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}}),n._ready}},{key:"probeSupport",get:function(){return function(){try{if(null==Nl||!Nl.open)return!1;var e,t=/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n="function"==typeof fetch&&-1!==d9(e=fetch.toString()).call(e,"[native code");return(!t||n)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}()}},{key:"getItem",value:function(e,t){var n=this;e=Nu(e);var r=new lC(function(t,r){n.ready().then(function(){N_(n._dbInfo,Nd,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),t(e)},a.onerror=function(){r(a.error)}}catch(e){r(e)}})}).catch(r)});return Nc(r,t),r}},{key:"setItem",value:function(e,t,n){var r=this;e=Nu(e);var i=new lC(function(n,i){r.ready().then(function(){return r._dbInfo,t}).then(function(t){N_(r._dbInfo,Nf,function(o,a){if(o)return i(o);try{var s=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var l=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=l.error?l.error:l.transaction.error;i(e)}}catch(e){i(e)}})}).catch(i)});return Nc(i,n),i}},{key:"removeItem",value:function(e,t){var n=this;e=Nu(e);var r=new lC(function(t,r){n.ready().then(function(){N_(n._dbInfo,Nf,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}})}).catch(r)});return Nc(r,t),r}},{key:"clear",value:function(e){var t=this,n=new lC(function(e,n){t.ready().then(function(){N_(t._dbInfo,Nf,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}})}).catch(n)});return Nc(n,e),n}},{key:"length",value:function(e){var t=this,n=new lC(function(e,n){t.ready().then(function(){N_(t._dbInfo,Nd,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(e){n(e)}})}).catch(n)});return Nc(n,e),n}},{key:"all",value:function(e){var t=this,n=new lC(function(e,n){t.ready().then(function(){N_(t._dbInfo,Nd,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).openCursor(),a=[];o.onsuccess=function(){var t=o.result;t?(a.push({key:t.key,value:t.value}),t.continue()):e(a)},o.onerror=function(){n(o.error)}}catch(e){n(e)}})}).catch(n)});return Nc(n,e),n}},{key:"_fullyReady",value:function(e){var t,n,r,i=this,o=i._initReady().then(function(){var e=Nh[i._dbInfo.name];if(null!=e&&e.dbReady)return e.dbReady});return t=o,n=e,r=e,"function"==typeof n&&t.then(n),"function"==typeof r&&t.catch(r),o}},{key:"getItemSync",value:function(){throw Error("NotSupported")}}]),NS=zE(function e(){zw(this,e)},[{key:"_initStorage",value:function(e){var t,n=e.name,r=e.storeName,i=uu(t="".concat(n,"_")).call(t,r);return this.key=i,window[i]&&"object"===zL(window[i])||(window[i]={}),this.store=window[i],lC.resolve()}},{key:"getItem",value:function(e,t){var n=this.store[e];return void 0===n&&(n=null),this._internalPromise(t,n)}},{key:"getItemSync",value:function(e,t){var n=this.store[e];return void 0===n&&(n=null),t&&t(n),n}},{key:"setItem",value:function(e,t,n){return this.store[e]=t,this._internalPromise(n)}},{key:"removeItem",value:function(e,t){return delete this.store[e],this._internalPromise(t)}},{key:"clear",value:function(e){return this.store={},window[this.key]={},this._internalPromise(e)}},{key:"length",value:function(e){var t=lO(this.store).length;return this._internalPromise(e,t)}},{key:"_internalPromise",value:function(e,t){var n=t?lC.resolve(t):lC.resolve();return Nc(n,e),n}},{key:"all",value:function(e){for(var t=[],n=lO(this.store),r=0;r<n.length;r++){var i=n[r];t.push({key:i,value:this.store[i]})}return this._internalPromise(e,t)}},{key:"probeSupport",value:function(){return!0}}]),NE={description:"",name:"__PRE_CACHE__",storeName:"keyvaluepairs",version:1},Nk="__PRE_CACHE__KEYS",NT=zE(function e(t,n){zw(this,e),this._allCachedKeyMap={},this._memory=0,this._cnt=0;var r=n===zg.MEMORY?NS:Nw;this._cacheType=n,this._driver=new r,this._driver._initStorage(NE).catch(function(){}),this._hasIdbForbidden=!1,this._maxCache=!t||t<=0?200:t,this.setMaxCache(this._maxCache),this._allCachedKeys={},this._allCachedTimeKeys={},this.getCachedKeysFromLocal(),this._readyPromise=new A9,this.init()},[{key:"supportSync",value:function(){return this._cacheType===zg.MEMORY}},{key:"getCachedKeysFromLocal",value:function(){var e=A6.getItem(Nk);if(e)for(var t=e.split("|"),n=0;n<t.length;n++){var r=t[n],i=this._getCacheKeyInfos(r),o=i.time,a=i.cachedKey;this._allCachedKeys[a]=1,this._allCachedTimeKeys[a]=o}}},{key:"_getCacheKeyInfos",value:function(e){var t,n=e.split("$");return 2===n.length&&(t=n[0],e=n[1]),{time:t,cachedKey:e}}},{key:"writeCachedKeysToLocal",value:function(e){var t=[];this._allCachedKeys={},this._allCachedTimeKeys={};for(var n=0;n<e.length;n++){var r=e[n].key,i=this._getCacheKeyInfos(r),o=i.time,a=i.cachedKey;this._allCachedKeys[a]=1,this._allCachedTimeKeys[a]=o,t.push(r)}var s=t.join("|");A6.setItem(Nk,s)}},{key:"init",value:function(){var e=this;this._driver.setItem("test","test").then(function(){}).catch(function(){e._hasIdbForbidden=!0}).finally(function(){e._driver.removeItem("test").catch(function(){}),e._hasIdbForbidden&&(e._driver=new NS,e._driver._initStorage(NE)),e._getAll(),e._readyPromise.resolve()})}},{key:"_getAll",value:function(){var e=this;this._memory=0,this._cnt=0,this._driver.all().then(function(t){e._cachedLength=t.length;var n=t.length-e._maxCache,r=t;if(n>0){var i=pv(t).call(t,0,n);r=pv(t).call(t,n);for(var o=0;o<i.length;o++)e.removeItem(i[o].key).then(function(){})}e._cnt=r.length;for(var a=0;a<r.length;a++){var s=r[a];if("object"===zL(s.value)){var l=z7(s.value);lI(l).call(l,function(t){e._memory+=(null==t?void 0:t.memory)||0});var c=e._getCacheKeyInfos(s.key).cachedKey;e._allCachedKeyMap[c]=lO(s.value)}}e.writeCachedKeysToLocal(r)}).catch(function(){})}},{key:"getAllCachedDataKeys",value:function(){var e,t=[];return lI(e=z7(this._allCachedKeyMap)).call(e,function(e){var n;t.push.apply(t,function(e){if(lA(e))return zy(e)}(n=e)||function(e){if(void 0!==pf&&null!=pp(e)||null!=e["@@iterator"])return pe(e)}(n)||zM(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}),t}},{key:"getItem",value:(c=zb(zP().mark(function e(t,n,r){var i,o,a,s;return zP().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=this.hasItem(t))&&r&&(i=(null==(o=this._allCachedKeyMap[t])?void 0:hu(o).call(o,r))||!1),i){e.next=4;break}return e.abrupt("return",lC.resolve(!1));case 4:return a=this._getTimeKey(t).timeKey,e.next=7,this._driver.getItem(a,n);case 7:if(s=e.sent,!r){e.next=10;break}return e.abrupt("return",s[r]);case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)})),function(e,t,n){return c.apply(this,arguments)})},{key:"getItemSync",value:function(e,t,n){var r=this.hasItem(e);if(r&&n){var i=this._allCachedKeyMap[e];r=(null==i?void 0:hu(i).call(i,n))||!1}if(!r)return!1;var o=this._getTimeKey(e).timeKey,a=this._driver.getItemSync(o,t);return a&&n?a[n]:a}},{key:"setItem",value:function(e,t,n){var r=this;this._getTimeKey(e).timeKey&&this.removeItem(e);var i=(new Date).getTime();this._allCachedKeys[e]=1,this._allCachedTimeKeys[e]=i;var o=this._genTimeKey(e,i);return n=n?function(){r._getAll(),n()}:function(){r._getAll()},this._driver.setItem(o,t,n)}},{key:"_getTimeKey",value:function(e){var t=this._allCachedTimeKeys[e],n=e;return t&&(n=this._genTimeKey(e,t)),{timeKey:n,time:t}}},{key:"_genTimeKey",value:function(e,t){var n,r;return uu(n=uu(r="".concat(t)).call(r,"$")).call(n,e)}},{key:"removeItem",value:function(e,t){var n=this._getTimeKey(e).timeKey,r=this._driver.removeItem(n,t);return delete this._allCachedKeys[e],delete this._allCachedTimeKeys[e],delete this._allCachedKeyMap[e],r}},{key:"hasItem",value:function(e){return!!this._allCachedKeys[e]}},{key:"clear",value:function(e){return this._driver.clear(e)}},{key:"length",value:function(e){return this._driver.length(e)}},{key:"setMaxCache",value:function(e){"number"==typeof e&&e>0&&(this._maxCache=e)}},{key:"getMemoryInfo",value:function(){return{memory:this._memory,cnt:this._cnt}}}]),Nx=["vid","loadType","size","speed","cacheKey","vtype","duration","bitrate"],NC=0,NI=zE(function e(t){var n=this;zw(this,e),this._preload_bandwith_map=new f8,this._usepreload_info=new f8,this._pcdn_info_map=new f8,this._updateRealTimeSpeed=function(e){NC=e.speed,n.emit("real_time_speed",e)},this._manager=t},[{key:"setPreloadBandwidth",value:function(e,t){this._preload_bandwith_map.set(e,t)}},{key:"getPreloadBandwidth",value:function(e){return this._preload_bandwith_map.get(e)}},{key:"_updateLoadInfo",value:function(e,t,n){var r=this._pcdn_info_map.get(e);r||(r={}),r[t]||(r[t]={},r[t].loadLen=0),r[t].loadLen=r[t].loadLen+n,this._pcdn_info_map.set(e,r)}},{key:"getLoadInfoAndDelete",value:function(e){var t=this._pcdn_info_map.get(e);return this._pcdn_info_map.delete(e),t}},{key:"getPreloadUnuseInfo",value:function(){var e,t={},n=zk(this._preload_bandwith_map);try{for(n.s();!(e=n.n()).done;){var r,i,o=(r=e.value,i=2,function(e){if(lA(e))return e}(r)||function(e,t){var n=null==e?null:void 0!==pf&&pp(e)||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(r,2)||zM(r,i)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=o[1];if(this._usepreload_info.get(a))this._preload_bandwith_map.delete(a);else{var l=a.split("#"),c=l.length>0?l[0]:a;t[c]?(t[c].bw+=s.bw||0,t[c].pbw+=s.pbw||0):t[c]={vid:c,bw:s.bw||0,pbw:s.pbw||0,bitrate:s.bitrate||0,duration:s.duration||0}}}}catch(e){n.e(e)}finally{n.f()}return z7(t)}},{key:"bwEventEmit",value:function(e){var t=e.vid,n=e.loadType,r=e.size,i=e.speed,o=e.cacheKey,a=e.vtype,s=e.duration,l=e.bitrate,c=zA(e,Nx),u=this.getPreloadBandwidth(o)||{bw:0,pbw:0,vid:t,duration:s,bitrate:l};n&&n!==zq.CDN?(u.pbw=u.pbw+r,this.emit("prf_data_size",zO({vid:t,task_type:2,pcdn_size:r,pcdn_speed:i,vtype:a,bitrate:l,duration:s},c))):(u.bw=u.bw+r,this.emit("prf_data_size",zO({vid:t,task_type:2,cdn_size:r,cdn_speed:i,vtype:a,duration:s,bitrate:l},c))),this.setPreloadBandwidth(o,u),this._updateRealTimeSpeed({speed:i,type:n||zq.CDN}),this._updateLoadInfo(o,n,r)}},{key:"setUsePreloadInfo",value:function(e,t){this._usepreload_info.set(e,t)}},{key:"realTimeSpeed",get:function(){return NC}},{key:"emit",value:function(e,t){var n;null===(n=this._manager)||void 0===n||n.emit(e,t)}},{key:"destroy",value:function(){this._preload_bandwith_map=new f8,this._usepreload_info=new f8,this._pcdn_info_map=new f8,this._manager=null}}]);function NO(e,t){var n=[0,0];if(e)for(var r=0,i=e.length;r<i&&(n[0]=e.start(r),n[1]=e.end(r),!(n[0]<=t&&t<=n[1]));r++);return n[0]-t<=0&&t-n[1]<=0?n:[0,0]}function NA(e,t,n){for(var r=0;r<e.length;r++)if(n===e[r][t])return r;return -1}var NP=["vid","loadType","size","speed","cacheKey","vtype","duration","bitrate"],NR=!1,ND=function(){var e,t,n,r,i,o;function a(){var e,t,n,r;return zw(this,a),(t=this,n=zx(n=a),e=function(e,t){if(t&&("object"==ot(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(t,zC()?uK(n,[],zx(t).constructor):n.apply(t,r)))._loaders={},e._loaderInsts={},e._taskIntervalId=0,e._currentPreloadInst=null,e._preloadDataList=[],e._player=null,e._stepwise=!1,e._playingVids=[],e._isOpen=!0,e._userDefinition=null,e._startDefinition=null,e.onPreloadNext=zb(zP().mark(function t(){var n,r,i,o,a,s,l,c,u,h,d,f,p,v;return zP().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=(i=e)._preloadDataList,a=i._config,!(!e._isOpen||e._currentPreloadInst||e._preloadDataList.length<1)){t.next=3;break}return t.abrupt("return",!1);case 3:if(l=null==(s=e.findPreloadItem(o,!1))?void 0:s.data,s&&null!=l&&l.payload){t.next=7;break}return t.abrupt("return",!1);case 7:if(c=e.selectBeforeStart(l),e._filterMixPayload(l,c),e.setStartDefinition(null===(n=c)||void 0===n?void 0:n.definition),e.log("log","selectBeforeStart",null===(r=c)||void 0===r?void 0:r.vtype,c),u=e._getPreloaderKey(c||l)){t.next=17;break}return e.log("warn","need to set vtype, no preloader",l),a.autoPreload&&e.emit(zm.PRELOAD_NEXT),t.abrupt("return",!1);case 17:if(h=e._getLoaderInst(u)){t.next=23;break}if(d=e._getLoader(u)){t.next=22;break}return t.abrupt("return",!1);case 22:h=new d(e,e._config);case 23:return e._currentPreloadInst=h,e._currentPreloadInst.setData(l),e._emitEvtByStart(l),t.prev=26,e.log("log","loaderInst.start",u,e.getStartDefinition(),l),t.next=30,h.start(l,e.getStartDefinition());case 30:(f=t.sent)&&f.remove&&(p=d9(o).call(o,s))>-1&&fr(o).call(o,p,1),t.next=37;break;case 34:t.prev=34,t.t0=t.catch(26),e.log("error","preload data error!",t.t0);case 37:return t.prev=37,null===(v=e._currentPreloadInst)||void 0===v||v.setData(null),e._currentPreloadInst=null,e._config.autoPreload&&e.emit(zm.PRELOAD_NEXT),t.finish(37);case 42:return t.abrupt("return",!0);case 43:case"end":return t.stop()}},t,null,[[26,34,37,42]])})),e._stats=new NI(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=SZ(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),h_(e,"prototype",{writable:!1}),t&&zR(e,t)}(a,zB),zE(a,[{key:"VTYPES",get:function(){return z$}},{key:"player",get:function(){return this._player}},{key:"stepwise",get:function(){return this._stepwise}},{key:"realTimeSpeed",get:function(){return this._stats.realTimeSpeed}},{key:"currentPreloadInst",get:function(){return this._currentPreloadInst}},{key:"cacheInst",get:function(){return this._cacheInst}},{key:"preloadDataList",get:function(){return this._preloadDataList}},{key:"log",value:function(e){for(var t,n,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];NR&&(n=console)[e].apply(n,uu(t=["[PreloaderManager]"]).call(t,i))}},{key:"register",value:function(e){try{if("undefined"==typeof window)return void this.log("preloader in ssr");var t=a.getDefaultConfig();this._config=lz({},t,e.config),this._options=e;var n=this._config,r=n.preloadMaxCacheCount,i=n.preloadCacheType;this._stepwise=!!this._config.stepwise,this._cacheInst=new NT(r,i),this._selector=e.BitrateSelector,this.on(zm.PRELOAD_NEXT,this.onPreloadNext);for(var o=e.loaders,s=0;s<o.length;s++)this.registerLoader(o[s].vtype,o[s])}catch(e){this.log("register error",e)}}},{key:"registerLoader",value:function(e,t){e&&(this._loaders[e]&&this.log("warn","vtype:".concat(e," Preloader already exist")),this._loaders[e]=t,this._loaderInsts[e]=new t(this,this._config))}},{key:"_checkIfCanPreload",value:function(){if(null===this._currentPreloadInst&&this._preloadDataList.length>0){var e=this.findPreloadItem(this._preloadDataList),t=null==e?void 0:e.data;if(this._wipPreloadTask=e,e&&null!=t&&t.payload){if(!this._getPreloaderKey(t))return this.log("warn","need to set vtype"),this.stopCheckTask(),!1;var n=this._config.checkIfCanPreload;return n&&"function"==typeof n?n(t):this._config.autoCheckPreload?this._autoCheckPreload(t,e):(this.stopCheckTask(),!1)}}return!1}},{key:"_autoCheckPreload",value:function(e,t){return this._player?function(e,t,n){if(!e)return!1;var r=NO(e.buffered,e.currentTime),i=t.startPreloadControl,o=t.startPreloadMinBuffer,a=t.startPreloadMinPosTime,s=t.minBufferLength;if(i){var l=Math.max(r[1]-e.currentTime,0);if("number"==typeof o&&l>o){if("number"==typeof a&&e.currentTime>a||e.currentTime>e.duration/2)return null==n||n("log","[checkIfStartPreload] hit buffer",l,"startPreloadMinBuffer",o),!0}else if(e.currentTime+o+1>e.duration&&e.currentTime+l>e.duration-1)return null==n||n("log","[checkIfStartPreload] hit end"),!0}else{var c="number"==typeof s&&e.duration>s+5?s:e.duration/2,u=Math.min(e.currentTime+s,e.duration),h=r[1]-u;if(e.currentTime>c&&h>-1)return null==n||n("log","[checkIfStartPreload] hit minPos",c,"minCacheTime",u),!0}return!1}(this._player,this._config,this.log):(this.log("warn","need set video"),!1)}},{key:"_getPreloaderKey",value:function(e){return e.vtype?e.vtype.toUpperCase():""}},{key:"_sort",value:function(e){uC(e).call(e,function(e,t){return void 0===e.order&&void 0===t.order||"number"==typeof e.order&&"number"==typeof t.order&&e.order<t.order?-1:1})}},{key:"_addPlayingVid",value:function(e,t){var n=this._playingVids,r=NA(this._playingVids,"playerId",e);r>-1?n[r].vid=t:n.push({vid:t,playerId:e})}},{key:"selectBeforeStart",value:function(e){var t=e.targetDefinition,n=e.defaultDefinition;if(t)return zO({},t);var r=this.getUserSelectDefinition(),i=this.selectBitrate(null==e?void 0:e.payload,n,r),o=(null==i?void 0:i.vtype)||e.vtype,a=zO(zO({},i),{},{vtype:o});return e.targetDefinition=a,this.log("log","selectBeforeStart",null==e?void 0:e.vid,o,null==i?void 0:i.definition,null==e?void 0:e.payload,i),a}},{key:"selectBitrate",value:function(e,t,n){if(e.length<1)return null;var r,i,o,a=null;if(this._selector)a=this._selector.getSuitableBitrate(e,n),this.log("log","BitRateAdapter result",null===(r=a)||void 0===r?void 0:r.vtype,null===(i=a)||void 0===i?void 0:i.definition,null===(o=a)||void 0===o?void 0:o.bitrate);else{for(var s=-1,l=-1,c=0;c<e.length;c++){var u=e[c];n&&u.definition===n?s=c:t&&u.definition===t&&(l=c)}a=e[s>=0?s:l>=0?l:0]}return zO({},a)}},{key:"startCheckTask",value:function(){var e=this,t=this._preloadDataList,n=this._currentPreloadInst,r=this._config.autoCheck;(this._taskIntervalId&&(clearTimeout(this._taskIntervalId),this._taskIntervalId=0),null!=n&&n.taskInProgress&&function(e,t,n){var r=t.endPreloadControl,i=t.endPreloadMinBuffer,o=t.startPreloadMinBuffer;if(!e)return!1;if(r){if("number"==typeof o&&e.currentTime+o>=e.duration)return!1;var a,s=Math.max(NO(e.buffered,e.currentTime)[1]-e.currentTime,0);if(s<=i)return null==n||n("log","[checkIfCancelPreload] hit buffer:",s,"endPreloadMinBuffer:",i,"video:",uu(a="".concat(e.currentTime,"/")).call(a,e.duration)),!0}return!1}(this._player,this._config,this.log))?this.cancelPreloadingTask():0!==t.length&&(this._checkIfCanPreload()&&this.onPreloadNext(),this._taskIntervalId=pS(function(){e.startCheckTask()},r.interval))}},{key:"cancelPreloadingTask",value:function(){var e,t=this._preloadDataList,n=this._wipPreloadTask,r=this._config.endPreloadTaskStrategy;this.cancel(),n&&(this.stepwise?"number"==typeof(null===(e=n.data)||void 0===e?void 0:e.stepIdx)&&n.data.stepIdx>-1&&n.data.stepIdx--:0!==r&&t.unshift(n),this._emitEvtByCancel(n.data),this._wipPreloadTask=void 0)}},{key:"stopCheckTask",value:function(){this._taskIntervalId&&(clearTimeout(this._taskIntervalId),this._taskIntervalId=-1)}},{key:"getPreloadMetaByVid",value:function(e,t){for(var n=this.getAllCachedDataKeys(),r=[],i="",o=0;o<n.length;o++){var s=n[o],l=a.parseKey(s);l.vid===e&&(i=l.vtype,null!=t&&t.vtype&&t.vtype!==i||r.push(s))}if(0===r.length)return null;var c=this._getLoaderInst(i);return c?c.parseKey(r):null}},{key:"preloadNext",value:function(){this.onPreloadNext()}},{key:"_filterMixPayload",value:function(e,t){var n=t.vtype;if(n&&lA(e.payload)){var r,i=e.vtype===n;e.vtype=n,e.payload=uI(r=e.payload).call(r,function(e){return e.vtype===n||i})}}},{key:"_emitEvtByStart",value:function(e){var t=this._player;if(e&&t)try{this.emit(zm.PRELOAD_START,this._getEventPayload(e,t))}catch(e){this.log("warn","preload emit start error",null==e?void 0:e.stack)}}},{key:"_emitEvtByCancel",value:function(e){var t=this._player;if(e&&t)try{this.emit(zm.PRELOAD_CANCEL,this._getEventPayload(e,t))}catch(e){this.log("warn","preload emit cancel error",null==e?void 0:e.stack)}}},{key:"_getEventPayload",value:function(e,t){var n=t.config.vid,r=this._config,i=r.minBufferLength,o=r.startPreloadControl,a=r.startPreloadMinBuffer,s=r.startPreloadMinPosTime,l=r.endPreloadMinBuffer,c=r.endPreloadControl,u=NO(t.video.buffered,t.currentTime),h=u[1]?u[1]-t.currentTime:0;return{vid:n,pid:e.vid,buffer:u,bufferHead:h,currentTime:t.currentTime,minBufferLength:i,startPreloadControl:o,startPreloadMinBuffer:a,startPreloadMinPosTime:s,endPreloadControl:c,endPreloadMinBuffer:l}}},{key:"addPreloadList",value:(o=zb(zP().mark(function e(t){var n,r,i;return zP().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._sort(t),n=zk(t),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,this._addData(i);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:this._checkAutoTask();case 19:case"end":return e.stop()}},e,this,[[2,12,15,18]])})),function(e){return o.apply(this,arguments)})},{key:"addPlayingId",value:function(e,t){for(var n=this._preloadDataList,r=-1,i=0;i<n.length;i++)if(e===n[i].data.vid){r=i;break}if(r>-1){var o=fr(n).call(n,r,1);this.log("log","cancelPreloadByVid remove from list",o.length>0&&o[0].data.vid)}var a=this._currentPreloadInst,s=a?a.getData():null;this.log("log","_currentPreloadInst",s),s&&s.vid===e&&this.cancel(),t&&this._addPlayingVid(t,e)}},{key:"removePlayingId",value:function(e){var t=this._playingVids,n=NA(t,"playerId",e);if(n>-1){var r=fr(t).call(t,n,1);this.log("log","removePlayingId",r.length>0&&r[0].playerId)}}},{key:"addPreload",value:(i=zb(zP().mark(function e(t){return zP().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._addData(t);case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:this._sort(this._preloadDataList),this._checkAutoTask();case 7:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"_addData",value:(r=zb(zP().mark(function e(t){var n,r,i,o,a,s,l,c,u,h=this;return zP().wrap(function(e){for(var d,f;;)switch(e.prev=e.next){case 0:if(t.data.vtype){e.next=3;break}return this.log("warn","vtype is null, can\xb7t select loader"),e.abrupt("return",!1);case 3:if(n=t.data,r=this._getLoader(n.vtype)){e.next=8;break}return this.log("warn","the loader for ".concat(n.vtype," not registered")),e.abrupt("return",!1);case 8:if(!((o=NA(i=this._playingVids,"vid",t.data.vid))>=0)){e.next=14;break}return a=i[o],this.log("log",uu(d="vid:".concat(a.vid," is already instantiated and loaded, playerId is ")).call(d,a.playerId)),e.abrupt("return");case 14:return s=this._getUniqueKey(t),e.next=17,this.getItem(t.data,!0);case 17:if(!(l=e.sent)||!r.isUniqueCache(l)){e.next=22;break}return this.log("log","".concat(s," already exist in cache")),e.abrupt("return",!1);case 22:if(!this._currentPreloadInst||!(c=this._currentPreloadInst.getData())||this._getUniqueKey({data:c,order:0})!==s){e.next=29;break}return this.log("log","currentKey repeat"),e.abrupt("return");case 29:if(u=uI(f=this._preloadDataList).call(f,function(e){return h._getUniqueKey(e)===s}),this.log("log","addedItems",s,u),0!==u.length){e.next=35;break}return this._stepwise&&void 0===t.data.steps&&(t.data.steps=[0]),this._preloadDataList.push(t),e.abrupt("return",!0);case 35:return this.log("log","".concat(s," already exist in preloadList")),e.abrupt("return",!1);case 37:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"_getUniqueKey",value:function(e){return e.data.vtype?a.generateUniqueCacheKey(e.data):e.data.vid}},{key:"_checkAutoTask",value:function(){var e=this,t=this._config,n=t.autoCheck,r=t.autoPreload;lC.resolve().then(function(){r&&e.emit(zm.PRELOAD_NEXT),null!=n&&n.enable&&!e._taskIntervalId&&e.startCheckTask()})}},{key:"setItem",value:function(e,t,n,r){var i=a.generateUniqueCacheKey(e);if(!n){var o=this._getLoader(e.vtype);if(!o)return this.log("warn","no ".concat(e.vtype," preloader, register")),lC.resolve(!1);t=zT({},o.generateUniqueKey(e),t)}return this._cacheInst.setItem(i,t,r)}},{key:"getItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=a.generateUniqueCacheKey(e),i=this._getLoader(e.vtype);if(!i)return this.log("warn","no ".concat(e.vtype," preloader, register")),lC.resolve(!1);var o=t?"":i.generateUniqueKey(e);return this._cacheInst.getItem(r,n,o)}},{key:"getItemSync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=a.generateUniqueCacheKey(e),i=this._getLoader(e.vtype);if(!i)return this.log("warn","no ".concat(e.vtype," preloader, register")),!1;var o=t?"":i.generateUniqueKey(e);return this._cacheInst.getItemSync(r,n,o)}},{key:"supportSync",value:function(){return this._cacheInst.supportSync()}},{key:"removeItem",value:function(e,t){var n=a.generateUniqueCacheKey(e);return this._cacheInst.removeItem(n,t)}},{key:"getPreLoadData",value:(n=zb(zP().mark(function e(t){var n,r,i;return zP().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.vtype,!(r=this._getLoaderInst(n))){e.next=7;break}return e.next=5,r.getPreLoadData(t);case 5:return i=e.sent,e.abrupt("return",i);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getPreLoadDataSync",value:function(e){var t=e.vtype,n=this._getLoaderInst(t);return n?n.getPreLoadDataSync(e):null}},{key:"removeAll",value:function(){var e=this,t=this.getAllCachedDataKeys();lI(t).call(t,function(t){var n=e.getPreloadMetaByVid(t.split("#")[0]);n&&e.removeItem(n,null)})}},{key:"removeAllPreloadTask",value:function(){this.cancel(),this._preloadDataList=[],this._playingVids=[]}},{key:"disable",value:function(){this._isOpen=!1,this.stopCheckTask()}},{key:"enable",value:function(){this._isOpen=!0,this._config.autoCheck.enable&&!this._taskIntervalId&&this._preloadDataList.length>0&&this.startCheckTask()}},{key:"setUserSelectDefinition",value:function(e){this._userDefinition=e}},{key:"getUserSelectDefinition",value:function(){return this._userDefinition||null}},{key:"getStartDefinition",value:function(){return this._startDefinition}},{key:"setStartDefinition",value:function(e){this._startDefinition=e}},{key:"destroy",value:(t=zb(zP().mark(function e(){var t,n,r,i;return zP().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._stats.destroy(),t=lO(this._loaderInsts),n=0;case 3:if(!(n<t.length)){e.next=12;break}if(r=t[n],!(i=this._getLoaderInst(r))){e.next=9;break}return e.next=9,i.destroy();case 9:n++,e.next=3;break;case 12:this.removeAllListeners(),this._loaderInsts={},this._loaders={},this._playingVids=[],this.detachPlayer();case 17:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"cancel",value:(e=zb(zP().mark(function e(){var t;return zP().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._currentPreloadInst){e.next=4;break}return e.next=3,this._currentPreloadInst.cancel();case 3:null===(t=this._currentPreloadInst)||void 0===t||t.setData(null);case 4:this._currentPreloadInst=null;case 5:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"removeByPlayInst",value:function(e,t){for(var n=this._preloadDataList.length-1;n>-1;n--){var r,i=this._preloadDataList[n];if(i.data.vid===e&&i.playerId===t){fr(r=this._preloadDataList).call(r,n,1);break}}}},{key:"getAllCachedDataKeys",value:function(){var e;return(null===(e=this._cacheInst)||void 0===e?void 0:e.getAllCachedDataKeys())||[]}},{key:"getDataUniqueKey",value:function(e){var t=this._getLoader(e.vtype);return!!t&&t.generateUniqueKey(e)}},{key:"hasItemSameVid",value:function(e){var t=this._getLoader(e.vtype),n=this._getLoaderInst(e.vtype);if(t&&n){var r=t.generateUniqueKey(e);return n.hasItemSameVid(r)}return!1}},{key:"_getLoader",value:function(e){return e=e||"",this._loaders[e]||this._loaders[e.toLocaleLowerCase()]||(this.log("warn","no ".concat(e," preloader, register")),null)}},{key:"_getLoaderInst",value:function(e){return e=e||"",this._loaderInsts[e]||this._loaderInsts[e.toLocaleLowerCase()]||(this.log("warn","no ".concat(e," preloader, register")),null)}},{key:"getPreloadMemoryInfo",value:function(){return this._cacheInst.getMemoryInfo()}},{key:"attachPlayer",value:function(e){this._player=e}},{key:"detachPlayer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&this._player!==e||(this._player=null)}},{key:"setPreloadBandwidth",value:function(e,t){this._stats.setPreloadBandwidth(e,t)}},{key:"getPreloadBandwidth",value:function(e){return this._stats.getPreloadBandwidth(e)}},{key:"getLoadInfoAndDelete",value:function(e){return this._stats.getLoadInfoAndDelete(e)}},{key:"getPreloadUnuseInfo",value:function(){return this._stats.getPreloadUnuseInfo()}},{key:"setUsePreloadInfo",value:function(e,t){this._stats.setUsePreloadInfo(e,t)}},{key:"bwEventEmit",value:function(e){var t=e.vid,n=e.loadType,r=e.size,i=e.speed,o=e.cacheKey,a=e.vtype,s=e.duration,l=e.bitrate,c=zA(e,NP);this._stats.bwEventEmit(zO({vid:t,loadType:n,size:r,speed:i,cacheKey:o,vtype:a,duration:s,bitrate:l},c))}},{key:"findPreloadItem",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._stepwise){var r=hY(e).call(e,function(e,t){return void 0===t.data.stepIdx||"number"==typeof t.data.stepIdx&&"number"==typeof e.data.stepIdx&&t.data.stepIdx<e.data.stepIdx?t:e}),i=uI(e).call(e,function(e){return e.data.stepIdx===r.data.stepIdx});if(i.length>1&&this._sort(i),t=i[0],!n){if("number"!=typeof t.data.stepIdx&&(t.data.stepIdx=-1),t.data.stepIdx++,lA(t.data.steps)&&t.data.stepIdx>=t.data.steps.length-1){var o=d9(e).call(e,t);fr(e).call(e,o,1)}t.data.stepIdx===1/0&&(t=void 0)}}else t=n?e[0]:e.shift();return t}},{key:"updateConfig",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this._config=lz({},a.getDefaultConfig(),e):lz(this._config,e);var t=this._config.autoCheck;t&&!t.enable&&this.stopCheckTask(),t&&t.enable&&this.startCheckTask()}},{key:"preProcessUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._config,r=n.preProcessUrl,i=n.preProcessUrlOptions;return"function"==typeof r?r(e,lz({},i,t)):{url:e}}}],[{key:"getDefaultConfig",value:function(){return{autoPreload:!1,autoCheck:{enable:!1,interval:1e3},preloadMaxCacheCount:5,preloadCacheType:zg.MEMORY,autoCheckPreload:!0,startPreloadControl:!1,startPreloadMinBuffer:5,startPreloadMinPosTime:5,minBufferLength:5,endPreloadControl:!1,endPreloadTaskStrategy:0}}},{key:"generateUniqueCacheKey",value:function(e){var t,n,r=e.vid,i=e.codecType,o=e.vtype;return uu(t=uu(n="".concat(r,"#")).call(n,i,"#")).call(t,o.toUpperCase())}},{key:"parseKey",value:function(e){if(!e)throw Error("key ".concat(e," is empty"));var t=e.split("#");if(t.length<6)throw Error("key ".concat(e," is not right format"));return{vid:t[0],mediaType:t[1],codecType:t[2],vtype:t[3],definition:t[4],bitrate:dh("".concat(t[5]||0),10)||0}}},{key:"debugger",set:function(e){NR=!!e}}])}();function NL(e){return(null==e?void 0:e.preLoadMeta)||{}}var NM=((u=NM||{})[u.NORMAL=0]="NORMAL",u[u.FEED=1]="FEED",u),Nz=new(function(){var e,t;function n(){lk(this,n),oX(this,"isRegistered",!1),oX(this,"initPromise",void 0),oX(this,"_inst",void 0),oX(this,"_tracker",void 0),oX(this,"pendingLoadList",[]),oX(this,"prevCount",1),oX(this,"nextCount",2),oX(this,"preloadScene",NM.NORMAL)}return lx(n,[{key:"bitrateSelector",get:function(){var e;return null===(e=this._inst)||void 0===e?void 0:e._selector}},{key:"prepare",value:(t=lE(lw().mark(function e(t){var n;return lw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isRegistered){e.next=1;break}return e.abrupt("return",!0);case 1:return this.initPromise||(this.initPromise=this._init(t)),e.next=2,null!==(n=this.initPromise)&&void 0!==n&&n;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"register",value:function(e){if(!this.isRegistered){var t=oY(oY({},e),{},{preloadScene:(null==e?void 0:e.preloadScene)||NM.NORMAL});this._register(this._adaptPreloadConfig(t)),this.isRegistered=!0,this.trackPreloadData()}}},{key:"inst",value:function(){return this._inst}},{key:"addPreloadList",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isRegistered){if(null==n||!n.delayAdd)return this._addPreloadList(e);if(NM.FEED!==this.preloadScene)return NM.NORMAL===this.preloadScene?this._addPreloadList(e):void 0;this.pendingLoadList=uu(t=this.pendingLoadList).call(t,null!=e?e:[])}}},{key:"setPreloadList",value:function(e){if(this.isRegistered){if(NM.FEED!==this.preloadScene)return NM.NORMAL===this.preloadScene?this._addPreloadList(e):void 0;this.pendingLoadList=null!=e?e:[]}}},{key:"clearPreloadList",value:function(){this.pendingLoadList=[]}},{key:"attachPlayer",value:function(e){var t,n;e&&this.isRegistered&&(null===(t=this._inst)||void 0===t||null===(n=t.attachPlayer)||void 0===n||n.call(t,e))}},{key:"detachPlayer",value:function(e){var t,n;this.isRegistered&&(null===(t=this._inst)||void 0===t||null===(n=t.detachPlayer)||void 0===n||n.call(t,e))}},{key:"configure",value:function(e){return this.updateConfig(e)}},{key:"setPreloadScene",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.preloadScene,t=arguments.length>1?arguments[1]:void 0;return this.preloadScene!==e&&this.clearPreloadList(),this.updateConfig(oY({preloadScene:e},null!=t?t:{}))}},{key:"removeAll",value:function(){var e,t;return null===(e=this._inst)||void 0===e||null===(t=e.removeAll)||void 0===t?void 0:t.call(e)}},{key:"removeAllPreloadTask",value:function(){var e,t;return this.pendingLoadList=[],null===(e=this._inst)||void 0===e||null===(t=e.removeAllPreloadTask)||void 0===t?void 0:t.call(e)}},{key:"bindTracker",value:function(e){this._tracker=e}},{key:"checkPreloadData",value:function(e){var t;if(null!==(t=this.pendingLoadList)&&void 0!==t&&t.length&&e){var n=this._recPreloadList(e);null!=n&&n.length&&this._addPreloadList(n)}}},{key:"checkPreloadDataExist",value:function(e){var t,n=NL(Sj(e));return!!(null===(t=this._inst)||void 0===t?void 0:t.hasItemSameVid(n))}},{key:"addPlayingId",value:function(e,t){var n;null===(n=this._inst)||void 0===n||n.addPlayingId(e,t)}},{key:"removePlayingId",value:function(e){var t;null===(t=this._inst)||void 0===t||t.removePlayingId(e)}},{key:"getDataUniqueKey",value:function(e){var t;return null===(t=this._inst)||void 0===t?void 0:t.getDataUniqueKey(e)}},{key:"getPreloadMetaByVid",value:function(e,t){var n;return null===(n=this._inst)||void 0===n?void 0:n.getPreloadMetaByVid(e,t)}},{key:"getPreloadDataInfo",value:function(e){var t,n,r=Sj(e),i=NL(r),o=!1,a="DASH"===r.vtype;a&&(i={vid:SU(e),vtype:r.vtype,codecType:r.codecType},o=!0);var s=null===(t=this._inst)||void 0===t?void 0:t.getItemSync(i,o),l=[];if(s&&(null===(n=s)||void 0===n||null===(n=n.buffer)||void 0===n?void 0:n.byteLength)>0)l.push({type:"mixed",start:0,data:s.buffer,dur:s.duration||0});else if(a){var c,u={audioDuration:0,byteLength:0,preloadTime:0};lI(c=lO(s)).call(c,function(e){var t=s[e],n=t.isInitSegment;u.byteLength+=t.res.byteLength,"video"===t.mediaType?u.preloadTime+=t.duration||0:u.audioDuration+=t.duration||0,l.push({type:"mixed",start:0,data:t.res,dur:n?0:t.duration||5,cacheKey:e,range:t.range})}),s=u}return{preloadData:s,preloadDataList:l}}},{key:"getCachedBitrate",value:function(e){var t,n,r=e.config,i=(r.shared||r).definition,o=(null==i?void 0:i.list)||[],a=null==i?void 0:i.userSelectDefinition,s=null==i?void 0:i.focusUserDefinition,l=r.vid||(null===(t=r.baseConfig)||void 0===t||null===(t=t.mediaInfo)||void 0===t?void 0:t.vid)||(null===(n=r.baseConfig)||void 0===n||null===(n=n.mediaInfo)||void 0===n?void 0:n.id)||"",c=null;if(o.length>0){var u=this.getPreloadMetaByVid(l);if(u){var h=this.getDataUniqueKey(u),d=function(e,t){for(var n,r=e.vtype,i=e.codecType,o=e.definition,a=e.bitrate,s=null,l=0;n=t[l];l++){var c=n.vtype===r;if(c&&(c=n.codecType===i),c&&(c=n.definition===o||n.definition===Number(o)),c&&(c=!n.bitrate||!a||Number(n.bitrate)===Number(a)),c){s=n;break}}return s}(u,o);d&&(d.cacheKey=h,(c=d).type=SF.PRELOAD,c.preLoadMeta=u)}if(c&&a&&s){var f={m:1,ud:a,d:c.definition};a!==c.definition&&(c=null,f.m=1)}}return c}},{key:"_init",value:(e=lE(lw().mark(function e(t){var n,r,i;return lw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t){e.next=2;break}return e.next=1,t();case 1:i=e.sent,e.next=3;break;case 2:i=t;case 3:if((r=i).PreloaderModule=r.PreloaderModule||ND,null!=r&&r.PreloaderModule&&null!=r&&null!==(n=r.loaders)&&void 0!==n&&n.length){e.next=4;break}return e.abrupt("return",!1);case 4:return r.enableDebugger&&(r.PreloaderModule.debugger=r.enableDebugger),this.register(r),e.abrupt("return",!0);case 5:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"_addPreloadList",value:function(e){if(null!=e&&e.length){var t,n=null!=(t=e)&&t.length?uR(t).call(t,function(e){var t,n;if("data"in e)return e;return{order:1,data:{vid:e.vid,vtype:(null===(t=e.streamType)||void 0===t||null===(n=t.toUpperCase)||void 0===n?void 0:n.call(t))||"MP4",codecType:e.codec||"h264",payload:[{url:lA(e.url)?e.url:[{src:e.url}],bitrate:e.bitrate,definition:e.definition,duration:e.duration,size:e.size}],defaultDefinition:e.definition,bizType:0}}}):[];null!=n&&n.length&&this._addList(n)}}},{key:"trackPreloadData",value:function(){var e,t,n=this;null===(e=this._inst)||void 0===e||null===(t=e.on)||void 0===t||t.call(e,"prf_data_size",function(e){var t,r;null===(t=n._tracker)||void 0===t||null===(r=t.track)||void 0===r||r.call(t,"vestrategy_preload_prf_data_size",oY({},e))})}},{key:"_register",value:function(e){var t,r,i=this,o=e||{},a=o.playPlugins,s=o.loaders,l=o.preloader;if(ND&&null!=s&&s.length){e.enableDebugger&&(ND.debugger=e.enableDebugger);var c=l||(void 0!==Sz?Sz:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).playerPreloader;c?this._inst=c:(this._inst=new ND,this._inst.register({config:lz({},n.defaultConfig,(null==e?void 0:e.config)||e),loaders:uI(s).call(s,function(e){return!!e}),BitrateSelector:e.BitrateSelector})),null!=a&&a.length&&lI(a).call(a,function(e){var t;null==e||null===(t=e.registerPreloader)||void 0===t||t.call(e,i._inst)}),null===(t=this._inst)||void 0===t||null===(r=t.enable)||void 0===r||r.call(t)}}},{key:"updateConfig",value:function(e){var t,n;e&&this.isRegistered&&(null===(t=this._inst)||void 0===t||null===(n=t.updateConfig)||void 0===n||n.call(t,this._adaptPreloadConfig(e)))}},{key:"_addList",value:function(e){var t,n;null!=e&&e.length&&this.isRegistered&&(null===(t=this._inst)||void 0===t||null===(n=t.addPreloadList)||void 0===n||n.call(t,e))}},{key:"_adaptPreloadConfig",value:function(e){var t,n,r;return this.nextCount=null!==(t=null==e?void 0:e.nextCount)&&void 0!==t?t:this.nextCount,this.prevCount=null!==(n=null==e?void 0:e.prevCount)&&void 0!==n?n:this.prevCount,void 0!==(null==e?void 0:e.preloadScene)&&hu(r=[NM.FEED,NM.NORMAL]).call(r,null==e?void 0:e.preloadScene)?(this.preloadScene=e.preloadScene,NM.FEED===e.preloadScene?oY({autoPreload:!1,autoCheckPreload:!0},e):oY({autoPreload:!0,autoCheckPreload:!1},e)):oY({},e)}},{key:"_recPreloadList",value:function(e){var t,n=this.pendingLoadList;if(!e||null==n||!n.length)return[];var r=zv(n).call(n,function(t){var n;return t.vid===e||(null===(n=t.data)||void 0===n?void 0:n.vid)===e});if(-1===r)return[];var i=this.prevCount?pv(n).call(n,r-this.prevCount<0?0:r-this.prevCount,r):[],o=this.nextCount?pv(n).call(n,r+1,r+this.nextCount+1):[];return uI(t=uu(o).call(o,i)).call(t,function(e){return!!e})}}],[{key:"defaultConfig",get:function(){return{preloadCacheType:1,autoPreload:!0,autoCheckPreload:!1,autoCheck:{enable:!0,interval:1e3},preloadTime:5,preloadMaxCacheCount:15,startPreloadMinBuffer:5,startPreloadControl:!0,startPreloadMinPosTime:0,minBufferLength:15,segmentMinDuration:5,loadRangeType:"gop"}}}])}()),NN=new u7("VeStrategy-preload-plugin"),Nj=function(){function e(t){var n,r,i,o,a;return lk(this,e),oX((i=this,o=e,a=[t],o=uV(o),r=uD(i,uG()?uK(o,a||[],uV(i).constructor):o.apply(i,a))),"ctx",void 0),oX(r,"preloader",void 0),oX(r,"playerId",void 0),oX(r,"_onPlayerActiveChange",function(){r._initPreloader()}),oX(r,"_checkPreloadData",function(){var e,t,n,i;if(r.preloader&&r.player){var o=r.playerConfig,a=(null===(e=o.baseConfig)||void 0===e||null===(e=e.mediaInfo)||void 0===e?void 0:e.id)||(null===(t=o.shared)||void 0===t?void 0:t.vid);null===(n=(i=r.preloader).checkPreloadData)||void 0===n||n.call(i,a)}}),r.ctx=r.config.ctx,r.preloader=r.config.preloader,NN.update(null===(n=r.ctx)||void 0===n||null===(n=n.dataCenter)||void 0===n||null===(n=n.getAppConfig())||void 0===n?void 0:n.log),NN.info("PreloadPluginInitCompleted"),function(e,t){var n,r=null;try{r=(null===(n=e.getProperty)||void 0===n?void 0:n.call(e,t))||e[t]}catch(e){}return r}(r.player,"preloader")||SB(r.player,"preloader",Nz),r._bindEvents(),r}return uZ(e,uW),lx(e,[{key:"beforePlayerInit",value:function(){(t=e,n="beforePlayerInit",r=this,i=3,o=MB(uV(1&3?t.prototype:t),n,r),2&i&&"function"==typeof o?function(e){return o.apply(r,e)}:o)([]);var t,n,r,i,o,a=this.preloader,s=SU(this.player);this.playerId=this.player.playerId,this._initPreloader(),s&&this.playerId&&(null==a||a.addPlayingId(s,this.playerId));var l=this._getCachedBitrate();l&&SN(this.player,l);var c=Sj(this.player);if(null!=a&&a.checkPreloadDataExist(this.player)||s&&null!=a&&a.getPreloadMetaByVid(s)&&"DASH"===c.vtype){var u=a.getPreloadDataInfo(this.player),h=u.preloadData,d=u.preloadDataList;if(lA(d)&&d.length>0){this.setBaseConfig({preloadDataInfo:{preloadDataList:d}});var f=h.byteLength||0,p=h.preloadTime||(null==d?void 0:hY(d).call(d,function(e,t){return e+(t.dur||0)},0))||0;SB(this.player,"preloadData",{byteLength:f,duration:p,audioDuration:h.audioDuration||0})}}else if(this.config.needPreloadCheck)return void this.player.emit("degrade",{category:SG.PRELOAD_NOT_HIT,errc:-1,err_msg:"preload data not exist"})}},{key:"beforeDestroy",value:function(){var e;this.playerId&&(null===(e=this.preloader)||void 0===e||e.removePlayingId(this.playerId)),this.preloader=void 0,this.playerId=void 0,this._unbindEvents()}},{key:"_bindEvents",value:function(){this.player&&this.player.on("user_active_change",this._onPlayerActiveChange)}},{key:"_unbindEvents",value:function(){this.player&&this.player.off("user_active_change",this._onPlayerActiveChange)}},{key:"_initPreloader",value:function(){var e,t,n=this.player,r=this.preloader;n.isUserActive?null==r||null===(e=r.attachPlayer)||void 0===e||e.call(r,n):null==r||null===(t=r.detachPlayer)||void 0===t||t.call(r,n),this._checkPreloadData()}},{key:"_getCachedBitrate",value:function(){var e,t=this.playerConfig,n=this.preloader,r=(t.shared||t).definition,i=(null==r?void 0:r.list)||[],o=t||r||{},a=o.userSelectDefinition,s=o.focusUserDefinition;if(null==n||!n.isRegistered)return e;if(lA(i)&&i.length>0&&(n&&(e=n.getCachedBitrate(this.player)),e&&a&&s)){var l={m:1,ud:a,d:e.definition};a!==e.definition&&(e=void 0,l.m=1)}return e}}],[{key:"pluginName",get:function(){return"AutoPreloadPlugin"}},{key:"defaultConfig",get:function(){return{}}}])}(),NB=lx(function e(t,n,r,i,o,a){lk(this,e),oX(this,"type",void 0),oX(this,"codecs",void 0),oX(this,"visualEntryBox",void 0),oX(this,"configurationBox",void 0),oX(this,"types",void 0),oX(this,"logCodeType",void 0),this.type=t,this.codecs=n,this.visualEntryBox=r,this.configurationBox=i,this.types=o,this.logCodeType=a}),NU="avc",NF="av1",NG="hevc",NV="bytevc1",NH="bytevc2",NZ="bvc2";oX(oX(oX(oX(oX(oX({},NU,new NB("avc","avc1.64001E","avc1","avcC",["h264"],"h264")),NF,new NB("av1","av01.0.08M.08","av01","av1C",["av1"],"av1")),NG,new NB("hevc","hev1.1.6.L120.90","hvc1","hvcC",["h265"],"h265")),NV,new NB("hevc","hev1.1.6.L120.90","hvc1","hvcC",["bytevc1","h265"],"h265")),NZ,new NB("bvc2","bvc2.1.6.L93.B0","bvc2","bvc2",["h266"],"h266")),NH,new NB("bvc2","bvc2.1.6.L93.B0","bvc2","bvc2",["bytevc2","h266"],"h266"));var NK=new u7("VeStrategy-preload"),NW=function(){var e,t;function n(e){var t,r,i,o,a,s;return lk(this,n),o=this,a=n,s=[e],a=uV(a),i=uD(o,uG()?uK(a,s||[],uV(o).constructor):a.apply(o,s)),Nz.bindTracker(null==e||null===(t=e.ctx)||void 0===t?void 0:t.tracker),NK.update(null===(r=e.ctx.dataCenter)||void 0===r||null===(r=r.getAppConfig())||void 0===r?void 0:r.log),NK.info("VeStrategyPreloadInit"),i}return uZ(n,uq),lx(n,[{key:"getRecommendation",value:function(e){var t={plugins:[],pluginConfiguration:{},result:{enable:!1}};return!1!==this.config.disableAutoCheckPlugin&&(t.plugins=[Nj],t.pluginConfiguration=oX({},Nj.pluginName,oY({preloader:Nz},this.config))),t.result={enable:!0},!1===e.recResult&&delete t.result,t}}],[{key:"prepare",value:(t=lE(lw().mark(function e(t){var n,r,i,o,a;return lw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.config,r=t.loaders,i=t.preloader,o=t.useBitrateSelector,e.next=1,this.preloader.prepare({config:n,loaders:r,preloader:i,BitrateSelector:o?Mb:null});case 1:return a=e.sent,this._checkSelectorConfig(),e.abrupt("return",a);case 2:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"addPreloadList",value:(e=lE(lw().mark(function e(t){return lw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._checkSelectorConfig(),this.preloader.addPreloadList(t);case 1:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"_checkSelectorConfig",value:function(){var e=this.preloader.bitrateSelector;e&&(!e.defaultConfig||e.defaultConfig.mode&&e.defaultConfig.mode===Mb.defaultConfig.mode||(e.defaultConfig=lz(e.defaultConfig,Mb.defaultConfig)))}}])}();oX(NW,"strategyName",u5.preload),oX(NW,"strategyPriority",u3.preload),oX(NW,"preloader",Nz);var N$=new u7("VeStrategy-testspeed"),Nq=function(){function e(t){var n,r,i,o,a;return lk(this,e),i=this,o=e,a=[t],o=uV(o),r=uD(i,uG()?uK(o,a||[],uV(i).constructor):o.apply(i,a)),N$.update(null===(n=t.ctx.dataCenter)||void 0===n||null===(n=n.getAppConfig())||void 0===n?void 0:n.log),N$.info("VeStrategy TestSpeed Init"),r}return uZ(e,uq),lx(e,[{key:"getRecommendation",value:function(e){var t={plugins:[],pluginConfiguration:{},result:{enable:!1}};return this.config.disableAutoCheckPlugin||(t.plugins=[L7],t.pluginConfiguration=oX({},L7.pluginName,oY({},this.config))),t.result=oY({},this.config),!1===e.recResult&&delete t.result,t}}])}();oX(Nq,"strategyName",u5.testSpeed),oX(Nq,"strategyPriority",u3.testSpeed);var NX=function(){function e(t){var n,r,i;return lk(this,e),n=this,r=e,i=[t],r=uV(r),uD(n,uG()?uK(r,i||[],uV(n).constructor):r.apply(n,i))}return uZ(e,uW),lx(e,[{key:"beforePlayerInit",value:function(){var e=this.playerConfig,t=e.baseConfig,n=t.preProcessUrl,r=t.urlList,i=t.url;if(n){r&&lA(r)&&this._processUrls(r),i&&("string"==typeof i?e.baseConfig.url=n(i):lA(i)&&this._processUrls(i));var o=e.shared.definition,a=(null==o?void 0:o.list)||[],s=(null==o?void 0:o.extraList)||[];if((a=uu(a).call(a,s))&&lA(a))for(var l=0;l<a.length;l++){var c=a[l],u=c.url;"string"==typeof u?c.src=n(u):lA(u)&&this._processUrls(u)}}}},{key:"_processUrls",value:function(e){for(var t=this.playerConfig.baseConfig.preProcessUrl,n=0;n<e.length;n++){var r=e[n],i=r.src;r.src=t(i)}}}],[{key:"pluginName",get:function(){return"UrlProcessPlugin"}},{key:"defaultConfig",get:function(){return{enable:!0}}}])}(),NJ=function(){function e(t){var n,r,i;return lk(this,e),n=this,r=e,i=[t],r=uV(r),uD(n,uG()?uK(r,i||[],uV(n).constructor):r.apply(n,i))}return uZ(e,uq),lx(e,[{key:"getRecommendation",value:function(){var e={plugins:[],pluginConfiguration:{},result:{enable:!0}};return this.config.disabled||(e.plugins=[NX],e.pluginConfiguration=oX({},NX.pluginName,this.config)),e.result=oY(oY({},this.config),{},{enable:!0}),e}}])}();oX(NJ,"strategyName",u5.urlProcess),oX(NJ,"strategyPriority",u3.urlProcess)},805467:function(e,t,n){"use strict";function r(e){var t=e||new Map;return{all:t,on:function(e,n){var r=t.get(e);!(r&&r.push(n))&&t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&r.splice(r.indexOf(n)>>>0,1)},emit:function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t.get(e)||[]).slice().map(function(e){e.apply(void 0,r)}),(t.get("*")||[]).slice().map(function(t){t.apply(void 0,[e].concat(r))})}}}n.d(t,{J:function(){return r}})},92294:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Q}});var r=n("88648");function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(e){return"'"+e+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function o(e){return!!e&&!!e[V]}function a(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===H}(e)||Array.isArray(e)||!!e[G]||!!(null===(t=e.constructor)||void 0===t?void 0:t[G])||h(e)||d(e))}function s(e,t,n){void 0===n&&(n=!1),0===l(e)?(n?Object.keys:Z)(e).forEach(function(r){n&&"symbol"==typeof r||t(r,e[r],e)}):e.forEach(function(n,r){return t(r,n,e)})}function l(e){var t=e[V];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:h(e)?2:d(e)?3:0}function c(e,t){return 2===l(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}n("209955"),n("927234"),n("874386"),n("268917"),n("779788"),n("950331"),n("602157"),n("603676"),n("897860"),n("675373");function u(e,t,n){var r=l(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function h(e){return j&&e instanceof Map}function d(e){return B&&e instanceof Set}function f(e){return e.o||e.t}function p(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=K(e);delete t[V];for(var n=Z(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function v(e,t){return void 0===t&&(t=!1),m(e)||o(e)||!a(e)||(l(e)>1&&(e.set=e.add=e.clear=e.delete=g),Object.freeze(e),t&&s(e,function(e,t){return v(t,!0)},!0)),e}function g(){i(2)}function m(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function y(e){var t=W[e];return t||i(18,e),t}function _(){return z}function b(e,t){t&&(y("Patches"),e.u=[],e.s=[],e.v=t)}function w(e){S(e),e.p.forEach(k),e.p=null}function S(e){e===z&&(z=e.l)}function E(e){return z={p:[],l:z,h:e,m:!0,_:0}}function k(e){var t=e[V];0===t.i||1===t.i?t.j():t.g=!0}function T(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||y("ES5").S(t,e,r),r?(n[V].P&&(w(t),i(4)),a(e)&&(e=x(t,e),t.l||I(t,e)),t.u&&y("Patches").M(n[V].t,e,t.u,t.s)):e=x(t,n,[]),w(t),t.u&&t.v(t.u,t.s),e!==F?e:void 0}function x(e,t,n){if(m(t))return t;var r=t[V];if(!r)return s(t,function(i,o){return C(e,r,t,i,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return I(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=p(r.k):r.o,o=i,a=!1;3===r.i&&(o=new Set(i),i.clear(),a=!0),s(o,function(t,o){return C(e,r,i,t,o,n,a)}),I(e,i,!1),n&&e.u&&y("Patches").N(r,n,e.u,e.s)}return r.o}function C(e,t,n,r,i,s,l){if(o(i)){var h=x(e,i,s&&t&&3!==t.i&&!c(t.R,r)?s.concat(r):void 0);if(u(n,r,h),!o(h))return;e.m=!1}else l&&n.add(i);if(a(i)&&!m(i)){if(!e.h.D&&e._<1)return;x(e,i),t&&t.A.l||I(e,i)}}function I(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&v(t,n)}function O(e,t){var n=e[V];return(n?f(n):e)[t]}function A(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function P(e){e.P||(e.P=!0,e.l&&P(e.l))}function R(e){e.o||(e.o=p(e.t))}function D(e,t,n){var r,i,o,a,s,l,c,u,f,p=h(t)?y("MapSet").F(t,n):d(t)?y("MapSet").T(t,n):e.O?(r=t,i=n,s=a={i:(o=Array.isArray(r))?1:0,A:i?i.A:z,P:!1,I:!1,R:{},l:i,t:r,k:null,o:null,j:null,C:!1},l=$,o&&(s=[a],l=q),u=(c=Proxy.revocable(s,l)).revoke,f=c.proxy,a.k=f,a.j=u,f):y("ES5").J(t,n);return(n?n.A:z).p.push(p),p}function L(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return p(e)}var M,z,N="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),j="undefined"!=typeof Map,B="undefined"!=typeof Set,U="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,F=N?Symbol.for("immer-nothing"):((M={})["immer-nothing"]=!0,M),G=N?Symbol.for("immer-draftable"):"__$immer_draftable",V=N?Symbol.for("immer-state"):"__$immer_state",H=""+Object.prototype.constructor,Z="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,K=Object.getOwnPropertyDescriptors||function(e){var t={};return Z(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},W={},$={get:function(e,t){if(t===V)return e;var n,r,i,o=f(e);if(!c(o,t)){;return n=e,(i=A(o,t))?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(n.k):void 0}var s=o[t];return e.I||!a(s)?s:s===O(e.t,t)?(R(e),e.o[t]=D(e.A.h,s,e)):s},has:function(e,t){return t in f(e)},ownKeys:function(e){return Reflect.ownKeys(f(e))},set:function(e,t,n){var r=A(f(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i,o,a=O(f(e),t),s=null==a?void 0:a[V];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(((i=n)===(o=a)?0!==i||1/i==1/o:i!=i&&o!=o)&&(void 0!==n||c(e.t,t)))return!0;R(e),P(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==O(e.t,t)||t in e.t?(e.R[t]=!1,R(e),P(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=f(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){i(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){i(12)}},q={};s($,function(e,t){q[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),q.deleteProperty=function(e,t){return q.set.call(this,e,t,void 0)},q.set=function(e,t,n){return $.set.call(this,e[0],t,n,e[0])};var X=new(function(){function e(e){var t=this;this.O=U,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o,s=n;return n=e,function(e){var r=this;void 0===e&&(e=s);for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return t.produce(e,function(e){var t;return(t=n).call.apply(t,[r,e].concat(o))})}}if("function"!=typeof n&&i(6),void 0!==r&&"function"!=typeof r&&i(7),a(e)){var l=E(t),c=D(t,e,void 0),u=!0;try{o=n(c),u=!1}finally{u?w(l):S(l)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then(function(e){return b(l,r),T(e,l)},function(e){throw w(l),e}):(b(l,r),T(o,l))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===F&&(o=void 0),t.D&&v(o,!0),r){var h=[],d=[];y("Patches").M(e,o,h,d),r(h,d)}return o}i(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,function(t){return e.apply(void 0,[t].concat(i))})};var r,i,o=t.produce(e,n,function(e,t){r=e,i=t});return"undefined"!=typeof Promise&&o instanceof Promise?o.then(function(e){return[e,r,i]}):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){a(e)||i(8),o(e)&&(o(t=e)||i(22,t),e=function e(t){if(!a(t))return t;var n,r=t[V],i=l(t);if(r){if(!r.P&&(r.i<4||!y("ES5").K(r)))return r.t;r.I=!0,n=L(t,i),r.I=!1}else n=L(t,i);return s(n,function(t,i){var o,a;r&&(o=r.t,a=t,(2===l(o)?o.get(a):o[a])===i)||u(n,t,e(i))}),3===i?new Set(n):n}(t));var t,n=E(this),r=D(this,e,void 0);return r[V].C=!0,S(n),r},t.finishDraft=function(e,t){var n=(e&&e[V]).A;return b(n,t),T(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!U&&i(20),this.O=e},t.applyPatches=function(e,t){for(n=t.length-1;n>=0;n--){var n,r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=y("Patches").$;return o(e)?i(e,t):this.produce(e,function(e){return i(e,t)})},e}()),J=X.produce;X.produceWithPatches.bind(X),X.setAutoFreeze.bind(X),X.setUseProxies.bind(X),X.applyPatches.bind(X),X.createDraft.bind(X),X.finishDraft.bind(X);function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Q=function(e){var t,n,i=(n=2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(e))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&null!=s.return&&s.return()}finally{if(i)throw o}}return n}}(t,2)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}}(t,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0],a=i[1],s=(0,r.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("function"==typeof e)return t?J(o,e).then(function(e){return a(e)}):a(function(t){return J(t,e)});return a(e)},[]);return[o,s]}},644969:function(e,t,n){"use strict";var r=n(88648);t.Z=function(e){(0,r.useEffect)(function(){e()},[])}},969773:function(e,t,n){"use strict";var r=n(88648);t.Z=function(e){var t=(0,r.useRef)();return(0,r.useEffect)(function(){t.current=e}),t.current}},670824:function(e){var t,n;t="undefined"!=typeof self&&self,n=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){"use strict";var r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},o=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(n,r){var i,o,a;function s(n){e.removeListener(t,l),r(n)}function l(){"function"==typeof e.removeListener&&e.removeListener("error",s),n([].slice.call(arguments))}g(e,t,l,{once:!0}),"error"!==t&&(i=e,o=s,a={once:!0},"function"==typeof i.on&&g(i,"error",o,a))})},(s.EventEmitter=s).prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function h(e,t,n,r){var i,o,a;return c(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener||n),i=e._events),o=i[t]),void 0===o?(o=i[t]=n,++e._eventsCount):("function"==typeof o?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),0<(i=u(e))&&o.length>i&&!o.warned&&(o.warned=!0,(r=Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",r.emitter=e,r.type=t,r.count=o.length,a=0,console)),e}function d(e,t,n){return(t=(function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}).bind(e={fired:!1,wrapFn:void 0,target:e,type:t,listener:n})).listener=n,e.wrapFn=t}function f(e,t,n){return void 0===(e=e._events)?[]:void 0===(e=e[t])?[]:"function"==typeof e?n?[e.listener||e]:[e]:n?function(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(e):v(e,e.length)}function p(e){var t=this._events;if(void 0!==t){if("function"==typeof(t=t[e]))return 1;if(void 0!==t)return t.length}return 0}function v(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){if((a=0<t.length?t[0]:a)instanceof Error)throw a;throw(r=Error("Unhandled error."+(a?" ("+a.message+")":""))).context=a,r}var a=o[e];if(void 0===a)return!1;if("function"==typeof a)i(a,this,t);else for(var s=a.length,l=v(a,s),n=0;n<s;++n)i(l[n],this,t);return!0},s.prototype.on=s.prototype.addListener=function(e,t){return h(this,e,t,!1)},s.prototype.prependListener=function(e,t){return h(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,d(this,e,t)),this},s.prototype.off=s.prototype.removeListener=function(e,t){var n,r,i,o,a;if(c(t),void 0===(r=this._events)||void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;0<=o;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.removeAllListeners=function(e){var t,n=this._events;if(void 0===n)return this;if(void 0===n.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0==arguments.length){for(var r,i=Object.keys(n),o=0;o<i.length;++o)"removeListener"!==(r=i[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;0<=o;o--)this.removeListener(e,t[o]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return 0<this._eventsCount?o(this._events):[]}},function(e,t,n){(function(t){e.exports=function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;var r=n(function(e,t){var n,r,i,o,a,s,l,c,u,h,d,f,p,v;e.exports=n||(r=Math,o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),l=(s=(a={}).lib={}).Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=s.WordArray=l.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||h).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=r.ceil(t/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t,n=[],i=function(e){var t=987654321;return function(){var n=((t=36969*(65535&t)+(t>>16)&4294967295)<<16)+(e=18e3*(65535&e)+(e>>16)&4294967295)&4294967295;return n/=4294967296,(n+=.5)*(r.random()>.5?1:-1)}},o=0;o<e;o+=4){var a=i(4294967296*(t||r.random()));t=987654071*a(),n.push(4294967296*a()|0)}return new c.init(n,e)}}),h=(u=a.enc={}).Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new c.init(n,t/2)}},d=u.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new c.init(n,t)}},f=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=s.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,n=t.words,i=t.sigBytes,o=this.blockSize,a=i/(4*o),s=(a=e?r.ceil(a):r.max((0|a)-this._minBufferSize,0))*o,l=r.min(4*s,i);if(s){for(var u=0;u<s;u+=o)this._doProcessBlock(n,u);var h=n.splice(0,s);t.sigBytes-=l}return new c.init(h,l)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),v=(s.Hasher=p.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new v.HMAC.init(e,n).finalize(t)}}}),a.algo={}),a)}),i=n(function(e,t){var n,i,o,a,s,l,c,u,h;e.exports=(n=Math,o=(i=r.lib).WordArray,a=i.Hasher,s=r.algo,l=[],c=[],function(){function e(e){return 4294967296*(e-(0|e))|0}for(var t=2,r=0;r<64;)(function(e){for(var t=n.sqrt(e),r=2;r<=t;r++)if(!(e%r))return!1;return!0})(t)&&(r<8&&(l[r]=e(n.pow(t,.5))),c[r]=e(n.pow(t,1/3)),r++),t++}(),u=[],h=s.SHA256=a.extend({_doReset:function(){this._hash=new o.init(l.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],h=n[6],d=n[7],f=0;f<64;f++){if(f<16)u[f]=0|e[t+f];else{var p=u[f-15],v=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=u[f-2],m=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;u[f]=v+u[f-7]+m+u[f-16]}var y=r&i^r&o^i&o,_=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),b=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&h)+c[f]+u[f];d=h,h=l,l=s,s=a+b|0,a=o,o=i,i=r,r=b+(_+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+h|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=n.floor(r/4294967296),t[15+(i+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA256=a._createHelper(h),r.HmacSHA256=a._createHmacHelper(h),r.SHA256)}),o=(n(function(e,t){var n,i;e.exports=(n=r.lib.Base,i=r.enc.Utf8,void(r.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,l=a.words,c=0;c<n;c++)s[c]^=1549556828,l[c]^=909522486;o.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))}),n(function(e,t){e.exports=r.HmacSHA256})),a={hmac:function(e,t){return o(t,e)},sha256:function(e){return i(e)}},s=["authorization","content-type","content-length","user-agent","presigned-expires","expect","x-amzn-trace-id"],l="aws4_request",c=function(e){try{return encodeURIComponent(e).replace(/[^A-Za-z0-9_.~\-%]+/g,escape).replace(/[*]/g,function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())})}catch(e){return""}},u=function(e){return Object.keys(e).sort().map(function(t){var n=e[t];if(null!=n){var r=c(t);if(r)return Array.isArray(n)?"".concat(r,"=").concat(n.map(c).sort().join("&".concat(r,"="))):"".concat(r,"=").concat(c(n))}}).filter(function(e){return e}).join("&")};return function(){var t,n;function r(e,t,n){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this.request=e,this.request.headers=e.headers||{},this.serviceName=t,n=n||{},this.signatureCache="boolean"!=typeof n.signatureCache||n.signatureCache,this.operation=n.operation,this.signatureVersion=n.signatureVersion}return t=[{key:"addAuthorization",value:function(e,t){var n=this.iso8601(t).replace(/[:\-]|\.\d{3}/g,"");this.addHeaders(e,n),this.request.headers.Authorization=this.authorization(e,n)}},{key:"addHeaders",value:function(e,t){this.request.headers["X-Amz-Date"]=t,e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken),this.request.body&&(this.request.headers["X-Amz-Content-Sha256"]=a.sha256(JSON.stringify(this.request.body)).toString())}},{key:"authorization",value:function(e,t){var n=[],r=this.credentialString(t);return n.push("".concat("AWS4-HMAC-SHA256"," Credential=").concat(e.accessKeyId,"/").concat(r)),n.push("SignedHeaders=".concat(this.signedHeaders())),n.push("Signature=".concat(this.signature(e,t))),n.join(", ")}},{key:"signature",value:function(e,t){var n=this.getSigningKey(e,t.substr(0,8),this.request.region,this.serviceName,this.signatureCache);return a.hmac(n,this.stringToSign(t),"hex")}},{key:"stringToSign",value:function(e){var t=[];return t.push("AWS4-HMAC-SHA256"),t.push(e),t.push(this.credentialString(e)),t.push(this.hexEncodedHash(this.canonicalString())),t.join("\n")}},{key:"canonicalString",value:function(){var e=[],t=this.request.pathname||"/";return e.push(this.request.method.toUpperCase()),e.push(t),e.push(u(this.request.params)||""),e.push("".concat(this.canonicalHeaders(),"\n")),e.push(this.signedHeaders()),e.push(this.hexEncodedBodyHash()),e.join("\n")}},{key:"canonicalHeaders",value:function(){var e=this,t=[];Object.keys(this.request.headers).forEach(function(n){t.push([n,e.request.headers[n]])}),t.sort(function(e,t){return e[0].toLowerCase()<t[0].toLowerCase()?-1:1});var n=[];return t.forEach(function(t){var r=t[0].toLowerCase();if(e.isSignableHeader(r)){var i=t[1];if(null==i||"function"!=typeof i.toString)throw Error("Header ".concat(r," contains invalid value"));n.push("".concat(r,":").concat(e.canonicalHeaderValues(i.toString())))}}),n.join("\n")}},{key:"canonicalHeaderValues",value:function(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")}},{key:"signedHeaders",value:function(){var e=this,t=[];return Object.keys(this.request.headers).forEach(function(n){n=n.toLowerCase(),e.isSignableHeader(n)&&t.push(n)}),t.sort().join(";")}},{key:"credentialString",value:function(e){return this.createScope(e.substr(0,8),this.request.region,this.serviceName)}},{key:"hexEncodedHash",value:function(e){return a.sha256(e)}},{key:"hexEncodedBodyHash",value:function(){return this.request.headers["X-Amz-Content-Sha256"]?this.request.headers["X-Amz-Content-Sha256"]:this.request.body?this.hexEncodedHash(u(this.request.body)):this.hexEncodedHash("")}},{key:"isSignableHeader",value:function(e){return 0===e.toLowerCase().indexOf("x-amz-")||0>s.indexOf(e)}},{key:"iso8601",value:function(e){return void 0===e&&(e=new Date),e.toISOString().replace(/\.\d{3}Z$/,"Z")}},{key:"getSigningKey",value:function(e,t,n,r){var i=a.hmac("AWS4".concat(e.secretAccessKey),t),o=a.hmac(i,n),s=a.hmac(o,r);return a.hmac(s,l)}},{key:"createScope",value:function(e,t,n){return[e.substr(0,8),t,n,l].join("/")}}],e(r.prototype,t),n&&e(r,n),r}()}()}).call(this,n(7))},function(e,t,n){e.exports=function(){return n(8)('!function(t){var n={};function __webpack_require__(r){if(n[r])return n[r].exports;var e=n[r]={i:r,l:!1,exports:{}};return t[r].call(e.exports,e,e.exports,__webpack_require__),e.l=!0,e.exports}__webpack_require__.m=t,__webpack_require__.c=n,__webpack_require__.d=function(r,e,t){__webpack_require__.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:t})},__webpack_require__.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},__webpack_require__.t=function(e,r){if(1&r&&(e=__webpack_require__(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(__webpack_require__.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)__webpack_require__.d(t,n,function(r){return e[r]}.bind(null,n));return t},__webpack_require__.n=function(r){var e=r&&r.__esModule?function getDefault(){return r.default}:function getModuleExports(){return r};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=9)}([function(r,e,t){r.exports=function(){var r=r||function(u,t){var n=Object.create||function(){function F(){}return function(r){var e;F.prototype=r;e=new F;F.prototype=null;return e}}();var r={};var e=r.lib={};var i=e.Base=function(){return{extend:function(r){var e=n(this);if(r)e.mixIn(r);if(!e.hasOwnProperty("init")||this.init===e.init)e.init=function(){e.$super.init.apply(this,arguments)};e.init.prototype=e;e.$super=this;return e},create:function(){var r=this.extend();r.init.apply(r,arguments);return r},init:function(){},mixIn:function(r){for(var e in r)if(r.hasOwnProperty(e))this[e]=r[e];if(r.hasOwnProperty("toString"))this.toString=r.toString},clone:function(){return this.init.prototype.extend(this)}}}();var h=e.WordArray=i.extend({init:function(r,e){r=this.words=r||[];if(e!=t)this.sigBytes=e;else this.sigBytes=r.length*4},toString:function(r){return(r||o).stringify(this)},concat:function(r){var e=this.words;var t=r.words;var n=this.sigBytes;var i=r.sigBytes;this.clamp();if(n%4)for(var a=0;a<i;a++){var o=t[a>>>2]>>>24-a%4*8&255;e[n+a>>>2]|=o<<24-(n+a)%4*8}else for(var a=0;a<i;a+=4)e[n+a>>>2]=t[a>>>2];this.sigBytes+=i;return this},clamp:function(){var r=this.words;var e=this.sigBytes;r[e>>>2]&=4294967295<<32-e%4*8;r.length=u.ceil(e/4)},clone:function(){var r=i.clone.call(this);r.words=this.words.slice(0);return r},random:function(r){var e=[];var t=function(e){var e=e;var t=987654321;var n=4294967295;return function(){t=36969*(t&65535)+(t>>16)&n;e=18e3*(e&65535)+(e>>16)&n;var r=(t<<16)+e&n;r/=4294967296;r+=.5;return r*(u.random()>.5?1:-1)}};for(var n=0,i;n<r;n+=4){var a=t((i||u.random())*4294967296);i=a()*987654071;e.push(a()*4294967296|0)}return new h.init(e,r)}});var a=r.enc={};var o=a.Hex={stringify:function(r){var e=r.words;var t=r.sigBytes;var n=[];for(var i=0;i<t;i++){var a=e[i>>>2]>>>24-i%4*8&255;n.push((a>>>4).toString(16));n.push((a&15).toString(16))}return n.join("")},parse:function(r){var e=r.length;var t=[];for(var n=0;n<e;n+=2)t[n>>>3]|=parseInt(r.substr(n,2),16)<<24-n%8*4;return new h.init(t,e/2)}};var s=a.Latin1={stringify:function(r){var e=r.words;var t=r.sigBytes;var n=[];for(var i=0;i<t;i++){var a=e[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(a))}return n.join("")},parse:function(r){var e=r.length;var t=[];for(var n=0;n<e;n++)t[n>>>2]|=(r.charCodeAt(n)&255)<<24-n%4*8;return new h.init(t,e)}};var c=a.Utf8={stringify:function(r){try{return decodeURIComponent(escape(s.stringify(r)))}catch(r){throw new Error("Malformed UTF-8 data")}},parse:function(r){return s.parse(unescape(encodeURIComponent(r)))}};var v=e.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new h.init;this._nDataBytes=0},_append:function(r){if(typeof r=="string")r=c.parse(r);this._data.concat(r);this._nDataBytes+=r.sigBytes},_process:function(r){var e=this._data;var t=e.words;var n=e.sigBytes;var i=this.blockSize;var a=i*4;var o=n/a;if(r)o=u.ceil(o);else o=u.max((o|0)-this._minBufferSize,0);var s=o*i;var c=u.min(s*4,n);if(s){for(var v=0;v<s;v+=i)this._doProcessBlock(t,v);var f=t.splice(0,s);e.sigBytes-=c}return new h.init(f,c)},clone:function(){var r=i.clone.call(this);r._data=this._data.clone();return r},_minBufferSize:0});var f=e.Hasher=v.extend({cfg:i.extend(),init:function(r){this.cfg=this.cfg.extend(r);this.reset()},reset:function(){v.reset.call(this);this._doReset()},update:function(r){this._append(r);this._process();return this},finalize:function(r){if(r)this._append(r);var e=this._doFinalize();return e},blockSize:512/32,_createHelper:function(t){return function(r,e){return new t.init(e).finalize(r)}},_createHmacHelper:function(t){return function(r,e){return new p.HMAC.init(t,e).finalize(r)}}});var p=r.algo={};return r}(Math);return r}()},function(r,e,t){r.exports=function(F){F.lib.Cipher||function(o){var r=F;var e=r.lib;var t=e.Base;var c=e.WordArray;var n=e.BufferedBlockAlgorithm;var i=r.enc;var a=i.Utf8;var s=i.Base64;var v=r.algo;var f=v.EvpKDF;var u=e.Cipher=n.extend({cfg:t.extend(),createEncryptor:function(r,e){return this.create(this._ENC_XFORM_MODE,r,e)},createDecryptor:function(r,e){return this.create(this._DEC_XFORM_MODE,r,e)},init:function(r,e,t){this.cfg=this.cfg.extend(t);this._xformMode=r;this._key=e;this.reset()},reset:function(){n.reset.call(this);this._doReset()},process:function(r){this._append(r);return this._process()},finalize:function(r){if(r)this._append(r);var e=this._doFinalize();return e},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function selectCipherStrategy(r){if(typeof r=="string")return S;else return m}return function(n){return{encrypt:function(r,e,t){return selectCipherStrategy(e).encrypt(n,r,e,t)},decrypt:function(r,e,t){return selectCipherStrategy(e).decrypt(n,r,e,t)}}}}()});var h=e.StreamCipher=u.extend({_doFinalize:function(){var r=this._process(!!"flush");return r},blockSize:1});var p=r.mode={};var l=e.BlockCipherMode=t.extend({createEncryptor:function(r,e){return this.Encryptor.create(r,e)},createDecryptor:function(r,e){return this.Decryptor.create(r,e)},init:function(r,e){this._cipher=r;this._iv=e}});var _=p.CBC=function(){var r=l.extend();r.Encryptor=r.extend({processBlock:function(r,e){var t=this._cipher;var n=t.blockSize;xorBlock.call(this,r,e,n);t.encryptBlock(r,e);this._prevBlock=r.slice(e,e+n)}});r.Decryptor=r.extend({processBlock:function(r,e){var t=this._cipher;var n=t.blockSize;var i=r.slice(e,e+n);t.decryptBlock(r,e);xorBlock.call(this,r,e,n);this._prevBlock=i}});function xorBlock(r,e,t){var n=this._iv;if(n){var i=n;this._iv=o}else var i=this._prevBlock;for(var a=0;a<t;a++)r[e+a]^=i[a]}return r}();var d=r.pad={};var y=d.Pkcs7={pad:function(r,e){var t=e*4;var n=t-r.sigBytes%t;var i=n<<24|n<<16|n<<8|n;var a=[];for(var o=0;o<n;o+=4)a.push(i);var s=c.create(a,n);r.concat(s)},unpad:function(r){var e=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=e}};var g=e.BlockCipher=u.extend({cfg:u.cfg.extend({mode:_,padding:y}),reset:function(){u.reset.call(this);var r=this.cfg;var e=r.iv;var t=r.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else{var n=t.createDecryptor;this._minBufferSize=1}if(this._mode&&this._mode.__creator==n)this._mode.init(this,e&&e.words);else{this._mode=n.call(t,this,e&&e.words);this._mode.__creator=n}},_doProcessBlock:function(r,e){this._mode.processBlock(r,e)},_doFinalize:function(){var r=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){r.pad(this._data,this.blockSize);var e=this._process(!!"flush")}else{var e=this._process(!!"flush");r.unpad(e)}return e},blockSize:128/32});var k=e.CipherParams=t.extend({init:function(r){this.mixIn(r)},toString:function(r){return(r||this.formatter).stringify(this)}});var x=r.format={};var B=x.OpenSSL={stringify:function(r){var e=r.ciphertext;var t=r.salt;if(t)var n=c.create([1398893684,1701076831]).concat(t).concat(e);else var n=e;return n.toString(s)},parse:function(r){var e=s.parse(r);var t=e.words;if(t[0]==1398893684&&t[1]==1701076831){var n=c.create(t.slice(2,4));t.splice(0,4);e.sigBytes-=16}return k.create({ciphertext:e,salt:n})}};var m=e.SerializableCipher=t.extend({cfg:t.extend({format:B}),encrypt:function(r,e,t,n){n=this.cfg.extend(n);var i=r.createEncryptor(t,n);var a=i.finalize(e);var o=i.cfg;return k.create({ciphertext:a,key:t,iv:o.iv,algorithm:r,mode:o.mode,padding:o.padding,blockSize:r.blockSize,formatter:n.format})},decrypt:function(r,e,t,n){n=this.cfg.extend(n);e=this._parse(e,n.format);var i=r.createDecryptor(t,n).finalize(e.ciphertext);return i},_parse:function(r,e){if(typeof r=="string")return e.parse(r,this);else return r}});var w=r.kdf={};var b=w.OpenSSL={execute:function(r,e,t,n){if(!n)n=c.random(64/8);var i=f.create({keySize:e+t}).compute(r,n);var a=c.create(i.words.slice(e),t*4);i.sigBytes=e*4;return k.create({key:i,iv:a,salt:n})}};var S=e.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:b}),encrypt:function(r,e,t,n){n=this.cfg.extend(n);var i=n.kdf.execute(t,r.keySize,r.ivSize);n.iv=i.iv;var a=m.encrypt.call(this,r,e,i.key,n);a.mixIn(i);return a},decrypt:function(r,e,t,n){n=this.cfg.extend(n);e=this._parse(e,n.format);var i=n.kdf.execute(t,r.keySize,r.ivSize,e.salt);n.iv=i.iv;var a=m.decrypt.call(this,r,e,i.key,n);return a}})}()}(t(0),t(5))},function(r,e,t){r.exports=function(a){return function(){var r=a;var e=r.lib;var t=e.BlockCipher;var n=r.algo;var f=[];var v=[];var u=[];var h=[];var p=[];var l=[];var _=[];var d=[];var y=[];var g=[];(function(){var r=[];for(var e=0;e<256;e++)if(e<128)r[e]=e<<1;else r[e]=e<<1^283;var t=0;var n=0;for(var e=0;e<256;e++){var i=n^n<<1^n<<2^n<<3^n<<4;i=i>>>8^i&255^99;f[t]=i;v[i]=t;var a=r[t];var o=r[a];var s=r[o];var c=r[i]*257^i*16843008;u[t]=c<<24|c>>>8;h[t]=c<<16|c>>>16;p[t]=c<<8|c>>>24;l[t]=c;var c=s*16843009^o*65537^a*257^t*16843008;_[i]=c<<24|c>>>8;d[i]=c<<16|c>>>16;y[i]=c<<8|c>>>24;g[i]=c;if(!t)t=n=1;else{t=a^r[r[r[s^a]]];n^=r[r[n]]}}})();var k=[0,1,2,4,8,16,32,64,128,27,54];var i=n.AES=t.extend({_doReset:function(){if(this._nRounds&&this._keyPriorReset===this._key)return;var r=this._keyPriorReset=this._key;var e=r.words;var t=r.sigBytes/4;var n=this._nRounds=t+6;var i=(n+1)*4;var a=this._keySchedule=[];for(var o=0;o<i;o++)if(o<t)a[o]=e[o];else{var s=a[o-1];if(!(o%t)){s=s<<8|s>>>24;s=f[s>>>24]<<24|f[s>>>16&255]<<16|f[s>>>8&255]<<8|f[s&255];s^=k[o/t|0]<<24}else if(t>6&&o%t==4)s=f[s>>>24]<<24|f[s>>>16&255]<<16|f[s>>>8&255]<<8|f[s&255];a[o]=a[o-t]^s}var c=this._invKeySchedule=[];for(var v=0;v<i;v++){var o=i-v;if(v%4)var s=a[o];else var s=a[o-4];if(v<4||o<=4)c[v]=s;else c[v]=_[f[s>>>24]]^d[f[s>>>16&255]]^y[f[s>>>8&255]]^g[f[s&255]]}},encryptBlock:function(r,e){this._doCryptBlock(r,e,this._keySchedule,u,h,p,l,f)},decryptBlock:function(r,e){var t=r[e+1];r[e+1]=r[e+3];r[e+3]=t;this._doCryptBlock(r,e,this._invKeySchedule,_,d,y,g,v);var t=r[e+1];r[e+1]=r[e+3];r[e+3]=t},_doCryptBlock:function(r,e,t,n,i,a,o,s){var c=this._nRounds;var v=r[e]^t[0];var f=r[e+1]^t[1];var u=r[e+2]^t[2];var h=r[e+3]^t[3];var p=4;for(var l=1;l<c;l++){var _=n[v>>>24]^i[f>>>16&255]^a[u>>>8&255]^o[h&255]^t[p++];var d=n[f>>>24]^i[u>>>16&255]^a[h>>>8&255]^o[v&255]^t[p++];var y=n[u>>>24]^i[h>>>16&255]^a[v>>>8&255]^o[f&255]^t[p++];var g=n[h>>>24]^i[v>>>16&255]^a[f>>>8&255]^o[u&255]^t[p++];v=_;f=d;u=y;h=g}var _=(s[v>>>24]<<24|s[f>>>16&255]<<16|s[u>>>8&255]<<8|s[h&255])^t[p++];var d=(s[f>>>24]<<24|s[u>>>16&255]<<16|s[h>>>8&255]<<8|s[v&255])^t[p++];var y=(s[u>>>24]<<24|s[h>>>16&255]<<16|s[v>>>8&255]<<8|s[f&255])^t[p++];var g=(s[h>>>24]<<24|s[v>>>16&255]<<16|s[f>>>8&255]<<8|s[u&255])^t[p++];r[e]=_;r[e+1]=d;r[e+2]=y;r[e+3]=g},keySize:256/32});r.AES=t._createHelper(i)}(),a.AES}(t(0),(t(10),t(11),t(5),t(1)))},function(r,e,t){r.exports=function(e){return e.mode.ECB=function(){var r=e.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(r,e){this._cipher.encryptBlock(r,e)}});r.Decryptor=r.extend({processBlock:function(r,e){this._cipher.decryptBlock(r,e)}});return r}(),e.mode.ECB}(t(0),t(1))},function(r,e,t){r.exports=function(r){return r.enc.Utf8}(t(0))},function(r,e,t){r.exports=function(o){return function(){var r=o;var e=r.lib;var t=e.Base;var f=e.WordArray;var n=r.algo;var i=n.MD5;var a=n.EvpKDF=t.extend({cfg:t.extend({keySize:128/32,hasher:i,iterations:1}),init:function(r){this.cfg=this.cfg.extend(r)},compute:function(r,e){var t=this.cfg;var n=t.hasher.create();var i=f.create();var a=i.words;var o=t.keySize;var s=t.iterations;while(a.length<o){if(c)n.update(c);var c=n.update(r).finalize(e);n.reset();for(var v=1;v<s;v++){c=n.finalize(c);n.reset()}i.concat(c)}i.sigBytes=o*4;return i}});r.EvpKDF=function(r,e,t){return a.create(t).compute(r,e)}}(),o.EvpKDF}(t(0),(t(12),t(13)))},function(r,e,t){r.exports=function(r){return r.pad.Pkcs7}(t(0),t(1))},function(r,e,t){r.exports=function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding}(t(0),t(1))},function(r,e,t){r.exports=function(a){return function(){if(typeof ArrayBuffer!="function")return;var r=a;var e=r.lib;var t=e.WordArray;var i=t.init;var n=t.init=function(r){if(r instanceof ArrayBuffer)r=new Uint8Array(r);if(r instanceof Int8Array||typeof Uint8ClampedArray!=="undefined"&&r instanceof Uint8ClampedArray||r instanceof Int16Array||r instanceof Uint16Array||r instanceof Int32Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array)r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);if(r instanceof Uint8Array){var e=r.byteLength;var t=[];for(var n=0;n<e;n++)t[n>>>2]|=r[n]<<24-n%4*8;i.call(this,t,e)}else i.apply(this,arguments)};n.prototype=t}(),a.lib.WordArray}(t(0))},function(r,e,t){"use strict";t.r(e);var e=t(2),o=t.n(e),e=t(3),s=t.n(e),e=t(6),c=t.n(e),e=t(7),v=t.n(e),e=t(8),f=t.n(e),e=t(4),u=t.n(e);function crc32(r,e){for(var t=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],n=("undefined"!=typeof Int32Array&&(t=new Int32Array(t)),-1^~~e),i=(r=new Uint8Array(r)).length,a=0;a<i;a++)n=t[255&(n^r[a])]^n>>>8;return(-1^n)>>>0}function dec2hex(r){if(void 0!==r)return function toEight(r){return r.length<8?toEight(r="0".concat(r)):r}(Number(r).toString(16))}self.onmessage=function(r){var r=r.data,e=r[0],t=r[1],n=r[2],i=r[3],a=r[4],r=r[5];i?(i=f.a.create(e),i=crc32(r=function wordArrayToUint8Array(r){for(var e=r.sigBytes,t=r.words,n=new Uint8Array(e),i=0,a=0;i!==e;){var o=t[a++];if(n[i++]=(4278190080&o)>>>24,i===e)break;if(n[i++]=(16711680&o)>>>16,i===e)break;if(n[i++]=(65280&o)>>>8,i===e)break;n[i++]=255&o}return n}((r&&e.byteLength%16!=0?o.a.encrypt(i,u.a.parse(a),{mode:s.a,padding:c.a}):o.a.encrypt(i,u.a.parse(a),{mode:s.a,padding:v.a})).ciphertext),0),postMessage([r.buffer,dec2hex(i),t,n],[r.buffer])):(a=crc32(e,0),postMessage([e,dec2hex(a),t,n],[e]))}},function(r,e,t){r.exports=function(i){return function(){var r=i;var e=r.lib;var c=e.WordArray;var t=r.enc;var n=t.Base64={stringify:function(r){var e=r.words;var t=r.sigBytes;var n=this._map;r.clamp();var i=[];for(var a=0;a<t;a+=3){var o=e[a>>>2]>>>24-a%4*8&255;var s=e[a+1>>>2]>>>24-(a+1)%4*8&255;var c=e[a+2>>>2]>>>24-(a+2)%4*8&255;var v=o<<16|s<<8|c;for(var f=0;f<4&&a+f*.75<t;f++)i.push(n.charAt(v>>>6*(3-f)&63))}var u=n.charAt(64);if(u)while(i.length%4)i.push(u);return i.join("")},parse:function(r){var e=r.length;var t=this._map;var n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var i=0;i<t.length;i++)n[t.charCodeAt(i)]=i}var a=t.charAt(64);if(a){var o=r.indexOf(a);if(o!==-1)e=o}return parseLoop(r,e,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function parseLoop(r,e,t){var n=[];var i=0;for(var a=0;a<e;a++)if(a%4){var o=t[r.charCodeAt(a-1)]<<a%4*2;var s=t[r.charCodeAt(a)]>>>6-a%4*2;n[i>>>2]|=(o|s)<<24-i%4*8;i++}return c.create(n,i)}}(),i.enc.Base64}(t(0))},function(r,e,t){r.exports=function(o){return function(f){var r=o;var e=r.lib;var t=e.WordArray;var n=e.Hasher;var i=r.algo;var F=[];(function(){for(var r=0;r<64;r++)F[r]=f.abs(f.sin(r+1))*4294967296|0})();var a=i.MD5=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(r,e){for(var t=0;t<16;t++){var n=e+t;var i=r[n];r[n]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360}var a=this._hash.words;var o=r[e+0];var s=r[e+1];var c=r[e+2];var v=r[e+3];var f=r[e+4];var u=r[e+5];var h=r[e+6];var p=r[e+7];var l=r[e+8];var _=r[e+9];var d=r[e+10];var y=r[e+11];var g=r[e+12];var k=r[e+13];var x=r[e+14];var B=r[e+15];var m=a[0];var w=a[1];var b=a[2];var S=a[3];m=FF(m,w,b,S,o,7,F[0]);S=FF(S,m,w,b,s,12,F[1]);b=FF(b,S,m,w,c,17,F[2]);w=FF(w,b,S,m,v,22,F[3]);m=FF(m,w,b,S,f,7,F[4]);S=FF(S,m,w,b,u,12,F[5]);b=FF(b,S,m,w,h,17,F[6]);w=FF(w,b,S,m,p,22,F[7]);m=FF(m,w,b,S,l,7,F[8]);S=FF(S,m,w,b,_,12,F[9]);b=FF(b,S,m,w,d,17,F[10]);w=FF(w,b,S,m,y,22,F[11]);m=FF(m,w,b,S,g,7,F[12]);S=FF(S,m,w,b,k,12,F[13]);b=FF(b,S,m,w,x,17,F[14]);w=FF(w,b,S,m,B,22,F[15]);m=GG(m,w,b,S,s,5,F[16]);S=GG(S,m,w,b,h,9,F[17]);b=GG(b,S,m,w,y,14,F[18]);w=GG(w,b,S,m,o,20,F[19]);m=GG(m,w,b,S,u,5,F[20]);S=GG(S,m,w,b,d,9,F[21]);b=GG(b,S,m,w,B,14,F[22]);w=GG(w,b,S,m,f,20,F[23]);m=GG(m,w,b,S,_,5,F[24]);S=GG(S,m,w,b,x,9,F[25]);b=GG(b,S,m,w,v,14,F[26]);w=GG(w,b,S,m,l,20,F[27]);m=GG(m,w,b,S,k,5,F[28]);S=GG(S,m,w,b,c,9,F[29]);b=GG(b,S,m,w,p,14,F[30]);w=GG(w,b,S,m,g,20,F[31]);m=HH(m,w,b,S,u,4,F[32]);S=HH(S,m,w,b,l,11,F[33]);b=HH(b,S,m,w,y,16,F[34]);w=HH(w,b,S,m,x,23,F[35]);m=HH(m,w,b,S,s,4,F[36]);S=HH(S,m,w,b,f,11,F[37]);b=HH(b,S,m,w,p,16,F[38]);w=HH(w,b,S,m,d,23,F[39]);m=HH(m,w,b,S,k,4,F[40]);S=HH(S,m,w,b,o,11,F[41]);b=HH(b,S,m,w,v,16,F[42]);w=HH(w,b,S,m,h,23,F[43]);m=HH(m,w,b,S,_,4,F[44]);S=HH(S,m,w,b,g,11,F[45]);b=HH(b,S,m,w,B,16,F[46]);w=HH(w,b,S,m,c,23,F[47]);m=II(m,w,b,S,o,6,F[48]);S=II(S,m,w,b,p,10,F[49]);b=II(b,S,m,w,x,15,F[50]);w=II(w,b,S,m,u,21,F[51]);m=II(m,w,b,S,g,6,F[52]);S=II(S,m,w,b,v,10,F[53]);b=II(b,S,m,w,d,15,F[54]);w=II(w,b,S,m,s,21,F[55]);m=II(m,w,b,S,l,6,F[56]);S=II(S,m,w,b,B,10,F[57]);b=II(b,S,m,w,h,15,F[58]);w=II(w,b,S,m,k,21,F[59]);m=II(m,w,b,S,f,6,F[60]);S=II(S,m,w,b,y,10,F[61]);b=II(b,S,m,w,c,15,F[62]);w=II(w,b,S,m,_,21,F[63]);a[0]=a[0]+m|0;a[1]=a[1]+w|0;a[2]=a[2]+b|0;a[3]=a[3]+S|0},_doFinalize:function(){var r=this._data;var e=r.words;var t=this._nDataBytes*8;var n=r.sigBytes*8;e[n>>>5]|=128<<24-n%32;var i=f.floor(t/4294967296);var a=t;e[(n+64>>>9<<4)+15]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360;e[(n+64>>>9<<4)+14]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;r.sigBytes=(e.length+1)*4;this._process();var o=this._hash;var s=o.words;for(var c=0;c<4;c++){var v=s[c];s[c]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360}return o},clone:function(){var r=n.clone.call(this);r._hash=this._hash.clone();return r}});function FF(r,e,t,n,i,a,o){var s=r+(e&t|~e&n)+i+o;return(s<<a|s>>>32-a)+e}function GG(r,e,t,n,i,a,o){var s=r+(e&n|t&~n)+i+o;return(s<<a|s>>>32-a)+e}function HH(r,e,t,n,i,a,o){var s=r+(e^t^n)+i+o;return(s<<a|s>>>32-a)+e}function II(r,e,t,n,i,a,o){var s=r+(t^(e|~n))+i+o;return(s<<a|s>>>32-a)+e}r.MD5=n._createHelper(a);r.HmacMD5=n._createHmacHelper(a)}(Math),o.MD5}(t(0))},function(r,e,t){r.exports=function(o){return function(){var r=o;var e=r.lib;var t=e.WordArray;var n=e.Hasher;var i=r.algo;var u=[];var a=i.SHA1=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(r,e){var t=this._hash.words;var n=t[0];var i=t[1];var a=t[2];var o=t[3];var s=t[4];for(var c=0;c<80;c++){if(c<16)u[c]=r[e+c]|0;else{var v=u[c-3]^u[c-8]^u[c-14]^u[c-16];u[c]=v<<1|v>>>31}var f=(n<<5|n>>>27)+s+u[c];if(c<20)f+=(i&a|~i&o)+1518500249;else if(c<40)f+=(i^a^o)+1859775393;else if(c<60)f+=(i&a|i&o|a&o)-1894007588;else f+=(i^a^o)-899497514;s=o;o=a;a=i<<30|i>>>2;i=n;n=f}t[0]=t[0]+n|0;t[1]=t[1]+i|0;t[2]=t[2]+a|0;t[3]=t[3]+o|0;t[4]=t[4]+s|0},_doFinalize:function(){var r=this._data;var e=r.words;var t=this._nDataBytes*8;var n=r.sigBytes*8;e[n>>>5]|=128<<24-n%32;e[(n+64>>>9<<4)+14]=Math.floor(t/4294967296);e[(n+64>>>9<<4)+15]=t;r.sigBytes=e.length*4;this._process();return this._hash},clone:function(){var r=n.clone.call(this);r._hash=this._hash.clone();return r}});r.SHA1=n._createHelper(a);r.HmacSHA1=n._createHmacHelper(a)}(),o.SHA1}(t(0))},function(r,e,t){r.exports=function(o){(function(){var r=o;var e=r.lib;var t=e.Base;var n=r.enc;var v=n.Utf8;var i=r.algo;var a=i.HMAC=t.extend({init:function(r,e){r=this._hasher=new r.init;if(typeof e=="string")e=v.parse(e);var t=r.blockSize;var n=t*4;if(e.sigBytes>n)e=r.finalize(e);e.clamp();var i=this._oKey=e.clone();var a=this._iKey=e.clone();var o=i.words;var s=a.words;for(var c=0;c<t;c++){o[c]^=1549556828;s[c]^=909522486}i.sigBytes=a.sigBytes=n;this.reset()},reset:function(){var r=this._hasher;r.reset();r.update(this._iKey)},update:function(r){this._hasher.update(r);return this},finalize:function(r){var e=this._hasher;var t=e.finalize(r);e.reset();var n=e.finalize(this._oKey.clone().concat(t));return n}})})()}(t(0))}]);',null)}},function(e,t,n){var r,i,o,a,s,l,c,u,h,d,f,p,v,g;e.exports=g||(r=Math,o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),l=(s=(a={}).lib={}).Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),(!t.hasOwnProperty("init")||this.init===t.init)&&(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=s.WordArray=l.extend({init:function(e,t){e=this.words=e||[],t!=i?this.sigBytes=t:this.sigBytes=4*e.length},toString:function(e){return(e||h).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=r.ceil(t/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=function(e){var e=e,t=987654321;return function(){var n=((t=36969*(65535&t)+(t>>16)&4294967295)<<16)+(e=18e3*(65535&e)+(e>>16)&4294967295)&4294967295;return n/=4294967296,(n+=.5)*(r.random()>.5?1:-1)}},i,o=0;o<e;o+=4){var a=n(4294967296*(i||r.random()));i=987654071*a(),t.push(4294967296*a()|0)}return new c.init(t,e)}}),h=(u=a.enc={}).Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new c.init(n,t/2)}},d=u.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new c.init(n,t)}},f=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=s.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,n=t.words,i=t.sigBytes,o=this.blockSize,a=i/(4*o),s=(a=e?r.ceil(a):r.max((0|a)-this._minBufferSize,0))*o,l=r.min(4*s,i);if(s){for(var u=0;u<s;u+=o)this._doProcessBlock(n,u);var h=n.splice(0,s);t.sigBytes-=l}return new c.init(h,l)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),s.Hasher=p.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new v.HMAC.init(e,n).finalize(t)}}}),v=a.algo={},a)},function(e,t,n){var r;e.exports=(r=n(3),function(e){var t=r.lib,n=t.WordArray,i=t.Hasher,o=r.algo,a=[],s=[];(function(){function t(e){return(e-(0|e))*4294967296|0}for(var n=2,r=0;r<64;)(function(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0})(n)&&(r<8&&(a[r]=t(e.pow(n,.5))),s[r]=t(e.pow(n,1/3)),r++),n++})();var l=[],c=o.SHA256=i.extend({_doReset:function(){this._hash=new n.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],c=n[4],u=n[5],h=n[6],d=n[7],f=0;f<64;f++){if(f<16)l[f]=0|e[t+f];else{var p=l[f-15],v=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=l[f-2],m=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;l[f]=v+l[f-7]+m+l[f-16]}var y=c&u^~c&h,_=r&i^r&o^i&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=d+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+y+s[f]+l[f],S=b+_;d=h,h=u,u=c,c=a+w|0,a=o,o=i,i=r,r=w+S|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0,n[5]=n[5]+u|0,n[6]=n[6]+h|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[(i+64>>>9<<4)+14]=e.floor(r/4294967296),n[(i+64>>>9<<4)+15]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});r.SHA256=i._createHelper(c),r.HmacSHA256=i._createHmacHelper(c)}(Math),r.SHA256)},function(e,t,n){var r;e.exports=(r=n(3),n(4),n(6),r.HmacSHA256)},function(e,t,n){var r,i,o;e.exports=void(i=(r=n(3)).lib.Base,o=r.enc.Utf8,r.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),a=this._iKey=t.clone(),s=i.words,l=a.words,c=0;c<n;c++)s[c]^=1549556828,l[c]^=909522486;i.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}}))},function(e,t){var n=function(){return this}();try{n=n||Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=window.URL||window.webkitURL;e.exports=function(e,t){try{try{var n;try{(n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(e),n=n.getBlob()}catch(t){n=new Blob([e])}return new Worker(r.createObjectURL(n))}catch(t){return new Worker("data:application/javascript,"+encodeURIComponent(e))}}catch(e){if(t)return new Worker(t);throw Error("Inline worker is not supported")}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return tN});var t=n(0),r=n.n(t),i={debug:!1,region:"cn",initUploadFileUrl:"{tosDomain}/{oid}?uploads",uploadChunkedUrl:"{tosDomain}/{oid}?partNumber={number}&uploadID={uploadId}",uploadMergeUrl:"{tosDomain}/{oid}?uploadID={uploadId}",getUploadListUrl:"{tosDomain}/{oid}?uploadID={uploadId}",directUploadFileUrl:"{tosDomain}/{oid}",external:{},getSliceFunc:null,uploadSliceCount:3,retryUploadTime:2,retryProcess:!0,retryProcessTime:3,retryTaskTime:2,progressMonitorTime:10,progressMonitorSpeed:50,schema:"https",replace:{}},o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(arguments[t]));return e}function s(e){return null!=e&&"[object Object]"==Object.prototype.toString.call(e)}function l(e){var t=document.createElement("a");return t.href=e,t}function c(e){var t={};try{l(e).search.slice(1).split("&").forEach(function(e){var n,r,i=e.split("=");i.length&&(n=i[0],r=i[1]);try{t[n]=decodeURIComponent(void 0===r?"":r)}catch(e){t[n]=r}})}catch(e){}return t}function u(e){for(var t=0,n=0,r=(e+="").length,i=0;i<r;i++)(0x7fffffffffff<(t=31*t+e.charCodeAt(n++))||t<-140737488355328)&&(t&=0xffffffffffff);return t<0&&(t+=0x7ffffffffffff),t}var h,d,f=function(){function e(){this._hooks={},this._cache=[],this._hooksCache={}}return e.prototype.on=function(e,t){e&&t&&"function"==typeof t&&(this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t))},e.prototype.once=function(e,t){var n=this;e&&t&&"function"==typeof t&&this.on(e,function r(i){t(i),n.off(e,r)})},e.prototype.off=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&(t?-1!==(t=this._hooks[e].indexOf(t))&&this._hooks[e].splice(t,1):this._hooks[e]=[])},e.prototype.emit=function(e,t,n){n?e&&(-1!==this._cache.indexOf(n)?this._emit(e,t):(this._hooksCache.hasOwnProperty(n)||(this._hooksCache[n]={}),this._hooksCache[n].hasOwnProperty(e)||(this._hooksCache[n][e]=[]),this._hooksCache[n][e].push(t))):this._emit(e,t)},e.prototype._emit=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&a(this._hooks[e]).forEach(function(e){try{e(t)}catch(e){}})},e.prototype.set=function(e){e&&-1===this._cache.indexOf(e)&&this._cache.push(e)},e}(),p=(d=+Date.now()+Number((""+Math.random()).slice(2,8)),(t={exports:{}}).exports=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n,r=arguments[e];for(n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(+new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s,l="";for(s in o)o[s]&&(l+="; "+s,!0!==o[s]&&(l+="="+o[s].split(";")[0]));return document.cookie=t+"="+n+l}}function a(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),l=s.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(s[0]),l=(r.read||r)(l,c)||t(l);if(n)try{l=JSON.parse(l)}catch(e){}if(i[c]=l,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}(function(){})}(),t.exports),v=function(){function e(){this.cache={}}return e.prototype.setItem=function(e,t){this.cache[e]=t},e.prototype.getItem=function(e){return this.cache[e]},e.prototype.removeItem=function(e){this.cache[e]=void 0},e.prototype.getCookie=function(e){this.getItem(e)},e.prototype.setCookie=function(e,t){this.setItem(e,t)},e}(),g={getItem:function(e){try{var t=localStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){try{return p.get(e,{domain:t||document.domain})}catch(e){return""}},setCookie:function(e,t,n,r){try{var i=r||document.domain,o=+new Date+n;p.set(e,t,{expires:new Date(o),path:"/",domain:i})}catch(e){}},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},m={getItem:function(e){try{var t=sessionStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);sessionStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{sessionStorage.removeItem(e)}catch(e){}},getCookie:function(e){this.getItem(e)},setCookie:function(e,t){this.setItem(e,t)},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},y=function(){function e(e,t){this._storage=t&&"session"===t?m:!e&&g.isSupportLS?g:new v}return e.prototype.getItem=function(e){return this._storage.getItem(e)},e.prototype.setItem=function(e,t){this._storage.setItem(e,t)},e.prototype.getCookie=function(e,t){return this._storage.getCookie(e,t)},e.prototype.setCookie=function(e,t,n,r){this._storage.setCookie(e,t,n,r)},e.prototype.removeItem=function(e){this._storage.removeItem(e)},e}(),_=function(){function e(e,t,n){this.appid=e,this.domain=t,this.userAgent=window.navigator.userAgent,this.appVersion=window.navigator.appVersion,this.cookie_expire=n}return e.prototype.init=function(){var e=window.navigator.userAgent,t=window.navigator.language,n=document.referrer,r=n?l(n).hostname:"",i=c(window.location.href),o=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(this.appVersion)?"wap":"web",i=(this.utm=function(e,t,n,r){var i=new y(!1),o=new y(!1,"session"),a=e?"_tea_utm_cache_"+e:"_tea_utm_cache",s=e?"_$utm_from_url_"+e:"_$utm_from_url",l={},c=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4","$utm_from_url"],u={ad_id:Number(t.ad_id)||void 0,campaign_id:Number(t.campaign_id)||void 0,creative_id:Number(t.creative_id)||void 0,utm_source:t.utm_source,utm_medium:t.utm_medium,utm_campaign:t.utm_campaign,utm_term:t.utm_term,utm_content:t.utm_content,tr_shareuser:t.tr_shareuser,tr_admaster:t.tr_admaster,tr_param1:t.tr_param1,tr_param2:t.tr_param2,tr_param3:t.tr_param3,tr_param4:t.tr_param4};try{var h,d,f=!1;for(h in u)u[h]&&(-1!==c.indexOf(h)?(l.hasOwnProperty("tracer_data")||(l.tracer_data={}),l.tracer_data[h]=u[h]):l[h]=u[h],f=!0);f?(o.setItem(s,"1"),i.setCookie(a,JSON.stringify(l),r,n)):(d=i.getCookie(a,n))&&(l=JSON.parse(d)),o.getItem(s)&&(l.hasOwnProperty("tracer_data")||(l.tracer_data={}),l.tracer_data.$utm_from_url=1)}catch(e){return u}return l}(this.appid,i,this.domain,this.cookie_expire),this.browser()),a=this.os();return{browser:i.browser,browser_version:i.browser_version,platform:o,os_name:a.os_name,os_version:a.os_version,userAgent:e,screen_width:window.screen&&window.screen.width,screen_height:window.screen&&window.screen.height,device_model:this.getDeviceModel(a.os_name),language:t,referrer:n,referrer_host:r,utm:this.utm,latest_data:this.last(n,r)}},e.prototype.last=function(e,t){var n="",r="",i="",o=location.hostname,a=!1;return e&&t&&o!==t&&(r=t,a=!0,(o=c(n=e)).keyword&&(i=o.keyword)),{$latest_referrer:n,$latest_referrer_host:r,$latest_search_keyword:i,isLast:a}},e.prototype.browser=function(){var e,t="",n=""+parseFloat(this.appVersion),r=this.userAgent;return -1!==r.indexOf("Edge")||-1!==r.indexOf("Edg")?(t="Microsoft Edge",n=-1!==r.indexOf("Edge")?(e=r.indexOf("Edge"),r.substring(e+5)):(e=r.indexOf("Edg"),r.substring(e+4))):-1!==(e=r.indexOf("MSIE"))?(t="Microsoft Internet Explorer",n=r.substring(e+5)):-1!==(e=r.indexOf("Lark"))?(t="Lark",n=r.substring(e+5,e+11)):-1!==(e=r.indexOf("MetaSr"))?(t="sougoubrowser",n=r.substring(e+7,e+10)):-1!==r.indexOf("MQQBrowser")||-1!==r.indexOf("QQBrowser")?(t="qqbrowser",-1!==r.indexOf("MQQBrowser")?(e=r.indexOf("MQQBrowser"),n=r.substring(e+11,e+15)):-1!==r.indexOf("QQBrowser")&&(e=r.indexOf("QQBrowser"),n=r.substring(e+10,e+17))):-1!==r.indexOf("Chrome")?-1!==(e=r.indexOf("MicroMessenger"))?(t="weixin",n=r.substring(e+15,e+20)):-1!==(e=r.indexOf("360"))?(t="360browser",n=r.substring(r.indexOf("Chrome")+7)):-1!==r.indexOf("baidubrowser")||-1!==r.indexOf("BIDUBrowser")?(-1!==r.indexOf("baidubrowser")?(e=r.indexOf("baidubrowser"),n=r.substring(e+13,e+16)):-1!==r.indexOf("BIDUBrowser")&&(e=r.indexOf("BIDUBrowser"),n=r.substring(e+12,e+15)),t="baidubrowser"):-1!==(e=r.indexOf("xiaomi"))?n=-1!==r.indexOf("openlanguagexiaomi")?(t="openlanguage xiaomi",r.substring(e+7,e+13)):(t="xiaomi",r.substring(e-7,e-1)):-1!==(e=r.indexOf("TTWebView"))?(t="TTWebView",n=r.substring(e+10,e+23)):-1===(e=r.indexOf("Chrome"))&&-1===(e=r.indexOf("Chrome"))||(t="Chrome",n=r.substring(e+7)):-1!==r.indexOf("Safari")?-1!==(e=r.indexOf("QQ"))?(t="qqbrowser",n=r.substring(e+10,e+16)):-1!==(e=r.indexOf("Safari"))&&(t="Safari",n=r.substring(e+7),-1!==(e=r.indexOf("Version"))&&(n=r.substring(e+8))):-1!==(e=r.indexOf("Firefox"))?(t="Firefox",n=r.substring(e+8)):-1!==(e=r.indexOf("MicroMessenger"))?(t="weixin",n=r.substring(e+15,e+20)):-1!==(e=r.indexOf("QQ"))&&(t="qqbrowser",n=r.substring(e+3,e+8)),{browser:t,browser_version:n=-1!==(r=(n=-1!==(r=(n=-1!==(r=n.indexOf(";"))?n.substring(0,r):n).indexOf(" "))?n.substring(0,r):n).indexOf(")"))?n.substring(0,r):n}},e.prototype.os=function(){for(var e,t,n="",r="",i=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}],o=0;o<i.length;o++){var a=i[o];if(a.r.test(this.userAgent)){"Mac OS X"===(n=a.s)&&this.isNewIpad()&&(n="iOS");break}}function s(e,t){return(e=e.exec(t))&&e[1]?e[1]:""}function l(e,t){return(e=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:"+e+")","i").exec(t))?e.slice(1)[0]:""}switch(/Windows/.test(n)&&(r=s(/Windows (.*)/,n),n="windows"),n){case"Mac OS X":r=l("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent),n="mac";break;case"Android":r=t=(t=s(/Android ([\.\_\d]+)/,e=this.userAgent))?t:s(/Android\/([\.\_\d]+)/,e),n="android";break;case"iOS":r=this.isNewIpad()?l("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent):(r=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.appVersion))?r[1]+"."+r[2]+"."+(0|r[3]):"",n="ios"}return{os_name:n,os_version:r}},e.prototype.getDeviceModel=function(e){var t,n,r="";try{"android"===e?navigator.userAgent.split(";").forEach(function(e){-1<e.indexOf("Build/")&&(r=e.slice(0,e.indexOf("Build/")))}):"ios"!==e&&"mac"!==e&&"windows"!==e||(r=this.isNewIpad()?"iPad":(n=(t=navigator.userAgent.replace("Mozilla/5.0 (","")).indexOf(";"),t.slice(0,n)))}catch(e){}return r.trim()},e.prototype.isNewIpad=function(){return void 0!==this.userAgent&&"MacIntel"===navigator.platform&&"number"==typeof navigator.maxTouchPoints&&1<navigator.maxTouchPoints},e}(),b={cn:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az28z1gz1hz1gz1cz18z1nz1gz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},w="5.0.23_3",S=void 0,t=(new Date).getTimezoneOffset(),E=parseInt(""+-t/60,10),k=60*t,T=function(){function e(e){this.is_first_time=!0,this.configPersist=!1,this.initConfig=e;var t=new _(e.app_id,e.cookie_domain||"",e.cookie_expire||6048e5).init(),n="__tea_cache_first_"+e.app_id;this.configKey="__tea_cache_config_"+e.app_id,this.sessionStorage=new y(!1,"session"),this.localStorage=new y(!1,"local"),e.configPersist&&(this.configPersist=!0,this.storage=1===e.configPersist?this.sessionStorage:this.localStorage),this.localStorage.getItem(n)?this.is_first_time=!1:(this.is_first_time=!0,this.localStorage.setItem(n,"1")),this.envInfo={user:{user_unique_id:S,user_type:S,user_id:S,user_is_auth:S,user_is_login:S,device_id:S,web_id:S,ip_addr_id:S},header:{app_id:S,app_name:S,app_install_id:S,install_id:S,app_package:S,app_channel:S,app_version:S,os_name:t.os_name,os_version:t.os_version,device_model:t.device_model,ab_client:S,traffic_type:S,client_ip:S,device_brand:S,os_api:S,access:S,language:t.language,region:S,app_language:S,app_region:S,ab_version:S,creative_id:t.utm.creative_id,ad_id:t.utm.ad_id,campaign_id:t.utm.campaign_id,log_type:S,rnd:S,platform:t.platform,sdk_version:w,sdk_lib:"js",province:S,city:S,timezone:E,tz_offset:k,tz_name:S,sim_region:S,carrier:S,resolution:t.screen_width+"x"+t.screen_height,browser:t.browser,browser_version:t.browser_version,referrer:t.referrer,referrer_host:t.referrer_host,width:t.screen_width,height:t.screen_height,screen_width:t.screen_width,screen_height:t.screen_height,utm_term:t.utm.utm_term,utm_content:t.utm.utm_content,utm_source:t.utm.utm_source,utm_medium:t.utm.utm_medium,utm_campaign:t.utm.utm_campaign,tracer_data:JSON.stringify(t.utm.tracer_data),custom:{},wechat_unionid:S,wechat_openid:S}},this.ab_version="",this.evtParams={},this.reportErrorCallback=function(){},this.initDomain()}return e.prototype.initDomain=function(){var e=this.initConfig.channel_domain;e?this.domain=e:(e=this.initConfig.channel,this.domain=function(e,t){if("string"==typeof e&&"number"==typeof t){for(var n=[],r=String.fromCharCode((t=t<=25?t:t%25)+97),i=e.split(r),o=0;o<i.length;o++){var a=64^+parseInt(i[o],t),a=String.fromCharCode(a);n.push(a)}return n.join("")}}(b[e],25))},e.prototype.setDomain=function(e){this.domain=e},e.prototype.getDomain=function(){return this.domain},e.prototype.setAbVersion=function(e){this.ab_version=e},e.prototype.getAbVersion=function(){return this.ab_version},e.prototype.getUrl=function(e){var t="";switch(e){case"event":t=this.initConfig.report_url||"/list";break;case"webid":t="/webid";break;case"tobid":t="/tobid"}return e="",this.initConfig.caller&&(e="?sdk_version="+w+"&sdk_name=web&app_id="+this.initConfig.app_id+"&caller="+this.initConfig.caller),""+this.getDomain()+t+e},e.prototype.set=function(e){var t=this;Object.keys(e).forEach(function(n){var r,i,a;void 0!==e[n]&&null!==e[n]||t.delete(n),"evtParams"===n?t.evtParams=o({},t.evtParams||{},e.evtParams||{}):"_staging_flag"===n?t.evtParams=o({},t.evtParams||{},{_staging_flag:e._staging_flag}):"reportErrorCallback"===n&&"function"==typeof e[n]?t.reportErrorCallback=e[n]:(a=i="",-1<n.indexOf(".")&&(i=(r=n.split("."))[0],a=r[1]),i?"user"===i||"header"===i?t.envInfo[i][a]=e[n]:t.envInfo.header.custom[a]=e[n]:t.envInfo.user.hasOwnProperty(n)?-1<["user_type","ip_addr_id"].indexOf(n)?t.envInfo.user[n]=e[n]&&Number(e[n]):-1<["user_id","web_id","user_unique_id"].indexOf(n)?t.envInfo.user[n]=e[n]&&String(e[n]):-1<["user_is_auth","user_is_login"].indexOf(n)?t.envInfo.user[n]=!!e[n]:"device_id"===n&&(t.envInfo.user[n]=e[n]):t.envInfo.header.hasOwnProperty(n)?t.envInfo.header[n]=e[n]:t.envInfo.header.custom[n]=e[n])})},e.prototype.get=function(e){try{return e?"evtParams"===e?this.evtParams:"reportErrorCallback"===e?this[e]:this.envInfo.user.hasOwnProperty(e)?this.envInfo.user[e]:this.envInfo.header.hasOwnProperty(e)?this.envInfo.header[e]:JSON.parse(JSON.stringify(this.envInfo[e])):JSON.parse(JSON.stringify(this.envInfo))}catch(e){}},e.prototype.setStore=function(e){try{if(!this.configPersist)return;var t,n=this.storage.getItem(this.configKey)||{};n&&Object.keys(e).length&&(t=Object.assign(e,n),this.storage.setItem(this.configKey,t))}catch(e){}},e.prototype.getStore=function(){try{if(!this.configPersist)return null;var e=this.storage.getItem(this.configKey);return e&&Object.keys(e).length?e:null}catch(e){return null}},e.prototype.delete=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey);t&&t.hasOwnProperty(e)&&(delete t[e],this.storage.setItem(this.configKey,t))}catch(e){}},e}(),x=function(){function e(e,t){this.isLog=t||!1,this.name=e||""}return e.prototype.info=function(e){this.isLog},e.prototype.warn=function(e){this.isLog},e.prototype.error=function(e){this.isLog},e.prototype.throw=function(e){throw this.error(this.name),Error(e)},e}(),C=((h=G=G||{}).Init="init",h.Config="config",h.Start="start",h.Ready="ready",h.TokenComplete="token-complete",h.TokenStorage="token-storage",h.TokenFetch="token-fetch",h.TokenError="token-error",h.ConfigUuid="config-uuid",h.ConfigWebId="config-webid",h.ConfigDomain="config-domain",h.CustomWebId="custom-webid",h.TokenChange="token-change",h.TokenReset="token-reset",h.ConfigTransform="config-transform",h.EnvTransform="env-transform",h.SessionReset="session-reset",h.SessionResetTime="session-reset-time",h.Event="event",h.Events="events",h.EventNow="event-now",h.CleanEvents="clean-events",h.BeconEvent="becon-event",h.SubmitBefore="submit-before",h.SubmitScuess="submit-scuess",h.SubmitAfter="submit-after",h.SubmitError="submit-error",h.SubmitVerify="submit-verify",h.Stay="stay",h.ResetStay="reset-stay",h.StayReady="stay-ready",h.SetStay="set-stay",h.RouteChange="route-change",h.RouteReady="route-ready",h.Ab="ab",h.AbVar="ab-var",h.AbAllVars="ab-all-vars",h.AbConfig="ab-config",h.AbExternalVersion="ab-external-version",h.AbVersionChangeOn="ab-version-change-on",h.AbVersionChangeOff="ab-version-change-off",h.AbOpenLayer="ab-open-layer",h.AbCloseLayer="ab-close-layer",h.AbReady="ab-ready",h.AbComplete="ab-complete",h.Profile="profile",h.ProfileSet="profile-set",h.ProfileSetOnce="profile-set-once",h.ProfileUnset="profile-unset",h.ProfileIncrement="profile-increment",h.ProfileAppend="profile-append",h.ProfileClear="profile-clear",h.Autotrack="autotrack",h.AutotrackReady="autotrack-ready",h.CepReady="cep-ready",h.TracerReady="tracer-ready",G),I=function(){function e(e){this.native=e}var t=e.prototype;return t.bridgeInject=function(){try{return!!this.native&&!!AppLogBridge}catch(e){return!1}},t.bridgeReady=function(){var e=this;return new Promise(function(t,n){try{e.bridgeInject()?AppLogBridge.hasStarted(function(e){e?t(!0):n(!1)}):n(!1)}catch(e){n(!1)}})},t.setConfig=function(e){var t=this;try{Object.keys(e).forEach(function(n){"user_unique_id"===n?t.setUserUniqueId(e[n]):config[n]?t.addHeaderInfo(n,e[n]):t.removeHeaderInfo(n)})}catch(e){}},t.setUserUniqueId=function(e){try{AppLogBridge.setUserUniqueId(e)}catch(e){}},t.addHeaderInfo=function(e,t){try{AppLogBridge.addHeaderInfo(e,t)}catch(e){}},t.setHeaderInfo=function(e){try{AppLogBridge.setHeaderInfo(JSON.stringify(e))}catch(e){}},t.removeHeaderInfo=function(e){try{AppLogBridge.removeHeaderInfo(e)}catch(e){}},t.reportPv=function(e){this.onEventV3("predefine_pageview",e)},t.onEventV3=function(e,t){try{AppLogBridge.onEventV3(e,t)}catch(e){}},t.profileSet=function(e){try{AppLogBridge.profileSet(e)}catch(e){}},t.profileSetOnce=function(e){try{AppLogBridge.profileSetOnce(e)}catch(e){}},t.profileIncrement=function(e){try{AppLogBridge.profileIncrement(e)}catch(e){}},t.profileUnset=function(e){try{AppLogBridge.profileUnset(e)}catch(e){}},t.profileAppend=function(e){try{AppLogBridge.profileAppend(e)}catch(e){}},e}(),O={XHR_ON:500,TIMEOUT:5005};function A(e,t,n,r,i,o,a,s){try{var l=new XMLHttpRequest;l.open(s||"POST",""+e,!0),l.setRequestHeader("Content-Type","application/json; charset=utf-8"),a&&l.setRequestHeader("X-MCS-AppKey",""+a),r&&(l.withCredentials=!0),l.onload=function(){if(i){var e=null;if(l.responseText){try{e=JSON.parse(l.responseText)}catch(t){e={}}i(e,t)}}},n&&(l.timeout=n,l.ontimeout=function(){o&&o(t,O.TIMEOUT)}),l.onerror=function(){l.abort(),o&&o(t,O.XHR_ON)},l.send(JSON.stringify(t))}catch(e){}}function P(e,t,n,r){try{var i=e.match(/\/v\d\//),o=i?i[0]:-1!==e.indexOf("/v1/")?"/v1/":"/v2/",a=e.split(o)[0];if(!a)return void r(e,t,M);t.forEach(function(i){var i=function(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&void 0!==e[t]&&(n+="&"+t+"="+encodeURIComponent(JSON.stringify(e[t])));return"&"===n[0]?n.slice(1):n}(i),o=new Image(1,1);o.onload=function(){o=null,n&&n()},o.onerror=function(){o=null,r&&r(e,t,z)},o.src=a+"/gif?"+i})}catch(n){r&&r(e,t,N,n.message)}}function R(e,t,n,r,i,o,a){var s=window.navigator.userAgent;if(-1===window.navigator.appName.indexOf("Microsoft Internet Explorer")||-1===s.indexOf("MSIE 8.0")&&-1===s.indexOf("MSIE 9.0")){if(a)return window.navigator&&window.navigator.sendBeacon?window.navigator.sendBeacon(e,JSON.stringify(t))?i():o(e,t,4003):P(e,t,i,o)}else P(e,t,i,o);A(e,t,n,r,i,o)}function D(){return(function e(t){return t?(t^16*Math.random()>>t/4).toString(10):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e)})().replace(/-/g,"").slice(0,19)}function L(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}var M=4001,z=4e3,N=4002,j=function(){function e(){this.eventLimit=50,this.enable_ttwebid=!1,this.eventCache=[],this.beconEventCache=[]}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=e.configManager,this.cacheStorgae=new y(!0),this.localStorage=new y(!1),this.maxReport=t.max_report||10,this.reportTime=t.reportTime||30,this.timeout=t.timeout||1e5,this.enable_ttwebid=t.enable_ttwebid,this.reportUrl=this.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+this.configManager.get("app_id"),this.beconKey="__tea_cache_events_becon_"+this.configManager.get("app_id"),this.abKey="__tea_sdk_ab_version_"+this.configManager.get("app_id"),this.collect.on(C.Ready,function(){n.reportAll(!1)}),this.collect.on(C.ConfigDomain,function(){n.reportUrl=n.configManager.getUrl("event")}),this.collect.on(C.Event,function(e){n.event(e)}),this.collect.on(C.BeconEvent,function(e){n.beconEvent(e)}),this.collect.on(C.CleanEvents,function(){n.reportAll(!1)}),this.linster()},e.prototype.linster=function(){var e,t=this;window.addEventListener("unload",function(){t.reportAll(!0)},!1),e=function(){t.reportAll(!0)},navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&t.reportAll(!0)},!1)},e.prototype.reportAll=function(e){this.report(e),this.reportBecon()},e.prototype.event=function(e){var t=this;try{var n,r=a(e,this.cacheStorgae.getItem(this.eventKey)||[]);this.cacheStorgae.setItem(this.eventKey,r),this.reportTimeout&&clearTimeout(this.reportTimeout),r.length>=this.maxReport?this.report(!1):(n=this.reportTime,this.reportTimeout=setTimeout(function(){t.report(!1),t.reportTimeout=null},n))}catch(e){}},e.prototype.beconEvent=function(e){e=a(e,this.cacheStorgae.getItem(this.beconKey)||[]),this.cacheStorgae.setItem(this.beconKey,e),this.collect.destroyInstance||this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(e)),!0))},e.prototype.reportBecon=function(){var e=this.cacheStorgae.getItem(this.beconKey)||[];e&&e.length&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(e)),!0))},e.prototype.report=function(e){var t;!this.collect.destroyInstance&&this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(t=this.cacheStorgae.getItem(this.eventKey)||[]).length&&(this.cacheStorgae.removeItem(this.eventKey),this.sliceEvent(t,e))},e.prototype.sliceEvent=function(e,t){if(e.length>this.eventLimit)for(var n=0;n<e.length;n+=this.eventLimit){var r=e.slice(n,n+this.eventLimit),i=this.split(this.merge(r));this.send(i,t)}else i=this.split(this.merge(e)),this.send(i,t)},e.prototype.merge=function(e){var t=this,n=this.configManager.get(),r=n.header,i=n.user,a=(r.custom=JSON.stringify(r.custom),this.configManager.get("evtParams")),n=e.map(function(e){Object.keys(a).length&&(e.params=o({},a,e.params));var n=t.localStorage.getItem(t.abKey);return n&&n.uuid&&n.uuid===i.user_unique_id&&t.configManager.getAbVersion()&&(e.ab_sdk_version=t.configManager.getAbVersion()),e.session_id=t.collect.sessionManager.getSessionId(),e.params=JSON.stringify(e.params),e}),e=JSON.parse(JSON.stringify({events:n,user:i,header:r})),n=(e.local_time=Math.floor(Date.now()/1e3),e.user_unique_type=this.config.enable_ttwebid?this.config.user_unique_type:void 0,[]);return n.push(e),n},e.prototype.split=function(e){return e.map(function(e){var t=[];return t.push(e),t})},e.prototype.send=function(e,t){var n=this;e.length&&e.forEach(function(e){try{var r=JSON.parse(JSON.stringify(e)),i=(n.config.filter&&(r=n.config.filter(r)),n.collect.eventFilter&&r&&(r=n.collect.eventFilter(r)),r||e);n.collect.emit(C.SubmitBefore,i),n.collect.emit(C.SubmitVerify,i),R(n.reportUrl,i,n.timeout,n.enable_ttwebid,function(e,t){e&&0!==e.e?n.collect.emit(C.SubmitError,{type:"f_data",eventData:t,errorCode:e.e,response:e}):n.collect.emit(C.SubmitScuess,{eventData:t,res:e})},function(e,t){n.configManager.get("reportErrorCallback")(e,t),n.collect.emit(C.SubmitError,{type:"f_net",eventData:e,errorCode:t})},t),n.collect.emit(C.SubmitAfter,i)}catch(e){}})},e}(),B=function(){function e(){this.cacheToken={},this.enableCookie=!1,this.enable_ttwebid=!1,this.enableCustomWebid=!1}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=this.collect.configManager,this.storage=new y(!1),this.tokenKey="__tea_cache_tokens_"+t.app_id,this.enable_ttwebid=t.enable_ttwebid,this.enableCustomWebid=t.enable_custom_webid,this.collect.on(C.ConfigUuid,function(e){n.setUuid(e)}),this.collect.on(C.ConfigWebId,function(e){n.setWebId(e)}),this.enableCookie=t.cross_subdomain,this.expiresTime=t.cookie_expire||6048e5,this.cookieDomain=t.cookie_domain||"",this.checkStorage()},e.prototype.checkStorage=function(){var e,t=this;this.enableCookie?(e=this.storage.getCookie(this.tokenKey,this.cookieDomain),this.cacheToken=e&&"string"==typeof e?JSON.parse(e):{}):this.cacheToken=this.storage.getItem(this.tokenKey)||{},this.tokenType=this.cacheToken&&this.cacheToken._type_?this.cacheToken._type_:"default","custom"!==this.tokenType||this.enableCustomWebid?this.enableCustomWebid?this.collect.on(C.CustomWebId,function(){t.tokenReady=!0,t.collect.emit(C.TokenComplete)}):this.checkEnv()||(this.enable_ttwebid?this.completeTtWid(this.cacheToken):this.check()):this.remoteWebid()},e.prototype.check=function(){this.cacheToken&&this.cacheToken.web_id?this.complete(this.cacheToken):this.config.disable_webid?this.complete({web_id:D(),user_unique_id:this.configManager.get("user_unique_id")||D()}):this.remoteWebid()},e.prototype.checkEnv=function(){var e,t;return -1!==window.navigator.userAgent.indexOf("miniProgram")&&!(!(e=c(window.location.href))||!e.Web_ID)&&(t=this.configManager.get("user_unique_id"),this.complete({web_id:""+e.Web_ID,env_uuid:t}),!0)},e.prototype.remoteWebid=function(){var e=this;A(this.configManager.getUrl("webid"),{app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""},3e3,!1,function(t){t&&0===t.e?e.complete({web_id:e.configManager.get("web_id")||t.web_id,user_unique_id:e.configManager.get("user_unique_id")||t.web_id}):e.collect.emit(C.TokenError)},function(){e.collect.emit(C.TokenError)})},e.prototype.complete=function(e){var t=e.web_id,n=e.user_unique_id;e.timestamp=Date.now(),this.collect.configManager.set({web_id:t,user_unique_id:n}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(C.TokenComplete)},e.prototype.completeTtWid=function(e){var t=e.user_unique_id||"",n=this.configManager.get("user_unique_id");(n||t)&&this.configManager.set({user_unique_id:n||t}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(C.TokenComplete)},e.prototype.setUuid=function(e){var t,n;e?(e=String(e),t=this.configManager.get("user_unique_id"),n=this.cacheToken&&this.cacheToken.user_unique_id,e===t&&e===n||(this.configManager.set({user_unique_id:e}),this.cacheToken||(this.cacheToken={}),this.cacheToken.user_unique_id=e,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken),this.collect.emit(C.TokenChange,"uuid"),this.collect.emit(C.SessionReset))):this.clearUuid()},e.prototype.clearUuid=function(){this.config.enable_ttwebid||this.configManager.get("web_id")&&(this.configManager.set({user_unique_id:this.configManager.get("web_id")}),this.cacheToken&&this.cacheToken.web_id&&(this.cacheToken.user_unique_id=this.cacheToken.web_id,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken)),this.collect.emit(C.TokenReset))},e.prototype.setWebId=function(e){var t,n;e&&!this.config.enable_ttwebid&&(this.cacheToken&&this.cacheToken.web_id?this.cacheToken.web_id!==e&&(this.cacheToken.user_unique_id=this.cacheToken.web_id===this.cacheToken.user_unique_id?e:this.cacheToken.user_unique_id,this.cacheToken.web_id=e):(this.cacheToken={},this.cacheToken.web_id=e,this.cacheToken.user_unique_id=e),this.cacheToken.timestamp=Date.now(),t=this.configManager.get("web_id"),(n=this.configManager.get("user_unique_id"))&&n!==t||(this.configManager.set({user_unique_id:e}),this.collect.emit(C.TokenChange,"uuid")),t!==e&&(this.configManager.set({web_id:e}),this.collect.emit(C.TokenChange,"webid")),this.setStorage(this.cacheToken))},e.prototype.setStorage=function(e){e._type_=this.enableCustomWebid?"custom":"default",delete e["diss".split("").reverse().join("")],this.enableCookie||this.enable_ttwebid?this.storage.setCookie(this.tokenKey,e,this.expiresTime,this.cookieDomain):this.storage.setItem(this.tokenKey,e),this.cacheToken=e},e.prototype.getReady=function(){return this.tokenReady},e.prototype.getTobId=function(){var e=this,t=this.configManager.getUrl("tobid");return new Promise(function(n){A(t,{app_id:e.config.app_id,user_unique_id:e.configManager.get("user_unique_id"),web_id:e.configManager.get("web_id")},3e4,e.enable_ttwebid,function(e){e&&0===e.e?n(e.tobid):n("")},function(){n("")})})},e}(),U=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.storage=new y(!1,"session"),this.sessionKey="__tea_session_id_"+t.app_id,this.expireTime=t.expireTime||18e5,this.disableSession=t.disable_session,this.disableSession||(this.setSessionId(),this.collect.on(C.SessionReset,function(){n.resetSessionId()}),this.collect.on(C.SessionResetTime,function(){n.updateSessionIdTime()}))},e.prototype.updateSessionIdTime=function(){var e,t=this.storage.getItem(this.sessionKey);t&&t.sessionId&&(e=t.timestamp,Date.now()-e>this.expireTime?t={sessionId:L(),timestamp:Date.now()}:t.timestamp=Date.now(),this.storage.setItem(this.sessionKey,t),this.resetExpTime())},e.prototype.setSessionId=function(){var e=this,t=this.storage.getItem(this.sessionKey);t&&t.sessionId?t.timestamp=Date.now():t={sessionId:L(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t),this.sessionExp=setInterval(function(){e.checkEXp()},this.expireTime)},e.prototype.getSessionId=function(){var e=this.storage.getItem(this.sessionKey);return!this.disableSession&&e&&e.sessionId?e.sessionId:""},e.prototype.resetExpTime=function(){var e=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval(function(){e.checkEXp()},this.expireTime))},e.prototype.resetSessionId=function(){var e={sessionId:L(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,e)},e.prototype.checkEXp=function(){var e=this.storage.getItem(this.sessionKey);e&&e.sessionId&&Date.now()-e.timestamp+30>=this.expireTime&&(e={sessionId:L(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,e))},e}(),F={autotrack:{src:{cn:"https://lf3-cdn-tos.bytescm.com/obj/static/log-sdk/collect/5.0/plugin/autotrack.js",sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/autotrack.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/autotrack.js"},object:"LogAutoTrack"},ab:{src:{cn:"https://lf3-cdn-tos.bytescm.com/obj/static/log-sdk/collect/5.0/plugin/ab.js",sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/ab.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/ab.js"},object:"LogAb"},stay:{src:{cn:"https://lf3-cdn-tos.bytescm.com/obj/static/log-sdk/collect/5.0/plugin/stay.js",sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/stay.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/stay.js"},object:"LogStay"},route:{src:{cn:"https://lf3-cdn-tos.bytescm.com/obj/static/log-sdk/collect/5.0/plugin/route.js",sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/route.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/route.js"},object:"LogRoute"},cep:{src:{cn:"https://lf3-cdn-tos.bytescm.com/obj/static/log-sdk/collect/5.0/plugin/cep.js",sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/cep.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/cep.js"},object:"LogCep"},tracer:{src:{cn:"https://lf3-cdn-tos.bytescm.com/obj/static/log-sdk/collect/5.0/plugin/tracer.js",sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/tracer.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/tracer.js"},object:"LogTracer"}},t=function(){function e(e){this.disableAutoPageView=!1,this.bridgeReport=!1,this.staging=!1,this.pluginInstances=[],this.sended=!1,this.started=!1,this.destroyInstance=!1,this.sdkReady=!1,this.adapters={},this.name=e,this.hook=new f,this.logger=new x(e),this.remotePlugin=new Map,this.Types=C,this.adapters.fetch=A,this.adapters.storage=y}return e.usePlugin=function(t,n,r){if(n){for(var i=!1,o=0,a=e.plugins.length;o<a;o++)if(e.plugins[o].name===n){e.plugins[o].plugin=t,e.plugins[o].options=r||{},i=!0;break}i||e.plugins.push({name:n,plugin:t,options:r})}else e.plugins.push({plugin:t})},e.prototype.usePlugin=function(e,t,n){e&&(t?"string"==typeof t?this.remotePlugin.get(e)||this.remotePlugin.set(e,{src:t,call:n}):this.remotePlugin.get(e)||this.remotePlugin.set(e,{instance:t}):this.remotePlugin.get(e)||this.remotePlugin.set(e,"sdk"))},e.prototype.init=function(t){var n,r=this;this.inited||t&&s(t)&&t.app_id&&"number"==typeof(n=t.app_id)&&!isNaN(n)&&(t.app_key&&"string"!=typeof t.app_key||(t.channel_domain||-1!==["cn","sg","va"].indexOf(t.channel)||(t.channel="cn"),this.appBridge=new I(t.Native),this.bridgeReport=this.appBridge.bridgeInject(),this.configManager=new T(t),this.initConfig=t,this.bridgeReport||(this.configManager.set({app_id:t.app_id}),this.eventManager=new j,this.tokenManager=new B,this.sessionManager=new U,Promise.all([new Promise(function(e){r.once(C.TokenComplete,function(){e(!0)})}),new Promise(function(e){r.once(C.Start,function(){e(!0)})})]).then(function(){try{e.plugins.reduce(function(e,t){var n=t.plugin,t=t.options,t=Object.assign(r.initConfig,t),n=new n;return n.apply(r,t),e.push(n),e},r.pluginInstances)}catch(e){}r.sdkReady=!0,r.emit(C.Ready);try{(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(e){}t.disable_auto_pv||r.pageView(),r.on(C.TokenChange,function(e){"webid"===e&&r.pageView()}),r.on(C.TokenReset,function(){}),r.on(C.RouteChange,function(e){e.init||t.disable_route_report||r.pageView()})}),this.tokenManager.apply(this,t),this.eventManager.apply(this,t),this.sessionManager.apply(this,t),this.emit(C.Init)),this.inited=!0))},e.prototype.config=function(e){var t,n;this.inited?e&&s(e)?this.bridgeReport?this.appBridge.setConfig(e):(e._staging_flag&&1===e._staging_flag&&(this.staging=!0),e.disable_auto_pv&&(this.disableAutoPageView=!0,delete e.disable_auto_pv),t=o({},e),this.initConfig&&this.initConfig.configPersist&&((n=this.configManager.getStore())&&(t=Object.assign(n,e)),this.configManager.setStore(e)),t.web_id,t.user_unique_id,n=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)0>t.indexOf(i[r])&&(n[i[r]]=e[i[r]]);return n}(t,["web_id","user_unique_id"]),t.hasOwnProperty("web_id")&&this.emit(C.ConfigWebId,t.web_id),t.hasOwnProperty("user_unique_id")&&this.emit(C.ConfigUuid,t.user_unique_id),this.configManager.set(n)):this.logger.warn("config params is error, please check"):this.logger.warn("config must be use after function init")},e.prototype.setDomain=function(e){this.configManager&&this.configManager.setDomain(e),this.emit(C.ConfigDomain)},e.prototype.getConfig=function(e){return this.configManager.get(e)},e.prototype.send=function(){this.start()},e.prototype.start=function(){this.inited&&!this.sended&&(this.sended=!0,this.emit(C.Start))},e.prototype.event=function(e,t){var n=this;try{if(this.initConfig&&this.initConfig.disable_track_event)return;var r=[];Array.isArray(e)?e.forEach(function(e){r.push(n.processEvent(e[0],e[1]||{}))}):r.push(this.processEvent(e,t)),this.bridgeReport?r.forEach(function(e){var t=e.event,e=e.params;n.appBridge.onEventV3(t,JSON.stringify(e))}):r.length&&(this.emit(C.Event,r),this.emit(C.SessionResetTime))}catch(e){}},e.prototype.beconEvent=function(e,t){var n;this.initConfig&&this.initConfig.disable_track_event||Array.isArray(e)||((n=[]).push(this.processEvent(e,t||{})),n.length&&(this.emit(C.BeconEvent,n),this.emit(C.SessionResetTime)))},e.prototype.processEvent=function(e,t){void 0===t&&(t={});try{var n=e,r=(/^event\./.test(e)&&(n=e.slice(6)),t),i=void((r="object"!=typeof r?{}:r).profile?delete r.profile:r.event_index=d+=1);return r.local_ms?(i=r.local_ms,delete r.local_ms):i=+new Date,{event:n,params:r,local_time_ms:i,is_bav:this.initConfig&&this.initConfig.autotrack?1:0}}catch(n){return{event:e,params:t}}},e.prototype.filterEvent=function(e){this.eventFilter=e},e.prototype.on=function(e,t){this.hook.on(e,t)},e.prototype.once=function(e,t){this.hook.once(e,t)},e.prototype.off=function(e,t){this.hook.off(e,t)},e.prototype.emit=function(e,t,n){this.hook.emit(e,t,n)},e.prototype.set=function(e){this.hook.set(e)},e.prototype.pageView=function(){this.disableAutoPageView||this.predefinePageView()},e.prototype.predefinePageView=function(e){void 0===e&&(e={});var t={title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer,$is_first_time:""+this.configManager.is_first_time},t=o({},t,e);this.event("predefine_pageview",t)},e.prototype.clearEventCache=function(){this.emit(C.CleanEvents)},e.prototype.setWebIDviaUnionID=function(e){var t;e&&(t=u(e),this.config({web_id:""+t,wechat_unionid:e}),this.emit(C.CustomWebId))},e.prototype.setWebIDviaOpenID=function(e){var t;e&&(t=u(e),this.config({web_id:""+t,wechat_openid:e}),this.emit(C.CustomWebId))},e.prototype.resetStayDuration=function(e,t,n){this.emit(C.ResetStay,{url_path:e=void 0===e?"":e,title:t=void 0===t?"":t,url:n=void 0===n?"":n},C.Stay)},e.prototype.resetStayParams=function(e,t,n){this.emit(C.SetStay,{url_path:e=void 0===e?"":e,title:t=void 0===t?"":t,url:n=void 0===n?"":n},C.Stay)},e.prototype.getToken=function(e,t){function n(t){var n;!a&&(a=!0,n=i.configManager.get().user,t&&(n.tobid=t,n["diss".split("").reverse().join("")]=t),e(o({},n)))}function r(){i.tokenManager.getTobId().then(function(e){n(e)})}var i=this,a=!1;this.sdkReady?r():(t&&setTimeout(function(){n()},t),this.on(C.Ready,function(){r()}))},e.prototype.profileSet=function(e){this.bridgeReport?this.appBridge.profileSet(JSON.stringify(e)):this.emit(C.ProfileSet,e,C.Profile)},e.prototype.profileSetOnce=function(e){this.bridgeReport?this.appBridge.profileSetOnce(JSON.stringify(e)):this.emit(C.ProfileSetOnce,e,C.Profile)},e.prototype.profileIncrement=function(e){this.bridgeReport?this.appBridge.profileIncrement(JSON.stringify(e)):this.emit(C.ProfileIncrement,e,C.Profile)},e.prototype.profileUnset=function(e){this.bridgeReport?this.appBridge.profileUnset(e):this.emit(C.ProfileUnset,e,C.Profile)},e.prototype.profileAppend=function(e){this.bridgeReport?this.appBridge.profileAppend(JSON.stringify(e)):this.emit(C.ProfileAppend,e,C.Profile)},e.prototype.setExternalAbVersion=function(e){this.emit(C.AbExternalVersion,"string"==typeof e&&e?(""+e).trim():null,C.Ab)},e.prototype.getVar=function(e,t,n){this.emit(C.AbVar,{name:e,defaultValue:t,callback:n},C.Ab)},e.prototype.getABconfig=function(e,t){this.emit(C.AbConfig,{param:e,callback:t},C.Ab)},e.prototype.getAbSdkVersion=function(){return this.configManager.getAbVersion()},e.prototype.onAbSdkVersionChange=function(e){var t=this;return this.emit(C.AbVersionChangeOn,e,C.Ab),function(){t.emit(C.AbVersionChangeOff,e,C.Ab)}},e.prototype.offAbSdkVersionChange=function(e){this.emit(C.AbVersionChangeOff,e,C.Ab)},e.prototype.openOverlayer=function(){this.emit(C.AbOpenLayer,"",C.Ab)},e.prototype.closeOverlayer=function(){this.emit(C.AbCloseLayer,"",C.Ab)},e.prototype.getAllVars=function(e){this.emit(C.AbAllVars,e,C.Ab)},e.prototype.autoInitializationRangers=function(e){var t=e.app_id,n=e.channel,r=e.onTokenReady,e=b[n]+"/webid",i=new y(!1),o="__tea_cache_tokens_"+t;(n=i.getItem(o))&&n.web_id?r(n.web_id):R(e,{app_key:"",app_id:t,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer},3e3,!1,function(e){e&&0===e.e?(r(e.web_id),e={web_id:e.web_id,user_unique_id:e.web_id,timestamp:Date.now()},i.setItem(o,e)):r("")},function(){r("")},!0)},e.prototype.destoryInstace=function(){this.destroyInstance||(this.destroyInstance=!0,this.off(C.TokenComplete))},e.plugins=[],e}(),G=function(){function e(){}return e.prototype.apply=function(e,t){var n=this,r=e.adapters.fetch;t.event_verify_url&&"string"==typeof t.event_verify_url&&(this.url=t.event_verify_url+"/v1/list_test",this.url&&(t=e.Types,e.on(t.SubmitBefore,function(e){r(n.url,e,3e4)})))},e}(),V=function(){function e(){}return e.prototype.apply=function(e,t){var n=this,t=(this.collect=e,this.config=t,this.duration=6e4,this.reportUrl=e.configManager.getDomain()+"/profile/list",e.Types),e=e.adapters.fetch;this.fetch=e,this.cache={},this.collect.on(t.ProfileSet,function(e){n.setProfile(e)}),this.collect.on(t.ProfileSetOnce,function(e){n.setOnceProfile(e)}),this.collect.on(t.ProfileUnset,function(e){n.unsetProfile(e)}),this.collect.on(t.ProfileIncrement,function(e){n.incrementProfile(e)}),this.collect.on(t.ProfileAppend,function(e){n.appendProfile(e)}),this.collect.on(t.ProfileClear,function(){n.cache={}}),this.ready(t.Profile)},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var n=this.collect.hook._hooksCache[e];if(Object.keys(n).length)for(var r in n)!function(e){n[e].length&&n[e].forEach(function(n){t.collect.hook.emit(e,n)})}(r)}},e.prototype.report=function(e,t){void 0===t&&(t={});try{if(this.config.disable_track_event)return;var n=[],r=(n.push(this.collect.processEvent(e,t)),this.collect.eventManager.merge(n));this.fetch(this.reportUrl,r)}catch(e){}},e.prototype.setProfile=function(e){(e=this.formatParams(e))&&Object.keys(e).length&&(this.pushCache(e),this.report("__profile_set",o({},e,{profile:!0})))},e.prototype.setOnceProfile=function(e){(e=this.formatParams(e,!0))&&Object.keys(e).length&&(this.pushCache(e),this.report("__profile_set_once",o({},e,{profile:!0})))},e.prototype.incrementProfile=function(e){e&&this.report("__profile_increment",o({},e,{profile:!0}))},e.prototype.unsetProfile=function(e){var t;e&&((t={})[e]="1",this.report("__profile_unset",o({},t,{profile:!0})))},e.prototype.appendProfile=function(e){if(e){var t,n={};for(t in e)("string"==typeof e[t]||"Array"===Object.prototype.toString.call(e[t]).slice(8,-1))&&(n[t]=e[t]);Object.keys(n).length&&this.report("__profile_append",o({},n,{profile:!0}))}},e.prototype.pushCache=function(e){var t=this;Object.keys(e).forEach(function(n){t.cache[n]={val:t.clone(e[n]),timestamp:Date.now()}})},e.prototype.formatParams=function(e,t){var n=this;void 0===t&&(t=!1);try{if(!e||"[object Object]"!==Object.prototype.toString.call(e))return;var r,i={};for(r in e)("string"==typeof e[r]||"number"==typeof e[r]||"Array"===Object.prototype.toString.call(e[r]).slice(8,-1))&&(i[r]=e[r]);var o=Object.keys(i);if(!o.length)return;var a=Date.now();return o.filter(function(r){var i=n.cache[r];return t?!i:!(i&&n.compare(i.val,e[r])&&a-i.timestamp<n.duration)}).reduce(function(e,t){return e[t]=i[t],e},{})}catch(e){}},e.prototype.compare=function(e,t){try{return JSON.stringify(e)===JSON.stringify(t)}catch(e){return!1}},e.prototype.clone=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}},e.prototype.unReady=function(){},e}(),H=function(){function e(){var e=this;this.setInterval=function(){var t,n,r,i;e.clearIntervalFunc=(t=function(){e.isSessionhasEvent&&e.endCurrentSession()},n=e.sessionInterval,void 0===t&&(t=function(){}),void 0===n&&(n=1e3),r=Date.now()+n,i=window.setTimeout(function e(){var o=Date.now()-r;t(),r+=n,i=window.setTimeout(e,Math.max(0,n-o))},n),function(){window.clearTimeout(i)})},this.clearInterval=function(){e.clearIntervalFunc&&e.clearIntervalFunc()}}return e.prototype.apply=function(e,t){var n=this;this.collect=e,t.disable_heartbeat||(this.sessionInterval=6e4,this.startTime=0,this.lastTime=0,this.setInterval(),e=this.collect.Types,this.collect.on(e.SessionReset,function(){n.process()}))},e.prototype.endCurrentSession=function(){this.collect.event("_be_active",{start_time:this.startTime,end_time:this.lastTime,url:window.location.href,referrer:window.document.referrer,title:document.title||location.pathname}),this.isSessionhasEvent=!1,this.startTime=0},e.prototype.process=function(){this.isSessionhasEvent||(this.isSessionhasEvent=!0,this.startTime=+new Date);var e=this.lastTime||+new Date;this.lastTime=+new Date,this.lastTime-e>this.sessionInterval&&(this.clearInterval(),this.endCurrentSession(),this.setInterval())},e}(),Z=function(){function e(){}return e.prototype.apply=function(e,t){var n,r=this;this.collect=e,this.config=t,this.config.channel_domain||(n=e.adapters.fetch,this.fetch=n,t.disable_track_event||t.disable_sdk_monitor||(this.url=e.configManager.getUrl("event"),n=this.collect.Types,this.collect.on(n.Ready,function(){r.sdkOnload()}),this.collect.on(n.SubmitError,function(e){var t=e.eventData,e=e.errorCode;r.sdkError(t,e)})))},e.prototype.sdkOnload=function(){var e=this;try{var t=this.collect.configManager.get(),n=t.header,r=t.user,i=n.app_id,o=n.app_name,a=n.sdk_version,s=r.web_id,l={events:[{event:"onload",params:JSON.stringify({app_id:i,app_name:o||"",sdk_version:a,sdk_type:"npm",sdk_config:this.config,sdk_desc:"TOC"}),local_time_ms:Date.now()}],user:{user_unique_id:s},header:{}};setTimeout(function(){e.fetch(e.url,[l],3e4,!1,function(){},function(){},"566f58151b0ed37e")},16)}catch(e){}},e.prototype.sdkError=function(e,t){var n=this;try{var r=e[0],i=r.user,o=r.header,a=[],s=(e.forEach(function(e){e.events.forEach(function(e){a.push(e)})}),{events:a.map(function(e){return{event:"on_error",params:JSON.stringify({error_code:t,app_id:o.app_id,app_name:o.app_name||"",error_event:e.event,sdk_version:o.sdk_version,local_time_ms:e.local_time_ms,tea_event_index:Date.now(),params:e.params,header:JSON.stringify(o),user:JSON.stringify(i)}),local_time_ms:Date.now()}}),user:{user_unique_id:i.user_unique_id},header:{}});setTimeout(function(){n.fetch(n.url,[s],3e4,!1,function(){},function(){},"566f58151b0ed37e")},16)}catch(e){}},e}(),K=function(){function e(){this.verifyReady=!1,this.waitTime=5e3,this.cleanStatus=!1}return e.prototype.apply=function(e,t){var n=this,t=(this.collector=e,this.config=t,e.adapters.storage);this.cacheStorgae=new t(!1,"session"),this.eventStorage=[],this.collector.on("submit-verify",function(e){e&&e.length&&n.eventStore(e[0])}),this.checkCache()},e.prototype.checkCache=function(){var e=this,t=(this.verifyCookieKey="__applog_verify_set_"+this.config.app_id,this.cacheStorgae.getCookie(this.verifyCookieKey),this.cacheStorgae.getItem(this.verifyCookieKey)),n=(this.sign=t&&t.sign||"",this.origin=t&&t.origin||"*",setTimeout(function(){e.cleanVerify(),clearTimeout(n),e.collector.off("submit-verify")},this.waitTime));window.addEventListener("message",function(t){t&&t.data&&"simulator:verify"===t.data.type&&(clearTimeout(n),e.receMessage(t))},!0)},e.prototype.receMessage=function(e){var t;this.cleanStatus||(t=e.data,this.verifyReady=!0,this.sign=t.sign,this.origin=e.origin,this.cacheStorgae.setItem(this.verifyCookieKey,JSON.stringify({sign:t.sign,origin:e.origin})),this.eventStorage.length&&this.postVerify(this.eventStorage,t.sign,e.origin))},e.prototype.eventStore=function(e){this.cleanStatus||(this.verifyReady?this.postVerify(e,this.sign,this.origin):this.eventStorage.push(e))},e.prototype.cleanVerify=function(){this.cleanStatus=!0,this.eventStorage=[]},e.prototype.postVerify=function(e,t,n){try{var r=[],i=(Array.isArray(e)?e.forEach(function(e){r.push(e)}):r.push(e),{type:"simulator:verify:event",sign:t,pageUrl:window.location.href,events:r});(window.opener||window.parent).postMessage(i,n)}catch(e){}},e}(),W="undefined"!=typeof window?(window.LogPluginObject||(window.LogPluginObject={}),window.LogPluginObject):null,$=function(){function e(){}return e.prototype.apply=function(e,t){this._plugin={},this.config=t,this.collect=e,this.channel=t.channel||"cn",this.loadExtend()},e.prototype.loadExtend=function(){var e=this;try{this.collect.remotePlugin.forEach(function(t,n){var r,i;"sdk"===t?F.hasOwnProperty(n)&&(r=F[n].object,i=F[n].src[e.channel]+"?query="+Date.now(),e.exist(n,r,i)):"object"==typeof t&&(t.src?e.exist(n,t.call,t.src):e.process(n,t.instance,"INSTANCE"))})}catch(e){}},e.prototype.exist=function(e,t,n){var r=this;W[t]?this.process(e,W[t]):this.loadPlugin(e,n,function(){r.process(e,W[t])},function(){})},e.prototype.process=function(e,t,n){try{var r;n?(r=new t).apply&&r.apply(this.collect,this.config):t&&t(this.collect,this.config)}catch(e){}},e.prototype.loadPlugin=function(e,t,n,r){var i=this;try{var o=document.createElement("script");o.src=t,this._plugin[e]||(this._plugin[e]=[]),this._plugin[e].push(n),o.onerror=function(){r(t)},o.onload=function(){i._plugin[e].forEach(function(e){e()})},document.getElementsByTagName("head")[0].appendChild(o)}catch(e){}},e}(),$=(t.usePlugin($,"extend"),t.usePlugin(K,"verify"),t.usePlugin(G,"et"),t.usePlugin(V,"profile"),t.usePlugin(H,"heartbeat"),t.usePlugin(Z,"monitor"),new t("default")),q=$,X={browserError:1e3,crc32:1e3,preUpload:1001,initUploadID:1002,process:1003,fileMerge:1004,complete:1005},J="video",Y="image",Q="object",ee={video:"video_upload",image:"image_upload",object:"object_upload"},et="imagex",en={cn:"cn-north-1",us:"us-east-1",sg:"ap-singapore-1","cn-north-1":"cn-north-1","us-east-1":"us-east-1","ap-singapore-1":"ap-singapore-1",boe:"boe",boei18n:"boei18n","US-TTP":"US-TTP"},er={"cn-north-1":"https://vod.bytedanceapi.com","us-east-1":"https://vod.us-east-1.bytedanceapi.com","ap-singapore-1":"https://vod.ap-singapore-1.bytedanceapi.com"},ei={"cn-north-1":"https://open.bytedanceapi.com","us-east-1":"https://open.us-east-1.bytedanceapi.com","ap-singapore-1":"https://open.ap-singapore-1.bytedanceapi.com"},eo={"cn-north-1":"https://imagex.bytedanceapi.com","us-east-1":"https://imagex.us-east-1.bytedanceapi.com","ap-singapore-1":"https://imagex.ap-singapore-1.bytedanceapi.com"},ea={"cn-north-1":"https://open.bytedanceapi.com","us-east-1":"https://imagex-us-east-1.bytevcloudapi.com","ap-singapore-1":"https://imagex-ap-singapore-1.bytevcloudapi.com"};function es(){return(es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function el(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ec=function(){var e,t,n;function r(e,t){switch(!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this.options=e,this.context=t,this.teaLog=q,this.tea_app_id=2562,this.tea_channel="cn",this.options.region){case"us":case"us-east-1":case"gcp":case"US-TTP":this.tea_app_id=2643,this.tea_channel="va";break;case"sg":case"ap-singapore-1":this.tea_app_id=2643,this.tea_channel="sg";break;default:this.tea_app_id=2562,this.tea_channel="cn"}this.teaLog.init({app_id:this.tea_app_id,channel:this.tea_channel,log:!1,disable_sdk_monitor:!0,disable_auto_pv:!0}),this.teaLog.config({evtParams:{sdk_version:"1.1.10",line_app_id:this.options.appId},user_unique_id:this.options.userId}),this.teaLog.start()}return e=r,t=[{key:"send",value:function(e){var t=this.context,n=e.key,t=t.tasks[n],r=X[e.stage]||999,t=e.fileType||t.fileType,i=e.fileSize||0,o={log_type:ee[t],stage:r,fk:n,fs:i,req:e.req,res:e.res,ts:Math.round(Date.now()/1e3),sst:e.stageStartTime,set:e.stageEndTime,dur:e.duration,tdur:e.totalDuration,durs:e.duration/1e3,tdurs:e.totalDuration/1e3},n=e.type,n="error"===n||"retry"===n?n:r,a="".concat("image"===t?"image":"video","_")+n;switch(r){case 1e3:this.teaLog.event(a,es({},o,{type:e.type,errc:e.extra&&e.extra.errorCode,ex:JSON.stringify({errc:e.extra&&e.extra.errorCode,msg:e.extra&&e.extra.message,crc32Array:e.crc32Array,isDirect:e.isDirect})}));break;case 1001:this.teaLog.event(a,es({},o,{type:e.type,oid:e.oid,upload_host:e.tosDomain,errc:e.extra&&e.extra.errorCode,ex:JSON.stringify({errc:e.extra&&e.extra.errorCode,err:e.extra&&e.extra.error,msg:e.extra&&e.extra.message,sig:e.signature,stk:e.proxyStsToken})}));break;case 1002:this.teaLog.event(a,es({},o,{type:e.type,oid:e.oid,upload_host:e.tosDomain,errc:e.extra&&e.extra.errorCode,ex:JSON.stringify({errc:e.extra&&e.extra.errorCode,msg:e.extra&&e.extra.message,upid:e.uploadID})}));break;case 1003:e.isAllFinish||e.isDirect||(delete o.sst,delete o.set,delete o.dur),this.teaLog.event(a,es({},o,{type:e.type,oid:e.oid,errc:e.extra&&e.extra.errorCode,upload_host:e.tosDomain,af:e.isAllFinish,cst:e.crc32StartTime,cet:e.crc32EndTime,cdur:e.crc32Duration,slst:e.sliceStartTime,slet:e.sliceEndTime,sldurs:e.sliceDuration&&e.sliceDuration/1e3,ex:JSON.stringify({errc:e.extra&&e.extra.errorCode,msg:e.extra&&e.extra.message,si:e.sliceIndex,af:e.isAllFinish})}));break;case 1004:default:this.teaLog.event(a,es({},o,{type:e.type,oid:e.oid,upload_host:e.tosDomain,errc:e.extra&&e.extra.errorCode,ex:JSON.stringify({errc:e.extra&&e.extra.errorCode,msg:e.extra&&e.extra.message})}));break;case 1005:this.teaLog.event(a,es({},o,{type:e.type,oid:e.oid,upload_host:e.tosDomain,errc:e.extra&&e.extra.errorCode,speed:Math.round(i/(e.totalDuration/1e3)/1024),ex:JSON.stringify({errc:e.extra&&e.extra.errorCode,err:e.extra&&e.extra.error,msg:e.extra&&e.extra.message,vid:e.uploadResult&&e.uploadResult.Vid})}))}}},{key:"console",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){this.options.debug})}],el(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),r}(),K=n(5),eu=n.n(K),G=n(4),eh=n.n(G),ed={urlTemplate:function(e,t){var n;return Object.keys(t=t||{}).forEach(function(r){n=RegExp("{".concat(r,"}"),"g"),e=e.replace(n,t[r])}),e},toQueryString:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map(function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))}).join("&")},supportChunked:function(){var e=window.Blob||window.WebKitBlob;try{var t=e.prototype;return!(!FormData||!(t.slice||t.webkitSlice||t.mozSlice))}catch(e){return!1}},supportXhr:function(){return!!window.FormData||window.ProgressEvent&&window.FileReader},supportCrc32:function(){var e=window.FileReader&&window.FileReader.prototype.readAsBinaryString;return"undefined"!=typeof Int32Array&&e&&(blob.slice||blob.webkitSlice||blob.mozSlice)},storage:function(e){var t=e,e={removeItem:function(e){delete t.cache[e]},setItem:function(e,n){t.cache[e]=n},getItem:function(e){return t.cache[e]},clear:function(){delete t.cache,t.cache={}}};try{if(window.localStorage)return window.localStorage.setItem("",""),window.localStorage}catch(e){}return e},noop:function(){},getUnique:function(e){return"".concat(e,"_").concat((new Date).getTime(),"_").concat(parseInt(1e6*Math.random()))},getFileSliceLength:function(e,t){var n=e.size;return t&&"function"==typeof t?2097152>t(n)?2097152:t(n)||n:209715200<n?10485760:n<=209715200&&2097152<=n?5242880:e.size},getFileSuffix:function(e){if(e&&"[object String]"===Object.prototype.toString.call(e)){var t=e.lastIndexOf(".");if(0<t&&(e="."+e.substring(t+1)).length<=8)return e}},fileSlice:function(e,t,n){return(e.slice||e.webkitSlice||e.mozSlice).call(e,t,n)},getPathByURL:function(e){return/^(?:(https?\:)\/\/)?(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/.exec(e)[5]||"/"},crypto:{hmac:function(e,t){return eu()(t,e)},sha256:function(e){return eh()(e)}},date:{iso8601:function(e){return(e=void 0===e?ed.date.getDate():e).toISOString().replace(/\.\d{3}Z$/,"Z")}},Buffer:Uint8Array,generateKey:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*r));return t}},ef={crc32:function(e,t){for(var n=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],r=("undefined"!=typeof Int32Array&&(n=new Int32Array(n)),-1^~~t),i=(e=new Uint8Array(e)).length,o=0;o<i;o++)r=n[255&(r^e[o])]^r>>>8;return(-1^r)>>>0},dec2hex:function(e){if(void 0!==e)return function e(t){return t.length<8?e(t="0".concat(t)):t}(Number(e).toString(16))}};function ep(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ev=function(){var e,t,n;function r(e,t,n,i){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this.file=e,this.successProcess=n,this.failProcess=i,this.sliceLength=t,this.retryTime=0,this.fileSize=e.size,this.crc32Array=[]}return e=r,t=[{key:"start",value:function(){this.readFileCrc32(this.file)}},{key:"readFileCrc32",value:function(e){var t=this,n=this.sliceLength,r=e.slice||e.webkitSlice||e.mozSlice,i=new FileReader,o=0,a=0,s=0;(function l(){a<e.size&&(a=Math.min(o+n,e.size),104857600<e.size&&e.size-a<=5242880&&(a=e.size)),i.readAsArrayBuffer(r.call(e,o,a)),i.onload=function(n){n=n.target.result,s=ef.crc32(n,0),t.crc32Array.push({start:o,end:a,crc32:ef.dec2hex(s),buffer:n}),(o=a)<e.size?l():t.success(t.crc32Array)}})()}},{key:"success",value:function(e){this.successProcess(e)}},{key:"fail",value:function(e,t,n,r){3<=this.retryTime?this.failProcess():(this.readFileCrc32(e,t,n,r),this.retryTime++)}}],ep(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),r}(),eg="The format of stsToken is incorrect.";function em(){return(em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ey(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function e_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var eb=function(){var e,t,n;function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this.context=e.context,this.key=e.key,this.isDirect=e.isDirect,this.isImageBatchUpload=e.isImageBatchUpload,this.file=e.file,this.type=(this.isImageBatchUpload?this.file[0]:this.file).type||"",this.sliceLength=ed.getFileSliceLength(this.file,t.getSliceFunc),this.config=t}return e=r,t=[{key:"start",value:function(e,t,n){this.successProcess=t,this.failProcess=n,this._st=Date.now(),this.crc32(this.file,this.sliceLength)}},{key:"crc32",value:function(e,t){var n=this;this.isImageBatchUpload?function(){for(var t=e.length,r=[],i=0;i<t;i++)new ev(e[i],e[i].size,function(e){r.push(e[0]),r.length===t&&n.success(r)},function(e){n.fail(e)}).start()}():e&&e.size&&!(e.size<=0)?this.isDirect?new ev(e,e.size,function(e){n.success(e)},function(e){n.fail({errorCode:1000003,message:"get crc32 error: ".concat(e&&e.message)})}).start():this.sliceFile(e,t,function(e){n.success(e)},function(e){n.fail(e)}):this.fail({errorCode:1000003,message:"There is a problem with the input file or fileSize."})}},{key:"sliceFile",value:function(e,t,n,r){for(var i=[],o=e.size,a=e.slice||e.webkitSlice||e.mozSlice,s=0,l=0,c=0;l<o;)l=Math.min(s+t,o),i.push({start:s,end:l=104857600<o&&o-l<=5242880?o:l,crc32:0}),s=l;try{!function t(s){var l=new FileReader,u=i[s].start,h=i[s].end;l.readAsArrayBuffer(a.call(e,u,h)),l.onload=function(e){e=e.target.result,c=ef.dec2hex(ef.crc32(e,0)),i[s].crc32=c,h===o?n(i):t(i.length-1)},l.onerror=function(e){var t=e.target.error.name,e=e.target.error.message;r({crc32Array:i,errorCode:1000003,message:t+": "+e})}}(0)}catch(e){r({message:e&&e.toString()})}}},{key:"getCrc32Key",value:function(e,t){var n;return(t="[object Array]"===Object.prototype.toString.call(t)?function(e){if(Array.isArray(e))return ey(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return ey(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ey(e,t):void 0}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():[t]).push(e[0].crc32,e[e.length-1].crc32),t.join("_")}},{key:"success",value:function(e){var t=this.context,n=this.key,r=[],i=[];if(this.isImageBatchUpload)for(var o=0;o<this.file.length;o++)r.push(this.file[o].size),i.push(this.file[o].name);else r=this.file.size,i=this.file.name;var a=this.getCrc32Key(e,r),t=t.tasks[n];t&&this.successProcess(em(t,{key:n,crc32Array:e,crc32Key:a,sdkVersion:"1.1.10",sliceLength:this.sliceLength,extra:{message:"get crc32 success"},stage:"crc32",type:"success",fileSize:r,fileName:i,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st,isDirect:this.isDirect,isImageBatchUpload:this.isImageBatchUpload}))}},{key:"fail",value:function(e){var t=this.context,n=this.key,r=e&&e.message?e.message:"get crc32 error",i=e&&e.errorCode,e=e&&e.crc32Array,t=em(t.tasks[n],{crc32Array:e,extra:{message:r,errorCode:i},type:"error",stage:"crc32",stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st});this.failProcess(t)}}],e_(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ew(e){return(ew="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eE(e,t){return(eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ek(e){return(ek=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eT=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eE(e,t)}(s,r.a);var e,t,n,i,o,a=(e=s,t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var n=ek(e);return function(e,t){if(t&&("object"===ew(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?Reflect.construct(n,arguments,ek(this).constructor):n.apply(this,arguments))});function s(){var e;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this)).xhr=new XMLHttpRequest,e._data=null,e}return n=s,i=[{key:"_ajax",value:function(e){var t=this,n=this.xhr;n.upload.onprogress=function(e){t.emit("progress",e)},n.onreadystatechange=function(r){4===n.readyState&&(n.upload.onprogress=ed.noop,n.onreadystatechange=ed.noop,n.params=e,t._data&&t._data.url&&(n.currentUrl=t._data.url),200<=n.status&&n.status<300?t.emit("complete",n):400<=n.status&&t.emit("error",n))},n.onerror=function(){n.errText="unknow net error",t.emit("error",n)},n.ontimeout=function(){n.errText="timeout",t.emit("error",n)},n.onabort=function(){n.errText="abort",t.emit("error",n)},n.send(e)}},{key:"send",value:function(e){var t=this;return this._data=e,this.xhr.open(e.method||"POST",e.url||"",!0),e.headers&&Object.keys(e.headers).forEach(function(n){t.xhr.setRequestHeader(n,e.headers[n])}),this.xhr.timeout=e.timeout||0,e.ontimeout&&(this.xhr.ontimeout=e.ontimeout),e.binary?this.sendAsBinary(e):e.custom?"object"===ew(e.custom)?this.sendAsCustom(JSON.stringify(e.custom)):"none"===e.custom?(delete e.custom,this.sendAsCustom()):this.sendAsCustom(e.custom):this.sendAsFormData(e)}},{key:"sendAsBinary",value:function(e){return this.xhr.setRequestHeader("Content-Type","application/octet-stream"),this.xhr.setRequestHeader("Content-Disposition",'attachment; filename="'.concat(encodeURI(e.filename),'"')),this._ajax(e.file)}},{key:"sendAsFormData",value:function(e){t=(t=e.formData?"function"==typeof e.formData?e.formData():e.formData:t)||[];for(var t,n=new FormData,r=0,i=t.length;r<i;r++){var o=n[r];n.append(o.name,o.value)}return e.file&&n.append(e.field,e.file,e.name),this._ajax(n)}},{key:"sendAsCustom",value:function(e){return this._ajax(e)}},{key:"abort",value:function(){this.xhr.onreadystatechange=ed.noop,this.xhr.abort()}},{key:"getResponse",value:function(){return this.xhr.response}},{key:"getText",value:function(){return this.xhr.responseText}},{key:"getJson",value:function(){return JSON.parse(this.xhr.responseText)}}],eS(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),s}(),V=n(1),ex=n.n(V),eC={checkStsToken:function(e){return!e||e.SessionToken&&e.SecretAccessKey&&(e.AccessKeyId||e.AccessKeyID)},checkServiceName:function(e,t){if(e===J)return"vod";if(e===Y)return et;if(e===Q){if(t.objectConfig&&t.objectConfig.spaceName)return"vod";if(t.objectConfig&&t.objectConfig.serviceId)return et;if(t.videoConfig&&t.videoConfig.spaceName)return"vod";if(t.imageConfig&&t.imageConfig.serviceId)return et}return"vod"}};function eI(e){return(eI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eO(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function eA(){return(eA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function eP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eR(e,t){return(eR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eD(e){return(eD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eL=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eR(e,t)}(s,r.a);var e,t,n,i,o,a=(e=s,t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var n=eD(e);return function(e,t){if(t&&("object"===eI(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?Reflect.construct(n,arguments,eD(this).constructor):n.apply(this,arguments))});function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s),(n=a.call(this)).options=e,n.config=t,n.uploaderCtx=e.context,n.currFileCtx=e.context.tasks[e.key],n.systemTimeGap=0,n.retryTime=t.retryTaskTime||2,n.hasRetryTime=0,n.isImageBatchUpload=!!n.options.isImageBatchUpload,n.isDirect=n.options.isDirect,n}return n=s,i=[{key:"start",value:function(e,t,n){this.failProcess=n,this.successProcess=t,this._st=Date.now(),t=(n=this.uploaderCtx._getCache(this.currFileCtx.crc32Key))?JSON.parse(n):{},!this.isDirect&&t.oid&&(t.uploadID||t.UploadID)?this.resumeFromCache(t):this.startPreUpload()}},{key:"startPreUpload",value:function(){var e=this,t=en[this.config.region],n=new eT,r=(n.on("complete",function(t){if(t.response)try{var n,r,i,o,a,s,l,c,u,h,d,f,p=JSON.parse(t.response);p.ResponseMetadata.Error?e.fail({xhr:t,errorCode:p.ResponseMetadata.Error.CodeN,error:p.ResponseMetadata.Error.Code,message:p.ResponseMetadata.Error.Message}):(n=eC.checkServiceName(e.options.type,e.config),r=p.Result,o=(i=n===et?r.UploadAddress:r.InnerUploadAddress.UploadNodes[0]).StoreInfos,a=i.UploadHosts,s=i.SessionKey,c=void 0===(l=i.UploadHeader)?{}:l,u=n===et?a[0]:i.UploadHost,h=[],d=[],e.isImageBatchUpload&&1<o.length?o.forEach(function(e){h.push(e.Auth),d.push(e.StoreUri)}):(h=o[0].Auth,d=o[0].StoreUri),f=eA(e.currFileCtx,{key:e.options.key,useBackupDomain:e.uploaderCtx.useBackupDomain,signature:h,type:"success",extra:{message:"prepare upload success"},stage:"preUpload",oid:d,systemTimeGap:e.systemTimeGap,tosDomain:"".concat(e.config.schema,"://").concat(u),xhr:t,UploadHeader:c,SessionKey:s,UploadID:o[0].UploadID,stageStartTime:e._st,stageEndTime:Date.now(),duration:Date.now()-e._st,totalDuration:Date.now()-e._st+e.currFileCtx.totalDuration}),e.successProcess&&e.successProcess(f))}catch(n){e.fail({error:"catch error: ".concat(n.toString()),xhr:t})}else e.fail({error:"request fail: ".concat(t.statusText||t.errText||"UNKNOWN"),xhr:t})}),n.on("error",function(t){var n;e.uploaderCtx.useBackupDomain?(n={error:"request fail: ".concat(t.statusText||t.errText||"UNKNOWN"),xhr:t},t.response&&(t=JSON.parse(t.response)).ResponseMetadata&&t.ResponseMetadata.Error&&(n.errorCode=t.ResponseMetadata.Error.CodeN,n.error=t.ResponseMetadata.Error.Code,n.message=t.ResponseMetadata.Error.Message),e.fail(n)):(e.hasRetryTime<e.retryTime-1?e.hasRetryTime++:e.uploaderCtx.useBackupDomain=!0,e.startPreUpload())}),""),i={},o=this.uploaderCtx.useBackupDomain,a=eC.checkServiceName(this.options.type,this.config),o=(a===et&&(r=this.config.imageHost||(o?ea:eo)[t],i={Action:"ApplyImageUpload",Version:"2018-08-01"},this.options.type===Y&&(this.config.imageConfig&&this.config.imageConfig.serviceId?i.ServiceId=this.config.imageConfig.serviceId:i.SpaceName=this.config.videoConfig&&this.config.videoConfig.spaceName),this.options.type===Q&&(i.ServiceId=this.config.objectConfig&&this.config.objectConfig.serviceId||this.config.imageConfig&&this.config.imageConfig.serviceId),this.currFileCtx.fileSize&&1<this.currFileCtx.fileSize.length&&(i.UploadNum=this.currFileCtx.fileSize.length),this.options.storeKey&&(s=this.options.storeKey,"[object Array]"===Object.prototype.toString.call(s)?i.StoreKeys=s:"[object String]"===Object.prototype.toString.call(s)&&(i.StoreKeys=[s]))),"vod"===a&&(s=this.config.videoConfig&&this.config.videoConfig.spaceName,this.options.type===Q&&this.config.objectConfig&&this.config.objectConfig.spaceName&&(s=this.config.objectConfig.spaceName),r=this.config.videoHost||(o?ei:er)[t],i={Action:"ApplyUploadInner",Version:"2020-11-19",SpaceName:s,FileType:this.options.type,IsInner:1},this.currFileCtx.fileSize&&(i.FileSize=this.currFileCtx.fileSize),this.config.enOID&&(i.EnOID=1),this.config.testHost&&(i.TestHost=this.config.testHost)),this.config.useFileExtension&&this.currFileCtx.fileName&&(this.options.type===Q||this.options.type===Y)&&(o=this.currFileCtx.fileName,(s=ed.getFileSuffix(o))&&(i.FileExtension=s)),this.config.accountId&&(i["X-Account-Id"]=this.config.accountId),(this.options.type===Y||this.options.type===Q)&&this.config.bizType&&(i.BizType=this.config.bizType,i.AppID=this.config.appId,i.UserID=this.config.userId),this.config.openExperiment&&(i.app_id=this.config.appId,i.user_id=this.config.userId),i.s=Math.random().toString(36).substr(2),this.options.fileSize&&(i.fileSize=this.options.fileSize),this.currFileCtx.proxyStsToken||this.config.stsToken),s=ed.toQueryString(i),l=o.AccessKeyID,c=o.AccessKeyId,u=o.SecretAccessKey,h=o.SessionToken,o=o.CurrentTime,s={method:"GET",url:"".concat(r,"?").concat(s),timeout:this.config.gatewayTimeout||3e4,region:t,params:i,pathname:ed.getPathByURL(r)},t=new ex.a(s,a),i=(this.config.useServerCurrentTime&&6e4<Math.abs(new Date(o)-new Date)&&(this.systemTimeGap=new Date(o)-new Date),this.systemTimeGap?new Date((new Date).getTime()+this.systemTimeGap):new Date);t.addAuthorization({accessKeyId:c||l,secretAccessKey:u,sessionToken:h},i),n.send(s)}},{key:"resumeFromCache",value:function(e){var t=this,n=this.options.key,r=new eT,i=(r.on("complete",function(r){try{var i,o,a,s=JSON.parse(r.response);0===s.success&&0<s.payload.partList.length?(i=t.confirmCache(s.payload.partList),o=e.hasMerge?5:i.isAllFinished?4:3,a=eA(t.currFileCtx,e,{key:n,xhr:r,extra:{message:"prepare upload from cache success"},stage:"preUpload",type:"success",percent:0,cacheTask:o,proxyStsToken:t.options.stsToken,currentTask:1,status:1,isBreak:1,crc32Array:i.crc32Array,stageStartTime:t._st,stageEndTime:Date.now(),duration:Date.now()-t._st,totalDuration:Date.now()-t._st+t.currFileCtx.totalDuration}),t.successProcess&&t.successProcess(a)):t.startPreUpload()}catch(e){t.startPreUpload()}}),r.on("error",function(e){400<=e.status?t.startPreUpload():t.fail({error:"request error",xhr:e})}),this.config.userId);r.send({method:"get",url:ed.urlTemplate(this.config.getUploadListUrl,{tosDomain:e.tosDomain,oid:e.oid,uploadId:e.uploadID||e.UploadID}),headers:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eO(Object(n),!0).forEach(function(t){var r,i,o;r=e,i=t,o=n[t],i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({Authorization:e.signature,"X-Storage-U":encodeURIComponent(i)},e.UploadHeader),timeout:3e4})}},{key:"confirmCache",value:function(e){var t=this.currFileCtx.crc32Array,n={},r=(e.forEach(function(e){void 0===n[e.partNumber-1]&&(n[e.partNumber-1]={tag:!0,crc32:e.crc32})}),!0),e=t.map(function(e,t){return n[t]&&n[t].tag&&n[t].crc32?(e.crc32=n[t].crc32,e.finished=!0,e.loaded=e.end-e.start):r=!1,e});return{isAllFinished:r,crc32Array:e}}},{key:"fail",value:function(e){var t=e.xhr,n=e.errorCode||1001e3,r="prepare upload error: UNKNOWN",r=(t&&(r=0===t.status?"prepare upload error: NETERROR":e.message||"prepare upload error: ".concat(t.status)),eA(this.currFileCtx,{extra:{message:r,error:e.error,errorCode:n},type:"error",stage:"preUpload",xhr:t,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currFileCtx.totalDuration}));this.uploaderCtx._removeTaskCache(this.options.key),this.failProcess(r)}}],eP(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),s}();function eM(e){return(eM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ez(){return(ez=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function eN(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function ej(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eB(e,t){return(eB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eU(e){return(eU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eF=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eB(e,t)}(s,r.a);var e,t,n,i,o,a=(e=s,t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var n=eU(e);return function(e,t){if(t&&("object"===eM(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?Reflect.construct(n,arguments,eU(this).constructor):n.apply(this,arguments))});function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s),(n=a.call(this)).options=e,n.config=t,n.transport=new eT,n.uploaderCtx=e.context,n.currFileCtx=e.context.tasks[e.key],n.eventInit(),n}return n=s,i=[{key:"initUpload",value:function(){var e=this.options.context,t=this.options.key,n={oid:e.tasks[t].oid,tosDomain:e.tasks[t].tosDomain},n=ed.urlTemplate(this.config.initUploadFileUrl,n),r=this.config.userId;this.transport.send({method:"post",url:n,headers:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eN(Object(n),!0).forEach(function(t){var r,i,o;r=e,i=t,o=n[t],i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({Authorization:e.tasks[t].signature,"X-Storage-U":encodeURIComponent(r)},this.currFileCtx.UploadHeader),timeout:3e4})}},{key:"start",value:function(e,t,n){this.successProcess=t,this.failProcess=n,this._st=Date.now(),this.initUpload()}},{key:"eventInit",value:function(){var e=this;this.transport.on("complete",function(t){try{var n,r=JSON.parse(t.response),i=r.payload.uploadID;0===r.success&&i?(n=ez(e.currFileCtx,{UploadID:i,percent:0,type:"success",extra:{message:"init upload id success"},stage:"initUploadID",xhr:t,stageStartTime:e._st,stageEndTime:Date.now(),duration:Date.now()-e._st,totalDuration:Date.now()-e._st+e.currFileCtx.totalDuration}),e.successProcess(n)):e.fail({error:"fail! res.success: ".concat(r.success,", uploadId:").concat(i),xhr:t})}catch(n){e.fail({error:"catch error: ".concat(JSON.stringify(n)),xhr:t})}}),this.transport.on("error",function(t){e.fail({error:"request fail: ".concat(t.statusText||t.errText||"UNKNOWN"),xhr:t})})}},{key:"fail",value:function(e){var t=this.options.context,n=this.options.key,t=ez(t.tasks[n],{extra:{message:"init upload id error, ".concat(e.error),errorCode:1002e3},type:"error",stage:"initUploadID",xhr:e.xhr,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currFileCtx.totalDuration});this.uploaderCtx._removeTaskCache(this.options.key),this.failProcess(t)}}],ej(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),s}();function eG(e){return(eG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eV(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function eH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eV(Object(n),!0).forEach(function(t){var r,i,o;r=e,i=t,o=n[t],i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eK(e,t){return(eK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eW(e){return(eW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var e$=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eK(e,t)}(s,r.a);var e,t,n,i,o,a=(e=s,t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var n=eW(e);return function(e,t){if(t&&("object"===eG(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?Reflect.construct(n,arguments,eW(this).constructor):n.apply(this,arguments))});function s(e){var t,n=e.sliceItem,r=e.crc32,i=e.url,o=e.signature,l=e.uploadHeader,c=e.userId,u=e.retryTime,h=e.timeout,e=e.method,e=void 0===e?"put":e;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this)).fileSlice=n,t.crc32=r,t.uploadUrl=i,t.uploadHeader=l,t.signature=o,t.userId=c,t.retryTime=u||0,t.method=e,t.retryCount=0,t.timeout=h||18e5,t.ready=!1,t.cancel=!1,t.transport=new eT,t.eventInit(),t}return n=s,i=[{key:"upload",value:function(e,t){this.isParamsValid()&&(this._st=Date.now(),this.transport&&this.transport.send({method:this.method,url:this.uploadUrl,headers:eH({Authorization:this.signature,"Content-CRC32":this.crc32,"X-Storage-U":encodeURIComponent(this.userId)},this.uploadHeader),file:this.fileSlice,binary:1,timeout:this.timeout}),e&&this.emit("retry",t))}},{key:"isParamsValid",value:function(){return this.fileSlice&&(this.fileSlice.size||this.fileSlice.byteLength)?this.crc32?!!this.uploadUrl||(this.emit("error",{message:"slice upload failed: NOURL",crc32:this.crc32,size:this.fileSlice.size||this.fileSlice.byteLength}),!1):(this.emit("error",{message:"slice upload failed: NOCRC32",crc32:this.crc32,size:this.fileSlice.size||this.fileSlice.byteLength}),!1):(this.emit("error",{message:"slice upload failed: NOCONTENT",crc32:this.crc32}),!1)}},{key:"eventInit",value:function(){var e=this;this.transport.on("complete",function(t){e.success(t)}),this.transport.on("error",function(t){e.fail(t)}),this.transport.on("progress",function(t){e.process(t)})}},{key:"success",value:function(e){this.ready=!0;var t=Date.now()-this._st,n=this.fileSlice.size||this.fileSlice.byteLength;this.emit("complete",{crc32:this.crc32,size:n,speed:n/t,xhr:e,sliceStartTime:this._st,sliceEndTime:Date.now(),sliceDuration:Date.now()-this._st})}},{key:"fail",value:function(e){var t=this;if(!this.cancel){var n={crc32:this.crc32,size:this.fileSlice.size||this.fileSlice.byteLength,xhr:e,sliceStartTime:this._st,sliceEndTime:Date.now(),sliceDuration:Date.now()-this._st};if(e&&401===e.status)this.emit("error",eH({message:"slice upload failed: UNAUTHORIZED"},n));else{var r="slice upload failed: UNKNOWN";if(e&&(r=e.status?"slice upload failed: ".concat(e.status):"slice upload failed: NETERROR"),this.retryCount<this.retryTime)return setTimeout(function(){t.upload(!0,eH({message:r},n))},1e3),void this.retryCount++;this.emit("error",eH({message:r},n))}}}},{key:"process",value:function(e){this.cancel||this.emit("progress",{crc32:this.crc32,loaded:e.loaded||0,total:e.total||0})}},{key:"abort",value:function(){this.transport&&(this.cancel=!0,this.transport.abort())}},{key:"destroy",value:function(){this.transport=null}}],eZ(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),s}(),H=n(2),eq=n.n(H);function eX(e){return(eX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eJ(){return(eJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function eY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function e0(e,t){return(e0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function e1(e){return(e1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var e2=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e0(e,t)}(s,r.a);var e,t,n,i,o,a=(e=s,t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var n=e1(e);return function(e,t){if(t&&("object"===eX(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?Reflect.construct(n,arguments,e1(this).constructor):n.apply(this,arguments))});function s(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this)).file=e.file,t.context=e.context,t.key=e.key,t.config=n,t.finishArr=[],t.errorLength=0,t.finishSize=0,t.retryUploadTime=Number(n.retryUploadTime)||2,t.progressMonitorTime=Number(n.progressMonitorTime)||10,t.progressMonitorSpeed=Number(n.progressMonitorSpeed)||50,t.uploadSliceCount=Number(n.uploadSliceCount)||3,t.realtimeSpeedInterval=Number(n.realtimeSpeedInterval)||5,t.processRetry=0,t.lastFinishSize=-1,t.lastProcessPercent=-1,t.lastIntervalSize=-1,t.lastCalculateSpeedTime=-1,t.lastCalculateSpeedSize=0,t.uploadHandlers={},t}return n=s,i=[{key:"start",value:function(e,t,n){this.failProcess=n,this.successProcess=t,this.errorLength=0,this.currentCtx=this.context.tasks[this.key],this.crc32Array=this.context.tasks[this.key].crc32Array,this.uploadSliceCount=this.uploadSliceCount>this.crc32Array.length?this.crc32Array.length:this.uploadSliceCount,this.lastIndex=0,this.uploading=[],this._uploadSize=this.crc32Array.reduce(function(e,t){return e+(t.finished?0:t.end-t.start)},0),this._st=Date.now(),this._lastSaveTime=Date.now(),this.lastCalculateSpeedTime=this._st,this.initWorker(),this.setProgressMonitor(),this.threadUpload()}},{key:"initWorker",value:function(){var e,t=this;this.worker||(e=this.crc32Array,this.worker=new eq.a,this.worker.onmessage=function(n){var r,i,n=(r=n.data,i=4,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(r,4)||function(e,t){if(e){if("string"==typeof e)return eY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eY(e,t):void 0}}(r,i)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],a=n[1],s=n[2],n=n[3],l=(new Date).getTime(),c=e[s];c.crc32=a,c.crc32StartTime=n,c.crc32EndTime=l,c.crc32Duration=l-n,t.upload(c,o,s)})}},{key:"read",value:function(e,t){var n=this,r=this.file,i=r.slice||r.webkitSlice||r.mozSlice,o=new FileReader;o.onload=function(e){var r=(new Date).getTime();n.worker.postMessage([e.target.result,t,r,!!n.config.clientEncrypt,n.currentCtx.clientEncryptKey,n.crc32Array.length-1===t],[e.target.result])},o.onerror=function(){n.stop(),n.fail({extra:{message:"An error occurred reading the file",errorCode:1003003}})},o.readAsArrayBuffer(i.call(r,e.start,e.end))}},{key:"threadUpload",value:function(){if(this.uploading.length<this.uploadSliceCount){var e=this.lastIndex,t=this.crc32Array[e];if(t){if(t.finished){if(-1===this.finishArr.indexOf(t.start)&&(this.finishArr.push(t.start),this.finishArr.length>=this.crc32Array.length))return this.stop(),void this.success()}else t.loaded=0,this.uploading.push(e),this.read(t,e);this.lastIndex++,this.threadUpload()}}}},{key:"stop",value:function(){var e=this;Object.keys(this.uploadHandlers).forEach(function(t){e.uploadHandlers[t].abort(),e.uploadHandlers[t].destroy()}),this.uploadHandlers={},this.worker&&this.worker.terminate(),this.worker=null,this.clearMonitor()}},{key:"setProgressMonitor",value:function(){var e=this;this.progressMonitorInterval=setInterval(function(){var t,n=e.finishSize;n-e.lastIntervalSize<e.progressMonitorTime*e.progressMonitorSpeed*1024?(t=eJ(e.currentCtx,{stage:"process",type:"warn",extra:{message:"percent are not updated in ".concat(e.progressMonitorTime," seconds")}}),e.context.logger.send(t),e.context._broadcast("slowProgress",t),e.clearMonitor()):e.lastIntervalSize=n},1e3*this.progressMonitorTime)}},{key:"clearMonitor",value:function(){this.progressMonitorInterval&&clearInterval(this.progressMonitorInterval)}},{key:"upload",value:function(e,t,n){var r=this,i=e.crc32,o=(this.context._saveTask(this.key,{crc32Array:this.crc32Array}),{number:n+1,uploadId:this.currentCtx.UploadID||this.currentCtx.uploadID,oid:this.currentCtx.oid,tosDomain:this.currentCtx.tosDomain}),o=ed.urlTemplate(this.config.uploadChunkedUrl,o),a=this.config.userId,s=this.config.uploadHttpMethod||"put",l=this.config.uploadTimeout,t=(this.config.clientEncrypt||(t=ed.fileSlice(this.file,e.start,e.end)),new e$({sliceItem:t,crc32:i,url:o,signature:this.currentCtx.signature,uploadHeader:this.currentCtx.UploadHeader,userId:a,method:s,retryTime:this.retryUploadTime,timeout:l}));t.on("complete",function(t){1===r.currentCtx.status&&(t.start=e.start,t.crc32StartTime=e.crc32StartTime,t.crc32EndTime=e.crc32EndTime,t.crc32Duration=e.crc32Duration,t.index=n,r.fileSliceSuccess(t))}),t.on("error",function(t){1===r.currentCtx.status&&(t.start=e.start,t.crc32StartTime=e.crc32StartTime,t.crc32EndTime=e.crc32EndTime,t.crc32Duration=e.crc32Duration,t.index=n,r.fail(t))}),t.on("progress",function(t){1===r.currentCtx.status&&(t.start=e.start,t.index=n,r.process(t))}),t.on("retry",function(t){1===r.currentCtx.status&&(t.start=e.start,t.index=n,r.retry(t))}),t.upload(),this.uploadHandlers[n]=t}},{key:"success",value:function(e){this.finishArr=[];var t=Date.now()-this._st,t=this._uploadSize/t,t=eJ(this.currentCtx,{type:"success",stage:"process",percent:100,extra:{message:"upload all success"},speed:t,xhr:e,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._lastSaveTime+this.currentCtx.totalDuration,isAllFinish:!0});this.worker&&this.worker.terminate(),this.successProcess(t)}},{key:"fail",value:function(e){var t=this.errorFormat(e);t.type="error",void 0!==e.statusCode&&eJ(this.currentCtx,{statusCode:e.statusCode}),this.errorLength||(this.context.logger.send(eJ({},t)),this.stop(),this.context._broadcast("error",t),this.currentCtx.isBreak?this.context._cancel(this.key):this.context._pause(this.key),this.errorLength++)}},{key:"retry",value:function(e){e=this.errorFormat(e),this.context.logger.send(eJ({},e,{type:"retry"}))}},{key:"fileSliceSuccess",value:function(e){var t,n=e.index,r=Date.now(),i=(-1===this.finishArr.indexOf(e.start)&&this.finishArr.push(e.start),this.crc32Array[n].finished=!0,this.crc32Array[n].speed=e.speed,{message:"slice upload success"});if(e.xhr&&(t=e.xhr,i.currentUrl=t.currentUrl||"",eJ(this.currentCtx,{req:{url:t.currentUrl,param:t.params},res:{status:t.status,body:t.responseText,header:t.getAllResponseHeaders()}}),delete e.xhr),this.context.logger.send(eJ(this.currentCtx,{stage:"process",type:"success",sliceIndex:n,extra:i,totalDuration:r-this._lastSaveTime+this.currentCtx.totalDuration,sliceStartTime:e.sliceStartTime,sliceEndTime:e.sliceEndTime,sliceDuration:e.sliceDuration,crc32StartTime:e.crc32StartTime,crc32EndTime:e.crc32EndTime,crc32Duration:e.crc32Duration})),this._lastSaveTime=r,this.context._saveTask(this.key),this.uploading.splice(this.uploading.indexOf(n),1),this.uploadHandlers[n]&&delete this.uploadHandlers[n],this.finishArr.length>=this.crc32Array.length)return this.stop(),void this.success(e.xhr);this.threadUpload()}},{key:"getFinishSize",value:function(e,t){var n=t.crc32,r=0;return e.forEach(function(e){e.crc32===n?(e.loaded=t.loaded,r+=t.loaded):(e.loaded||(e.loaded=0),r+=e.loaded)}),r}},{key:"process",value:function(e){var t=this.currentCtx.realtimeSpeed||0,n=this.currentCtx.fileSize,r=(this.finishSize=this.getFinishSize(this.crc32Array,e),this.finishSize>this.lastFinishSize&&((e=new Date).getTime()-this.lastCalculateSpeedTime>1e3*this.realtimeSpeedInterval&&(i=e.getTime()-this.lastCalculateSpeedTime,t=Math.floor((r=this.finishSize-this.lastCalculateSpeedSize)/i),this.lastCalculateSpeedTime=e.getTime(),this.lastCalculateSpeedSize=this.finishSize),this.lastFinishSize=this.finishSize),Math.floor(this.finishSize/n*1e4)/100||0),i=eJ(this.currentCtx,{stage:"process",percent:r,realtimeSpeed:t});r>this.lastProcessPercent&&100!==r&&(this.lastProcessPercent=r,this.context._broadcast("progress",i))}},{key:"errorFormat",value:function(e){var t=this.currentCtx.totalDuration,n=Date.now()-this._st,r=e.index,i=e.crc32?{message:e.message,data:e.crc32,size:e.size}:e.extra,i=(i.errorCode=i.errorCode||1003e3,eJ(this.currentCtx,{extra:i,sliceIndex:r,stage:"process",req:{},res:{},totalDuration:n+t,sliceStartTime:e.sliceStartTime,sliceEndTime:e.sliceEndTime,sliceDuration:e.sliceDuration,crc32StartTime:e.crc32StartTime,crc32EndTime:e.crc32EndTime,crc32Duration:e.crc32Duration}));return e.xhr&&(r=e.xhr,i.req={url:e.xhr.currentUrl},i.res={status:r.status,body:r.responseText,header:r.getAllResponseHeaders()},delete e.xhr),i}}],eQ(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),s}();function e5(e){return(e5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e4(){return(e4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function e3(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function e6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function e9(e,t){return(e9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function e7(e){return(e7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var e8=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e9(e,t)}(s,r.a);var e,t,n,i,o,a=(e=s,t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var n=e7(e);return function(e,t){if(t&&("object"===e5(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?Reflect.construct(n,arguments,e7(this).constructor):n.apply(this,arguments))});function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s),(n=a.call(this)).options=e,n.config=t,n.transport=new eT,n.eventInit(),n.errorCount=0,n.uploaderCtx=e.context,n.currFileCtx=e.context.tasks[e.key],n}return n=s,i=[{key:"mergeFile",value:function(){for(var e={oid:this.currFileCtx.oid,uploadId:this.currFileCtx.UploadID||this.currFileCtx.uploadID,tosDomain:this.currFileCtx.tosDomain},t=this.currFileCtx.crc32Array,n="",r=0;r<t.length;r++)n=(n?"".concat(n,","):"").concat(r+1,":").concat(t[r].crc32);var e=ed.urlTemplate(this.config.uploadMergeUrl,e),i=this.config.userId,i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e3(Object(n),!0).forEach(function(t){var r,i,o;r=e,i=t,o=n[t],i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({Authorization:this.currFileCtx.signature,"X-Storage-U":encodeURIComponent(i)},this.currFileCtx.UploadHeader);this.config.clientEncrypt&&(i["x-upload-encryption-mode"]=2,i["x-upload-encryption-key"]=btoa(this.currFileCtx.clientEncryptKey)),this.transport.send({method:"post",url:e,headers:i,custom:n})}},{key:"start",value:function(e,t,n){this.successProcess=t,this.failProcess=n,this._st=Date.now(),this.mergeFile()}},{key:"eventInit",value:function(){var e=this,t=this.options.stage;this.transport.on("complete",function(n){try{var r=JSON.parse(n.response);0===r.success&&r.payload.key?(e4(e.currFileCtx,{stage:t,type:"success",hasMerge:!0,extra:{message:"merge file success"},xhr:n,stageStartTime:e._st,stageEndTime:Date.now(),duration:Date.now()-e._st,totalDuration:Date.now()-e._st+e.currFileCtx.totalDuration}),e.successProcess(e.currFileCtx)):e.fail({error:"fail! result.success:".concat(r.success),xhr:n})}catch(t){e.fail({error:"response parse error: ".concat(JSON.stringify(t)),xhr:n})}}),this.transport.on("error",function(t){e.fail({error:"request fail: ".concat(t.statusText||t.errText),xhr:t})})}},{key:"getProcessIndex",value:function(e){var t=0;return e.forEach(function(e,n){"process"===e.stage&&(t=n)}),t}},{key:"fail",value:function(e){e=e4(this.currFileCtx,{extra:{message:"merge file error, ".concat(e.error),errorCode:1004e3},type:"error",stage:this.options.stage,xhr:e.xhr,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currFileCtx.totalDuration}),this.failProcess(e)}}],e6(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),s}();function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(){return(tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t){return(tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ti(e){return(ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var to=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tr(e,t)}(s,r.a);var e,t,n,i,o,a=(e=s,t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var n=ti(e);return function(e,t){if(t&&("object"===te(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?Reflect.construct(n,arguments,ti(this).constructor):n.apply(this,arguments))});function s(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this)).options=e,t.file=e.file,t.context=e.context,t.key=e.key,t.config=n,t.finishArr=[],t.errorLength=0,t.finishSize=0,t.retryUploadTime=0,t.processRetry=0,t.lastFinishSize=-1,t.lastProcessPercent=-1,t.lastIntervalSize=-1,t}return n=s,i=[{key:"start",value:function(e,t,n){this.failProcess=n,this.successProcess=t,this.currentCtx=this.context.tasks[this.key],this.crc32Array=this.context.tasks[this.key].crc32Array,this._uploadSize=this.file.size,this._st=Date.now(),this.upload()}},{key:"stop",value:function(){this.uploader&&(this.uploader.abort(),this.uploader.destroy())}},{key:"upload",value:function(){for(var e=this,t=this.crc32Array.length,n=0,r=0,i=0;i<t;i++){var o=this.crc32Array[i],a=o.buffer,o=o.crc32,s=this.currentCtx.oid,l=this.currentCtx.signature,s={oid:"[object Array]"===Object.prototype.toString.call(s)?s[i]:s,tosDomain:this.currentCtx.tosDomain},s=ed.urlTemplate(this.config.directUploadFileUrl,s),c=this.config.userId,u=this.config.uploadHttpMethod||"put",h=this.config.uploadTimeout,a=new e$({sliceItem:a,crc32:o,url:s,signature:"[object Array]"===Object.prototype.toString.call(l)?l[i]:l,uploadHeader:this.currentCtx.UploadHeader,userId:c,retryTime:this.retryUploadTime,method:u,timeout:h});a.on("complete",function(i){r+ ++n===t&&e.success(i.xhr)}),a.on("error",function(n){++r===t&&e.fail(n.xhr)}),a.on("progress",function(t){e.process(t)}),a.upload(),this.uploader=a}}},{key:"success",value:function(e){this.finishArr=[];var t=Date.now()-this._st,t=this._uploadSize/t,t=tt(this.currentCtx,{type:"success",stage:"process",percent:100,extra:{message:"direct upload success"},speed:t,xhr:e,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currentCtx.totalDuration});this.successProcess(t)}},{key:"fail",value:function(e){e=tt(this.currentCtx,{extra:{message:"direct upload error: ".concat(e.errText),errorCode:1003e3},type:"error",stage:"process",xhr:e,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currentCtx.totalDuration}),this.failProcess(e)}},{key:"process",value:function(e){var t=this.currentCtx.fileSize,e=(this.finishSize=e.loaded,this.finishSize>this.lastFinishSize&&(this.lastFinishSize=this.finishSize),Math.floor(this.finishSize/t*1e4)/100||0),t=tt(this.currentCtx,{stage:"process",percent:e});e>this.lastProcessPercent&&100!==e&&(this.lastProcessPercent=e,this.context._broadcast("progress",t))}}],tn(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),s}();function ta(e){return(ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ts(){return(ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tc(e,t){return(tc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tu(e){return(tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var th=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tc(e,t)}(s,r.a);var e,t,n,i,o,a=(e=s,t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var n=tu(e);return function(e,t){if(t&&("object"===ta(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?Reflect.construct(n,arguments,tu(this).constructor):n.apply(this,arguments))});function s(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this)).options=e,t.file=e.file,t.context=e.context,t.key=e.key,t.config=n,t.errorLength=0,t.retryUploadTime=Number(n.retryUploadTime)||2,t.maxUploadSliceCount=Number(n.uploadSliceCount)||5,t.uploadQueue=[],t.crc32Array=[],t.uploadSliceCount=0,t.isCalcCrc32=!1,t.isFileReading=!1,t.hasStarted=!1,t.hasCompleteUpload=!1,t}return n=s,i=[{key:"start",value:function(e,t,n){this.failProcess=n,this.successProcess=t,this.currentCtx=this.context.tasks[this.key],this.hasStarted=!0,this._st=Date.now(),this.initWorker()}},{key:"initWorker",value:function(){var e=this;this.worker||(this.worker=new eq.a,this.worker.onmessage=function(t){e.isCalcCrc32=!1;var n=t.data[0],r=t.data[2],i=t.data[1];e.uploadQueue.forEach(function(t,o){t.index===r&&(e.uploadQueue[o].crc32=i,e.uploadQueue[o].fileSliceBuffer=n,e.crc32Array[r]={crc32:i})}),e.startUploadQueue()},this.startUploadQueue())}},{key:"addStreamSlice",value:function(e){var t=this,n=e.fileSlice,r=e.index,e=(this.isFileReading=!0,new FileReader);e.readAsArrayBuffer(n),e.onload=function(e){t.isFileReading=!1,e=e.target.result,t.uploadQueue.push({fileSliceBuffer:e,index:r}),t.hasStarted&&t.startUploadQueue()}}},{key:"completeStreamUpload",value:function(){this.hasCompleteUpload=!0,0!==this.uploadQueue.length||this.isFileReading||this.success()}},{key:"startUploadQueue",value:function(){var e;this.uploadSliceCount<=this.maxUploadSliceCount&&0<this.uploadQueue.length&&this.uploadQueue[0].crc32?(e=this.uploadQueue.shift(),this.uploadSliceCount++,this.upload({sliceItem:e.fileSliceBuffer,index:e.index,crc32:e.crc32})):0<this.uploadQueue.length&&!this.uploadQueue[0].crc32&&this.startCrc32Queue()}},{key:"startCrc32Queue",value:function(){if(!this.isCalcCrc32)for(var e=0;e<this.uploadQueue.length;e++){var t=this.uploadQueue[e];if(!t.crc32){this.isCalcCrc32=!0,this.worker.postMessage([t.fileSliceBuffer,t.index],[t.fileSliceBuffer]);break}}}},{key:"upload",value:function(e){var t=this,n=e.sliceItem,r=e.index,e=e.crc32,i=this.currentCtx.signature,o={number:r+1,uploadId:this.currentCtx.UploadID||this.currentCtx.uploadID,oid:this.currentCtx.oid,tosDomain:this.currentCtx.tosDomain},o=ed.urlTemplate(this.config.uploadChunkedUrl,o),a=this.config.userId,n=new e$({sliceItem:n,crc32:e,url:o,signature:i,uploadHeader:this.currentCtx.UploadHeader,userId:a,retryTime:this.retryUploadTime,method:"put",timeout:this.config.uploadTimeout});n.on("complete",function(e){1===t.currentCtx.status&&(e.index=r,t.fileSliceSuccess(e))}),n.on("error",function(e){1===t.currentCtx.status&&(e.index=r,t.fail(e))}),n.upload()}},{key:"fileSliceSuccess",value:function(e){var t=e.index,n=Date.now(),r={message:"stream slice upload success"},i=(e.xhr&&(i=e.xhr,r.currentUrl=i.currentUrl||"",ts(this.currentCtx,{req:{url:i.currentUrl,param:i.params},res:{status:i.status,body:i.responseText,header:i.getAllResponseHeaders()}}),delete e.xhr),this.context.logger.send(ts(this.currentCtx,{stage:"process",type:"success",sliceIndex:t,extra:r,totalDuration:n-this._lastSaveTime+this.currentCtx.totalDuration})),ts(this.currentCtx,{uploadQueueLength:this.uploadQueue.length,sliceIndex:t}));this.context._broadcast("stream-progress",i),this.uploadSliceCount--,this.hasCompleteUpload&&0===this.uploadQueue.length?this.success(e.xhr):this.startUploadQueue()}},{key:"success",value:function(e){this.isAllSuccess||(e=ts(this.currentCtx,{type:"success",stage:"process",percent:100,extra:{message:"all slice upload success"},crc32Array:this.crc32Array,xhr:e,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currentCtx.totalDuration}),this.successProcess(e))}},{key:"fail",value:function(e){var t=e.index,e=ts(this.currentCtx,{extra:{message:"stream slice upload error"},type:"error",stage:"process",xhr:e.xhr,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currentCtx.totalDuration,sliceIndex:t});this.context.logger.send(ts({},e)),this.context._broadcast("error",e)}}],tl(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),s}();function td(e){return(td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tf(){return(tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function tp(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function tv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tp(Object(n),!0).forEach(function(t){var r,i,o;r=e,i=t,o=n[t],i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tm(e,t){return(tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ty(e){return(ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var t_=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tm(e,t)}(s,r.a);var e,t,n,i,o,a=(e=s,t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var n=ty(e);return function(e,t){if(t&&("object"===td(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?Reflect.construct(n,arguments,ty(this).constructor):n.apply(this,arguments))});function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s),(n=a.call(this)).options=e,n.config=t,n.uploaderCtx=e.context,n.currFileCtx=e.context.tasks[e.key],n.isImageBatchUpload=!!n.options.isImageBatchUpload,n.transport=new eT,n.eventInit(),n}return n=s,i=[{key:"commitUpload",value:function(){var e,t,n=this.options.key,n=this.options.context.tasks[n],r=en[this.config.region],i="",o={},a=this.uploaderCtx.useBackupDomain,s=eC.checkServiceName(this.options.type,this.config),l=(s===et&&(i=this.config.imageHost||(a?ea:eo)[r],o={Action:"CommitImageUpload",Version:"2018-08-01",SessionKey:n.SessionKey},this.options.type===Y&&(this.config.imageConfig&&this.config.imageConfig.serviceId?o.ServiceId=this.config.imageConfig.serviceId:o.SpaceName=this.config.videoConfig&&this.config.videoConfig.spaceName,Array.isArray(l=this.config.imageConfig&&this.config.imageConfig.processAction)&&0<l.length&&((e={SessionKey:n.SessionKey,Functions:[]}).Functions=l,t=JSON.stringify(e)),this.config.skipMeta&&(o.SkipMeta=!0)),this.options.type===Q&&(o.ServiceId=this.config.objectConfig&&this.config.objectConfig.serviceId||this.config.imageConfig&&this.config.imageConfig.serviceId)),"vod"===s&&(l=this.config.videoConfig&&this.config.videoConfig.spaceName,this.options.type===Q&&this.config.objectConfig&&this.config.objectConfig.spaceName&&(l=this.config.objectConfig.spaceName),i=this.config.videoHost||(a?ei:er)[r],o={Action:"CommitUploadInner",Version:"2020-11-19",SpaceName:l},e={SessionKey:n.SessionKey,Functions:[]},a=this.config.videoConfig&&this.config.videoConfig.processAction,this.options.type===Q&&this.config.objectConfig&&this.config.objectConfig.processAction&&(a=this.config.objectConfig.processAction),Array.isArray(a)&&0<a.length&&(e.Functions=a),(this.config.videoConfig&&this.config.videoConfig.callbackArgs||this.options.callbackArgs)&&(e.CallbackArgs=this.options.callbackArgs||this.config.videoConfig.callbackArgs),this.options.type===J&&this.config.skipDownload&&(o.SkipDownload=!0),t=JSON.stringify(e)),this.config.accountId&&(o["X-Account-Id"]=this.config.accountId),ed.toQueryString(o)),a=this.currFileCtx.proxyStsToken||this.config.stsToken,c=a.AccessKeyID,u=a.AccessKeyId,h=a.SecretAccessKey,a=a.SessionToken,l={method:"POST",url:"".concat(i,"?").concat(l),timeout:this.config.gatewayTimeout||3e4,region:r,params:o,headers:{},pathname:ed.getPathByURL(i)},r=(e?(l.custom=t,l.body=e):(l.custom="none",l.headers["Content-Type"]="application/json"),new ex.a(l,s)),o=n.systemTimeGap,i=o?new Date((new Date).getTime()+o):new Date;r.addAuthorization({accessKeyId:u||c,secretAccessKey:h,sessionToken:a},i),this.transport.send(l)}},{key:"start",value:function(e,t,n){this.successProcess=t,this.failProcess=n,this._st=Date.now();try{this.commitUpload()}catch(e){this.fail({error:"catch error: ".concat(e.toString())})}}},{key:"eventInit",value:function(){var e=this;this.transport.on("complete",function(t){try{var n,r,i,o,a,s,l=JSON.parse(t.response);l.ResponseMetadata.Error?e.fail({xhr:t,errorCode:l.ResponseMetadata.Error.CodeN,error:l.ResponseMetadata.Error.Code,message:l.ResponseMetadata.Error.Message}):(n=eC.checkServiceName(e.options.type,e.config),r=l.Result,i={},n===et?e.isImageBatchUpload?(o=r.Results,a=r.PluginResult||[],o.forEach(function(e,t){o[t]=tv(tv({},o[t]),a[t])}),i=o):tf(i=r.Results[0],r.PluginResult&&r.PluginResult[0]):i=r.Results[0],s=tf(e.currFileCtx,{stage:"complete",type:"success",percent:100,extra:{message:"upload successful"},uploadResult:i,xhr:t,stageStartTime:e._st,stageEndTime:Date.now(),duration:Date.now()-e._st,totalDuration:Date.now()-e._st+e.currFileCtx.totalDuration}),e.successProcess&&e.successProcess(s))}catch(n){e.fail({error:"catch error: ".concat(n.toString()),xhr:t})}}),this.transport.on("error",function(t){var n={error:"request fail: ".concat(t.statusText||t.errText||"UNKNOWN"),xhr:t};t.response&&(t=JSON.parse(t.response)).ResponseMetadata&&t.ResponseMetadata.Error&&(n.errorCode=t.ResponseMetadata.Error.CodeN,n.error=t.ResponseMetadata.Error.Code,n.message=t.ResponseMetadata.Error.Message),e.fail(n)})}},{key:"fail",value:function(e){var t=this.options.context,n=this.options.key,r=e.xhr,i=e.errorCode||1005e3,o="prepare upload error: UNKNOWN",t=(r&&(o=0===r.status?"prepare upload error: NETERROR":e.message||"prepare upload error: ".concat(r.status)),tf(t.tasks[n],{extra:{message:o,error:e.error,errorCode:i},type:"error",stage:"complete",xhr:r,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currFileCtx.totalDuration}));this.failProcess(t)}}],tg(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),s}();function tb(e){return(tb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tw(){return(tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function tS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tE(e,t){return(tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tk(e){return(tk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tT=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tE(e,t)}(s,r.a);var e,t,n,i,o,a=(e=s,t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var n=tk(e);return function(e,t){if(t&&("object"===tb(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?Reflect.construct(n,arguments,tk(this).constructor):n.apply(this,arguments))});function s(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).tasks=e,t.config=n,t.key=i,t.uploaderCtx=r,t.current=0,t.length=t.tasks.length,t.taskError={},t.uploadList=[],t.retryTaskTime=n.retryTaskTime||2,t}return n=s,i=[{key:"start",value:function(){var e=this.tasks.shift();e&&(this.current=e.index,this.execTask(e))}},{key:"execTask",value:function(e){var t,n,r=this,i=e.key,o=this.uploaderCtx,a=o.tasks[i];a&&(t=a.cacheTask,n=o.taskList[i].length,t&&0<e.index&&e.index<t?this.start():(a.currentTask=e.index,1===a.status&&e&&e.func.call(e.context,e.arg,function(t){var a;o.taskList[i]&&((a=o.taskList[i][e.index+1])&&0!==e.index?o._saveTask(i,{currentTask:a.index,stage:a.stage}):e.index===n-1&&o._removeTaskCache(i),0<r.tasks.length?r.start():o._queueSuccess(i),r.success(t))},function(t){var n;t.xhr&&400<=t.xhr.status?r.fail(t):!r.taskError[i]||r.taskError[i]<r.retryTaskTime?(r.taskError[i]?r.taskError[i]++:r.taskError[i]=1,n=r.errorFormat(t,!0),r.uploaderCtx.logger.send(n),r.execTask(e)):(t.key=i,r.fail(t))})))}},{key:"addTask",value:function(e){this.tasks.push(e)}},{key:"success",value:function(e){var t;e.xhr&&(t=e.xhr,e.req={url:t.currentUrl,param:t.params},e.res={status:t.status,header:t.getAllResponseHeaders(),body:t.responseText},delete e.xhr),tw(e,{type:"success"});try{this.uploaderCtx._broadcast(e.stage,e)}catch(e){}this.uploaderCtx.logger.send(e)}},{key:"fail",value:function(e){var t=this.uploaderCtx,n=e.key,e=this.errorFormat(e);try{t._broadcast("error",e)}catch(e){}t.tasks[n].isBreak?t._cancel(n):t._pause(n),t.logger.send(e)}},{key:"cancel",value:function(e){var t,n;e||(e=this.key,t=this.uploaderCtx.tasks[e].currentTask,this.uploaderCtx.taskList[e].forEach(function(e){t===e.index&&(n=e)}),this.tasks=[],n&&3===n.index&&n.context.stop(),this.uploaderCtx._removeTaskCache(e))}},{key:"restart",value:function(){this.uploadList.forEach(function(e){e.cancel=!1}),this.start()}},{key:"errorFormat",value:function(e,t){var n,t={type:t?"retry":"error"};return e.xhr&&(n=e.xhr,e.req={url:n.currentUrl,param:n.params},e.res={status:n.status,header:n.getAllResponseHeaders(),body:n.responseText},e.extra&&(e.extra.req=e.req,e.extra.res=e.res),delete e.xhr),tw(e,t)}}],tS(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),s}();function tx(e){return(tx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tC(){return(tC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function tI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tO(e,t){return(tO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tA(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tP(e){return(tP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tR=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tO(e,t)}(l,r.a);var e,t,n,o,a,s=(e=l,t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var n=tP(e);return function(e,t){if(t&&("object"===tx(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tA(e)}(this,t?Reflect.construct(n,arguments,tP(this).constructor):n.apply(this,arguments))});function l(e){var t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).config=tC({},i),t._mergeOptions(t.config,e),t.tasks={},t.taskList={},t.cache={},t.storage=ed.storage(tA(t)),t.logger=t.config.noLog?{send:function(){}}:new ec(t.config,tA(t)),t}return n=l,o=[{key:"_mergeOptions",value:function(e,t){t&&"object"===tx(t)&&(tC(e,t),Object.keys(t).forEach(function(n){"vodDomain"===n&&(e.replace[n]=t[n])}))}},{key:"_setCache",value:function(e,t){this.storage.setItem(e,t)}},{key:"_getCache",value:function(e){return this.storage.getItem(e)}},{key:"_removeCache",value:function(e){e?this.storage.removeItem(e):this.storage.clear()}},{key:"_addTask",value:function(e,t){var n=this.tasks,r=this.taskList;n[e]&&n[e].task?r[e].push(t):(r[e]=[],r[e].push(t),n[e]=n[e]||{},n[e].task=new tT([],this.config,this,e)),n[e].task.addTask(t)}},{key:"_broadcast",value:function(e,t){var n=this.tasks[t.key].status;if(1===n||0===n)try{this.emit(e,t)}catch(e){if(!(n=!("[object Error]"!==Object.prototype.toString.call(e)))||"Error"===e.name)throw e}}},{key:"_addCrc32ProcessTask",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=n.isDirect,n=n.isImageBatchUpload,e=new eb({file:e.file,context:this,key:t,isDirect:r,isImageBatchUpload:void 0!==n&&n},this.config),r={context:e,func:e.start,arg:{},key:t,index:0,stage:"crc32"};this._addTask(t,r)}},{key:"_addPreUploadTask",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=n.isDirect,n=n.isImageBatchUpload,r={file:e.file,stsToken:e.stsToken,context:this,type:e.type||J,preUploadUriParams:e.preUploadUriParams||{},storeKey:e.storeKey,key:t,isDirect:r,isImageBatchUpload:void 0!==n&&n,fileSize:e.fileSize||null},n=new eL(r,this.config),e={context:n,func:n.start,arg:{},key:t,index:1,stage:"preUpload"};this._addTask(t,e)}},{key:"_addDirectUploadTask",value:function(e,t){var n=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).isImageBatchUpload,e=new to({file:e.file,context:this,key:t,isImageBatchUpload:void 0!==n&&n},this.config),n={context:e,func:e.start,arg:{},key:t,index:3,stage:"process"};this._addTask(t,n)}},{key:"_addInitUploadIDTask",value:function(e,t){e={context:e=new eF({file:e.file,context:this,key:t},this.config),func:e.start,arg:{},key:t,index:2,stage:"initUploadID"},this._addTask(t,e)}},{key:"_addUploadProcessTask",value:function(e,t){e={context:e=new e2({file:e.file,context:this,key:t},this.config),func:e.start,arg:{},key:t,index:3,stage:"process"},this._addTask(t,e)}},{key:"_addStreamUploadTask",value:function(e,t){this.streamUploadTask=new th({context:this,key:t},this.config);var n={context:this.streamUploadTask,func:this.streamUploadTask.start,arg:{},key:t,index:3,stage:"process"};this._addTask(t,n)}},{key:"_mergeFileTask",value:function(e,t){e={context:e=new e8({file:e.file,context:this,stage:"fileMerge",key:t},this.config),func:e.start,arg:{},key:t,index:4,stage:"fileMerge"},this._addTask(t,e)}},{key:"_getMetaInfoTask",value:function(e,t){var n=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).isImageBatchUpload,e={file:e.file,context:this,data:e.data,type:e.type||J,callbackArgs:e.callbackArgs,key:t,isImageBatchUpload:void 0!==n&&n},n=new t_(e,this.config),e={context:n,func:n.start,arg:{},key:t,index:5,stage:"complete"};this._addTask(t,e)}},{key:"_addAllUploadProcess",value:function(e,t){var n=e.type===Y&&"[object Array]"===Object.prototype.toString.call(e.file),r=(this.tasks[t]=this.tasks[t]||{},this.tasks[t].fileType=e.type||J,this.tasks[t].fileSize=e.file&&e.file.size,this.tasks[t].proxyStsToken=e.stsToken,e.file.size<=ed.getFileSliceLength(e.file)||n);this._addCrc32ProcessTask(e,t,{isDirect:r,isImageBatchUpload:n}),this._addPreUploadTask(e,t,{isDirect:r,isImageBatchUpload:n}),r?this._addDirectUploadTask(e,t,{isImageBatchUpload:n}):(this._addInitUploadIDTask(e,t),this._addUploadProcessTask(e,t),this._mergeFileTask(e,t)),this._getMetaInfoTask(e,t,{isImageBatchUpload:n})}},{key:"_addAllUploadProcessClientEncrypt",value:function(e){var t,n=this;return e.type===Y&&Array.isArray(e.file)?(t=[],e.file.forEach(function(r){t.push(n._createClientEncryptTask({stsToken:e.stsToken,type:e.type,file:r}))}),t):this._createClientEncryptTask(e)}},{key:"_createClientEncryptTask",value:function(e){var t=ed.getUnique("file");return this.tasks[t]=this.tasks[t]||{},this.tasks[t].fileType=e.type||J,this.tasks[t].fileSize=e.file&&e.file.size,this.tasks[t].proxyStsToken=e.stsToken,this.tasks[t].clientEncryptKey=ed.generateKey(16),this._addCrc32ProcessTask(e,t,{isDirect:!1,isImageBatchUpload:!1}),this._addPreUploadTask(e,t,{isDirect:!1,isImageBatchUpload:!1}),this._addInitUploadIDTask(e,t),this._addUploadProcessTask(e,t),this._mergeFileTask(e,t),this._getMetaInfoTask(e,t,{isImageBatchUpload:!1}),t}},{key:"_addAllStreamUploadProcess",value:function(e,t){this.tasks[t]=this.tasks[t]||{},this.tasks[t].fileType=e.type||J,this.tasks[t].proxyStsToken=e.stsToken,this._addPreUploadTask(e,t),this._addStreamUploadTask(e,t),this._mergeFileTask(e,t),this._getMetaInfoTask(e,t)}},{key:"_addStreamSlice",value:function(e){var t=e.fileSlice,e=e.index;this.streamUploadTask.addStreamSlice({fileSlice:t,index:e})}},{key:"_completeStreamUpload",value:function(){this.streamUploadTask.completeStreamUpload()}},{key:"_run",value:function(e){var t=this.tasks,n=navigator.userAgent.toLowerCase().match(/msie ([\d.]+)/);if(n&&n[1]&&9>=Number(n[1]))return this._broadcast("error",tC(t[e],{key:e,status:0,stage:"browserError",extra:{message:"cannot support the browser below ie10"},type:"error"})),this.logger.send(t[e]),void this._cancel(e);t[e]&&(3===t[e].status?this._restart(e):(n=new Date,t[e].startTime=n.getTime(),t[e].task&&1!==t[e].status&&t[e].task.tasks.length&&(t[e].status=1,this.logger.send(tC({},t[e],{extra:{message:"start upload"},type:"start",key:e})),t[e].task.start())))}},{key:"_restart",value:function(e){var t,n,r=this,i=this.tasks;i[e]&&(t=i[e].task,n=i[e].currentTask||0,this.taskList[e].forEach(function(i,o){i.index===n&&(t.tasks=r.taskList[e].slice(o))}),t&&1!==i[e].status&&t.tasks.length&&(i[e].status=1,t.restart()))}},{key:"_cancel",value:function(e){var t=this.tasks;t[e]&&(t[e].status=2,t[e].task.cancel(),delete this.taskList[e])}},{key:"_pause",value:function(e){var t=this.tasks;t[e]&&(t[e].status=3,t[e].task.cancel(!0),this._saveTask(e))}},{key:"_removeTaskCache",value:function(e){var t=this.tasks;t[e]&&(t=t[e].crc32Key)&&this._removeCache(t)}},{key:"_saveTask",value:function(e,t){(t=(e=tC({},this.tasks[e],t||{})).crc32Key)&&(delete e.task,delete e.xhr,delete e.crc32Array,this._setCache(t,JSON.stringify(e)))}},{key:"_queueSuccess",value:function(e){var t,n=this.tasks;n[e]&&(t=new Date,n[e].endTime=t.getTime(),n[e].time=n[e].endTime-n[e].startTime,n[e].status=0,this.taskList[e]=[])}},{key:"_removeFile",value:function(e){delete this.tasks[e]}},{key:"_batchAction",value:function(e){Object.keys(this.tasks).forEach(function(t){e&&e(t)})}},{key:"_refreshSTSToken",value:function(e){var t=this,n=this.tasks;Object.keys(n).forEach(function(r){var r=n[r],i=tC({},r,{proxyStsToken:e}),o=(r.proxyStsToken=e,i.crc32Key);o&&(delete i.task,delete i.xhr,delete i.crc32Array,r.proxyStsToken=e,t._setCache(o,JSON.stringify(i)))})}},{key:"_setOption",value:function(e){this._mergeOptions(this.config,e)}},{key:"_getOption",value:function(e){var t=tC({},this.config);return Object.keys(t).forEach(function(e){(-1<e.indexOf("Url")||"replace"===e||"log"===e)&&delete t[e]}),e?t[e]:t}},{key:"_userCancel",value:function(e){var t=this,n=this.tasks;e?(this._cancel(e),this.logger.send(tC({},n[e],{type:"cancel"})),delete this.tasks[e]):Object.keys(n).forEach(function(e){t._cancel(e),t.logger.send(tC({},n[e],{type:"cancel"})),delete t.tasks[e]})}},{key:"_userPause",value:function(e){var t=this,n=this.tasks;e?(this._pause(e),this.logger.send(tC({},n[e],{type:"pause"}))):Object.keys(n).forEach(function(e){t._pause(e),t.logger.send(tC({},n[e],{type:"pause"}))})}}],tI(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),l}();function tD(e){return(tD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tM(e,t){return(tM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tz(e){return(tz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tN=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tM(e,t)}(a,tR);var e,t,n,r,i,o=(e=a,t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var n=tz(e);return function(e,t){if(t&&("object"===tD(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?Reflect.construct(n,arguments,tz(this).constructor):n.apply(this,arguments))});function a(){return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return n=a,r=[{key:"start",value:function(e){this.abort=!1,e?this._run(e):this._batchAction(this._run.bind(this))}},{key:"addFile",value:function(e){var t;return e&&eC.checkStsToken(e.stsToken)?e.file&&this.config.clientEncrypt?this._addAllUploadProcessClientEncrypt(e):e.file?(t=ed.getUnique("file"),this._addAllUploadProcess(e,t),t):null:(this.emit("error",{extra:{message:eg,errorCode:1000002}}),null)}},{key:"addImageFile",value:function(e){var t;return e&&eC.checkStsToken(e.stsToken)?e.file?(e.type=e.type||Y,t=ed.getUnique("file"),this._addAllUploadProcess(e,t),t):null:(this.emit("error",{extra:{message:eg,errorCode:1000002}}),null)}},{key:"addStreamUploadTask",value:function(e){if(!e||!eC.checkStsToken(e.stsToken))return this.emit("error",{extra:{message:eg,errorCode:1000002}}),null;var t=ed.getUnique("file");return this._addAllStreamUploadProcess(e,t),t}},{key:"addStreamSlice",value:function(e){var t=e.fileSlice,e=e.index;this._addStreamSlice({fileSlice:t,index:e})}},{key:"completeStreamUpload",value:function(){this._completeStreamUpload()}},{key:"removeFile",value:function(e){e&&this._removeFile(e)}},{key:"cancel",value:function(e){e?this._userCancel(e):this._batchAction(this._userCancel.bind(this))}},{key:"pause",value:function(e){this._userPause(e)}},{key:"restart",value:function(e){e?this._restart(e):this._batchAction(this._restart.bind(this))}},{key:"refreshSTSToken",value:function(e){this._refreshSTSToken(e)}},{key:"setOption",value:function(e){this._setOption(e)}},{key:"getOption",value:function(e){return this._getOption(e)}}],tL(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),a}()}]).default},e.exports=n()},978314:function(e,t,n){"use strict";n.d(t,{K:function(){return a}});var r=n(372909),i=n(731628),o=n(570603);class a extends o.w{constructor(e,{geometry:t,program:n,material:o,mode:a=e.TRIANGLES,frustumCulled:s=!0,renderOrder:l=0}={}){super(),this.isMesh=!0,this.modelViewMatrix=r.Ue(),this.normalMatrix=i.Ue(),this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[],this.gl=e,this.gl.meshId&&(this.gl.meshId=0),this.id=this.gl.meshId++,this.geometry=t,this.material=o,this.program=n,this.mode=a,this.frustumCulled=s,this.renderOrder=l,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={camera:void 0}){this.beforeRenderCallbacks.forEach(t=>t&&t({mesh:this,camera:e})),e&&(!this.program.uniforms.modelMatrix&&Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,r.Jp(this.modelViewMatrix,e.viewMatrix,this.worldMatrix),r.bA(this.worldMatrix,this.worldMatrix,this.scale),i.XL(this.normalMatrix,this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix);let t=this.program.cullFace&&0>r.GH(this.worldMatrix);this.program.use({flipFaces:t}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(t=>t&&t({mesh:this,camera:e}))}}},416309:function(e,t,n){"use strict";n.d(t,{u:function(){return o}});var r=n(853750),i=n(918616);class o extends i.Z{constructor(e){super(e),this._type="cubeGeometry"}create(e,t=1,n=1,i=1,o=1,a=1,s=1){let l=t/o,c=n/a,u=n/s,h=t/2,d=n/2,f=i/2,p=[],v=[],g=[],m=1/3,y=2/3,_=0;function b(e,t,n,r,i,o,a,s,l,c,u,h){let d,f,v,m,y,b;let w=e+1,S=t+1,E=[];for(let e=0;e<S;e++){f=e*r-o;for(let e=0;e<w;e++)d=e*n-i,E[c]=d*s,E[u]=-(f*l*1),E[h]=a,p.push(...E)}for(let n=0;n<t;n++)for(let t=0;t<e;t++)v=_+t+w*n,y=(m=_+t+w*(n+1))+1,b=v+1,g.push(v,m,y,v,y,b);_+=w*S}return b(s,a,u,c,f,d,-h,1,-1,2,1,0),b(s,a,u,c,f,d,h,-1,-1,2,1,0),b(o,s,l,u,h,f,d,1,1,0,2,1),b(o,s,l,u,h,f,-d,1,-1,0,2,1),b(o,a,l,c,h,d,-f,-1,-1,0,1,2),b(o,a,l,c,h,d,f,1,-1,0,1,2),e===r.P.EAC?(v.push(m,.5,0,.5,m,0,0,0),v.push(1,.5,y,.5,1,0,y,0),v.push(y,1,y,.5,1,1,1,.5),v.push(0,1,0,.5,m,1,m,.5),v.push(y,.5,m,.5,y,0,m,0),v.push(m,1,m,.5,y,1,y,.5)):(v.push(y,.5,m,.5,y,0,m,0),v.push(m,.5,0,.5,m,0,0,0),v.push(y,0,1,0,y,.5,1,.5),v.push(0,.5,m,.5,0,1,m,1),v.push(y,1,m,1,y,.5,m,.5),v.push(1,1,y,1,1,.5,y,.5)),{position:new Float32Array(p),uv:new Float32Array(v),index:new Uint16Array(g)}}}},608816:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(879146),i=n.n(r),o=n(1700),a=n(572105),s=n(678433),l=n(11647);n(278698);var c=n(171356),u=n(193807);class h extends i(){constructor(e){super(),this.accelerometer=new s.Z.Vector3,this.gyroscope=new s.Z.Vector3,this.filter=new u.Z(.98),this.posePredictor=new l.Z(.04),this.filterToWorldQ=new s.Z.Quaternion,this.isFirefoxAndroid=(0,a.j3)(),this.isIOS=(0,a.gn)(),this.isChromeUsingDegrees=a.CE>=66,this._isEnabled=!1,this.inverseWorldToScreenQ=new s.Z.Quaternion,this.worldToScreenQ=new s.Z.Quaternion,this.originalPoseAdjustQ=new s.Z.Quaternion,this.resetQ=new s.Z.Quaternion,this._onDeviceMotionChange=({inputEvent:e})=>{let t=e.deviceorientation,n=e.accelerationIncludingGravity,r=e.adjustedRotationRate||e.rotationRate,i=e.timeStamp/1e3;t?(!this._alpha&&(this._alpha=t.alpha),this._deviceOrientationQ=this._deviceOrientationQ||new s.Z.Quaternion,this._deviceOrientationQ.setFromEulerYXZ(t.beta,t.alpha,t.gamma),this._triggerChange()):(this.isFirefoxAndroid&&(i/=1e3),this.accelerometer.set(-n.x,-n.y,-n.z),this.gyroscope.set(r.alpha,r.beta,r.gamma),(this.isIOS||this.isFirefoxAndroid||this.isChromeUsingDegrees)&&this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addAccelMeasurement(this.accelerometer,i),this.filter.addGyroMeasurement(this.gyroscope,i),this._triggerChange(),this.previousTimestampS=i)},this._onScreenOrientationChange=()=>{this._setScreenTransform()},this.deviceMotion=new c.Z,this.isIOS?this.filterToWorldQ.setFromAxisAngle(new s.Z.Vector3(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new s.Z.Vector3(1,0,0),-Math.PI/2),this.originalPoseAdjustQ.setFromAxisAngle(new s.Z.Vector3(0,0,1),-window.orientation*Math.PI/180),this._setScreenTransform(),(0,a.fq)()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.deviceMotion.on("devicemotion",this._onDeviceMotionChange),this.enable()}enable(){if(!this.isEnabled())this.deviceMotion&&this.deviceMotion.enable(),this._isEnabled=!0,window.addEventListener("orientationchange",this._onScreenOrientationChange)}disable(){if(!!this.isEnabled())this.deviceMotion&&this.deviceMotion.disable(),this._isEnabled=!1,window.removeEventListener("orientationchange",this._onScreenOrientationChange)}isEnabled(){return this._isEnabled}destroy(){this.disable(),this.deviceMotion=void 0}getOrientation(){let e;if(this.deviceMotion&&this.deviceMotion.isWithoutDeviceMotion&&this._deviceOrientationQ){this.deviceOrientationFixQ=this.deviceOrientationFixQ||(()=>new s.Z.Quaternion().setFromAxisAngle(new s.Z.Vector3(0,1,0),-this._alpha))(),e=this._deviceOrientationQ;let t=new s.Z.Quaternion;t.copy(e),t.multiply(this.filterToWorldQ),t.multiply(this.resetQ),t.multiply(this.worldToScreenQ),t.multiplyQuaternions(this.deviceOrientationFixQ,t);let n=o.al(t.x,t.y,t.z,t.w);return o.Fv(n,n)}{if(!(e=this.filter.getOrientation()))return null;let t=this._convertFusionToPredicted(e),n=o.al(t.x,t.y,t.z,t.w);return o.Fv(n,n)}}_triggerChange(){let e=this.getOrientation();if(!e)return;if(!this._prevOrientation){this._prevOrientation=e;return}if(!o.fS(this._prevOrientation,e))this.emit("change",{quaternion:e})}_convertFusionToPredicted(e){this.predictedQ=this.posePredictor.getPrediction(e,this.gyroscope,this.previousTimestampS);let t=new s.Z.Quaternion;return t.copy(this.filterToWorldQ),t.multiply(this.resetQ),t.multiply(this.predictedQ),t.multiply(this.worldToScreenQ),t}_setScreenTransform(){this.worldToScreenQ.set(0,0,0,1);let e=window.orientation;switch(e){case 0:break;case 90:case -90:case 180:this.worldToScreenQ.setFromAxisAngle(new s.Z.Vector3(0,0,1),-(e/180)*Math.PI)}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()}}},927959:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});class r{constructor(e,t){this.set(e,t)}set(e,t){this.sample=e,this.timestampS=t}copy(e){this.set(e.sample,e.timestampS)}}},190087:function(e,t,n){"use strict";n.d(t,{$X:function(){return k},D9:function(){return _},DC:function(){return x},Ey:function(){return g},FJ:function(){return a},Gj:function(){return m},HB:function(){return i},IH:function(){return E},Jj:function(){return l},LI:function(){return f},Ld:function(){return w},Nq:function(){return o},Re:function(){return u},UG:function(){return s},Yz:function(){return v},qk:function(){return c},r3:function(){return d},so:function(){return O},ux:function(){return C},vZ:function(){return h},vd:function(){return T},wm:function(){return y},zX:function(){return p}});var r=n(88648);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}let o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function a(e){let t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function s(e){return"nodeType"in e}function l(e){var t,n;return e?a(e)?e:s(e)?null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window:window}function c(e){let{Document:t}=l(e);return e instanceof t}function u(e){return!a(e)&&e instanceof l(e).HTMLElement}function h(e){return e instanceof l(e).SVGElement}function d(e){return e?a(e)?e.document:s(e)?c(e)?e:u(e)||h(e)?e.ownerDocument:document:document:document}let f=o?r.useLayoutEffect:r.useEffect;function p(e){let t=(0,r.useRef)(e);return f(()=>{t.current=e}),(0,r.useCallback)(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}function v(){let e=(0,r.useRef)(null),t=(0,r.useCallback)((t,n)=>{e.current=setInterval(t,n)},[]);return[t,(0,r.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}function g(e,t){void 0===t&&(t=[e]);let n=(0,r.useRef)(e);return f(()=>{n.current!==e&&(n.current=e)},t),n}function m(e,t){let n=(0,r.useRef)();return(0,r.useMemo)(()=>{let t=e(n.current);return n.current=t,t},[...t])}function y(e){let t=p(e),n=(0,r.useRef)(null),i=(0,r.useCallback)(e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e},[]);return[n,i]}function _(e){let t=(0,r.useRef)();return(0,r.useEffect)(()=>{t.current=e},[e]),t.current}let b={};function w(e,t){return(0,r.useMemo)(()=>{if(t)return t;let n=null==b[e]?0:b[e]+1;return b[e]=n,e+"-"+n},[e,t])}function S(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((t,n)=>{for(let[r,i]of Object.entries(n)){let n=t[r];null!=n&&(t[r]=n+e*i)}return t},{...t})}}let E=S(1),k=S(-1);function T(e){if(!e)return!1;let{KeyboardEvent:t}=l(e.target);return t&&e instanceof t}function x(e){var t;if(function(e){if(!e)return!1;let{TouchEvent:t}=l(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return"clientX"in(t=e)&&"clientY"in t?{x:e.clientX,y:e.clientY}:null}let C=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(!!e)return[C.Translate.toString(e),C.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),I="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function O(e){return e.matches(I)?e:e.querySelector(I)}},597686:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLUnmaskedVendorComponent=void 0;let r=n(751603),i=n(883261);class o extends i.CustomComponent{getValue(){var e,t;let n=(0,r.getWebGLContext)(),i=null===(e=null==n?void 0:n.getExtension)||void 0===e?void 0:e.call(n,"WEBGL_debug_renderer_info"),o="";return n&&i&&(o=null===(t=n.getParameter)||void 0===t?void 0:t.call(n,i.UNMASKED_VENDOR_WEBGL)),o}}t.WebGLUnmaskedVendorComponent=o},751603:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWebGLContext=void 0;t.getWebGLContext=function(){if("undefined"==typeof document)return null;let e=document.createElement("canvas");return e.width=256,e.height=128,e.getContext("webgl",{preserveDrawingBuffer:!0})}},467532:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(757828),i=n.n(r);function o(e,t,n){return Math.min(Math.max(e,t),n)}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=o(e,1,10),r=o(t,.1,2);return e=>0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin(2*Math.PI*(e-1-r/(2*Math.PI)*Math.asin(1/n))/r)}let s=(()=>{let e=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],t={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],a],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],(e,t)=>n=>1-a(e,t)(1-n)],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],(e,t)=>n=>n<.5?a(e,t)(2*n)/2:1-a(e,t)(-2*n+2)/2]},n={linear:[.25,.25,.75,.75]};for(let r of Object.keys(t))t[r].forEach((t,i)=>{n["ease"+r+e[i]]=t});return n})();function l(e){let t;if("function"==typeof e)return e;let n=(e=e&&"string"==typeof e?e.trim():"linear").split("(")[0],r=function(e){let t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(e=>parseFloat(e)):[]}(e);return"cubic-bezier"===n||"cubicBezier"===n?i()(...r.length?r:s.linear):((!n||"string"!=typeof n||"string"==typeof n&&null==s[n])&&(n="linear"),"function"==typeof(t=s[n]))?t(...r):r.length?i()(...r):i()(...t)}},194864:function(e,t,n){"use strict";function r(e){return!!(e&&"object"==typeof e&&(e.duration>0||"string"==typeof e.easing||"function"==typeof e.easing))}n.d(t,{Z:function(){return r}})},253073:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(467532),i=n(112907),o=n(194864);let a=Object.assign(Object.assign({},i.Z.default),{precision:.01});function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,o.Z)(t)){let e=(0,r.Z)(t.easing),n="number"==typeof t.duration&&t.duration>0?t.duration:1e3;t=Object.assign(Object.assign({},t),{easing:e,duration:n})}let n=Object.assign(Object.assign(Object.assign({},a),t),{done:!1});if(e&&"object"==typeof e&&"val"in e){if((0,o.Z)(e)){let n=(0,r.Z)(e.easing),i="number"==typeof e.duration&&e.duration>0?e.duration:parseInt(t.duration)||1e3;e=Object.assign(Object.assign({},e),{easing:n,duration:i})}n=Object.assign(Object.assign({},n),e)}else n=Object.assign(Object.assign({},n),{val:e});return n}},133588:function(e,t,n){"use strict";var r=n(193533),i=n.n(r),o=n(846551);"string"!=typeof new o.util.LongBits(0,0).toLong(!1)&&(o.util.Long=i(),o.util.zeroLong="0",o.util.zeroULong="0",o.Reader.prototype.int64String=function(){return this.int64().toString()},o.Reader.prototype.uint64String=function(){return this.uint64().toString()},o.Reader.prototype.sint64String=function(){return this.sint64().toString()},o.util.longToHash=e=>String(e),(0,o.configure)())},87124:function(e,t,n){"use strict";n.d(t,{C:function(){return c},i:function(){return l}});var r=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&s(e,n,t[n]);if(i)for(var n of i(t))a.call(t,n)&&s(e,n,t[n]);return e},c=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(e){i(e)}},a=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())})},320540:function(e,t,n){"use strict";n.d(t,{J:function(){return f}});var r=n(189213),i=n(651011),o=n(785632),a=n(957717),s=n(966535),l=n.n(s),c=n(846551);n(133588);var u=l()("im:idl:transport"),h=l()("im:idl:transport-raw"),d=class e{constructor(){this.cachedType={},this.loading=null,this.loadSchema=()=>{if("undefined"!=typeof window)window.requestIdleCallback(()=>{this._loadSchema()})},this._loadSchema=()=>this.loading?this.loading:(this.loading=(0,r.C)(this,null,function*(){if(c.roots.transport){this.root=c.roots.transport,this.loading=Promise.resolve();return}yield(0,i.y)(),yield n.e("99457").then(n.bind(n,415037)),this.root=c.roots.transport,this.loading=Promise.resolve()}),this.loading)}static get instance(){return e.__instance?e.__instance:e.__instance=new e}static addRelation(t,n){e.relation[t]=n,e.relation[n]=t}static setRelation(t){e.relation=(0,r.i)((0,r.i)({},e.relation),null!=t?t:{})}getType(t){let n=t.replace(o.nl,""),r=this.cachedType[n];if(r)return r;try{let r=[e.relation[t],e.relation[n],n,t].filter(e=>e),i=r.map(t=>e.typeHintPrefix.map(e=>`${e}.${t}`)).reduce((e,t)=>e.concat(t)).concat(r);u("search types",i);let o=i.reduce((e,t)=>e&&"function"==typeof e?e:t.split(".").reduce((e,t)=>null==e?void 0:e[t],this.root),void 0);if("function"!=typeof o)throw Error("cannot find type");return o}catch(e){return u(`no current schema[${String(n)}]`),null}}decode(e,t){return(0,r.C)(this,null,function*(){var n,r,i,o,a,s,l,c,u;if(yield this._loadSchema(),t)return this._decode(e,t);let[h,d]=yield this._decodeFrameOrResponse(e),f=null!=(o=null!=(i=null==(r=null==(n=null==d?void 0:d.headers)?void 0:n.find(e=>"im-cursor"===e.key))?void 0:r.value)?i:h.cursor)?o:"",p=null!=(c=null!=(l=null==(s=null==(a=null==d?void 0:d.headers)?void 0:a.find(e=>"im-internal_ext"===e.key))?void 0:s.value)?l:h.internal_ext)?c:"";return{response:h,frame:d,needAck:null!=(u=h.need_ack)&&u,cursor:f,internalExt:p}})}encode(e,t){return(0,r.C)(this,null,function*(){return yield this._loadSchema(),this._encode(e,t)})}ack(e,t){return(0,r.C)(this,null,function*(){var n,r,i,s;let l=null!=(s=null!=(i=null==(r=null==(n=e.headers)?void 0:n.find(e=>"im-internal_ext"===e.key))?void 0:r.value)?i:t.internal_ext)?s:"";return yield this.encode({payload_type:o.AG.Ack,payload:(0,a.l)(l),LogID:e.LogID},"PushFrame")})}ping(){return this.encode({payload_type:o.AG.Hb},"PushFrame")}_decodeFrameOrResponse(e){return(0,r.C)(this,null,function*(){try{let t=this._decode(e,"PushFrame"),n=yield this._extractResponse(t);return[this._decode(n,"Response"),t]}catch(t){return[this._decode(e,"Response")]}})}_extractResponse(t){return(0,r.C)(this,null,function*(){var n;return(null==(n=t.headers)?void 0:n.some(e=>"compress_type"===e.key&&"gzip"===e.value))?yield e.unGzip(t.payload):t.payload})}_decode(e,t){let n=this.getType(t);if(!n)return;let r=n.decode(e);return u("decoded success",t,r),h("decoded success",e),r}_encode(e,t){let n=this.getType(t);if(!n)return;let r=n.encode(e).finish();return u("encoded success",t,e),h("encoded success",r),r}};d.VERSION='"2023.17.9"',d.relation={},d.typeHintPrefix=["webcast.im"],d.unGzip=(...e)=>(0,r.C)(d,null,function*(){return!d.pako&&(d.pako=n.e("41820").then(n.bind(n,675162))),d.pako.then(t=>t.ungzip(...e))});var f=d},97256:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});let r=function(e=1e3){return new Promise(t=>{"undefined"!=typeof window?window.setTimeout(()=>{t()},e):t()})}},340275:function(e,t,n){"use strict";n.d(t,{G:function(){return f},d:function(){return d}});var r=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&c(e,n,t[n]);if(a)for(var n of a(t))l.call(t,n)&&c(e,n,t[n]);return e},h=(e,t)=>i(e,o(t));function d(e){return e.reduce((e,{key:t,value:n})=>u(u({},e),t?{[t]:n}:{}),{})}function f(e){return e.trim().split(/[\r\n]+/).map(e=>{let[t,...n]=e.split(": ");return[t,n.join(": ")]}).reduce((e,[t,n])=>h(u({},e),{[t]:n}),{})}},226754:function(e,t,n){"use strict";n.d(t,{P:function(){return r}});let r=e=>Object.keys(e).reduce((t,n)=>{var r;return`${t}${t?"&":""}${n}=${null!=(r=e[n])?r:""}`},"")},730062:function(e){"use strict";e.exports=function(e,t,n){var r=n||8192,i=r>>>1,o=null,a=r;return function(n){if(n<1||n>i)return e(n);a+n>r&&(o=e(r),a=0);var s=t.call(o,a,a+=n);return 7&a&&(a=(7|a)+1),s}}},721615:function(e,t){"use strict";var n,r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=function(){return{}};function o(e){return"object"==typeof e&&null!==e}var a=Object.prototype;function s(e){return"number"==typeof e}var l=function(e,t){if(n=e,"[object Array]"!==a.toString.call(n))return e;var n,r=e.indexOf(t);if(r>=0){var i=e.slice();return i.splice(r,1),i}return e},c=function(e,t,n){var r=0;return -1===n?i:function(){if(e()){r&&clearTimeout(r),r=0;return}0===r&&(r=setTimeout(t,n))}},u=function(e,t){var n=[];try{n=t.reduce(function(t,n){try{var r=n(e);"function"==typeof r&&t.push(r)}catch(e){}return t},[])}catch(e){}return function(e){return u(e,n)}},h=function(e){void 0===e&&(e=3e5);var t,n=[],r=[],i=!1,o=c(function(){return!!n.length},function(){i=!0,t&&t[0](),r.forEach(function(e){return e()}),r.length=0,t=void 0},e),a=function(e){n=l(n,e),i||o()};return{next:function(e){return u(e,n)},complete:function(e){r.push(e)},attach:function(e,n){t=[e,n]},subscribe:function(e){if(i)throw Error("Observer is closed");return n.push(e),t&&t[1]&&t[1](e),o(),function(){return a(e)}},unsubscribe:a}},d=function(e,t,n){var r=h(n);try{e(r.next,r.attach),t&&r.complete(t)}catch(e){}return[r.subscribe,r.unsubscribe]};function f(e,t,n){var r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t,2),i=r[0],o=r[1],a=e.privateSubject||{};return!a[i]&&(a[i]=d(o,function(){a[i]=void 0},n)),a[i]}function p(){if("object"==typeof window&&o(window))return window}var v=function(e){var t;return{pid:e.pid,view_id:e.viewId,url:(t=p()&&p()&&window.location)?t.href:""}},g=function(e){var t=v(e.config());return t.context=e.context?e.context.toString():{},t},m="view_0",y=function(e){return function(t,n){var i=g(e),o=function(n){var o;n.viewId&&n.viewId!==(null===(o=e.config())||void 0===o?void 0:o.viewId)&&(t(i),i=r(r({},g(e)),v(n)))};e.on("beforeConfig",o),n(function(){e.off("beforeConfig",o)})}},_=function(e,t,n,r){return void 0===r&&(r=!1),e.addEventListener(t,n,r),function(){e.removeEventListener(t,n,r)}},b="heatmap",w=function(e){var t,n=RegExp(e,"i");return(null===(t=n.test)||void 0===t?!!void 0:!!t.call(n,location.href))||!1},S=function(e){return e.filter(function(e){return w(e.monitor_url)})},E=function(e,t){var n;return void 0===t&&(t=200),function(r){var i=Date.now();(!n||i-n>t)&&(e(r),n=i)}},k=function(e,t){var n;return void 0===t&&(t=800),function(r){void 0!==n&&clearTimeout(n),n=setTimeout(function(){e(r)},t)}},T=function(e){void 0===e&&(e=window.location);var t=e.search,n=e.hash,r=n.indexOf("?");return!t.length&&r>0?n.slice(r):t},x=function(e){var t=e;if(t.id)return'//*[@id="'+t.id+'"]';for(var n=[];t&&t.nodeType===Node.ELEMENT_NODE;){for(var r=0,i=!1,o=t.previousSibling;o;)o.nodeType!==Node.DOCUMENT_TYPE_NODE&&o.nodeName===t.nodeName&&r++,o=o.previousSibling;for(o=t.nextSibling;o;){if(o.nodeName===t.nodeName){i=!0;break}o=o.nextSibling}var a=t.prefix?t.prefix+":":"",s=r||i?"["+(r+1)+"]":"";n.unshift(a+t.localName+s),t=t.parentNode}return n.length?"/"+n.join("/"):""},C=function(e,t){var n,r,i,o=t.trackRootScroll,a=e.target;try{i=a?x(a):x(e),a&&o&&a.nodeType===Node.DOCUMENT_NODE&&(i="/html",a=document.documentElement)}catch(e){i="<unknown>"}if(0===i.length)return;var s=null!==(n=null==a?void 0:a.scrollTop)&&void 0!==n?n:0,l=null!==(r=null==a?void 0:a.scrollLeft)&&void 0!==r?r:0;if(0!==s||!(l>0))return{xpath:i,start_y:Math.round(s),end_y:a?Math.round((a.clientHeight||0)+s):0}},I=function(e){try{r=e.target?x(e.target):x(e)}catch(e){r="<unknown>"}if(0!==r.length){var t,n,r,i=e.target.getBoundingClientRect(),o=i.left,a=i.top;return s(e.pageX)&&s(e.pageY)?{xpath:r,offset_x:null!==(t=Math.round(e.pageX-document.documentElement.scrollLeft-o))&&void 0!==t?t:0,offset_y:null!==(n=Math.round(e.pageY-document.documentElement.scrollTop-a))&&void 0!==n?n:0}:void 0}},O=function(e,t){var n=[],r=[],i=function(t,r){t&&t.xpath&&n.forEach(function(n){var i;e({ev_type:"heat_map",payload:((i={type:"post",name:"HeatmapMonitor",heat_map_id:n.heat_map_id})[r]=t,i)})})},a=function(){["click","mousemove"].forEach(function(e){r.push(_(window,e,E(function(t){i(I(t),e)}),!1))});r.push(_(window,"mouseover",k(function(e){i(I(e),"mouseover")}),!1))},s=function(){var e="scroll";r.push(_(window,e,E(function(n){i(C(n,t),e)}),!0))};return{collectEvent:function(e){n=e,!function(e){var t=p(),n=function(){if("object"==typeof document&&o(document))return document}();if(t&&n){if("complete"===n.readyState){e();return}_(t,"load",function(){setTimeout(function(){e()},0)},!1)}}(function(){a(),s()})},stopCollect:function(){r.forEach(function(e){return e()}),r=[],n=[]}}},A=function(e,t,n){if(!!window&&!!document){var r,i=function(){window.setTimeout(function(){window.drawHeatmap&&window.drawHeatmap(e,t)},0)};window.drawHeatmap&&i();var o=document.createElement("script");o.src=n,null===(r=document.head)||void 0===r||r.appendChild(o),o.onload=i}},P=function(e,t,n,r,i){var o=t.open_list,a=O(n,e),s=a.collectEvent,l=a.stopCollect,c=S(o);c.length>0&&s(c);var u=function(){l(),setTimeout(function(){var e=S(o);e.length>0&&s(e)},100)},h=r();i.push(h[0](function(){u()})),i.push(function(){l()})};t.heatmap=function(e){return void 0===e&&(e={trackRootScroll:!1}),{name:b,setup:function(t){t.on("start",function(){var n,r=null===(n=t.config())||void 0===n?void 0:n.plugins[b];if(!r)return;if(-1!==T().indexOf("slardar_heatmap_draw")){A(r,function(){return f(t,[m,y(t)])},t.config().pluginPathPrefix+"/heatmap-draw.js");return}var i=r.open_list,o=void 0===i?[]:i;if(!!o.length){var a=[];P(e,{open_list:o},function(e){return t.report(e)},function(){return f(t,[m,y(t)])},a),t.destroyAgent.set(b,"heatmap",a)}})}}}},141024:function(e,t,n){"use strict";n.d(t,{C:function(){return c},i:function(){return l}});var r=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&s(e,n,t[n]);if(i)for(var n of i(t))a.call(t,n)&&s(e,n,t[n]);return e},c=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(e){i(e)}},a=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())})},352985:function(e,t,n){"use strict";n.d(t,{G:function(){return f},d:function(){return d}});var r=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&c(e,n,t[n]);if(a)for(var n of a(t))l.call(t,n)&&c(e,n,t[n]);return e},h=(e,t)=>i(e,o(t));function d(e){return e.reduce((e,{key:t,value:n})=>u(u({},e),t?{[t]:n}:{}),{})}function f(e){return e.trim().split(/[\r\n]+/).map(e=>{let[t,...n]=e.split(": ");return[t,n.join(": ")]}).reduce((e,[t,n])=>h(u({},e),{[t]:n}),{})}},688074:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});let r=()=>({device_platform:"web",cookie_enabled:window.navigator.cookieEnabled,screen_width:window.screen.width,screen_height:window.screen.height,browser_language:window.navigator.language,browser_platform:window.navigator.platform,browser_name:window.navigator.appCodeName,browser_version:window.navigator.appVersion,browser_online:window.navigator.onLine,tz_name:Intl.DateTimeFormat().resolvedOptions().timeZone})},812636:function(e,t,n){"use strict";n.d(t,{y:function(){return r}});let r=()=>new Promise(e=>{if("undefined"!=typeof window||"undefined"!=typeof window){window.setTimeout(e,0);return}e()})},389462:function(e,t,n){"use strict";let r=n(375064),i=/^[\da-fA-F]+$/,o=/^\d+$/,a=new WeakMap;function s(e){e=e.Parser.acorn||e;let t=a.get(e);if(!t){let n=e.tokTypes,r=e.TokContext,i=e.TokenType,o=new r("<tag",!1),s=new r("</tag",!1),l=new r("<tag>...</tag>",!0,!0),c={jsxName:new i("jsxName"),jsxText:new i("jsxText",{beforeExpr:!0}),jsxTagStart:new i("jsxTagStart",{startsExpr:!0}),jsxTagEnd:new i("jsxTagEnd")};c.jsxTagStart.updateContext=function(){this.context.push(l),this.context.push(o),this.exprAllowed=!1},c.jsxTagEnd.updateContext=function(e){let t=this.context.pop();t===o&&e===n.slash||t===s?(this.context.pop(),this.exprAllowed=this.curContext()===l):this.exprAllowed=!0},t={tokContexts:{tc_oTag:o,tc_cTag:s,tc_expr:l},tokTypes:c},a.set(e,t)}return t}function l(e){return e?"JSXIdentifier"===e.type?e.name:"JSXNamespacedName"===e.type?e.namespace.name+":"+e.name.name:"JSXMemberExpression"===e.type?l(e.object)+"."+l(e.property):void 0:e}e.exports=function(e){return e=e||{},function(t){return function(e,t){let a=t.acorn||n(261830),c=s(a),u=a.tokTypes,h=c.tokTypes,d=a.tokContexts,f=c.tokContexts.tc_oTag,p=c.tokContexts.tc_cTag,v=c.tokContexts.tc_expr,g=a.isNewLine,m=a.isIdentifierStart,y=a.isIdentifierChar;return class extends t{static get acornJsx(){return c}jsx_readToken(){let e="",t=this.pos;for(;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated JSX contents");let n=this.input.charCodeAt(this.pos);switch(n){case 60:case 123:if(this.pos===this.start){if(60===n&&this.exprAllowed)return++this.pos,this.finishToken(h.jsxTagStart);return this.getTokenFromCode(n)}return e+=this.input.slice(t,this.pos),this.finishToken(h.jsxText,e);case 38:e+=this.input.slice(t,this.pos)+this.jsx_readEntity(),t=this.pos;break;case 62:case 125:this.raise(this.pos,"Unexpected token `"+this.input[this.pos]+"`. Did you mean `"+(62===n?"&gt;":"&rbrace;")+'` or `{"'+this.input[this.pos]+'"}`?');default:g(n)?(e+=this.input.slice(t,this.pos)+this.jsx_readNewLine(!0),t=this.pos):++this.pos}}}jsx_readNewLine(e){let t,n=this.input.charCodeAt(this.pos);return++this.pos,13===n&&10===this.input.charCodeAt(this.pos)?(++this.pos,t=e?"\n":"\r\n"):t=String.fromCharCode(n),this.options.locations&&(++this.curLine,this.lineStart=this.pos),t}jsx_readString(e){let t="",n=++this.pos;for(;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");let r=this.input.charCodeAt(this.pos);if(r===e)break;38===r?(t+=this.input.slice(n,this.pos)+this.jsx_readEntity(),n=this.pos):g(r)?(t+=this.input.slice(n,this.pos)+this.jsx_readNewLine(!1),n=this.pos):++this.pos}return t+=this.input.slice(n,this.pos++),this.finishToken(u.string,t)}jsx_readEntity(){let e="",t=0,n,a=this.input[this.pos];"&"!==a&&this.raise(this.pos,"Entity must start with an ampersand");let s=++this.pos;for(;this.pos<this.input.length&&t++<10;){if(";"===(a=this.input[this.pos++])){"#"===e[0]?"x"===e[1]?(e=e.substr(2),i.test(e)&&(n=String.fromCharCode(parseInt(e,16)))):(e=e.substr(1),o.test(e)&&(n=String.fromCharCode(parseInt(e,10)))):n=r[e];break}e+=a}return n?n:(this.pos=s,"&")}jsx_readWord(){let e,t=this.pos;do e=this.input.charCodeAt(++this.pos);while(y(e)||45===e);return this.finishToken(h.jsxName,this.input.slice(t,this.pos))}jsx_parseIdentifier(){let e=this.startNode();return this.type===h.jsxName?e.name=this.value:this.type.keyword?e.name=this.type.keyword:this.unexpected(),this.next(),this.finishNode(e,"JSXIdentifier")}jsx_parseNamespacedName(){let t=this.start,n=this.startLoc,r=this.jsx_parseIdentifier();if(!e.allowNamespaces||!this.eat(u.colon))return r;var i=this.startNodeAt(t,n);return i.namespace=r,i.name=this.jsx_parseIdentifier(),this.finishNode(i,"JSXNamespacedName")}jsx_parseElementName(){if(this.type===h.jsxTagEnd)return"";let t=this.start,n=this.startLoc,r=this.jsx_parseNamespacedName();for(this.type===u.dot&&"JSXNamespacedName"===r.type&&!e.allowNamespacedObjects&&this.unexpected();this.eat(u.dot);){let e=this.startNodeAt(t,n);e.object=r,e.property=this.jsx_parseIdentifier(),r=this.finishNode(e,"JSXMemberExpression")}return r}jsx_parseAttributeValue(){switch(this.type){case u.braceL:let e=this.jsx_parseExpressionContainer();return"JSXEmptyExpression"===e.expression.type&&this.raise(e.start,"JSX attributes must only be assigned a non-empty expression"),e;case h.jsxTagStart:case u.string:return this.parseExprAtom();default:this.raise(this.start,"JSX value should be either an expression or a quoted JSX text")}}jsx_parseEmptyExpression(){let e=this.startNodeAt(this.lastTokEnd,this.lastTokEndLoc);return this.finishNodeAt(e,"JSXEmptyExpression",this.start,this.startLoc)}jsx_parseExpressionContainer(){let e=this.startNode();return this.next(),e.expression=this.type===u.braceR?this.jsx_parseEmptyExpression():this.parseExpression(),this.expect(u.braceR),this.finishNode(e,"JSXExpressionContainer")}jsx_parseAttribute(){let e=this.startNode();return this.eat(u.braceL)?(this.expect(u.ellipsis),e.argument=this.parseMaybeAssign(),this.expect(u.braceR),this.finishNode(e,"JSXSpreadAttribute")):(e.name=this.jsx_parseNamespacedName(),e.value=this.eat(u.eq)?this.jsx_parseAttributeValue():null,this.finishNode(e,"JSXAttribute"))}jsx_parseOpeningElementAt(e,t){let n=this.startNodeAt(e,t);n.attributes=[];let r=this.jsx_parseElementName();for(r&&(n.name=r);this.type!==u.slash&&this.type!==h.jsxTagEnd;)n.attributes.push(this.jsx_parseAttribute());return n.selfClosing=this.eat(u.slash),this.expect(h.jsxTagEnd),this.finishNode(n,r?"JSXOpeningElement":"JSXOpeningFragment")}jsx_parseClosingElementAt(e,t){let n=this.startNodeAt(e,t),r=this.jsx_parseElementName();return r&&(n.name=r),this.expect(h.jsxTagEnd),this.finishNode(n,r?"JSXClosingElement":"JSXClosingFragment")}jsx_parseElementAt(e,t){let n=this.startNodeAt(e,t),r=[],i=this.jsx_parseOpeningElementAt(e,t),o=null;if(!i.selfClosing){n:for(;;)switch(this.type){case h.jsxTagStart:if(e=this.start,t=this.startLoc,this.next(),this.eat(u.slash)){o=this.jsx_parseClosingElementAt(e,t);break n}r.push(this.jsx_parseElementAt(e,t));break;case h.jsxText:r.push(this.parseExprAtom());break;case u.braceL:r.push(this.jsx_parseExpressionContainer());break;default:this.unexpected()}l(o.name)!==l(i.name)&&this.raise(o.start,"Expected corresponding JSX closing tag for <"+l(i.name)+">")}let a=i.name?"Element":"Fragment";return n["opening"+a]=i,n["closing"+a]=o,n.children=r,this.type===u.relational&&"<"===this.value&&this.raise(this.start,"Adjacent JSX elements must be wrapped in an enclosing tag"),this.finishNode(n,"JSX"+a)}jsx_parseText(){let e=this.parseLiteral(this.value);return e.type="JSXText",e}jsx_parseElement(){let e=this.start,t=this.startLoc;return this.next(),this.jsx_parseElementAt(e,t)}parseExprAtom(e){return this.type===h.jsxText?this.jsx_parseText():this.type===h.jsxTagStart?this.jsx_parseElement():super.parseExprAtom(e)}readToken(e){let t=this.curContext();if(t===v)return this.jsx_readToken();if(t===f||t===p){if(m(e))return this.jsx_readWord();if(62==e)return++this.pos,this.finishToken(h.jsxTagEnd);if((34===e||39===e)&&t==f)return this.jsx_readString(e)}return 60===e&&this.exprAllowed&&33!==this.input.charCodeAt(this.pos+1)?(++this.pos,this.finishToken(h.jsxTagStart)):super.readToken(e)}updateContext(e){if(this.type==u.braceL){var t=this.curContext();t==f?this.context.push(d.b_expr):t==v?this.context.push(d.b_tmpl):super.updateContext(e),this.exprAllowed=!0}else{if(this.type!==u.slash||e!==h.jsxTagStart)return super.updateContext(e);this.context.length-=2,this.context.push(p),this.exprAllowed=!1}}}}({allowNamespaces:!1!==e.allowNamespaces,allowNamespacedObjects:!!e.allowNamespacedObjects},t)}},Object.defineProperty(e.exports,"tokTypes",{get:function(){return s(n(261830)).tokTypes},configurable:!0,enumerable:!0})},983096:function(e,t,n){"use strict";var r=n(88648),i=n(336279),o=n(526361),a=n(882611);t.Z=function(e){a.Z&&(0,o.mf)(e);var t=(0,i.Z)(e);(0,r.useEffect)(function(){return function(){t.current()}},[])}},833789:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var r=n(526361),i=n(883539);function o(e,t){var n;return i.Z?e?n=(0,r.mf)(e)?e():"current"in e?e.current:e:t:void 0}},883539:function(e,t){"use strict";var n=!!("undefined"!=typeof window&&window.document&&window.document.createElement);t.Z=n},882611:function(e,t){"use strict";t.Z=!1},275982:function(e){var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3){for(var i=e[r]<<16|e[r+1]<<8|e[r+2],o=0;o<4;o++)8*r+6*o<=8*e.length?n.push(t.charAt(i>>>6*(3-o)&63)):n.push("=")}return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}},e.exports=n},696975:function(e,t,n){var r,i,o;r=0,i=function(e){var t,n,r,i,o,a,s,l,c,u,h,d,f,p;return t=e.lib.BlockCipher,n=e.algo,r=[],i=[],o=[],a=[],s=[],l=[],c=[],u=[],h=[],d=[],function(){for(var e=[],t=0;t<256;t++)t<128?e[t]=t<<1:e[t]=t<<1^283;for(var n=0,f=0,t=0;t<256;t++){var p=f^f<<1^f<<2^f<<3^f<<4;p=p>>>8^255&p^99,r[n]=p,i[p]=n;var v=e[n],g=e[v],m=e[g],y=257*e[p]^16843008*p;o[n]=y<<24|y>>>8,a[n]=y<<16|y>>>16,s[n]=y<<8|y>>>24,l[n]=y;var y=16843009*m^65537*g^257*v^16843008*n;c[p]=y<<24|y>>>8,u[p]=y<<16|y>>>16,h[p]=y<<8|y>>>24,d[p]=y,n?(n=v^e[e[e[m^v]]],f^=e[e[f]]):n=f=1}}(),f=[0,1,2,4,8,16,32,64,128,27,54],p=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e,t=this._keyPriorReset=this._key,n=t.words,i=t.sigBytes/4,o=((this._nRounds=i+6)+1)*4,a=this._keySchedule=[],s=0;s<o;s++)s<i?a[s]=n[s]:(e=a[s-1],s%i?i>6&&s%i==4&&(e=r[e>>>24]<<24|r[e>>>16&255]<<16|r[e>>>8&255]<<8|r[255&e]):e=(r[(e=e<<8|e>>>24)>>>24]<<24|r[e>>>16&255]<<16|r[e>>>8&255]<<8|r[255&e])^f[s/i|0]<<24,a[s]=a[s-i]^e);for(var l=this._invKeySchedule=[],p=0;p<o;p++){var s=o-p;if(p%4)var e=a[s];else var e=a[s-4];p<4||s<=4?l[p]=e:l[p]=c[r[e>>>24]]^u[r[e>>>16&255]]^h[r[e>>>8&255]]^d[r[255&e]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,a,s,l,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,c,u,h,d,i);var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,a,s){for(var l=this._nRounds,c=e[t]^n[0],u=e[t+1]^n[1],h=e[t+2]^n[2],d=e[t+3]^n[3],f=4,p=1;p<l;p++){var v=r[c>>>24]^i[u>>>16&255]^o[h>>>8&255]^a[255&d]^n[f++],g=r[u>>>24]^i[h>>>16&255]^o[d>>>8&255]^a[255&c]^n[f++],m=r[h>>>24]^i[d>>>16&255]^o[c>>>8&255]^a[255&u]^n[f++],y=r[d>>>24]^i[c>>>16&255]^o[u>>>8&255]^a[255&h]^n[f++];c=v,u=g,h=m,d=y}var v=(s[c>>>24]<<24|s[u>>>16&255]<<16|s[h>>>8&255]<<8|s[255&d])^n[f++],g=(s[u>>>24]<<24|s[h>>>16&255]<<16|s[d>>>8&255]<<8|s[255&c])^n[f++],m=(s[h>>>24]<<24|s[d>>>16&255]<<16|s[c>>>8&255]<<8|s[255&u])^n[f++],y=(s[d>>>24]<<24|s[c>>>16&255]<<16|s[u>>>8&255]<<8|s[255&h])^n[f++];e[t]=v,e[t+1]=g,e[t+2]=m,e[t+3]=y},keySize:8}),e.AES=t._createHelper(p),e.AES},e.exports=i(n(616131),n(412410),n(121694),n(51890),n(521276))},16531:function(e,t,n){var r,i;r=0,i=function(e){var t,n,r,i,o,a;return n=(t=e.lib).WordArray,r=t.Hasher,i=e.algo,o=[],a=i.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],s=n[3],l=n[4],c=0;c<80;c++){if(c<16)o[c]=0|e[t+c];else{var u=o[c-3]^o[c-8]^o[c-14]^o[c-16];o[c]=u<<1|u>>>31}var h=(r<<5|r>>>27)+l+o[c];c<20?h+=(i&a|~i&s)+1518500249:c<40?h+=(i^a^s)+1859775393:c<60?h+=(i&a|i&s|a&s)-1894007588:h+=(i^a^s)-899497514,l=s,s=a,a=i<<30|i>>>2,i=r,r=h}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),t[(r+64>>>9<<4)+15]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),e.SHA1=r._createHelper(a),e.HmacSHA1=r._createHmacHelper(a),e.SHA1},e.exports=i(n(616131))},868604:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultOptions=function(){return n},t.setDefaultOptions=function(e){n=e};var n={}},319655:function(e,t,n){"use strict";var r=n(582586).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(923354)),o=r(n(439858)),a=r(n(302512)),s=r(n(760690)),l=r(n(288495)),c=r(n(962750)),u=r(n(241677)),h={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"};function d(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;return 0===o?n+String(i):n+String(i)+(t||"")+(0,c.default)(o,2)}function f(e,t){return e%60==0?(e>0?"-":"+")+(0,c.default)(Math.abs(e)/60,2):p(e,t)}function p(e,t){var n=Math.abs(e);return(e>0?"-":"+")+(0,c.default)(Math.floor(n/60),2)+(t||"")+(0,c.default)(n%60,2)}t.default={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear();return n.ordinalNumber(r>0?r:1-r,{unit:"year"})}return u.default.y(e,t)},Y:function(e,t,n,r){var i=(0,l.default)(e,r),o=i>0?i:1-i;if("YY"===t){var a=o%100;return(0,c.default)(a,2)}return"Yo"===t?n.ordinalNumber(o,{unit:"year"}):(0,c.default)(o,t.length)},R:function(e,t){var n=(0,a.default)(e);return(0,c.default)(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return(0,c.default)(n,t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return(0,c.default)(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return(0,c.default)(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return u.default.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return(0,c.default)(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=(0,s.default)(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):(0,c.default)(i,t.length)},I:function(e,t,n){var r=(0,o.default)(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):(0,c.default)(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):u.default.d(e,t)},D:function(e,t,n){var r=(0,i.default)(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):(0,c.default)(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return(0,c.default)(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return(0,c.default)(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return(0,c.default)(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?h.noon:0===i?h.midnight:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?h.evening:i>=12?h.afternoon:i>=4?h.morning:h.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return u.default.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):u.default.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):(0,c.default)(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return(0===r&&(r=24),"ko"===t)?n.ordinalNumber(r,{unit:"hour"}):(0,c.default)(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):u.default.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):u.default.s(e,t)},S:function(e,t){return u.default.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return f(i);case"XXXX":case"XX":return p(i);default:return p(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return f(i);case"xxxx":case"xx":return p(i);default:return p(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+d(i,":");default:return"GMT"+p(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+d(i,":");default:return"GMT"+p(i,":")}},t:function(e,t,n,r){var i=Math.floor((r._originalDate||e).getTime()/1e3);return(0,c.default)(i,t.length)},T:function(e,t,n,r){var i=(r._originalDate||e).getTime();return(0,c.default)(i,t.length)}},e.exports=t.default},122614:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},r=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};t.default={p:r,P:function(e,t){var i,o=e.match(/(P+)(p+)?/)||[],a=o[1],s=o[2];if(!s)return n(e,t);switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",n(a,t)).replace("{{time}}",r(s,t))}},e.exports=t.default},753356:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()};e.exports=t.default},732896:function(e,t,n){"use strict";var r=n(426271);t.Z={y:function(e,t){var n=e.getUTCFullYear(),i=n>0?n:1-n;return(0,r.Z)("yy"===t?i%100:i,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):(0,r.Z)(n+1,2)},d:function(e,t){return(0,r.Z)(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return(0,r.Z)(e.getUTCHours()%12||12,t.length)},H:function(e,t){return(0,r.Z)(e.getUTCHours(),t.length)},m:function(e,t){return(0,r.Z)(e.getUTCMinutes(),t.length)},s:function(e,t){return(0,r.Z)(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,i=Math.floor(e.getUTCMilliseconds()*Math.pow(10,n-3));return(0,r.Z)(i,t.length)}}},327653:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(401425),i=n(886969),o=n(843541),a=n(699975);function s(e){(0,a.Z)(1,arguments);var t=(0,r.Z)(e);return Math.round(((0,i.Z)(t).getTime()-(0,o.Z)(t).getTime())/6048e5)+1}},767674:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(401425),i=n(699975),o=n(886969);function a(e){(0,i.Z)(1,arguments);var t=(0,r.Z)(e),n=t.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(n+1,0,4),a.setUTCHours(0,0,0,0);var s=(0,o.Z)(a),l=new Date(0);l.setUTCFullYear(n,0,4),l.setUTCHours(0,0,0,0);var c=(0,o.Z)(l);return t.getTime()>=s.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}},699975:function(e,t,n){"use strict";function r(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:function(){return r}})},692124:function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:function(){return r}})},215352:function(e,t,n){"use strict";n.d(t,{qk:function(){return o},vh:function(){return i},yJ:function(){return r}});var r=6e4,i=36e5,o=1e3},38470:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(468288),i=n(840044),o=n(401425),a=n(931891),s=n(558740),l=n(619293),c=n(322903),u=n(692124),h=n(699975),d=n(65176),f=n(966301),p=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,v=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,g=/^'([^]*?)'?$/,m=/''/g,y=/[a-zA-Z]/;function _(e,t,n){(0,h.Z)(2,arguments);var _,b,w,S,E,k,T,x,C,I,O,A,P,R,D,L,M,z,N=String(t),j=(0,d.j)(),B=null!==(_=null!==(b=null==n?void 0:n.locale)&&void 0!==b?b:j.locale)&&void 0!==_?_:f.Z,U=(0,u.Z)(null!==(w=null!==(S=null!==(E=null!==(k=null==n?void 0:n.firstWeekContainsDate)&&void 0!==k?k:null==n?void 0:null===(T=n.locale)||void 0===T?void 0:null===(x=T.options)||void 0===x?void 0:x.firstWeekContainsDate)&&void 0!==E?E:j.firstWeekContainsDate)&&void 0!==S?S:null===(C=j.locale)||void 0===C?void 0:null===(I=C.options)||void 0===I?void 0:I.firstWeekContainsDate)&&void 0!==w?w:1);if(!(U>=1&&U<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var F=(0,u.Z)(null!==(O=null!==(A=null!==(P=null!==(R=null==n?void 0:n.weekStartsOn)&&void 0!==R?R:null==n?void 0:null===(D=n.locale)||void 0===D?void 0:null===(L=D.options)||void 0===L?void 0:L.weekStartsOn)&&void 0!==P?P:j.weekStartsOn)&&void 0!==A?A:null===(M=j.locale)||void 0===M?void 0:null===(z=M.options)||void 0===z?void 0:z.weekStartsOn)&&void 0!==O?O:0);if(!(F>=0&&F<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!B.localize)throw RangeError("locale must contain localize property");if(!B.formatLong)throw RangeError("locale must contain formatLong property");var G=(0,o.Z)(e);if(!(0,r.Z)(G))throw RangeError("Invalid time value");var V=(0,l.Z)(G),H=(0,i.Z)(G,V),Z={firstWeekContainsDate:U,weekStartsOn:F,locale:B,_originalDate:G};return N.match(v).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,s.Z[t])(e,B.formatLong):e}).join("").match(p).map(function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return function(e){var t=e.match(g);return t?t[1].replace(m,"'"):e}(r);var o=a.Z[i];if(o)return!(null!=n&&n.useAdditionalWeekYearTokens)&&(0,c.Do)(r)&&(0,c.qp)(r,t,String(e)),!(null!=n&&n.useAdditionalDayOfYearTokens)&&(0,c.Iu)(r)&&(0,c.qp)(r,t,String(e)),o(H,r,B.localize,Z);if(i.match(y))throw RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r}).join("")}},486203:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(814145),i=n(699975);function o(e){return(0,i.Z)(1,arguments),e instanceof Date||"object"===(0,r.Z)(e)&&"[object Date]"===Object.prototype.toString.call(e)}},907718:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(401425),i=n(699975);function o(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e),o=(0,r.Z)(t);return n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()}},468288:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(486203),i=n(401425),o=n(699975);function a(e){return(0,o.Z)(1,arguments),(!!(0,r.Z)(e)||"number"==typeof e)&&!isNaN(Number((0,i.Z)(e)))}},590945:function(e,t,n){"use strict";var r=n(895274),i=n(896294),o=n(43724),a=n(786853),s=n(740424),l={code:"en-US",formatDistance:r.Z,formatLong:i.Z,formatRelative:o.Z,localize:a.Z,match:s.Z,options:{weekStartsOn:0,firstWeekContainsDate:1}};t.Z=l},663094:function(e,t,n){"use strict";var r=n(197854);function i(e,t,n){var i="eeee p";return(0,r.Z)(e,t,n)?i:e.getTime()>t.getTime()?"'下个'"+i:"'上个'"+i}var o={lastWeek:i,yesterday:"'昨天' p",today:"'今天' p",tomorrow:"'明天' p",nextWeek:i,other:"PP p"};t.Z=function(e,t,n,r){var i=o[e];return"function"==typeof i?i(t,n,r):i}},150908:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r=n(874838),i=n(758698),o=n(569395),a=n(812523),s=n(669263),l=n(344137),c=n(46595),u=n(279658),h=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,l.Z)((0,o.Z)(e),"priority",80),(0,l.Z)((0,o.Z)(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return(0,i.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours((0,u.RQ)(n),0,0,0),e}}]),n}(c._)},709315:function(e,t,n){"use strict";n.d(t,{F:function(){return d}});var r=n(874838),i=n(758698),o=n(569395),a=n(812523),s=n(669263),l=n(344137),c=n(46595),u=n(275082),h=n(279658),d=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,l.Z)((0,o.Z)(e),"priority",10),(0,l.Z)((0,o.Z)(e),"incompatibleTokens",["t","T","x"]),e}return(0,i.Z)(n,[{key:"parse",value:function(e,t){switch(t){case"X":return(0,h.DA)(u.s.basicOptionalMinutes,e);case"XX":return(0,h.DA)(u.s.basic,e);case"XXXX":return(0,h.DA)(u.s.basicOptionalSeconds,e);case"XXXXX":return(0,h.DA)(u.s.extendedOptionalSeconds,e);default:return(0,h.DA)(u.s.extended,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(c._)},462370:function(e,t,n){"use strict";n.d(t,{T:function(){return h}});var r=n(874838),i=n(758698),o=n(569395),a=n(812523),s=n(669263),l=n(344137),c=n(46595),u=n(279658),h=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,l.Z)((0,o.Z)(e),"priority",20),(0,l.Z)((0,o.Z)(e),"incompatibleTokens","*"),e}return(0,i.Z)(n,[{key:"parse",value:function(e){return(0,u.n8)(e)}},{key:"set",value:function(e,t,n){return[new Date(n),{timestampIsSet:!0}]}}]),n}(c._)},662796:function(e,t,n){"use strict";n.d(t,{q:function(){return h}});var r=n(874838),i=n(758698),o=n(569395),a=n(812523),s=n(669263),l=n(344137),c=n(46595),u=n(279658),h=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,l.Z)((0,o.Z)(e),"priority",130),(0,l.Z)((0,o.Z)(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return(0,i.Z)(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return(0,u.jg)((0,u.ZL)(4,e),r);case"yo":return(0,u.jg)(n.ordinalNumber(e,{unit:"year"}),r);default:return(0,u.jg)((0,u.ZL)(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n){var r=e.getUTCFullYear();if(n.isTwoDigitYear){var i=(0,u.WG)(n.year,r);return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}var o="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(c._)},660848:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(692124),i=n(401425),o=n(699975);function a(e,t){(0,o.Z)(2,arguments);var n=(0,i.Z)(e),a=(0,r.Z)(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(a),n)}},839273:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(401425),i=n(699975);function o(e){(0,i.Z)(1,arguments);var t=(0,r.Z)(e);return t.setDate(1),t.setHours(0,0,0,0),t}},558013:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(401425),i=n(692124),o=n(699975),a=n(65176);function s(e,t){(0,o.Z)(1,arguments);var n,s,l,c,u,h,d,f,p=(0,a.j)(),v=(0,i.Z)(null!==(n=null!==(s=null!==(l=null!==(c=null==t?void 0:t.weekStartsOn)&&void 0!==c?c:null==t?void 0:null===(u=t.locale)||void 0===u?void 0:null===(h=u.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==l?l:p.weekStartsOn)&&void 0!==s?s:null===(d=p.locale)||void 0===d?void 0:null===(f=d.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==n?n:0);if(!(v>=0&&v<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,r.Z)(e),m=g.getDay();return g.setDate(g.getDate()-((m<v?7:0)+m-v)),g.setHours(0,0,0,0),g}},531348:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],o=t.match(e.parsePattern);if(!o)return null;var a=e.valueCallback?e.valueCallback(o[0]):o[0];return{value:a=n.valueCallback?n.valueCallback(a):a,rest:t.slice(i.length)}}};e.exports=t.default},114957:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};t.default=function(e,t,r){var i,o=n[e];if(i="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!=r&&r.addSuffix)return r.comparison&&r.comparison>0?"in "+i:i+" ago";return i},e.exports=t.default},607338:function(e){"use strict";var t="%[a-f0-9]{2}",n=RegExp("("+t+")|([^%]+?)","gi"),r=RegExp("("+t+")+","gi");e.exports=function(e){if("string"!=typeof e)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},i=r.exec(e);i;){try{t[i[0]]=decodeURIComponent(i[0])}catch(e){var o=function(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(n)||[],r=1;r<t.length;r++)t=(e=(function e(t,n){try{return[decodeURIComponent(t.join(""))]}catch(e){}if(1===t.length)return t;n=n||1;var r=t.slice(0,n),i=t.slice(n);return Array.prototype.concat.call([],e(r),e(i))})(t,r).join("")).match(n)||[];return e}}(i[0]);o!==i[0]&&(t[i[0]]=o)}i=r.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),s=0;s<a.length;s++){var l=a[s];e=e.replace(RegExp(l,"g"),t[l])}return e}(e)}}},781941:function(e,t,n){"use strict";var r=n(462418),i=n(288366),o=Math.max;e.exports=function(e,t){var n,a,s,l=o(arguments.length,2);for(a=1,e=Object(i(e)),s=function(r){try{e[r]=t[r]}catch(e){!n&&(n=e)}};a<l;++a)t=arguments[a],r(t).forEach(s);if(void 0!==n)throw n;return e}},867491:function(e){"use strict";var t=String.prototype.indexOf;e.exports=function(e){return t.call(this,e,arguments[1])>-1}},352982:function(e){"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,n)}(e,i,{once:!0})})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){if(s(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),c=a[t]),void 0===c)c=a[t]=n,++e._eventsCount;else if("function"==typeof c?c=a[t]=r?[n,c]:[c,n]:r?c.unshift(n):c.push(n),(o=l(e))>0&&c.length>o&&!c.warned){c.warned=!0;var i,o,a,c,u=Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=c.length,i=0}return e}function u(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var a,s=Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)r(l,this,t);else{for(var c=l.length,u=p(l,c),n=0;n<c;++n)r(u[n],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,h(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,h(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,a;if(s(t),void 0===(r=this._events)||void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0==arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function v(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}},545660:function(e,t,n){"use strict";n.d(t,{$X:function(){return u},AK:function(){return p},Fv:function(){return f},IH:function(){return c},JG:function(){return s},Ue:function(){return i},VC:function(){return m},Zh:function(){return _},al:function(){return a},bA:function(){return h},bI:function(){return d},fF:function(){return g},kC:function(){return v},kE:function(){return o},lu:function(){return y},t8:function(){return l}});var r=n(457616);function i(){var e=new r.WT(3);return r.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function o(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function a(e,t,n){var i=new r.WT(3);return i[0]=e,i[1]=t,i[2]=n,i}function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function l(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function c(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function u(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function h(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function d(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}function f(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function p(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function v(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2];return e[0]=i*l-o*s,e[1]=o*a-r*l,e[2]=r*s-i*a,e}function g(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e}function m(e,t,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=t[0],l=t[1],c=t[2],u=i*c-o*l,h=o*s-r*c,d=r*l-i*s;return u+=u,h+=h,d+=d,e[0]=s+a*u+i*d-o*h,e[1]=l+a*h+o*u-r*d,e[2]=c+a*d+r*h-i*u,e}var y=u,_=o;i()},54850:function(e,t,n){var r=n(46e3),i=n(796694),o=n(533976),a=n(432371),s=n(586527);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},174639:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},133711:function(e){e.exports=function(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}},634668:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},319380:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},526883:function(e,t,n){var r=n(605521);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return -1}},65674:function(e,t,n){var r=n(772780),i=n(536249);e.exports=function(e,t){return e&&r(t,i(t),e)}},644651:function(e,t,n){var r=n(440138);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},538955:function(e,t,n){var r=n(269856),i=n(419936);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},568856:function(e,t,n){var r=n(967529),i=n(891455),o=n(516902),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},78339:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},679405:function(e,t,n){var r=n(663875),i=n(384348),o=n(674325);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},642831:function(e,t,n){var r=n(568856),i=n(353255);e.exports=function(e){return i(e)&&"[object RegExp]"==r(e)}},828403:function(e,t,n){var r=n(568856),i=n(437949),o=n(353255),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},657572:function(e,t,n){var r=n(5134),i=n(620735);e.exports=function(e,t){return r(e,t,function(t,n){return i(e,n)})}},5134:function(e,t,n){var r=n(898865),i=n(35592),o=n(984182);e.exports=function(e,t,n){for(var a=-1,s=t.length,l={};++a<s;){var c=t[a],u=r(e,c);n(u,c)&&i(l,o(c,e),u)}return l}},908076:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},694052:function(e){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},522591:function(e,t,n){var r=n(512710),i=n(679405),o=n(919342),a=n(271277),s=n(768341),l=Array.prototype.splice;e.exports=function(e,t,n,c){var u=c?o:i,h=-1,d=t.length,f=e;for(e===t&&(t=s(t)),n&&(f=r(e,a(n)));++h<d;){for(var p=0,v=t[h],g=n?n(v):v;(p=u(f,g,p,c))>-1;)f!==e&&l.call(f,p,1),l.call(e,p,1)}return e}},730865:function(e,t,n){var r=n(916462),i=n(748959),o=n(386814);e.exports=function(e,t){return o(i(e,t,r),e+"")}},244494:function(e,t,n){var r=n(212670),i=n(698436),o=n(610095),a=n(477886),s=n(57025),l=n(481611);e.exports=function(e,t,n){var c=-1,u=i,h=e.length,d=!0,f=[],p=f;if(n)d=!1,u=o;else if(h>=200){var v=t?null:s(e);if(v)return l(v);d=!1,u=a,p=new r}else p=t?[]:f;r:for(;++c<h;){var g=e[c],m=t?t(g):g;if(g=n||0!==g?g:0,d&&m==m){for(var y=p.length;y--;)if(p[y]===m)continue r;t&&p.push(m),f.push(g)}else!u(p,m,n)&&(p!==f&&p.push(m),f.push(g))}return f}},477886:function(e){e.exports=function(e,t){return e.has(t)}},501568:function(e,t,n){var r=n(679405);e.exports=function(e,t){for(var n=e.length;n--&&r(t,e[n],0)>-1;);return n}},596089:function(e,t,n){var r=n(646817);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},921874:function(e){var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},597297:function(e,t,n){var r=n(646817);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},411565:function(e,t,n){var r=n(420669),i=n(257675),o=n(536249);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var l=r(n,3);t=o(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,a);return c>-1?s[l?t[c]:c]:void 0}}},440138:function(e,t,n){var r=n(368107),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},305453:function(e,t,n){var r=n(370562);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},168984:function(e,t,n){var r=n(366967)(Object.getPrototypeOf,Object);e.exports=r},168551:function(e,t,n){var r=n(237164);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},737265:function(e,t,n){var r=n(646817),i=n(596089),o=n(921874),a=n(618464),s=n(597297);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}},152856:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},715841:function(e){e.exports=function(){this.__data__=[],this.size=0}},216538:function(e,t,n){var r=n(526883);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},366967:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},82977:function(e){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},643576:function(e){e.exports=function(e){return this.__data__.has(e)}},481611:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},160684:function(e){e.exports=function(e){return this.__data__.get(e)}},667005:function(e,t,n){var r=n(137789),i=n(371318),o=n(496478);e.exports=function(e){return i(e)?o(e):r(e)}},373078:function(e){var t="\ud800-\udfff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",i="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="['’]",s="["+o+"]",l="["+r+"]",c="[^"+t+o+"\\d+"+n+r+i+"]",u="(?:\ud83c[\udde6-\uddff]){2}",h="[\ud800-\udbff][\udc00-\udfff]",d="["+i+"]",f="(?:"+l+"|"+c+")",p="(?:"+d+"|"+c+")",v="(?:"+a+"(?:d|ll|m|re|s|t|ve))?",g="(?:"+a+"(?:D|LL|M|RE|S|T|VE))?",m="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\ud83c[\udffb-\udfff])?",y="[\\ufe0e\\ufe0f]?",_="(?:\\u200d(?:"+["[^"+t+"]",u,h].join("|")+")"+y+m+")*",b="(?:"+["["+n+"]",u,h].join("|")+")"+(y+m+_),w=RegExp([d+"?"+l+"+"+v+"(?="+[s,d,"$"].join("|")+")",p+"+"+g+"(?="+[s,d+f,"$"].join("|")+")",d+"?"+f+"+"+v,d+"+"+g,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",b].join("|"),"g");e.exports=function(e){return e.match(w)||[]}},758720:function(e,t,n){var r=n(137860),i=n(772780),o=n(572359),a=n(257675),s=n(152856),l=n(536249),c=Object.prototype.hasOwnProperty,u=o(function(e,t){if(s(t)||a(t)){i(t,l(t),e);return}for(var n in t)c.call(t,n)&&r(e,n,t[n])});e.exports=u},389350:function(e,t,n){var r=n(719270);e.exports=function(e){return r(e,4)}},996315:function(e,t,n){var r=n(719270);e.exports=function(e,t){return r(e,5,t="function"==typeof t?t:void 0)}},128231:function(e,t,n){var r=n(960734),i=n(588557),o=n(993893),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,h,d,f,p=0,v=!1,g=!1,m=!0;if("function"!=typeof e)throw TypeError("Expected a function");function y(t){var n=l,r=c;return l=c=void 0,p=t,h=e.apply(r,n)}t=o(t)||0,r(n)&&(v=!!n.leading,u=(g="maxWait"in n)?a(o(n.maxWait)||0,t):u,m="trailing"in n?!!n.trailing:m);function _(e){var n=e-f,r=e-p;return void 0===f||n>=t||n<0||g&&r>=u}function b(){var e,n,r,o,a=i();if(_(a))return w(a);d=setTimeout(b,(n=(e=a)-f,r=e-p,o=t-n,g?s(o,u-r):o))}function w(e){return(d=void 0,m&&l)?y(e):(l=c=void 0,h)}function S(){var e,n=i(),r=_(n);if(l=arguments,c=this,f=n,r){if(void 0===d){;return p=e=f,d=setTimeout(b,t),v?y(e):h}if(g)return clearTimeout(d),d=setTimeout(b,t),y(f)}return void 0===d&&(d=setTimeout(b,t)),h}return S.cancel=function(){void 0!==d&&clearTimeout(d),p=0,l=f=c=d=void 0},S.flush=function(){return void 0===d?h:w(i())},S}},990047:function(e,t,n){var r=n(411565)(n(760511));e.exports=r},773173:function(e,t,n){var r=n(357435),i=1/0;e.exports=function(e){return(null==e?0:e.length)?r(e,i):[]}},916462:function(e){e.exports=function(e){return e}},23902:function(e,t,n){var r=n(125152),i=n(868085),o=n(145335),a=n(419936),s=n(257675),l=n(926753),c=n(152856),u=n(457903),h=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(h.call(e,n))return!1;return!0}},353255:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},588557:function(e,t,n){var r=n(679866);e.exports=function(){return r.Date.now()}},419631:function(e,t,n){var r=n(241608);e.exports=function(e){return r(2,e)}},245651:function(e,t,n){var r=n(630030),i=n(74690),o=n(938083),a=parseFloat,s=Math.min,l=Math.random;e.exports=function(e,t,n){if(n&&"boolean"!=typeof n&&i(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=o(e),void 0===t?(t=e,e=0):t=o(t)),e>t){var c=e;e=t,t=c}if(n||e%1||t%1){var u=l();return s(e+u*(t-e+a("1e-"+((u+"").length-1))),t)}return r(e,t)}},601249:function(e,t,n){var r=n(301691),i=n(740493),o=n(760284),a=Math.min;e.exports=function(e,t){if((e=o(e))<1||e>9007199254740991)return[];var n=4294967295,s=a(e,4294967295);t=i(t),e-=4294967295;for(var l=r(s,t);++n<e;)t(n);return l}},536556:function(e,t,n){var r=n(831837);e.exports=function(e,t){return null==e||r(e,t)}},881130:function(e,t,n){"use strict";e.exports=c;var r,i,o=n(370581),a=o.LongBits,s=o.utf8;function l(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},h=function(){return o.Buffer?function(e){return(c.create=function(e){return o.Buffer.isBuffer(e)?new i(e):u(e)})(e)}:u};function d(){var e=new a(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw l(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw l(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw l(this,8);return new a(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}c.create=h(),c.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,c.prototype.uint32=(r=4294967295,function(){if(r=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return r;if(r=(r|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return r;if(r=(r|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return r;if(r=(r|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return r;if(r=(r|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return r;if((this.pos+=5)>this.len)throw this.pos=this.len,l(this,10);return r}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw l(this,4);return f(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw l(this,4);return 0|f(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw l(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw l(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw l(this,e);return(this.pos+=e,Array.isArray(this.buf))?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw l(this,e);this.pos+=e}else do if(this.pos>=this.len)throw l(this);while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){i=e,c.create=h(),i._configure();var t=o.Long?"toLong":"toNumber";o.merge(c.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},827620:function(e){"use strict";e.exports={}},414917:function(e,t,n){"use strict";t.Service=n(607330)},959107:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){let i=!(0,r.isNum)(e.lastX),a=o(e);return i?{node:a,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:a,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}},t.createDraggableData=function(e,t){let n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:a}=e.props;a="string"==typeof a?a:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(a);let s=o(e);if("string"==typeof a){let e;let{ownerDocument:t}=s,n=t.defaultView;if(!((e="parent"===a?s.parentNode:t.querySelector(a))instanceof n.HTMLElement))throw Error('Bounds selector "'+a+'" could not find an element.');let o=e,l=n.getComputedStyle(s),c=n.getComputedStyle(o);a={left:-s.offsetLeft+(0,r.int)(c.paddingLeft)+(0,r.int)(l.marginLeft),top:-s.offsetTop+(0,r.int)(c.paddingTop)+(0,r.int)(l.marginTop),right:(0,i.innerWidth)(o)-(0,i.outerWidth)(s)-s.offsetLeft+(0,r.int)(c.paddingRight)-(0,r.int)(l.marginRight),bottom:(0,i.innerHeight)(o)-(0,i.outerHeight)(s)-s.offsetTop+(0,r.int)(c.paddingBottom)-(0,r.int)(l.marginBottom)}}return(0,r.isNum)(a.right)&&(t=Math.min(t,a.right)),(0,r.isNum)(a.bottom)&&(n=Math.min(n,a.bottom)),(0,r.isNum)(a.left)&&(t=Math.max(t,a.left)),(0,r.isNum)(a.top)&&(n=Math.max(n,a.top)),[t,n]},t.getControlPosition=function(e,t,n){let r="number"==typeof t?(0,i.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;let a=o(n),s=n.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,i.offsetXYFromParent)(r||e,s,n.props.scale)},t.snapToGrid=function(e,t,n){let r=Math.round(t/e[0])*e[0];return[r,Math.round(n/e[1])*e[1]]};var r=n(671494),i=n(704993);function o(e){let t=e.findDOMNode();if(!t)throw Error("<DraggableCore>: Unmounted during event!");return t}},324791:function(e){var t="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,o){try{return function e(o,a){if(o===a)return!0;if(o&&a&&"object"==typeof o&&"object"==typeof a){var s,l,c,u;if(o.constructor!==a.constructor)return!1;if(Array.isArray(o)){if((s=o.length)!=a.length)return!1;for(l=s;0!=l--;)if(!e(o[l],a[l]))return!1;return!0}if(n&&o instanceof Map&&a instanceof Map){if(o.size!==a.size)return!1;for(u=o.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;for(u=o.entries();!(l=u.next()).done;)if(!e(l.value[1],a.get(l.value[0])))return!1;return!0}if(r&&o instanceof Set&&a instanceof Set){if(o.size!==a.size)return!1;for(u=o.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(a)){if((s=o.length)!=a.length)return!1;for(l=s;0!=l--;)if(o[l]!==a[l])return!1;return!0}if(o.constructor===RegExp)return o.source===a.source&&o.flags===a.flags;if(o.valueOf!==Object.prototype.valueOf&&"function"==typeof o.valueOf&&"function"==typeof a.valueOf)return o.valueOf()===a.valueOf();if(o.toString!==Object.prototype.toString&&"function"==typeof o.toString&&"function"==typeof a.toString)return o.toString()===a.toString();if((s=(c=Object.keys(o)).length)!==Object.keys(a).length)return!1;for(l=s;0!=l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(t&&o instanceof Element)return!1;for(l=s;0!=l--;){if("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!o.$$typeof){if(!e(o[c[l]],a[c[l]]))return!1}}return!0}return o!=o&&a!=a}(e,o)}catch(e){if((e.message||"").match(/stack|recursion/i))return!1;throw e}}},249403:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case v:case l:return e;default:return t}}case i:return t}}}function S(e){return w(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||w(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===s||e===a||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===_||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},494812:function(e,t,n){"use strict";e.exports=n(449510)},747820:function(e,t,n){"use strict";e.exports=function(){throw Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n(846970).default,e.exports.ResizableBox=n(652452).default},101380:function(e,t,n){"use strict";n.d(t,{CR:function(){return h},FC:function(){return v},Jh:function(){return c},KL:function(){return g},XA:function(){return u},ZT:function(){return i},_T:function(){return a},ev:function(){return f},fl:function(){return d},gn:function(){return s},mG:function(){return l},pi:function(){return o},qq:function(){return p}});var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})}function c(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function d(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function f(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)(r||!(i in t))&&(!r&&(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function p(e){return this instanceof p?(this.v=e,this):new p(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})},t&&(r[e]=t(r[e])))}function s(e,t){try{(function(e){e.value instanceof p?Promise.resolve(e.value.v).then(l,c):u(o[0][2],e)})(i[e](t))}catch(e){u(o[0][3],e)}}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function g(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=u(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,i,(t=e[n](t)).done,t.value)})}}}},595830:function(e,t,n){"use strict";function r(e,t,n,r){var i,o,a,s,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.5,u=e/t;return n/r>u?(a=r*u,s=r,i=(n-a)*l,o=0):(a=n,i=0,o=(r-(s=n/u))*c),{source:{x:i,y:o,width:a,height:s},destination:{x:0,y:0,width:e,height:t}}}function i(e){var t=getComputedStyle(e)["object-fit"];return{isContain:"contain"===t,isCover:"cover"===t}}n.d(t,{I:function(){return r},Y:function(){return i}})},202854:function(e,t,n){var r=n(639294).default;function i(){"use strict";e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},o=Object.prototype,a=o.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function h(e,t,n,r){return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{h({},"")}catch(e){h=function(e,t,n){return e[t]=n}}function d(e,n,r,i){var o,a,s,l,c=Object.create((n&&n.prototype instanceof v?n:v).prototype);return h(c,"_invoke",(o=e,a=r,s=new x(i||[]),l=1,function(e,n){if(3===l)throw Error("Generator is already running");if(4===l){if("throw"===e)throw n;return{value:t,done:!0}}for(s.method=e,s.arg=n;;){var r=s.delegate;if(r){var i=function e(n,r){var i=r.method,o=n.i[i];if(o===t)return r.delegate=null,"throw"===i&&n.i.return&&(r.method="return",r.arg=t,e(n,r),"throw"===r.method)||"return"!==i&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+i+"' method")),p;var a=f(o,n.i,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var s=a.arg;return s?s.done?(r[n.r]=s.value,r.next=n.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):s:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,p)}(r,s);if(i){if(i===p)continue;return i}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(1===l)throw l=4,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);l=3;var c=f(o,a,s);if("normal"===c.type){if(l=s.done?4:2,c.arg===p)continue;return{value:c.arg,done:s.done}}"throw"===c.type&&(l=4,s.method="throw",s.arg=c.arg)}}),!0),c}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p={};function v(){}function g(){}function m(){}var y={};h(y,l,function(){return this});var _=Object.getPrototypeOf,b=_&&_(_(C([])));b&&b!==o&&a.call(b,l)&&(y=b);var w=m.prototype=v.prototype=Object.create(y);function S(e){["next","throw","return"].forEach(function(t){h(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var n;h(this,"_invoke",function(i,o){function s(){return new t(function(n,s){!function n(i,o,s,l){var c=f(e[i],e,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==r(h)&&a.call(h,"__await")?t.resolve(h.__await).then(function(e){n("next",e,s,l)},function(e){n("throw",e,s,l)}):t.resolve(h).then(function(e){u.value=e,s(u)},function(e){return n("throw",e,s,l)})}l(c.arg)}(i,o,n,s)})}return n=n?n.then(s,s):s()},!0)}function k(e){this.tryEntries.push(e)}function T(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function x(e){this.tryEntries=[[-1]],e.forEach(k,this),this.reset(!0)}function C(e){if(null!=e){var n=e[l];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(a.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw TypeError(r(e)+" is not iterable")}return g.prototype=m,h(w,"constructor",m),h(m,"constructor",g),g.displayName=h(m,u,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,h(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},n.awrap=function(e){return{__await:e}},S(E.prototype),h(E.prototype,c,function(){return this}),n.AsyncIterator=E,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new E(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},S(w),h(w,u,"Generator"),h(w,l,function(){return this}),h(w,"toString",function(){return"[object Generator]"}),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}},n.values=C,x.prototype={constructor:x,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){a.type="throw",a.arg=e,n.next=t}for(var i=n.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o[4],s=this.prev,l=o[1],c=o[2];if(-1===o[0])return r("end"),!1;if(!l&&!c)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<l)return this.method="next",this.arg=t,r(l),!0;if(s<c)return r(c),!1}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var i=r;break}}i&&("break"===e||"continue"===e)&&i[0]<=t&&t<=i[2]&&(i=null);var o=i?i[4]:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i[2],p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[2]===e)return this.complete(n[4],n[3]),T(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[0]===e){var r=n[4];if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:C(e),r:n,n:r},"next"===this.method&&(this.arg=t),p}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},116774:function(e,t,n){var r=n(202854)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},741838:function(e,t,n){"use strict";n.d(t,{Zk:function(){return z},wV:function(){return j}}),n(429532),n(779788),n(214478),n(807192),n(99891),n(268917),n(110006),n(826893),n(954372),n(209955),n(675373),n(927234),n(602157),n(874386);var r,i,o,a=function(e,t){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};(r=i||(i={}))[r.Failure=0]="Failure",r[r.Success=1]="Success",r[r.Unauthorized=-1]="Unauthorized",r[r.NotExist=-2]="NotExist";var c="undefined"==typeof __PIA_WORKER__?1023:1023e5,u=function(){function e(e){this.version=e.version||"2.1.1",this.nativeMethodInvoker=e.nativeMethodInvoker,this.nativeEventListener=e.nativeEventListener,this.scheme=e.scheme||"nativeapp://",this.dispatchMessagePath=e.dispatchMessagePath||"dispatch_message/",this.setResultPath=e.setResultPath||"private/setresult/SCENE_FETCHQUEUE",this.dispatchMessageIFrameId=e.dispatchMessageIFrameId||"__JSBridgeIframe__",this.setResultIFrameId=e.setResultIFrameId||"__JSBridgeIframe_SetResult__",this.listenNativeEvent=!0===e.listenNativeEvent,this.callbackId=c,this.callbackMap={},this.eventMap={},this.javascriptMessageQueue=[],this.callbackProcessor=e.callbackProcessor}return e.prototype.setAppID=function(e){this.appID=e},e.prototype.call=function(e,t,n,r){void 0===r&&(r=this.version);var i,o=this.version,a=this.appID;if(!!e&&"string"==typeof e){"object"!=typeof t&&(t={}),"string"==typeof r?o=r||this.version:"object"==typeof r&&(i=r.namespace,o=r.sdkVersion||this.version,a=r.appID||this.appID);var s={func:e,params:t,JSSDK:o,__msg_type:"call",namespace:i,appID:a};if("function"==typeof n||void 0===n){var l=this.registerCallback(e,n);s.__callback_id=l}"undefined"==typeof __PIA_WORKER__&&window.parent!==window&&(s.__iframe_url=window.location.href),this.sendMessageToNative(s)}},e.prototype.on=function(e,t,n){if(void 0===n&&(n=!1),!!e&&"string"==typeof e&&"function"==typeof t){var r=this.registerCallback(e,t);return this.eventMap[e]=this.eventMap[e]||{},this.eventMap[e][r]={once:n},this.listenNativeEvent&&(this.nativeEventListener?this.nativeEventListener(e):this.call("addEventListener",{name:e},null,{sdkVersion:1})),r}},e.prototype.once=function(e,t){return this.on(e,t,!0)},e.prototype.off=function(e,t){if(!e||"string"!=typeof e)return!0;var n=this.eventMap[e];return!(n&&"object"==typeof n&&n.hasOwnProperty(t))||(this.deregisterCallback(t),delete n[t],!0)},e.prototype.trigger=function(e,t){return this.handleMessageFromNative({__msg_type:"event",__params:t,__event_id:e})},e.prototype.handleMessageFromNative=function(e){var t=this,n=String(e.__callback_id);if(this.callbackProcessor&&"function"==typeof this.callbackProcessor){var r=(this.callbackMap&&this.callbackMap[n]||{}).method;this.callbackProcessor(e,r)}var i=e.__params,o=String(e.__event_id||""),a=e.__msg_type;this.callbackMap[n]?a="callback":this.eventMap[n]&&(a="event",o=o||n);var s={__err_code:"cb404"};switch(a){case"callback":var l=(this.callbackMap&&this.callbackMap[n]||{}).callback;"function"==typeof l&&(s=l(i)),this.deregisterCallback(n);break;case"event":var c=this.eventMap[o];c&&"object"==typeof c&&Object.keys(c).forEach(function(e){var n=(t.callbackMap&&t.callbackMap[e]||{}).callback,r=c[e];"function"==typeof n&&(s=n(i)),r&&r.once&&(t.deregisterCallback(e),delete c[e])})}return s},e.prototype.fetchJavaScriptMessageQueue=function(){var e=JSON.stringify(this.javascriptMessageQueue),t=btoa(unescape(encodeURIComponent(e)));return this.setResultIFrame&&this.javascriptMessageQueue.length>0&&(this.setResultIFrame.src=""+this.scheme+this.setResultPath+"&"+t),this.javascriptMessageQueue.splice(0,this.javascriptMessageQueue.length),e},e.prototype.sendMessageToNative=function(e){if("1"!==String(e.JSSDK)&&this.nativeMethodInvoker){var t=this.nativeMethodInvoker(e);if(t){var n=JSON.parse(t);this.handleMessageFromNative(n)}}else this.javascriptMessageQueue.push(e),!this.dispatchMessageIFrame&&this.tryCreateIFrames(),this.dispatchMessageIFrame.src=""+this.scheme+this.dispatchMessagePath},e.prototype.registerCallback=function(e,t){var n=String(this.callbackId++);return this.callbackMap[n]={method:e,callback:t},n},e.prototype.deregisterCallback=function(e){delete this.callbackMap[e]},e.prototype.tryCreateIFrames=function(){this.dispatchMessageIFrame=this.createIFrame(this.dispatchMessageIFrameId),this.setResultIFrame=this.createIFrame(this.setResultIFrameId)},e.prototype.createIFrame=function(e){var t=document.getElementById(e);return(!t||"IFRAME"!==t.tagName)&&((t=document.createElement("iframe")).style.display="none",t.id=e,document.documentElement.appendChild(t)),t},e}(),h="2.3.9",d="undefined"!=typeof __PIA_WORKER__?Function("return this")():"undefined"!=typeof window?window:{},f=void 0!==d&&d.navigator?d.navigator.userAgent:"",p=(!!f.match(/(newsarticle|videoarticle|lv|faceu|ulike|beauty_me_|faceu-os|ulike-os|beauty_me_oversea_|retouch|homed)\/([\d.]+)/i)||/super|automobile/gi.test(f))&&!/webcast/gi.test(f)&&!/luckycatversion/gi.test(f)&&!/beauty\/([\d.]+)/gi.test(f),v=!!f.match(/(faceu)\/([\d.]+)/i)||!!f.match(/homed/gi)||/gsdk/gi.test(f)||/PIANativeWorker/gi.test(f)||/beauty\/([\d.]+)/gi.test(f),g=!!f.match(/ttad\/0/i),m=function(){var e,t=null!==(e=d.__globalprops)&&void 0!==e?e:{},n=t;if("function"==typeof t.getGlobalProps){var r=t.getGlobalProps()||"{}";if("string"==typeof r)try{n=JSON.parse(r)}catch(e){}else n=r}return null!=n?n:{}}().jsbProxyAppId,y=!!f.match(/aweme|trill|musical_ly|phoenix_\d+|TikTokNow_\d+|alligatortiktok/i)||1128==+m,_=!!f.match(/live_stream/i),b=!!f.match(/Webcast/i),w=!!f.match(/super/i),S=!!f.match(/life_service_merchant/i),E=!!f.match(/deliverer/i),k=!!f.match(/xiaobang/i),T=/super/gi.test(f)||/homed/gi.test(f);function x(){var e;if(!!p)return d.JSBridge&&d.JSBridge.on?e=d.JSBridge.on:d.JS2NativeBridge&&d.JS2NativeBridge.on?e=function(e){d.JS2NativeBridge.on(e,JSON.stringify({JSSDK:h,__msg_type:"event",__callback_id:e,func:e}))}:d.webkit&&d.webkit.messageHandlers&&d.webkit.messageHandlers.onMethodParams?e=function(e){d.webkit.messageHandlers.onMethodParams.postMessage({JSSDK:h,__msg_type:"event",__callback_id:e,func:e})}:d.onMethodParams&&(e=function(e){return d.onMethodParams(e,{JSSDK:h,__msg_type:"event",__callback_id:e,func:e})}),e}function C(e,t){if("string"!=typeof t||!0!==/^(x|tc)\./.test(t)){if(y||_||b||S||k||E){var n=e.__params;d.JS2NativeBridge&&d.JS2NativeBridge._invokeMethod&&(e.__params=l({code:n.code},n.data))}}}var I=function(e){function t(){var t=e.call(this,{version:h,scheme:"bytedance://",listenNativeEvent:!0,dispatchMessageIFrameId:"__JSBridgeIframe_1.0__",setResultIFrameId:"__JSBridgeIframe_SetResult_1.0__",nativeEventListener:x(),callbackProcessor:C})||this;return t.publicApi={call:t.call.bind(t),on:t.on.bind(t),once:t.once.bind(t),off:t.off.bind(t),trigger:t.trigger.bind(t),setAppID:t.setAppID.bind(t),_fetchQueue:t.fetchJavaScriptMessageQueue.bind(t),_handleMessageFromToutiao:t.handleMessageFromNative.bind(t)},t}return s(t,e),t.prototype.exposePublicApiToGlobal=function(){d.ToutiaoJSBridge=Object.assign(d.ToutiaoJSBridge||{},this.publicApi)},t}(u),O=function(e){function t(t){var n,r=e.call(this,{version:h,nativeMethodInvoker:(d.JS2NativeBridge&&d.JS2NativeBridge._invokeMethod?n=function(e){return d.JS2NativeBridge._invokeMethod(JSON.stringify(e))}:d.ToutiaoJSBridge&&d.ToutiaoJSBridge.invokeMethod?n=function(e){return d.ToutiaoJSBridge.invokeMethod(JSON.stringify(e))}:d.JS2NativeBridge&&d.JS2NativeBridge.call?n=function(e){return d.JS2NativeBridge.call(e.func,JSON.stringify(e))}:d.webkit&&d.webkit.messageHandlers&&d.webkit.messageHandlers.callMethodParams?n=function(e){d.webkit.messageHandlers.callMethodParams.postMessage(e)}:d.callMethodParams?n=function(e){return d.callMethodParams(e.func,e)}:d.HomedJSBridge&&d.HomedJSBridge.invokeMethod&&(n=function(e){return d.HomedJSBridge.invokeMethod(JSON.stringify(e))}),n),nativeEventListener:x(),scheme:w?"bds://":T?"bytedance://":p||d.JSBridge&&d.JSBridge._invokeMethod?"nativeapp://":"bytedance://",listenNativeEvent:p,callbackProcessor:C})||this;return r.toutiaoLegacyJSB=t,r.publicApi={call:r.call.bind(r),on:r.on.bind(r),once:r.once.bind(r),off:r.off.bind(r),trigger:r.trigger.bind(r),setAppID:r.setAppID.bind(r),_fetchQueue:r.fetchJavaScriptMessageQueue.bind(r),_handleMessageFromApp:r.handleMessageFromNative.bind(r),_handleMessageFromToutiao:r.handleMessageFromNative.bind(r)},r}return s(t,e),t.prototype.call=function(t,n,r,i){void 0===i&&(i=h),this.isLegacyCall(t)?this.toutiaoLegacyJSB.call(t,n,r,i):e.prototype.call.call(this,t,n,r,i)},t.prototype.on=function(t,n,r,i){return(void 0===r&&(r=!1),(i||{}).useLegacy||this.isLegacyCall(t))?this.toutiaoLegacyJSB.on(t,n,r):e.prototype.on.call(this,t,n,r)},t.prototype.once=function(t,n){return this.isLegacyCall(t)?this.toutiaoLegacyJSB.once(t,n):e.prototype.once.call(this,t,n)},t.prototype.off=function(t,n){return this.isLegacyCall(t)?this.toutiaoLegacyJSB.off(t,n):e.prototype.off.call(this,t,n)},t.prototype.trigger=function(t,n){return this.isLegacyCall(t)?this.toutiaoLegacyJSB.trigger(t,n):e.prototype.trigger.call(this,t,n)},t.prototype.setAppID=function(t){this.toutiaoLegacyJSB&&this.toutiaoLegacyJSB.setAppID(t),e.prototype.setAppID.call(this,t)},t.prototype.exposePublicApiToGlobal=function(){var e=this;d.JSBridge=Object.assign(d.JSBridge||{},this.publicApi),!d.__DISABLE_JSB_PROTOCAL2__&&(d.Native2JSBridge=Object.assign(d.Native2JSBridge||{},this.publicApi)),T?d.ToutiaoJSBridge=Object.assign(d.ToutiaoJSBridge||{},this.publicApi):(p||g)&&this.toutiaoLegacyJSB?this.toutiaoLegacyJSB.exposePublicApiToGlobal():d.ToutiaoJSBridge=Object.assign(d.ToutiaoJSBridge||{},this.publicApi),d.parent!==d&&d.addEventListener&&d.addEventListener("message",function(t){t&&t.data&&t.data.__callback_id&&e.handleMessageFromNative(t.data)},!1),Object.defineProperties(d,{JSBridge:{writable:!1},Native2JSBridge:{writable:!1},ToutiaoJSBridge:{writable:!1}}),Object.freeze(d.JSBridge),Object.freeze(d.Native2JSBridge),Object.freeze(d.ToutiaoJSBridge)},t.prototype.isLegacyCall=function(e){return!!e&&"string"==typeof e&&!!this.toutiaoLegacyJSB&&(!!g||!v&&!T&&p&&0>e.indexOf("."))},t}(u);function A(e,t){if(null==e)throw TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o=Object.keys(Object(i)),a=0,s=o.length;a<s;a++){var l=o[a],c=Object.getOwnPropertyDescriptor(i,l);void 0!==c&&c.enumerable&&(n[l]=i[l])}}return n}({assign:A,polyfill:function(){!Object.assign&&Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:A})}}).polyfill();var P=new O(new I);try{P.exposePublicApiToGlobal()}catch(e){}P.publicApi;var R=null!==(o=Function("return this")().__globalprops)&&void 0!==o?o:{},D=R;if("function"==typeof R.getGlobalProps){var L=R.getGlobalProps()||"{}";if("string"==typeof L)try{JSON.parse(L)}catch(e){}}var M=[],z=function(e,t,n){var r=Date.now();return new Promise(function(i){JSBridge.call(e,t,function(n){"[object Object]"!==Object.prototype.toString.call(n)?i({code:0,msg:JSON.stringify(n)}):i(n),M.forEach(function(i){return i({method:e,params:t,res:n,startTimestamp:r})})},n)})},N=function(e,t){var n=JSBridge.on(e,t);return{remove:function(){JSBridge.off(e,n)},listener:t}},j=function(e,t,n){var r=N(e,function(e){t(e)}).remove,i=function(e){var t,n,i,o;return t=void 0,n=void 0,i=void 0,o=function(){return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,function(t){return r(),null==e||e(),[2]})},new(i||(i=Promise))(function(e,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof i?n:new i(function(e){e(n)})).then(a,s)}l((o=o.apply(t,n||[])).next())})};return z("x.subscribeEvent",{eventName:e,timestamp:Number(new Date)}),{remove:function(){i()},listener:t}}},822023:function(e,t,n){"use strict";n.d(t,{R:function(){return r}}),n(112587),n(17322),n(560401),n(779566),n(69896),n(416555),n(404948);let r="route.manifest.json";new Uint8Array([60,104,116,109,108]),new Uint8Array([60,98,111,100,121]),new Uint8Array([60,116,101,109,112,108,97,116,101]),new Uint8Array([60,47,104,101,97,100,62]),new Uint8Array([60,47,98,111,100,121,62]),new Uint8Array([60,47,104,116,109,108,62]),new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62])},985672:function(e,t,n){"use strict";n.d(t,{d:function(){return m}}),n(954372),n(826893),n(284961),n(897860),n(209955);var r=n(268426),i=n(460756),o=n(925314),a=/\s/,s=/^\s+/,l=0/0,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,h=/^0o[0-7]+$/i,d=parseInt;function f(e){if("number"==typeof e)return e;if((0,o.i)(e))return l;if((0,r.i)(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=(0,r.i)(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=(t=e)?t.slice(0,function(e){for(var t=e.length;t--&&a.test(e.charAt(t)););return t}(t)+1).replace(s,""):t;var i=u.test(e);return i||h.test(e)?d(e.slice(2),i?2:8):c.test(e)?l:+e}var p=function(){return i.r.Date.now()},v=Math.max,g=Math.min;function m(e,t,n){var i,o,a,s,l,c,u=0,h=!1,d=!1,m=!0;if("function"!=typeof e)throw TypeError("Expected a function");function y(t){var n=i,r=o;return i=o=void 0,u=t,s=e.apply(r,n)}t=f(t)||0,(0,r.i)(n)&&(h=!!n.leading,a=(d="maxWait"in n)?v(f(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m);function _(e){var n=e-c,r=e-u;return void 0===c||n>=t||n<0||d&&r>=a}function b(){var e,n,r,i,o=p();if(_(o))return w(o);l=setTimeout(b,(n=(e=o)-c,r=e-u,i=t-n,d?g(i,a-r):i))}function w(e){return(l=void 0,m&&i)?y(e):(i=o=void 0,s)}function S(){var e,n=p(),r=_(n);if(i=arguments,o=this,c=n,r){if(void 0===l){;return u=e=c,l=setTimeout(b,t),h?y(e):s}if(d)return clearTimeout(l),l=setTimeout(b,t),y(c)}return void 0===l&&(l=setTimeout(b,t)),s}return S.cancel=function(){void 0!==l&&clearTimeout(l),u=0,i=c=o=l=void 0},S.flush=function(){return void 0===l?s:w(p())},S}},268426:function(e,t,n){"use strict";function r(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}n.d(t,{i:function(){return r}})},527459:function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{A:function(){return i},a:function(){return p},b:function(){return s},i:function(){return o},j:function(){return g},m:function(){return u},p:function(){return a},r:function(){return v},s:function(){return h}}),n(429532),n(209955),n(179133),n(826893),n(338172),n(268917),n(250440),n(874386),n(413806),n(50013),n(284961),n(981168),n(527785),n(954372),n(110006),n(242079),n(851912),n(927234),n(779788);var i={Pop:"POP",Push:"PUSH",Replace:"REPLACE"};function o(e,t){if(!1===e||null==e)throw Error(t)}function a(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function s(e,t,n){void 0===n&&(n="/");let r=h(("string"==typeof t?a(t):t).pathname||"/",n);if(null==r)return null;let i=function e(t,n,r,i){void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i="");let a=(t,a,s)=>{let u={relativePath:void 0===s?t.path||"":s,caseSensitive:!0===t.caseSensitive,childrenIndex:a,route:t};u.relativePath.startsWith("/")&&(o(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i)+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),u.relativePath=u.relativePath.slice(i.length));let h=g([i,u.relativePath]),d=r.concat(u);if(t.children&&t.children.length>0&&(o(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+h+'".'),e(t.children,n,d,h)),null!=t.path||!!t.index)n.push({path:h,score:function(e,t){let n=e.split("/"),r=n.length;return n.some(c)&&(r+=-2),t&&(r+=2),n.filter(e=>!c(e)).reduce((e,t)=>e+(l.test(t)?3:""===t?1:10),r)}(h,t.index),routesMeta:d})};return t.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of function e(t){let n=t.split("/");if(0===n.length)return[];let[r,...i]=n,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(0===i.length)return o?[a,""]:[a];let s=e(i.join("/")),l=[];return l.push(...s.map(e=>""===e?a:[a,e].join("/"))),o&&l.push(...s),l.map(e=>t.startsWith("/")&&""===e?"/":e)}(e.path))a(e,t,n);else a(e,t)}),n}(e);(function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))})(i);let s=null;for(let e=0;null==s&&e<i.length;++e)s=function(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let e=0;e<n.length;++e){let a=n[e],s=e===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=u({path:a.relativePath,caseSensitive:a.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);let h=a.route;o.push({params:r,pathname:g([i,c.pathname]),pathnameBase:m(g([i,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(i=g([i,c.pathnameBase]))}return o}(i[e],function(e){try{return decodeURI(e)}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t)+")."),e}}(r));return s}let l=/^:\w+$/,c=e=>"*"===e;function u(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*"))+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, '+('please change the route path to "'+e.replace(/\*$/,"/*"))+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(e,t)=>(r.push(t),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((e,t,n)=>{if("*"===t){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return d(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e)+'" is a malformed URL segment. This is probably'+(" due to a bad percent encoding ("+n)+")."),e}}(s[n]||"",t),e},{}),pathname:o,pathnameBase:a,pattern:e}}function h(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function d(e,t){if(!e){try{throw Error(t)}catch(e){}}}function f(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r))+"].  Please separate it out to the "+("`to."+n)+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function p(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function v(e,t,n,i){let s,l;void 0===i&&(i=!1),"string"==typeof e?s=a(e):(o(!(s=r({},e)).pathname||!s.pathname.includes("?"),f("?","pathname","search",s)),o(!s.pathname||!s.pathname.includes("#"),f("#","pathname","hash",s)),o(!s.search||!s.search.includes("#"),f("#","search","hash",s)));let c=""===e||""===s.pathname,u=c?"/":s.pathname;if(i||null==u)l=n;else{let e=t.length-1;if(u.startsWith("..")){let t=u.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}l=e>=0?t[e]:"/"}let h=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?a(e):e;return{pathname:n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t,search:y(r),hash:_(i)}}(s,l),d=u&&"/"!==u&&u.endsWith("/"),p=(c||"."===u)&&n.endsWith("/");return!h.pathname.endsWith("/")&&(d||p)&&(h.pathname+="/"),h}let g=e=>e.join("/").replace(/\/\/+/g,"/"),m=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),y=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",_=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},14150:function(e,t,n){"use strict";n.d(t,{c:function(){return f},e:function(){return function e(t){let n=t.split("/");if(0===n.length)return[];let[r,...i]=n,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(0===i.length)return o?[a,""]:[a];let s=e(i.join("/")),l=[];return l.push(...s.map(e=>""===e?a:[a,e].join("/"))),o&&l.push(...s),l.map(e=>t.startsWith("/")&&""===e?"/":e)}},f:function(){return function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return t.forEach((t,o)=>{let a={relativePath:t.path||"",caseSensitive:!0===t.caseSensitive,childrenIndex:o,route:t};a.relativePath.startsWith("/")&&(a.relativePath=a.relativePath.slice(i.length));let s=u([i,a.relativePath]),c=r.concat(a);if(t.children&&t.children.length>0&&e(t.children,n,c,s),null!=t.path||!!t.index)n.push({path:l(s),score:function(e,t){let n=e.split("/"),r=n.length;return n.some(d)&&(r+=-2),t&&(r+=2),n.filter(e=>!d(e)).reduce((e,t)=>e+(h.test(t)?3:""===t?1:10),r)}(s,t.index),routesMeta:c})}),n}},g:function(){return p},j:function(){return s}}),n(50013),n(954372),n(826893),n(874386),n(413806),n(338172),n(284961),n(527785),n(268917),n(110006),n(981168);let r=/\/$|\/\?/;function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?r.test(e):e.endsWith("/")}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.startsWith("/")}(e)?e:e.slice(1))||"/"}var a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split("://").map(e=>e.replace(/\/{2,}/g,"/")).join("://")},s=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let a=e||"";for(let e of n.filter(e=>{var t;return(t=e)&&"/"!==t}))a=a?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return e.endsWith("/")?e:e+"/";if(i(e,!0))return e||"/";let[n,...r]=e.split("?");return n+"/"+(r.length>0?`?${r.join("?")}`:"")}(a)+o(e):e;return a},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return(i(e)?e.slice(0,-1):e)||"/";if(!i(e,!0))return e||"/";let[n,...r]=e.split("?");return(n.slice(0,-1)||"/")+(r.length>0?`?${r.join("?")}`:"")};let c=/\//g,u=e=>e.join("/").replace(/\/\/+/g,"/"),h=/^:\w+$/,d=e=>"*"===e;function f(e){return(e.match(c)||[]).length}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)return[];let n=new Set([]);for(let r of e){let{route:{path:e}}=r,i=a(o(`${t}/${null!=e?e:""}`));n.add(i),t=i}return Array.from(n=new Set(Array.from(n).map(e=>{let t=e.split("/");return(t=t.map(e=>e.startsWith(":")?e:e.toLowerCase())).join("/")}).sort((e,t)=>f(e)-f(t))))}},489138:function(e,t,n){"use strict";n.r(t),n.d(t,{BrowserRouter:function(){return p}});var r=n(520739),i=n(878389),o=n(368200);n(874386),n(179133),n(826893);var a=n(563097),s=n(88648),l=n(362977),c=n(487935),u=n(605078),h=n(454793),d=n(909543);let f=e=>{var t,{children:n}=e,f=(0,o._)(e,["children"]);let p=(0,s.useRef)(h.history),{setServerProps:v,serverProps:g}=(0,u.useServerProps)(),{matchPatternsCache:m,serverRouteCache:y,patternToCacheKeyCache:_}=(0,c.useServerRouteCache)();0===m.current.length&&(m.current=null!==(t=g.matchPatterns)&&void 0!==t?t:[]);let b=p.current,[w,S]=(0,s.useState)({action:b.action,location:b.location});return(0,s.useLayoutEffect)(()=>b.listen(S),[b]),(0,s.useLayoutEffect)(()=>{let e=b.listen(e=>{let{location:t}=e,n=(0,l.sH)(t.pathname),r=(0,l.iU)(null==m?void 0:m.current,n);(0,l.jt)({matchPatterns:n,serverRouteCache:y,patternToCacheKeyCache:_}),m.current=n,v({pathname:t.pathname,search:t.search,type:"navigate",matchPatterns:n,intersection:r})});return()=>{e()}},[b,v,m,y,_]),(0,a.jsx)(d.c,(0,i._)((0,r._)({},f),{children:n,location:w.location,navigationType:w.action,navigator:b}))},p=e=>{var{children:t}=e,n=(0,o._)(e,["children"]);return(0,a.jsx)(c.ServerRouteCacheProvider,{children:(0,a.jsx)(f,(0,i._)((0,r._)({},n),{children:t}))})}},559286:function(e,t,n){"use strict";n.r(t),n.d(t,{RoutesReducer:function(){return a}}),n(70372),n(675373);var r=n(563097),i=n(605078);n(88648),n(430594),n(793513),n(362977),n(348042);var o=n(608250);n(487935),n(769274);let a=e=>{let{serverProps:t}=(0,i.useServerProps)(),{type:n,pathname:a}=null!=t?t:{};return(0,r.jsx)(o.ClientFileRoutes,{children:e.children})}},429719:function(e,t,n){"use strict";n.r(t),n.d(t,{Head:function(){return c}});var r=n(520739),i=n(878389),o=n(368200),a=n(563097),s=n(377616);let l=new s.WR({}),c=e=>{var{children:t}=e,n=(0,o._)(e,["children"]);return(0,a.jsx)(s.ql,(0,i._)((0,r._)({},n),{helmetData:l,children:t}))}},130162:function(e,t,n){"use strict";n.r(t),n.d(t,{Outlet:function(){return s}});var r=n(232564),i=n(487935),o=n(605078),a=n(909543);n(563097),n(88648);let s=()=>{let{pattern:e}=(0,r.useRoute)(),{serverProps:t}=(0,o.useServerProps)(),{serverRouteCache:n}=(0,i.useServerRouteCache)(),s=(0,a.b)();return(null==t?void 0:t.type)==="initial"?(e&&(null==n||n.current.set(`${e}|outlet`,s)),s):e&&(null==n?void 0:n.current.get(`${e}|outlet`))?null==n?void 0:n.current.get(`${e}|outlet`):s}},232564:function(e,t,n){"use strict";n.r(t),n.d(t,{RouteProvider:function(){return l},useRoute:function(){return c}});var r=n(563097),i=n(88648),o=n(362977),a=n(487935),s=n(909543);let l=e=>{let{children:t,outlet:n,matches:l,pattern:c}=e,{serverRouteCache:u,patternToCacheKeyCache:h}=(0,a.useServerRouteCache)();return(0,i.useEffect)(()=>()=>{c&&(0,o.Lt)({as:c,serverRouteCache:u,patternToCacheKeyCache:h})},[c]),(0,r.jsx)(s.R.Provider,{value:{outlet:n,matches:l,pattern:c},children:t})},c=()=>(0,i.useContext)(s.R)},466438:function(e,t,n){"use strict";n.r(t),n.d(t,{ServerPropsContext:function(){return i},ServerPropsProvider:function(){return o}});var r=n(563097);let i=(0,n(88648).createContext)(null),o=e=>{let{serverProps:t,setServerProps:n,children:o}=e;return(0,r.jsx)(i.Provider,{value:{setServerProps:n,serverProps:t},children:o})}},848068:function(e,t,n){"use strict";n.r(t),n.d(t,{useMatchPatterns:function(){return a}});var r=n(909543),i=n(362977),o=n(232564);n(88648),n(563097);let a=()=>{var e;let{pattern:t}=(0,o.useRoute)(),n=null===(e=(0,r.a)())||void 0===e?void 0:e.pathname;return{matchPatterns:(0,i.sH)(n),pattern:t}}},553542:function(e,t,n){"use strict";n.d(t,{U:function(){return l}}),n(673554),n(784246);var r=n(88648),i=n(848068),o=n(14150),a=n(909543),s=n(527459);n(563097);let l=()=>{let{matchPatterns:e=[]}=(0,i.useMatchPatterns)(),t=e,n=(0,a.a)(),l=(0,r.useMemo)(()=>{let e=null;return(t=t.map(e=>(0,o.e)(e)).flat()).some(t=>e=(0,s.m)({path:t,caseSensitive:!1,end:!0},n.pathname)),e},[n,t]);return l?l.params:{}}},381185:function(e,t,n){"use strict";n.r(t),n.d(t,{useRouteCacheManager:function(){return o}});var r=n(88648),i=n(478804);n(563097);let o=()=>(0,r.useContext)(i.RouteCacheMangerContext)||{}},454793:function(e,t,n){"use strict";n.r(t),n.d(t,{history:function(){return i}});var r=n(55305);let i="undefined"!=typeof window?(0,r.c)({window}):null},739698:function(e,t,n){"use strict";n.d(t,{X:function(){return s}}),n(268917);var r=n(103158),i=n(713101),o=n(925314),a=Array.prototype.splice;function s(e){let{name:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,r.P)();if(!n)return i.n;!n.has(t)&&n.set(t,{hydrateStarted:!1,loaders:[]});let s=n.get(t);if(s.hydrateStarted)return e(),i.n;if(s.loaders){let t=async()=>{await e()};return s.loaders.push(t),()=>{(null==s?void 0:s.loaders)&&!function(e,t){var n=[];if(!(e&&e.length))return;var r=-1,i=[],s=e.length;for(t=(0,o.b)(t);++r<s;){var l=e[r];t(l,r,e)&&(n.push(l),i.push(r))}!function(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==s){var s=i;(0,o.d)(i)?a.call(e,i,1):!function(e,t){var n,r,i,a;return t=(0,o.c)(t,e),n=e,null==(e=(r=t).length<2?n:(0,o.a)(n,function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}(r,0,-1)))||delete e[o.t((a=null==(i=t)?0:i.length)?i[a-1]:void 0)]}(e,i)}};}(e,i)}(s.loaders,e=>t===e)}}return i.n}},185755:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});var r=n(377426);function i(e){(0,r.K)(e)}},727746:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var r=n(468311),i=n(522977);let o=function(){let{to:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!!e)(0,i.S)({to:e}).then(e=>{(0,r.s)(e.map(e=>e.url))})}},971039:function(e,t,n){"use strict";n.d(t,{V:function(){return f}}),n(209955),n(413806),n(826893),n(268917),n(874386),n(882732),n(544943),n(338172),n(284961),n(950331);var r=n(579151),i=n(288542),o=n(697370),a=n(77589),s=n(377896),l=n(967719),c=n(863369),u=n(428268),h=n(595834),d=n(229148);function f(e){let t=e.baseUrl||void 0,n="object"==typeof t?t.href:t,f=e.outputFormat||"program",v=void 0===e.pragma?"React.createElement":e.pragma,g=void 0===e.pragmaFrag?"React.Fragment":e.pragmaFrag,m=e.pragmaImportSource||"react",y=e.jsxImportSource||"react",_=e.jsxRuntime||"automatic";return function(e,t){let w,S,E;let k=[],T=[],x=0;if("classic"===_&&g&&p(e,"@jsxFrag",g),"classic"===_&&v&&p(e,"@jsx",v),"automatic"===_&&y&&p(e,"@jsxImportSource",y),_&&p(e,"@jsxRuntime",_),"classic"===_&&m){if(!v)throw Error("Missing `pragma` in classic runtime with `pragmaImportSource`");A({type:"ImportDeclaration",specifiers:[{type:"ImportDefaultSpecifier",local:{type:"Identifier",name:v.split(".")[0]}}],source:{type:"Literal",value:m}})}for(E of e.body)if("ExportDefaultDeclaration"===E.type)w&&t.fail("Unexpected duplicate layout, expected a single layout (previous: "+(0,s.y)((0,a.t)(w))+")",{ancestors:[e,E],place:(0,a.t)(E),ruleId:"duplicate-layout",source:"recma-document"}),w=E,T.push({type:"VariableDeclaration",kind:"const",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:"MDXLayout"},init:(0,u.M)(E.declaration)?(0,c.k)(E.declaration):E.declaration}]});else if("ExportNamedDeclaration"===E.type&&E.source){let n=E.source;E.specifiers=E.specifiers.filter(function(r){if("Identifier"===r.exported.type&&"default"===r.exported.name){w&&t.fail("Unexpected duplicate layout, expected a single layout (previous: "+(0,s.y)((0,a.t)(w))+")",{ancestors:[e,E,r],place:(0,a.t)(E),ruleId:"duplicate-layout",source:"recma-document"}),w=r;let i=[];if("Identifier"===r.local.type&&"default"===r.local.name)i.push({type:"ImportDefaultSpecifier",local:{type:"Identifier",name:"MDXLayout"}});else{let e={type:"ImportSpecifier",imported:r.local,local:{type:"Identifier",name:"MDXLayout"}};(0,l.U)(r.local,e),i.push(e)}let o={type:"Literal",value:n.value};(0,l.U)(n,o);let c={type:"ImportDeclaration",specifiers:i,source:o};return(0,l.U)(r,c),A(c),!1}return!0}),E.specifiers.length>0&&O(E)}else"ExportNamedDeclaration"===E.type||"ExportAllDeclaration"===E.type?O(E):"ImportDeclaration"===E.type?A(E):"ExpressionStatement"===E.type&&("JSXElement"===E.expression.type||"JSXFragment"===E.expression.type)?(S=!0,T.push(...b(E.expression,f,!!w))):T.push(E);!S&&T.push(...b(void 0,f,!!w)),k.push(["MDXContent","default"]),"function-body"===f&&T.push({type:"ReturnStatement",argument:{type:"ObjectExpression",properties:[...Array.from({length:x}).map(function(e,t){return{type:"SpreadElement",argument:{type:"Identifier",name:"_exportAll"+(t+1)}}}),...k.map(function(e){return{type:"Property",kind:"init",method:!1,computed:!1,shorthand:"string"==typeof e,key:{type:"Identifier",name:"string"==typeof e?e:e[1]},value:{type:"Identifier",name:"string"==typeof e?e:e[0]}}})]}}),e.body=T;let C=!1,I=!1;function O(e){if("ExportNamedDeclaration"===e.type){if(e.declaration){let t=(0,i.f)();(0,o._)(e,{enter(e){t.enter(e),("ArrowFunctionExpression"===e.type||"FunctionDeclaration"===e.type||"FunctionExpression"===e.type)&&(this.skip(),t.exit(e))},leave:t.exit}),k.push(...t.scopes[0].defined)}for(E of e.specifiers)"Identifier"===E.exported.type?k.push(E.exported.name):((0,r.ok)("string"==typeof E.exported.value),k.push(E.exported.value))}A(e)}function A(e){let t,n;if("function-body"===f){if("ImportDeclaration"===e.type||"ExportAllDeclaration"===e.type||"ExportNamedDeclaration"===e.type&&e.source){(0,r.ok)(e.source,"expected `node.source` to be defined");let i={type:"ImportExpression",source:e.source};(0,l.U)(e,i),n={type:"AwaitExpression",argument:i},t=("ImportDeclaration"===e.type||"ExportNamedDeclaration"===e.type)&&0===e.specifiers.length?{type:"ExpressionStatement",expression:n}:{type:"VariableDeclaration",kind:"const",declarations:"ExportAllDeclaration"===e.type?[{type:"VariableDeclarator",id:{type:"Identifier",name:"_exportAll"+ ++x},init:n}]:(0,h.t)(e.specifiers,n)}}else if(e.declaration)t=e.declaration;else{let n=[];for(let t of e.specifiers)"Identifier"===t.exported.type&&"Identifier"===t.local.type&&t.local.name!==t.exported.name&&n.push({type:"VariableDeclarator",id:t.exported,init:t.local});n.length>0&&(t={type:"VariableDeclaration",kind:"const",declarations:n})}}else t=e;t&&T.push(t)}(n||"function-body"===f)&&(0,o._)(e,{enter(e){if(("ExportAllDeclaration"===e.type||"ExportNamedDeclaration"===e.type||"ImportDeclaration"===e.type)&&e.source){(0,r.ok)(n,"unexpected missing `baseHref` in branch");let t=e.source.value;(0,r.ok)("string"==typeof t,"expected string source");try{new URL(t)}catch(e){(t.startsWith("/")||t.startsWith("./")||t.startsWith("../"))&&(t=new URL(t,n).href)}let i={type:"Literal",value:t};(0,l.U)(e.source,i),e.source=i;return}if("ImportExpression"===e.type){I=!0;let t={type:"CallExpression",callee:{type:"Identifier",name:"_resolveDynamicMdxSpecifier"},arguments:[e.source],optional:!1};e.source=t;return}if("MemberExpression"===e.type&&"object"in e&&"MetaProperty"===e.object.type&&"Identifier"===e.property.type&&"import"===e.object.meta.name&&"meta"===e.object.property.name&&"url"===e.property.name){C=!0;let t={type:"Identifier",name:"_importMetaUrl"};(0,l.U)(e,t),this.replace(t)}}}),I&&(!n&&(C=!0),e.body.push(function(e){return{type:"FunctionDeclaration",id:{type:"Identifier",name:"_resolveDynamicMdxSpecifier"},generator:!1,async:!1,params:[{type:"Identifier",name:"d"}],body:{type:"BlockStatement",body:[{type:"IfStatement",test:{type:"BinaryExpression",left:{type:"UnaryExpression",operator:"typeof",prefix:!0,argument:{type:"Identifier",name:"d"}},operator:"!==",right:{type:"Literal",value:"string"}},consequent:{type:"ReturnStatement",argument:{type:"Identifier",name:"d"}},alternate:null},{type:"TryStatement",block:{type:"BlockStatement",body:[{type:"ExpressionStatement",expression:{type:"NewExpression",callee:{type:"Identifier",name:"URL"},arguments:[{type:"Identifier",name:"d"}]}},{type:"ReturnStatement",argument:{type:"Identifier",name:"d"}}]},handler:{type:"CatchClause",param:null,body:{type:"BlockStatement",body:[]}},finalizer:null},{type:"IfStatement",test:{type:"LogicalExpression",left:{type:"LogicalExpression",left:{type:"CallExpression",callee:(0,d.Y)(["d","startsWith"]),arguments:[{type:"Literal",value:"/"}],optional:!1},operator:"||",right:{type:"CallExpression",callee:(0,d.Y)(["d","startsWith"]),arguments:[{type:"Literal",value:"./"}],optional:!1}},operator:"||",right:{type:"CallExpression",callee:(0,d.Y)(["d","startsWith"]),arguments:[{type:"Literal",value:"../"}],optional:!1}},consequent:{type:"ReturnStatement",argument:{type:"MemberExpression",object:{type:"NewExpression",callee:{type:"Identifier",name:"URL"},arguments:[{type:"Identifier",name:"d"},e]},property:{type:"Identifier",name:"href"},computed:!1,optional:!1}},alternate:null},{type:"ReturnStatement",argument:{type:"Identifier",name:"d"}}]}}}(n?{type:"Literal",value:n}:{type:"Identifier",name:"_importMetaUrl"}))),C&&((0,r.ok)("function-body"===f,"expected `function-body` when using dynamic url injection"),e.body.unshift(...function(){return[{type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:"_importMetaUrl"},init:(0,d.Y)(["arguments",0,"baseUrl"])}],kind:"const"},{type:"IfStatement",test:{type:"UnaryExpression",operator:"!",prefix:!0,argument:{type:"Identifier",name:"_importMetaUrl"}},consequent:{type:"ThrowStatement",argument:{type:"NewExpression",callee:{type:"Identifier",name:"Error"},arguments:[{type:"Literal",value:"Unexpected missing `options.baseUrl` needed to support `export … from`, `import`, or `import.meta.url` when generating `function-body`"}]}},alternate:null}]}()))};function b(e,t,n){let r={type:"JSXElement",openingElement:{type:"JSXOpeningElement",name:{type:"JSXIdentifier",name:"MDXLayout"},attributes:[{type:"JSXSpreadAttribute",argument:{type:"Identifier",name:"props"}}],selfClosing:!1},closingElement:{type:"JSXClosingElement",name:{type:"JSXIdentifier",name:"MDXLayout"}},children:[{type:"JSXElement",openingElement:{type:"JSXOpeningElement",name:{type:"JSXIdentifier",name:"_createMdxContent"},attributes:[{type:"JSXSpreadAttribute",argument:{type:"Identifier",name:"props"}}],selfClosing:!0},closingElement:null,children:[]}]};!n&&(r={type:"ConditionalExpression",test:{type:"Identifier",name:"MDXLayout"},consequent:r,alternate:{type:"CallExpression",callee:{type:"Identifier",name:"_createMdxContent"},arguments:[{type:"Identifier",name:"props"}],optional:!1}});let i=e||{type:"Identifier",name:"undefined"};"JSXFragment"===i.type&&1===i.children.length&&"JSXElement"===i.children[0].type&&(i=i.children[0]);let a=!1;(0,o._)(i,{enter(e){if("ArrowFunctionExpression"===e.type||"FunctionDeclaration"===e.type||"FunctionExpression"===e.type)return this.skip();("AwaitExpression"===e.type||"ForOfStatement"===e.type&&e.await)&&(a=!0)}});let s={type:"FunctionDeclaration",id:{type:"Identifier",name:"MDXContent"},params:[{type:"AssignmentPattern",left:{type:"Identifier",name:"props"},right:{type:"ObjectExpression",properties:[]}}],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:r}]}};return[{type:"FunctionDeclaration",async:a,id:{type:"Identifier",name:"_createMdxContent"},params:[{type:"Identifier",name:"props"}],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:i}]}},"program"===t?{type:"ExportDefaultDeclaration",declaration:s}:s]}}function p(e,t,n){var r;null===(r=e.comments)||void 0===r||r.unshift({type:"Block",value:t+" "+n,data:{_mdxIsPragmaComment:!0}})}},859357:function(e,t,n){"use strict";n.d(t,{M:function(){return i}});var r=n(336669);function i(){return function(e){(0,r.Vn)(e,"raw",function(e,t,n){if(n&&"number"==typeof t)return n.children.splice(t,1),t})}}},332754:function(e,t,n){"use strict";n.d(t,{S:function(){return i}});var r=n(579151);function i(e){let t,n=-1;for(;++n<e.length;){let r=e[n];t=t?{type:"BinaryExpression",left:t,operator:"+",right:r}:r}return(0,r.ok)(t,"expected non-empty `expressions` to be passed"),t}},229148:function(e,t,n){"use strict";n.d(t,{$:function(){return a},Y:function(){return o}});var r=n(579151),i=n(33132);function o(e){let t,n=-1;for(;++n<e.length;){let r=e[n],o="string"==typeof r&&(0,i.u2)(r)?{type:"Identifier",name:r}:{type:"Literal",value:r};t=t?{type:"MemberExpression",object:t,property:o,computed:"Literal"===o.type,optional:!1}:o}return(0,r.ok)(t,"expected non-empty `ids` to be passed"),(0,r.ok)("Literal"!==t.type,"expected identifier as left-most value"),t}function a(e){let t,n=-1;for(;++n<e.length;){let o=e[n];(0,r.ok)("string"==typeof o&&(0,i.u2)(o,{jsx:!0}),"expected valid jsx identifier, not `"+o+"`");let a={type:"JSXIdentifier",name:o};t=t?{type:"JSXMemberExpression",object:t,property:a}:a}return(0,r.ok)(t,"expected non-empty `ids` to be passed"),t}},818440:function(e,t,n){"use strict";n.d(t,{p:function(){return a}});var r=n(520739),i=n(878389),o=n(368200);function a(e){let t=e||{},{Fragment:n,baseUrl:a,development:s,jsx:l,jsxDEV:c,jsxs:u,useMDXComponents:h}=t,d=(0,o._)(t,["Fragment","baseUrl","development","jsx","jsxDEV","jsxs","useMDXComponents"]);if(!n)throw Error("Expected `Fragment` given to `evaluate`");if(s){if(!c)throw Error("Expected `jsxDEV` given to `evaluate`")}else{if(!l)throw Error("Expected `jsx` given to `evaluate`");if(!u)throw Error("Expected `jsxs` given to `evaluate`")}return{compiletime:(0,i._)((0,r._)({},d),{development:s,outputFormat:"function-body",providerImportSource:h?"#":void 0}),runtime:{Fragment:n,baseUrl:a,jsx:l,jsxDEV:c,jsxs:u,useMDXComponents:h}}}n(209955)},945307:function(e,t,n){"use strict";n.d(t,{Uy:function(){return W},Vk:function(){return Z}});var r,i=n(520739);n(602157),n(209955),n(927234),n(603676),n(874386),n(429532),n(897860),n(268917),n(950331),n(779788);var o=Symbol.for("immer-nothing"),a=Symbol.for("immer-draftable"),s=Symbol.for("immer-state");function l(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var c=Object.getPrototypeOf;function u(e){return!!e&&!!e[s]}function h(e){var t;return!!e&&(f(e)||Array.isArray(e)||!!e[a]||!!(null===(t=e.constructor)||void 0===t?void 0:t[a])||y(e)||_(e))}var d=Object.prototype.constructor.toString();function f(e){if(!e||"object"!=typeof e)return!1;let t=c(e);if(null===t)return!0;let n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===d}function p(e,t){0===v(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function v(e){let t=e[s];return t?t.type_:Array.isArray(e)?1:y(e)?2:_(e)?3:0}function g(e,t){return 2===v(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function m(e,t,n){let r=v(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function y(e){return e instanceof Map}function _(e){return e instanceof Set}function b(e){return e.copy_||e.base_}function w(e,t){if(y(e))return new Map(e);if(_(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);let n=f(e);if(!0!==t&&("class_only"!==t||n)){let t=c(e);return null!==t&&n?(0,i._)({},e):Object.assign(Object.create(t),e)}{let t=Object.getOwnPropertyDescriptors(e);delete t[s];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){let i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(c(e),t)}}function S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return k(e)||u(e)||!h(e)?e:(v(e)>1&&(e.set=e.add=e.clear=e.delete=E),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,n]=e;return S(n,!0)}),e)}function E(){l(2)}function k(e){return Object.isFrozen(e)}var T={};function x(e){let t=T[e];return!t&&l(0,e),t}function C(){return r}function I(e,t){t&&(x("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function O(e){A(e),e.drafts_.forEach(R),e.drafts_=null}function A(e){e===r&&(r=e.parent_)}function P(e){var t;return t=r,r={drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function R(e){let t=e[s];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function D(e,t){t.unfinalizedDrafts_=t.drafts_.length;let n=t.drafts_[0];return void 0!==e&&e!==n?(n[s].modified_&&(O(t),l(4)),h(e)&&(e=L(t,e),!t.parent_&&z(t,e)),t.patches_&&x("Patches").generateReplacementPatches_(n[s].base_,e,t.patches_,t.inversePatches_)):e=L(t,n,[]),O(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==o?e:void 0}function L(e,t,n){if(k(t))return t;let r=t[s];if(!r)return p(t,(i,o)=>M(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return z(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;let t=r.copy_,i=t,o=!1;3===r.type_&&(i=new Set(t),t.clear(),o=!0),p(i,(i,a)=>M(e,r,t,i,a,n,o)),z(e,t,!1),n&&e.patches_&&x("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function M(e,t,n,r,i,o,a){if(u(i)){let a=L(e,i,o&&t&&3!==t.type_&&!g(t.assigned_,r)?o.concat(r):void 0);if(m(n,r,a),!u(a))return;e.canAutoFreeze_=!1}else a&&n.add(i);if(h(i)&&!k(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;L(e,i),(!t||!t.scope_.parent_)&&"symbol"!=typeof r&&Object.prototype.propertyIsEnumerable.call(n,r)&&z(e,i)}}function z(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&S(t,n)}var N={get(e,t){if(t===s)return e;let n=b(e);if(!g(n,t))return function(e,t,n){var r;let i=U(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);let r=n[t];return e.finalized_||!h(r)?r:r===B(e.base_,t)?(G(e),e.copy_[t]=H(r,e)):r},has:(e,t)=>t in b(e),ownKeys:e=>Reflect.ownKeys(b(e)),set(e,t,n){let r=U(b(e),t);if(null==r?void 0:r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){var i,o;let r=B(b(e),t),a=null==r?void 0:r[s];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(o=r)?0!==i||1/i==1/o:i!=i&&o!=o)&&(void 0!==n||g(e.base_,t)))return!0;G(e),F(e)}return!!(e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t]))||(e.copy_[t]=n,e.assigned_[t]=!0,!0)},deleteProperty:(e,t)=>(void 0!==B(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,G(e),F(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){let n=b(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){l(11)},getPrototypeOf:e=>c(e.base_),setPrototypeOf(){l(12)}},j={};function B(e,t){let n=e[s];return(n?b(n):e)[t]}p(N,(e,t)=>{j[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),j.deleteProperty=function(e,t){return j.set.call(this,e,t,void 0)},j.set=function(e,t,n){return N.set.call(this,e[0],t,n,e[0])};function U(e,t){if(!(t in e))return;let n=c(e);for(;n;){let e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=c(n)}}function F(e){!e.modified_&&(e.modified_=!0,e.parent_&&F(e.parent_))}function G(e){!e.copy_&&(e.copy_=w(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var V=class{createDraft(e){!h(e)&&l(8),u(e)&&(e=Z(e));let t=P(this),n=H(e,void 0);return n[s].isManual_=!0,A(t),n}finishDraft(e,t){let n=e&&e[s];(!n||!n.isManual_)&&l(9);let{scope_:r}=n;return I(r,t),D(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){let r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));let r=x("Patches").applyPatches_;return u(e)?r(e,t):this.produce(e,e=>r(e,t))}constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{let r;if("function"==typeof e&&"function"!=typeof t){let n=t;t=e;let r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return r.produce(e,e=>t.call(this,e,...o))}}if("function"!=typeof t&&l(6),void 0!==n&&"function"!=typeof n&&l(7),h(e)){let i=P(this),o=H(e,void 0),a=!0;try{r=t(o),a=!1}finally{a?O(i):A(i)}return I(i,n),D(r,i)}if(e&&"object"==typeof e)l(1,e);else{if(void 0===(r=t(e))&&(r=e),r===o&&(r=void 0),this.autoFreeze_&&S(r,!0),n){let t=[],i=[];x("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}},this.produceWithPatches=(e,t)=>{let n,r;if("function"==typeof e){var i=this;return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return i.produceWithPatches(t,t=>e(t,...r))}}return[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}};function H(e,t){let n=y(e)?x("MapSet").proxyMap_(e,t):_(e)?x("MapSet").proxySet_(e,t):function(e,t){let n=Array.isArray(e),i={type_:n?1:0,scope_:t?t.scope_:r,modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},o=i,a=N;n&&(o=[i],a=j);let{revoke:s,proxy:l}=Proxy.revocable(o,a);return i.draft_=l,i.revoke_=s,l}(e,t);return(t?t.scope_:r).drafts_.push(n),n}function Z(e){return!u(e)&&l(10,e),function e(t){let n;if(!h(t)||k(t))return t;let r=t[s];if(r){if(!r.modified_)return r.base_;r.finalized_=!0,n=w(t,r.scope_.immer_.useStrictShallowCopy_)}else n=w(t,!0);return p(n,(t,r)=>{m(n,t,e(r))}),r&&(r.finalized_=!1),n}(e)}var K=new V,W=K.produce;K.produceWithPatches.bind(K),K.setAutoFreeze.bind(K),K.setUseStrictShallowCopy.bind(K),K.applyPatches.bind(K),K.createDraft.bind(K),K.finishDraft.bind(K)},283929:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(632616);function i(e){if(Array.isArray(e))return(0,r.Z)(e)}},83915:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)})}}n.d(t,{Z:function(){return i}})},874838:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},888134:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(53285),i=n(541378),o=n(901737),a=n(759122);function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||!(0,o.Z)(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return(0,a.Z)(e,arguments,(0,r.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(n,e)})(e)}},520739:function(e,t,n){"use strict";n.r(t),n.d(t,{_:function(){return i}});var r=n(134761);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){(0,r._)(e,t,n[t])})}return e}},878389:function(e,t,n){"use strict";n.d(t,{_:function(){return r}});function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}},495397:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}n.d(t,{_:function(){return r}})},41795:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(199447),i=n(310850);function o(e){var t=(0,r._)(e,"string");return"symbol"===(0,i._)(t)?t:String(t)}},47548:function(e,t,n){"use strict";n.d(t,{v:function(){return a}});var r=n(855960);let i="object"==typeof self?self:globalThis,o=(e,t)=>{let n=(t,n)=>(e.set(n,t),t),o=a=>{if(e.has(a))return e.get(a);let[s,l]=t[a];switch(s){case r.uk:case r.Zn:return n(l,a);case r.tF:{let e=n([],a);for(let t of l)e.push(o(t));return e}case r.$l:{let e=n({},a);for(let[t,n]of l)e[o(t)]=o(n);return e}case r.Hu:return n(new Date(l),a);case r.o1:{let{source:e,flags:t}=l;return n(new RegExp(e,t),a)}case r.nN:{let e=n(new Map,a);for(let[t,n]of l)e.set(o(t),o(n));return e}case r.JH:{let e=n(new Set,a);for(let t of l)e.add(o(t));return e}case r.pn:{let{name:e,message:t}=l;return n(new i[e](t),a)}case r.EA:return n(BigInt(l),a);case"BigInt":return n(Object(BigInt(l)),a);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{let{buffer:e}=new Uint8Array(l);return n(new DataView(e),l)}}return n(new i[s](l),a)};return o},a=e=>o(new Map,e)(0)},855960:function(e,t,n){"use strict";n.d(t,{$l:function(){return a},EA:function(){return d},Hu:function(){return s},JH:function(){return u},Zn:function(){return r},nN:function(){return c},o1:function(){return l},pn:function(){return h},tF:function(){return o},uk:function(){return i}});let r=-1,i=0,o=1,a=2,s=3,l=4,c=5,u=6,h=7,d=8},913619:function(e,t,n){"use strict";n.d(t,{Cy:function(){return l},Ic:function(){return i},Px:function(){return c},XY:function(){return r},di:function(){return s},pU:function(){return o}});class r{static create(...e){return new this(...e)}mixIn(e){return Object.assign(this,e)}clone(){let e=new this.constructor;return Object.assign(e,this),e}}class i extends r{constructor(e=[],t=4*e.length){super();let n=e;if(n instanceof ArrayBuffer&&(n=new Uint8Array(n)),(n instanceof Int8Array||n instanceof Uint8ClampedArray||n instanceof Int16Array||n instanceof Uint16Array||n instanceof Int32Array||n instanceof Uint32Array||n instanceof Float32Array||n instanceof Float64Array)&&(n=new Uint8Array(n.buffer,n.byteOffset,n.byteLength)),n instanceof Uint8Array){let e=n.byteLength,t=[];for(let r=0;r<e;r+=1)t[r>>>2]|=n[r]<<24-r%4*8;this.words=t,this.sigBytes=e}else this.words=e,this.sigBytes=t}static random(e){let t=[],n=e=>{let t=e,n=987654321;return()=>{let e=((n=36969*(65535&n)+(n>>16)&4294967295)<<16)+(t=18e3*(65535&t)+(t>>16)&4294967295)&4294967295;return e/=4294967296,(e+=.5)*(Math.random()>.5?1:-1)}};for(let r=0,i;r<e;r+=4){let e=n(4294967296*(i||Math.random()));i=987654071*e(),t.push(4294967296*e()|0)}return new i(t,e)}toString(e=o){return e.stringify(this)}concat(e){let t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(let e=0;e<i;e+=1){let i=n[e>>>2]>>>24-e%4*8&255;t[r+e>>>2]|=i<<24-(r+e)%4*8}else for(let e=0;e<i;e+=4)t[r+e>>>2]=n[e>>>2];return this.sigBytes+=i,this}clamp(){let{words:e,sigBytes:t}=this;e[t>>>2]&=4294967295<<32-t%4*8,e.length=Math.ceil(t/4)}clone(){let e=super.clone.call(this);return e.words=this.words.slice(0),e}}let o={stringify(e){let{words:t,sigBytes:n}=e,r=[];for(let e=0;e<n;e+=1){let n=t[e>>>2]>>>24-e%4*8&255;r.push((n>>>4).toString(16)),r.push((15&n).toString(16))}return r.join("")},parse(e){let t=e.length,n=[];for(let r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new i(n,t/2)}},a={stringify(e){let{words:t,sigBytes:n}=e,r=[];for(let e=0;e<n;e+=1){let n=t[e>>>2]>>>24-e%4*8&255;r.push(String.fromCharCode(n))}return r.join("")},parse(e){let t=e.length,n=[];for(let r=0;r<t;r+=1)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new i(n,t)}},s={stringify(e){try{return decodeURIComponent(escape(a.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:e=>a.parse(unescape(encodeURIComponent(e)))};class l extends r{constructor(){super(),this._minBufferSize=0}reset(){this._data=new i,this._nDataBytes=0}_append(e){let t=e;"string"==typeof t&&(t=s.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_process(e){let t;let{_data:n,blockSize:r}=this,o=n.words,a=n.sigBytes,s=a/(4*r),l=(s=e?Math.ceil(s):Math.max((0|s)-this._minBufferSize,0))*r,c=Math.min(4*l,a);if(l){for(let e=0;e<l;e+=r)this._doProcessBlock(o,e);t=o.splice(0,l),n.sigBytes-=c}return new i(t,c)}clone(){let e=super.clone.call(this);return e._data=this._data.clone(),e}}class c extends l{constructor(e){super(),this.blockSize=16,this.cfg=Object.assign(new r,e),this.reset()}static _createHelper(e){return(t,n)=>new e(n).finalize(t)}static _createHmacHelper(e){return(t,n)=>new u(e,n).finalize(t)}reset(){super.reset.call(this),this._doReset()}update(e){return this._append(e),this._process(),this}finalize(e){return e&&this._append(e),this._doFinalize()}}class u extends r{constructor(e,t){super();let n=new e;this._hasher=n;let r=t;"string"==typeof r&&(r=s.parse(r));let i=n.blockSize,o=4*i;r.sigBytes>o&&(r=n.finalize(t)),r.clamp();let a=r.clone();this._oKey=a;let l=r.clone();this._iKey=l;let c=a.words,u=l.words;for(let e=0;e<i;e+=1)c[e]^=1549556828,u[e]^=909522486;a.sigBytes=o,l.sigBytes=o,this.reset()}reset(){let e=this._hasher;e.reset(),e.update(this._iKey)}update(e){return this._hasher.update(e),this}finalize(e){let t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}}},934481:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(913619);let i=(e,t,n)=>{let i=[],o=0;for(let r=0;r<t;r+=1)if(r%4){let t=n[e.charCodeAt(r-1)]<<r%4*2,a=t|n[e.charCodeAt(r)]>>>6-r%4*2;i[o>>>2]|=a<<24-o%4*8,o+=1}return r.Ic.create(i,o)},o={stringify(e){let{words:t,sigBytes:n}=e,r=this._map;e.clamp();let i=[];for(let e=0;e<n;e+=3){let o=t[e>>>2]>>>24-e%4*8&255,a=t[e+1>>>2]>>>24-(e+1)%4*8&255,s=o<<16|a<<8|t[e+2>>>2]>>>24-(e+2)%4*8&255;for(let t=0;t<4&&e+.75*t<n;t+=1)i.push(r.charAt(s>>>6*(3-t)&63))}let o=r.charAt(64);if(o)for(;i.length%4;)i.push(o);return i.join("")},parse(e){let t=e.length,n=this._map,r=this._reverseMap;if(!r){this._reverseMap=[],r=this._reverseMap;for(let e=0;e<n.length;e+=1)r[n.charCodeAt(e)]=e}let o=n.charAt(64);if(o){let n=e.indexOf(o);-1!==n&&(t=n)}return i(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},820471:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});let r={pad(){},unpad(){}}},579151:function(e,t,n){"use strict";function r(){}function i(){}n.d(t,{ok:function(){return r},t1:function(){return i}})},697370:function(e,t,n){"use strict";n.d(t,{_:function(){return a}});var r=n("962970");class i extends r.R{constructor(e,t){super(),this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:e=>this.replacement=e},this.enter=e,this.leave=t}visit(e,t,n,r){if(e){let i;if(this.enter){let i=this.should_skip,o=this.should_remove,a=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,e,t,n,r),this.replacement&&(e=this.replacement,this.replace(t,n,r,e)),this.should_remove&&this.remove(t,n,r);let s=this.should_skip,l=this.should_remove;if(this.should_skip=i,this.should_remove=o,this.replacement=a,s)return e;if(l)return null}for(i in e){let t=e[i];if(t&&"object"==typeof t){if(Array.isArray(t))for(let n=0;n<t.length;n+=1){let r=t[n];o(r)&&!this.visit(r,e,i,n)&&n--}else o(t)&&this.visit(t,e,i,null)}}if(this.leave){let i=this.replacement,o=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,e,t,n,r),this.replacement&&(e=this.replacement,this.replace(t,n,r,e)),this.should_remove&&this.remove(t,n,r);let a=this.should_remove;if(this.replacement=i,this.should_remove=o,a)return null}}return e}}function o(e){return null!==e&&"object"==typeof e&&"type"in e&&"string"==typeof e.type}function a(e,{enter:t,leave:n}){return new i(t,n).visit(e,null)}n("814533")},292340:function(e,t,n){"use strict";n.d(t,{b:function(){return d}});var r=n("33132"),i=n("441130"),o=n("372194"),a=n("64141"),s=n("311323"),l=n("849459");let c={}.hasOwnProperty,u=/[A-Z]/g,h=new Set(["td","th"]);function d(e,t){let n,u,d;let p=t.schema,v=p,g=e.properties||{};"html"===p.space&&"svg"===e.tagName.toLowerCase()&&(v=i.YP,t.schema=v);let m=t.all(e),y=[];for(n in g)if(c.call(g,n)){let i,p=g[n],m=(0,o.s)(v,n);if(null==p||!1===p||"number"==typeof p&&Number.isNaN(p)||!p&&m.boolean)continue;if(n="react"===t.elementAttributeNameCase&&m.space?a.D[m.property]||m.property:m.attribute,Array.isArray(p)&&(p=m.commaSeparated?function(e,t){let n={};return(""===e[e.length-1]?[...e,""]:e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}(p):(0,s.P)(p)),"style"===n){let n,o="object"==typeof p?p:function(e,t){try{return l(e,{reactCompat:!0})}catch(e){throw Error("Could not parse `style` attribute on `"+t+"`",{cause:e})}}(String(p),e.tagName);"css"===t.stylePropertyNameCase&&(o=function(e){let t;let n={};for(t in e)c.call(e,t)&&(n[f(t)]=e[t]);return n}(o));let a=[];for(n in o)c.call(o,n)&&a.push({type:"Property",method:!1,shorthand:!1,computed:!1,key:(0,r.u2)(n)?{type:"Identifier",name:n}:{type:"Literal",value:n},value:{type:"Literal",value:String(o[n])},kind:"init"});d=a,i={type:"JSXExpressionContainer",expression:{type:"ObjectExpression",properties:a}}}else if(!0===p)i=null;else if(t.tableCellAlignToStyle&&h.has(e.tagName)&&"align"===n){u=String(p);continue}else i={type:"Literal",value:String(p)};(0,r.u2)(n,{jsx:!0})?y.push({type:"JSXAttribute",name:{type:"JSXIdentifier",name:n},value:i}):y.push({type:"JSXSpreadAttribute",argument:{type:"ObjectExpression",properties:[{type:"Property",method:!1,shorthand:!1,computed:!1,key:{type:"Literal",value:String(n)},value:i||{type:"Literal",value:!0},kind:"init"}]}})}if(void 0!==u){!d&&(d=[],y.push({type:"JSXAttribute",name:{type:"JSXIdentifier",name:"style"},value:{type:"JSXExpressionContainer",expression:{type:"ObjectExpression",properties:d}}}));let e="css"===t.stylePropertyNameCase?f("textAlign"):"textAlign";d.push({type:"Property",method:!1,shorthand:!1,computed:!1,key:(0,r.u2)(e)?{type:"Identifier",name:e}:{type:"Literal",value:e},value:{type:"Literal",value:u},kind:"init"})}t.schema=p;let _={type:"JSXElement",openingElement:{type:"JSXOpeningElement",attributes:y,name:t.createJsxElementName(e.tagName),selfClosing:0===m.length},closingElement:m.length>0?{type:"JSXClosingElement",name:t.createJsxElementName(e.tagName)}:null,children:m};return t.inherit(e,_),_}function f(e){let t=e.replace(u,p);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function p(e){return"-"+e.toLowerCase()}},479418:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(827257),i=n(441130);function o(e,t){let n=t.schema,o=n,a=e.attributes||[],s=-1;e.name&&"html"===n.space&&"svg"===e.name.toLowerCase()&&(o=i.YP,t.schema=o);let l=t.all(e),c=[];for(;++s<a.length;){let e;let n=a[s],i=n.value;if("mdxJsxAttribute"===n.type){if(null==i)e=null;else if("object"==typeof i){let n;let o=i.data&&i.data.estree,a=o&&o.comments||[];o&&(t.comments.push(...a),(0,r.S)(o,o.comments),n=o.body[0]&&"ExpressionStatement"===o.body[0].type&&o.body[0].expression||void 0),e={type:"JSXExpressionContainer",expression:n||{type:"JSXEmptyExpression"}},t.inherit(i,e)}else e={type:"Literal",value:String(i)};let o={type:"JSXAttribute",name:t.createJsxAttributeName(n.name),value:e};t.inherit(n,o),c.push(o)}else{let e;let i=n.data&&n.data.estree,o=i&&i.comments||[];i&&(t.comments.push(...o),(0,r.S)(i,i.comments),e=i.body[0]&&"ExpressionStatement"===i.body[0].type&&i.body[0].expression&&"ObjectExpression"===i.body[0].expression.type&&i.body[0].expression.properties&&i.body[0].expression.properties[0]&&"SpreadElement"===i.body[0].expression.properties[0].type&&i.body[0].expression.properties[0].argument||void 0);let a={type:"JSXSpreadAttribute",argument:e||{type:"ObjectExpression",properties:[]}};t.inherit(n,a),c.push(a)}}t.schema=n;let u=e.name?{type:"JSXElement",openingElement:{type:"JSXOpeningElement",attributes:c,name:t.createJsxElementName(e.name),selfClosing:0===l.length},closingElement:l.length>0?{type:"JSXClosingElement",name:t.createJsxElementName(e.name)}:null,children:l}:{type:"JSXFragment",openingFragment:{type:"JSXOpeningFragment"},closingFragment:{type:"JSXClosingFragment"},children:l};return t.inherit(e,u),u}},908547:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var r=n(827257);function i(e,t){let n=e.data&&e.data.estree,i=n&&n.comments||[];n&&(t.comments.push(...i),(0,r.S)(n,i),t.esm.push(...n.body))}},697570:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n("395536"),i=n("656647"),o=function(){return i.Z.Date.now()},a=n("664230"),s=Math.max,l=Math.min,c=function(e,t,n){var i,c,u,h,d,f,p=0,v=!1,g=!1,m=!0;if("function"!=typeof e)throw TypeError("Expected a function");function y(t){var n=i,r=c;return i=c=void 0,p=t,h=e.apply(r,n)}t=(0,a.Z)(t)||0,(0,r.Z)(n)&&(v=!!n.leading,u=(g="maxWait"in n)?s((0,a.Z)(n.maxWait)||0,t):u,m="trailing"in n?!!n.trailing:m);function _(e){var n=e-f,r=e-p;return void 0===f||n>=t||n<0||g&&r>=u}function b(){var e,n,r,i,a=o();if(_(a))return w(a);d=setTimeout(b,(n=(e=a)-f,r=e-p,i=t-n,g?l(i,u-r):i))}function w(e){return(d=void 0,m&&i)?y(e):(i=c=void 0,h)}function S(){var e,n=o(),r=_(n);if(i=arguments,c=this,f=n,r){if(void 0===d){;return p=e=f,d=setTimeout(b,t),v?y(e):h}if(g)return clearTimeout(d),d=setTimeout(b,t),y(f)}return void 0===d&&(d=setTimeout(b,t)),h}return S.cancel=function(){void 0!==d&&clearTimeout(d),p=0,i=f=c=d=void 0},S.flush=function(){return void 0===d?h:w(o())},S}},664230:function(e,t,n){"use strict";var r=n(653902),i=n(395536),o=n(349301),a=0/0,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;t.Z=function(e){if("number"==typeof e)return e;if((0,o.Z)(e))return a;if((0,i.Z)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,i.Z)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=(0,r.Z)(e);var n=l.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):s.test(e)?a:+e}},52644:function(e,t,n){"use strict";n.d(t,{H:function(){return d},E:function(){return f}});var r=n("920183"),i=n("600866"),o=n("83707"),a=n("263138"),s=n("579151"),l=n("549738");function c(e){let t=this.stack[this.stack.length-2];(0,s.ok)("listItem"===t.type),t.checked="taskListCheckValueChecked"===e.type}function u(e){let t=this.stack[this.stack.length-2];if(t&&"listItem"===t.type&&"boolean"==typeof t.checked){let e=this.stack[this.stack.length-1];(0,s.ok)("paragraph"===e.type);let n=e.children[0];if(n&&"text"===n.type){let r;let i=t.children,o=-1;for(;++o<i.length;){let e=i[o];if("paragraph"===e.type){r=e;break}}r===e&&(n.value=n.value.slice(1),0===n.value.length?e.children.shift():e.position&&n.position&&"number"==typeof n.position.start.offset&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function h(e,t,n,r){let i=e.children[0],o="boolean"==typeof e.checked&&i&&"paragraph"===i.type,a="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);o&&s.move(a);let c=l.p.listItem(e,t,n,{...r,...s.current()});return o&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(e){return e+a})),c}function d(){return[(0,r.t)(),(0,i.b)(),(0,o.v)(),(0,a.t)(),{exit:{taskListCheckValueChecked:c,taskListCheckValueUnchecked:c,paragraph:u}}]}function f(e){return{extensions:[(0,r.J)(),(0,i.n)(e),(0,o.r)(),(0,a.x)(e),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:h}}]}}},729025:function(e,t,n){"use strict";function r(e,t,n){let r=e.all(t),o=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;let n=e.children,r=-1;for(;!t&&++r<n.length;)t=i(n[r])}return t}(n):i(t),a={},s=[];if("boolean"==typeof t.checked){let e;let n=r[0];n&&"element"===n.type&&"p"===n.tagName?e=n:(e={type:"element",tagName:"p",properties:{},children:[]},r.unshift(e)),e.children.length>0&&e.children.unshift({type:"text",value:" "}),e.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){let e=r[l];(o||0!==l||"element"!==e.type||"p"!==e.tagName)&&s.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||o?s.push(e):s.push(...e.children)}let c=r[r.length-1];c&&(o||"element"!==c.type||"p"!==c.tagName)&&s.push({type:"text",value:"\n"});let u={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,u),e.applyData(t,u)}n.d(t,{q:function(){return r}});function i(e){let t=e.spread;return null==t?e.children.length>1:t}},245874:function(e,t,n){"use strict";function r(e,t){let n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}n.d(t,{A:function(){return r}})},61746:function(e,t,n){"use strict";function r(e,t){let n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}n.d(t,{K:function(){return r}})},804033:function(e,t,n){"use strict";function r(e,t,n){let r=n?n.children:void 0,i=0===(r?r.indexOf(t):1)?"th":"td",o=n&&"table"===n.type?n.align:void 0,a=o?o.length:t.children.length,s=-1,l=[];for(;++s<a;){let n=t.children[s],r={},a=o?o[s]:void 0;a&&(r.align=a);let c={type:"element",tagName:i,properties:r,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(n,c)),l.push(c)}let c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)}n.d(t,{R:function(){return r}})},52441:function(e,t,n){"use strict";n.d(t,{l:function(){return i}});function r(e,t,n){if("string"==typeof t&&(t=[t]),!t||0===t.length)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function i(e,t,n,i){let o=-1;for(;++o<n.unsafe.length;){var a,s;if("\n"===n.unsafe[o].character&&(a=n.stack,r(a,(s=n.unsafe[o]).inConstruct,!0)&&!r(a,s.notInConstruct,!1)))return/[ \t]/.test(i.before)?"":" "}return"\\\n"}},713494:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var r=n(502661),i=n(323481);function o(e,t,n,o){let a=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(o);if((0,i.T)(e,n)){let t=n.enter("headingSetext"),r=n.enter("phrasing"),i=n.containerPhrasing(e,{...s.current(),before:"\n",after:"\n"});return r(),t(),i+"\n"+(1===a?"=":"-").repeat(i.length-(Math.max(i.lastIndexOf("\r"),i.lastIndexOf("\n"))+1))}let l="#".repeat(a),c=n.enter("headingAtx"),u=n.enter("phrasing");s.move(l+" ");let h=n.containerPhrasing(e,{before:"# ",after:"\n",...s.current()});return/^[\t ]/.test(h)&&(h=(0,r.w)(h.charCodeAt(0))+h.slice(1)),h=h?l+" "+h:l,n.options.closeAtx&&(h+=" "+l),u(),c(),h}},172520:function(e,t,n){"use strict";function r(e){return e.value||""}n.d(t,{d:function(){return r}}),r.peek=function(){return"<"}},44150:function(e,t,n){"use strict";function r(e,t,n,r){let i=e.referenceType,o=n.enter("linkReference"),a=n.enter("label"),s=n.createTracker(r),l=s.move("["),c=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();let u=n.stack;n.stack=[],a=n.enter("reference");let h=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return a(),n.stack=u,o(),"full"!==i&&c&&c===h?"shortcut"===i?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(h+"]"),l}n.d(t,{N:function(){return r}}),r.peek=function(){return"["}},468203:function(e,t,n){"use strict";function r(e,t,n,r){return n.safe(e.value,r)}n.d(t,{f:function(){return r}})},892976:function(e,t,n){"use strict";function r(e){let t=e.options.strong||"*";if("*"!==t&&"_"!==t)throw Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}n.d(t,{M:function(){return r}})},165257:function(e,t,n){"use strict";n.d(t,{v:function(){return a}});var r=n(355831),i=n(681971),o=n(754251);let a={name:"attention",resolveAll:function(e,t){let n,i,a,l,c,u,h,d,f=-1;for(;++f<e.length;)if("enter"===e[f][0]&&"attentionSequence"===e[f][1].type&&e[f][1]._close){for(n=f;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[f][1]).charCodeAt(0)){if((e[n][1]._close||e[f][1]._open)&&(e[f][1].end.offset-e[f][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[f][1].end.offset-e[f][1].start.offset)%3))continue;u=e[n][1].end.offset-e[n][1].start.offset>1&&e[f][1].end.offset-e[f][1].start.offset>1?2:1;let p={...e[n][1].end},v={...e[f][1].start};s(p,-u),s(v,u),l={type:u>1?"strongSequence":"emphasisSequence",start:p,end:{...e[n][1].end}},c={type:u>1?"strongSequence":"emphasisSequence",start:{...e[f][1].start},end:v},a={type:u>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[f][1].start}},i={type:u>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},e[n][1].end={...l.start},e[f][1].start={...c.end},h=[],e[n][1].end.offset-e[n][1].start.offset&&(h=(0,r.V)(h,[["enter",e[n][1],t],["exit",e[n][1],t]])),h=(0,r.V)(h,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",a,t]]),h=(0,r.V)(h,(0,o.C)(t.parser.constructs.insideSpan.null,e.slice(n+1,f),t)),h=(0,r.V)(h,[["exit",a,t],["enter",c,t],["exit",c,t],["exit",i,t]]),e[f][1].end.offset-e[f][1].start.offset?(d=2,h=(0,r.V)(h,[["enter",e[f][1],t],["exit",e[f][1],t]])):d=0,(0,r.d)(e,n-1,f-n+3,h),f=n+h.length-d-2;break}}for(f=-1;++f<e.length;)"attentionSequence"===e[f][1].type&&(e[f][1].type="data");return e},tokenize:function(e,t){let n;let r=this.parser.constructs.attentionMarkers.null,o=this.previous,a=(0,i.r)(o);return function(s){return n=s,e.enter("attentionSequence"),function s(l){if(l===n)return e.consume(l),s;let c=e.exit("attentionSequence"),u=(0,i.r)(l),h=!u||2===u&&a||r.includes(l),d=!a||2===a&&u||r.includes(o);return c._open=!!(42===n?h:h&&(a||!d)),c._close=!!(42===n?d:d&&(u||!h)),t(l)}(s)}}};function s(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}},502881:function(e,t,n){"use strict";n.d(t,{k:function(){return a}});var r=n(662690),i=n(203667),o=n(658758);let a={resolve:function(e){return(0,o._)(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?o(t):(0,i.Ch)(t)?e.check(s,a,o)(t):(e.consume(t),r)}function o(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function a(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}},s={partial:!0,tokenize:function(e,t,n){let o=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),(0,r.f)(e,a,"linePrefix")};function a(r){if(null===r||(0,i.Ch)(r))return n(r);let a=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(r):e.interrupt(o.parser.constructs.flow,n,t)(r)}}}},402592:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var r=n(662690),i=n(203667);let o={name:"setextUnderline",resolveTo:function(e,t){let n,r,i,o=e.length;for(;o--;)if("enter"===e[o][0]){if("content"===e[o][1].type){n=o;break}"paragraph"===e[o][1].type&&(r=o)}else"content"===e[o][1].type&&e.splice(o,1),!i&&"definition"===e[o][1].type&&(i=o);let a={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[r][1].type="setextHeadingText",i?(e.splice(r,0,["enter",a,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end={...e[i][1].end}):e[n][1]=a,e.push(["exit",a,t]),e},tokenize:function(e,t,n){let o;let a=this;return function(t){let l,c=a.events.length;for(;c--;)if("lineEnding"!==a.events[c][1].type&&"linePrefix"!==a.events[c][1].type&&"content"!==a.events[c][1].type){l="paragraph"===a.events[c][1].type;break}return!a.parser.lazy[a.now().line]&&(a.interrupt||l)?(e.enter("setextHeadingLine"),o=t,function(t){return e.enter("setextHeadingLineSequence"),function t(n){return n===o?(e.consume(n),t):(e.exit("setextHeadingLineSequence"),(0,i.xz)(n)?(0,r.f)(e,s,"lineSuffix")(n):s(n))}(t)}(t)):n(t)};function s(r){return null===r||(0,i.Ch)(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}}}},928413:function(e,t,n){"use strict";n.d(t,{r:function(){return y}});var r=n("565253"),i=n("471423"),o=n("390106"),a=n("490422"),s=n("662690"),l=n("203667"),c=n("175686"),u=n("799537");function h(e,t,n){let r;let i=this,o=0,a=0;return function(e){let t=i.events.length-1;for(;t>-1;){let e=i.events[t][1].type;if("lineEnding"===e||"linePrefix"===e)t--;else break}let r=t>-1?i.events[t][1].type:null,o="tableHead"===r||"tableRow"===r?w:c;return o===w&&i.parser.lazy[i.now().line]?n(e):o(e)};function c(t){return e.enter("tableHead"),e.enter("tableRow"),function(e){return 124===e?u(e):(r=!0,a+=1,u(e))}(t)}function u(t){if(null===t)return n(t);if((0,l.Ch)(t))return a>1?(a=0,i.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),f):n(t);return(0,l.xz)(t)?(0,s.f)(e,u,"whitespace")(t):(a+=1,r&&(r=!1,o+=1),124===t)?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),r=!0,u):(e.enter("data"),h(t))}function h(t){return null===t||124===t||(0,l.z3)(t)?(e.exit("data"),u(t)):(e.consume(t),92===t?d:h)}function d(t){return 92===t||124===t?(e.consume(t),h):h(t)}function f(t){return(i.interrupt=!1,i.parser.lazy[i.now().line])?n(t):(e.enter("tableDelimiterRow"),r=!1,(0,l.xz)(t))?(0,s.f)(e,p,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):p(t)}function p(t){return 45===t||58===t?g(t):124===t?(r=!0,e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),v):function(e){return n(e)}(t)}function v(t){return(0,l.xz)(t)?(0,s.f)(e,g,"whitespace")(t):g(t)}function g(t){return 58===t?(a+=1,r=!0,e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),m):45===t?(a+=1,m(t)):null===t||(0,l.Ch)(t)?_(t):function(e){return n(e)}(t)}function m(t){return 45===t?(e.enter("tableDelimiterFiller"),function t(n){return 45===n?(e.consume(n),t):58===n?(r=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(n),e.exit("tableDelimiterMarker"),y):(e.exit("tableDelimiterFiller"),y(n))}(t)):function(e){return n(e)}(t)}function y(t){return(0,l.xz)(t)?(0,s.f)(e,_,"whitespace")(t):_(t)}function _(i){if(124===i)return p(i);if(null===i||(0,l.Ch)(i))return r&&o===a?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(i)):function(e){return n(e)}(i);return function(e){return n(e)}(i)}function b(e){return n(e)}function w(t){return e.enter("tableRow"),S(t)}function S(n){return 124===n?(e.enter("tableCellDivider"),e.consume(n),e.exit("tableCellDivider"),S):null===n||(0,l.Ch)(n)?(e.exit("tableRow"),t(n)):(0,l.xz)(n)?(0,s.f)(e,S,"whitespace")(n):(e.enter("data"),E(n))}function E(t){return null===t||124===t||(0,l.z3)(t)?(e.exit("data"),S(t)):(e.consume(t),92===t?k:E)}function k(t){return 92===t||124===t?(e.consume(t),E):E(t)}}function d(e,t){let n,r,i,o=-1,a=!0,s=0,l=[0,0,0,0],h=[0,0,0,0],d=!1,v=0,g=new c.r;for(;++o<e.length;){let c=e[o],u=c[1];"enter"===c[0]?"tableHead"===u.type?(d=!1,0!==v&&(p(g,t,v,n,r),r=void 0,v=0),n={type:"table",start:Object.assign({},u.start),end:Object.assign({},u.end)},g.add(o,0,[["enter",n,t]])):"tableRow"===u.type||"tableDelimiterRow"===u.type?(a=!0,i=void 0,l=[0,0,0,0],h=[0,o+1,0,0],d&&(d=!1,r={type:"tableBody",start:Object.assign({},u.start),end:Object.assign({},u.end)},g.add(o,0,[["enter",r,t]])),s="tableDelimiterRow"===u.type?2:r?3:1):s&&("data"===u.type||"tableDelimiterMarker"===u.type||"tableDelimiterFiller"===u.type)?(a=!1,0===h[2]&&(0!==l[1]&&(h[0]=h[1],i=f(g,t,l,s,void 0,i),l=[0,0,0,0]),h[2]=o)):"tableCellDivider"===u.type&&(a?a=!1:(0!==l[1]&&(h[0]=h[1],i=f(g,t,l,s,void 0,i)),h=[(l=h)[1],o,0,0])):"tableHead"===u.type?(d=!0,v=o):"tableRow"===u.type||"tableDelimiterRow"===u.type?(v=o,0!==l[1]?(h[0]=h[1],i=f(g,t,l,s,o,i)):0!==h[1]&&(i=f(g,t,h,s,o,i)),s=0):s&&("data"===u.type||"tableDelimiterMarker"===u.type||"tableDelimiterFiller"===u.type)&&(h[3]=o)}for(0!==v&&p(g,t,v,n,r),g.consume(t.events),o=-1;++o<t.events.length;){let e=t.events[o];"enter"===e[0]&&"table"===e[1].type&&(e[1]._align=(0,u.y)(t.events,o))}return e}function f(e,t,n,r,i,o){0!==n[0]&&(o.end=Object.assign({},v(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));let a=v(t.events,n[1]);if(o={type:1===r?"tableHeader":2===r?"tableDelimiter":"tableData",start:Object.assign({},a),end:Object.assign({},a)},e.add(n[1],0,[["enter",o,t]]),0!==n[2]){let i=v(t.events,n[2]),o=v(t.events,n[3]),a={type:"tableContent",start:Object.assign({},i),end:Object.assign({},o)};if(e.add(n[2],0,[["enter",a,t]]),2!==r){let r=t.events[n[2]],i=t.events[n[3]];if(r[1].end=Object.assign({},i[1].end),r[1].type="chunkText",r[1].contentType="text",n[3]>n[2]+1){let t=n[2]+1,r=n[3]-n[2]-1;e.add(t,r,[])}}e.add(n[3]+1,0,[["exit",a,t]])}return void 0!==i&&(o.end=Object.assign({},v(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function p(e,t,n,r,i){let o=[],a=v(t.events,n);i&&(i.end=Object.assign({},a),o.push(["exit",i,t])),r.end=Object.assign({},a),o.push(["exit",r,t]),e.add(n+1,0,o)}function v(e,t){let n=e[t],r="enter"===n[0]?"start":"end";return n[1][r]}let g={name:"tasklistCheck",tokenize:function(e,t,n){let r=this;return function(t){return null===r.previous&&r._gfmTasklistFirstContentOfListItem?(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),i):n(t)};function i(t){return(0,l.z3)(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),o):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),o):n(t)}function o(t){return 93===t?(e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(t)}function a(r){return(0,l.Ch)(r)?t(r):(0,l.xz)(r)?e.check({tokenize:m},t,n)(r):n(r)}}};function m(e,t,n){return(0,s.f)(e,function(e){return null===e?n(e):t(e)},"whitespace")}function y(e){return(0,r.W)([(0,i.E)(),(0,o.K)(),(0,a.Q)(e),{flow:{null:{name:"table",tokenize:h,resolveAll:d}}},{text:{91:g}}])}},674300:function(e,t,n){"use strict";function r(){return{disable:{null:["autolink","codeIndented","htmlFlow","htmlText"]}}}n.d(t,{n:function(){return r}})},641263:function(e,t,n){"use strict";n.d(t,{X:function(){return h}});var r=n(429209),i=n(203667),o=n(300232),a=n(77589),s=n(98289);let l={tokenize:function(e,t,n){return function(i){return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),e.attempt(r.w,t,n)}},partial:!0},c="https://github.com/micromark/micromark-extension-mdxjs-esm",u=new Set(["ExportAllDeclaration","ExportDefaultDeclaration","ExportNamedDeclaration","ImportDeclaration"]);function h(e){let t={tokenize:function(t,h,d){let f=this,p=f.parser.definedModuleSpecifiers||(f.parser.definedModuleSpecifiers=[]),v=this.events.length+1,g="";return f.interrupt?d:function(e){return f.now().column>1?d(e):(t.enter("mdxjsEsm"),t.enter("mdxjsEsmData"),t.consume(e),g+=String.fromCharCode(e),m)};function m(e){return(0,i.jv)(e)?(t.consume(e),g+=String.fromCharCode(e),m):("import"===g||"export"===g)&&32===e?(t.consume(e),y):d(e)}function y(e){return null===e||(0,i.Ch)(e)?(t.exit("mdxjsEsmData"),_(e)):(t.consume(e),y)}function _(e){return null===e?w(e):(0,i.Ch)(e)?t.check(l,w,b)(e):(t.enter("mdxjsEsmData"),y(e))}function b(e){return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),_}function w(i){let l=(0,o.A)(f.events.slice(v),{acorn:n,acornOptions:r,tokenTypes:["mdxjsEsmData"],prefix:p.length>0?"var "+p.join(",")+"\n":""});if(l.error){if(null!==i&&l.swallow)return b(i);let e=new s.$("Could not parse import/exports with acorn",{cause:l.error,place:{line:l.error.loc.line,column:l.error.loc.column+1,offset:l.error.pos},ruleId:"acorn",source:"micromark-extension-mdxjs-esm"});throw e.url=c+"#could-not-parse-importexports-with-acorn",e}p.length>0&&l.estree.body.shift();let d=-1;for(;++d<l.estree.body.length;){let e=l.estree.body[d];if(!u.has(e.type)){let t=new s.$("Unexpected `"+e.type+"` in code: only import/exports are supported",{place:(0,a.t)(e),ruleId:"non-esm",source:"micromark-extension-mdxjs-esm"});throw t.url=c+"#unexpected-type-in-code-only-importexports-are-supported",t}if("ImportDeclaration"===e.type&&!f.interrupt){let t=-1;for(;++t<e.specifiers.length;){let n=e.specifiers[t];p.push(n.local.name)}}}return Object.assign(t.exit("mdxjsEsm"),e.addResult?{estree:l.estree}:void 0),h(i)}},concrete:!0};if(!e||!e.acorn||!e.acorn.parse)throw Error("Expected an `acorn` instance passed in as `options.acorn`");let n=e.acorn,r=Object.assign({ecmaVersion:2024,sourceType:"module"},e.acornOptions,{locations:!0});return{flow:{101:t,105:t}}}},74951:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(203667);function i(e,t,n,i,o,a,s,l,c){let u=c||Number.POSITIVE_INFINITY,h=0;return function(t){return 60===t?(e.enter(i),e.enter(o),e.enter(a),e.consume(t),e.exit(a),d):null===t||32===t||41===t||(0,r.Av)(t)?n(t):(e.enter(i),e.enter(s),e.enter(l),e.enter("chunkString",{contentType:"string"}),v(t))};function d(n){return 62===n?(e.enter(a),e.consume(n),e.exit(a),e.exit(o),e.exit(i),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),f(n))}function f(t){return 62===t?(e.exit("chunkString"),e.exit(l),d(t)):null===t||60===t||(0,r.Ch)(t)?n(t):(e.consume(t),92===t?p:f)}function p(t){return 60===t||62===t||92===t?(e.consume(t),f):f(t)}function v(o){return!h&&(null===o||41===o||(0,r.z3)(o))?(e.exit("chunkString"),e.exit(l),e.exit(s),e.exit(i),t(o)):h<u&&40===o?(e.consume(o),h++,v):41===o?(e.consume(o),h--,v):null===o||32===o||40===o||(0,r.Av)(o)?n(o):(e.consume(o),92===o?g:v)}function g(t){return 40===t||41===t||92===t?(e.consume(t),v):v(t)}}},565253:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(355831);let i={}.hasOwnProperty;function o(e){let t={},n=-1;for(;++n<e.length;)(function(e,t){let n;for(n in t){let o;let a=(i.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];if(s)for(o in s){!i.call(a,o)&&(a[o]=[]);let e=s[o];(function(e,t){let n=-1,i=[];for(;++n<t.length;)("after"===t[n].add?e:i).push(t[n]);(0,r.d)(e,0,0,i)})(a[o],Array.isArray(e)?e:e?[e]:[])}}})(t,e[n]);return t}},53650:function(e,t,n){"use strict";function r(e,t){let n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(65535&n)==65535||(65535&n)==65534||n>1114111?"�":String.fromCodePoint(n)}n.d(t,{o:function(){return r}})},143206:function(e,t,n){"use strict";n.d(t,{U:function(){return r}});class r{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){let n=null==t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){this.setCursor(Math.trunc(e));let r=this.right.splice(this.right.length-(t||0),Number.POSITIVE_INFINITY);return n&&i(this.left,n),r.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),i(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),i(this.right,e.reverse())}setCursor(e){if(e!==this.left.length&&(!(e>this.left.length)||0!==this.right.length)&&(!(e<0)||0!==this.left.length)){if(e<this.left.length){let t=this.left.splice(e,Number.POSITIVE_INFINITY);i(this.right,t.reverse())}else{let t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);i(this.left,t.reverse())}}}}function i(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}},191790:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});var r=n(658758);function i(e){for(;!(0,r._)(e););return e}},939228:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});let r=(0,n(307469).U)({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()})},116989:function(e,t,n){"use strict";n.r(t),n.d(t,{InView:function(){return f},defaultFallbackInView:function(){return h},observe:function(){return d},useInView:function(){return p}});var r=n(88648),i=Object.defineProperty,o=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,a=(e,t,n)=>o(e,"symbol"!=typeof t?t+"":t,n),s=new Map,l=new WeakMap,c=0,u=void 0;function h(e){u=e}function d(e,t,n={},r=u){if(void 0===window.IntersectionObserver&&void 0!==r){let i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"==typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),()=>{}}let{id:i,observer:o,elements:a}=function(e){var t;let n=Object.keys(t=e).sort().filter(e=>void 0!==t[e]).map(e=>{var n;return`${e}_${"root"===e?(n=t.root)?l.has(n)?l.get(n):(c+=1,l.set(n,c.toString()),l.get(n)):"0":t[e]}`}).toString(),r=s.get(n);if(!r){let t;let i=new Map,o=new IntersectionObserver(n=>{n.forEach(n=>{var r;let o=n.isIntersecting&&t.some(e=>n.intersectionRatio>=e);e.trackVisibility&&void 0===n.isVisible&&(n.isVisible=o),null==(r=i.get(n.target))||r.forEach(e=>{e(o,n)})})},e);t=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:n,observer:o,elements:i},s.set(n,r)}return r}(n),h=a.get(e)||[];return!a.has(e)&&a.set(e,h),h.push(t),o.observe(e),function(){h.splice(h.indexOf(t),1),0===h.length&&(a.delete(e),o.unobserve(e)),0===a.size&&(o.disconnect(),s.delete(i))}}var f=class extends r.Component{constructor(e){super(e),a(this,"node",null),a(this,"_unobserveCb",null),a(this,"handleNode",e=>{this.node&&(this.unobserve(),!e&&!this.props.triggerOnce&&!this.props.skip&&this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=e||null,this.observeNode()}),a(this,"handleChange",(e,t)=>{if(e&&this.props.triggerOnce&&this.unobserve(),!("function"!=typeof this.props.children))this.setState({inView:e,entry:t});this.props.onChange&&this.props.onChange(e,t)}),this.state={inView:!!e.initialInView,entry:void 0}}componentDidMount(){this.unobserve(),this.observeNode()}componentDidUpdate(e){(e.rootMargin!==this.props.rootMargin||e.root!==this.props.root||e.threshold!==this.props.threshold||e.skip!==this.props.skip||e.trackVisibility!==this.props.trackVisibility||e.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve()}observeNode(){if(!this.node||this.props.skip)return;let{threshold:e,root:t,rootMargin:n,trackVisibility:r,delay:i,fallbackInView:o}=this.props;this._unobserveCb=d(this.node,this.handleChange,{threshold:e,root:t,rootMargin:n,trackVisibility:r,delay:i},o)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){let{children:e}=this.props;if("function"==typeof e){let{inView:t,entry:n}=this.state;return e({inView:t,entry:n,ref:this.handleNode})}let{as:t,triggerOnce:n,threshold:i,root:o,rootMargin:a,onChange:s,skip:l,trackVisibility:c,delay:u,initialInView:h,fallbackInView:d,...f}=this.props;return r.createElement(t||"div",{ref:this.handleNode,...f},e)}};function p({threshold:e,delay:t,trackVisibility:n,rootMargin:i,root:o,triggerOnce:a,skip:s,initialInView:l,fallbackInView:c,onChange:u}={}){var h;let[f,v]=r.useState(null),g=r.useRef(u),[m,y]=r.useState({inView:!!l,entry:void 0});g.current=u,r.useEffect(()=>{let r;if(!s&&f)return r=d(f,(e,t)=>{y({inView:e,entry:t}),g.current&&g.current(e,t),t.isIntersecting&&a&&r&&(r(),r=void 0)},{root:o,rootMargin:i,threshold:e,trackVisibility:n,delay:t},c),()=>{r&&r()}},[Array.isArray(e)?e.toString():e,f,o,i,a,s,n,c,t]);let _=null==(h=m.entry)?void 0:h.target,b=r.useRef(void 0);!f&&_&&!a&&!s&&b.current!==_&&(b.current=_,y({inView:!!l,entry:void 0}));let w=[v,m.inView,m.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}},171975:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(467614);function i(e){let t=this;t.parser=function(n){return(0,r.V)(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}},564853:function(e,t,n){"use strict";n.d(t,{FK:function(){return a},Pk:function(){return i},rb:function(){return r}});let r=o("end"),i=o("start");function o(e){return function(t){let n=t&&t.position&&t.position[e]||{};if("number"==typeof n.line&&n.line>0&&"number"==typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"==typeof n.offset&&n.offset>-1?n.offset:void 0}}}function a(e){let t=i(e),n=r(e);if(t&&n)return{start:t,end:n}}},336669:function(e,t,n){"use strict";n.d(t,{Vn:function(){return i}});var r=n(407069);function i(e,t,n,i){let o,a,s;"function"==typeof t&&"function"!=typeof n?(a=void 0,s=t,o=n):(a=t,s=n,o=i),(0,r.S4)(e,a,function(e,t){let n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return s(e,r,n)},o)}},108869:function(e,t,n){"use strict";n.d(t,{mW:function(){return a}});let r=new Map,i=e=>{let t=r.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([e,t])=>[e,t.getState()])):{}},o=(e,t,n)=>{if(void 0===e)return{type:"untracked",connection:t.connect(n)};let i=r.get(n.name);if(i)return{type:"tracked",store:e,...i};let o={connection:t.connect(n),stores:{}};return r.set(n.name,o),{type:"tracked",store:e,...o}},a=(e,t={})=>(n,r,a)=>{let l;let{enabled:c,anonymousActionType:u,store:h,...d}=t;try{l=(null==c||c)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(e){}if(!l)return e(n,r,a);let{connection:f,...p}=o(h,l,d),v=!0;a.setState=(e,t,o)=>{let s=n(e,t);if(!v)return s;let l=void 0===o?{type:u||"anonymous"}:"string"==typeof o?{type:o}:o;return void 0===h?(null==f||f.send(l,r()),s):(null==f||f.send({...l,type:`${h}/${l.type}`},{...i(d.name),[h]:a.getState()}),s)};let g=(...e)=>{let t=v;v=!1,n(...e),v=t},m=e(a.setState,r,a);if("untracked"===p.type?null==f||f.init(m):(p.stores[p.store]=a,null==f||f.init(Object.fromEntries(Object.entries(p.stores).map(([e,t])=>[e,e===p.store?m:t.getState()])))),a.dispatchFromDevtools&&"function"==typeof a.dispatch){let e=!1,t=a.dispatch;a.dispatch=(...n)=>{"__setState"===n[0].type&&!e&&(e=!0),t(...n)}}return f.subscribe(e=>{var t;switch(e.type){case"ACTION":if("string"!=typeof e.payload)return;return s(e.payload,e=>{if("__setState"===e.type){if(void 0===h){g(e.state);return}Object.keys(e.state).length;let t=e.state[h];if(null==t)return;JSON.stringify(a.getState())!==JSON.stringify(t)&&g(t);return}if(!!a.dispatchFromDevtools)"function"==typeof a.dispatch&&a.dispatch(e)});case"DISPATCH":switch(e.payload.type){case"RESET":if(g(m),void 0===h)return null==f?void 0:f.init(a.getState());return null==f?void 0:f.init(i(d.name));case"COMMIT":if(void 0===h){null==f||f.init(a.getState());break}return null==f?void 0:f.init(i(d.name));case"ROLLBACK":return s(e.state,e=>{if(void 0===h){g(e),null==f||f.init(a.getState());return}g(e[h]),null==f||f.init(i(d.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return s(e.state,e=>{if(void 0===h){g(e);return}JSON.stringify(a.getState())!==JSON.stringify(e[h])&&g(e[h])});case"IMPORT_STATE":{let{nextLiftedState:n}=e.payload,r=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!r)return;void 0===h?g(r):g(r[h]),null==f||f.send(null,n);break}case"PAUSE_RECORDING":return v=!v}return}}),m},s=(e,t)=>{let n;try{n=JSON.parse(e)}catch(e){}void 0!==n&&t(n)}}}]);