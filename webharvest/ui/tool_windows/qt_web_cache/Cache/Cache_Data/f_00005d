(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["63351"],{485113:function(e,t,l){"use strict";l.d(t,{h:function(){return i}}),l(88648);var o=l(327306);let i=()=>(0,o._)()},255083:function(e,t,l){"use strict";l.d(t,{J:function(){return i},K:function(){return o}}),l(675373),l(209955);let o=e=>new Promise(t=>setTimeout(t,e));async function i(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500;for(let n=0;n<l;n++)try{let l=await e();if(t(l)){await o(i);continue}return l}catch(e){await o(i);continue}throw Error(`${l} retry times failed`)}},938878:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return iu}});var o=l("520739"),i=l("878389"),n=l("368200");l("874386"),l("338172");var r=l("563097"),a=l("88648"),s=l("454793"),d=l("909543"),u=l("465571"),c=l("729532"),f=l("311548"),v=l.n(f),h=l("713097"),m=l.n(h),_=l("902845"),p=l("532765"),w=l("32639"),g=l("358003"),x=l("301701"),y=l("597334"),j=l("598053"),C=l("480596"),I=l("738363"),k=l("746864"),S=l("147613"),b=l("317914"),L=l("822216"),N=l("89435"),E=l("782563"),T=l("782442"),P=l("381266"),R=l("831202"),M=l("637005"),F=l("252197"),A=l("616520"),O=l("217281"),D=l("758590"),H=l("832172"),z=l("117957"),V=l("288470"),Z=l("277926");l("429532");var U=l("17750"),B=l("79307"),W=l("491362"),$=l("28237"),q=l("30321"),G=l("667557"),J=l("387787"),K=l("330746"),Y=l("208987"),Q=l("407686"),X=l("81357"),ee=l("709409"),et=l("5415"),el=l("270116"),eo=l("765027"),ei=l("940826"),en=l("681799"),er=l("894995"),ea=l("661639"),es=l("550339"),ed=l("943695"),eu=l("552167"),ec=l("517864"),ef=l("527816"),ev=l("445482"),eh=l("392334"),em=l("159223"),e_=l("136880"),ep=l("855340"),ew=l("62919"),eg=l("437515"),ex=l("371976"),ey=l("85599"),ej=l("439087"),eC=l("503899"),eI=l("551496"),ek=l("843029"),eS=l("554281"),eb=l("777480"),eL=l("522376"),eN=l("164619"),eE=l("116945"),eT=l("744785"),eP=l("955462"),eR=l("567590"),eM=l("71575"),eF=l("33723"),eA=l("48559"),eO=l("477435"),eD=l("797367"),eH=l("244773");l("268917");var ez=l("946075"),eV=l("747909"),eZ=l("257130"),eU=l("544933"),eB=new eU.h({followEndPageShow:{eventName:"follow_end_page_show",params:{}},followEndPageClick:{eventName:"follow_end_page_click",params:{}}}),eW=l("948314"),e$=l("860684"),eq=l("473677");let eG=e=>{var t,l;let{awemeInfo:o,isActive:i}=e,n=(0,e$.n)(),s=(0,ez.k)(),[d,u]=(0,a.useState)(!1),c=(0,a.useCallback)(()=>{u(!1)},[]),f=(0,a.useCallback)(()=>{s.push("/"),eB.sendLog("followEndPageClick",{})},[]);return(0,a.useEffect)(()=>{if(i){var e;if(o.lastView&&!(null===(e=o.lastView)||void 0===e?void 0:e.isAlreadyClosed))return eB.sendLog("followEndPageShow",{}),u(!0),o.lastView.isAlreadyClosed=!0,()=>{u(!1)}}},[i]),(0,a.useEffect)(()=>{if(d&&n){var e;let t=n.getPlugin("AutoPlaySettingPlugin");if(null==t?void 0:null===(e=t.config)||void 0===e?void 0:e.nextAutoPlay)return t.config.nextAutoPlay=!1,()=>{t.config.nextAutoPlay=!0}}},[d]),d&&(null==o?void 0:o.lastView)?(0,r.jsx)("div",{className:m()(eW.default.sevenDayMask),onClick:c,children:(0,r.jsxs)("div",{className:eW.default.tipWrapper,children:[(0,r.jsx)("span",{className:eW.default.tip,children:null==o?void 0:null===(t=o.lastView)||void 0===t?void 0:t.empty_msg}),(0,r.jsxs)(eV.Button,{theme:"solid",className:eW.default.button,onClick:f,children:[(0,r.jsx)(eq.Z,{src:eZ.Z,viewBox:"0 0 17 12"}),(0,r.jsx)("span",{children:null==o?void 0:null===(l=o.lastView)||void 0===l?void 0:l.empty_button_msg})]})]})}):null};var eJ=l("248333"),eK=l("249609"),eY=l("923693"),eQ=l("15303"),eX=l("644860"),e0=l("592162"),e1=l("97598"),e2=l("348447"),e3=l("41667"),e8=l("399083"),e5=l("185026"),e7=l("495765"),e6=l("502100"),e4=l("532048"),e9=l("749014"),te=l("326111"),tt=l("312540"),tl=l("893849"),to=l("575953"),ti=l("950081"),tn=l("156053"),tr=l("399818"),ta=l("774314"),ts=l("40970"),td=l("680366"),tu=l("333661"),tc=l("250286"),tf=l("356650"),tv=l("488799");l("838368"),l("368529");var th=l("250255"),tm=l("169171"),t_=l("150854"),tp=l("427694"),tw=l("563830"),tg=l("551677"),tx=l("617297"),ty=l("743317"),tj=l("643728"),tC=l("757135"),tI=l("881155"),tk=l("903868"),tS=l("877438");let tb=(0,a.forwardRef)((e,t)=>{var l,i,n,s,d,c,f,v,h,_,p,w,g,x,y,j,C,I;let{isActive:S,isNext:L,isPrev:N,isFirst:T,isLast:P,awemeInfo:R,nextAwemeInfo:M,prevAwemeInfo:F,playNextFunc:A,abtestData:O,deleteCurrentSwiper:D,toggleComment:H,onAvatarClick:z,fullScreenTarget:V,logParams:Z,videoToast:ez,followHandler:eV,playPrevFunc:eZ,userInfo:eU,dispatch:eB,isShowCssFullScreenGuide:eW,isAuthorCardShow:e$,children:eq,videoHashtagClassName:tb,videoTags:tL,isShowRelatedCard:tN,actionFollow:tE,actionUnFollow:tT,moreBoxShowList:tP,onActivityCardClick:tR=()=>{},onShopAnchorClick:tM=()=>{},onShopAnchorMouseEnter:tF=()=>{},onShopAnchorMouseLeave:tA=()=>{},onRelatedClick:tO,LiveSliderCard:tD,showPlaySwitch:tH=!0,shortCutFiltered:tz,positionBoxClassName:tV,isInnerFeed:tZ,onCooperationAuthorClick:tU,isShowCooperation:tB,sideBarShow:tW,slardarInstance:t$,defaultIsPageFullScreen:tq,avatarTipText:tG,onDislike:tJ,index:tK,isMultiInstanceScene:tY,onDouPlusClick:tQ,onSodaClick:tX,chapterProps:t0,recommendTagProps:t1,canShowListenVideo:t2=!1,listenFeedPrevAwemeInfo:t3,listenFeedNextAwemeInfo:t8,aiNoteProps:t5,isShowAiCard:t7,sideCardContext:t6}=e,{isMainland:t4,isWebMiniWin:t9,pipWindow:le,supportDocumentPip:lt,isListenVideoMiniWin:ll}=(0,tk.Iq)(e=>{let{isMainland:t,isWebMiniWin:l,pipWindow:o,supportDocumentPip:i,isListenVideoMiniWin:n}=e;return{isMainland:t,isWebMiniWin:l,pipWindow:o,supportDocumentPip:i,isListenVideoMiniWin:n}}),lo=(0,q.Nr)(location.pathname),li=(0,a.useRef)(null),{isClientMiniWin:ln,isCssFullScreen:lr,isFullScreen:la}=(0,a.useContext)(Y.C),{hasChapterBar:ls}=(0,ti.W)(O,R,null===(l=li.current)||void 0===l?void 0:l.player),ld=(0,E.DT)(),{noPaidVideo:lu}=(0,e1.B)({awemeInfo:R});(0,e2.u)({awemeInfo:R,player:null===(i=li.current)||void 0===i?void 0:i.player});let lc=(0,a.useMemo)(()=>t9||ln||ll,[t9,ln,ll]),{enablePip:lf}=(0,e3.$)({abtestData:O,awemeInfo:R}),lv=(0,G.D)(R),{isDanmuIcon:lh,hideList:lm,isChapterIcon:l_,chapterMaxWidth:lp,isAiNoteIcon:lw}=(0,e8.Cy)({isActive:S,abtestData:O,player:null===(n=li.current)||void 0===n?void 0:n.player,hasChapter:ls,hasAiNote:null==t5?void 0:t5.useable,isMiniWin:lc,isClientMiniWin:ln,showInnerAutoplay:tZ&&!lu,showAutoPlay:!lu,showSubtitles:!!(null==R?void 0:R.claInfo),showFakeScreen:(null==R?void 0:R.awemeType)!==k.e.Note,showPlayBackRatio:(null==R?void 0:R.awemeType)!==k.e.Note,showWatchLater:lv});(0,u.C)(b.w3.components.follow_video),(0,e5._)({awemeInfo:R,prevAwemeInfo:F,isInnerFeedModel:tZ&&S}),(0,a.useEffect)(()=>{var e,t;let l=null===(e=li.current)||void 0===e?void 0:e.getPlayer();lo&&null!==l&&T&&(null===(t=l.pause)||void 0===t||t.call(l),l.config.autoplay=!1,l.autoplay=!1)},[li.current]),(0,tp.g)({player:null==li?void 0:null===(s=li.current)||void 0===s?void 0:s.player,awemeInfo:R}),(0,a.useImperativeHandle)(t,()=>({getPlayer:()=>li.current.getPlayer()}),[]),(0,e7.j)({player:null==li?void 0:null===(d=li.current)||void 0===d?void 0:d.player,isActive:S,abValue:O}),(0,e6.V)({awemeInfo:R}),(0,e4.D)({awemeInfo:R,isActive:S});let{isShowGuideDownload:lg}=(0,e9.m)({abtestData:O,awemeInfo:R,isActive:S,isLogin:null==eU?void 0:eU.isLogin,player:null===(c=li.current)||void 0===c?void 0:c.player}),lx=(0,a.useMemo)(()=>{let e={},t=(0,tn.YO)({abtestData:O,awemeInfo:R,isInnerFeed:tZ});return Object.assign(e,(0,to.k)({awemeInfo:R,abtestData:O,enableSr:t}),(0,tr.QF)({awemeInfo:R,abtestData:O,enableSr:t})),(0,ta.Zf)({config:e,awemeInfo:R,abtestData:O}),(0,ts.LX)({config:e,awemeInfo:R,abtestData:O,isMultiInstanceScene:tY}),e.startTime=(0,ee.v)(R.awemeId),e.pip&&(e.pip.showIcon=lf),e},[R,O,lf]),ly=(0,a.useMemo)(()=>{var e;return[...(null==tP?void 0:tP.notInterestingIcon)?[]:[null===(e=U.getShortcut().dislike)||void 0===e?void 0:e.badgeText],...tz||[]]},[null==tP?void 0:tP.notInterestingIcon,tz]);(0,te.w)({player:null===(f=li.current)||void 0===f?void 0:f.player,isActive:S,awemeInfo:R,abtestData:O,isInnerFeed:tZ}),(0,tt.Q)({player:null===(v=li.current)||void 0===v?void 0:v.player,isActive:S,abtestData:O,isSliderVideo:!0,isKeyWorkCancalLike:!0,awemeInfo:R,isClientMiniWin:ln,pipWindow:le,isLogin:null==eU?void 0:eU.isLogin}),(0,th.b)({isActive:S,player:null===(h=li.current)||void 0===h?void 0:h.player}),(0,td.P)({player:null===(_=li.current)||void 0===_?void 0:_.player}),(0,tl.U)({config:lx,isActive:S,awemeInfo:R,player:null===(p=li.current)||void 0===p?void 0:p.player});let lj={scene:B.lT.Follow,awemeInfo:R,abtestData:O,userInfo:eU,isMiniWin:lc,isActive:S,isInnerFeed:tZ,player:null==li?void 0:null===(w=li.current)||void 0===w?void 0:w.player,fullScreenTarget:V},lC=(0,a.useRef)(!1),lI=(0,a.useMemo)(()=>S||L||N,[S,N,L]);lC.current=lI;let lk=(0,J.x)(),{anchorList:lS,hasJingxuanActivity:lb}=(0,tx.e)({abtestData:O,awemeInfo:R}),lL=!lb&&(0,tj.$)({abTestData:O,awemeInfo:R}),{listenVideoDisablePrev:lN,listenVideoDisableNext:lE}=(0,tw.T)({isAuthorCardShow:e$,isFirst:T,isLast:P,isShowRelatedCard:tN,canUseListenFeed:!1,prevAwemeInfo:F,nextAwemeInfo:M,listenFeedPrevAwemeInfo:t3,listenFeedNextAwemeInfo:t8,isInnerFeed:tZ,isActive:S});return(0,tS.O)({abtestData:O,player:null==li?void 0:null===(g=li.current)||void 0===g?void 0:g.player,awemeInfo:R,isActive:S}),(0,r.jsxs)(r.Fragment,{children:[(lr||la)&&!lc&&S&&(0,r.jsx)(t_.default,(0,o._)({},lj)),(0,r.jsxs)(X.f,{xgplayerConfig:lx,isInitPlayer:lI,style:(0,o._)({height:"100%",width:"100%"},ll?{display:"none"}:{}),className:m()(Q.default.container,"chapterPlayerStyle","lowPopup"),ref:li,slardarInstance:t$,children:[(0,r.jsx)(et.p,{onRegisterSuccess:()=>{S&&(0,tu.g)(li.current.player)},isActive:S,scene:B.lT.Follow}),(0,r.jsx)(ee.t,{awemeInfo:R,player:null===(x=li.current)||void 0===x?void 0:x.player,isActive:S}),(0,r.jsxs)(el.n,{isActive:S,controlHeight:B.fp.MidHigh,position:"right",awemeInfo:R,className:tV,abtestData:O,children:[(tH&&!ln||t9)&&(0,r.jsx)(eo.I,{playNextFunc:A,playPrevFunc:eZ,disablePrev:T&&!(e$||tN)||(e$||tN)&&!F,disableNext:P&&!(e$||tN)||(e$||tN)&&!M,className:m()(Q.default.playSwitchContainer,"filter-bg")}),S&&!ln&&(0,r.jsx)(ei.Interaction,{canShowListenVideo:t2,playPrevFunc:eZ,playNextFunc:A,listenVideoDisableNext:lE,listenVideoDisablePrev:lN,actionFollow:tE,actionUnFollow:tT,awemeInfo:R,toggleComment:H,loginUserInfo:eU,loginDispatch:eB,deleteCurrentSwiper:D,fullScreenTarget:V,onAvatarClick:z,abtestData:O,videoToast:ez,isActive:S,followHandler:eV,onRelatedClick:tO,onDouPlusClick:tQ,reportExtraParams:Z,moreBoxShowList:(0,o._)({notInterestingIcon:!0,unfollow:!0,report:!0,shortcutList:!0},tP),from:B.lT.Follow,LiveSliderCard:tD,avatarTipText:tG,onDislike:tJ,isInnerFeed:tZ,isShowAiCard:t7,scene:"aweme_follow_pc",recommendTriggered:null==t1?void 0:t1.recommended,showRecommendToFriend:!!t1})]}),(0,r.jsx)(en._,{awemeInfo:R,controlHeight:B.fp.MidHigh,showImg:!(0,K.G6)(),isActive:S,abtestData:O}),(0,r.jsx)(er.V,{awemeInfo:R,isActive:S}),(null==R?void 0:null===(y=R.chargeInfo)||void 0===y?void 0:y.is_charge_content)&&(0,r.jsx)(ea.V,{awemeInfo:R,isActive:S,isMiniWin:lc,isShowReplay:!lc}),tZ||lu?null:(0,r.jsx)(es.kL,{isActive:S,awemeInfo:R,playNextFunc:A,ablePlayNext:!(P&&!(e$||tN)||(e$||tN)&&!M),shortcutDisabled:!1}),tZ&&!lu?(0,r.jsx)(ed.Ot,{isActive:S,awemeInfo:R,playPrevFunc:eZ,playNextFunc:A,ablePlayPrev:!((e$||tN)&&!F),ablePlayNext:!((e$||tN)&&!M),hide:lm.some(e=>e[0]===e8.p7.InnerAutoPlayer),abtestData:O}):null,!lu&&(0,r.jsx)(eu.SD,{isActive:S,awemeInfo:R,abtestData:O,isInnerFeed:tZ,isOutFeed:!tZ,hide:lm.some(e=>e[0]===e8.p7.Clear)}),(0,r.jsx)(ec.SE,{isActive:S,awemeInfo:R,abtestData:O}),(null==R?void 0:null===(j=R.video)||void 0===j?void 0:j.duration)>18e4&&(0,r.jsx)(ef.S,{awemeInfo:R,isActive:S,isLogin:null==eU?void 0:eU.isLogin,isMiniWin:lc}),ld&&(0,r.jsx)(tm.zm,{isActive:S,awemeInfo:R,isInnerFeed:tZ,abtestData:O}),(0,r.jsx)(ev.k,{isActive:S,onVolumeShortCutChange:()=>{var e;(0,tc.t)(null===(e=li.current)||void 0===e?void 0:e.player)}}),(0,r.jsx)(eh.g,{isActive:S,abtestData:O,awemeInfo:R}),(0,r.jsx)(em.b,{isActive:S}),(0,r.jsx)(e_.h,{isActive:S}),!(0,tf.GP)(R)&&(0,r.jsx)(ep.Z,{awemeInfo:R,userInfo:eU,isActive:S,isNext:L,isPrev:N,logParams:Z}),(0,r.jsx)(ew.L,{awemeInfo:R,isActive:S,abtestData:O,suspendWhenMetaIsUndefined:!0}),(0,r.jsx)(eg.P,{isActive:S,awemeInfo:R,abtestData:O,userInfo:eU,enablePip:lf}),(0,r.jsx)(ex.E,{isActive:S,awemeInfo:R,abtestData:O,userInfo:eU,deleteCurrentSwiper:D,config:lx,isNext:L,currentIndex:tK}),lv&&(0,r.jsx)(ey.vq,{isActive:S,awemeInfo:R,isLogin:null==eU?void 0:eU.isLogin,loginDispatch:eB,toast:ez,logParams:Z,abtest:O}),lf&&(0,r.jsx)(ej._,{isActive:S,awemeInfo:R,abtestData:O}),(0,r.jsx)(eC.F,{isActive:S,awemeInfo:R,isLogin:null==eU?void 0:eU.isLogin,loginDispatch:eB,abtestData:O,from:B.lT.Follow,logParams:Z,isMiniWin:lc}),(0,r.jsx)(eI.o,{isActive:S,awemeInfo:R}),(null==R?void 0:R.awemeType)===k.e.Note?(0,r.jsx)(ek.PictureMode,{isActive:S,awemeInfo:R,logParams:Z,abTestData:O,playNextFunc:A,ablePlayNext:!(P&&!e$||e$&&!M),playPrevFunc:eZ,ablePlayPrev:!!F,isClientMiniWin:ln,isShowSideBar:tW}):null,(0,r.jsx)(eS.q,{isActive:S,abtestData:O,awemeInfo:R,isInnerFeed:tZ}),(0,r.jsx)(eb.ZL,{isActive:S,userInfo:eU,dispatch:eB,abtestData:O,awemeInfo:R,isInnerFeed:tZ}),(0,r.jsx)(eL.PlayBackSetting,{isActive:S,awemeInfo:R,logParams:Z,speedType:(0,K.G6)()?W.$.Safari:W.$.Normal}),eq,(!lc||lk)&&(0,r.jsx)(eN.I,{isActive:S,fullScreenTarget:V,disableHook:!0}),!lc&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eE.Danmaku,{isActive:S,awemeInfo:R,userInfo:eU,loginDispatch:eB,abtestData:O,isDanmuIcon:lh}),(0,r.jsx)(eT.e,{isActive:S,awemeInfo:R,abtestData:O,aiNoteProps:t5,isAiNoteIcon:lw}),ls?(0,r.jsx)(eP.WC,{isActive:S,awemeInfo:R,userInfo:eU,loginDispatch:eB,abtestData:O,isChapterIcon:l_,chapterProps:t0,logParams:Z,chapterMaxWidth:lp}):null,(0,r.jsx)(eR.Vw,{awemeInfo:R,isShowGuide:eW,logParams:Z,isActive:S,defaultIsPageFullScreen:tq,abtestData:O}),(0,r.jsxs)(eM.r,{isActive:S,controlHeight:B.fp.MidHigh,isClientMiniWin:ln,position:"bottom",awemeInfo:R,abtestData:O,children:[lL&&!(null==t1?void 0:t1.recommendTagType)&&(0,r.jsx)(tj.n,{scene:"player",awemeInfo:R}),!(0,tI.$m)(R)&&(null==t1?void 0:t1.recommendTagType)&&!(null==t1?void 0:t1.isShowVideoInfoSideCard)&&(0,r.jsx)(tC.B,(0,o._)({userInfo:eU,awemeInfo:R,player:null==li?void 0:null===(C=li.current)||void 0===C?void 0:C.player,abTestData:O},t1)),lS.length>0&&(0,r.jsx)(ty.E,{awemeInfo:R,anchorList:lS,openActivityCard:tR,abtestData:O}),t4&&(0,$.n)(R)&&(0,r.jsx)(eF.n,{awemeInfo:R,onClick:tM,isActive:S,onMouseEnter:tF,onMouseLeave:tA}),(0,r.jsx)(eA.VideoInfo,{isActive:S,awemeInfo:R,userInfo:eU,isTopicLinkSearchResult:!0,videoTags:tL||[],scene:B.lT.Follow,videoHashtagClassName:tb,abTestData:O,isShowCreateTime:!0,onCooperationAuthorClick:tU,canMixListen:!tZ,onSodaClick:tX,isShowCooperation:tB,showSideBar:tW,loginUserInfo:eU,loginDispatch:eB,fullScreenTarget:V,reportExtraParams:Z,showGuideDownloadClient:lg,sideCardContext:t6,showExpandButtonInner:(null==O?void 0:O.aiNoteV2)===2})]}),(0,r.jsx)(eO.x,{isActive:S,awemeInfo:R,abtestData:O,scene:"follow"}),(0,r.jsx)(eD.h,{awemeInfo:R,isActive:S,userInfo:eU,abtestData:O}),(0,r.jsx)(eH.MenuList,{isActive:S,abtestData:O,isSliderVideo:!0,isKeyWorkCancalLike:!0,awemeInfo:R,showEnterDetail:!0,shortCutFiltered:ly,userInfo:eU,showRecommendToFriend:!!t1}),(0,r.jsx)(eG,{isActive:S,awemeInfo:R}),(0,r.jsx)(eJ.B,{awemeInfo:R,abtestData:O,isActive:S}),lg?(0,r.jsx)(eK.PostGuideDownload,{isActive:S,awemeInfo:R,userInfo:eU,abtestData:O,player:null==li?void 0:null===(I=li.current)||void 0===I?void 0:I.player}):null,(null==lm?void 0:lm.length)>0&&(0,r.jsx)(eY.SettingList,{isActive:S,awemeInfo:R,hideList:lm,dispatch:eB,abtestData:O,userInfo:eU}),(0,r.jsx)(eQ.I,{abtestData:O,isActive:S,awemeInfo:R,logParams:Z,isChapterScene:!0}),(0,r.jsx)(tg.P,{abtestData:O,isActive:S,controlHeight:B.fp.MidHigh})]}),t9&&(0,r.jsx)(tv.U,{awemeInfo:R}),ln&&(0,r.jsxs)(r.Fragment,{children:[S&&(0,r.jsx)(eX.MiniWinMask,{isActive:S,awemeInfo:R,abtestData:O,playPrevFunc:eZ,playNextFunc:A,disablePrev:T&&!(e$||tN)||(e$||tN)&&!F,disableNext:P&&!(e$||tN)||(e$||tN)&&!M,ablePlayNext:!(P&&!(e$||tN)||(e$||tN)&&!M),loginUserInfo:eU,loginDispatch:eB,fullScreenTarget:V,reportExtraParams:Z,recordPreferVideoSwitch:!0}),S&&!lk&&(0,r.jsx)(e0.N,{awemeInfo:R})]})]})]})});var tL=l("840201"),tN=l("327306"),tE=l("151681"),tT=l("123869"),tP=l("612075");l("779788"),l("250440"),l("675373");var tR=l("496349"),tM=l("349135"),tF=l("234048"),tA=l("622995");let{COMMON_SEARCH_PARAMS:tO}=tR;async function tD(e){let{cursor:t,level:l,count:n=20,pull_type:r,customConfig:a={},awemeIds:s=[],roomIds:d=[],refresh_type:u}=e,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{json:f,result:v}=await (0,tA.g8)("/aweme/v1/web/follow/feed/",(0,i._)((0,o._)({},tO),{cursor:t,level:l,count:n,pull_type:r,refresh_type:u,aweme_ids:s.join(","),room_ids:d.join(",")}),c,e=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{data:l=[],status_code:n,log_pb:r,has_more:a,cursor:s,level:d,last_view:u}=e,c=null==l?void 0:l.map(e=>{var t,l;if(3===e.feed_type){;return(t=e).aweme={},t.aweme.cell_room=null==t?void 0:t.cell_room,t.aweme.aweme_type=101,t.aweme.is_from_sort=null==t?void 0:t.is_from_sort,(e=t).aweme.logPb=r&&JSON.stringify(r),null==e?void 0:e.aweme}{;let t=null!==(l=null==e?void 0:e.aweme)&&void 0!==l?l:{};return(0,i._)((0,o._)({},t),{is_from_sort:e.is_from_sort})}});return{statusCode:n,hasMore:1===a,awemeList:(0,tM.TN)({awemeList:c||[],config:t,logPb:r&&JSON.stringify(r)}),logPb:r&&JSON.stringify(r),cursor:s,level:d,lastView:u}})(e,a),{},e=>{var t;return 0===e.statusCode&&(null===(t=e.awemeList)||void 0===t?void 0:t.length)===0&&!!e.hasMore});try{var h;let e=e=>[tF.$u.FollowEach,tF.$u.Followed].includes(e),t=null==v?void 0:null===(h=v.awemeList)||void 0===h?void 0:h.map(t=>{var l,n,r,a;if(!(null==t?void 0:t.cooperationInfo))return t;if(!e(null==t?void 0:null===(l=t.authorInfo)||void 0===l?void 0:l.followStatus)){let l=null===(a=t.cooperationInfo)||void 0===a?void 0:null===(r=a.cooperationCreators)||void 0===r?void 0:null===(n=r.filter(t=>e(null==t?void 0:t.followStatus)))||void 0===n?void 0:n[0];if(l)return(0,i._)((0,o._)({},t),{authorInfo:l})}return t});t&&(v.awemeList=t)}catch(e){}return v}var tH=l("207576"),tz=l("247723"),tV=l("449343"),tZ=l("792060"),tU={swiper:"QUvUI1qn",sevenDayMask:"HIImhWIe",tipWrapper:"x9N6PfgS",tip:"cYSsihGb",button:"Xy7JTSR0",swiperItem:"LzAv5xfl",content:"NqoHwRKS",isFullScreen:"OMwzc0Us",upperSpace:"CdIgzudV",noSelect:"ZH_CkIV9",loadingCt:"joc0pkdA",loading:"i5cABPXj",bottomDesc:"xPww7UiW",liveWindow:"pQ4uh7ps",expand:"SHn1xvIf",collapse:"MnwbtldA",hidden:"I0PaqkCO",followSideList:"Mrml9YfT",followSkylight:"sW7E77I4",outsideSwitchButton:"rPq0gtYR"},tB=l("35385"),tW=l("714318"),t$=l("462126"),tq=l("485113"),tG={recommend:4,4:"recommend",latest:1,1:"latest",earliest:3,3:"earliest"};let tJ=e=>{let{enable:t}=e,[l,o]=(0,a.useState)([]);return(0,S.o)(()=>{if(!!t)return M.listen(M.EVENT.syncInteractionStatus,e=>{let{action:t,toUserId:l}=e;if(!!l)"follow"===t?o(e=>e.filter(e=>e!==l)):"unFollow"===t&&o(e=>[...e,l])})},[t]),{unFollowList:l,setUnFollowList:o}},tK=e=>{let{enable:t,loadLiveData:l,setChoiceFollowingList:o,followingCount:i,setIsListCollapse:n,setUnFollowList:r,setHasMoreChoice:a}=e,s=(0,tN._)();(0,S.o)(()=>{if(!!t)return M.listen(M.EVENT.refreshPage,()=>{r([]),l(),a(!0),o([])})},[l,i,n,o,r,a,t]),(0,S.o)(()=>M.listen(M.EVENT.RefreshFeedList,()=>{r([]),l(),a(!0),o([])}),[l,i,n,o,r,a,s]),(0,S.o)(()=>M.listen(M.EVENT.RefreshFeedListOnly,()=>{l()}),[l,i,n,o,r,a,s])},tY=e=>{let{loadLiveData:t,enable:l,unFollowList:o,liveList:i}=e,[n,r]=(0,a.useState)([]),[s,d]=(0,a.useState)([]),[u,c]=(0,a.useState)([]),f=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{if(!!l&&!f.current)t(),f.current=!0},[l,t]),(0,a.useEffect)(()=>{c(n.filter(e=>!o.includes(e.uid))),d(i.filter(e=>!o.includes(e.anchorId||"")))},[o,i,n]),{choiceFollowingList:n,choiceListFilter:u,setChoiceFollowingList:r,liveListFilter:s}},tQ=e=>{let{isListShow:t,followingCount:l=-1,enable:o=!1}=e,i=(0,a.useRef)(!1),n=l>=0&&l<=t$.BO,[r,s]=(0,a.useState)(n),[d,u]=(0,a.useState)(n?72:208),{awemeFeed:c}=(0,tE.j)();return(0,a.useEffect)(()=>{!i.current&&l>=0&&(i.current=!0,s(l<=t$.BO))},[l]),(0,a.useEffect)(()=>{if(!!o){if(r){u(72);return}u(208)}},[t,r,o]),(0,a.useEffect)(()=>{if(t){let e=c.subscribe("modalAwemeInfo",e=>{e?u(0):u(r?72:208)});return()=>{e()}}},[t,r]),{isListCollapse:r,setIsListCollapse:s,listWidth:d}},tX=()=>{let[e,t]=(0,a.useState)([]),[l,o]=(0,a.useState)(!1),[i,n]=(0,a.useState)("");(0,tq.h)();let{setFollowListRoomData:r}=(0,tk.Iq)(e=>{let{setFollowListRoomData:t}=e;return{setFollowListRoomData:t}});return{liveList:e,hasMoreLive:l,loadLiveData:(0,a.useCallback)(async()=>{t([]),o(!0);let{data:e,statusCode:l=0,logId:i}=await (0,tW.y)({});o(!1),n(i),0===l&&(t(e),r(e))},[]),requestId:i,setLiveList:t}},t0=e=>{var t;let{userInfo:l,enable:n=!1}=e,r=null!==(t=null==l?void 0:l.followingCount)&&void 0!==t?t:-1,{liveList:s,hasMoreLive:d,loadLiveData:u,requestId:c,setLiveList:f}=tX(),{unFollowList:v,setUnFollowList:h}=tJ({enable:n}),[m,_]=(0,a.useState)(n&&0!==r),p=(0,a.useRef)(!1),w=tQ({followingCount:r,enable:n,isListShow:m}),[g,x]=(0,a.useState)(!0),[y,j]=(0,a.useState)(tG.recommend),[C,I]=(0,a.useState)(!1),{choiceFollowingList:k,liveListFilter:S,choiceListFilter:b,setChoiceFollowingList:L}=tY({loadLiveData:u,liveList:s,unFollowList:v,enable:n}),[N,E]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{!p.current&&r>=0&&(p.current=!0,_(n&&r>0))},[r,n]),tK({enable:n&&m,followingCount:r,loadLiveData:u,setChoiceFollowingList:L,setIsListCollapse:w.setIsListCollapse,setUnFollowList:h,setHasMoreChoice:x}),(0,a.useEffect)(()=>{if(!n||!p.current)return;let e=!d&&0===s.length,t=!g&&0===k.length,l=s.length+k.length,o=l>0&&v.length===l,i=0===r||o||e&&t;_(!i),E(0===l||i)},[s,k,v,r,d,g]),(0,i._)((0,o._)({isListShow:n&&m,setIsListShow:_,isListEmpty:N,setIsListEmpty:E,choiceFollowingList:b,liveList:S,setChoiceFollowingList:L,hasMoreChoice:g,setHasMoreChoice:x},w),{followingCount:r,requestId:c,setLiveList:f,sortType:y,setSortType:j,isSortTypeChangeLoading:C,setIsSortTypeChangeLoading:I})};var t1=l("43039");let t2=e=>{let{isFollowSideListShow:t,followSideListWidth:l}=null!=e?e:{};(0,tN._)();let{isAiSearchShow:i}=(0,t1.E)(),{removeSlideListButton:n}=(0,tk.Iq)(e=>{let{removeSlideListButton:t}=e;return{removeSlideListButton:t}}),r=(0,a.useMemo)(()=>{let e={};return t&&(e={left:`${l}px`,width:`calc(100% - ${l}px)`}),(0,o._)({},e,{paddingLeft:0,paddingRight:i?312:n?12:68})},[l,t,i,n]),[s,d]=(0,a.useState)({});return(0,S.o)(()=>M.listen(M.EVENT.changeMinWindows,e=>{let{isMiniWin:t}=e;d(t?{minWidth:"auto"}:{})}),[]),{swiperStyle:r,slideHeight:(0,a.useMemo)(()=>({cardBetween:12,upperSpace:t?0:12,nextSwiperHeaderHeight:0}),[t]),swiperItemStyle:s}};var t3=l("440823");let t8=e=>{let{isFollowSideListShow:t}=e,[l,o]=(0,a.useState)(!1),[i,n]=(0,a.useState)("");return(0,S.o)(()=>{let e=M.listen(M.EVENT.changeVideoSideBar,e=>{let{isShowRelatedCard:t=!1}=e;"Boolean"===(0,t3.tQ)(t)&&o(t)});return()=>e()},[]),(0,a.useEffect)(()=>{t&&n(l?"sideCardShow":"sideCardClose")},[t,l]),{outSwitchClassName:i}};var t5=l("828564"),t7=l("150566"),t6=l("402971");let t4=e=>{let{swiper:t,setAwemeInfoList:l,awemeInfoList:o}=e,{Context:i}=tP||{},{userInfo:n}=(0,t6.useUserInfoContext)()||{},{isLogin:r}=n;return(0,S.o)(()=>{if(void 0!==r&&!r){let e=(0,t7.Rs)("enter_method");return(0,g.showAccountPage)({success:()=>{window.location.reload()},headerText:"登录后即可关注",enterMethod:e||"follow_tab"}),()=>{(0,w.a)(),M.emit(M.EVENT.hideModal),g.loginPanelInfo.isShowingAccount=!1,g.loginPanelInfo.isInAccountPage=!1}}},[r]),(0,S.o)(()=>{if(t){let e=t5.a.addCb(e=>{let{actionUid:i,action:n}=e;if("unFollow"!==n)return;let r=t.activeIndex-o.slice(0,t.activeIndex).filter(e=>(null==e?void 0:e.authorInfo.uid)===i).length;l(o.filter(e=>{var t,l,o,n;return(null==e?void 0:null===(t=e.cellRoom)||void 0===t?void 0:t.rawdata)?(null==e?void 0:null===(n=e.cellRoom)||void 0===n?void 0:null===(o=n.rawdata)||void 0===o?void 0:null===(l=o.owner)||void 0===l?void 0:l.id_str)!==i:(null==e?void 0:e.authorInfo.uid)!==i}));try{t.slideTo(r,0)}catch(e){}});return()=>{null==e||e()}}},[t,o]),null};var t9=l("304036"),le="YwgeyVtP";let lt=e=>(0,r.jsx)("div",{className:le,children:(0,r.jsx)(t9.Z,{})});var ll=l("222406"),lo=l("793015"),li=l("273329");let ln=(0,a.createContext)(null),lr=()=>(0,a.useContext)(ln);var la="r4Wnbr_N",ls="wFt5HCT5",ld="L0TWOMys",lu="H_anrKJN",lc="L_1PUjx7",lf="JBzaQ5ig";let lv=e=>{let{isListCollapse:t}=e;return(0,r.jsxs)("div",{className:m()(lu,{[ls]:t}),children:[(0,r.jsx)("div",{className:lc}),(0,r.jsx)("div",{className:lf})]})};var lh=l("664094"),lm=l("784492"),l_=l("410665"),lp=l("301061"),lw=l("690089"),lg=l("239168");let lx=(0,a.forwardRef)((e,t)=>(0,r.jsxs)("svg",(0,i._)((0,o._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,r.jsx)("path",{d:"M8 16h11v-1.5H8V16zm0-5.25h11v-1.5H8v1.5zM8 5.5h11V4H8v1.5z",fill:"#fff",fillOpacity:".5"}),(0,r.jsx)("path",{d:"M4.383 14.526L1.04 10.322a.52.52 0 0 1 0-.644l3.343-4.204",stroke:"#fff",strokeOpacity:".5",strokeWidth:1.5})]}))),ly=(0,a.forwardRef)((e,t)=>(0,r.jsxs)("svg",(0,i._)((0,o._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,r.jsx)("path",{d:"M12 16H1v-1.5h11V16zm0-5.25H1v-1.5h11v1.5zm0-5.25H1V4h11v1.5z",fill:"#fff"}),(0,r.jsx)("path",{d:"M15.617 14.526l3.343-4.204a.52.52 0 0 0 0-.644l-3.343-4.204",stroke:"#fff",strokeWidth:1.5})]})));var lj=l("254897"),lC=l("452894");let lI={},lk=()=>{lI={}},lS=e=>{var t,l;return null!==(l=null===(t=lI[e])||void 0===t?void 0:t.length)&&void 0!==l?l:0},lb=e=>{var t;return null!==(t=lI[e])&&void 0!==t?t:[]},lL=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach(e=>{var t;e.secUid&&!lI[e.secUid]&&(null==e?void 0:null===(t=e.notSeenItemList)||void 0===t?void 0:t.length)>0&&(lI[e.secUid]=null==e?void 0:e.notSeenItemList)})},lN=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&t){var o;lI[e]=l?[]:(null!==(o=lI[e])&&void 0!==o?o:[]).filter(e=>e!==t)}},lE=e=>{lI[e]&&(lI[e]=[])},lT=e=>{var t;let l={},o=null!==(t=lb(e.secUid))&&void 0!==t?t:[];null==o||o.forEach(e=>l[e]={status:B.Pl.UnLook,countOnce:1,scene:lC.a.FollowAuthorModal}),T.Le.setConfig(T.gI.UnLookVideos,l)},lP=function(){let{onModalShow:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,a.useRef)(null),l=(0,a.useRef)(""),o=(0,a.useRef)(""),[i,n]=(0,a.useState)(!1),[r,s]=(0,a.useState)([]),d=(0,a.useCallback)(r=>{var a,d,u;if(i)return;let c=null!==(a=lb(r.secUid))&&void 0!==a?a:[];s(c);let f=null!==(d=null==c?void 0:c[0])&&void 0!==d?d:"",v=null!==(u=null==r?void 0:r.secUid)&&void 0!==u?u:"",h=null==r?void 0:r.awemeInfo;if(!!h||!!f||!!v){if(M.emit(M.EVENT.videoPause,"FollowAuthorModal_onFollowItemClick"),h){t.current=h,o.current=v,n(!0),null==e||e();return}if(f){l.current=f,o.current=v,n(!0),null==e||e(),lT(r);return}v&&(o.current=v,n(!0),n(!0),null==e||e())}},[e,i]),u=(0,a.useCallback)(()=>{n(!1),l.current="",o.current="",t.current=null},[]);return{awemeInfoRef:t,targetAwemeIdRef:l,targetAuthorSecUidRef:o,isModalShow:i,setIsModalShow:n,closeFollowUpdateModal:u,onFollowItemClick:d,logParams:(0,a.useMemo)(()=>({enter_from:"follow",enter_from_merge:"follow",enter_method:"click_follow_head_show"}),[]),notSeenItemList:r}};var lR=l("629499");l("242079"),l("851912"),l("826893"),l("927234");var lM=l("128231"),lF=l.n(lM),lA=l("63976");let lO=e=>{let{enableSearch:t=!1}=e,[l,n]=(0,a.useState)([]),[r,s]=(0,a.useState)(!1),[d,u]=(0,a.useState)(""),c=(0,a.useCallback)(lF()(async e=>{try{s(!0);let t=await (0,lA.nf)({count:100,business_id:90062,query:e});if(s(!1),null==t?void 0:t.userList){let l=null==t?void 0:t.userList.filter(e=>[tF.$u.Followed,tF.$u.FollowEach].includes(e.followStatus)).map(t=>{let l=null==t?void 0:t.nickname,n=RegExp(e,"i"),r=(t,l)=>{if(!l)return null;let{index:o}=l,i=(null==e?void 0:e.length)||0;return 0!==o?[t.slice(0,o),l[0],t.slice(o+i)].filter(e=>""!==e):i===t.length?[l[0]]:[l[0],t.slice(i)]},a=n.exec(l),s=r(l,a),d=n.exec(null==t?void 0:t.uniqueId),u=r((null==t?void 0:t.uniqueId)||"",d);return(0,i._)((0,o._)({},t),{selectedName:s,selectedUniqueId:u})});n(l)}else n([])}catch(e){s(!1)}},300,{trailing:!0}),[]);return(0,a.useEffect)(()=>{t&&(d?(s(!0),c(d)):n([]))},[t,d,c]),{searchVal:d,setSearchVal:u,searchList:l,searchIsLoading:r,setSearchList:n}};l("819117");var lD=l("877639"),lH=l.n(lD),lz=l("302653"),lV=l.n(lz),lZ=l("948375");l("954372");var lU=l("55426");let{COMMON_SEARCH_PARAMS:lB}=tR;async function lW(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,{json:n,result:r}=await (0,tA.g8)(l,(0,o._)({},lB,e),t,i);return r}async function l$(e){let{user_id:t,sec_user_id:l,offset:o=0,min_time:i=0,max_time:n=0,count:r=20,source_type:a=2,gps_access:s=0,address_book_access:d=0,is_top:u=1}=e,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return lW({user_id:t,sec_user_id:l,offset:o,min_time:i,max_time:n,count:r,source_type:a,gps_access:s,address_book_access:d,is_top:u},c,"/aweme/v1/web/user/following/list/",e=>(function(e,t){var l,o;let{has_more:i,hotsoon_has_more:n,hotsoon_text:r,log_pb:a,min_time:s,offset:d,status_code:u,rec_has_more:c,status_msg:f,max_time:v}=e;return{followList:(l=e[t],o=t,l?l.map(e=>{var t,l,i;let{sec_uid:n,uid:r,nickname:a,custom_verify:s,enterprise_verify_reason:d,avatar_uri:u,signature:c,follow_status:f,follower_status:v,secret:h,room_data:m,room_id:_,following_list_secondary_information_struct:p,not_seen_item_id_list_v2:w,not_seen_item_id_list:g,live_status:x,aweme_count:y=0,user_not_see:j=0,is_not_show:C=!1,app_id:I,account_cert_info:k,avatar_medium:S={},unique_id:b,short_id:L}=e;return{secUid:n,uid:r,nickname:a,customVerify:s,enterpriseVerifyReason:d,avatarUri:u||(null==S?void 0:null===(l=S.url_list)||void 0===l?void 0:null===(t=l.find)||void 0===t?void 0:t.call(l,e=>/\.jp(e)?g|\.png/.test(e)))||"",desc:c,followStatus:f,followerStatus:v,secret:h,roomData:m&&("followings"===o||"followers"===o)?JSON.parse(m):{},roomId:_,infoStruct:{priority:null==p?void 0:p.secondary_information_priority,text:null==p?void 0:p.secondary_information_text,textType:null==p?void 0:p.secondary_information_text_type},notSeenItemList:null!==(i=null!=w?w:g)&&void 0!==i?i:[],liveStatus:x,awemeCount:y,userNotSee:j,isNotShow:C,following_app_id:I,accountCertInfo:k?(0,tM.FB)((0,lU.As)(k)):{},uniqueId:b||L}}):[]),hasMore:i,hotsoonHasMore:n,hotsoonText:r,logPb:a,minTime:s,maxTime:v,offset:d,statusCode:u,recHasMore:c,statusMsg:f}})(e,"followings"))}var lq=l("720359");let lG=e=>{var t;let{abtestData:l}=e,{setChoiceFollowingList:o,hasMoreChoice:i,setHasMoreChoice:n,sortType:r,setIsListEmpty:s,setIsSortTypeChangeLoading:d}=lr(),{userInfo:u}=(0,tP.useUserContext)(),{uid:c="",secUid:f=""}=null!==(t=null==u?void 0:u.info)&&void 0!==t?t:{},v=(0,a.useRef)(!0),h=(0,a.useRef)(0),m=(0,a.useRef)(0),_=(0,a.useRef)(0),p=(0,lq.d)(r),w=(0,a.useCallback)(async()=>v.current?await l$({user_id:c,sec_user_id:f,offset:h.current,max_time:m.current,min_time:_.current,source_type:null==p?void 0:p.current}):null,[c,f]),g=(0,a.useCallback)((e,t)=>{let{followList:i=[],statusCode:r=-1,hasMore:a=!1,offset:s,maxTime:d,minTime:u}=e;if(0!==r){n(!1),v.current=!1;return}1===p.current&&(m.current=u||0),3===p.current&&(_.current=d||0),h.current=s||0;let c=i.filter(e=>![1,2,5,7].includes(null==e?void 0:e.liveStatus)&&1!==e.userNotSee&&!e.isNotShow);n(a),v.current=a,o(e=>{let o=lV()(t?c:[...e,...c],e=>e.uid);return(null==l?void 0:l.followOptimize)===1?o:(o.length>=30&&(n(!1),v.current=!1),o.slice(0,30))})},[l]);return(0,lm.Z)(()=>{s(!1),n(!0),p.current=r,v.current=!0,h.current=0,m.current=0,_.current=0,d(!0),w().then(e=>{e&&g(e,!0)}).finally(()=>d(!1))},[r]),{loadData:w,packData:g,hasMore:i}},lJ=()=>{let{choiceFollowingList:e}=lr();(0,a.useEffect)(()=>{lL(e)},[e]),(0,a.useEffect)(()=>M.listen(M.EVENT.syncInteractionStatus,e=>{let{action:t,awemeId:l,fromUserId:o,extraAwemeInfo:i}=e;if("lookVideo"===t){let{isFromSort:e=!0}=null!=i?i:{};o&&l&&e&&(lN(o,l),(0,lA.qA)({item_id_list:l,type:1}))}}),[]),(0,a.useEffect)(()=>()=>{lk()},[])},lK=e=>{let{abtestData:t}=e,{choiceFollowingList:l,hasMoreChoice:o}=lr(),{loadData:i,packData:n}=lG({abtestData:t}),[r,s]=(0,a.useState)(null),[d,u]=(0,a.useState)(null),c=(0,a.useRef)(!1),f=(0,lZ.Z)(()=>{if(!d||!r)return o;let e=d.getBoundingClientRect().top,t=r.scrollTop+r.clientHeight;return!!(e-100<t)&&o});return(0,S.o)(()=>{let e=!0;if(!!(!c.current||f()))return i().then(t=>{t&&e&&(n(t),c.current=!0)}),()=>{e=!1}},[n,i,l]),(0,a.useEffect)(()=>{if(!r)return;let e=!0,t=lH()(()=>{M.emit(M.EVENT.followListScroll),f()&&i().then(t=>{t&&e&&(n(t),c.current=!0)})},200);return r.addEventListener("scroll",t),()=>{e=!1,r.removeEventListener("scroll",t)}},[f,n,i,r]),lJ(),{scrollEl:r,setScrollEl:s,setLoadingEl:u,hasMore:o}};var lY={Live:"live",Choice:"choice"};let lQ=["live","choice"],lX=e=>{let{scrollEl:t,hasMore:l,abtestData:o,searchVal:i}=e,{liveList:n,choiceFollowingList:r,isListCollapse:s,followingCount:d}=lr(),[u,c]=(0,a.useState)(null),[f,v]=(0,a.useState)(null),[h,m]=(0,a.useState)(""),[_,p]=(0,a.useState)(),[w,g]=(0,a.useState)(d),x=e=>{let t=(null==o?void 0:o.followOptimize)?84:0,l="live";return lQ.forEach(o=>{let{titleEl:i,key:n,canShow:r}=e[o];if(!!r&&!!i)i.getBoundingClientRect().top<81+t&&(l=n)}),e[l]},y=(0,a.useMemo)(()=>({live:{key:"live",titleEl:u,canShow:(null==n?void 0:n.length)>0,text:`正在直播(${null==n?void 0:n.length})`},choice:{key:"choice",titleEl:f,canShow:(null==r?void 0:r.length)>0,text:(null==o?void 0:o.followOptimize)?`我的关注(${(0,lU.qe)(w)})`:`精选关注人(${l?30:null==r?void 0:r.length})`}}),[n,r,u,f,l,s,o,w]);return(0,a.useEffect)(()=>{if(!i&&!!t){if(0===t.scrollTop)for(let t=0;t<lQ.length;t++){var e;if(null===(e=y[lQ[t]])||void 0===e?void 0:e.canShow){m(y[lQ[t]].text),p(y[lQ[t]].key);break}}}},[y,t,i]),(0,a.useEffect)(()=>{if(!i)s?(m(""),p(void 0)):(m(x(y).text),p(x(y).key))},[s,i]),(0,a.useEffect)(()=>{if(null==o?void 0:o.followOptimize)return M.listen(M.EVENT.syncInteractionStatus,e=>{let{action:t}=e;"follow"===t?g(e=>e+1):"unFollow"===t&&g(e=>e-1)})},[o]),(0,a.useEffect)(()=>{if(s||i||!t)return;let e=lH()(()=>{m(x(y).text),p(x(y).key)},200);return t.addEventListener("scroll",e),()=>{t.removeEventListener("scroll",e)}},[y,t,s,i]),{isPartEmpty:0===lQ.filter(e=>y[e].canShow).length,topTitleText:s?"":h,currentPartKey:_,partMap:y,setLiveTitleEl:c,setChoiceTitleEl:v}},l0=e=>{let{enable:t}=e,{liveList:l}=lr(),[o,i]=(0,a.useState)(null),n=(0,a.useRef)(!1),r=(0,a.useRef)("none"),[s,d]=(0,a.useState)("none"),u=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{if(!l.length||!o||!t)return;let e=new IntersectionObserver(e=>{let t=e[0].intersectionRatio>0;!u.current&&(u.current=!0,n.current=t,r.current=t?"none":"in",d(t?"none":"in")),t&&"in"===r.current&&(r.current="out",d("out"))});return e.observe(o),()=>{e.disconnect()}},[o,l,t]),(0,a.useEffect)(()=>{if("out"!==s)return;let e=null;return e=setTimeout(()=>{e&&d("none")},2e3),()=>{e&&(clearTimeout(e),e=null)}},[s]),{setChoiceUlEl:i,showPopupTip:s}};var l1=l("504641"),l2=l.n(l1);let l3=e=>{let{scrollEl:t,titleEl:l}=e,[o,i]=(0,a.useState)(0);return(0,a.useEffect)(()=>{if(!t)return;let e=t.clientHeight,o=0;if(l){var n;let t=null!==(n=null==l?void 0:l.offsetTop)&&void 0!==n?n:0;o=l2()(e-t,0,48)}i(Math.round((e-o-0)/52))},[t,l]),{firstPageCount:o}},l8=()=>{let{setIsListCollapse:e,followingCount:t}=lr(),[l,o]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(!l)return M.listen(M.EVENT.sideCardShowChange,l=>{let{isModalAwemeShow:o,isShow:i=!1,isUpperFeed:n}=l;!o&&!n&&t>t$.BO&&(null==e||e(i))})},[e,t,l]),{setHasClickedCollapse:o}};var l5={container:"LN88nDkS",followingList:"Ec9GGINx",isFollowOptimize:"FqxOzvAM",followingListCollapse:"uXoIphyQ",liveList:"SSvWM3Kf",choiceList:"Dkbry7a1",searchInput:"tY3LpOKQ",topTitle:"mZ1rdREf",operateIcon:"SwJ5MF7G",text:"RodgcM3j",positionRight:"udEeQXf6",positionLeft:"k02dbwJz",iconSvg:"KbMCrwFh",tip:"WWCLv6AN",tipText:"cYgcKou7",sortIcon:"kWPHXdOx",listTitle:"hQWUm8Ak",followTitle:"IMOte1q1",title:"b28BR53g",listFollowTitle:"w0tjxIwP",authorDescriptionCt:"ILK2RAD5",notSeenTag:"gtH_TOKt",authorInfo:"NnujrI5r",authorName:"S_f6qaDn",accountCertBadge:"X_gz8u2A",badgeIcon:"WbvofkIP",listItem:"pZz7hFIi",optimizeItem:"BkSzfoyG",ellipsisIcon:"dFvptPmt",isCollapse:"r406gaBq",sidebarItemHover:"buGqjMAn",item:"ara0UeTb",hidden:"rHyPmJPM",avatarLive:"nUnNYzvA",newLiveList:"ZjlWDwyg",optimizeLiveItem:"HstYMaWy",avatarBadgeCt:"zENw_3zI",collapseList:"G5Qd1Nij",unreadTag:"L1peDOpC",redPackWrap:"X48e_Zq_",redPackImg:"ipEjobQ1",redPackText:"dbKC9uor",redColor:"h8Q_Qzhc",uniqueIdBox:"l_paGFXH",popover:"KCPwPRVT"};l("413806");var l7=l("207964"),l6=l("607188"),l4=l("155953"),l9=l("860649"),oe=l("422959"),ot=l("128505"),ol=l("542011"),oo=l("14108"),oi=l("507217"),on=l("474663"),or=l("577099"),oa=l("393871"),os=l("631493");let od=function(){var e,t,l;let n,s;let{isPreCreated:d,abtestData:u,liveInfo:c,liveShowCountInFirstScreen:f=0,logParams:v,listIndex:h=0,liveList:_=[],onClick:p,isFirstPage:w=!1,rank:g="15+",hidden:y=!1,ifFoldLive:j,awemeInfo:C,from:I,fixLeft:k,scene:S,className:b}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{anchorId:L="",roomId:N="",gameName:T="",streamType:P,episodeExtra:R,paidLiveData:F,webRid:A="",coverSrc:O,userName:D,isEcomLive:H=!1}=null!=c?c:{},z=`fo_lh_${A}`,[V,Z]=(0,a.useState)(!1),{seasonIds:U}=(0,on.b)(),W=(0,a.useRef)(!1),{isFullscreen:$}=(0,x.O)(),q=(0,a.useMemo)(()=>({enter_method:"web_live_head",enter_from_merge:null==v?void 0:v.enter_from_merge,request_id:(null==v?void 0:v.request_id)||""}),[v]),G=(0,a.useCallback)(e=>(0,i._)((0,o._)({},q),{show_rank:`${e+1}`,show_cnt:f}),[q,f]),J=(0,l_.x)(()=>{lR.Z.sendLog("followHeadShow",{room_id:N,author_id:L,if_first_page:w?1:0,if_fold_live:j?1:0,rank:g})});(0,a.useEffect)(()=>{var e;if(!W.current)W.current=!0,(0,or.JW)((0,i._)((0,o._)({anchor_id:L,room_id:N,is_aweme_tied:(null==v?void 0:v.is_aweme_tied)||or.Xk.LOGIN,game_name:T,stream_type:oi.LIVE_STREAM_TYPE[P]},G(h),(0,or.d3)(F),(0,or.Ne)(R)),{is_viplive:(null===(e=(0,oa.Rk)(F))||void 0===e?void 0:e.isVipLive)?1:0,live_status:os.s.getIsPageFullscreen()?"web_full":$?"full":"normal",is_comments_fold:0}))},[h,v,$,os.s]);let Y=()=>{let e=(0,oo.cc)({web_rid:A,enter_from_merge:"web_homepage_follow",enter_method:"web_live_head",action_type:"click",room_id:N,is_livehead_preview_mini_window_show:"0",mini_window_show_type:el?"mouse_hover":"",request_id:null==v?void 0:v.request_id,live_position:Number(h)+1});if(I===B.lT.Follow){let t=e.split("?")[1],l=`/follow/live/${A}`;return{isChildRoute:!0,finalHref:`${l}?${t}`,targetPath:l,liveRoomUrl:e}}return{isChildRoute:!1,liveRoomUrl:e}},Q=null==c?void 0:null===(t=c.__fakeAwemeInfo)||void 0===t?void 0:null===(e=t.authorInfo)||void 0===e?void 0:e.roomData,{url:X,lowUrl:ee}=(0,l6.rp)(Q,u),et=(0,a.useRef)(),[el,eo]=(0,a.useState)(!1),ei=a.useMemo(()=>{var e,t,l;return(null==C?void 0:null===(l=C.authorInfo)||void 0===l?void 0:null===(t=l.roomData)||void 0===t?void 0:null===(e=t.others)||void 0===e?void 0:e.web_enter_benefit_point_data)||{has_ongoing_lottery:!1,has_ongoing_lucky_money:!1}},[C]),en=(0,l9.gE)(u,ei.has_ongoing_lottery,ei.has_ongoing_lucky_money,!0),er=(0,oo.cc)({web_rid:A,enter_from_merge:"web_homepage_follow",enter_method:"web_live_head",action_type:"click",room_id:N,is_livehead_preview_mini_window_show:"0",mini_window_show_type:el?"mouse_hover":"",request_id:null==v?void 0:v.request_id,live_position:Number(h)+1});let ea=(0,r.jsxs)("div",{className:m()(l5.listItem,l5.item,b,{[l5.hidden]:y}),onClick:(n=c,s=h,e=>{var t,l,o,i,r,a,d,c;let f=Object.values((null==n?void 0:null===(i=n.__fakeAwemeInfo)||void 0===i?void 0:null===(o=i.authorInfo)||void 0===o?void 0:null===(l=o.roomData)||void 0===l?void 0:null===(t=l.stream_url)||void 0===t?void 0:t.pull_datas)||{}).length>0&&!(0,K.G6)(),v="number"==typeof(null==n?void 0:null===(r=n.paidLiveData)||void 0===r?void 0:r.paid_type)&&(null==n?void 0:null===(a=n.paidLiveData)||void 0===a?void 0:a.paid_type)!==0;f||v||null===l4.Z||void 0===l4.Z||l4.Z.preLoadStream(X),lR.Z.sendLog("followHeadClick",{room_id:N,author_id:L,if_first_page:w?1:0,if_fold_live:j?1:0,live_head_rank:g,rank:g}),null==p||p(n,s),null==e||e.preventDefault(),M.emit(M.EVENT.videoPause,"LiveItem_genEnterRoomFn");let{liveRoomUrl:h,finalHref:m,isChildRoute:_}=Y();if(_)(0,ot.X)({href:m,reusePlayer:V?1:0,webRid:A,abtestData:u,reuseId:z,roomId:N,from:I,_reusePlayer:0,usePreCreate:!0});else{;null===(c=window)||void 0===c||null===(d=c.open)||void 0===d||d.call(c,h,"_blank")}}),onMouseEnter:e=>{var t;null===(t=et.current)||void 0===t||t.mouseEnterHandler(e)},onMouseLeave:e=>{var t;null===(t=et.current)||void 0===t||t.mouseLeaveHandler(e)},"data-e2e":"follow-slide-avatar",children:[(0,r.jsx)(l9.nh,{className:l5.avatarLive,type:"extra-small",src:O,alt:D,uid:L,liveRoomUrl:er,liveRoomParam:{logId:null==v?void 0:v.request_id},isShow:!1,logParams:{small_window_enter_method:"web_live_head_hover",request_id:null==v?void 0:v.request_id,live_position:h},onClick:e=>{var t;null===(t=e.preventDefault)||void 0===t||t.call(e)},isNeedSendLog:!0,isFirstLive:(null==R?void 0:null===(l=R.mod)||void 0===l?void 0:l.episode_stage)===2,isEcomLive:H,awemeInfo:C,from:I,position:"right",fixLeft:k||0,handlerRef:et,disableSelfEvent:!0,onShowChange:e=>{e&&eo(e)},useRedPack:!1,scene:S,abtestData:u}),(0,r.jsxs)("div",{className:l5.authorDescriptionCt,children:[(0,r.jsx)(oe.Z,{text:D,className:l5.authorName}),en.icon&&(0,r.jsxs)("div",{className:l5.redPackWrap,children:[(0,r.jsx)("img",{src:en.icon,className:l5.redPackImg}),(0,r.jsx)("span",{className:l5.redPackText,children:en.text})]})]})]}),es=(0,l7.getInNewProjectPreviewABWithoutStoreCheck)(u);return(0,r.jsxs)("li",{ref:J,style:{position:"relative"},children:[(0,E.DT)()?(0,r.jsx)(r.Fragment,{children:ea}):(0,r.jsx)("a",{href:er,children:ea}),d&&!es?(0,r.jsx)(ol.T,{roomData:Q,setIsReusePlayer:Z,abtestData:u,reuseId:z,isReusePlayer:V}):(0,r.jsx)(r.Fragment,{})]})};var ou=l("868203"),oc=l("228495");function of(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.indexOf("//");return t<0?`//p11.douyinpic.com/aweme/100x100/${e}`:0>e.indexOf("://")?e:e.substring(t)}let ov=(0,a.forwardRef)((e,t)=>(0,r.jsxs)("svg",(0,i._)((0,o._)({width:23,height:10,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,r.jsxs)("g",{clipPath:"url(#unread_svg__clip0_9359_84080)",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.325 4.385c-.576 1.922-1.337 3.505-2.412 4.39-.943.778-1.127.777-5.87.763l-2.15-.005h-.221c-7.003-.008-7.014-.008-8.164-.757-.985-.643-1.881-2.063-2.58-3.848C3.923 2.371 7.87.822 12.255.822c3.758 0 7.268 1.331 10.07 3.563z",fill:"#41424C"}),(0,r.jsx)("path",{d:"M7.682 3.092h.636v.756h1.992v.612H8.318v.87h2.31v.612H8.822c.396.684 1.05 1.296 1.956 1.836l-.444.564c-.948-.72-1.614-1.524-2.004-2.4h-.012v2.67h-.636v-2.67h-.006c-.426.972-1.116 1.776-2.07 2.406l-.36-.594c.864-.48 1.512-1.08 1.932-1.812H5.372V5.33h2.31v-.87h-1.95v-.612h1.95v-.756zm5.014 1.02h1.884l.114-.252c-.558.024-1.158.042-1.794.042l-.168-.51c1.686 0 3.114-.114 4.284-.336l.288.492c-.576.12-1.242.21-2.004.27-.036.102-.072.198-.108.294h2.136v.528h-2.382l-.144.258h2.874v.552H14.43c-.072.09-.138.174-.204.252h2.892v2.934h-.594v-.222h-2.55v.222h-.594V6.554c-.264.222-.54.432-.828.636l-.336-.54a8.672 8.672 0 0 0 1.44-1.2h-1.284v-.552h1.734c.06-.084.12-.174.18-.258h-1.59v-.528zm1.278 2.814v.246h2.55v-.246h-2.55zm2.55-.468v-.252h-2.55v.252h2.55zm-2.55 1.182v.27h2.55v-.27h-2.55z",fill:"#fff"})]}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"unread_svg__clip0_9359_84080",children:(0,r.jsx)("path",{fill:"#fff",transform:"translate(.927 .822)",d:"M0 0h21.398v8.719H0z"})})})]}))),oh=(0,a.forwardRef)((e,t)=>(0,r.jsx)("svg",(0,i._)((0,o._)({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,r.jsx)("path",{d:"M9.267 7.983a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0zM15 7.983a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0zM3.5 7.983a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0z",fill:"#fff",fillOpacity:".5"})})));var om=l("447298"),o_=l("516599");let op=(0,a.forwardRef)((e,t)=>(0,r.jsxs)("svg",(0,i._)((0,o._)({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 4a2 2 0 0 1 2-2h5.6a2 2 0 0 1 2 2v5.6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4zm2-.8h5.6a.8.8 0 0 1 .8.8v5.6a.8.8 0 0 1-.8.8H4a.8.8 0 0 1-.8-.8V4a.8.8 0 0 1 .8-.8z",fill:"#fff",fillOpacity:".5"}),(0,r.jsx)("path",{d:"M6.4 14a1.999 1.999 0 0 1-1.69-.93c-.077-.122.018-.27.162-.27H12a.8.8 0 0 0 .8-.8V4.872c0-.144.148-.24.27-.162.559.354.93.979.93 1.69V12a2 2 0 0 1-2 2H6.4z",fill:"#fff",fillOpacity:".5"})]}))),ow=(0,a.forwardRef)((e,t)=>(0,r.jsx)("svg",(0,i._)((0,o._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,r.jsx)("path",{d:"M18.333 10a8.333 8.333 0 1 1-16.666 0 8.333 8.333 0 0 1 16.666 0zM6.7 9.1a.9.9 0 1 0 0 1.8h6.6a.9.9 0 0 0 0-1.8H6.7z",fill:"#FE2C55"})}))),og=(0,a.forwardRef)((e,t)=>(0,r.jsx)("svg",(0,i._)((0,o._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,r.jsx)("path",{d:"M22.4 12.4a.849.849 0 1 1 1.2 1.2L19.202 18l4.4 4.4a.849.849 0 1 1-1.202 1.2L18 19.202l-4.4 4.4a.849.849 0 1 1-1.2-1.202L16.798 18l-4.4-4.4a.849.849 0 1 1 1.202-1.2L18 16.798l4.4-4.4z",fill:"#fff",fillOpacity:".5"})})));var ox={userPannel:"WTUcf9Al",close:"GnDkzBWX",header:"in2TBvWm",nickname:"TVTaZNcG",uniqueId:"HOscsElN",copyIcon:"yHSzCRMF",operation:"IuvYRjvk",cancleFollow:"rK8uGZIR",text:"KyqbwgDZ",icon:"axmp89T6",followConfirmModal:"Zk_IZC2i",mask:"yTPdLPlM",positionCenter:"TBqB4KlE"},oy=l("697239"),oj=l("327274"),oC=l("794593");let oI=e=>{let{followingInfo:t,onClose:l,onCancle:o,onUnFollowSuccess:i,onClickUnFollow:n}=e,s=(0,a.useRef)(null),{secUid:d="",nickname:u,uid:c="",uniqueId:f,followStatus:v,followerStatus:h}=t||{},{userInfo:m,dispatch:_}=(0,t6.useUserInfoContext)()||{},{isLogin:p,info:w}=m||{},{unFollow:g}=(0,om.OM)({selfUid:null==w?void 0:w.uid,actionUid:c,defaultFollowerStatus:h,defaultFollowStatus:v,isLogin:p,onLoginSuccess:()=>null==_?void 0:_({type:"updateUserInfo"}),success:e=>{let{action:t}=e;"unFollow"===t&&(null==i||i(),o_.F.info("已取消关注"))},fail:om.GH}),x=(0,l_.Y)(()=>{oC.Z.report("follow_head_more_copy_button_show",{enter_from:"follow"})}),y=(0,l_.Y)(()=>{oC.Z.report("follow_head_more_cancel_follow_show",{enter_from:"follow"})}),j=e=>{oC.Z.report("follow_cancel_confirm_pop_show",{enter_from:"follow",position:"follow_more"}),eV.Modal.confirm({className:ox.followConfirmModal,title:"确认取消关注？",content:e||"取消关注后，对方将从关注列表内移除。",okText:"取消关注",cancelText:"返回",centered:!0,icon:null,zIndex:1e5,closable:!1,maskClosable:!1,getPopupContainer:()=>document.body,onOk:()=>{g(),oC.Z.report("follow_cancel_confirm_pop_click",{enter_from:"follow",position:"follow_more",button_name:"取消关注"})},onCancel:()=>{null==o||o(),oC.Z.report("follow_cancel_confirm_pop_click",{enter_from:"follow",position:"follow_more",button_name:"返回"})}})},C=async()=>{null==n||n(),oC.Z.report("follow_head_more_cancel_follow_click",{enter_from:"follow"});let e=null==t?void 0:t.secret;if(void 0===e){let t=await (0,oy.fetchUserProfile)(d);if((null==t?void 0:t.statusCode)===0){var l;e=null==t?void 0:null===(l=t.user)||void 0===l?void 0:l.secret}}j(e?"对方为私密账号，再次关注时需等待批准。":"取消关注后，对方将从关注列表内移除。")};return(0,a.useEffect)(()=>{if(s.current){var e,t,l,o,i,n,r,a;let d=null==s?void 0:null===(t=s.current)||void 0===t?void 0:null===(e=t.closest)||void 0===e?void 0:e.call(t,".semi-portal"),u=null==s?void 0:null===(o=s.current)||void 0===o?void 0:null===(l=o.closest)||void 0===l?void 0:l.call(o,".semi-portal-inner");d&&(null==d||null===(n=d.classList)||void 0===n||null===(i=n.add)||void 0===i||i.call(n,ox.mask)),u&&(null==u||null===(a=u.classList)||void 0===a||null===(r=a.add)||void 0===r||r.call(a,ox.positionCenter))}},[]),(0,r.jsxs)("div",{className:ox.userPannel,ref:s,children:[(0,r.jsxs)("div",{className:ox.header,children:[(0,r.jsx)("div",{className:ox.nickname,children:u}),(0,r.jsxs)("div",{className:ox.uniqueId,children:[(0,r.jsxs)("div",{children:["抖音号：",f]}),(0,r.jsx)("div",{ref:x,children:(0,r.jsx)(eq.Z,{onClick:()=>{oC.Z.report("follow_head_more_copy_button_click",{enter_from:"follow"});try{(0,oj.J)(f||""),o_.F.info("已复制")}catch(e){o_.F.info("复制失败，请重试")}},className:ox.copyIcon,src:op,width:16,height:16,viewBox:"0 0 16 16"})})]})]}),(0,r.jsx)("div",{className:ox.operation,children:(0,r.jsxs)("div",{className:ox.cancleFollow,children:[(0,r.jsx)("span",{onClick:C,className:ox.text,children:"取消关注"}),(0,r.jsx)("div",{ref:y,children:(0,r.jsx)(eq.Z,{onClick:C,className:ox.icon,src:ow,width:20,height:20,viewBox:"0 0 20 20"})})]})}),(0,r.jsx)("div",{className:ox.close,onClick:l,children:(0,r.jsx)(eq.Z,{src:og,width:36,height:36,viewBox:"0 0 36 36"})})]})},ok=function(){var e,t;let{followingInfo:l,isListCollapse:o=!1,onClickHandler:i,needUnReadTag:n=!1,isFirstPage:s=!1,ifFoldLive:d=!1,rank:u="15+",listRank:c="15+",searchVal:f,updateUserList:v}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{secUid:h="",avatarUri:_,customVerify:p="",enterpriseVerifyReason:w="",nickname:g,uid:x="",accountCertInfo:y,selectedName:j,selectedUniqueId:C}=l||{},I=lS(h),k=(0,tN._)(),S=I>0&&n,b=1===k.followOptimize,[L,N]=(0,a.useState)(!1),E=(0,l_.x)(()=>{lR.Z.sendLog("followHeadShow",{author_id:x,if_new_post:S?1:0,if_first_page:s?1:0,if_fold_live:0,rank:u})});return(0,a.useEffect)(()=>{if(L)return M.listen(M.EVENT.followListScroll,()=>{N(!1)})},[L]),(0,r.jsxs)("li",{className:m()(l5.listItem,l5.item,{[l5.sidebarItemHover]:!!k.sidebarItemHover,[l5.optimizeItem]:b,[l5.isCollapse]:o}),onClick:()=>{lR.Z.sendLog("followHeadClick",{author_id:x,if_new_post:S?1:0,if_first_page:s?1:0,if_fold_live:0,rank:u,follow_head_rank:c}),null==i||i()},ref:E,onMouseEnter:()=>{b&&oC.Z.report("follow_head_more_button_show",{enter_from:"follow"})},children:[(0,r.jsxs)("div",{className:l5.avatarBadgeCt,children:[(0,r.jsx)(oc.q,{type:"extraExtraSmall",src:of(_)}),o&&S&&(0,r.jsx)(eq.Z,{width:36,height:36,src:ov,className:l5.unreadTag})]}),!o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:l5.authorDescriptionCt,children:[(0,r.jsxs)("div",{className:l5.authorInfo,children:[j?(0,r.jsx)("div",{className:l5.authorName,children:null==j?void 0:null===(e=j.map)||void 0===e?void 0:e.call(j,(e,t)=>{var l,o;return(0,r.jsx)(oe.Z,{text:e,className:m()({[l5.redColor]:(null==e?void 0:null===(l=e.toLowerCase)||void 0===l?void 0:l.call(e))===(null==f?void 0:null===(o=f.toLowerCase)||void 0===o?void 0:o.call(f))})},t)})}):(0,r.jsx)(oe.Z,{text:g,className:l5.authorName}),b&&y&&(0,r.jsx)(ou.C,{iconClassName:l5.badgeIcon,accountCertInfo:y,className:l5.accountCertBadge,isRoleNameShow:!1})]}),C&&(0,r.jsxs)("div",{className:l5.uniqueIdBox,children:["抖音号：",null==C?void 0:null===(t=C.map)||void 0===t?void 0:t.call(C,(e,t)=>{var l,o;return(0,r.jsx)("span",{className:m()({[l5.redColor]:(null==e?void 0:null===(l=e.toLowerCase)||void 0===l?void 0:l.call(e))===(null==f?void 0:null===(o=f.toLowerCase)||void 0===o?void 0:o.call(f))}),children:e},t)})]}),S&&(0,r.jsx)("div",{className:l5.notSeenTag,children:(0,r.jsxs)("span",{children:[I>=99?"99":I,"个作品未看"]})})]}),b&&(0,r.jsx)(eV.Popover,{className:l5.popover,trigger:"custom",visible:L,showArrow:!1,content:(0,r.jsx)(oI,{followingInfo:l,onClose:()=>N(!1),onUnFollowSuccess:()=>{N(!1),null==v||v(e=>e.filter(e=>e.uid!==x))},onCancle:()=>N(!0),onClickUnFollow:()=>{N(!1)}}),stopPropagation:!0,onClickOutSide:()=>N(!1),children:(0,r.jsx)("div",{className:l5.ellipsisIcon,onClick:e=>{e.stopPropagation(),e.preventDefault(),N(!0),oC.Z.report("follow_head_more_button_click",{enter_from:"follow"})},children:(0,r.jsx)(eq.Z,{width:16,height:16,viewBox:"0 0 16 16",src:oh})})})]})]})};var oS="iVcvaSls",ob="oEr9jP60",oL="qq4Zgxpt",oN="mecKcglv";let oE=function(){let{isListCollapse:e=!1,showPopupTip:t="in",text:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.useEffect)(()=>{lR.Z.sendLog("followViewMoreShow")},[]),(0,r.jsx)("div",{className:m()(oS,ob,{[oL]:"out"===t,[oN]:e}),children:l})};var oT=l("338426"),oP=l("337499"),oR=l("137425"),oM=l("473596"),oF=l("497730");let oA=(0,oT.ZP)(()=>Promise.all([l.e("66135"),l.e("21692"),l.e("52405"),l.e("65346"),l.e("923"),l.e("42562"),l.e("41442"),l.e("58195"),l.e("97607"),l.e("75935"),l.e("47439"),l.e("17275"),l.e("5405"),l.e("58742"),l.e("13691"),l.e("47102"),l.e("50535"),l.e("55691"),l.e("21773"),l.e("6593"),l.e("27269"),l.e("94643"),l.e("92483"),l.e("90597")]).then(l.bind(l,53289)),{ssr:!1}),oO="暂无可看内容，去看看其他作者的作品吧",oD="服务异常，请稍后再试",oH=e=>{let{targetAwemeId:t,targetAuthorSecUid:l,setAwemeInfoList:o,setCurrentNumber:i,close:n,currentAwemeInfo:r,notSeenItemList:s}=e,d=(0,a.useRef)({});return(0,a.useEffect)(()=>{let e=!1;if(!t&&!l){null==n||n(),o_.F.info(oD);return}let r=()=>(0,oy.fetchUserPost)({userId:l}).then(t=>{if(e)return;let{statusCode:r=-1,data:a=[]}=t;if(0!==r){null==n||n(),o_.F.info(oD);return}if((null==a?void 0:a.length)===0){null==n||n(),o_.F.info(oO),lE(l);return}o(a),i(a.filter(e=>e.tag.isTop).length)});return t?(0,oR.m_)({awemeId:t,originType:oF.F.FollowModal}).then(a=>{if(e)return;let{statusCode:s,detail:d,isUnknownAweme:u}=a;if(0===s){o([d]),i(0);return}if(u){if(lN(l,t),l)return r(),()=>{e=!0};null==n||n(),o_.F.info(oO),lE(l);return}null==n||n(),o_.F.info(oD)}):l&&r(),()=>{e=!0}},[]),(0,a.useEffect)(()=>{var e;(null==r?void 0:r.awemeId)&&!d.current[null==r?void 0:r.awemeId]&&(null==r?void 0:r.awemeId)&&(null==s?void 0:s.length)>0&&(null==s?void 0:null===(e=s.includes)||void 0===e?void 0:e.call(s,null==r?void 0:r.awemeId))&&(d.current[null==r?void 0:r.awemeId]=!0,(0,oM.O)({awemeInfo:r}))},[r,s]),{defaultTab:oP.L.Author,isTabFeed:!0}};var oz=function(){let{targetAuthorSecUidRef:e,targetAwemeIdRef:t,awemeInfoRef:l,closeFollowUpdateModal:o,notSeenItemList:i=[],logParams:n={enter_from:"follow",enter_from_merge:"follow"}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,tN._)()||{},s=(0,t6.useUserInfoContext)()||{};return(0,r.jsx)(oA,{isUseChannelFeed:!1,modalInnerFeedCard:"author_card",userContext:s,abtestData:a,notSeenItemList:i,targetAwemeId:null==t?void 0:t.current,targetAuthorSecUid:null==e?void 0:e.current,modalEnterFrom:lC.a.FollowAuthorModal,close:o,anyHooks:oH,scene:lC.a.FollowAuthorModal,logParams:n,isSelfMetaProvider:!0})},oV=l("784889");l("179133");var oZ=l("34644"),oU={container:"MOe3gMi2",inputContent:"LHFJkf7_",isFocus:"o_6QIJEU",input:"d7gsfRVF",search:"eS9a8PSC",clear:"DFpH6nJb",isMiniType:"tub1dtaq"};let oB=(0,a.forwardRef)((e,t)=>(0,r.jsx)("svg",(0,i._)((0,o._)({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 5.333a5.667 5.667 0 1 0 3.237 10.319l2.723 2.722a1 1 0 0 0 1.414-1.415l-2.722-2.722A5.667 5.667 0 0 0 11 5.333zM7.333 11a3.667 3.667 0 1 1 7.334 0 3.667 3.667 0 0 1-7.334 0z",fill:"#2F3035",fillOpacity:".4"})}))),oW=(0,a.forwardRef)((e,t)=>(0,r.jsxs)("svg",(0,i._)((0,o._)({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,r.jsx)("g",{clipPath:"url(#semi-icons-clear_svg__clip0_1278_30228)",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 15.333A7.333 7.333 0 1 0 8 .667a7.333 7.333 0 0 0 0 14.666zm3.357-4.091a1 1 0 0 1-1.414.024L8.025 9.414l-1.853 1.918a1 1 0 1 1-1.439-1.39l1.853-1.917-1.918-1.853a1 1 0 0 1 1.389-1.438l1.918 1.852 1.853-1.918a1 1 0 0 1 1.438 1.39L9.414 7.974l1.918 1.853a1 1 0 0 1 .025 1.414z",fill:"#2F3035",fillOpacity:".7"})}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"semi-icons-clear_svg__clip0_1278_30228",children:(0,r.jsx)("path",{fill:"#fff",d:"M0 0h16v16H0z"})})})]}))),o$=e=>{let{className:t,value:l,placeholder:o,isMiniType:i=!1,onClickMiniIcon:n,onChange:s}=e,[d,u]=(0,a.useState)(!1),c=(0,l_.Y)(()=>{oC.Z.report("follow_head_search_input_show",{enter_from:"follow"})}),f=(0,l_.Y)(()=>{oC.Z.report("follow_head_search_remove_show",{enter_from:"follow"})});return(0,a.useEffect)(()=>{d?(0,oZ.o)({pauseCustomShortcut:!0,pauseGlobalShortcut:!0,pausePlayControlShortcut:!0},"follow/searchInput"):(0,oZ.m)("follow/searchInput")},[d]),(0,a.useEffect)(()=>()=>{(0,oZ.m)("follow/searchInput")},[]),(0,r.jsx)("div",{ref:c,className:m()(oU.container,{[oU.isMiniType]:i},t),onClick:()=>{oC.Z.report("follow_head_search_input_click",{enter_from:"follow"})},children:(0,r.jsx)("div",{className:m()(oU.inputContent,{[oU.isFocus]:d}),children:i?(0,r.jsx)(eq.Z,{width:24,height:24,viewBox:"0 0 24 24",src:oB,className:oU.search,onClick:()=>{null==n||n()}}):(0,r.jsx)(eV.Input,{className:oU.input,placeholder:o,value:l,onChange:e=>{s(e)},onBlur:()=>{u(!1)},onFocus:()=>{u(!0)},prefix:(0,r.jsx)(eq.Z,{width:24,height:24,viewBox:"0 0 24 24",src:oB,className:oU.search}),showClear:!0,onClear:()=>{oC.Z.report("follow_head_search_remove_click",{enter_from:"follow"})},clearIcon:(0,r.jsx)("span",{ref:f,children:(0,r.jsx)(eq.Z,{width:16,height:16,viewBox:"0 0 16 16",src:oW,className:oU.clear,onClick:()=>{s("")}})})})})})};var oq=l("717118"),oG=l("674363"),oJ="bD9fbgZI",oK="jykwWuIg";let oY=e=>`${e<15?e:"15+"}`,oQ=e=>{var t;let{searchVal:l,searchList:o=[],searchIsLoading:i,isListCollapse:n,onClickHandler:a,setSearchList:s}=e;return(0,r.jsxs)("div",{className:m()(oJ,{[oK]:n}),children:[!n&&!i&&(null==o?void 0:o.length)===0&&(0,r.jsx)(oq.H,{desc:"没有搜索到相关的内容",title:"搜索结果为空",icon:(0,r.jsx)(oG.Z,{})}),!i&&(null==o?void 0:o.length)>0&&(null==o?void 0:null===(t=o.map)||void 0===t?void 0:t.call(o,(e,t)=>(0,r.jsx)(ok,{followingInfo:e,isListCollapse:n,onClickHandler:()=>a(e),needUnReadTag:!1,rank:oY(t),listRank:oY(t),isFirstPage:!0,ifFoldLive:!1,searchVal:l,updateUserList:s},e.uid))),i&&(0,r.jsx)(lp.gb,{className:"",text:""})]})};l("981168");let oX=(0,a.forwardRef)((e,t)=>(0,r.jsxs)("svg",(0,i._)((0,o._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,r.jsx)("path",{d:"M3 16h5v-1.5H3V16zm0-5.25h5v-1.5H3v1.5zM3 5.5h14V4H3v1.5z",fill:"#fff",fillOpacity:".5"}),(0,r.jsx)("path",{d:"M9.5 11.062l1.621-2.133c.289-.38.88-.17.88.313v7.031M17.5 13.5l-1.635 1.963c-.297.357-.865.14-.865-.331V8",stroke:"#fff",strokeOpacity:".5",strokeWidth:1.5})]})));var o0="ymIwISZv",o1="z7UVo7BE",o2="hsn0uoZV",o3="FUeZOLFT",o8="ZimmtqpL",o5="U9rAAJXF";function o7(e){let{className:t,sortType:l,setSortType:o,onClickItem:i}=e,n=e=>{if(null==i||i(e),e!==l)o(e)},a=[{title:"综合排序",id:"recommend",onclick:()=>n(tG.recommend)},{title:"最近关注",id:"latest",onclick:()=>n(tG.latest)},{title:"最早关注",id:"earliest",onclick:()=>n(tG.earliest)}];return(0,r.jsx)("ul",{className:t,children:a.map(e=>(0,r.jsx)("li",{className:m()({[o5]:tG[l]===e.id}),children:(0,r.jsx)("a",{id:e.id,onClick:e.onclick,children:e.title})},e.title))})}function o6(e){let{sortType:t,setSortType:l,className:o}=e,[i,n]=(0,a.useState)(!1),s={[tG.earliest]:"最早关注",[tG.latest]:"最近关注",[tG.recommend]:"综合排序"},d=(0,l_.Y)(()=>{oC.Z.report("follow_head_sort_button_show",{button_list:"最早关注,最近关注,综合排序",enter_from:"follow"})});return(0,r.jsx)(eV.Popover,{spacing:6,className:o8,showArrow:!1,position:"bottomLeft",content:(0,r.jsx)(o7,{onClickItem:e=>{oC.Z.report("follow_head_sort_button_click",{button_list:"最早关注,最近关注,综合排序",enter_from:"follow",button_name:s[e]})},sortType:t,setSortType:l}),onVisibleChange:e=>{n(e)},children:(0,r.jsxs)("div",{ref:d,className:m()(o0,o,{[o3]:i}),children:[(0,r.jsx)(oe.Z,{className:o1,text:s[t]}),(0,r.jsx)(oX,{className:o2})]})})}let o4=e=>`${e<15?e:"15+"}`,o9=()=>{let e=(0,tN._)()||{},t=tP.useUserContext(),{liveList:l,isListCollapse:i,setIsListCollapse:n,choiceFollowingList:s,setChoiceFollowingList:d,logParams:c,hasMoreChoice:f,setLiveList:v,sortType:h,setSortType:_,isSortTypeChangeLoading:p}=lr(),w=(null==e?void 0:e.followOptimize)===1,{searchVal:g,setSearchVal:x,searchList:j,searchIsLoading:C,setSearchList:I}=lO({enableSearch:w}),{scrollEl:k,setScrollEl:S,setLoadingEl:L}=lK({abtestData:e}),{isMobile:N,isiPad:T}=(0,y.X)(),{setLiveTitleEl:P,setChoiceTitleEl:R,partMap:F,isPartEmpty:A,topTitleText:O,currentPartKey:D}=lX({scrollEl:k,hasMore:f,abtestData:e,searchVal:g});(0,a.useEffect)(()=>{F[lY.Live].canShow&&oC.Z.report("fold_live_head_show",{enter_from:"follow",live_count:l.length})},[F[lY.Live].canShow]);let H=(0,l_.Y)(()=>{oC.Z.report("follow_head_title_show",{enter_from:"follow",follow_count:null==s?void 0:s.length})}),{setChoiceUlEl:z,showPopupTip:V}=l0({enable:!0}),{firstPageCount:Z}=l3({scrollEl:k,titleEl:F[lY.Choice].titleEl}),{setHasClickedCollapse:U}=l8(),B=lP(),[W,$]=(0,a.useState)(!1),[q,G]=(0,a.useState)(-1),[J,K]=(0,a.useState)(-1e3),Y=(0,a.useRef)(null),Q=(0,E.DT)()?2:1,X=1===Q,ee=2===Q;(0,u.C)(b.w3.components.follow_side_list),(0,lh.Z)(()=>{M.listen(M.EVENT.exitChildRoute,async()=>{try{if(l.length>0){let t=await (0,oV.runClientAITask)(l,e);Number.isInteger(null==t?void 0:t.maxProbIdx)&&K(null==t?void 0:t.maxProbIdx)}}catch(e){}}),(async()=>{try{if(l.length>0){(0,oV.reportClientAIData)(l.length);let t=await (0,oV.runClientAITask)(l,e);Number.isInteger(null==t?void 0:t.maxProbIdx)&&K(null==t?void 0:t.maxProbIdx)}}catch(e){}})()},[l]),(0,lm.Z)(()=>{x("")},[h]);let et=(e,t)=>{try{(0,oV.updateClientAICounterOnClick)(`${t}`),(0,oV.updateStorageFeatureOnClick)(t,e,q),G(t)}catch(e){}};return A?null:(0,r.jsxs)("div",{className:m()(l5.container,{[l5.collapseList]:i}),children:[(0,r.jsxs)("div",{className:l5.topTitle,children:[!w&&O,(0,r.jsxs)("div",{className:m()(l5.operateIcon,{[l5.positionLeft]:w,[l5.positionRight]:!w}),children:[(0,r.jsx)(eV.Tooltip,{className:l5.tip,position:"bottom",content:(0,r.jsx)("span",{className:l5.tipText,children:i?"展开":"收起"}),trigger:"custom",visible:!N&&!T&&W,children:(0,r.jsx)("div",{ref:Y,style:{position:"relative"},onMouseEnter:()=>$(!0),onMouseLeave:()=>$(!1),onClick:()=>{$(!1),U(!0),null==n||n(e=>!e),lR.Z.sendLog(i?"followCoverOpen":"followCoverClose")},children:w?(0,r.jsx)(lj.z,{className:l5.iconSvg,svg:i?(0,r.jsx)(ly,{}):(0,r.jsx)(lx,{})}):(0,r.jsx)(lj.z,{className:l5.iconSvg,svg:i?(0,r.jsx)(lw.Z,{}):(0,r.jsx)(lg.Z,{})})})}),w&&!i&&(0,r.jsx)("div",{className:l5.text,children:"列表"})]}),w&&!i&&(0,r.jsx)(o6,{className:l5.sortIcon,sortType:h,setSortType:_})]}),w&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o$,{className:l5.searchInput,value:g,placeholder:"搜索用户名或抖音号",onChange:x,isMiniType:i,onClickMiniIcon:()=>{null==n||n(!1)}}),!i&&""===g&&(0,r.jsx)("div",{className:m()(l5.followTitle,l5.topTitle),children:(0,r.jsx)("div",{className:l5.title,children:O})})]}),(0,r.jsxs)("div",{className:m()(l5.followingList,{[l5.followingListCollapse]:i,[l5.isFollowOptimize]:w}),ref:S,children:[(0,r.jsxs)("div",{className:m()({[l5.hidden]:w&&""!==g}),children:[F[lY.Live].canShow&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:m()(l5.listTitle),ref:P,children:F[lY.Live].text}),(0,r.jsx)("ul",{className:m()(l5.liveList,l5.newLiveList),children:l.map((o,n)=>{var a;let s=!1;return X&&(s=J===n),ee&&(s=n<4),(0,r.jsx)(od,{onClick:et,isPreCreated:s,liveInfo:o,logParams:c,listIndex:n,liveList:l,abtestData:e,liveShowCountInFirstScreen:0,awemeInfo:o.__fakeAwemeInfo,from:"follow",isLogin:null===(a=t.userInfo)||void 0===a?void 0:a.isLogin,fixLeft:i?8:144,ifFoldLive:!1,isFirstPage:n<=Z,hidden:!1,rank:o4(n),className:m()({[l5.optimizeLiveItem]:w})},o.authorId)})})]}),F[lY.Choice].canShow&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:H,className:m()(l5.listTitle,{[l5.listFollowTitle]:w}),children:(0,r.jsx)("div",{ref:R,className:l5.title,children:F[lY.Choice].text})}),(0,r.jsx)("ul",{ref:z,className:l5.choiceList,children:!p&&s.map((e,t)=>{var o;let n=t+l.length,a=t+l.length<Z;return(0,r.jsx)(ok,{followingInfo:e,isListCollapse:i,onClickHandler:()=>B.onFollowItemClick(e),needUnReadTag:(null===(o=e.notSeenItemList)||void 0===o?void 0:o.length)>0,rank:o4(n),listRank:o4(t),isFirstPage:a,ifFoldLive:!1,searchVal:g,updateUserList:d},e.uid)})})]}),f&&(0,r.jsx)("div",{ref:L,children:(0,r.jsx)(lp.gb,{})}),B.isModalShow&&(0,r.jsx)(oz,(0,o._)({},B)),(0,r.jsx)(tT.IsLivingPluginFollowList,{liveList:l,setLiveList:v}),(0,r.jsx)(tT.IsLivingPluginAnchorList,{dataList:s})]}),w&&""!==g&&(0,r.jsx)(oQ,{searchVal:g,searchList:j,searchIsLoading:C,isListCollapse:i,onClickHandler:B.onFollowItemClick,setSearchList:I})]}),!w&&"none"!==V&&(0,r.jsx)(oE,{isListCollapse:i,showPopupTip:V,text:"下滑查看精选关注人"})]})};var ie=()=>{let{isListEmpty:e,isListCollapse:t}=lr(),[l,o]=(0,a.useState)(!0),i=(0,tN._)();return(0,a.useEffect)(()=>{!l&&setTimeout(()=>{o(!0)},0)},[l]),(0,S.o)(()=>M.listen(M.EVENT.RefreshFeedList,()=>{o(!1)}),[i]),(0,r.jsxs)(r.Fragment,{children:[l&&(0,r.jsx)(o9,{}),e&&(0,r.jsx)(lv,{isListCollapse:t})]})};let it=a.memo(e=>{let{isListShow:t,setIsListShow:l}=e,a=(0,tE.j)(),{awemeFeed:s}=a,d=(0,n._)(a,["awemeFeed"]),{isVideoFold:u}=(0,lo.p0)();return t?(0,r.jsx)(ll.SV,{Slardar:li.oe,onError:e=>{l(!1)},children:(0,r.jsx)(tE.b,{context:(0,i._)((0,o._)({},d),{metaCtxId:"followAuthorModal"}),children:(0,r.jsx)("div",{"data-bytereplay-mask":"strict",className:m()(la,{[ls]:e.isListCollapse,[ld]:u}),children:(0,r.jsx)(ln.Provider,{value:e,children:(0,r.jsx)(ie,{})})})})}):null},(e,t)=>{let l=T.Le.getConfig(T.gI.AbtestData);if(!(null==l?void 0:l.enableZustand))return!1;for(let l in e)if(e[l]!==t[l])return!1;return!0});var il=l("225796");let io=(0,a.forwardRef)((e,t)=>(0,r.jsxs)("svg",(0,i._)((0,o._)({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,r.jsx)("rect",{x:"-.001",width:32,height:32,rx:16,fill:"url(#avatar1_svg__paint0_linear_1054_3037)"}),(0,r.jsx)("g",{clipPath:"url(#avatar1_svg__clip0_1054_3037)",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 18.89c2.945 0 5.333-2.587 5.333-5.778 0-3.191-2.388-5.778-5.333-5.778-2.946 0-5.334 2.587-5.334 5.778 0 3.19 2.388 5.778 5.334 5.778zm0 19.883c7.061 0 12.785-3.98 12.785-8.89 0-4.908-5.724-8.888-12.785-8.888-7.062 0-12.786 3.98-12.786 8.889 0 4.91 5.724 8.889 12.786 8.889z",fill:"#fff",fillOpacity:".75"})}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"avatar1_svg__paint0_linear_1054_3037",x1:15.999,y1:0,x2:15.999,y2:32,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#FF4D4D"}),(0,r.jsx)("stop",{offset:1,stopColor:"#FF52CE"})]}),(0,r.jsx)("clipPath",{id:"avatar1_svg__clip0_1054_3037",children:(0,r.jsx)("path",{d:"M0 16C0 7.163 7.163 0 16 0c8.836 0 16 7.163 16 16s-7.164 16-16 16C7.162 32 0 24.837 0 16z",fill:"#fff"})})]})]}))),ii=(0,a.forwardRef)((e,t)=>(0,r.jsxs)("svg",(0,i._)((0,o._)({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,r.jsx)("rect",{width:32,height:32,rx:16,fill:"url(#avatar2_svg__paint0_linear_1054_3082)"}),(0,r.jsx)("g",{clipPath:"url(#avatar2_svg__clip0_1054_3082)",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 18.89c2.946 0 5.333-2.587 5.333-5.778 0-3.191-2.387-5.778-5.333-5.778-2.945 0-5.333 2.587-5.333 5.778 0 3.19 2.388 5.778 5.333 5.778zm0 19.883c7.061 0 12.786-3.98 12.786-8.89 0-4.908-5.725-8.888-12.786-8.888s-12.786 3.98-12.786 8.889c0 4.91 5.725 8.889 12.786 8.889z",fill:"#fff",fillOpacity:".75"})}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"avatar2_svg__paint0_linear_1054_3082",x1:16,y1:0,x2:16,y2:32,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#FF922D"}),(0,r.jsx)("stop",{offset:1,stopColor:"#FF6767"}),(0,r.jsx)("stop",{offset:1,stopColor:"#F44"})]}),(0,r.jsx)("clipPath",{id:"avatar2_svg__clip0_1054_3082",children:(0,r.jsx)("path",{d:"M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16z",fill:"#fff"})})]})]}))),ir=(0,a.forwardRef)((e,t)=>(0,r.jsxs)("svg",(0,i._)((0,o._)({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,r.jsx)("rect",{width:32,height:32,rx:16,fill:"url(#avatar3_svg__paint0_linear_1054_3126)"}),(0,r.jsx)("g",{clipPath:"url(#avatar3_svg__clip0_1054_3126)",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 18.89c2.946 0 5.333-2.587 5.333-5.778 0-3.191-2.387-5.778-5.333-5.778-2.945 0-5.333 2.587-5.333 5.778 0 3.19 2.388 5.778 5.333 5.778zm0 19.883c7.061 0 12.786-3.98 12.786-8.89 0-4.908-5.725-8.888-12.786-8.888s-12.786 3.98-12.786 8.889c0 4.91 5.725 8.889 12.786 8.889z",fill:"#fff",fillOpacity:".75"})}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"avatar3_svg__paint0_linear_1054_3126",x1:16,y1:0,x2:16,y2:32,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#4B93FF"}),(0,r.jsx)("stop",{offset:1,stopColor:"#63D0FF"})]}),(0,r.jsx)("clipPath",{id:"avatar3_svg__clip0_1054_3126",children:(0,r.jsx)("path",{d:"M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16z",fill:"#fff"})})]})]}))),ia=(0,a.forwardRef)((e,t)=>(0,r.jsxs)("svg",(0,i._)((0,o._)({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,r.jsx)("rect",{width:32,height:32,rx:16,fill:"url(#avatar4_svg__paint0_linear_1054_3171)"}),(0,r.jsx)("g",{clipPath:"url(#avatar4_svg__clip0_1054_3171)",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 18.89c2.946 0 5.333-2.587 5.333-5.778 0-3.191-2.387-5.778-5.333-5.778-2.945 0-5.333 2.587-5.333 5.778 0 3.19 2.388 5.778 5.333 5.778zm0 19.883c7.061 0 12.786-3.98 12.786-8.89 0-4.908-5.725-8.888-12.786-8.888s-12.786 3.98-12.786 8.889c0 4.91 5.725 8.889 12.786 8.889z",fill:"#fff",fillOpacity:".75"})}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"avatar4_svg__paint0_linear_1054_3171",x1:16,y1:0,x2:16,y2:32,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#39CF87"}),(0,r.jsx)("stop",{offset:1,stopColor:"#349CC8"})]}),(0,r.jsx)("clipPath",{id:"avatar4_svg__clip0_1054_3171",children:(0,r.jsx)("path",{d:"M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16z",fill:"#fff"})})]})]}))),is=e=>{let{isShowGuide:t,onCloseGuide:l}=(0,il.e)({type:"follow"}),o=(0,a.useRef)(!1),{isClientMiniWin:i,awemeInfoList:n,setAwemeInfoList:r,liveList:s,updateList:d}=e,u=e=>{let t=lS(e.secUid);return`${t>=99?"99":t}个作品未看`},c=()=>{let e=[];return s.forEach((t,l)=>{l<3&&e.push({isLive:!0,userName:t.userName,avatarImg:t.coverSrc,userLabel:"直播中"})}),d.filter(e=>{var t;return(null===(t=e.notSeenItemList)||void 0===t?void 0:t.length)>0}).forEach((t,l)=>{l<2&&e.push({isLive:!1,userName:t.nickname,avatarImg:of(t.avatarUri),userLabel:u(t)})}),[...e,{userName:"用户小A",isLive:!0,userLabel:"直播中",avatarSvg:io},{userName:"用户小B",isLive:!0,userLabel:"直播中",avatarSvg:ii},{userName:"用户小C",isLive:!0,userLabel:"直播中",avatarSvg:ir},{userName:"用户小D",isLive:!1,userLabel:"7个作品未看",avatarSvg:ia},{userName:"用户小E",isLive:!1,userLabel:"3个作品未看",avatarSvg:io}].slice(0,5)};return(0,a.useEffect)(()=>{if(t&&n.length&&!o.current){let e=[...n];e.splice(1,0,{awemeType:k.e.FollowWidgetCard,infoList:c()}),r(e),o.current=!0}else if(t&&n.length&&o.current){let e=n.findIndex(e=>e.awemeType===k.e.FollowWidgetCard);-1!==e&&(n[e].infoList=c())}},[s,d,t,n,r]),(0,a.useEffect)(()=>{if(t&&n.length&&o.current&&i){let e=n.findIndex(e=>e.awemeType===k.e.FollowWidgetCard);if(-1!==e){let t=[...n];t.splice(e,1),r(t)}}},[i,n,r]),{onCloseGuide:l}};var id=l("255083"),iu=(0,N.C)(function(e){let{insertVid:t,insertRoomId:l}=e,{Context:f}=tP||{},{userInfo:h}=(0,t6.useUserInfoContext)()||{},{isLogin:N}=h,A=(0,tN._)()||{},[U,B]=(0,a.useState)([]),[W,$]=(0,a.useState)(null),[G,J]=(0,a.useState)(0),[K,Y]=(0,a.useState)(!0),[Q,X]=(0,a.useState)(0),ee=(0,a.useRef)(0),et=(0,a.useRef)(1),el=(0,a.useRef)(1),eo=(0,a.useRef)(()=>{}),ei=(0,a.useRef)(null),en=(0,a.useRef)(null),er=(0,a.useRef)("");(0,u.C)(b.w3.components.follow_page);let ea=(0,a.useRef)(!0),{isFullscreen:es}=(0,x.O)(),{isMobile:ed,isiPad:eu}=(0,y.X)();!function(){let{awemeFeed:e}=(0,tE.j)(),t=(0,a.useRef)(!1);(0,tB.w)(()=>{e.getValue("modalAwemeInfo")&&((0,q.Nr)(location.pathname)?t.current=!0:e.dispatch({modalAwemeInfo:null,nextAwemeInfo:null,prevAwemeInfo:null}))},[]),(0,a.useLayoutEffect)(()=>M.listen(M.EVENT.exitChildRoute,()=>{"/follow"!==location.pathname&&t.current&&(t.current=!1,e.dispatch({modalAwemeInfo:null,nextAwemeInfo:null,prevAwemeInfo:null}))}),[])}();let ec=(0,d.a)(),ef="/follow"===ec.pathname||ec.pathname.startsWith("/follow/live");(0,D.g)({swiper:W,setAwemeInfoList:B,awemeInfoList:U,refMixPlayer:ei,liveCardDisable:(0,E.DT)(),enterFrom:tH.x_.follow});let ev=()=>{T.Le.setConfig(T.gI.VideoFeedList,{autoPlayCount:1})},eh=(0,a.useCallback)(async e=>{let o,{mode:i="refresh",pull_type:n,refresh_type:r}=e;switch(i){case"reload":ee.current=0,et.current=1,o=1,el.current=1;break;case"loadmore":o=2;break;case"refresh":o=0,el.current=1;break;default:o=0}let a={},s=await j.get({key:C.TccKey.RateSetting,defaultValue:C.TCC_DEFAULT_VALUE_MAP.get(C.TccKey.RateSetting)});c.z.markStart("follow_csr_fetch_data",{once:!0});try{a=await (0,id.J)(()=>tD({cursor:ee.current,level:et.current,pull_type:n||o,refresh_type:r,customConfig:{rateSetting:s},awemeIds:ea.current?[t]:[],roomIds:ea.current?[l]:[]}),e=>{var t;return!!e.hasMore&&(null===(t=e.awemeList)||void 0===t?!void 0:!t.length)&&!0})}catch(e){return J(I.ERROR_CODE.ERROR_SERVICE_INTERNAL),{statusCode:I.ERROR_CODE.ERROR_SERVICE_INTERNAL,hasMore:!1,data:[],logPb:{}}}c.z.markEnd("follow_csr_fetch_data",{once:!0});let{statusCode:d,hasMore:u,awemeList:f,logPb:v,cursor:h,level:m=3,lastView:_}=a;if(_&&-1!==_.index)try{f[_.index].lastView=_}catch(e){}let p=f.filter(e=>{var t,l;return!((null==e?void 0:e.awemeType)===k.e.LiveCard&&(null==e?void 0:null===(l=e.cellRoom)||void 0===l?void 0:null===(t=l.rawdata)||void 0===t?void 0:t.status)!==2)}).filter(e=>e.awemeType===k.e.LiveCard||(!e.video.bitRateList.every(e=>0!==e.isH265)||!!(0,P.E)())&&!0);return el.current=u,ee.current=h,et.current=m,Y(u),J(d),er.current=v,ea.current=!1,{statusCode:d,hasMore:u,data:p,logPb:v}},[K,t,l]);(0,a.useEffect)(()=>{let e=!1;return!ea.current&&0===U.length&&K&&(async()=>{let t=await eh({mode:"loadmore"});if(!e)0===t.statusCode&&t.data&&B(t.data)})(),()=>{e=!0}},[U]),(0,L.M)();let{deleteCurrentSwiper:em,nextPageFunc:e_,lastPageFunc:ep}=(0,H.zg)({swiper:W,awemeInfoList:U,setAwemeInfoList:B,fetchSlideList:eh,swiperCallBack:ev,fromTab:z.B.FOLLOW,abTestData:A}),ew=t0({userInfo:null==h?void 0:h.info,enable:!!N}),{isListShow:eg,isListCollapse:ex,listWidth:ey,requestId:ej}=ew,{swiperStyle:eC,slideHeight:eI,swiperItemStyle:ek}=t2({isFollowSideListShow:eg,followSideListWidth:ey}),{outSwitchClassName:eS}=t8({isFollowSideListShow:eg}),eb=(0,a.useMemo)(()=>G&&G!==I.ERROR_CODE.ERROR_USER_UNLOGIN&&0===U.length?(R.oe.event.error({name:R.Mo.FeedServerError,report:{tab:"follow",statusCode:G,logId:er.current}}),(0,r.jsx)(_.nl,{title:"服务器出现问题",desc:"请稍后重试",slot:V.t6.OCCUPATION})):0===U.length&&!K&&N?(R.oe.event.info({name:R.Mo.FollowFeedNoMoreAndEmpty,report:{logId:er.current,statusCode:G}}),(0,r.jsx)(_.p5,{desc:"可以在搜索或在推荐关注你感兴趣的人",slot:V.t6.OCCUPATION})):null,[G,U,K,N]),eL=(0,p.Z)(),{updateActiveIndex:eN}=(0,tL.Z)({swiper:W,awemeInfoList:U,fetchSlideList:eh,setAwemeInfoList:B}),{onCloseGuide:eE}=is({swiper:W,isClientMiniWin:eL,setAwemeInfoList:B,awemeInfoList:U,liveList:ew.liveList,updateList:ew.choiceFollowingList});(0,a.useEffect)(()=>M.listen(M.EVENT.refreshPage,()=>{G&&(et.current=1),eN(0,!0),Y(!0),(0,H.JA)({refCancelTabFeedFunc:eo,setAwemeInfoList:B,fetchSlideList:eh,fromTab:z.B.FOLLOW}),J(0)}),[eh]),(0,S.o)(()=>{ev();let e=s.history.listen(()=>{(0,w.a)(),g.loginPanelInfo.isShowingAccount=!1,g.loginPanelInfo.isInAccountPage=!1});return()=>{null==e||e(),ev()}},[]);let eT=(0,a.useRef)({}),[eP,eR]=(0,a.useState)(!0),eM=(0,a.useRef)(!1);(0,a.useEffect)(()=>{if(!eM.current){if("/follow"!==ec.pathname)eR(!1);else if("/follow"===ec.pathname)return eR(!0),()=>{"/follow"!==ec.pathname&&!eM.current&&eR(!1)}}},[ec.pathname]),(0,S.o)(()=>{(0,F.J)({title:"抖音-记录美好生活",description:"抖音-记录美好生活的视频平台",keywords:"抖音,抖音音乐,抖音短视频,抖音官网,amemv,抖音app,抖音app下载"})},[]);let eF=(0,a.useMemo)(()=>({is_aweme_tied:(null==h?void 0:h.isLogin)?1:0,enter_from_merge:"web_homepage_follow",request_id:ej}),[h,ej]),eA=(0,tE.j)(),{awemeFeed:eO}=eA,eD=(0,n._)(eA,["awemeFeed"]),{removeSlideListButton:eH}=(0,tk.Iq)(e=>{let{removeSlideListButton:t}=e;return{removeSlideListButton:t}});return G===I.ERROR_CODE.ERROR_NO_NETWORK&&0===U.length?(0,r.jsx)(_.oO,{}):eP?(0,r.jsxs)(tE.b,{context:(0,i._)((0,o._)({},eD),{metaCtxId:"follow"}),children:[(0,r.jsxs)(tZ.Z,{children:[(0,r.jsx)("title",{children:"抖音-记录美好生活"}),(0,r.jsx)("meta",{name:"description",content:"抖音-记录美好生活的视频平台"}),(0,r.jsx)("meta",{name:"keywords",content:"抖音,抖音音乐,抖音短视频,抖音官网,amemv,抖音app,抖音app下载"}),(0,r.jsx)("link",{rel:"canonical",href:"https://www.douyin.com/"})]}),(0,r.jsx)(v(),{title:"抖音-记录美好生活",description:"抖音-记录美好生活的视频平台",keywords:["抖音","抖音音乐","抖音短视频","抖音官网","amemv","抖音app","抖音app下载"],enableRemoteTDK:!0,site:"www.douyin.com",path:"/follow"}),(0,r.jsxs)(Z.ZP,{onSwiper:$,abTestData:A,swiperStyle:eC,cardBetween:eI.cardBetween,nextSwiperHeaderHeight:eI.nextSwiperHeaderHeight,upperSpace:eI.upperSpace,data:U,scene:V.R5.Follow,swiperClassName:tU.swiper,children:[!N&&(0,r.jsx)(t4,{slot:V.t6.OCCUPATION}),eb,(0,r.jsx)(O.o,{"data-e2e":"feed-item",className:m()(tU.swiperItem,"page-recommend-container",{[tU.noSelect]:!!(null==A?void 0:A.shitCardCss)}),slot:V.t6.INSIDE,style:ek,children:e=>{let{slideData:t,activeIndex:l,currentIndex:o}=e;if(eN(l),X(l),!(1>=Math.abs(l-o)))return null;{if("/follow"===ec.pathname&&(eM.current=!0),!eM.current)return null;let e=l===o&&!((null==t?void 0:t.awemeType)===k.e.LiveCard&&!ef),i=l-1===o,n=l+1===o,a=null==t?void 0:t.awemeId;return e&&!eT.current[a]&&(eT.current[a]=!0,T.Le.setConfig(T.gI.FeedLatestViewedAweme,{awemeId:a})),(0,r.jsx)(tz.ce,{InnerPlayer:tb,videoRef:e?ei:en,className:m()(tU.content),isFullScreen:es,item:t,deleteCurrentSwiper:em,playNextFunc:e_,playPrevFunc:ep,isActive:e,isFirst:0===o,isNext:n,isPrev:i,isLast:o===U.length-1,index:o,from:tH.x_.follow,tab:tH.x_.follow,swiper:W,isClientMiniWin:eL})}}}),0===U.length&&G!==I.ERROR_CODE.ERROR_NO_NETWORK&&(0,r.jsx)(lt,{slot:V.t6.INSIDE}),U.length>0&&(0,r.jsx)("div",{slot:"wrapper-end",className:tU.bottomDesc,children:"暂时没有更多了"}),(0,r.jsx)(it,(0,i._)((0,o._)({},ew),{slot:V.t6.OUTOFCONTAINER,logParams:eF})),!ed&&!eu&&!eH&&(0,r.jsx)(tV.z,{show:!es,playNextFunc:()=>{var e;(null===(e=U[W.activeIndex])||void 0===e?void 0:e.awemeType)===k.e.FollowWidgetCard?(em(),eE()):e_({from:"click_button"})},playPrevFunc:()=>{var e;(null===(e=U[W.activeIndex])||void 0===e?void 0:e.awemeType)===k.e.FollowWidgetCard&&(em(),eE()),ep({from:"click_button"})},swiper:W,className:m()("recommend-out-switch-btn",tU.outsideSwitchButton,{[tU.sideCardShow]:"sideCardShow"===eS,[tU.sideCardClose]:"sideCardClose"===eS,[tU.followSideListExpand]:eg&&!ex,[tU.followSideListCollapse]:eg&&ex}),awemeInfoList:U,slot:V.t6.WRAPPERRIGHT,defaultCssHidden:!1,from:tH.x_.follow})]}),(0,r.jsx)(tT.IsLivingPlugin,{activeIndex:Q,dataList:U,setDataList:B,scene:"follow"})]}):(0,r.jsx)(r.Fragment,{})},e=>(0,A.i8)(e))},784889:function(e,t,l){"use strict";l.r(t),l.d(t,{getPeriodCounter:function(){return h},reportClientAIData:function(){return w},runClientAITask:function(){return m},updateClientAICounterOnClick:function(){return _},updateStorageFeatureOnClick:function(){return p}});var o=l(520739),i=l(878389);l(527785),l(268917);var n=l(629499),r=l(274581),a=l(462126),s=l(943661);let d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=new Date(e);return t.setMilliseconds(0),t.setSeconds(0),t.setMinutes(0),t.setHours(0),t.getTime()},u=()=>(0,s.m)(a.RT,{counterL10:{},periodCounter:{},version:"v1"},e=>"v1"===e.version),c=e=>{let t=null==e?void 0:e.slice(0,a.ue);return t&&t.length===a.ue?t.reduce((e,t)=>e+t,0)/t.length:-1},f=(e,t)=>{if(!e)return;let l=d(),o=e[e.length-1];l-o.timestamp==0?o[t]=o[t]+1:e.push({timestamp:l,show_times:1,click_times:0}),e.length>a.jj+1&&e.shift()},v=(e,t,l)=>{let o=(l||u()).periodCounter[e];if(!o)return{clickTimes:0,showTimes:0,clickRate:-1};{let e=o.find(e=>e.timestamp===t),l=e?Math.min(e.click_times/e.show_times,1):-1;return{clickTimes:(null==e?void 0:e.click_times)||0,showTimes:(null==e?void 0:e.show_times)||0,clickRate:l}}},h=(e,t,l)=>{try{let o=l||u(),i={};for(let l=1;l<=a._8;l++){let n=t-a.jj*l,{clickRate:r}=v(e,n,o);i[`r_d${l}`]=r}return i}catch(t){let e={funcName:"getPeriodCounter",stack:t.stack};return n.Z.sendLog("liveHeadClientAIError",e),{}}},m=async(e,t)=>{let l=-1,m=-1;try{let t=(0,s.m)(a.cq),n=u(),x=d(),y={0:{threshold:.5,model_cdn:"https://lf3-static.bytednsdoc.com/obj/eden-cn/ph-auvym/ljhwZthlaukjlkulzlp/douyin-pc/livehead/pos1/params_extra_1723628400.027769.json"},1:{threshold:.5,model_cdn:"https://lf3-static.bytednsdoc.com/obj/eden-cn/ph-auvym/ljhwZthlaukjlkulzlp/douyin-pc/livehead/pos2/params_extra_1724123885.796959.json"}},j=e.slice(0,a.A5);for(let e in j){var _,p,w,g;let s=j[e],d=(null===(g=s.__fakeAwemeInfo)||void 0===g?void 0:null===(w=g.authorInfo)||void 0===w?void 0:null===(p=w.roomData)||void 0===p?void 0:null===(_=p.room_view_stats)||void 0===_?void 0:_.display_value)||0,u={time_stamp:Date.now(),hour:new Date().getHours(),has_clicked_window:!1,time_on_page_click:0,anchor_id:s.anchorId||"",room_id:s.roomId||"",link_order:e,room_viewer_cnt:d,last_click_idx:-1,predict_enabled:!1},C=n.periodCounter[e];(!C||0===C.length)&&(n.periodCounter[e]=[{timestamp:x,show_times:0,click_times:0}]),f(n.periodCounter[e],"show_times"),n.counterL10=n.counterL10||{};let I=n.counterL10[e];I&&0!==I.length?(n.counterL10[e]=I.slice(-a.ue),n.counterL10[e].push(0)):n.counterL10[e]=[0];let k=y[e],S=h(e,x,n),b=v(e,x,n),L=c(n.counterL10[e]);if(k){let t=new r.SimpleNN;await t.initNetwork(k.model_cdn,e);let n=(0,i._)((0,o._)({},u,S,b),{click_rate_l10:L}),a=t.inference(n,k.threshold);a.predictResult&&a.predictProb>l&&(l=a.predictProb,m=Number(e)),u.predict_enabled=!0,u.predict_has_error=a.hasError,u.predict_prob=a.predictProb,u.predict_result=a.predictResult,u.predict_time=Date.now(),u.predict_threshold=k.threshold}t[e]=u}return(0,s.t)(a.cq,t),(0,s.t)(a.RT,n),{hasError:!1,maxProb:l,maxProbIdx:m}}catch(t){let e={funcName:"runClientAITask",stack:t.stack};return n.Z.sendLog("liveHeadClientAIError",e),{hasError:!0,maxProb:l,maxProbIdx:m}}},_=e=>{try{var t,l;let o=u();f(null===(t=o.periodCounter)||void 0===t?void 0:t[e],"click_times");let i=null===(l=o.counterL10)||void 0===l?void 0:l[e];i&&i.length>0&&(i[i.length-1]=1),(0,s.t)(a.RT,o)}catch(t){let e={funcName:"updateClientAICounterOnClick",stack:t.stack};n.Z.sendLog("liveHeadClientAIError",e)}},p=(e,t,l)=>{try{var o,i,r,d;if(e>=a.A5)return;let n=(0,s.m)(a.cq),u=(null===(d=t.__fakeAwemeInfo)||void 0===d?void 0:null===(r=d.authorInfo)||void 0===r?void 0:null===(i=r.roomData)||void 0===i?void 0:null===(o=i.room_view_stats)||void 0===o?void 0:o.display_value)||0;n[`${e}`]?(n[`${e}`].hour=Date.now(),n[`${e}`].has_clicked_window=!0,n[`${e}`].time_on_page_click=(Date.now()-n[`${e}`].time_stamp)/1e3,n[`${e}`].room_viewer_cnt=u,n[`${e}`].last_click_idx=l):n[`${e}`]={time_stamp:Date.now(),hour:new Date().getHours(),has_clicked_window:!0,time_on_page_click:0,anchor_id:t.anchorId||"",room_id:t.roomId||"",link_order:e,room_viewer_cnt:u,last_click_idx:l,predict_enabled:!1},(0,s.t)(a.cq,n)}catch(t){let e={funcName:"updateStorageFeatureOnClick",stack:t.stack};n.Z.sendLog("liveHeadClientAIError",e)}},w=e=>{try{let l=Math.min(e,a.A5),r=d(),f=u();for(let e=0;e<l;e++){var t;let l=(0,s.m)(a.cq)[`${e}`];if(!l)continue;let u=d(l.time_stamp),m=h(`${e}`,u,f),_=v(`${e}`,r,f),p=c(null===(t=f.counterL10)||void 0===t?void 0:t[`${e}`]),w=(0,i._)((0,o._)({},l,m,_),{click_rate_l10:p});w.predict_enabled&&(w.predict_correct=w.has_clicked_window===w.predict_result),n.Z.sendLog("liveHeadClientAI",w)}}catch(t){let e={funcName:"reportClientAIData",stack:t.stack};n.Z.sendLog("liveHeadClientAIError",e)}}},274581:function(e,t,l){"use strict";l.r(t),l.d(t,{SimpleNN:function(){return n},predictor:function(){return r}});var o=l(134761);l(675373),l(209955),l(981168),l(268917),l(874386),l(527785);var i=l(943661);class n{async fetchModel(e,t){let l=(0,i.m)(`live_head_client_ai_model_params_${t}`),o={raw:null==l?void 0:l.raw,date:null==l?void 0:l.date,url:null==l?void 0:l.url};if(!l||l.date!==new Date().toLocaleDateString()||l.url!==e)try{o={raw:await (await fetch(e)).json(),date:new Date().toLocaleDateString(),url:e},(0,i.t)(`live_head_client_ai_model_params_${t}`,o)}catch(e){throw Error(`fetch model failed. ${e.message}`)}return o}isInit(){return this.network.length>0&&this.normalizationParams.length>0}async initNetwork(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this.isInit())return;let l=await this.fetchModel(e,t),o=[],{model:i,normalizationParams:n}=l.raw;Object.keys(i).sort().forEach(e=>{let t=i[e],l=[];for(let e of t){let t={weights:e[0],bias:e[1]};l.push(t)}o.push(l)}),this.network=o,this.normalizationParams=Object.entries(n).sort((e,t)=>e[1].idx-t[1].idx)}activate(e,t){let{weights:l,bias:o}=e;return l.reduce((e,l,o)=>e+l*t[o],o)}sigmoid(e){return 1/(1+Math.exp(-e))}relu(e){return Math.max(0,e)}forwardPropagate(e){let t=e;return this.network.forEach((e,l)=>{let o=[];e.forEach(e=>{let i=this.activate(e,t),n=0;n=l!==this.network.length-1?this.relu(i):this.sigmoid(i),e.output=n,o.push(n)}),t=o}),t}normalization(e){let t=[];return this.normalizationParams.forEach(l=>{let[o,i]=l,n=e[o];if(void 0===n)throw Error(`${o} not found in features`);if(null==i?void 0:i.enumValues){let e=i.enumValues.indexOf(n);n=-1===e?i.default:e}let r=i.min,a=i.max;if(n<r||n>a)throw Error(`${o} normalize out of range.`);if(Number.isNaN(n=r===a?n:(n-r)/(a-r)))throw Error(`${o} normalize error`);t.push(n)}),t}predict(e){return this.forwardPropagate(e)}inference(e,t){let l={hasError:!1,predictProb:0,predictResult:!1};try{if(this.isInit()){let o=this.normalization(e),i=this.predict(o)[0];l.hasError=!1,l.predictProb=i,l.predictResult=i>t}}catch(e){l.hasError=!0,l.predictResult=!1}return l}constructor(){(0,o._)(this,"network",[]),(0,o._)(this,"normalizationParams",[])}}let r=new n},462126:function(e,t,l){"use strict";l.d(t,{A5:function(){return i},BO:function(){return o},RT:function(){return r},_8:function(){return a},cq:function(){return n},jj:function(){return s},ue:function(){return d}});let o=5,i=3,n="client_ai_live_follow_list_feature_data",r="client_ai_live_follow_list_counter_data",a=7,s=864e5,d=10},629499:function(e,t,l){"use strict";var o=l(544933);t.Z=new o.h({clickPreviousVideo:{eventName:"click_previous_video",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",click_from:"click_button",play_material:"video"}},clickNextVideo:{eventName:"click_next_video",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",click_from:"click_button",play_material:"video"}},followEndPageShow:{eventName:"follow_end_page_show",params:{}},followEndPageClick:{eventName:"follow_end_page_click",params:{}},followCoverOpen:{eventName:"follow_cover_open",params:{}},followCoverClose:{eventName:"follow_cover_close",params:{}},followHeadShow:{eventName:"follow_head_show",params:{room_id:"",author_id:"",if_new_post:0,if_first_page:0,if_fold_live:0,rank:"15+"}},followHeadClick:{eventName:"follow_head_click",params:{room_id:"",author_id:"",if_new_post:0,if_first_page:0,if_fold_live:0,rank:"15+",live_head_rank:void 0,follow_head_rank:void 0}},followViewMoreShow:{eventName:"follow_view_more_show",params:{}},followSlideButtonClick:{eventName:"follow_slide_button_click",params:{direction:"right",if_view_more:0}},foldLiveHeadShow:{eventName:"fold_live_head_show",params:{}},foldLiveHeadClick:{eventName:"fold_live_head_click",params:{type:"unfold"}},pcFollowAuthorPreload:{eventName:"pc_follow_author_preload",params:{rate:0}},liveHeadClientAI:{eventName:"pc_follow_live_head_client_ai",params:{}},liveHeadClientAIError:{eventName:"pc_follow_live_head_client_ai_error",params:{}}})},943661:function(e,t,l){"use strict";l.d(t,{m:function(){return o},t:function(){return i}}),l(779788);let o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0,o=localStorage.getItem(e);if(o)try{let e=JSON.parse(o);if(!l||(null==l?void 0:l(e)))return e}catch(e){}return t},i=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))}},714318:function(e,t,l){"use strict";l.d(t,{b:function(){return u},y:function(){return c}});var o=l(520739),i=l(878389);l(779788),l(675373);var n=l(496349),r=l(231755),a=l(349135);let{COMMON_SEARCH_PARAMS:s}=n||{};function d(e){let{data:t=[],status_code:l,log_pb:o,has_more:i,cursor:n,level:r,last_view:s}=e,d=t.map(e=>null==e?void 0:e.aweme);return{statusCode:l,hasMore:1===i,awemeList:(0,a.TN)({awemeList:d||[],logPb:o&&JSON.stringify(o)}),logPb:o&&JSON.stringify(o),cursor:n,level:r,lastView:s}}async function u(e){let{cursor:t,level:l,count:n=20,pull_type:u,awemeIds:c=[],roomIds:f=[]}=e,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,h=await (0,r.U2)("/aweme/v1/web/follow/feed/",(0,i._)((0,o._)({},s),{cursor:t,level:l,count:n,pull_type:u,aweme_ids:c.join(","),room_ids:f.join(",")}),{},void 0,v,{});return(0,a.RL)(h,d)}async function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{scene:l="aweme_pc_follow_top"}=e||{};return function(e){let{data:t,status_code:l=0,logId:n}=e,{data:r=[]}=t||{};return{data:r.map(e=>{var t,l,n,r,a,s,d,u,c,f,v,h,m,_,p,w,g,x,y,j,C,I,k,S,b,L,N,E,T,P,R;let M=(null==e?void 0:null===(t=e.room)||void 0===t?void 0:t.additional_stream_url)||(null==e?void 0:e.additional_stream_url),F={authorInfo:{roomData:(0,i._)((0,o._)({},(null==e?void 0:e.room)||{}),{owner:{web_rid:null==e?void 0:e.web_rid},user_count:null==e?void 0:null===(l=e.room)||void 0===l?void 0:l.user_count_str,others:null==e?void 0:null===(n=e.room)||void 0===n?void 0:n.others,additional_stream_url:M}),roomId:null==e?void 0:null===(r=e.room)||void 0===r?void 0:r.id_str,nickname:null==e?void 0:null===(s=e.room)||void 0===s?void 0:null===(a=s.owner)||void 0===a?void 0:a.nickname,title:null==e?void 0:null===(d=e.room)||void 0===d?void 0:d.title,secUid:null==e?void 0:null===(c=e.room)||void 0===c?void 0:null===(u=c.owner)||void 0===u?void 0:u.sec_uid,desc:null==e?void 0:null===(f=e.room)||void 0===f?void 0:f.title,uid:null==e?void 0:null===(h=e.room)||void 0===h?void 0:null===(v=h.owner)||void 0===v?void 0:v.id_str},desc:null==e?void 0:null===(m=e.room)||void 0===m?void 0:m.title};return{webRid:null==e?void 0:e.web_rid,userName:null==e?void 0:null===(p=e.room)||void 0===p?void 0:null===(_=p.owner)||void 0===_?void 0:_.nickname,anchorId:null==e?void 0:null===(g=e.room)||void 0===g?void 0:null===(w=g.owner)||void 0===w?void 0:w.id_str,roomId:null==e?void 0:null===(x=e.room)||void 0===x?void 0:x.id_str,coverSrc:null==e?void 0:null===(I=e.room)||void 0===I?void 0:null===(C=I.owner)||void 0===C?void 0:null===(j=C.avatar_thumb)||void 0===j?void 0:null===(y=j.url_list)||void 0===y?void 0:y[0],gameName:null==e?void 0:e.tag_name,episodeExtra:null==e?void 0:null===(k=e.room)||void 0===k?void 0:k.episode_extra,streamType:null==e?void 0:null===(b=e.room)||void 0===b?void 0:null===(S=b.stream_url)||void 0===S?void 0:S.stream_orientation,paidLiveData:null==e?void 0:null===(L=e.room)||void 0===L?void 0:L.paid_live_data,isEcomLive:(null==e?void 0:null===(T=e.room)||void 0===T?void 0:null===(E=T.ecom_data)||void 0===E?void 0:null===(N=E.room_cart_v2)||void 0===N?void 0:N.show_cart)===1,isCarnival:(null==e?void 0:null===(R=e.room)||void 0===R?void 0:null===(P=R.assist_label)||void 0===P?void 0:P.label_type)===82,__fakeAwemeInfo:F}}),statusCode:l,logId:n}}(await (0,r.U2)("/webcast/web/feed/follow/",(0,i._)((0,o._)({},s),{scene:l}),{},void 0,t,{}))}},311548:function(e,t,l){"use strict";l(429532),l(602157),l(413806),l(826893),l(779788);var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,l=1,o=arguments.length;l<o;l++)for(var i in t=arguments[l],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,l=arguments.length;t<l;t++)e+=arguments[t].length;for(var o=Array(e),i=0,t=0;t<l;t++)for(var n=arguments[t],r=0,a=n.length;r<a;r++,i++)o[i]=n[r];return o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobal=void 0;var r=n(l(88648)),a=l(965775),s=l(872955),d={keywords:[],robots:"index, follow"};t.default=function(e){var t=e.keywords,l=e.description,o=e.title,n=e.videoObject,u=e.languages,c=e.robots,f=e.canonical,v=e.enableRemoteTDK,h=e.site,m=e.path,_=e.params,p=e.flushTdkTemplateMs,w=e.isBoe,g=e.children;if(!function(){try{if(window&&document&&location&&alert)return!1;return!0}catch(e){return!0}}())return null;var x=[],y="",j="";if(void 0!==v&&v){var C=s.buildTdk({keywords:t.join(","),description:l,title:o},h,m,void 0===_?{}:_,void 0!==w&&w,void 0===p?36e5:p);x=C.keywords.split(","),y=C.description,j=C.title}else x=t,y=l,j=o;var I=n?"video":"",k=n?Array.isArray(n)?n:[n]:[];return r.default.createElement(r.default.Fragment,null,r.default.createElement(a.Helmet,null,j?r.default.createElement("title",null,j):null,r.default.createElement("meta",{name:"robots",content:c||d.robots}),y?r.default.createElement("meta",{name:"description",content:y}):null,r.default.createElement("meta",{name:"keywords",content:i(x,d.keywords).filter(function(e){return e}).join(",")}),f?r.default.createElement("link",{rel:"canonical",href:f}):null,n?r.default.createElement("script",{type:"application/ld+json"},JSON.stringify(k.map(function(e){return{"@context":"https://schema.org","@type":"VideoObject",name:e.name,description:e.description,thumbnailUrl:e.thumbnailUrl,uploadDate:e.uploadDate,duration:"PT1M54S",contentUrl:e.contentUrl,embedUrl:e.embedUrl,interactionStatistic:e.interactionStatistic}}))):null,(void 0===u?[]:u).map(function(e){return r.default.createElement("link",{key:e.hrefLanguage,rel:"alternate",hrefLang:e.hrefLanguage,href:e.href})})),"video"===I?r.default.createElement(a.Helmet,null,r.default.createElement("meta",{property:"og:type",content:"video"}),r.default.createElement("meta",{property:"og:title",content:o}),r.default.createElement("meta",{property:"og:image",content:k[0].thumbnailUrl[0]}),r.default.createElement("meta",{property:"og:url",content:k[0].contentUrl||k[0].embedUrl})):null,r.default.createElement(a.Helmet,null,g))},t.setGlobal=function(e){d=o(o({},d),e)}},872955:function(e,t,l){"use strict";l(675373),l(602157),l(874386),l(209955),l(268917),l(284961),l(826893),l(927234),l(779788);var o=this&&this.__awaiter||function(e,t,l,o){return new(l||(l=Promise))(function(i,n){function r(e){try{s(o.next(e))}catch(e){n(e)}}function a(e){try{s(o.throw(e))}catch(e){n(e)}}function s(e){var t;e.done?i(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}s((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var l,o,i,n,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(l)throw TypeError("Generator is already executing.");for(;r;)try{if(l=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,o=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){r=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){r.label=n[1];break}if(6===n[0]&&r.label<i[1]){r.label=i[1],i=n;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(n);break}i[2]&&r.ops.pop(),r.trys.pop();continue}n=t.call(e,r)}catch(e){n=[6,e],o=0}finally{l=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setTdkTemplateList=t.getTdkTemplateList=t.buildTdk=t.fillTemplateParams=void 0;var r=n(l(428775)),a=l(379380),s=l(462567),d=l(141266),u=[],c=null,f=!1;function v(e){return o(this,void 0,void 0,function(){var t,l,o,n;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,r.default.request({url:"https://ug-seo-demo"+(f?"-boe":"")+".bytedance."+(f?"net":"com")+"/open-api/tdk/query",method:"post",data:{site:e}})];case 1:if(l=(t=i.sent()).data,(o=t.status)>=400)throw Error("获取 TDK 失败，status code: "+o);if(l.errno)throw Error("获取 TDK 失败，errno: "+l.errno+",message: "+l.message);return _(l.data),[3,3];case 2:return i.sent(),[3,3];case 3:return[2]}})})}function h(e,t){var l=e.replace(/\{\{\s*(\w+)\s*\}\}/g,"{{$1}}");for(var o in t){for(var i=l.replace("{{"+o+"}}",t[o]);i!=l;)i=(l=i).replace("{{"+o+"}}",t[o])}return l.replace(/{{([\s\S]+?)}}/g,"")}t.fillTemplateParams=h;function m(e){return!e.title&&!e.description&&!e.keywords}t.buildTdk=function(e,t,l,o,i,n){void 0===i&&(i=!1),void 0===n&&(n=36e5),f=i;var r,_,p,w,g,x={title:"",description:"",keywords:""};try{;if("string"!=typeof t||"string"!=typeof l)throw Error("由模板构建 TDK 时，必须要传入合法 site 和 path，当前 site="+t+"，path="+l);if(r=l,_=o,x=(p=function(e,t){for(var l=0;l<t.length;l++){var o=t[l];if(a.isMatch(e,o.path))return o}}(r,u))?{title:h(p.title,_),description:h(p.description,_),keywords:h(p.keywords,_)}:{title:"",description:"",keywords:""},d.isSsrServer()){;w=n,g=t,w<3e5&&(w=3e5),c||(c=setInterval(function(){v(g)},w*(1+(Math.random()-.5)*.1)),v(g)),s.metricsEmitCounter("tdk.build",1,"toutiao.growth.seo_platform",{site:t||"empty",path:l||"empty",fallback:+m(x),tdkTemplateListLength:u.length,errMsg:"success"})}}catch(e){d.isSsrServer()&&s.metricsEmitCounter("tdk.build",1,"toutiao.growth.seo_platform",{site:t||"empty",path:l||"empty",fallback:+m(x),tdkTemplateListLength:u.length,errMsg:e.toString()})}return m(x)?e:x};function _(e){u=JSON.parse(JSON.stringify(e))}t.getTdkTemplateList=function(){return JSON.parse(JSON.stringify(u))},t.setTdkTemplateList=_},462567:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.metricsEmitCounter=void 0;t.metricsEmitCounter=function(e,t,l,o){}},141266:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSsrServer=void 0;t.isSsrServer=function(){try{if(window&&document&&location&&alert)return!1;return!0}catch(e){return!0}}},379380:function(e,t,l){"use strict";var o=l(520739);l(874386),l(779788),l(284961),l(826893),l(242079),l(851912),l(927234),l(209955),l(954372),l(268917);let i=l(637632),n=new Map;function r(e,t){let l=e+JSON.stringify(t=o._({caseSensitive:!1},t));if(n.has(l))return n.get(l);let r="!"===e[0];r&&(e=e.slice(1)),e=i(e).replace(/\\\*/g,"[\\s\\S]*");let a=RegExp(`^${e}$`,t.caseSensitive?"":"i");return a.negated=r,n.set(l,a),a}e.exports=(e,t,l)=>{if(!(Array.isArray(e)&&Array.isArray(t)))throw TypeError(`Expected two arrays, got ${typeof e} ${typeof t}`);if(0===t.length)return e;let o="!"===t[0][0];t=t.map(e=>r(e,l));let i=[];for(let l of e){let e=o;for(let o of t)o.test(l)&&(e=!o.negated);e&&i.push(l)}return i},e.exports.isMatch=(e,t,l)=>{let o=Array.isArray(e)?e:[e],i=Array.isArray(t)?t:[t];return o.some(e=>i.every(t=>{let o=r(t,l),i=o.test(e);return o.negated?!i:i}))}},257130:function(e,t,l){"use strict";var o=l(520739),i=l(878389),n=l(563097),r=l(88648);let a=(0,r.forwardRef)((e,t)=>(0,n.jsx)("svg",(0,i._)((0,o._)({width:18,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,n.jsx)("path",{d:"M7.158 11.693c-.41.41-1.073.41-1.482 0l-4.81-4.81a1.248 1.248 0 0 1 0-1.765L5.676.307a1.048 1.048 0 1 1 1.482 1.482L3.995 4.953h11.982a1.048 1.048 0 1 1 0 2.095H3.996l3.162 3.163c.41.41.41 1.073 0 1.482z",fill:"#2F3035"})})));t.Z=a},664094:function(e,t,l){"use strict";l.d(t,{Z:function(){return a}});var o=l("88648"),i=l("737099"),n=l.n(i),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n(),l=(0,o.useRef)(e),i=t(l.current,e);return(0,o.useEffect)(function(){!i&&(l.current=e)}),i?l.current:e},a=function(){var e=arguments[0],t=arguments[1],l=arguments[2];2==arguments.length&&(l=t,t=void 0);var i=r(l,t);(0,o.useEffect)(function(){e()},[i])}},637632:function(e){"use strict";e.exports=e=>{if("string"!=typeof e)throw TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},973954:function(e){e.exports=function(e,t,l){return e==e&&(void 0!==l&&(e=e<=l?e:l),void 0!==t&&(e=e>=t?e:t)),e}},504641:function(e,t,l){var o=l(973954),i=l(993893);e.exports=function(e,t,l){return void 0===l&&(l=t,t=void 0),void 0!==l&&(l=(l=i(l))==l?l:0),void 0!==t&&(t=(t=i(t))==t?t:0),o(i(e),t,l)}}}]);