"use strict";(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["9040"],{720172:function(e,t,n){n.r(t),n.d(t,{RechargeBtn:function(){return U}});var a=n("520739"),i=n("878389");n("675373"),n("874386");var o=n("563097"),r=n("88648"),l=n("338426"),c=n("713097"),u=n.n(c),s=n("611243"),d=n("240894"),f=n("702726"),m=n("874204"),g=n("658065"),h=n("782442"),_=n("746025"),v=n("399796"),w=n("696332"),y=n("815827"),p=n("35730"),b=n("747909"),x=n("456075"),N=n("473677"),S=n("271977"),C=n("254897");let R=(0,r.memo)(e=>{let{activityName:t,className:n,text:a,icon:i,showBadge:l,badge:c,badgeText:s,badgeIconHeight:d,badgeIconSvg:f,badgeIconViewBox:m,badgeIconWidth:g,onClick:h,transparent:_,onMouseEnter:v,onMouseLeave:w,needRenderInSSR:y=!1}=e,{userUiStyle:p}=(0,r.useContext)(S.R);return(0,o.jsxs)("div",{className:u()(x.default.circleButtonWrapper,n),children:[(0,o.jsxs)("div",{onClick:h,onMouseEnter:v,onMouseLeave:w,className:u()(x.default.circleButton,x.default.circleButtonWithText,{isDark:!!t||_&&!p,[x.default.activity]:!!t||_,[null===x.default||void 0===x.default?void 0:x.default[t]]:t,[x.default.transparent]:_},n),"data-e2e":"something-button",children:[(0,o.jsx)("div",{className:x.default.iconContainer,children:(0,o.jsx)(C.z,{svg:i,needRenderInSSR:y})}),(0,o.jsx)("p",{className:x.default.text,children:a})]}),l&&("text"===c||"round"===c)&&(0,o.jsx)(b.Badge,{countClassName:u()({[x.default.textBadge]:"text"===c,[x.default.roundBadge]:"round"===c,[x.default.circleButtonWithTextRoundBadge]:"round"===c}),dot:"round"===c,count:"text"===c?s||a:void 0}),l&&"image"===c&&(0,o.jsx)("div",{className:u()(x.default.imageBadge,x.default.circleButtonWithTextImageBadge),children:(0,o.jsx)(N.Z,{src:f,width:g,height:d,viewBox:m||`0 0 ${g} ${d}`})})]})});var L=n("851394"),k=n("381731"),I=n("430066"),E=n("260693"),O=n("53038"),P=n("205457");let T=(0,l.ZP)(()=>n.e("71091").then(n.bind(n,796717)),{resolveComponent:e=>{let{RechargePanel:t}=e;return t}}),j=(0,r.memo)((0,m.At)().createLazyComponent({loader:()=>(0,m.At)().loadRemote("@revenue-wallet-fe/recharge-web"),export:"default",fallback:e=>{let{error:t,errorType:n,dataFetchMapKey:a}=e;return null}}),(e,t)=>(null==e?void 0:e.scene)===(null==t?void 0:t.scene)&&(null==e?void 0:e.showOfficialEntrance)===(null==t?void 0:t.showOfficialEntrance)&&(null==e?void 0:e.theme)===(null==t?void 0:t.theme)),U=e=>{var t,n,l;let{isRechargeShow:c,isLogin:b,onRechargeVisibleChange:x,onRechargeSuccess:N,onLoginSuccess:S,transparent:C,activityName:U,onMouseEnter:B,onMouseLeave:A,popoverSpacing:J=10,abTestData:D,isMas:z}=e,M=(0,r.useRef)(!1),W=(0,r.useRef)(!1),{searchParams:q}=(0,d.w)(),{showRecharge:F,hideRecharge:K,hideOtherRecharge:$}=(0,s.y)({container:"rechargeMountEl"}),{type:H,changeType:V,clearDisappearTimer:Q}=(0,E.P)({delayDisappear:150}),Z=(0,m.zU)()&&!z,[X,G]=(0,r.useState)(!1);(0,r.useEffect)(()=>()=>{M.current&&(Z?G(!1):K())},[Z]),(0,r.useEffect)(()=>{!H&&(Z?G(!1):K())},[H]),(0,r.useEffect)(()=>{(0,m.zU)()&&(0,m.At)().prefetch({id:"@revenue-wallet-fe/recharge-web",preloadComponentResource:!0})},[]),(0,r.useEffect)(()=>{if(c&&!b){var e;f.logInstance.sendLog("livesdkRechargeNavigationBarShow",{enter_from_merge:(0,g.yW)(),if_live_play:(null==q?void 0:q.tab)==="live"||h.Le.getConfig(h.gI.HasLiveContent)||(null===(e=window)||void 0===e?void 0:e.location.host)==="live.douyin.com"?1:0})}},[c]);let{rechargeConfig:Y}=(0,O.K)(),ee={enter_from_merge:(0,g.yW)(),show_reason:"navigation_bar",live_window_type:null!==(l=null===(t=h.Le.getConfig(h.gI.LiveWindowStatus))||void 0===t?void 0:t.type)&&void 0!==l?l:"no_live_window",if_live_play:(null==q?void 0:q.tab)==="live"||h.Le.getConfig(h.gI.HasLiveContent)||(null===(n=window)||void 0===n?void 0:n.location.host)==="live.douyin.com"?1:0},et=!!document.querySelector("body[topic-page-force-dark]"),en=(0,r.useCallback)(()=>{if(!!b){if(V("active"),Q(),M.current=!0,Z){G(!0);return}null==$||$(),F({scene:"pc_topbanner",type:"recharge",balance:0,amount:0,onSuccess:()=>{null==N||N()},onClose:e=>{M.current=!1,W.current=!1,x(!1),f.logInstance.sendLog("livesdkRechargeShowDuration",(0,i._)((0,a._)({},ee),{charge_reason:"recharge",duration:(null==e?void 0:e.duration)||0,if_recharge_success:(null==e?void 0:e.isSuccess)?1:0})),V("")},selectDefaultCombo:!0,showOfficialEntrance:!0,onCombosItemClick:e=>{let{type:t}=e||{};"manual"===t&&(W.current=!0)},additionalLogParams:ee,theme:et?p.ThemeValues.Dark:(0,_.Dr)(v.Q.getItem({sKey:p.CookieKeys.Theme}))})}},[N,x,b,D]);return(0,o.jsx)(k.J,{position:"bottom",visible:c,onVisibleChange:e=>{x(e)},mouseType:"over",mouseEnterDelay:100,mouseLeaveDelay:300,content:!b&&(0,o.jsx)(T,{isLogin:b,onLoginSuccess:S,abTestData:D}),mouseEnter:B,mouseLeave:A,spacing:J,children:(0,o.jsxs)("div",{className:u()(L.default.menuItem),children:[(0,o.jsx)(I.p,{headerPopupName:"recharge",replaceEvenAlreadyExist:!1,children:(0,o.jsx)(R,{onClick:()=>{en()},activityName:U,text:w.a.t("douyin_coin",{},Y.headerName||"充抖币"),icon:(0,o.jsx)(y.Z,{className:L.default.semiIcon}),iconWidth:24,iconHeight:24,iconViewBox:"0 0 24 24",transparent:C,needRenderInSSR:!0})}),(0,o.jsx)("div",{className:u()(L.default.rechargePanelOuter,{[L.default.hidden]:!b}),children:X?(0,o.jsx)(P.k,{componentName:"RechargePanelRemote",children:(0,o.jsx)(j,{showOfficialEntrance:!0,theme:et?p.ThemeValues.Dark:(0,_.Dr)(v.Q.getItem({sKey:p.CookieKeys.Theme}),{themeColorOptimize:null==D?void 0:D.themeColorOptimize}),scene:"pc_topbanner",onShow:()=>{f.logInstance.sendLog("livesdkRechargeShowByContainer",(0,i._)((0,a._)({},ee),{load_type:"vmok",charge_reason:"recharge"}))},onClose:e=>{M.current=!1,W.current=!1,x(!1),f.logInstance.sendLog("livesdkRechargeShowDuration",(0,i._)((0,a._)({},ee),{charge_reason:"recharge",duration:(null==e?void 0:e.duration)||0,if_recharge_success:(null==e?void 0:e.isSuccess)?1:0})),G(!1),V("")},additionalLogParams:ee,onRechargeSuccess:()=>{null==N||N(),f.logInstance.sendLog("livesdkRechargeSuccessByContainer",(0,i._)((0,a._)({},ee),{load_type:"vmok",charge_reason:"recharge"}))}})}):(0,o.jsx)("div",{className:u()(L.default.rechagrePanel,"rechargeMountEl")})})]})})}},53038:function(e,t,n){n.d(t,{K:function(){return l}}),n(874386);var a=n(88648),i=n(480596),o=n(598053),r=n(782442);let l=()=>{var e;let[t,n]=(0,a.useState)((null===(e=r.Le.getConfig(r.gI.TccData))||void 0===e?void 0:e[i.TccKey.PcRechargeConfig])||i.TCC_DEFAULT_VALUE_MAP.get(i.TccKey.PcRechargeConfig));return(0,a.useEffect)(()=>{let e=!1;return(async()=>{let t=await o.get({key:i.TccKey.PcRechargeConfig,defaultValue:i.TCC_DEFAULT_VALUE_MAP.get(i.TccKey.PcRechargeConfig)});!e&&n(t)})(),()=>{e=!0}},[]),{rechargeConfig:t}}},474932:function(e,t,n){n.d(t,{m:function(){return c},w:function(){return l}});var a=n(520739);n(675373);var i=n(496349),o=n(231755);let{COMMON_SEARCH_PARAMS:r}=i||{};async function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=await (0,o.v_)("/aweme/v1/web/commit/dislike/item/",(0,a._)({aweme_id:e},r),{aweme_id:e}),n=t.status_code;return{statusCode:n,errMsg:0===n||t.status_msg?t.status_msg:"啊哦，服务器打瞌睡了"}}async function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=await (0,o.v_)("/aweme/v1/web/dislike/dimension/update/",(0,a._)({aweme_id:e,block_type:2},r),{aweme_id:e}),n=t.status_code;return{statusCode:n,errMsg:0===n||t.status_msg?t.status_msg:"啊哦，服务器打瞌睡了"}}},576669:function(e,t,n){n.d(t,{FF:function(){return w},HN:function(){return y},Lz:function(){return R},MQ:function(){return S},Zl:function(){return C},iv:function(){return b},nQ:function(){return p},vf:function(){return N}});var a=n(520739),i=n(878389);n(779788),n(675373);var o=n(746864),r=n(14108),l=n(658065),c=n(496349),u=n(349135),s=n(231755);let{COMMON_SEARCH_PARAMS:d,CHANNEL_PC_WEB:f}=c||{};function m(e){let{aweme_list:t,has_more:n,item_id_to_episode:a,status_code:i,cursor:o,log_pb:r}=e,l={};try{l=JSON.parse(a)}catch(e){}return{logPb:r&&JSON.stringify(r),itemIdToEpisode:l,statusCode:i||0,hasMore:n,cursor:o,data:(0,u.TN)({awemeList:t||[],logPb:r&&JSON.stringify(r)})||[]}}function g(e){let{aweme_list:t,has_more:n,status_code:a,max_cursor:i,log_pb:o}=e;return{logPb:o&&JSON.stringify(o),statusCode:a||0,hasMore:n,cursor:i,data:(0,u.TN)({awemeList:t||[],logPb:o&&JSON.stringify(o)})||[]}}function h(e){let{mix_infos:t,has_more:n,status_code:a,cursor:i,total:o,log_pb:r}=e;return{statusCode:a,hasMore:n,cursor:i,total:o,logPb:r&&JSON.stringify(r),data:(0,u.NR)(t||[])}}function _(e){let{extra:t,logId:n,log_pb:a,status_code:i,status_msg:o}=e,r="";try{r=JSON.stringify(a)}catch(e){}return{extra:t,logId:n,logPb:r,statusCode:i,statusMsg:o}}function v(e){let{extra:t,logId:n,log_pb:a,status_code:i,status_msg:o}=e,r="";try{r=JSON.stringify(a)}catch(e){}return{extra:t,logId:n,logPb:r,statusCode:i,statusMsg:o}}async function w(e){let{mixId:t,cursor:n,count:o=12,mixScene:r}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=await (0,s.U2)("/aweme/v1/web/mix/aweme/",(0,i._)((0,a._)({},d),{mix_id:t,cursor:Math.max(n,0),count:o,mix_scene:r}),{errorTags:{mixId:t}},void 0,l,{}),f=(0,u.RL)(c,m);return(null==f?void 0:f.data)&&f.data.forEach(e=>{e.logPb=f.logPb}),f}async function y(e){let{uid:t,cursor:n=0,count:o=12,listScene:r}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=await (0,s.U2)("/aweme/v1/web/mix/list/",(0,i._)((0,a._)({},d),{sec_user_id:t,req_from:f,cursor:n,count:o,list_scene:r}),{errorTags:{uid:t}},void 0,l,{});return(0,u.RL)(c,h)}function p(e,t,n){var a,i,c,u;let{currentEpisode:s}=(null==n?void 0:null===(a=n.seriesInfo)||void 0===a?void 0:a.seriesId)?null==n?void 0:n.seriesInfo:(null==n?void 0:n.mixInfo)||{},{data:d,currentEpisode:f}=(null==n?void 0:null===(i=n.seriesInfo)||void 0===i?void 0:i.seriesId)?t:e||{};if(f!==s)return!1;if(null==d?void 0:d.length){for(let e=0;e<d.length;e++)if((null===(c=d[e])||void 0===c?void 0:c.mixInfo.currentEpisode)===f&&(null==d?void 0:null===(u=d[e+1])||void 0===u?void 0:u.awemeId)){let t=null==d?void 0:d[e+1];return{awemeId:null==t?void 0:t.awemeId,url:(null==t?void 0:t.awemeType)===o.e.Note?(0,r.Wr)(null==t?void 0:t.awemeId,`previous_page=${(0,l.yW)()||""}`):(0,r.$N)(null==t?void 0:t.awemeId,`previous_page=${(0,l.yW)()||""}`),img:null==t?void 0:t.video.cover,desc:`第${null==t?void 0:t.mixInfo.currentEpisode}集 | ${null==t?void 0:t.desc}`}}}return!1}async function b(e){let{mixId:t,totalEpisode:n,currentEpisode:a,count:i}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=Math.max(Math.min(a-1,n-i),0),{statusCode:l,data:c,hasMore:u,cursor:s,logPb:d}=await w({mixId:t,cursor:r,count:i},o);return{mixId:t,statusCode:l,data:c,currentEpisode:a,hasMore:u,cursor:0===l?s:r,logPb:d}}function x(e){let{mix_info:t,status_code:n,log_pb:a}=e;return{mixInfo:(0,u.BH)(t),statusCode:n,logPb:a}}async function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{mixId:n}=e,o=await (0,s.U2)("/aweme/v1/web/mix/detail/",(0,i._)((0,a._)({},d),{mix_id:n,req_from:f}),{},void 0,t,{});return(0,u.RL)(o,x)}async function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{mixId:n,action:o}=e,r=await (0,s.U2)("/aweme/v1/web/mix/collect/",(0,i._)((0,a._)({},d),{mix_id:n,action:o}),{},void 0,t,{});return(0,u.RL)(r,_)}async function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{mixId:n,episode:o,awemeId:r,scene:l}=e,c=await (0,s.U2)("/aweme/v1/web/mix/watch/record/",(0,i._)((0,a._)({},d),{mix_id:n,episode:o,item_id:r,scene:l}),{},void 0,t,{});return(0,u.RL)(c,v)}async function R(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{albumId:n,cursor:o,count:r=12,pullType:l=2}=e,c=await (0,s.U2)("/aweme/v1/web/minor/album/items/",(0,i._)((0,a._)({},d),{album_id:n,count:r,pull_type:l,cursor:o}),{},void 0,t,{});return(0,u.RL)(c,g)}},405039:function(e,t,n){n.d(t,{T:function(){return u},a:function(){return c}});var a=n(520739),i=n(878389);n(675373);var o=n(496349),r=n(231755);let{COMMON_SEARCH_PARAMS:l}=o||{},c=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return await (0,r.v_)("/aweme/v1/web/familiar/recommend/submit",(0,i._)((0,a._)({},l),{app_name:"douyin_web",device_platform:""}),{type:2,item_id:e,source:0,is_friend_recommend:t},{})},u=async e=>await (0,r.v_)("/aweme/v1/web/familiar/recommend/cancel",(0,i._)((0,a._)({},l),{app_name:"douyin_web",device_platform:""}),{type:2,item_id:e,source:0},{})},577094:function(e,t,n){n.d(t,{F8:function(){return f},Ts:function(){return g},Ws:function(){return d},d0:function(){return h},hl:function(){return _}});var a=n(520739),i=n(878389);n(268917),n(779788),n(675373);var o=n(496349),r=n(231755),l=n(349135);n(658016);var c=n(105600);let{COMMON_SEARCH_PARAMS:u}=o;function s(e){let{status_code:t,link_data:n=[],show_pos:a=0}=e;return{statusCode:t,data:n.map(e=>{let{link_type:t=0,count:n=0,link_list:a=[]}=e;return{type:t,count:n,links:a}}),showPos:null!=a?a:0}}async function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=await (0,r.U2)("/aweme/v1/web/seo/inner/link/",(0,i._)((0,a._)({},u),{entity_id:t,entity_type:n}),{},void 0,e,{});return(0,l.RL)(o,s)}async function f(){let{count:e=2}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return arguments.length>1&&void 0!==arguments[1]&&arguments[1],{statusCode:-1,data:[]}}function m(e){var t;let{status_code:n,status_msg:a,data:i,log_pb:o}=e;return{statusCode:n,statusMsg:a,data:null==i?void 0:i.map(e=>({targetId:e.target_id,hitStatus:e.hit_status})),logPb:null!==(t=null==o?void 0:o.impr_id)&&void 0!==t?t:""}}async function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=await (0,r.U2)("/aweme/v1/web/seo/judge/whitelist/",(0,i._)((0,a._)({},u),{target_ids:e}),{},void 0,t,{});return(0,l.RL)(n,m)}async function h(e){let{awemeId:t,url:n}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=await (0,r.U2)("/aweme/v1/web/seo/keyword/related/",(0,i._)((0,a._)({},u),{itemIds:t,url:n}),{},void 0,o,{});return(0,l.RL)(c,e=>(0,l.Fo)(e,t))}async function _(e){let{awemeId:t="",secUid:n="",entityType:o=c.EntityType.Video,cusotmConfig:s={},entityId:d=""}=e,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,m=await (0,r.U2)("/aweme/v1/web/seo/detail/links/",(0,i._)((0,a._)({},u),{aweme_id:t,entity_type:o,sec_uid:n,entity_id:d}),{},void 0,f,{});return(0,l.RL)(m,e=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{links_list:n,status_code:a,log_pb:i}=e,o=[];return(n||[]).forEach(e=>{o.push({moduleSource:e.module_source,moduleTitle:e.module_title,isShowUserUrl:e.is_show_user_url,list:(0,l.TN)({awemeList:null==e?void 0:e.aweme_list,logPb:i,config:t}),linkList:(0,l.uJ)({linkList:null==e?void 0:e.link_list})})}),{statusCode:0===a?0:-1,detail:o,logPb:i&&JSON.stringify(i)}})(e,s))}},366334:function(e,t,n){n.d(t,{A4:function(){return C},DS:function(){return N},Id:function(){return b},NN:function(){return f},Rh:function(){return h},XL:function(){return p},bV:function(){return R},fd:function(){return v},v6:function(){return m}});var a=n(520739),i=n(878389);n(779788),n(675373);var o=n(496349),r=n(493523),l=n(349135),c=n(231755),u=n(237156);let{COMMON_SEARCH_PARAMS:s}=o||{};function d(e){let{aweme_list:t=[],status_code:n,log_pb:a,position:i,is_force_insert:o=!1}=e;return{statusCode:n,position:i,isForceInsert:o,hasMore:!0,awemeList:(0,l.TN)({awemeList:t||[],logPb:a&&JSON.stringify(a)}),logPb:a&&JSON.stringify(a)}}async function f(){let{tagId:e="",count:t=10,refreshIndex:n=1,globalwid:o="",pullType:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,f=await (0,c.U2)("/aweme/v1/web/tab/feed/",(0,i._)((0,a._)({},s),{tag_id:e,count:t,refresh_index:n,video_type_select:1,globalwid:o,pull_type:r}),{errorTags:{tagId:e}},void 0,u,{});return(0,l.RL)(f,d)}async function m(e){let{count:t=10,refreshIndex:n=1,scene:o="recommend"}=e||{},r=await (0,c.v_)("/aweme/v2/web/tab_listen/feed/",(0,i._)((0,a._)({},s),{count:t,pull_type:2,refresh_index:n,web_listen_feed_scene:o}),{},void 0,null);return(0,l.RL)(r,d)}function g(e){let{status_code:t,log_pb:n,ch_info:a}=e;return{statusCode:t,info:(0,l.P$)(a),logPb:n&&JSON.stringify(n)}}async function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{chId:n,queryType:o=0}=e,r=await (0,c.U2)("/aweme/v1/web/challenge/detail/",(0,i._)((0,a._)({},s),{ch_id:n,query_type:o}),{},void 0,t,{});return(0,l.RL)(r,g)}function _(e){let{aweme_list:t=[],status_code:n,log_pb:a,has_more:i,cursor:o}=e;return{statusCode:n,awemeList:(0,l.TN)({awemeList:t||[],logPb:a&&JSON.stringify(a)}),logPb:a&&JSON.stringify(a),hasMore:i,cursor:o}}async function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{chId:n,hashtagName:o,queryType:r=0,sortType:d=u.H.Comprehensive,count:f,cursor:m,isCommerce:g=!1}=e,h=await (0,c.U2)(g?"/aweme/v1/web/commerce/challenge/aweme/":"/aweme/v1/web/challenge/aweme/",(0,i._)((0,a._)({},s),{ch_id:n,hashtag_name:o,query_type:r,sort_type:g?0:d,offset:m,cursor:m,count:f}),{},void 0,t,{});return(0,l.RL)(h,_)}function w(e){let{music_info:t,status_code:n,log_pb:a}=e;return{statusCode:n,musicInfo:(0,l.o0)(t),logPb:a&&JSON.stringify(a)}}function y(e){let{music_info:t,status_code:n,log_pb:a,msg:i,res_list:o,extra:r}=e,l="";try{l=JSON.stringify(a)}catch(e){}return{musicInfo:t,statusCode:n,logPb:l,msg:i,resList:o,extra:r}}async function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{musicId:n,scene:o=1}=e,r=await (0,c.U2)("/aweme/v1/web/music/detail/",(0,i._)((0,a._)({},s),{music_id:n,scene:o}),{},void 0,t,{});return(0,l.RL)(r,w)}async function b(e){let{musicId:t,action:n}=e,i=await (0,c.v_)("/aweme/v1/web/music/collect/",(0,a._)({},s),{music_id:t,type:n,action:n},void 0,null);return(0,l.RL)(i,y)}function x(e){let{aweme_list:t=[],status_code:n,log_pb:a,has_more:i,cursor:o}=e;return{statusCode:n,awemeList:(0,l.TN)({awemeList:t||[],logPb:a&&JSON.stringify(a)}),logPb:a&&JSON.stringify(a),hasMore:i,cursor:o}}async function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{musicId:n,count:o=10,cursor:r}=e,u=await (0,c.U2)("/aweme/v1/web/music/aweme/",(0,i._)((0,a._)({},s),{count:o,cursor:r,music_id:n}),{},void 0,t,{});return(0,l.RL)(u,x)}function S(e){let{extra:t,cursor:n,status_code:a,has_more:i,challenge_list:o=[],qs:r,is_match:c,keyword_disabled:u}=e;return{statusCode:a,hasMore:i,challengeList:(null==o?void 0:o.map(e=>(0,l.P$)(null==e?void 0:e.challenge_info)))||[],qs:r,isMatch:c,cursor:n,keywordDisabled:u,extra:{now:null==t?void 0:t.now,logid:null==t?void 0:t.logid}}}async function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{keyword:n,count:o=10,cursor:r}=e,u=await (0,c.U2)("/aweme/v1/web/challenge/search/",(0,i._)((0,a._)({},s),{count:o,cursor:r,keyword:n}),{},void 0,t,{});return(0,l.RL)(u,S)}async function R(){let{scene:e=r.t.PcOftenWatch,ids:t=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(arguments.length>1&&void 0!==arguments[1]&&arguments[1],0===t.filter(e=>e).length)return;let n=await (0,c.v_)("/aweme/v1/web/write/impression/",(0,a._)({},s),{scene:e,ids:t.join(" ")});return(0,l.RL)(n,d)}},611243:function(e,t,n){n.d(t,{y:function(){return s}});var a=n(88648),i=n(309931);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,o=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&a.firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".wallet_recharge{line-height:0;position:relative}.wallet_recharge .wallet_recharge_loading_box{align-items:center;background-color:#f9f9fa;border-radius:16px;box-shadow:0 0 24px 0 rgba(0,0,0,.1);display:flex;flex-flow:row nowrap;height:226px;justify-content:center;left:0;position:absolute;top:0;width:516px;z-index:100}.wallet_recharge .wallet_recharge_loading_box.hide{display:none}.wallet_recharge .wallet_recharge_loading_box .wallet_recharge_loading{-webkit-animation:wallet_recharge_loading 1s steps(60,start) infinite;animation:wallet_recharge_loading 1s steps(60,start) infinite;background-image:url(https://p3-liveact.byteimg.com/tos-cn-i-lkdc6loazq/liveact/v2/image/act/liveact-common-material/f0ac0799ca2a4dc0b247cfb75148ea7b~tplv-lkdc6loazq-png.png);background-size:48px;box-sizing:border-box;display:inline-block;font-size:0;height:48px;transform:scale(.7);width:48px}.wallet_recharge .webcast_recharge_iframe{border-radius:16px;box-shadow:0 0 24px 0 rgba(0,0,0,.1);opacity:0;position:relative;z-index:200}.wallet_recharge .webcast_recharge_iframe.webcast_recharge_iframe_loaded{opacity:1}.wallet_recharge.wallet_recharge_fullscreen{height:100vh;left:0;position:fixed;top:0;width:100vw;z-index:9999}.wallet_recharge.wallet_recharge_fullscreen .wallet_recharge_loading_box{left:50%;margin-left:-258px;margin-top:-113px;top:50%}.wallet_recharge.wallet_recharge_dark .wallet_recharge_loading_box{background-color:#252632;box-shadow:0 0 24px 0 rgba(0,0,0,.4)}.wallet_recharge.wallet_recharge_dark .webcast_recharge_iframe{box-shadow:0 0 24px 0 rgba(0,0,0,.4)}@-webkit-keyframes wallet_recharge_loading{to{background-position-y:-2880px}}@keyframes wallet_recharge_loading{to{background-position-y:-2880px}}");var c=function(e){var t,n,i,l=e.appId,c=e.onCombosItemClick,u=e.onSuccess,s=e.onShow,d=e.onClose,f=e.type,m=e.balance,g=e.amount,h=e.extra,_=e.isFullScreen,v=e.scene,w=e.additionalLogParams,y=e.requestPublicParams,p=e.onCloseButtonClick,b=e.theme,x=e.autoNext,N=e.autoNextHtml,S=e.onAutoNextChange,C=e.selectDefaultCombo,R=e.showOfficialEntrance,L=e.showRechargeResult,k=r((0,a.useState)(!1),2),I=k[0],E=k[1],O=r((0,a.useState)({width:516,height:226}),2),P=O[0],T=O[1],j=(0,a.useRef)((new Date).getTime()),U=(0,a.useRef)(!1);return(0,a.useEffect)(function(){var e=function(e){var t,n,a,i,o,r,l=e||window.event||{};switch(null===(t=null==l?void 0:l.data)||void 0===t?void 0:t.command){case"close":null==p||p();break;case"success":U.current=!0,null==u||u(null===(n=l.data)||void 0===n?void 0:n.payload);break;case"combos-item-click":null==c||c(null===(a=null==l?void 0:l.data)||void 0===a?void 0:a.payload);break;case"resize":_||T(null===(i=l.data)||void 0===i?void 0:i.payload);break;case"auto-next-change":null==S||S(null===(r=null===(o=l.data)||void 0===o?void 0:o.payload)||void 0===r?void 0:r.checked)}};return null==s||s(),window.addEventListener("message",e),function(){window.removeEventListener("message",e)}},[]),(0,a.useEffect)(function(){return function(){var e=(new Date).getTime()-j.current;null==d||d({duration:e,isSuccess:U.current})}},[]),a.createElement("div",{className:"\n        wallet_recharge\n        ".concat(_?"wallet_recharge_fullscreen":"","\n        ").concat(b?"wallet_recharge_".concat(b):"wallet_recharge_light","\n      ")},a.createElement("div",{className:"wallet_recharge_loading_box ".concat(I?"hide":"show")},a.createElement("div",{className:"wallet_recharge_loading"})),a.createElement("iframe",{className:"webcast_recharge_iframe ".concat(I?"webcast_recharge_iframe_loaded":""),marginWidth:0,marginHeight:0,frameBorder:"0",width:_?"100%":P.width,height:_?"100%":P.height,src:(t="/falcon/webcast_douyin/page/live_recharge_v2/index.html",n=Object.assign({app_id:void 0===l?1128:l,type:f,balance:m,amount:g,isFullScreen:_,scene:v,additionalLogParams:w,theme:b,autoNext:x,autoNextHtml:N,selectDefaultCombo:C,showOfficialEntrance:R,requestPublicParams:y,showRechargeResult:L},void 0===h?{}:h),i=[],Object.keys(n).forEach(function(e){var t=n[e];void 0!==t&&("object"===o(t)&&(t=JSON.stringify(t)),i.push("".concat(e,"=").concat(encodeURIComponent(t))))}),-1===t.search(/\?/)?t+="?".concat(i.join("&")):t+="&".concat(i.join("&")),t),onLoad:function(){E(!0)}}))},u=[],s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.el,n=void 0===t?"wallet_recharge_container":t,o={showRecharge:function(){},hideRecharge:function(){},updateRecharge:function(){},hideOtherRecharge:function(){}},r=function(){var t=e.container;return"string"==typeof t?document.getElementsByClassName(t)[0]||document.body:"function"==typeof t?t()||document.body:t||document.body},l=function(e){var t=e.getElementsByClassName(n)[0];return t||((t=document.createElement("div")).className=n,e.appendChild(t)),t},s=function(e){u.find(function(t){return t.mountNode&&t.mountNode===e.mountNode})||u.push(e)},d=function(e){var t=u.findIndex(function(t){return t.mountNode&&t.mountNode===e});t>=0&&u.splice(t,1)},f=function(e){var t=l(e||r());d(t),t&&(i.unmountComponentAtNode(t),t.remove())};return o={showRecharge:function(e){var t=e.appId,n=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)0>t.indexOf(a[i])&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n}(e,["appId"]),u=r(),d=l(u),m=u===document.body;o.mountNode=d,s(o),i.render(a.createElement(c,Object.assign({appId:void 0===t?1128:t,isFullScreen:m,onCloseButtonClick:function(){f(u)}},n)),d)},updateRecharge:function(e){var t,n=r(),a=null==n?void 0:n.querySelectorAll("iframe.webcast_recharge_iframe")[0];a&&(null===(t=a.contentWindow)||void 0===t||t.postMessage({command:"update-props",payload:e},"*"))},hideRecharge:f,hideOtherRecharge:function(){u.forEach(function(e){e.hideRecharge!==f&&e.hideRecharge()})}}}}}]);